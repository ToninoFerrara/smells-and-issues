repository,state,title,label,body
geometer/FBReaderJ,open,Update cs.xml,[],
geometer/FBReaderJ,open,"""Add catalog"" functionality treats server port specification in URLs as part of domain name",[],"I'm not sure if this is the correct place to report this issue, so if not please direct me to the correct place. Hopefully this will reach the FBReader devs.

Adding a custom OPDS catalog manually via the ""Network library -> Add catalog"" interface will fail with error ""Failed to resolve host"" when the server publishing the OPDS catalog does not use the default port for the protocol.

For example, an OPDS catalog accessible at `http://example.com:8080/opds` cannot be added to FBReader because the `:8080` seems to be treated as part of the domain name. Of course, a domain name `example.com:8080` does not exist in DNS, because the `:` separates the domain name from the port number and `8080` is the port number on which the server is listening for incoming requests.

The behavior I expected is that the URL string entered by the user be parsed with port numbers correctly.

Thanks for a wonderful project."
geometer/FBReaderJ,open,Dictionary functions broken,[],"FBReader version: 2.8.12
Android version: 8.0.0

Upon installing FBReader on a new device, several of the dictionary functions no longer seem to work:

- With the translator set to *Dictan*, I'm prompted to install Dictan, and I'm sent to an ""Item not found."" page in the Play Store. I can't seem to find Dictan in the store manually, either.

- With *Google Translate*, the selected word appears in the in-app pop-up by itself with no definition.

- With *Yandex Translate*, I get the same behavior as with Google Translate."
geometer/FBReaderJ,open,yotaphone 2 eink support not working (on lolipop?),[],"Hi

I have a yotaphone 2 with eink display.
I have a menu entry : ""go to back screen"" (I have a french unit)
When I click on it, it says that I have to turn the device to read the book in the back screen.
But it does nothing when I turn the device.
Backscreen remains unchanged.

If I could help debugging this major feature for yotaphone users, it would be nice, but I would need some help. I can try to compile the software if needed.

Thanks!"
geometer/FBReaderJ,open,Feature Request: Exporting bookmarks from an ebook.,[],"Hi,
would it be feasible to implement exporting bookmarks (saved within an ebook) from the ebook?

Thank you,
haw

---
(preserving formats (of whatever) is not needed, I'd say)"
geometer/FBReaderJ,closed,[Feature Request] filter library by complete/incomplete (read/unread),[],This issue should be closed. It is an implemented feature.
geometer/FBReaderJ,open,paragraphs counter ,[],can anyone explain to me how this library counts the paragraphs number ?! and on what HTML tags it depends ?! 
geometer/FBReaderJ,open,"New feature: ability to disable ""upgrade to premium"" prompts outside of Play Store",[],"As a longtime FBReader user who depends on FDroid for my free software applications, I would love the ability to disable the new prompts suggesting that I buy a version from the play store. I would gladly pay for some keycode to enter to turn that prompt off, even if that is the only one of the premium edition's features I can get without using Google's App store."
geometer/FBReaderJ,open,epub book has some same page number,[],"when reading epub book, the app would display some same page，
how to fix this issue? 

Thanks!"
geometer/FBReaderJ,open,android studio version,[],Hi，do you have the version for android studio?
geometer/FBReaderJ,open,Sorted library by authors list,[],"In it's current unsorted state the listing of  authors in FBreader's local library is pretty useless, as finding something in it is near to impossible. I think it has to be made to use alphabetical sorting, just as used in the title listing."
geometer/FBReaderJ,open,Oreo icon shape,[],"Please add support for icon shape
https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive.html
https://material.io/guidelines/style/icons.html"
geometer/FBReaderJ,open,Can't see cover image in EPUB,[],"I have an EPUB2 (attached) that shows the covers properly in Calibre but the FBReader won't show the image either in the library/shelf view or the details page. I've tried it with and without the extra metadata. I've also tried resizing the image to 50%, using SVG instead of an `<img/>` tag. I can't seem to figure out why the cover refuses to show.

[dmoonfire-100-00-sand-and-blood-3.1.0.epub.zip](https://github.com/geometer/FBReaderJ/files/1920413/dmoonfire-100-00-sand-and-blood-3.1.0.epub.zip)

I downloaded the book via Calibre's OPDS server, which shows the thumbnail properly in the network library view.
"
geometer/FBReaderJ,closed,Updated ta (Tamil) translation,[],"I have translated your application into `ta` (*Tamil*). Here is the xml:
```xml

```

---

*Translation made with [Stringlate](https://github.com/LonamiWebs/Stringlate).*"
geometer/FBReaderJ,open,how to change font in FBReaderJ,[],how to change font in FBReaderJ? thanks
geometer/FBReaderJ,open,Export/import settings,[],"Since keeping the database and actual files in sync is hard/broken, exporting and importing the global settings would provide a work around to the problem (export settings, drop all app data, restart, import settings). 

For bonus points, allow saving bookmarks, read positions, history/recent, etc.. (This is is not very important to me personally but I suspect others would like it.)"
geometer/FBReaderJ,open,"RTL (arabic, herbew) support",[],"Hello!

Here is RTL support patch:

   * https://gitlab.com/axet/android-fbreader-library/commit/d214c383a25cc4a80270e214afe388f9a0d88678"
geometer/FBReaderJ,open,`<hr>` with CSS visibility:hidden + padding should show up as paragraph break but in FBReader it doesn't,[],"I tried to introduce a paragraph break (empty blank line between two paragraphs with the following approach):

```html
<p>Some text</p>
<hr class=""paragraph_break""/>
<p>Following text</p>
```
```css
.paragraph_break {visibility: hidden; height:0px;border-style:none;display:block;padding-bottom:0.5em;padding-top:0.5em;}
```
This works in all readers I have tested (Calibre, Kindle Previewer 3, Microsoft Edge built-in EPUB reader) just fine... but not in FBReader for Android. There, the `<hr>` just disappears without any indication anything is there, not even a hint of additional vertical blank space.

This seems like a major bug to me, because semantically, clearly there should be a visible separator there, and `visibility:hidden` is pretty well-defined (and it's *not* the same as `display:none`)."
geometer/FBReaderJ,open,`<p>&#160;</p>` should be retained as a blank line,[],"`<p>&#160;</p>` should be retained as a blank line. Here is a more in-depth explanation why: http://teleread.com/how-epubs-readers-disagree-when-non-breaking-spaces-break-standards/

Right now, FBReader on android doesn't seem to do this, making affected EPUB files which use this as scene breaks unreadable.

Edit: changed from `&nbsp;` to `&#160;` for XHTML conform variant"
geometer/FBReaderJ,open,android: open link directly in browser,[],"Version: 2.5.9-ics (2050920)
Android: 7.1.2

My Android has a firewall and I disabled network access for FBreader. When clicking on a link in an EPUB, I get an error-popup ""Failed to connect to host: data.fbreader.org"". I would instead expect FBreader to hand the link-URL to the system browser app.

1. What is this data.fbreader.org thing? A simple websearch doesn't help me.
2. How can I get FBreader to open links directly in the Android browser?

Thanks, and keep up the good work!"
geometer/FBReaderJ,open,Support Quickdic OS Dictionary app,[],"Please add support for [QuickDic dictionary app](https://github.com/rdoeffinger/Dictionary):
![](https://i.imgur.com/ayC6IvA.png)

Is there no way to select app to use as dictionary?
As currently you are limited to 6 apps only"
geometer/FBReaderJ,closed,Google drive direct links support,[],"Hello!

Google Drive share no full files names when URL opened with android apps. As result, FBReader (compiled with opensource modules only from F-Droid store) does not see .fb2  google drive urls. Can you please add additional Intent filter to cover it up?

Also if you open fb2 books using Chrome browser, sometime it is only ""Share"" button available. Can you also add support for 'android.intent.action.SEND' intents?

```xml
			<intent-filter>
				<action android:name=""android.intent.action.VIEW""/>
				<category android:name=""android.intent.category.DEFAULT""/>
				<category android:name=""android.intent.category.BROWSABLE""/>
				<data android:host=""drive.google.com"" android:mimeType=""*/*"" android:scheme=""http""/>
			</intent-filter>
``` 

I start digging around source code and adopt your code to make it gradle compatilble. Just moving directories around, no source changes, and few new build.gradle files. You can find it here:

   * https://gitlab.com/axet/android-fbreader

You can see simple script help to convert fbreader to gradle based:

  * https://gitlab.com/axet/android-fbreader/blob/master/update.sh
  
EDIT: Seems like FBReader does not support context:// urls and it easier to write new app based on FBView then changing original code. Closing..."
geometer/FBReaderJ,open,How to deal with online book switching?,[],"hello,I integrated fbreader in my project, and now I have a problem: my books come from the network, and each chapter is requested from the server and saved to memory card. I'm now opening each chapter as a book using the openBookInternal() method. But when the last chapter was switched to the next chapter, the page animation disappeared, how should I deal with it, or what better way to deal with my needs? Thank you！"
geometer/FBReaderJ,open,Feature Request: Voice Activated Page Turning,[],"Could you implement page turning by voice command?

Here are some sample voice commands:
Page Forward
Page Back
Go To Page 123

Sometimes I don't want to go to the effort to touch the screen ... I'd like to tell it to just turn the page :-)  Sometimes my hands are under a warm blanket and my device is set up on my knees.  


"
geometer/FBReaderJ,open,How to open book from inputstream,[],I build fbreader and add custom encryption of books and when the book decrypts it return Inputstream is there any way that I can read from Inputstream
geometer/FBReaderJ,closed,empty-line tag is not displayed properly,[],"```
<?xml version=""1.0"" encoding=""UTF-8""?>
<FictionBook xmlns=""http://www.gribuser.ru/xml/fictionbook/2.0"" xmlns:l=""http://www.w3.org/1999/xlink"">
<body>
    <title><p>title</p></title>
    <section><p>abc<empty-line />def</p></section>
</body>
</FictionBook>
```

FBReader on Android displays ""abc"" only, Linux version does not display anything but title. Cool Reader displays document correctly."
geometer/FBReaderJ,closed,Tag latest versions,[],"Please mark the latest versions with GIT tags, as the last tag I see is 2.6beta*
Thanks in advance."
geometer/FBReaderJ,open,FBReader DIV elements ignoring top-margin & bottom-margin CSS on Kindle Fire,[],"Second Generation Kindle Fire (2012), System Version: 10.5.1
FBReader 2.8.2 (2080231)

Using latest apk at https://fbreader.org/files/android/FBReaderJ_ice-cream-sandwich.apk

```css

.extractletter {
    display: block;
    margin-bottom: 1em;
    margin-top: 1em
    }
```
```html
<p>para above</p>
<div class=""extractletter"">
<p class=""extractlettersalutation""><span class=""italic"">Hi,</span></p>
<p class=""extractlettertext""><span class=""italic"">This example letter should
have blank space above and below it when viewed on a Kindle Fire but it
does not.</span></p>
<p class=""extractlettersignature""><span class=""italic"">Issue Reporter</span></p>
</div>
<p>para below</p>
```
As described in the letter extract, this displays without 1em whitespace above and below the sample letter."
geometer/FBReaderJ,open,Feature Request: Save passwords for HTTP Basic Auth protected ODPS libraries,[],"There is an ODPS network library I use which has HTTP Basic Auth. When I can connect, I have to enter my password every time. Could you add an option to save the password? Putting the username and password in the url also does not work."
geometer/FBReaderJ,open,support chinese language html Tag id?,[],"like this in html
......<img src=""images/001中文.jpg"" alt=""""/>......"
geometer/FBReaderJ,open,Feature request: Add Series to Favorites,[],"A lot of what I read in FBReader is part of one series or another.  It would be nice to add a series to Favorites.  The entry in Favorites would open the list of titles with that Series tag, and I could select the specific book from the series I wanted to read."
geometer/FBReaderJ,closed,Add Bookmark failed.,[],"I open a book like this:
`FBReader.openBookActivity(getActivity(),fbBook,null);`
But when I long press and press add bookmark,it failed with no error,and the text did not highlight and no bookmark added.
Did I used the wrong method to open the book or something else
`Book fbBook = new Book(id,localpath,bookName,null,null);
Intent intent = new Intent(getActivity().getApplicationContext(), BookInfoActivity.class);
FBReaderIntents.putBookExtra(intent, fbBook);
OrientationUtil.startActivity(getActivity(), intent);`.
This method has tried,the same result."
geometer/FBReaderJ,open,Type directory path rather than navigate to it,[],"In FBReader on Android, for where to seek for Books directory, can it be possible to type in the directory rather than have to navigate to it?

The reason is that I want to be able to access the bookmark files in /data/data/org.geometerplus.zlibrary.ui.android/ and since I do not have root access, FBReader is the only app that can access this directory."
geometer/FBReaderJ,open,FBReader for Android endlessly updating metadata,[],"I have current FBReader for Android Premium installed.  Over the last couple of days, it developed a quirk.  Something triggered the process where it scans the system and updates its own metadata, and the process never seems to complete.  It was running in the background overnight, is still running, and causes problems trying to read the current book because things like page turns don't happen when the program is busy updating metadata.  This behavior has persisted through a new version of FBReader for Android and a reboot of the device.

What causes FBReader to try to update its metadata?  I had previously been doing a Rescan after I added books to the device, but I realized FBReader already saw them.

What might cause FBReader to try to update and not successfully complete?  Is there a way to force it to do that update only when I specifically trigger a Rescan?

(I'm one of those folks with thousands of book on device on an external card, and I suspect I'm running into limits on how large the library can be.)

**>Dennis**"
geometer/FBReaderJ,open,Bundles vulnerable copy of Expat - please update to 2.2.4,[],"Hi!

This repository [bundles an outdated vulnerable copy of Expat 2.0.1](https://github.com/geometer/FBReaderJ/tree/master/jni/expat-2.0.1/lib). Please update your copy to version 2.2.2 with the latest security fixes. A change log with details is available at https://github.com/libexpat/libexpat/blob/master/expat/Changes . Thank you!

Best

&nbsp;
Sebastian"
geometer/FBReaderJ,open,How to run FBReaderJ on Android Studio Last Version (2.3.3) ,[],"Hi, I want to build FBReaderJ project on Android Studio 2.3.3, but I can't.Please tell me any tutorial for solving this problem.Thanks...."
geometer/FBReaderJ,closed,merge,[],
geometer/FBReaderJ,open,dictionary save with context,[],"Hi, what i want:
- to have a list of words i've checked in dictionary with context sentences.


Question:
- Can i do that by creating a plugin?
- should i fork fbreader and implement this feature for dictionary lookup?"
geometer/FBReaderJ,closed,HTTPS urls,[],Use HTTPS when possible
geometer/FBReaderJ,closed,Compliance with the new translation (PL),[],"Because in new Polish localisation is used word „Wprowadzenie” (Introduction), record in the help file should be the same."
geometer/FBReaderJ,open,[Android]Books with long titles truncated in library,[],A lot of ebooks will have series and author information appended to the file name or title this results in some books with very large title strings that get truncated on mobile devices such as Android what needs to happen here is that instead of truncating the text the card itself should be expanded to accommodate the extra lines well this may make them a little bit less uniform it will overall increase the readability When selecting books in a series
geometer/FBReaderJ,open,"Return to booklist when pressing ""back"" button",[],"When browsing OPDS catalog and viewing book description «back» buttons returns to catalog root. Please make it possible to return to previous page.
(More information on russian)
При просмотре любого OPDS-каталога если открыть описание книги и затем нажать кнопку «назад» (не важно на экране или аппаратную на телефоне) просмотр возвращается не к тому списку книг, который был открыт, а в самый корень каталога. Очень неудобно выискивать в серии одну единственную книгу. Каждый раз приходится заново проходить путь ""Автор""-""серия""-""книга""."
geometer/FBReaderJ,closed,Portuguese language variations,[],Portuguese language variations for pt (Portugal) and pt_BR (Brazil)
geometer/FBReaderJ,closed,Portuguese language,[],Portugal and Brazil language variations
geometer/FBReaderJ,open,text and digits are not visible,[],"version: 2.7.13
pdf plugin: 1.6.4
android 5.1

text and digits are not visible on quick start pdf file. i have  changed fonts given in settings but there is no change. i have given screenshots links below. you can find the pdf: [quick start](https://www.firebirdsql.org/file/documentation/reference_manuals/user_manuals/Firebird-3-QuickStart.pdf)

the mupdf mini 1.11 has no issues.

fbreader 2.7.13:
![fbreader 2713](https://cloud.githubusercontent.com/assets/22496610/25183597/ab78c424-2535-11e7-8b95-d517dd778631.png)

mini 1.11:
![mini 111](https://cloud.githubusercontent.com/assets/22496610/25183671/e31db72c-2535-11e7-8028-e25f5a6fc27b.png)
"
geometer/FBReaderJ,open,No way to stop an OPDS catalog search and start a new one,[],"... short of closing the application completely.

How to reproduce:
- Search for something in Feedbooks' public domain catalog
- Download the thing you were looking for
- Tap the magnifying glass to try to search for something else
- Nothing happens
- Watch as the spinner mocks you
- Forcibly close the app, start it again, and do the second search"
geometer/FBReaderJ,open,background image,[],"How to add background image? 
Such as:
< body style=""background-image:url(../images/image.jpg)"">< body >"
geometer/FBReaderJ,open,Disble automatic import to sdcard/books folder?,[],"How to disable importing books to sdcard/Books?

Recent releases automatically import to mentioned location.
I do not want duplicates, nor to have to delete files twice.
Is there a way to disable it, as now it takes up space and redundant.
In menu it only has 'Where to store downloaded books"", and after downloading pdf and opening it, the file gets copied to this directory. And no way if **disabling**
"
geometer/FBReaderJ,closed,"OPDS: COPS based ""hostname in certificate didn't match""",[],"I have a COPS server running on a hoster (all-inkl) that provides an easy way to use let's encrypt certificates to protect the site via https.
FBReader fails to access the site with a ""no connection to server"" message.
I tried Moon+ Reader and it is more explicit in its error description saying
""hostname in certificate didn't match"" my OPDS server =! kasserver.com (which is my provider's domain)
The following link suggests that the FBreader app might be using an outdated http library that does not properly support this situation:
https://community.letsencrypt.org/t/android-app-isnt-accepting-certificate/5973/8"
geometer/FBReaderJ,open,Error: Cannot write file from native code,[],"I have error when running app and i see error: 

`Fatal Exception: org.geometerplus.zlibrary.text.model.CachedCharStorageException: Cannot write file from native code to ...`

I used on android 5.1. What's wrong here? How can i fix it? Could you suggest for me? 

Thanks so much!"
geometer/FBReaderJ,open,SNI support,[],"Well, the title says it all: FBReader does not support SNI, leading to problems like that described in #262. Adding SNI support should not be too hard, it should be enough to add the [Netcipher library](https://guardianproject.info/code/netcipher/) and [hook it up](https://gitlab.com/fdroid/fdroidclient/commit/2c88703588a6192cbf3ffd7ccb8d01b65c693ed3). As I currently do not have a working 'old style' Android development environment handy (only Android Studio) I can not just hack it in and submit a pull request.If I find some time I might end up doing just that if nobody beats me to the finish line (feel free, by all means!)"
geometer/FBReaderJ,open,reverse portrait is not working,[],"fbreader 2.7.9
ls-4001/lyf
android 5.1 w/out google play services

enabling system or auto rotate in screen orientation settings is not working for reverse portrait of epub file.

i have tested several files. i am able to view epub file in reverse portrait only after enabling in screen orientation settings.

is this default behaviour ?
i have tried cool reader on f-droid, it works fine for any epub file."
geometer/FBReaderJ,open,page turning not working properly,[],"fbreader 2.8 beta 1 (2075132)
ls-4001/lyf
android 5.1 w/out google play services

i have configured page turning: scroll pages vertically.
book format: PDF

single tap does not work.

it works, if i enable:
book option: zoom mode: fixed zoom: fit page / fit width

i expect to work seamlessly with least interference of settings, in simple words: must work properly with default settings.

you can find the book at [x].

[x] http://self.gutenberg.org/eBooks/WPLBN0001235287-Mindgames-by-Sam-Vaknin-Ph-D-.aspx?
"
geometer/FBReaderJ,open,Native libraries are not up-to-date. Please run ndk-build manually.,[],"D:\Work\Android\Core\GitHub\FBReaderJ>ant debug
Unable to locate tools.jar. Expected to find it in C:\Program Files\Java\jre1.8.0_101\lib\tools.jar
Buildfile: D:\Work\Android\Core\GitHub\FBReaderJ\build.xml

-set-mode-check:

-set-debug-files:

-check-env:
 [checkenv] Android SDK Tools Revision 25.2.3
 [checkenv] Installed at D:\Work\Android\sdk

-setup:
     [echo] Project Name: FBReaderJ
  [gettype] Project Type: Application

-set-debug-mode:

-debug-obfuscation-check:

init:

native:

BUILD FAILED
D:\Work\Android\Core\GitHub\FBReaderJ\build.xml:24: Native libraries are not up-to-date. Please run ndk-build manually.

Total time: 0 seconds"
geometer/FBReaderJ,open,"feature request, book information copy to clipboard",[],"hi, in the view book information (what you get befor you to read it or if you hit its title in reading view) are all in formation that other people's need to see to identity the publication.  but the share button in its menu would only share the complete file of that publication which is not what i need and maybe even illegal. So what i do have to do if i dont want to type out all that information, which is on android only also impossible du to the lack of real multitasking, i have to screenshot them and send out this to those people. 

so i would be glad of the possibility to copy those information to the clipboard or sharing them as text, like if you want to quote them, but it isn't even able to select them.

thanks in advance"
geometer/FBReaderJ,open,older version request,[],"Hi,

The project has been used as part of an experiment previously for an IEEE paper. We are currently trying to recreate the experiment but would require the older versions 1.1.2a and 1.1.2b.  Is there any possibility to get access to this ? Any help would be much appreciated."
geometer/FBReaderJ,open,Inconsistent alignment and bolding of <figcaption>,[],"I was wondering why my images were displaying differently from each other on FBReader on Android, so I checked the source XHTML of my epub file to see if the source code was inconsistent or the FBReader display of the source was inconsistent.  It appears the rendering is inconsistent.   The different treatments I see include:

 1. showing the caption to the right of the image in bold
 2. showing the caption to the left of the image in bold
 3. showing the caption below the image, in regular text, left aligned it seems
 4. showing the caption below the image, in smaller bolder text, centered

The third one seems correct. The others do not.

Here's the CSS affecting the images from `stylesheet.css`:

```css
figure.image {
  width: 100%;
  text-align: center;
}

figure.image img {
  display: inline-block;
}

figure.image figcaption {
  text-align: center;
  margin: 0em !important;
  padding: 0em !important;
  text-indent: 0em !important;
  page-break-before: avoid;
}
```

And here's 3 snippets which get treated differently, corresponding to the cases above:

```xhtml
<figure class=""image center"">
  <img src=""images/rainy-rising-sun.jpg"" alt=""rainy day for a century ride"" />
  <figcaption>rainy day for a century ride</figcaption>
</figure>

<figure class=""image center"">
  <img src=""images/2015-10-17-city-bike-piccolo-smile.jpg"" alt=""."" />
  <figcaption>the previous fall we hadn’t purchased her a touring bike yet and were still using a city bike</figcaption>
</figure>

<figure class=""image center"">
  <img src=""images/2015-10-17-three-family-bikes-and-outhouse.jpg"" alt=""camping spot"" />
  <figcaption>camping spot</figcaption>
</figure>
```

It seems the different aspect ratios of the photos may be triggering different formatting results in FBreader. Square-ish photos are more likely to get the correct caption formatting, while wider are taller photos are more likely to appear with a caption to the right or left instead of below.  

For another comparison, I opened the same `.epub` file on Ubuntu Linux, using both `fbreader` and `calibre` for Ubuntu. `calibre` displayed all the captions correctly (small, centered, bold), while `fbreader` for Ubuntu Linux also showed a variety of inconsistent and mostly wrong caption formats. 

The version of FBReader I tested on Ubuntu was '0.12.10dfsg2-1 '
"
geometer/FBReaderJ,open,online image,[],How do I load an online image in an epub file?
geometer/FBReaderJ,closed,Updated Japanese translation,[],
geometer/FBReaderJ,closed,[Bug] PDF Books fail to open in Premium v2.7.6,[],"Android has just auto-updated me to the latest version of FBReader Premium, and it now has problems opening PDF files.

I'm running a Nvidia Shield and Android 6.0.1. Epub files open fine, but PDF documents give a black screen, and the only way to go back is to swipe down from the top edge.

Here is the output of adb logcat when I try and open a PDF:

```
10-26 21:00:50.985   261   261 D Raydium_ts_main: ## Report rate in 10 seconds =1445 
10-26 21:00:51.062   682   693 I ActivityManager: START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 pkg=com.fbreader cmp=com.fbreader/.android.fbreader.FBReader bnds=[25,433][255,768]} from uid 10096 on display 0
10-26 21:00:51.071   237   674 D NetlinkEvent: Unknown ND option type 31
10-26 21:00:51.077  1088  1088 D ShieldTech_Services: Starting service
10-26 21:00:51.104   682   700 W ContextImpl: Calling a method in the system process without a qualified user: android.app.ContextImpl.bindService:1287 com.nvidia.ControllerMapper.MapperClient$ServiceClient.connect:849 com.nvidia.ControllerMapper.MapperClient.<init>:111 android.view.ViewRootImpl.handleWindowActivated:905 android.view.ViewRootImpl$ViewRootHandler.handleMessage:3620 
10-26 21:00:51.236  5332  5332 I LicenseChecker: Using cached license response
10-26 21:00:51.260  5393  5393 D FBReader.Sync: stopped
10-26 21:00:51.313  1088  1088 D RSMouse : mFeatureEnabled=true  mPackageEnabled=true
10-26 21:00:51.330   682   786 I ActivityManager: START u0 {act=com.fbreader.action.plugin.VIEW flg=0x10000 cmp=com.fbreader/.android.fbreader.formats.FBReaderExt (has extras)} from uid 10111 on display 0
10-26 21:00:51.363   682   700 W ContextImpl: Calling a method in the system process without a qualified user: android.app.ContextImpl.bindService:1287 com.nvidia.ControllerMapper.MapperClient$ServiceClient.connect:849 com.nvidia.ControllerMapper.MapperClient.<init>:111 android.view.ViewRootImpl.handleWindowActivated:905 android.view.ViewRootImpl$ViewRootHandler.handleMessage:3620 
10-26 21:00:51.367  1088  1088 D ShieldTech_Services: Starting service
10-26 21:00:51.575  5422  5422 I LicenseChecker: Using cached license response
10-26 21:00:51.579  5422  5422 E VIEWHOLDER: CREATEcom.fbreader.android.fbreader.formats.FBReaderExt@e9aab98
10-26 21:00:51.584   682  1181 W ActivityManager: Unable to start service Intent { act=com.fbreader.action.sync.STOP pkg=com.fbreader } U=0: not found
10-26 21:00:51.614  1088  1088 D RSMouse : mFeatureEnabled=true  mPackageEnabled=true
10-26 21:00:51.683   682   700 I ActivityManager: Displayed com.fbreader/.android.fbreader.formats.FBReaderExt: +247ms (total +602ms)
10-26 21:00:51.690 25319 25319 D QuickMenuService: IsTopFullScreen: true
10-26 21:00:51.696  1088  1088 D RSMouse : mFeatureEnabled=true  mPackageEnabled=true
10-26 21:00:51.738  5422  5422 W InputMethodManager: InputMethodSession is not set properly for android.widget.ListView{4c7ff59 VFED.VC.. .F....ID 0,128-480,1824 #7f0e0178 app:id/main_drawer_menu}, so force new focus to establish.
10-26 21:00:54.559   237   674 D NetlinkEvent: Unknown ND option type 31
10-26 21:00:57.883   237   674 D NetlinkEvent: Unknown ND option type 31
10-26 21:01:00.949   237   674 D NetlinkEvent: Unknown ND option type 31
10-26 21:01:01.010   261   261 D Raydium_ts_main: ## Report rate in 10 seconds =927 
10-26 21:01:04.383   237   674 D NetlinkEvent: Unknown ND option type 31
```

If I open a epub then try and switch to a PDF then I get this error trace

```
10-26 21:08:53.687   682   786 I ActivityManager: START u0 {act=com.fbreader.action.VIEW flg=0x4000000 pkg=com.fbreader cmp=com.fbreader/.android.fbreader.FBReader (has extras)} from uid 10111 on display 0
10-26 21:08:53.694   682  6894 W ActivityManager: Duplicate finish request for ActivityRecord{9a8a908 u0 com.fbreader/org.fbreader.plugin.library.LibraryActivity t1914 f}
10-26 21:08:53.719  1088  1088 D ShieldTech_Services: Starting service
10-26 21:08:53.732  6778  6778 D FBReader.Sync: stopped
10-26 21:08:53.774  1088  1088 D RSMouse : mFeatureEnabled=true  mPackageEnabled=true
10-26 21:08:53.797   237   674 D NetlinkEvent: Unknown ND option type 31
10-26 21:08:53.866  6306  6306 D QuickMenuService: IsTopFullScreen: true
10-26 21:08:53.888  6716  6843 I System  : Loaded time zone names for ""en"" in 80ms (79ms in ICU)
10-26 21:08:53.901   682  1155 I ActivityManager: START u0 {act=com.fbreader.action.plugin.VIEW flg=0x10000 cmp=com.fbreader/.android.fbreader.formats.FBReaderExt (has extras)} from uid 10111 on display 0
10-26 21:08:53.902  6809  6824 D OpenGLRenderer: endAllStagingAnimators on 0xa04a9900 (RippleDrawable) with handle 0x9e0b6310
10-26 21:08:53.939   682  1165 I ActivityManager: Start proc 6848:com.fbreader:formats/u0a111 for activity com.fbreader/.android.fbreader.formats.FBReaderExt
10-26 21:08:53.947   682   700 W ContextImpl: Calling a method in the system process without a qualified user: android.app.ContextImpl.bindService:1287 com.nvidia.ControllerMapper.MapperClient$ServiceClient.connect:849 com.nvidia.ControllerMapper.MapperClient.<init>:111 android.view.ViewRootImpl.handleWindowActivated:905 android.view.ViewRootImpl$ViewRootHandler.handleMessage:3620 
10-26 21:08:53.949  1088  1088 D ShieldTech_Services: Starting service
10-26 21:08:53.998  6306  6306 D QuickMenuService: IsTopFullScreen: false
10-26 21:08:54.138  6848  6848 W art     : Before Android 4.1, method android.graphics.PorterDuffColorFilter android.support.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable
10-26 21:08:54.251  6848  6848 I LicenseChecker: Using cached license response
10-26 21:08:54.263  6848  6848 E VIEWHOLDER: CREATEcom.fbreader.android.fbreader.formats.FBReaderExt@4570531
10-26 21:08:54.287  6848  6868 D OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true
10-26 21:08:54.332   682  6052 W ActivityManager: Unable to start service Intent { act=com.fbreader.action.sync.STOP pkg=com.fbreader } U=0: not found
10-26 21:08:54.352  1088  1088 D RSMouse : mFeatureEnabled=true  mPackageEnabled=true
10-26 21:08:54.366  6848  6870 E linker  : readlink('/proc/self/fd/22') failed: Permission denied [fd=22]
10-26 21:08:54.366  6848  6870 E linker  : warning: unable to get realpath for the library ""/data/app/com.fbreader-2/lib/arm/librdpdf.so"". Will use given name.
10-26 21:08:54.394  6848  6870 W System.err: native plugin: NativeFormatPlugin [fb2]
10-26 21:08:54.394  6848  6870 W System.err: native plugin: NativeFormatPlugin [HTML]
10-26 21:08:54.394  6848  6870 W System.err: native plugin: NativeFormatPlugin [txt]
10-26 21:08:54.394  6848  6870 W System.err: native plugin: NativeFormatPlugin [mobi]
10-26 21:08:54.394  6848  6870 W System.err: native plugin: NativeFormatPlugin [ePub]
10-26 21:08:54.394  6848  6870 W System.err: native plugin: NativeFormatPlugin [RTF]
10-26 21:08:54.394  6848  6870 W System.err: native plugin: NativeFormatPlugin [msdoc]
10-26 21:08:54.467  6848  6868 I OpenGLRenderer: Initialized EGL, version 1.4
10-26 21:08:54.570  1088  1088 D RSMouse : mFeatureEnabled=true  mPackageEnabled=true
10-26 21:08:54.574  6306  6306 D QuickMenuService: IsTopFullScreen: true
10-26 21:08:54.653   682   700 I ActivityManager: Displayed com.fbreader/.android.fbreader.formats.FBReaderExt: +730ms
10-26 21:08:54.692   682  1148 W WindowManager: Force-removing child win Window{329dc8 u0 PopupWindow:b83f939} from container Window{9cdccb2 u0 com.fbreader/org.fbreader.plugin.library.LibraryActivity}
10-26 21:08:54.698  6809  6809 E WindowManager: 
10-26 21:08:54.698  6809  6809 E WindowManager: android.view.WindowLeaked: Activity org.fbreader.plugin.library.LibraryActivity has leaked window android.widget.PopupWindow$PopupDecorView{66537e2 V.E...... ........ 0,0-1080,810} that was originally added here
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.view.ViewRootImpl.<init>(ViewRootImpl.java:392)
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:299)
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:85)
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.widget.PopupWindow.invokePopup(PopupWindow.java:1258)
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.widget.PopupWindow.showAtLocation(PopupWindow.java:1032)
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.widget.PopupWindow.showAtLocation(PopupWindow.java:995)
10-26 21:08:54.698  6809  6809 E WindowManager:     at org.fbreader.plugin.library.p.a(Unknown Source)
10-26 21:08:54.698  6809  6809 E WindowManager:     at org.fbreader.plugin.library.w.a(Unknown Source)
10-26 21:08:54.698  6809  6809 E WindowManager:     at org.fbreader.plugin.library.au.a(Unknown Source)
10-26 21:08:54.698  6809  6809 E WindowManager:     at org.fbreader.plugin.library.aa.onClick(Unknown Source)
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.view.View.performClick(View.java:5198)
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.view.View$PerformClick.run(View.java:21147)
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.os.Handler.handleCallback(Handler.java:742)
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.os.Handler.dispatchMessage(Handler.java:97)
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.os.Looper.loop(Looper.java:148)
10-26 21:08:54.698  6809  6809 E WindowManager:     at android.app.ActivityThread.main(ActivityThread.java:5460)
10-26 21:08:54.698  6809  6809 E WindowManager:     at java.lang.reflect.Method.invoke(Native Method)
10-26 21:08:54.698  6809  6809 E WindowManager:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
10-26 21:08:54.698  6809  6809 E WindowManager:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
10-26 21:08:54.710   682  1126 W WindowManager: Failed looking up window
10-26 21:08:54.710   682  1126 W WindowManager: java.lang.IllegalArgumentException: Requested window android.os.BinderProxy@cce7e6b does not exist
10-26 21:08:54.710   682  1126 W WindowManager:     at com.android.server.wm.WindowManagerService.windowForClientLocked(WindowManagerService.java:8767)
10-26 21:08:54.710   682  1126 W WindowManager:     at com.android.server.wm.WindowManagerService.windowForClientLocked(WindowManagerService.java:8758)
10-26 21:08:54.710   682  1126 W WindowManager:     at com.android.server.wm.WindowManagerService.removeWindow(WindowManagerService.java:2710)
10-26 21:08:54.710   682  1126 W WindowManager:     at com.android.server.wm.Session.remove(Session.java:187)
10-26 21:08:54.710   682  1126 W WindowManager:     at android.view.IWindowSession$Stub.onTransact(IWindowSession.java:242)
10-26 21:08:54.710   682  1126 W WindowManager:     at com.android.server.wm.Session.onTransact(Session.java:130)
10-26 21:08:54.710   682  1126 W WindowManager:     at android.os.Binder.execTransact(Binder.java:453)
```

I've got the android dev. tools available, so I'm happy to try and help debug this.
## System Information

```
# adb shell pm list packages | grep -e geom -e fb
package:com.fbreader
package:org.geometerplus.zlibrary.ui.android
package:org.geometerplus.fbreader.plugin.pdf
```

```
# adb shell getprop ro.build.version.release 
6.0.1
```
"
geometer/FBReaderJ,open,Can you public source of new version?,[],"I referred this resource for my app and I see that new version is great. But It is not public. Can you public this resource?
"
geometer/FBReaderJ,closed,diacritics and additional fixes,[],"diacritics and additional fixes
"
geometer/FBReaderJ,closed,now with diacritics,[],"now with diacritics
"
geometer/FBReaderJ,closed,Not compatable with android 64 bit processor,[],"I have installed app in samsung galaxy note 5(64 bit), and app crashes.
How can i solve this
"
geometer/FBReaderJ,open,Port FBReader to work on ChromeOS,[],"The [App Runtime for Chrome](https://developer.chrome.com/apps/getstarted_arc) allows Android apps to run in ChromeOS. This is already available on many Chromebooks, and some Android apps can already be found in the Chrome Web Store. The Google Play Store is also available on a select number of Chromebooks, with more to be added in the future.

I recently tried to sideload FBReader Premium on my Chromebook (a Lenovo N21). The app works pretty well, although there are a few issues.
- Without touchscreen support, navigation can be a little bit tricky. Better keyboard shortcuts would be useful. E.g.:
  - Regular keyboard navigation works on epubs, but only one line at a time. There doesn't seem to be any way to go a page at time without clicking on the screen.
  - On-screen controls are the only option for comic archives. Up/Down/Left/Right do nothing.
- FBReader Book Network doesn't seem to work properly. A toaster popup appears that says ""INVALID_SCOPE"", and then nothing. I assume this has something to do with Google Play Services. I'm not sure of the specifics, but there are apparently some [additional requirements](https://developer.chrome.com/apps/arc_playservices) to make sure Play Services works properly on apps running on ChromeOS.
"
geometer/FBReaderJ,closed,Portuguese Portugal and Brazil languages,[],"Revised neutral Portuguese
Created pt_BR (Brazil) from previous neutral file
"
geometer/FBReaderJ,closed,Does not save position after force closing FBReader Premium,[],"If I have a book open while I force close the app, it loses the page for that specific book. 
All the other books are unaffected. It did not do this with the free version of FBReader, only the Premium version.

My epubs are located on an external SD card. Running Android KitKat 4.4.2
"
geometer/FBReaderJ,open,epub paragraph style override not working,[],"It's (theoretically) nice and useful feature but not working for me. I've used that service http://ebook.online-convert.com/convert-to-epub to convert online html book from SI (""SamIzdat"") website. That service works great but for some reasons all paragraphs are .. _italic_. 
I tried to override epub paragraph formatting in settings, selected ""normal"" for italic (in the epub-specific paragraph settings) but nothing changed.

I don't have time right now to send you a patch but will be great to have get this issue fixed.

Thank you!
"
geometer/FBReaderJ,open,Additional package name option,[],"For the Android release, could an additional APK be made where the package name is different.
Some less name-brand ereaders include modified old versions of FBReader, but do not change the package name, which prevents installing the latest version since there's a system app signed with a different key.

An alternative package name version would ensure in those cases, users could still install the latest FBReader regardless of what the device manufacturer includes.
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,open,Feature request - for smarts with onscreen buttons,[],"Использую последнюю актуальную версию FBreader Premium с гугломаркета.
У меня смартфон без аппаратных скопок меню/домой/назад. Эти кнопки наэкранные.
В полноэкранном режиме наэкранные кнопки скрываются, но скрыта также строка состояния, что для меня не удобно.
Если же отключить полноэкранный режим, то вместе со строкой состояния остаются и кнопки внизу экрана. Они занимают место и нарушают эстетику)

Запрос: сделайте, пожалуйста, возможность назначать в настройках режим: строка состояния со всеми уведомлениями видна, а наэкранные кнопки ведут себя также как сейчас в полноэкранном режиме (скрыты и появляются, если нажать на центр экрана).
"
geometer/FBReaderJ,open,[Feature Request] Single word selection trimming punctuation.,[],"During selection of a single word sometimes there are words that have a "","" or ""."" directly after them. Those punctuation marks are selected as part of the word, can we exclude these punctuation marks from single word selection.

Why do I think it is useful, Well sometimes translation apps/sites consider those punctuation marks resulting in a strict results other than fair explanation of the word. i.e. Translate app By Google

Below is a screenshot from a novel that I am reading.
![screenshot_2016-09-01-10-07-04](https://cloud.githubusercontent.com/assets/14923445/18160249/d577a1e6-702c-11e6-8865-7d60af609ada.png)
"
geometer/FBReaderJ,open,Revise and unify Settings,[],"At the moment, FBReader settings are scattered in several different areas, and really should be all in the same place.

I have FBReader Premium installed.  To get to Settings to change how FBReader behaves, I must be _in_ an opened book.  I should be able to reach Settings from the main menu.

To configure Bookshelf Settings, I must be in a Library category, like Recently Opened, and if I'm in Classic View, I can't do it at all.  (I prefer to use Classic view because of the time required to display thumbnails of the covers.  I just have way too many books for that. )  And if I'm in Classic View, the Recently Added category doesn't appear.  All categories should be available in all views.

It would be nice to get to FBReader settings from the menu, and Bookshelf settings from the same place.  (If the user has standard FBReader and doesn't have the Bookshelf plugin, Bookshelf settings should simply not appear.)

And along that line, it should be possible to configure FBReader to open to the menu instead of automatically reopening the last book the user was reading.

**>Dennis**
"
geometer/FBReaderJ,open,Feature request: Make author sort like Title sort,[],"When you select Titles from the FBReader selection menu, you get a list sorted by number and then letter, with each entry opening a list of titles beginning with that number or letter.  If you have a lot books (and I have thousands) it makes drilling down by title easier.

I'd like to see the same organization used for Authors, for the same reason.  It makes drilling down to fing things easier.

**>Dennis**
"
geometer/FBReaderJ,open,Synchronize fails after a few weeks,[],"I have a phone w/ FBReader premium installed through google play and a nook with the latest fbreader sideloaded. Reading position synchronization works fine for a few weeks, but then silently stops working. It will work again if I disable/enable sync on the nook and sign in again.

On the nook there's no google play services, so signing in to Google account was through a webview and not through account manager like on my phone. I'm guessing the auth token expires after a while in that mode and signing in again refreshes the token.
"
geometer/FBReaderJ,open,Bundling Expat 2.0.1,[],"Hi there!

It seems you have Expat 2.0.1 bundled in directory `jni/expat-2.0.1`. Is that used in any way still?
If so: Are you aware that Expat 2.0.1 is rather old and contains security issues that have been fixed in later releases upstream?

Thanks and best, Sebastian
"
geometer/FBReaderJ,open,Ad write support to external SD card,[],"Android 5.0 and above supports writing to an external SD card, but requires that the user select the allowed directory. FBReader for Android 2.6.13 (2061322) doesn't seem to support this. Are there any plans to add support for this in the near future?
Folders on sd card are marked with a lock when I try to configure them as the download folder.
"
geometer/FBReaderJ,open,Feature Request: Reading progress option (time to end of current chapter [next TOC]),[],"For the progress indicator it would be helpful to have an option which will allow prediction of how long it will take to finish the current chapter. This might need to be some averaged reading speed based on the rate at which the current chapter is being read or something but it is the only feature I miss from using the kindle app.

For large books, it gets difficult to identify current status as the TOC marks get really close together so for reading progress it is good for an overall ""how far am I into the book"" but doesn't help if you are trying to decide if you should read another chapter before going to sleep.
"
geometer/FBReaderJ,closed,Error when Ant Release + How to build on Android Studio?,[],"The first, thanks so much this open source.

I have one error and 1 question when use FBReaderJ.

Error:
I get error ""Native libraries are not up-to-date. Please run ndk-build manually."" when run ""ant release"". I searched in the internet but I can't fix it. I use latest version ndk r12b and I see that in the definitions.mk file have line ""$1:| $$(__ndk_file_dir)"".
Have any suggestion for thí error?

Question:
How can build FBReaderJ on Android Studio?

Thanks for your times
"
geometer/FBReaderJ,open,"reader shows part of book as ""encrypted"" though it isn't",[],"The introduction of the epub version of [this book](https://archive.org/details/GriechischeUndAlbanesischeMarchenJohannGeorgVonHahn) the android FBReader shows as encrypted (German: verschlüsselt) though it isn't.
The Linux FBreader has no problems displaying it.
"
geometer/FBReaderJ,open,Image auto scaling for epub/mobi,[],"Hi,

Currently the epub/mobi built-in images showing by fbreader is too small, which is better to scale them according to the phone screen size.
"
geometer/FBReaderJ,open,Build fixes,[],"#365 : Fix the build, so it should work out of the box, without hand tuning, copying various files around. But instead of fixing the documentation, it is better to fix the actual code ( http://www.goldyliang.net/blog/how-to-build-fbreaderj-android/ )
"
geometer/FBReaderJ,open,Add new menu item: recently downloaded books,[],
geometer/FBReaderJ,open,Error loading large library,[],"I have a library with 750 ebooks (3.8Gb total).
When I go to shelf view, the app hangs and sometimes abort due lack of memory.

I use a Motorola Xoom, first generation, and my library is in a separate SD card.
"
geometer/FBReaderJ,open,PDF book margins,[],"When then margins of a PDF document are reduced, the book never gets 100% read.
"
geometer/FBReaderJ,open,Page turning gets confused by multiple fingers,[],"To reproduce:
1. Open a book
2. Place one finger on the right side of the screen
3. Place one finger on the left side of the screen
4. Lift the finger on the right

Result:

The program will behave as if the left finger has made a large swipe gesture.

What seems to be happening here is that the position of the right finger gets interpreted as a previous position for the left finger, thus a large finger movement will result. Checking with a touchscreen test program shows that Android itself has no problem telling the left and right fingers apart and identifying them correctly, FBReader however seems to get them mixed up and thus interprets a swipe gesture where there was none.

This problem shows itself frequently while holding a tablet with the left thumb and page turning with a finger from the right hand. If the thumb touches the touchscreen by accident this type of glitch will result.
"
geometer/FBReaderJ,closed,No more changes?,[],"Hi,
It's been a while since the last commit, is the project some how become closed?

Thank you
"
geometer/FBReaderJ,open,Bookmarks are not synchronized back from cloud,[],"### Steps to reproduce:
1. Add book to device, read it, add some bookmarks -> book appeared in online library with bookmarks.
2. Delete book from device.
3. Go to Network Library and download the same book from cloud.
4. Check Bookmark menu -> there are no bookmarks in ""THIS BOOK"" section. In fact, there are still bookmarks in ""ALL BOOKS"" section, but when I click on it - error appears: ""File not found"" (probably because in settings I have different folder for download from cloud).
### Possible solution

Seems like identification of book is based on the **file path**, not on the book content.
I propose to make identification by **file hash** to fix synchronization issues.
Then it will be no matter where the file has been moved, on what platform, etc. Just scan the device's folders, check the hash and compare it with hashes in Cloud to sync.

**Moreover**, if you have the same file in different locations on your device, your Library will have only one record with all the bookmarks and other attributes attached. No meter which exactly file you open to read.

**Moreover 2**, because all metadata will be linked to hash, it could be very simple to share it with others.
"
geometer/FBReaderJ,closed,Build fixes,[],"#365 : Fix the build, so it should work out of the box, without hand tuning, copying various files around. But instead of fixing the documentation, it is better to fix the actual code ( http://www.goldyliang.net/blog/how-to-build-fbreaderj-android/ )
"
geometer/FBReaderJ,closed,FbReaderJ is not working after successfully build on Ubutu14.04 in eclipse Mars and Studio,[],"Dear all,
                As per given following link, I tried to build FBreaderJ-2.5.10 on ubuntu14.04 using eclipse and android studio.

**I tried following steps using Eclipse-Mars:**

1) [http://howtobuildfbreaderj.blogspot.in/2012/01/how-to-build-fbreaderj-fbreader-on.html](http://howtobuildfbreaderj.blogspot.in/2012/01/how-to-build-fbreaderj-fbreader-on.html)
2) [http://www.goldyliang.net/blog/how-to-build-fbreaderj-android/](http://www.goldyliang.net/blog/how-to-build-fbreaderj-android/)

1) Download FBReaderJ through 'git clone'.
2) compile all Natives file like C using 'ANT' builder 
3) added Android-SDK and NDK path in local.properties and changes the target  to 'target=android-19' in project.properties in all 'third-party' directories.
4) While compiling the the FBreaderJ give properly build and generate FBreader.apk file. 
5) But after installing akp file on device it gives message like: 'Unfortunately Stopped'. its doesn't open launch the App. 

**On Android-Studio:**

Using this following link I tried to build FBReaderJ in Android Studio:

1)[ https://github.com/liquiddandruff/FBReaderJ/blob/android_studio/README.md](https://github.com/liquiddandruff/FBReaderJ/blob/android_studio/README.md)

I got following observation: 

1) It properly build and install the FBReader on android device.
2) But while opening the EPUB file in reader it shows it in zip format, It can not render the EPUB file or any other files.

The provided FBreaderJ source is of OLD version, so is new version's is opens? 

**SO, PLEASE ANY HAVE PROPER BUILD STEPS FOR FBREADERJ ? on Linux platform.**

With Regards,
Dhairyashil
"
geometer/FBReaderJ,closed,Update German translation,[],
geometer/FBReaderJ,closed,Bug: App crash on deleting a book,[],"Whenever I delete a book from my library, the app crashes. The book does get removed, but the app needs to be terminated manually via Task Manager before it can be used again.
"
geometer/FBReaderJ,open,FBReader is stuck at version 2.1 on F-Droid,[],"I use F-Droid instead of the Google Play Store, and recently noticed that the version of FBReader there is quite a few versions behind the current one.
"
geometer/FBReaderJ,open,Settings being overridden by CSS not clear,[],"FBReader is a bit confusing with CSS settings.
- Instead of the CSS menu, put right after each related preference, 
  ""Allow book to use their own _____""
  So,
  **Font family**
  Droid Serif
  ----------------------------
  **Allow books to use their own font family**
  Use font family settings in CSS
- Font size should be a scaling factor when overrides are on.
- Occasionally, CSS isn't applied.
- It takes an unusually long time to exit the settings back to a book.

I found that out and updated my comment.
"
geometer/FBReaderJ,open,[Feature request/Issue] UI design improvements,[],"FBReader is a great e-reader app, but its UI is a bit confusing.
@geometer  

These are many potential improvements that would help FBReader's UI, mainly in wording. 
#### Preferences
- Some menu items are confusing to the average user.
  - Subtitles should be used sparingly. 
  - Icons should instead be used on the main screen
  - _See [Writing](https://www.google.com/design/spec/style/writing.html) and [Settings](https://www.google.com/design/spec/patterns/settings.html) on Google's Design guidelines._
- I just want to say that preferences should ideally be in XML files, it is easier in the long run. 
- Try to be as straightforward as possible. For example, for margins, use a slider with a visual fake page that updates to the margins as it slides, and you can even have pixels in a smaller description.
- ""About"" and ""Tips"" screen should go in the ""Help"" menu, which will be its own page, with a link to the FBReader website.
  Here are two mockups of the FBReader main settings page and the fonts page. Dimensions, colors etc aren't perfect, just showing the idea.
  ![fbreader-settings](https://cloud.githubusercontent.com/assets/6258309/13955590/9e95b0be-f01b-11e5-95b5-d939f701f91a.png)![fbreader-fonts](https://cloud.githubusercontent.com/assets/6258309/13955589/9e9399b4-f01b-11e5-9437-6cb18c4b0ba1.png)
#### Main screens/Reading
- Quick formatting menu similar to the Kindle app. Quickly change margins, justify, size, font, etc.
- Menu: Formatting will go in this quick format menu, then it should be various menu items before, then Buy premium, Settings, Help & feedback.
- Please choose the drawer or the overflow menu. And if you use the drawer, the background does not go under the items, it goes above them. See the [Navigation Drawer](https://www.google.com/design/spec/patterns/navigation-drawer.html) for what I mean.
- Simpler terms,  more icons, less text. Instead of ""file tree"", use ""Internal storage"", and ""External storage"", with the path as the subtitle. 
  It would be a good idea to check out the interfaces of other E-Reader apps like Play Books, Nook, Kindle, etc. Don't copy them, but instead use it as inspiration. 
- Book info annotation has no margins?
#### Other small things
- The page transition is jumpy when you don't have your finger on it. Is the book rendered on the main thread, or not rendered by the GPU?
- Most settings (fonts, margins, etc) are not applied automatically.
- Units don't appear to scale to density pixels. (hdpi is 1.5x, xhdpi 2x, etc). 

Samsung Galaxy S III SGH-I747M 
4.4.2 KitKat official, rooted
FBReader free 2.6.10 (2061022)
"
geometer/FBReaderJ,open,"Feature Request: Ability to hide/delete ""FBReader: an introduction"" in default library view",[],"It's really rather unnecessary to have to see it all the time. It's distracting and a burden. Apparently you can hide it when using Bookshelf View, but it's not possible to do so in the default library view.
"
geometer/FBReaderJ,open,Feature Request: Android version - Save settings option,[],"Seeing as there is a lot of settings in the Android version, it would be helpful to have the ability to  backup/restore them, when you get a new phone or have to  do  a factory restore etc, it would save some time for the end user and be helpful.
"
geometer/FBReaderJ,open,SVG images support,[],"Sometimes I come across (and produce myself) books with math equations, and these are either made of text (looks quite ugly) or with raster images (still looks inappropriate although better at daytime, but cut my eyes at night). 
I think adding SVG support (with consistent night settings colour inversion) would be a great feature, and will be useful not only for equations but for all kinds of signs and schematics as well.
"
geometer/FBReaderJ,open,Option to increase OPDS load timeout,[],"I recently had the chance to work with some ARM based devices that have OPDS feed function. Unfortunately it turns that in it's current state fbreader does not seem to be able to work with such devices. They work much slower than a PC, made as server and the relatively short network timeout in fbreader is insufficient. Some feeds are generated in time, however as soon as you reach one with at least 15-20 titles it is generated 2-3 seconds after fbreader timeouted' Some larger feeds can be generated even 15-20 secconds later.

BTW, similar problem ocures sometimes for those who use the phone version of TOR network to access Intermet. 

I understand that very long timeout may be disadvantageous for those who use server PC hosted OPDS feeds.over plain connection, so increasing default timeout may not be the best approach. You may however make ot configurable, or add an option to oncrease it with some 30 secconds.

BTW, fbreader also really lacks the ability to set a program speciffic proxy server. In this case for example setting caching proxy is a way to run arround the problem.
"
geometer/FBReaderJ,open,Update books from network library,[],"Please provide a way to re-download books without deleting the old version (and losing last read location). For in-progress fanfiction it would be very useful.
"
geometer/FBReaderJ,open,"FBReader does not support colon "":"" symbol inside *.fb2.zip file",[],"for example we have ""test.fb2"" file with correct fb2 content.
1. cp test.fb2 test1.fb2
2. zip test1.fb2.zip test1.fb2
3. cp test.fb2 test:1.fb2
4. zip test2.fb2.zip test:1.fb2

Now we have two files with identical zipped content but different file name inside. FBReader recognize only test1.fb2.zip
"
geometer/FBReaderJ,closed,Is this a bug ?,[],"When I running in eclipse, got this :

```
03-02 08:41:59.936: E/AndroidRuntime(2047): FATAL EXCEPTION: main
03-02 08:41:59.936: E/AndroidRuntime(2047): java.lang.RuntimeException: Unable to instantiate application org.geometerplus.android.fbreader.FBReaderApplication: java.lang.ClassNotFoundException: Didn't find class ""org.geometerplus.android.fbreader.FBReaderApplication"" on path: /data/app/org.geometerplus.zlibrary.ui.android-2.apk
```
"
geometer/FBReaderJ,open,Library doesn't see new books in previously added path,[],"Issue: 

Steps to reproduce:
1. Add books to arbitrary directory (e.g. /storage/extSdCard/books)
2. Add directory (Settings -> Directories -> Where to search for books)
3. Let FBReader scan and find files (works first time)
4. Add more books to the same arbitrary directory
   5a. Look for book in Library. Fail to find it.
   5b. Hit ""Rescan"" in library. Look for book again. Fail to find it.
5. Navigate to same arbitrary directory and find the book that was added. Open with FBReader. It now shows up in the Library.
"
geometer/FBReaderJ,open,fbreader can support video？？,[],"fbreader can support video？？ 
"
geometer/FBReaderJ,open,Dictionary lookup not working for hyperlinks,[],"In settings there is an option to press hold and release a word to look it up in a dictionary. If the word is hyperlink nothing happens.
"
geometer/FBReaderJ,open,Support web dictionaries with tap and release word,[],"In settings I can get FBReader to lookup a word when I press and hold then release. But it will only work with a selection of dictionaries. It won't let me search a website like I can do by selecting text with handles and sharing it to this app: https://github.com/balesz/android-WebSearch.

So I propose adding ""Share"" to the list of possible dictionaries.
"
geometer/FBReaderJ,closed,Don't open PDF and DJVU in Android 6.0.1,[],"Hello. Djvu and PDF plugins installed, but error takes off ""Can't open the book."" Logs are included.
[log_djvu.txt](https://github.com/geometer/FBReaderJ/files/115303/log_djvu.txt)
[log_pdf.txt](https://github.com/geometer/FBReaderJ/files/115302/log_pdf.txt)
"
geometer/FBReaderJ,closed,Updated zh.xml,[],"Updated zh.xml.
"
geometer/FBReaderJ,open,words reversed in RTL sentences,[],"The ePub from [here](http://akhirmasa.blogspot.com/2013/12/personal-project-al-quran-epub-version.html) displays properly in Calibre's built-in viewer but in FBReader the order of words is reversed.  Compare the two screen shots below.  I'm using version 2.1-ics on CM12.

![calibre viewer](https://cloud.githubusercontent.com/assets/786662/12644145/14b1bac0-c5c1-11e5-9db2-4c823360ae68.png)

![fbreader on android](https://cloud.githubusercontent.com/assets/786662/12644188/63525496-c5c1-11e5-9725-243ccc5e1c23.png)
"
geometer/FBReaderJ,open,Remember OPDS password,[],"An option to remember the password for an network opds server would be great.

I have tested it with normal HTTP authentification. It prompts for the password, but doesn't remember it once you have totally quit the app.
"
geometer/FBReaderJ,closed,the bullet point in the file data/whatsnew/en.html represented as &bullet;,[],"the **bullet** point in the html file should be represented as **'& bull;'**, but I found that some Internet browsers can parse it correctly. So i recommend that add **'& bullet'**; in the file formats/html/htl.ent
"
geometer/FBReaderJ,open,In-book search doesn't work with TouchPal keyboard,[],"I have the latest FBReader from Google Play. Full text search within a book works with AnySoftKeyboard, but fails with TouchPal.

If I select AnySoftKeyboard as the default one and open the start screen
![screenshot_2016-01-13-14-27-42](https://cloud.githubusercontent.com/assets/1315874/12294078/be1f2fb2-ba08-11e5-8699-b23aa7175f53.png)

the menu
![screenshot_2016-01-13-14-27-54](https://cloud.githubusercontent.com/assets/1315874/12294081/be233b66-ba08-11e5-9911-a4ad60f9cedf.png)

tap ""search""
![screenshot_2016-01-13-14-28-05](https://cloud.githubusercontent.com/assets/1315874/12294079/be202d68-ba08-11e5-8571-e2ed41a6c093.png)

start typing something
![screenshot_2016-01-13-14-28-29](https://cloud.githubusercontent.com/assets/1315874/12294082/be235a56-ba08-11e5-98be-36f286327d1d.png)

tap the button in the lower right corner
![screenshot_2016-01-13-14-28-35](https://cloud.githubusercontent.com/assets/1315874/12294083/be23989a-ba08-11e5-9986-7dccdfb4769b.png)

then searching works.
![screenshot_2016-01-13-14-29-00](https://cloud.githubusercontent.com/assets/1315874/12294080/be21ec5c-ba08-11e5-8a57-8aff4ba6b406.png)

However, if I switch to TouchPal and do the same steps
![screenshot_2016-01-13-14-30-20](https://cloud.githubusercontent.com/assets/1315874/12294084/be33e22c-ba08-11e5-8634-1579b906a739.png)
![screenshot_2016-01-13-14-30-32](https://cloud.githubusercontent.com/assets/1315874/12294085/be37aa10-ba08-11e5-8583-e5c84949b4ca.png)

it fails.
![screenshot_2016-01-13-14-30-37](https://cloud.githubusercontent.com/assets/1315874/12294086/be395e6e-ba08-11e5-9f5b-6659b0a26a58.png)
"
geometer/FBReaderJ,open,Error when opening book,[],"When opening certain books using the Material drawer I get the following error message:

Package:org.geometerplus.fbreader.plugin.pdf
Model:SM-P600
Device:lt03wifi
Product:lt03wifixx
Manufacturer:samsung
Version:4.4.2
java.lang.NullPointerException
at org.fbreader.c.a.u.a(Unknown Source)
at org.fbreader.c.a.u.a(Unknown Source)
at org.fbreader.c.a.g.g(Unknown Source)
at org.fbreader.c.a.g.onPrepareOptionsMenu(Unknown Source)
at android.app.Activity.onPreparePanel(Activity.java:2664)
at android.support.v4.app.FragmentActivity.onPrepareOptionsPanel(Unknown Source)
at android.support.v4.app.FragmentActivity.onPreparePanel(Unknown Source)
at android.support.v7.view.WindowCallbackWrapper.onPreparePanel(Unknown Source)
at android.support.v7.app.AppCompatDelegateImplBase$AppCompatWindowCallbackBase.onPreparePanel(Unknown Source)
at android.support.v7.view.WindowCallbackWrapper.onPreparePanel(Unknown Source)
at android.support.v7.app.ToolbarActionBar$ToolbarCallbackWrapper.onPreparePanel(Unknown Source)
at android.support.v7.app.ToolbarActionBar.populateOptionsMenu(Unknown Source)
at android.support.v7.app.ToolbarActionBar$1.run(Unknown Source)
at android.os.Handler.handleCallback(Handler.java:733)
at android.os.Handler.dispatchMessage(Handler.java:95)
at android.os.Looper.loop(Looper.java:136)
at android.app.ActivityThread.main(ActivityThread.java:5476)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:515)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)
at dalvik.system.NativeStart.main(Native Method)
"
geometer/FBReaderJ,closed,Translation of new menius,[],
geometer/FBReaderJ,closed,translation of: English US,[],"Engleza US
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Updated and fixed some items.
"
geometer/FBReaderJ,open,Add support for changing background by using rgb values.,[],"I would love the ability to change the background by rgb values. It's often tough to select a precise color if you know what color you want to put into it.
"
geometer/FBReaderJ,open,Autocrop PDFs,[],"In the PDF plugin's  “main (right) menu -> book options -> crop” dialog, there should be an additional button to automatically adjust the crop margins to the current page.
"
geometer/FBReaderJ,closed,Display PDF without borders,[],"The PDF plugin should have an option to generally display the pages of a PDF without white border.

(I guess that option might exist already. As a newbie user of FBReader I could not find it, however.)
"
geometer/FBReaderJ,closed,Update Ukrainian translation (hardpaper fix),[],
geometer/FBReaderJ,closed,Ukrainian l18n update,[],"Translate all untranslated strings, fix bugs fixed
"
geometer/FBReaderJ,closed,Update the german language file to the latest resources,[],
geometer/FBReaderJ,closed,Updated Dutch translation,[],"Translated all new items
"
geometer/FBReaderJ,closed,Merge pull request #1 from geometer/master,[],"pull
"
geometer/FBReaderJ,open,Make ant build the first-time smoother  - Fix #365,[],"Some minor changes to enable the ant build smoother when building for the first time. If you have other ideas, I would adapt to your view.

Some more detail behind my change can be found at: http://www.goldyliang.net/blog/how-to-build-fbreaderj-android/

Summary:
- Move class NaturalOrderComparator from package org.fbreader.util, to package group.pals.android.lib.ui.filechooser.utils
- Change project.properties files to use same SDK versions. (min/max/target API level not changed, though)
- Updated HowToBuild to remind that additional local.properties files needed.
- Added the additional Android support library, for the 3rd party package of drag-sort-listview
"
geometer/FBReaderJ,open,Errors when doing ant build for the first time,[],"There are some errors when making ant build for the first time, after cloning to local directory and running ""ant release"". Some fix can be made to the configuration and some java files to make it smoother.

Additional information can be found at:  http://www.goldyliang.net/blog/how-to-build-fbreaderj-android

Such errors and fixes are as below:
-  ""Unable to resolve project target ‘android-xx'""  

Fix: one can install additional SDK versions (totally four versions including obselete ones), but it does not make sense at all. The project.properties files can be updated to target to the same SDK version for all five sub-projects.
- ""…../build.xml:55: sdk.dir is missing""

Fix: adding local.properties in the root folder is not enough. Shall copy the same file for all the sub-projects as well. HowToBuild shall include this tips.
- Compile error
  ""-compile:
  [javac] Compiling 34 source files to /home/gordon/FBReader_mastar/FBReaderJ/third-party/android-filechooser/code/bin/classes
  [javac] /home/gordon/FBReader_mastar/FBReaderJ/third-party/android-filechooser/code/src/group/pals/android/lib/ui/filechooser/utils/FileComparator.java:16: error: package org.fbreader.util does not exist
  [javac] import org.fbreader.util.NaturalOrderComparator;
  [javac] ""

Fix: this error looks like a loop-dependency. It is suggested to move the class NaturalOrderComparator to pakcage group.pals.android.lib.ui.filechooser.utils.
- Missing support library
  ""[javac] /home/gordon/FBReader_mastar/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:10: error: package android.support.v4.widget does not exist
  [javac] import android.support.v4.widget.CursorAdapter;
  [javac]  ""

Fix: there shall be a way to point out the path of support library. However the only way that works for me, is to copy another the library jar file under libs/ folder, just like the one in FBReaderJ/libs. We can include the additional copy in Git repositary.
"
geometer/FBReaderJ,closed,How to open my book downloaded in SD card ?,[],"I tried using this code. And able to open my book, but I lost control over BookMarks & Highlight.
Please help me for the right track. Thanks a ton.
"
geometer/FBReaderJ,closed,update German translation,[],"Update to the new strings
"
geometer/FBReaderJ,closed,How to Build FBReaderJ in Adroid Studio on Ubutu12.04,[],
geometer/FBReaderJ,closed,Update Dutch translation,[],"Add premium/nl.html and update various items.

Is there a way for long time translators to get the premium version at a discount?
"
geometer/FBReaderJ,closed,Add ShowProgressAsPercentage option,[],"If progress is show: This toggles between showing the percentage completed and the number of pages completed.

Also added a battery unicode symbol in front of the battery display, to clearly show the point of that percentage.
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,open,<q>Quotation</q> marks are not qisplayed in EPUB3 books,[],"And may be in EPUB2 too =)

As a maximum programme, I suggest loading quotation marks from CSS or even from somathing like [this](http://stackoverflow.com/a/17856815/539470). As minimum and optimum programme -- just formatting `<q>` and `</q>` as `""`s.
"
geometer/FBReaderJ,open,URL-encoded images in EPUB3,[],"It seems that data URLs with base64-encoded images are not supported now. Please consider adding them one day =).
"
geometer/FBReaderJ,closed,Update Dutch translation of new Widget feature,[],
geometer/FBReaderJ,open,Crashes on opening newer epubs converted from Calibre (rooted Nook),[],"I've been unable to read the last two epubs I converted with Calibre: I can get to the title page, and when I tap on Read, FBReader closes and I'm back at the home screen. adb logcat doesn't show anything useful like a Java stack trace with line numbers, but it does have some info about libraries. I've uploaded a logcat to:
https://gist.github.com/akkana/a883481188c96cab6b8e#file-fbreader-logcat-txt

The books where I'm seeing this aren't books I can upload (licensed content, not shareable) but if anybody is interested in debugging and isn't seeing the problem, I can fiddle with the epub and create a version I can share. Or I'm happy to do further experiments; I've been using an apk from: https://fbreader.org/files/android/FBReaderJ.apk, but I do have android SDKs installed and can try building if there are code changes I should try.
"
geometer/FBReaderJ,open,Library metadata fails to update correctly,[],"It's possible that these are several unrelated issues, but I'm observing the following symptoms.

New epub files I drop into subdirectories of the directory set as “Where to search for books” don't show up in the library, even after hitting the “RESCAN” button. After I navigate to a specific new epub file and open it, it does appear in the library, but sometimes it disappears after a while.

Also, if I modify the metadata in an epub that has already been picked up by the FBReader library (I drop a new version of the same ebook with updated metadata into the same place), I have to open the book and tap “Reload” for the changes to appear in the library, but for some books, the metadata reverts to the previous values after a few launches of the app.

The version is 2.5.4 (2050420).
"
geometer/FBReaderJ,closed,NL: Translated all new items,[],
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,open,Feature request:  Group/sort by tag on bookshelf/library,[],"Either I am missing something if it is already there.  But I have a bunch of Epubs loaded on my tablet via Calibre + Calibre Companion and I would love to have an option similar to that of grouping by Seriesmbut grouping by tags.
"
geometer/FBReaderJ,open,"Issue: ""Close FBReader"" by back key doesn't work well",[],"When I push back key after setting it to ""Close FBReader"" instead of ""Show cancel  menu"", FBReader closes itself once, but it restarts again and again repeatedly.  I'm reading pdf books, so it might cause this problem.  Can someone check it out?  Thanks.

What I'm using: FBReader 2.5.4 for android, and FBReader PDF plugin 1.1 
What I do:  from settings->cancel menu, choose ""Close FBReader"" as back key action.

In addition, if I choose ""Show cancel menu"" as back key action, and I select ""Close FBReader"" from cancel menu, FBReader close itself in peace.
"
geometer/FBReaderJ,open,Отображение арабского языка,[],"Привет.  Спасибо тебе за FBReader. Ты мо­жешь исправить проблему с отображением и­ выделением арабского языка в FBReader? ­Эти ребята уже нашли решение : https://github.com/boussouira/android-ar­abic-reader , но ты постоянно обновляешь FBReader, ­и приходится все время исправлять это в ­моей программе. Добавь, пожалуйста в  FB­Reader нормальное отображение арабского ­языка.  Спасибо
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Corrected strings in node dictanErrors and translated new string in node premium.
"
geometer/FBReaderJ,open,Performance enhancement,[],"  We are working on a project called PersisDroid (http://www.cudroid.com/PersisDroid/) for detecting potential performance issues. Our tool could find performance degradation caused by improper usage of asynchronous executions.
  We find that in some cases your app may suffer a long processing delay.

  Case:
  **Related source code** Class: [ZLAndroidImageLoader](https://github.com/geometer/FBReaderJ/blob/master/src/org/geometerplus/zlibrary/ui/android/image/ZLAndroidImageLoader.java) Line: [75](https://github.com/geometer/FBReaderJ/blob/master/src/org/geometerplus/zlibrary/ui/android/image/ZLAndroidImageLoader.java#L75)
  **Circumstance** The image loading may take long in some cases. 
  **Problem** The pool size of the thread pool is too small in some cases.
  **Suggested modification** I notice that you have remarked ""TODO: how many threads ???"" here. Through our testing, we find that when the queuing time is long, the average queue size of the thread pool is 4.5. That means on average there are about 5 tasks run simultaneous in worse cases. I suggest the queue size set to be _5_ or _6_ here.
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Translated and corrected strings for pop-ups.
"
geometer/FBReaderJ,closed,[Feature Request] make it possible to use hardware left & right keys for page turning,[],"make it possible to use hardware left & right keys for page turning as option (in addition to using volume buttons) for devices which have hardware keyboards or can be used with hardware keyboards
"
geometer/FBReaderJ,closed,translated premium html page,[],
geometer/FBReaderJ,open,[Feature Request] Support Media Overlays,[],"It would be helpful if this program supported read-aloud from EPUB3 synchronized recordings known as Media Overlays (http://www.idpf.org/accessibility/guidelines/content/overlays/overview.php).
Several other readers do this (Gyan, Gitden, Lektz, PubliWide) but no open-source ones yet that I can find.
All of these read continuously once started. Our interest is helping beginning readers when they get stuck, so it would be nice to have an option to just read the segment they are having trouble with.
(Text-to-speech does not help us since we are interested in minority languages for which text-to-speech algorithms do not exist.)
If someone is working on this we would like to get in touch, possibly even help.
"
geometer/FBReaderJ,closed,Plugin api fix,[],"- make it possible to use float parameters in plugin api
- make it possible to ask for book's reading progress
- make it possible to ask for book's author(s)
"
geometer/FBReaderJ,closed,Create cs.html,[],"Created and transleted new file for Premium.
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Translated new strings related with Premium Edition and Translation.
"
geometer/FBReaderJ,closed,Added new strings,[],"Is it possible to get a message before you release a new version to the play store? Maybe one week in advance. Could be nice, then the translators have the possibility to update their translation and the version in the store has the updated language files. The released one have some missing German strings.
"
geometer/FBReaderJ,open,[Feature Request] Support page number prefixes in PDF files,[],"My ebook library has many more books as PDFs then anything else. Many of those have indexes, a tables of contents, and other reference pages within them and more often then not, the first page of the book is actually a dozen pages into the document itself. Two solutions occurred to me:
1. The ability to manually set where page ""1"" is per book. Not sure if this would be metadata or need an additional hidden file that could be auto-generated in the same directory as the pdf file or
2. Support for standard PDF page number prefixes as explained in more detail [here](http://www.w3.org/TR/WCAG20-TECHS/PDF17.html).

I think option two is best as it will work every time given a correctly generated PDF file and it will be invisible to the user. Having to worry about custom page numbering meta-data seems a bit more complex and can load up a directory with tons of hidden files. If defining a start page however is done via meta-data in the pdf file itself, perhaps that could be implemented additionally?
"
geometer/FBReaderJ,closed,Updated Dutch translation,[],"One term not translated. Need to see how it is used in the beta.
"
geometer/FBReaderJ,closed,German language updated,[],"German language updated
"
geometer/FBReaderJ,closed,:fBReaderJmaster:compileDebugNdk Build failed ,[],"Dear,
Please help me, i build this project but got this error. Please help me how to fix it.
Thank you all 

:fBReaderJmaster:compileDebugNdk
AGPBI: {""kind"":""SIMPLE"",""text"":""C:\Users\QuocN\StudioProjects\FBReaderJ-master\fBReaderJmaster\src\main\jni\DeflatingDecompressor\DeflatingDecompressor.cpp:83:1: fatal error: opening dependency file C:\Users\QuocN\StudioProjects\FBReaderJ-master\fBReaderJmaster\build\intermediates\ndk\debug\obj/local/arm64-v8a/objs/DeflatingDecompressor-v3/C_\Users\QuocN\StudioProjects\FBReaderJ-master\fBReaderJmaster\src\main\jni\DeflatingDecompressor\DeflatingDecompressor.o.d: No such file or directory"",""position"":{},""original"":""C:\Users\QuocN\StudioProjects\FBReaderJ-master\fBReaderJmaster\src\main\jni\DeflatingDecompressor\DeflatingDecompressor.cpp:83:1: fatal error: opening dependency file C:\Users\QuocN\StudioProjects\FBReaderJ-master\fBReaderJmaster\build\intermediates\ndk\debug\obj/local/arm64-v8a/objs/DeflatingDecompressor-v3/C_\Users\QuocN\StudioProjects\FBReaderJ-master\fBReaderJmaster\src\main\jni\DeflatingDecompressor\DeflatingDecompressor.o.d: No such file or directory""}
AGPBI: {""kind"":""SIMPLE"",""text"":"" }"",""position"":{},""original"":"" }""}
AGPBI: {""kind"":""SIMPLE"",""text"":"" ^"",""position"":{},""original"":"" ^""}
AGPBI: {""kind"":""SIMPLE"",""text"":""compilation terminated."",""position"":{},""original"":""compilation terminated.""}
AGPBI: {""kind"":""SIMPLE"",""text"":""make.exe: **\* [C:\Users\QuocN\StudioProjects\FBReaderJ-master\fBReaderJmaster\build\intermediates\ndk\debug\obj/local/arm64-v8a/objs/DeflatingDecompressor-v3/C_\Users\QuocN\StudioProjects\FBReaderJ-master\fBReaderJmaster\src\main\jni\DeflatingDecompressor\DeflatingDecompressor.o] Error 1"",""position"":{},""original"":""make.exe: **\* [C:\Users\QuocN\StudioProjects\FBReaderJ-master\fBReaderJmaster\build\intermediates\ndk\debug\obj/local/arm64-v8a/objs/DeflatingDecompressor-v3/C_\Users\QuocN\StudioProjects\FBReaderJ-master\fBReaderJmaster\src\main\jni\DeflatingDecompressor\DeflatingDecompressor.o] Error 1""}

 FAILED

FAILURE: Build failed with an exception.
- What went wrong:
  Execution failed for task ':fBReaderJmaster:compileDebugNdk'.
  > com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'C:\Users\QuocN\AppData\Local\Android\ndk\ndk-build.cmd'' finished with non-zero exit value 2
"
geometer/FBReaderJ,closed,Cannot login to books.fbreader.org,[],"I am trying to login to a previously created account. I have two-factor authentication enabled in my Google Account, and the Google Authenticator is installed on the same device where I'm trying to login in FBReader. After switching from FBReader to Authenticator and then back, I type my one-time password and tap ""login"". Then a bunch of redirects happen and I eventually end up on `https://books.fbreader.org/static/empty.html#`. After that, nothing else happens. If I tap the ""back"" button, there is a toast saying ""Authentication failed"".
"
geometer/FBReaderJ,closed,Not all books on SD card show up,[],"I have a NSTG and not all books on my SD card are showing up. I have about 500 books and only a small portion of those seem to be getting indexed. I can see them under File Tree and it can read them, but they don't show up under By Author or the other parts of Library.
"
geometer/FBReaderJ,closed,Unable to change package name of FbReader code in Android Code.,[],"I am developing android app using FbReader openSource code. 
I compiled and run default code It run successfully. But When I try to change the package name of code then it throw an error. 
and when I manually edit the package name and compile code then FbReader is unable to load library and any book.
"
geometer/FBReaderJ,open,FBReaderJ and Bookshelf disagree on Favorites listings,[],"I'm not certain what's going on here.  I run the current FBReaderJ under Android 4.4.2 Jellybean on a 7"" tablet. I have the current Bookshelf plugin installed as well. FBReaderJ's library lives on an external microSD card, whose location is specified in FBReaderJ's settings. Book are placed on the card by Kovid Goyal's Calibre eBook library management application, via USB cable.  Bookshelf is set for 48 books in both Favorites and Recently Opened panes.

I go through and add books to Favorites from FBReaderJ.  They show in FBReader's Default Library View Favorites list.  If I go the the Bookshelf display, they may _not_ all show.  If I exit FBReaderJ and go back in, books I just added to Favorites may not show in _either_ Favorites display.

If I go back in to re-add them to Favorites, many that _weren't_ appearing in the Favorites display come up with a Remove from Favorites context menu entry, as though FBReader thinks they are present, and I must remove and re-add to get them to display.

If I add new books via Calibre, the display is again incorrect, and stuff that appeared in Favorites before I added books suddenly doesn't appear.  If I do a Rescan, I may see even _less_ books in Favorites after.

Where does FBReaderJ keep the list of Favorites?  Do FBReaderJ itself and the Bookshelf plugin use the same list?  If they do, why are they displaying different subsets of the list?

I'm at a loss here.  Suggestions for debugging and seeing what is going on are welcome.  I'd really like books I add to Favorites to _stay_ added and display in both Bookshelf and default FBReaderJ. 

(I push the envelope, and have thousands of eBooks on the card.  I suspect I'm dealing with problems caused by the sheer number of titles, and number of sub-directories created by Calibre on the card to store the books.  I've already seen an error message from a library FB uses to display file system lists because there were more than 1,024 items to display and it couldn't show them all.)

Thanks!

**Dennis**
"
geometer/FBReaderJ,open,Feature Request: Apply same alphabetical sort by letter/number on Author's list as in Titles list,[],"When you select a view by Title directory listing in FBReaderJ, you a listing by letter/number, with sub-listings beneath, like all books whose Title begins with A when you tap the A line.

It would be very nice if the same logic was applied to lists by Author, using the Author's Last name as the sort criteria.  It would make locating a book by Author a lot quicker when you have lots of books in FBReader's defined storage.  (I have thousands, and push FBReader's limits... :-) )

**Dennis**
"
geometer/FBReaderJ,open,Read metadata in comic book archive (cbz/cbr) files,[],"Now that FBReaderJ supports comic book archives (through the comic book plugin), it would be useful if metadata within those files were properly supported.

There are three different commonly-used formats for metadata in cbz/cbr files:
- [CoMet](http://www.denvog.com/comet/comet-specification/)
- [Comic Rack](http://wiki.mobileread.com/wiki/CBR_and_CBZ#Metadata)
- Comic Book Lover

The first two store the data as an xml file in the root of the archive. The last one stories it in the archive header data (might only work on cbz, I'm not sure).

It would be great if FBReader was able to parse this data, so that the files show more than just the filename when viewing the library.
"
geometer/FBReaderJ,open,Feature request: Extend mapping of voume keys to other parts of FBReaderJ,[],"FBReaderJ lets you map the volume control keys on an Android tablet to do page back/page forward.  I find this a handy method of navigating in a book.

It would be nice if the mapping could be extended, so that the volume keys did previous screen/next screen in things like directory listings.  (This would be especially useful in areas like the screens where you drill down into the underlying file system.  I keep eBooks in a directory on an external card, and they are placed there by Calibre.  Calibre creates directories by author, and places books by title in them.  There are _many_ directories and books on my card.)

---

Dennis 
"
geometer/FBReaderJ,closed,Updated Dutch translation,[],"Translated all items that were added since last completed translation.
"
geometer/FBReaderJ,open,some xhtml <li> have wrong indent,[],"&lt;ul&gt;&lt;li&gt;&lt;p&gt;text&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;
should be ""・text""
but sometimes it will be
""・
text""

sample epub is here:
https://drive.google.com/file/d/0B7KYTQrYNvRHUm9oVUQzVEtycjg/view?usp=sharing
"
geometer/FBReaderJ,closed,AppCompat v21 !,[],"Can i use AppCompat v21 in fbreader andorid app?
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Translated strings ""dictionary"" and ""translator"".
"
geometer/FBReaderJ,closed,Missing text for Long tap initiates selection,[],"In Settings>Dictionary>Long tap action is dislayed ""startSelecting"" instead ""Long tap initiates selection"".
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Translated items for footnoteToastDuration and dictanErrors.
"
geometer/FBReaderJ,open,Buttom up portrait mode does not work,[],"Hello,

FBReader has an option to set the display orientation to buttom up portrait mode. But this does not work on my Samsung Galaxy S4 Official Android Rom 5.0.1 with the lastet FBReader version from the play store (2.4.6). If I set to bottup up portrait mode, it stays in standard portrait orientation.

Could you look into this? I'd be really useful, when you're reading while your battery is flat. You could just turn the device around so that the charger's cable doesn't bother you while reading, as it's on top of the device instead of at the bottom.

Thanks for reading this.

Greetings from Germany
MPW
"
geometer/FBReaderJ,closed,Update ja.xml,[],"Recent changes for ""dictionary"" and ""translator"" 2dc688fb86566a7fbca76f1b7c476f823facfc3b
"
geometer/FBReaderJ,closed,Update ja.xml,[],"footnoteToastDuration and dictanErrors
"
geometer/FBReaderJ,closed,Error Renaming Package,[],"While renaming the package in android eclipse, I am getting an error W/System.err(10980): java.lang.NoClassDefFoundError: org/geometerplus/fbreader/formats/PluginCollection and such errors, I renamed the package in manifest.xml by using refactor->rename. Can anybody tell me what is the issue.
"
geometer/FBReaderJ,closed,Adding Korean translation,[],"I finished translating _fbreader-en.xml_ and _zlibrary-en.xml_ but I don't know how to do with it. Should I send this to someone? I didn't translate _intro.html_ on purpose because some CJK document files won't be displayed properly with default encoding setting.
"
geometer/FBReaderJ,closed,Typos in Czech,[],
geometer/FBReaderJ,open,[Feature Request] line scrolling,[],"I would really like to be able to scroll up/down a few lines, for instance using a tap on the top/bottom part of the screen.

It used to be possible to scroll by lines a while back moving a finger across the ""center"" physical button on HTC's desire (the button had a little wheel or something). I can't see how to do that now...
"
geometer/FBReaderJ,open,Add Aard 2 dictionary support,[],"Aard 2 (http://aarddict.org) is a successor to Aard Dictionary. It comes with redesigned user interface, more features (bookmarks, history, night mode, vector math rendering) and a better dictionary storage format.
"
geometer/FBReaderJ,closed,increase MAX_TOC_MARKS_NUMBER inFBView.java,[],"Increase MAX_TOC_MARKS_NUMBER so that chapter marks are displayed on status bar for books with more than 100 chapters.
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Translated node showFootnoteToast
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Translated new strings for bookmarks and sync.
"
geometer/FBReaderJ,closed,Updated Dutch translation,[],"This is a minor update to the Dutch translation. It translates 2 new items and improves 2 ""catalog"" translations. All items now start with the word ""Catalogus""
"
geometer/FBReaderJ,open,The Bookmark not Right ,[],"The text will be start with the paragraph I selected first line. So it's not do as I think. I think it should start  at the point which I save. But it don't. I saw the code in

[readercode/src/main/java/org/geometerplus/fbreader/fbreader/FBReaderApp.java]

private synchronized void openBookInternal(Book book, Bookmark bookmark, boolean force) {
        if (!force && Model != null && book.equals(Model.Book)) {
            if (bookmark != null) {
                //gotoBookmark(bookmark, false);
                gotoBookmark(bookmark, true);
            } else if (ReaderPrefUtils.isRecentlyRead(ReaderApp.getAppContext())) {
                return;
            }
             ...
    }

I change the exactly to true (I don't know why to set false here.I just do it to fix this bug. Maybe I am wrong). 
"
geometer/FBReaderJ,open,The age number is not right when one image in the Book,[],"I saw the way to calculate the charSize. It is by the size of text. Why? 
if the image or a little text
"
geometer/FBReaderJ,open,FBReader and Bookshelf refuse to open this mobi file,[],"Link to the file:
https://drive.google.com/file/d/0Bx4CguuiXKepNTlIV1NsdFR5NHc/view?usp=sharing

The file is called `Open-Advice.mobi` and I put it to `/storage/emulated/0/Books`

The default library view in the file tree mode doesn't even show the file. The Bookshelf Plugin in the file tree mode shows the file but doesn't open it. I can select the file in a file manager and choose FBReader to open it, but FBReader opens the book that was open before.

On Kindle Fire HD 7 (2013), the default Kindle reader and Moon+ Reader have no problem opening the file.
"
geometer/FBReaderJ,open,Horizontal stripes seen on Kindle Fire HD 7 (2013),[],"The stripes are most noticeable after the last line of a paragraph, aligned with the bottom of the text. I put purple lines on the screenshot on those stripes. Look to the right of the purple lines. There are repeating groups of darker pixels. It may seem very minor on the computer screen, but it's easy to notice on the Kindle Fire screen and it gets annoying when reading.
![screenshot_2015-03-09-21-50-00-stripes](https://cloud.githubusercontent.com/assets/1317472/6568118/ade165a6-c6a8-11e4-9a5d-220eda3bee2b.png)
"
geometer/FBReaderJ,open,.zip appended to epub file when sharing to Google Drive,[],"The local book path is

```
/storage/emulated/0/Books/epubbud.com/download.php_g=DJXH7WHX.epub
```

Selecting `Share`, selecting `Drive` (i.e. Google Drive). The `Document title` is set by default to `Fahrenheit 451`, not changing it. The file is uploaded under the name `Fahrenheit 451.zip`

Even `Fahrenheit 451.epub.zip` would be better, as it would preserve information about the file format.

FBReader 2.3.2 on Samsung Galaxy S4 with CyanogenMod 11-20150302-NIGHTLY.
"
geometer/FBReaderJ,open,Bookshelf view doesn't show file name of the book,[],"The bookshelf plugin 1.3 doesn't seem to have an option to show the file name. That's a regression compared to the default library view, where the file name is clearly shown.
"
geometer/FBReaderJ,open,No link to github page on fbreader.org,[],"http://fbreader.org/faq-page says:
_I found an issue. How do I report it?
Please, send an email to support@geometerplus.com. Don't forget to mention platform you run FBReader. If the issue is specific for some book (and if this book is not copyrighted) please attach the file._
That maybe good for beginners, but it's not so good for software people developers looking to report problems. They want a real issue tracking system where they can see the issue status, add information and maybe even patches. Perhaps it should be on the documentation page as well (http://fbreader.org/content/documentation)
"
geometer/FBReaderJ,open,Bookshelf plugin needs a better icon for Kindle fire HDX,[],"The existing icon looks blurry.
"
geometer/FBReaderJ,closed,German language update,[],
geometer/FBReaderJ,open,[Feature Request] CSS support,[],"Nice work! Please add CSS support too!
"
geometer/FBReaderJ,closed,Curl Animation,[],"I just downloaded the latest FBReader app from Play Store. The curl animation was perfect. But the curl doesn't seem to work properly when I ran the source code. It always shows  the current page while turning(i.e. the turned part doesn't show the next page). Is that curl not implemented here?
"
geometer/FBReaderJ,open,anttasks.properties,[],"My error is,
[taskdef] Could not load definitions from anttasks.properties. It could not be found.

Likewise, previously I faced the similar kind of error,
[taskdef] Could not load definitions from emma_ant.properties. It could not be found.

I got rid of it by adding the relevant code piece into my Build.xml file of the project,

Should I add separate code piece to over come the current error?
"
geometer/FBReaderJ,open,Delete bookmark not updating the marked text background sometimes.,[],"I tried to delete a bookmark by clicking on it, showing  a PopupMenu and clicking a delete button inside it. On clicking delete, I used: 

```
myInterface.deleteBookmark(SerializerUtil.serialize(bookmark));
```

It is deleting the bookmark successfully, but the background of highlighted text is still marked sometimes, even though there is no bookmark. It disappears when I turn to other page and turn back to that page. Any ideas?
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,open,Standard webdav book repository,[],"RedMatrix, ownCloud, and other personal cloud providers lets the user be in control of their books and allow books to be added using regular standard webdav connection. Please consider letting FBReader users choose their own book repository. A libre ebook reader requires the option of using your own private library.
"
geometer/FBReaderJ,open,[Feature Request] Export bookmarks,[],"I'd search through and found many issues (https://github.com/geometer/FBReaderJ/issues/272, https://github.com/geometer/FBReaderJ/issues/135, https://github.com/geometer/FBReaderJ/issues/111, https://github.com/geometer/FBReaderJ/issues/107) that ask for a such useful feature as export bookmarks to external file (xml, plain text, etc.). But for none of them official respond had been received.
So I'll try one more time and ask developers, will this functionality be implemented in nearest future, or won't. Because even in roadmap and todo-lists there is no mention for this.
"
geometer/FBReaderJ,closed,Text Selection bug,[],"There is a text selection bug. While selecting text, if we drag the cursor to the bottom of the page, it keeps scrolling the page (i.e content of next page are visible). Same behaviour for top of the page. Please have a look at it! Thanks.
"
geometer/FBReaderJ,closed,complete translate to persian.,[],"fuly translate to persian but this program have problem with rtl languages like persian.and show words last to first .e g:
hi i am hamid =====>  hamid am i hi
(this bug not for english this is an example for better understand problem)
i hope you can fix this problem in next update of this app.
"
geometer/FBReaderJ,open,how i can add default opds catalog?,[],"i want to make a program based on fbreader and Optimized for my contry language and add persian opds on it.

but i cant find that where i can edit default opds catalogs?
"
geometer/FBReaderJ,closed,TOC marks not shown on statusbar when there are more than 100 TOC entries,[],"When a book contains more than 100 TOC entries, no TOC mark is shown on the status bar. The culprit is the line

```
            private final int MAX_TOC_MARKS_NUMBER = 100;
```

in FBView.java. Increasing the max value to some bigger number fixes the problem.
"
geometer/FBReaderJ,open,bindToService method in BookCollectionShadow.java causing service connection leaked error,[],"I am sending the book path to fbreader via intent.setdata(uri) and action as ACTION_VIEW.

In on resume method on FBreader.java file this code opens the book:

getCollection().bindToService(this, new Runnable() {
                        public void run() {
                              openBook(intent, null, true);
                        }
                  });

The bindToService method returns false and the runnable.run() method is never executed.

The function public synchronized boolean bindToService(Context context, Runnable onBindAction)

in BookCollectionShadow.java is causing a service connection leaked error everytime it runs.

The error stacktrace is given below:

Activity org.geometerplus.android.fbreader.FBReader has leaked ServiceConnection org.geometerplus.android.fbreader.libraryService.BookCollectionShadow@1097d187 that was originally bound here
    android.app.ServiceConnectionLeaked: Activity org.geometerplus.android.fbreader.FBReader has leaked ServiceConnection org.geometerplus.android.fbreader.libraryService.BookCollectionShadow@1097d187 that was originally bound here
            at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:1072)
            at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:966)
            at android.app.ContextImpl.bindServiceCommon(ContextImpl.java:1768)
            at android.app.ContextImpl.bindService(ContextImpl.java:1751)
            at android.content.ContextWrapper.bindService(ContextWrapper.java:538)
            at org.geometerplus.android.fbreader.libraryService.BookCollectionShadow.bindToService(BookCollectionShadow.java:74)
            at org.geometerplus.android.fbreader.FBReader.onCreate(FBReader.java:244)
            at android.app.Activity.performCreate(Activity.java:5933)
            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)
            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2251)
            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2360)
            at android.app.ActivityThread.access$800(ActivityThread.java:144)
            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1278)
            at android.os.Handler.dispatchMessage(Handler.java:102)
            at android.os.Looper.loop(Looper.java:135)
            at android.app.ActivityThread.main(ActivityThread.java:5221)
            at java.lang.reflect.Method.invoke(Native Method)
            at java.lang.reflect.Method.invoke(Method.java:372)
            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)
            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)

I tried this on nexus 5.
"
geometer/FBReaderJ,open,[Feature Request] Add support for scanning for books in sub-directories,[],"On Android, I've specified which folder (on the external SD card) my ebooks will be located in, but within that folder I arrange the books into sub-folders. It would be extremely convenient if FBReader were to scan those sub-folders when I hit ""Rescan"" (or even automatically).
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Material view => Bookshelf view
"
geometer/FBReaderJ,closed,Library view freezes when PDF plugin 1.0.3 installed,[],"With the plugin installed I can open my library (Open Library => File tree => FBReader library), but once the library screen opens the app freezes.  After about 10s the OS says it's not responding.  Uninstalling the plugin fixes the problem.  Happens on a Nexus 5 and a Nexus 7 2013, both running the latest Lollipop.  I've got mostly epubs, and a few PDFs in the library.
"
geometer/FBReaderJ,closed,update German translation,[],"small update on the German translation
"
geometer/FBReaderJ,open,"Improved handling of the backkey longpress, added more actions to backkey/backkey longpress screens.",[],"Fulfills #269. 

Long keypresses have been changed to not require the user to lift their fingers to activate. Instead, the callback would be triggered the moment the user has held on for long enough. 

Adds new actions to the backkey/backkey longpress screens to switch directly to the user's previous book/library/network library.
"
geometer/FBReaderJ,closed,"Fixes #140, Redundant percentage sign in settings",[],"This should fix the duplicate percent signs issue seen in the non-english languages (#140). I have tested this and have assured that this would not break anything else, assuming the language xmls are not malformed (note the TODO).

This ""bug"" is the result of an inconsistency in Google's decision to format the Char Sequences in setSummary() but not formatting the Char Sequences in setEntries().

http://developer.android.com/reference/android/preference/ListPreference.html#setEntries(java.lang.CharSequence[])

http://developer.android.com/reference/android/preference/ListPreference.html#setSummary(java.lang.CharSequence)

This explains the single percent signs shown in the summaries (eg: the summary in settings>appearance>""Prevent screen from sleeping""), since they have been properly escaped, and the double percent signs in the entries, since no formatting actually takes place there.
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,open,Fix build instructions,[],"As stated in #253, the build instructions need to be updated. 

This patch only fix the docs but in the future, I think 2a and 2b should be handled automatically by adding a specifig Ant target.
"
geometer/FBReaderJ,closed,Fixes #206,[],"#206 Port is appended to book download path if port exists
"
geometer/FBReaderJ,open,"Proposal for an Android Studio branch; a trial migration to Android Studio project, Gradle.",[],"The Eclipse project has been successfully converted by Android Studio and I have made some modifications to the gradle build files so that Android Studio can now be used to build FBReader.

The project builds and FBReader runs perfectly in the simulator/nexus 5 after manual compilation of NDK sources (eg: >ndk-build -C %userprofile%\AndroidStudioProjects\FBReaderJ\fBReaderJ\src\main\jni). This branch can then be used by devs who would like to contribute to FBReader without using Eclipse (which, for all intents and purposes, is now deprecated). 

In fact, with a bit of cleanup, the project could probably be moved completely to use Android Studio from now on instead of Eclipse. At the very least, this branch would allow new devs to be able to work on fixing bugs/contributing to features using Android Studio and then commiting their changes to both master and android_studio branches. 

Does this sound good?
"
geometer/FBReaderJ,closed,Updated Dutch translation,[],"Updated Dutch translation and added Dutch introduction
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,closed,French translation,[],"Thanks for this app. I translated it into French.
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Translated ""Start Screen""
"
geometer/FBReaderJ,closed,Create cs.html,[],"Help in Czech language.
"
geometer/FBReaderJ,closed,Updated Dutch translation,[],"Translated the new items and fixed one typo
"
geometer/FBReaderJ,open,Bookmark functionality for desktop version? ,[],"I just can't find it (have newest 0.99.0 version installed). 
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,open,[Feature request] Add Android Widget showing the book history,[],"I want to read some books in parallel.
At the moment I can open the FBReader, go to the Settings, go to the History, take the book I want, confirm to open the book.
The way could be shorter by showing the content of this List as a Android Widget and clicking triggers to open the book without confirmation.

Another possible way would be to add a ""create shortcut icon on start screen"" option for each book.

A reduce from 5 to 1 click would be realy nice.
"
geometer/FBReaderJ,open,"[Feature request] Add ""return to previous book"" to back key long press actions",[],"Would be useful to quickly switch between different language versions of the same book.
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,open,Feature Request: Auto-hyphenation aggressiveness,[],"I'm talking about justified text here. Beyond a certain text size on a phone, justified text makes more sense.

But it's always a dilemma deciding to enable auto-hyphenation.

On the one hand a narrow block of text looks better when auto-hyphenated, but too much hyphenation can make it difficult to read with fluidity.

On the other, non-hyphenated justified text is usually much better for reading, but it can produce very large spaces between words, especially when two consecutive small words appear in a sentence full of large words.

So depending on how the justify mechanism works with auto-hyphenation, we could modify hyphenation agressiveness either by:
- a threshold for allowed size of spacing between words: when spacing hits that threshold, words at the end of the line get hyphenated, overriding auto-hypenation ""off"" setting.
  or by:
- a threshold for allowed size of words being hyphenated: don't allow words with less than x letters to be split in two.
"
geometer/FBReaderJ,open,"New ""horizontal footer"" progress indicator background color",[],"Use same background color as page.

Use ""footer color"" value for progress line before progress point.

Use greyscale value of ""footer color"" for remaining progress line.
"
geometer/FBReaderJ,closed,Update Dutch translation,[],"Two strings updated
"
geometer/FBReaderJ,open,Boyue T62 buttons do not work.,[],"Hi

I use Boyie T62 (using 4.2.2). Everything seems to work except forward, back buttons. I am wondering is there is a way to make them work on Fbreader?

thanks
"
geometer/FBReaderJ,open,Nightly Builds?,[],"Hi

Is it possible to provide nightlies? I would be much interested in testing edge versions.

thanks
"
geometer/FBReaderJ,open,OPDS over HTTPS,[],"Add the following OPDS feed:
https://mylittleserver.nl/opds/

Expected behaviour:
Able to browse the feed without any errors in a secure and private manner.

Actual behaviour:
Unable to browse the feed. The following error is given: `Couldn't connect to host mylittleserver.nl`.

Additional information:
Viewing above feed using the android web browser works fine.
Confirmed in FBReader version: 1.8.2-Honeycomb
Confirmed in FBReader version: 2.0.6-ics
Android version: Stock 4.4.2
"
geometer/FBReaderJ,open,"[Feature] Reading statistics like Kobo ""Reading Life""",[],"Would be nice see statistics about reading habits per book, like time expended and percentage read.
"
geometer/FBReaderJ,closed,few tags translated to romanian,[],"few tags translated to Romanian (simple change)
"
geometer/FBReaderJ,closed,newer tags translated to romanian,[],"Please check if it's XML compatible and if encoding is fine from your side as well.
"
geometer/FBReaderJ,closed,Add missing pt translations,[],
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,closed,[Feature Request] Collections/Sets,[],"It would be nice to be able to create and assign books to ""collections"" or ""sets"" so that similarly themed, or sequential books could be more easily kept together for easy access. I'm thinking similarly to how they are handled in Aldiko and similar readers.

For example, Tom Clancy's Jack Ryan series books could be kept together in a set, rather than having to scroll through all Tom Clancy books in a directory to find the specific title desired.
"
geometer/FBReaderJ,closed,Updated Dutch translation,[],"- Translated new items
- Fixed typos in existing items
"
geometer/FBReaderJ,closed,updated some German strings,[],
geometer/FBReaderJ,open,Project doesn't  build,[],"Instructions in HowToBuild do not result in successful build, at least on Linux.
First, there's no `dbg` target:

```
BUILD FAILED
Target ""dbg"" does not exist in the project ""FBReaderJ"". 

Total time: 0 seconds
```

`debug` target does exist and compiles a bunch of native libs for various architectures first, then proceeds to fail as follows:

```
BUILD FAILED
/home/itkach/android-sdk-linux/tools/ant/build.xml:601: The following error occurred while executing this line:
/home/itkach/FBReaderJ/third-party/android-filechooser/code/build.xml:46: sdk.dir is missing. Make sure to generate local.properties using 'android update project' or to inject it through an env var
```

Ok, copying local.properties with src.dir and ndk.dir set from project root:

```
cp local.properties third-party/android-filechooser/code
```

Same error, this time for `third-party/drag-sort-listview/library/`. Copying local.properties again, trying to build again. Another error:

```
[getbuildtools] Using latest Build Tools: 19.1.0
     [echo] Resolving Build Target for DragSortListView...

BUILD FAILED
/home/itkach/android-sdk-linux/tools/ant/build.xml:601: The following error occurred while executing this line:
/home/itkach/android-sdk-linux/tools/ant/build.xml:542: Unable to resolve project target 'android-5'

```

`android-5` is Android 2.0, if I'm not mistaken - the one that never really shipped and not available in SDK manager. Ok, changing this (in `third-party/drag-sort-listview/library/project.properties`) to `android-7`

No luck:

```
-build-setup:
[getbuildtools] Using latest Build Tools: 19.1.0
     [echo] Resolving Build Target for DragSortListView...
[gettarget] Project Target:   Android 2.1
[gettarget] API level:        7
     [echo] ----------
     [echo] Creating output directories if needed...
    [mkdir] Created dir: /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/bin/rsObj
    [mkdir] Created dir: /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/bin/rsLibs
     [echo] ----------
     [echo] Resolving Dependencies for DragSortListView...
[dependency] Library dependencies:
[dependency] No Libraries
[dependency] 
[dependency] ------------------
[dependency] API<=15: Adding annotations.jar to the classpath.

-code-gen:
[mergemanifest] No changes in the AndroidManifest files.
     [echo] Handling aidl files...
     [aidl] No AIDL files to compile.
     [echo] ----------
     [echo] Handling RenderScript files...
     [echo] ----------
     [echo] Handling Resources...
     [aapt] No changed resources. R.java and Manifest.java untouched.
     [echo] ----------
     [echo] Handling BuildConfig class...
[buildconfig] Generating BuildConfig class.

-pre-compile:

-compile:
    [javac] Compiling 10 source files to /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/bin/classes
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:10: error: package android.support.v4.widget does not exist
    [javac] import android.support.v4.widget.CursorAdapter;
    [javac]                                 ^
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:28: error: cannot find symbol
    [javac] public abstract class DragSortCursorAdapter extends CursorAdapter implements DragSortListView.DragSortListener {
    [javac]                                                     ^
    [javac]   symbol: class CursorAdapter
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:58: error: cannot find symbol
    [javac]         Cursor old = super.swapCursor(newCursor);
    [javac]                      ^
    [javac]   symbol:   variable super
    [javac]   location: class DragSortCursorAdapter
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:56: error: method does not override or implement a method from a supertype
    [javac]     @Override
    [javac]     ^
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:70: error: cannot find symbol
    [javac]         super.changeCursor(cursor);
    [javac]         ^
    [javac]   symbol:   variable super
    [javac]   location: class DragSortCursorAdapter
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:68: error: method does not override or implement a method from a supertype
    [javac]     @Override
    [javac]     ^
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:79: error: cannot find symbol
    [javac]         notifyDataSetChanged();
    [javac]         ^
    [javac]   symbol:   method notifyDataSetChanged()
    [javac]   location: class DragSortCursorAdapter
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:89: error: cannot find symbol
    [javac]         return super.getItem(mListMapping.get(position, position));
    [javac]                ^
    [javac]   symbol:   variable super
    [javac]   location: class DragSortCursorAdapter
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:87: error: method does not override or implement a method from a supertype
    [javac]     @Override
    [javac]     ^
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:94: error: cannot find symbol
    [javac]         return super.getItemId(mListMapping.get(position, position));
    [javac]                ^
    [javac]   symbol:   variable super
    [javac]   location: class DragSortCursorAdapter
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:92: error: method does not override or implement a method from a supertype
    [javac]     @Override
    [javac]     ^
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:99: error: cannot find symbol
    [javac]         return super.getDropDownView(mListMapping.get(position, position), convertView, parent);
    [javac]                ^
    [javac]   symbol:   variable super
    [javac]   location: class DragSortCursorAdapter
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:97: error: method does not override or implement a method from a supertype
    [javac]     @Override
    [javac]     ^
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:104: error: cannot find symbol
    [javac]         return super.getView(mListMapping.get(position, position), convertView, parent);
    [javac]                ^
    [javac]   symbol:   variable super
    [javac]   location: class DragSortCursorAdapter
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:102: error: method does not override or implement a method from a supertype
    [javac]     @Override
    [javac]     ^
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:131: error: cannot find symbol
    [javac]             notifyDataSetChanged();
    [javac]             ^
    [javac]   symbol:   method notifyDataSetChanged()
    [javac]   location: class DragSortCursorAdapter
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:157: error: cannot find symbol
    [javac]         notifyDataSetChanged();
    [javac]         ^
    [javac]   symbol:   method notifyDataSetChanged()
    [javac]   location: class DragSortCursorAdapter
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:189: error: cannot find symbol
    [javac]         return super.getCount() - mRemovedCursorPositions.size();
    [javac]                ^
    [javac]   symbol:   variable super
    [javac]   location: class DragSortCursorAdapter
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/DragSortCursorAdapter.java:187: error: method does not override or implement a method from a supertype
    [javac]     @Override
    [javac]     ^
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/ResourceDragSortCursorAdapter.java:106: error: method does not override or implement a method from a supertype
    [javac]     @Override
    [javac]     ^
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/ResourceDragSortCursorAdapter.java:111: error: method does not override or implement a method from a supertype
    [javac]     @Override
    [javac]     ^
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/SimpleDragSortCursorAdapter.java:138: error: method does not override or implement a method from a supertype
    [javac]     @Override
    [javac]     ^
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/SimpleDragSortCursorAdapter.java:319: error: cannot find symbol
    [javac]         return super.convertToString(cursor);
    [javac]                     ^
    [javac]   symbol: method convertToString(Cursor)
    [javac] /home/itkach/FBReaderJ/third-party/drag-sort-listview/library/src/com/mobeta/android/dslv/SimpleDragSortCursorAdapter.java:311: error: method does not override or implement a method from a supertype
    [javac]     @Override
    [javac]     ^
    [javac] 24 errors

BUILD FAILED
/home/itkach/android-sdk-linux/tools/ant/build.xml:601: The following error occurred while executing this line:
/home/itkach/android-sdk-linux/tools/ant/build.xml:720: The following error occurred while executing this line:
/home/itkach/android-sdk-linux/tools/ant/build.xml:734: Compile failed; see the compiler error output for details.

Total time: 6 seconds
```

At this point I give up.
"
geometer/FBReaderJ,open,Feature Request: Per-book orientation setting,[],"Plain-text books I want to read in portrait orientation, but when the text is an image (like PDFs and DjVu) the text can't be re-wrapped to fit the screen, it's a fixed width, so I want to read them in landscape mode so I can fit the whole page width on the screen without having the scroll back and forth and without the font being tiny.  So it would be nice to be able to set the orientation on a per-book basis, so I could skip back and forth between image-based and text-based books.
"
geometer/FBReaderJ,open,Yota2,[],"A lot of modifications and redesign to work on YotaPhone2
"
geometer/FBReaderJ,open,"Feature request: Open not only ""file"" scheme but ""content"" also",[],"Now in AndroidManufest.xml:
<intent-filter>
...
                <data android:host="""" android:scheme=""file""/>
...
</intent-filter>

But why FBReader doesn't support ""content"" scheme?
"
geometer/FBReaderJ,open,Feature request: speed reading mode,[],"I was reading about speed reading on [Art of Manliness](http://www.artofmanliness.com/2009/10/18/how-to-speed-read-like-theodore-roosevelt/) and some web apps were recommended for training like [Spreeder](http://spreeder.com/) or [Spritzinc](http://www.spritzinc.com/where-can-i-experience-spritz/).

I was wondering if it is possible to add a speed reading mode for FBReader, so I can train this skill while I read my favorite books.
"
geometer/FBReaderJ,closed,Adding a motivational photograph.,[],"not much, just trying
"
geometer/FBReaderJ,closed,Update ja.xml,[],"BTW, ""in you local network"" should be ""in _your_ local network""
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,closed,Opened this issue by mistake.,[],"EDIT:

sorry for the trouble. Please ignore this issue.
"
geometer/FBReaderJ,closed,Update ja.xml,[],
geometer/FBReaderJ,closed,Show highlighted text color as selected,[],"This is mostly for YotaPhone because we need to show bookmarks on EPD as white text on black background
"
geometer/FBReaderJ,closed,Updated German strings,[],
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,closed,Handle XHTML footnotes and pop them up,[],"A friend of mine says she wants footnotes to pop-up rather than to be treated as internal-links.
At first I didn't agree with her, but after implementing it, I found it intuitive.
With the current implementation, you cannot see both body and footnote text at once.
After applying this patch, you'll see body text behind footnote simultaneously.

I feel sorry for my dirty code but I don't know how to improve it. I'm not a good programmer.
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,closed,French translations of language names,[],
geometer/FBReaderJ,closed,"Text selection, intuitive cursor position?",[],"Though it depends on indivisual user's preference, the current cursor behavior looks unintuitive
when you long-press to select a text.

1) The initial position should not be adjusted, IMO. I usually press the middle of the height, not the bottom of the text.

``` diff
--- a/src/org/geometerplus/zlibrary/text/view/ZLTextView.java
+++ b/src/org/geometerplus/zlibrary/text/view/ZLTextView.java
@@ -1685,7 +1685,7 @@ public abstract class ZLTextView extends ZLTextViewBase {
    }

    protected boolean initSelection(int x, int y) {
-       y -= ZLTextSelectionCursor.getHeight() / 2 + ZLTextSelectionCursor.getAccent() / 2;
+       //y -= ZLTextSelectionCursor.getHeight() / 2 + ZLTextSelectionCursor.getAccent() / 2;
        if (!mySelection.start(x, y)) {
            return false;
        }
```

2) The cursor's head should be the same as the cursor's real position. Currently the cursor is a little confusing.

``` diff
@@ -432,7 +432,7 @@ private void drawSelectionCursor(ZLPaintContext context, ZLTextSelection.Point pt) {
        final int h = ZLTextSelectionCursor.getHeight();
        final int a = ZLTextSelectionCursor.getAccent();
        final int[] xs = { pt.X, pt.X + w, pt.X + w, pt.X - w, pt.X - w };
-       final int[] ys = { pt.Y - a, pt.Y, pt.Y + h, pt.Y + h, pt.Y };
+       final int[] ys = { pt.Y, pt.Y + a, pt.Y + h, pt.Y + h, pt.Y + a };
        context.setFillColor(context.getBackgroundColor(), 192);
        context.fillPolygon(xs, ys);
        context.setLineColor(getTextColor(ZLTextHyperlink.NO_LINK));
```

3) I'm not sure whether the moving cursor should be adjusted or not. Some may want, others may not want.

``` diff
@@ -326,7 +326,7 @@ public abstract class ZLTextView extends ZLTextViewBase {
    }

    protected void moveSelectionCursorTo(ZLTextSelectionCursor cursor, int x, int y) {
-       y -= ZLTextSelectionCursor.getHeight() / 2 + ZLTextSelectionCursor.getAccent() / 2;
+       //y -= ZLTextSelectionCursor.getHeight() / 2 + ZLTextSelectionCursor.getAccent() / 2;
        mySelection.setCursorInMovement(cursor, x, y);
        mySelection.expandTo(myCurrentPage, x, y);
        Application.getViewWidget().reset();
```

(also ZLTextSelextion.expandTo needs modifying if you decide to delete the adjustment)

4) Cursor moves slowly.
It would be useful if I could specify the end of selection with a tap.
i.e. Long tap -> Release -> Pop-up -> Choose ""Re-select by tapping the right-edge of the selection"" (new icon, maybe with an image of finger) -> Tap -> expandTo() -> Pop-up

You may want to make new options for 1, 2 and 3 since each user has different size of fingers or thumbs.
"
geometer/FBReaderJ,closed,French translation complete,[],"100% complete French translation.
"
geometer/FBReaderJ,closed,Roboto shown italic,[],"FBReaderJ uses Roboto-(Thin?)Italic when you choose Roboto.
This doesn't happen with ""Roboto Condensed.""
Here is my font-list:
![roboto-collection](https://cloud.githubusercontent.com/assets/383537/4262747/5af3ddb0-3bb6-11e4-9970-8d535ef5f339.jpg)
"
geometer/FBReaderJ,closed,Update ja.xml DjVu entry,[],
geometer/FBReaderJ,closed,release 2.0.6: Android Manifest file not updated,[],"I want to integrate the latest version - 2.0.6 into my Android app. 
The Android Manifest file (from v2.0.6 under releases) really confused me as it shows - 
""minSdkVersion 5
targetSdkVersion 9""
Is this normal, or these are supposed to be updated?
"
geometer/FBReaderJ,open,[Feature request] Sync bookmarks WITHOUT Google' drive,[],"Hi,

  Thanks for the recent synchronization mechanism. Would it be possible to extend the features so it does not depends on Google's servers ?
I'm not really fond of Google knowing what I'm reading, when, how fast, and then sell my data to ....
The protocol seems quite simple (JSON encoding of a simple 4 member class), so I wonder what would be the requirement for such a server ?

BTW, I've my own OPDS server from my own library, so adding the ""sync"" feature might be interesting if it could be merged here.
"
geometer/FBReaderJ,closed,PoC: Note feature,[],"With this dirty PoC implementation, you can see how note is useful. (#226)
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Fixed ""hard paper""
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,closed,Fix a bug and two todo's about list,[],"A bug: &lt;li&gt;&lt;p&gt; added a newline after bullet.
Todo's: &lt;ol&gt; and indent (copied from HTMLBookReader)
"
geometer/FBReaderJ,open,No Stretch/Title optiions in Wallpapers,[],"Hi have a nice wallpaper I wanted to use but it was tiled making it usuable, I would like it stretched.
"
geometer/FBReaderJ,closed,"Feature request: Commentable bookmark, underline",[],"The functionality I want the most is ""Note to book.""
You make notes on pages of real books, don't you?

An example UI is:
`Long-tap somewhere -> (select word(s)) -> Icons are shown -> Tap Bookmark icon -> Choose a style -> Input text`
and afterward,
`Tap a bookmarked position -> The note you made (and style-selecters and a delete-button) are shown`
Also, bookmark-list will list the notes (if available) instead of (or in addition to) selected positions.

With this ability, you may want one more: ""Underlined style.""
Currently you can only highlight bookmarks.
Isn't it nice if you can underline them?
(It would be useful on e-ink devices or for color-blind people, too)

Of course you may want to seperate bookmarking and noting.
If so, the UI will be something like this:
`Long-tap somewhere -> (select word(s)) -> Icons _and_ an input-field are shown -> Input text`
With this UI, bookmark-list will not be polluted by notes even if you make a lot of notes.
Hmm, now I prefer this one to the commentable bookmarks.

By the way, some e-book readers have a preference option
to easily underline, i.e. `Long-tap -> Select words -> Done` (underlined without any icons or messages).
I don't use it, but it would be useful for some people who underline a lot.
"
geometer/FBReaderJ,closed,Update ja.xml,[],"Consistent translation: ""ライブラリ"" instead of ""ライブラリー""
"
geometer/FBReaderJ,open,"RBReader ""Show Status Bar"" (reading mode) option doesn't work most of the time",[],"I have only found one way to get the status bar to appear in reading mode (and it won't show unless Action Bar also shown):
1. Tick ""Show Action Bar""
2. Tick/Toggle ""Show Status Bar""
3. Exit and re-enter app
"
geometer/FBReaderJ,closed,Proprietary dependencies,[],"FBReader for Android is supposed to be an open source software but there is a lot of proprietary dependencies in it.

It's problematic since we can't compile source code for android 4.1+ devices which are not using Google Play, and we can't use it in full open source environment since it's using proprietary dictionary api.

Please clarify the situation of FBReader open source policy.

Note : using specific programs such as Yota SDK is a bit problematic too ...

Thanks.
"
geometer/FBReaderJ,closed,email contact => @fbreader.org + new background preference,[],"Updated.
I had used an old en.xml which was obtained from http://fbreader.org/content/documentation/i18n/android
"
geometer/FBReaderJ,closed,Update ja.xml,[],"Fix a number of typos.
Make it more consistent. (「する」or「します」/「の」or「を」)
""Found"" should be ""Search results"" instead of just ""Results"".

This pull-request is just a minimum fix.
Naofum-san's translation looks too word-to-word.
I believe my translation which I sent you (via e-mail) is better in quality/usability.
I'd suggest you take mine as a whole. (except the recent mail-address change)
"
geometer/FBReaderJ,open,Feature request: Add support for Plucker files to FBReaderJ,[],"The C version of FBReader I use under Windows and Linux will open and display files created for the Plucker offline HTML viewer for Palm OS.  I made extensive use of Plucker, and have thousands of things in Plucker format.  It would be wonderful to also be able to read them on my Android tablet.
"
geometer/FBReaderJ,closed,Completed Dutch translation,[],"I finally completed the Dutch translation (for now that is obviously)
"
geometer/FBReaderJ,open,"Add option to sync positions without changing ""current book"" on a device",[],"The implementation of cross-device sync causes each device to automatically open the book that was most recently read on _any_ synced device.  I run FBReader on multiple devices but I usually read different things on each device (ie. a book on my tablet and a periodical on my phone).  I'd like to be able to sync my reading positions across all devices (so that if I decide to read my current book on the phone I'll be in the right place), but I want each device to open the last thing I was reading _on that device_ (ie. my tablet opens my current book, and my phone opens my periodical).
"
geometer/FBReaderJ,closed,Add translation japanese,[],
geometer/FBReaderJ,closed,Source for jar libraries,[],"Where can I find the source code for LingvoIntegration_2.5.2.12.jar and open-dictionary-api-1.2.1.jar? If they are not open-source, can FBReaderJ can be build without them?
"
geometer/FBReaderJ,open,"FBReader cannot show the embedded images, if the file contains # character",[],"When I long tap an image in an epub file, a new window is showed and quickly closed. In the log the two stacktraces appear:

<pre>
I/ActivityManager(  402): START u0 {dat=imagefile:///storage/sdcard0/Books/The Robert C. Martin - Agile Principles, Patterns, and Practices in C cmp=org.geometerplus.zlibrary.ui.android/org.geometerplus.android.fbreader.image.ImageViewActivity (has extras)} from pid 28559
D/FBReader.Sync(28622): quick sync
W/art     (   96): Could not get current activity
I/ActivityManager(  402): Start proc org.geometerplus.zlibrary.ui.android:imageView for activity org.geometerplus.zlibrary.ui.android/org.geometerplus.android.fbreader.image.ImageViewActivity: pid=28652 uid=10078 gids={50078, 3003, 1028, 1015}
D/ActivityThread(28652): handleBindApplication:org.geometerplus.zlibrary.ui.android:imageView
D/ActivityThread(28652): setTargetHeapUtilization:0.25
D/ActivityThread(28652): setTargetHeapMinFree:524288
W/System.err(28652): java.lang.ArrayIndexOutOfBoundsException: length=1; index=2
W/System.err(28652):    at org.geometerplus.zlibrary.core.image.ZLFileImage.byUrlPath(ZLFileImage.java:38)
W/System.err(28652):    at org.geometerplus.android.fbreader.image.ImageViewActivity.onCreate(ImageViewActivity.java:70)
W/System.err(28652):    at android.app.Activity.performCreate(Activity.java:5231)
W/System.err(28652):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)
W/System.err(28652):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2169)
W/System.err(28652):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2264)
W/System.err(28652):    at android.app.ActivityThread.access$800(ActivityThread.java:144)
W/System.err(28652):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1205)
W/System.err(28652):    at android.os.Handler.dispatchMessage(Handler.java:102)
W/System.err(28652):    at android.os.Looper.loop(Looper.java:136)
W/System.err(28652):    at android.app.ActivityThread.main(ActivityThread.java:5139)
W/System.err(28652):    at java.lang.reflect.Method.invoke(Native Method)
W/System.err(28652):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:796)
W/System.err(28652):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:612)
W/System.err(28652): java.lang.NullPointerException: Attempt to invoke virtual method 'android.graphics.Bitmap org.geometerplus.zlibrary.ui.android.image.ZLAndroidImageData.getFullSizeBitmap()' on a null object reference
W/System.err(28652):    at org.geometerplus.android.fbreader.image.ImageViewActivity.onCreate(ImageViewActivity.java:77)
W/System.err(28652):    at android.app.Activity.performCreate(Activity.java:5231)
W/System.err(28652):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)
W/System.err(28652):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2169)
W/System.err(28652):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2264)
W/System.err(28652):    at android.app.ActivityThread.access$800(ActivityThread.java:144)
W/System.err(28652):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1205)
W/System.err(28652):    at android.os.Handler.dispatchMessage(Handler.java:102)
W/System.err(28652):    at android.os.Looper.loop(Looper.java:136)
W/System.err(28652):    at android.app.ActivityThread.main(ActivityThread.java:5139)
W/System.err(28652):    at java.lang.reflect.Method.invoke(Native Method)
W/System.err(28652):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:796)
W/System.err(28652):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:612)
</pre>


The original file name is 'The Robert C. Martin - Agile Principles, Patterns, and Practices in C#.epub'. If I remove the # character, everything works fine.
FBReader version: 2.0.5
Android version: 4.4.4 (CyanogenMod 11-20140804-SNAPSHOT-M9-crespo)
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,closed,added sync network translation,[],"added sync network translation
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,open,"where could I find the sample project of the third-party, android-filechooser?",[],"Could you tell me where I can find the sample project of the third-party android-filechooser?because I was very interested in the library. And I want to use it and read its source codes. So where could I find the project in Github?
"
geometer/FBReaderJ,closed,some files ending with .so lacks,[],"I had almost got everything prepared in my Eclipse. But when I run it, an Error happened like this. After looking through the whole project, I found nothing about any *.so libraries. So, is NativeFormats-v4.so or something else is imported and where could I find it? So I could put it or them into the directory of libs.
"
geometer/FBReaderJ,open,issue about FBReaderJ project.properties file!,[],"Hi there,

just download the source code from github for enhancement, unfortunately, doen't know what's the meaning of ""android.library.reference.4=${google.services.lib.dir}"" in file ""project.properties""!

Can someone tell me what's the meaning of ""google.services.lib.dir"" in project FBReaderJ?

All the best!
"
geometer/FBReaderJ,closed,Unable to read PDF Files,[],"Hi all (and sorry if i am at the wrong place for this),

I'm trying to add PDF support to FBReaderJ using the PDF Plugin (http://fbreader.org/files/android/plugins/FBReaderJ-plugin-pdf.apk). Installed the APK, but this changes nothing to my library. Still no PDF file listed. Seems FBReader is not aware at all of the existence of the plugin (even if when listing plugins for installation, it's detect PDF Plugin as installed).

I am using the last version of FBReaderJ, cloned 2 days ago, on Android 4.0.4.

Is there a step i am missing ?
"
geometer/FBReaderJ,closed,Download storage from multiple OPDS servers on the same IP,[],"When multiple OPDS servers are being hosted on the same IP address FBReader stores the downloads for each server in the same directory.  This leads to issues such as books appearing with the wrong covers, appearing as having been already downloaded, containing the wrong book after being opened (it appears deleting a book does not clear the cache for said book).

A few basic solutions that I can think of would be to include the full OPDS address as the folder (including the port), use the server name as the name for the download folder, or to allow the user to define download locations on a per server basis. Any of these would solve the issue although allowing the user to define their own locations while defaulting to the current implementation would allow for backwards compatibility.
"
geometer/FBReaderJ,closed,translated new strings to German,[],
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,open,Feature Request: Add a Recently Added choice in the FBReader Library menu,[],"I tend to add an assortment of books at a time to the tablet where I use FBReaderJ.  It would be nice to have a menu choice for Recently Added books, displaying the last 10 or so added based on add date/time.
"
geometer/FBReaderJ,open,Bug: FBReaderJ 2.0 beta 14 not showing embedded images,[],"I have FBReaderJ on an Android tablet running 4.2 Jellybean.  It mostly works fine, save for one issue.  I have some eBooks in ePub and Mobi format that have embedded illustrations in the text.  FB 2.0 beta doesn't show them.  Only the cover image (if any) is displayed on opening the book.  Interior images do not display, with a blank space where the image should be.  A long tap to view the image separately is required to make it appear.  This is the case for both ePub and Mobi formatted books.

This seems to be a regression, as the stable 1.10 release behaves as expected.  (But 1.10 apparently lacks the tag editing feature, alas.)
"
geometer/FBReaderJ,closed,Cannot Open a File With a Colon in Its File Name,[],"operating system: Android (version: 4.4.2)
FBReader application version: 1.10.2

I cannot open a file with a colon ("":"") in its file name. The file name of the particular file is ""Beyond Gravity: The Complex Quest to Take Out Our Orbital Trash (Mark Pontin).epub."" When the file is renamed to ""Beyond Gravity_ The Complex Quest to Take Out Our Orbital Trash (Mark Pontin).epub,"" it opens properly. This appears to affect any file with a colon in its file name. I have attached three images. ""Screenshot (1)"" is a screenshot that shows the menu item that appears for the file, when its name includes a colon, on a file open page in FBReader. ""Screenshot (2)"" shows the page that appears if you tap on the menu item for the file. ""Screenshot (3)"" shows the menu item that appears when the file does not contain a colon in its file name.

![screenshot 1](https://cloud.githubusercontent.com/assets/7726508/3108810/f051688c-e693-11e3-8a0a-1acc00d27fc0.png)
![screenshot 2](https://cloud.githubusercontent.com/assets/7726508/3108811/f051f7a2-e693-11e3-8635-a2eff42c4d22.png)
![screenshot 3](https://cloud.githubusercontent.com/assets/7726508/3108812/f053b3a8-e693-11e3-98ed-ede187f8624f.png)
"
geometer/FBReaderJ,open,"[feature request] gzip, bzip2 and xz support",[],"Please add support for gzip (.gz), bzip2 (.bz2) and XZ (.xz) files. I have a lot of .txt.bz2 books and have to keep them compressed (compressing them makes a big difference in terms of disk space on my phone)

BTW, FBReader is awesome!
"
geometer/FBReaderJ,closed,fixed some small typos,[],
geometer/FBReaderJ,open,FBReaderJ 2.0 beta 14 not removing books from device,[],"I'm running FBRFeaderJ 2.0 beta 14 an a tablet running Android 4.2 (Jellybean).  For the most part, it works flawlessly.  I keep eBooks in a directory on an external microSD card, not device storage.  The card shows as /mnt/extsd.  I added that entry to FBreader's list of places to look for eBooks, and it found all the books on the card and showed them it it's listings.

The one quirk I've encountered is trying to _remove_ eBook files.  Press and hold on the book listing in the directory, get the menu, and press Delete Book.  FB warns you the book will be removed.irreversibly, and asks if you're sure.  Say yes and the entry disappears from the directory, but the underlying book is _not_ removed.  Go back into FBReader later, and it shows in the directory again.

My guess is that the problem is that the books are on an external card, and not in device storage.  It's trying to delete them and silently failing.

I can live with this, and can always eject the card and remove files from my Windows machine, but it would be nice if this could be addressed in a future version
"
geometer/FBReaderJ,closed,updated german translation,[],"updated the new strings
used the oficial language codes for switch language
"
geometer/FBReaderJ,closed,Add Arabic localization,[],"This cover most visible strings, and it's well tested in the [Arabic Reader](https://github.com/boussouira/android-arabic-reader) frok
"
geometer/FBReaderJ,open,F-Droid beta builds,[],"Please consider adding beta builds to F-Droid, including the great PDF plugin.
Thank you very much for this great Reader!
"
geometer/FBReaderJ,open,feature request: more default opds directories,[],"Please add following OPDS directories to the default list:
http://flibusta.net/opds
http://opdshome.uo1.net/samlib/
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,closed,update German translation,[],
geometer/FBReaderJ,open,Option to duplicate the last line of a page on the following page,[],"I remember in old versions of FBReader for Android, there was an option to duplicate the last line of a page on the next page, when switching pages.

This option was very useful and allowed for easy reading flow as I could trigger the page change in the middle of the last line, and could continue to read it right away on the next page. With small screens, this is very useful because page breaks are often.

In newer FBReader versions, I can't find this option any more. I suppose this was taken away when multiple column was implemented. Is that correct? Is there a way to get this feature back? I could help with the code with little help.
"
geometer/FBReaderJ,open,[Feature Request] Associate file extensions with Android intent filter,[],"Sometimes one has ebooks in a directory not automatically scanned by Android (such as a USB flash drive, encrypted containers on the internal flash, cloud-synced folders outside the usual /storage/sdcard/Books etc.).
Currently, the only option to read those books is to go to Library->File system->System and then navigate to the file (I don't remember exactly how the items are called, I am currently using the German localization; here it's Bibliothek->Dateibaum->Systemspeicher).
While this enables one to open most files, it is cumbersome and only works for books that actually exist as a file whithin the Android file directory tree.

It would really be convenient to be able to open ebooks from any file manager using Android's intents. For this to work, you would have to register the common ebook file extensions with Android, see e.g. http://stackoverflow.com/questions/3760276/android-intent-filter-associate-app-with-file-extension
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Updated Czech language.
"
geometer/FBReaderJ,open,API returns the last paragraph 3 times.,[],"Use the included book ""About FBReaderJ"" as an example. The api call to getParagraphsNumber will return 13. 

getParagraphText(1), getParagraphText(12) and getParagraphText(13) all return the same text: ""Contact the developers via e-mail."".

Trying to highlight them seems to indicate that these paragraphs are somehow invisible. For example the following highlights the last paragraph:

```
myApi.highlightArea(
    new TextPosition(11, 0, 0),
    new TextPosition(11, Integer.MAX_VALUE, 0)
);
```

But doing the same for paragraphs 12 and 13 display no highlighting.
"
geometer/FBReaderJ,open,The  proguard.cfg does not work at all.,[],"I try to generate the apk with proguid.cfg, then I found that apk can not run in the device, after I de-package the apk and extract the jar, I found that the clases defined with `-keep` like `Book` , `ZLFile` and etc are all obfuscated with a different name.

Any idea to fix it?
"
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,open,potential improvement for responsiveness in FBReaderJ,[],"Dear developers of FBReaderJ,

I'm a Ph.D. student and I'm doing research related to Android apps'
responsiveness. I found there are some cases in FBReaderJ that the
database is queried, or bitmap is generated in UI thread. Does this
affect the responsiveness of the app? An optimization could be
extracting these operations into AsyncTask.

For example, in ImageViewActivity.java, line 78 generates a bitmap
(invokes ""getImageData""), which is a long computation. Is it better to
put them into a AsyncTask, so the onCreate method won't be blocked? I
attach a sample patch here. Note that there are data races on
""myBitmap"" after this change, but I think the races won't lead to bugs
because you've checked if ""myBitmap"" is null before use it in ""onDraw""
method.

Similarly, I also transformed ZLAndroidPaintContext.java,
BookInfoActivity.java, NetworkBookInfoActivity.java, since they are
also trying to get Bitmap in UI thread.

Also, in BookInfoActivity.java and LibraryActivity.java, there are
several access to IO/database in UI Thread. E.g.,
BookInfoActivity.java line 116 invokes ""myBook.reloadInfoFromFile()"".
This also lead to a potential responsiveness issue. Thus, I tried to
move it into AsyncTask. Similarly, LibraryActivity.java invokes 
""myRootTree.Collection.saveBook"" several times, which executes a
database transaction.

There should be some other places that can be improved. I can't report
all of them since I checked the code manually and it takes time. However, 
what do you think about these improvements? My thought is we can improve the
responsiveness if we try to avoid the access to IO/Database, computing bitmap in 
UI thread.

Thanks,
Yu
"
geometer/FBReaderJ,closed,Nexus 4 New Version 1.9.5 from google play - This app is incompatible with your device,[],"This looks like wrong manifest for ics versions...
"
geometer/FBReaderJ,closed,Updated cs.xml,[],
geometer/FBReaderJ,open,Starting an Activity from FBReader Activity,[],"I want to start my own activity from FBReader Activity.
My activity is also in same pakage of  FBReader Activity.

Kindly please help me to do this task.

Waiting for replay..
"
geometer/FBReaderJ,closed,New config system doesn't store string properly,[],"i have this code that used to work before the new config system:

```
        ZLStringOption opt = new ZLStringOption(""user"", ""uuid"", """");
        String uuid = opt.getValue();

        if(uuid.length() == 0) {
            uuid = UUID.randomUUID().toString();
            opt.setValue(uuid);
        }
```

now it generate a new UUID for each run.
"
geometer/FBReaderJ,open,[Feature request] Image sizing,[],"Folks,

After device upgrade I noticed that some of fb2 e-books with embedded images have those images about half the size of previous device's. I propose to add a slider to image config section to allow scaling of the images either to specific DPI or specific % of scale (e.g., on my new device I'd choose 200%, and the image would look like same size as on the old one). Of course, those pics that are larger than page when scaled up, would have to be adjusted to fit the page, like what there's currently there with ""Images -> Fit images to screen -> All"" option. The above logic should not affect covers, I think.
"
geometer/FBReaderJ,open,<TD> tag is not working?,[],"Why <td> tag is not working...
"
geometer/FBReaderJ,closed,Updated Dutch translation,[],"Updated Dutch translation
"
geometer/FBReaderJ,closed,Add Microtypography,[],"Added some code for better typography:
- [Optical margin alignment](https://en.wikipedia.org/wiki/Optical_margin_alignment)
- [Hanging punctuation](https://en.wikipedia.org/wiki/Hanging_punctuation)

Most useful if text is viewed in justify mode, but also works for other alignments.
"
geometer/FBReaderJ,closed,"Yotaphone support: text settings do not apply to e-ink screen (font size, font name etc)",[],"Text settings apply to main screen only. It would be nice if they works for e-ink screen too.

On the other side, BookMate' settings works for both screens.

Thanks for quick support!
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Updated Czech language.
"
geometer/FBReaderJ,closed,Auto Detect Nook and Add Key Bindings,[],"Code was added to automatically detect a Barns and Noble Nook and apply key bindings for next and previous page for the 4 front left/right buttons (2 buttons on left, 2 on right). This works on the Nook Simple Touch, Nook Simple Touch GlowLight, and I believe the original Nook. 
"
geometer/FBReaderJ,open,[Feature Request] Progress in Time,[],"A progress indicator of time left in the chapter and time left in the book would be awesome. A view of the percentage left in the book does me no good, I really like to see how much time I have left reading a chapter and the entire book.
"
geometer/FBReaderJ,closed,Fixing open fb2.zip and etc from file manager and dropbox,[],
geometer/FBReaderJ,closed,Update cs.xml,[],
geometer/FBReaderJ,closed,QuickTap in RTL Languages,[],"Hi Everybody,
I'm facing a problem with FBReader and my Persian Books, Which are RTL and when i click on right it should go previous page instead of next page and when i tap on left bottom of page, it should go to next page.
Could anybody lead me where should i take care to make this change.

Thanks,
Bersam
"
geometer/FBReaderJ,closed,[feature request] Use new feature from Android 4.4 to hide status bar,[],"There's a new feature in android 4.4 (kitkat) that allow to hide status bar. This feature is useful for a reader. The exemple taken by google shows a book reader ;) 

You can find more info in http://developer.android.com/about/versions/android-4.4.html#UI

I think its easy to do. 
"
geometer/FBReaderJ,open,"support for ""white-space: pre-wrap"" (Indentation in programming books)",[],"I own a lot of books from the pragmatic programmers bookshelf. Pretty much any book comes with broken indentation. Their markup is a little weird, but it is browsable nonetheless.

Here's what the same passage from [Programming Ruby 1.9 & 2.0](http://pragprog.com/book/ruby4/programming-ruby-1-9-2-0) looks like in its full **epub** glory:
![notation_epub_fbreader](https://f.cloud.github.com/assets/124909/1572375/5a255868-511b-11e3-9779-89ea640f053e.png)

The same html (unzipped) in **firefox**:
![notation_epub_firefox](https://f.cloud.github.com/assets/124909/1572327/44d516c0-511a-11e3-97ca-e4747904d3fa.png)

And that what the same book downloaded as **PDF** looks like:
![notation_pdf](https://f.cloud.github.com/assets/124909/1572333/5766a042-511a-11e3-811d-c96c9cb41b4a.png)

The Firefox and PDF versions look close enough to be useful. But in larger code examples, FBReader's rendering is very complicated to understand.

The Section looks like this in HTML (put through dirtymarkup.com for readability)

``` HTML
<table class=""processedcode"">
  <tr>
    <td class=""codeprefix"" valign=""top"">​ <span class=""codespan""></span></td>
    <td class=""codeline"" valign=""top"">
      <div style=""white-space: pre-wrap; font-family: DroidSansMono;font-size:-1;"">
        ​<strong class=""prompt"">class</strong>​ SampleCode
      </div>
    </td>
  </tr>

  <tr>
    <td class=""codeprefix"" valign=""top"">​ <span class=""codespan""></span></td>
    <td class=""codeline"" valign=""top"">
      <div style=""white-space: pre-wrap; font-family: DroidSansMono;font-size:-1;"">
        ​<strong class=""prompt"">def</strong>​ run
      </div>
    </td>
  </tr>

  <tr>
    <td class=""codeprefix"" valign=""top"">​ <span class=""codespan""></span></td>
    <td class=""codeline"" valign=""top"">
      <div style=""white-space: pre-wrap; font-family: DroidSansMono;font-size:-1;"">
        ​<em class=""comment"">#...</em>​
      </div>
    </td>
  </tr>

  <tr>
    <td class=""codeprefix"" valign=""top"">​ <span class=""codespan""></span></td>
    <td class=""codeline"" valign=""top"">
      <div style=""white-space: pre-wrap; font-family: DroidSansMono;font-size:-1;"">
        ​<strong class=""prompt"">end</strong>​
      </div>
    </td>
  </tr>

  <tr>
    <td class=""codeprefix"" valign=""top"">​ <span class=""codespan""></span></td>
    <td class=""codeline"" valign=""top"">
      <div style=""white-space: pre-wrap; font-family: DroidSansMono;font-size:-1;"">
        ​<strong class=""prompt"">end</strong>​
      </div>
    </td>
  </tr>
</table>
```

And here's the same code again in the **exact** form that is in the zipfile (no prettyfication):

``` HTML
<table class=""processedcode""><tr><td valign=""top"" class=""codeprefix"">​<span class=""codespan""> </span></td><td valign=""top"" class=""codeline""><div style=""white-space: pre-wrap; font-family: DroidSansMono;font-size:-1;"">​<strong class=""prompt"">class</strong>​ SampleCode</div></td></tr><tr><td valign=""top"" class=""codeprefix"">​<span class=""codespan""> </span></td><td valign=""top"" class=""codeline""><div style=""white-space: pre-wrap; font-family: DroidSansMono;font-size:-1;"">  ​<strong class=""prompt"">def</strong>​ run</div></td></tr><tr><td valign=""top"" class=""codeprefix"">​<span class=""codespan""> </span></td><td valign=""top"" class=""codeline""><div style=""white-space: pre-wrap; font-family: DroidSansMono;font-size:-1;"">    ​<em class=""comment"">#...</em>​</div></td></tr><tr><td valign=""top"" class=""codeprefix"">​<span class=""codespan""> </span></td><td valign=""top"" class=""codeline""><div style=""white-space: pre-wrap; font-family: DroidSansMono;font-size:-1;"">  ​<strong class=""prompt"">end</strong>​</div></td></tr><tr><td valign=""top"" class=""codeprefix"">​<span class=""codespan""> </span></td><td valign=""top"" class=""codeline""><div style=""white-space: pre-wrap; font-family: DroidSansMono;font-size:-1;"">​<strong class=""prompt"">end</strong>​</div></td></tr></table>
```

(edit: changed one image)
"
geometer/FBReaderJ,open,Change page in Android 4.2.2,[],"In Android 4.2.2 when changing the page, this action is not full completed, I can see part of the previous page on top of the new page, after some seconds the problem is solved, but when reading I need to wait in every page.
"
geometer/FBReaderJ,closed,Update ca.xml,[],"Fixes and improvements.
Tagged untranslated strings.
"
geometer/FBReaderJ,closed,[Feature Request] FBReader in the Greek Language,[],"Hi,
I would really like to see FBReader in the Greek language. 
Therefore I would translate it and implement this language in the app. 
"
geometer/FBReaderJ,closed,Customizable height window of dictionary,[],"Customizable height window of dictionary
"
geometer/FBReaderJ,closed,Customizable height window of dictionary,[],"Customizable height window of dictionary
"
geometer/FBReaderJ,open,Screen stays on when app is running in background,[],"To Reproduce:
Set ""Prevent Screen from Sleeping"" to ""Always"".
Leave the app by pressing the home button on the phone.

Expected behaviour:
Screen times out and turns off according to system settings

Actual behaviour:
Screen stays on indefinitely (until battery runs out)

Workaround:
Manually close the app every time you exit, or leave it charging all the time

FBReader v1.9
Android 4.2.2 (CyanogenMod 10.1.3)
"
geometer/FBReaderJ,closed,Yota,[],"1) put 2 back button is visible now on yotaphones
2) yota library is not requered for installation now
"
geometer/FBReaderJ,open,OPDS book catalogue login support,[],"Is it possible or is it planned to support logging in to an OPDS book catalogue?

Reference:

http://opds-spec.org/specs/opds-catalog-1-1-20110627/#Securing_OPDS_Catalogs 

""13. Securing OPDS Catalogs

OPDS Catalogs are delivered over HTTP. Authentication requirements for HTTP are covered in Section 11 of [RFC2616].

The type of authentication required for any OPDS Catalog is a decision to be made by the OPDS Catalog provider. OPDS Catalog clients are likely to face authentication schemes that vary across OPDS Catalogs. At a minimum, client and server implementations MUST be capable of being configured to use HTTP Basic Authentication [RFC2617] in conjunction with a connection made with TLS 1.0 [RFC2246] or a subsequent standards-track version of TLS supporting the conventions for using HTTP over TLS described in [RFC2818]. It is RECOMMENDED that OPDS Catalog clients be implemented in such a way that new authentication schemes can be deployed.

Because this protocol uses HTTP response status codes as the primary means of reporting the result of a request, OPDS Catalog providers are advised to respond to unauthorized or unauthenticated requests using an appropriate 4xx HTTP response code (e.g., 401 ""Unauthorized"" or 403 ""Forbidden"") in accordance with [RFC2617].""
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Updated Czech file.
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Updated Czech language file.
"
geometer/FBReaderJ,closed,Multidirectory library,[],"Мне всегда не хватало возможности объединить в библиотеке FBReader'а несколько каталогов. Этафункция могла бы быть полезна для тех, кто использует клиента UbuntuOne. Я тут поэкспериментировал немного... В общем это мой первый опыт использования git и первый опыт программирования для Android - не судите строго, если что не так.
"
geometer/FBReaderJ,closed,OpenDicitonaryAPI Support,[],"This change set provide opportunity to work with Slovoed and with a number of other dictionaries through OpenDictionary API [http://dictionary-api.org/api].

I've added new half screen activity to show article from dictionary within app.
Also I've changed method to determine height of  dictionary entry. This method was used to ColorDict. Previous implementation used absolute boundary values. Which appeared on phones with Full HD screen, like SGS4.
"
geometer/FBReaderJ,open,Screen brightness adjustment doesn't work if page turning is set to tap only,[],
geometer/FBReaderJ,open,Non visible text,[],"On NOOK SIMPLE TOUCH (maybe on any device with white bachground on system lists) text in not visible on:
1. Bookmarks
2. Settings with a small square on left (elements on menu ""Colors and background"")
"
geometer/FBReaderJ,closed,"Edit metadata, unread book list, bookmarks ordered by place not time",[],"I've added metadata editing for Authors, Tags, Titles, and Series. This is my first pull request, please let me know if I'm going about this wrong.

I also added a list of books labelled unread (similar to favorites) and changed the order in which bookmarks are displayed so they are in order of position rather than when they were added. 

For the unread list, I did need to add a new string which is not translated to the other languages... I don't know what to do about this. I'm also working on a rooted device and don't have another to test on and I don't know if new problems will come up on a non-rooted device.

Thanks,
Sarah
"
geometer/FBReaderJ,open,[Feature Request] Allow for downloading of all content types in OPDS,[],"Hi,

it would be great if FBReader allowed downloading of all content types available through an OPDS source.

Right now, it will only show a download option if the corresponding file format is supported by FBReader. As OPDS is not all to widespread in general, I have to resort to another (closed source) book reader which allows for that to get e.g. cbz-comic books on my device, which I then open with an open source comic reader (which doesn't support OPDS). It would be great if FBReader could take care of that, so it would be my one-stop-shop OPDS solution.
"
geometer/FBReaderJ,open,Slow operations in UI thread,[],"Dear developers,

I am studying FBReaderJ using a static code checker. I found some potential slow operations in FBReaderJ's UI thread.

Android documentation says this:

http://developer.android.com/training/articles/perf-anr.html

""Any method that runs in the UI thread should do as little work as possible on that thread. In particular, activities should do as little as possible in key life-cycle methods such as onCreate() and onResume(). Potentially long running operations such as network or database operations, or computationally expensive calculations such as resizing bitmaps should be done in a worker thread (e.g., via AsyncTask).""

I found the following event handler performing database queries and file IO:

org.geometerplus.android.fbreader.tips.TipsActivity's onClick() handler at line 102 (revision 0f02d4e923): file IO
org.geometerplus.android.fbreader.library.BookInfoActivity's onClick() handler at line 114: file IO
org.geometerplus.android.fbreader.network.NetworkBookInfoActivity's onClick() handlers at line 210 and 380: file IO
org.geometerplus.android.fbreader.library.BookInfoActivity's onStart() handler: file IO
org.geometerplus.android.fbreader.network.NetworkBookInfoActivity's onCreate() handler: database queries and file IO
org.geometerplus.android.fbreader.network.MenuActivity's onCreate() and onActivityResult() handlers: file IO
org.geometerplus.android.fbreader.network.NetworkLibraryActivity's onCreate() handler: database queries and file IO
org.geometerplus.android.fbreader.style.EditStyleActivity's onCreate() handler: file IO

Do you think these slow operations will affect FBReaderJ's performance (e.g., making GUI not smooth enough)? If yes, perhaps moving them to a separate thread can help make FBReaderJ super smooth in user interaction. Looking forward to your reply and hope I can help improve FBReaderJ.
"
geometer/FBReaderJ,closed,Danish translation and hyphenation patterns,[],"Danish translation done by Jens Kaestel, sponsored by Panacea Supplies
Hyphenation patterns imported by Dennis Sheil of Panacea Supplies

Only thing left to do for Danish are the language patterns.
"
geometer/FBReaderJ,open,freeze/crash on extremely long words,[],"FBReaderJ (Android) freezes and sometimes crashes when it encounters an extremely long word.

For example, see chapter 9 of http://craphound.com/homeland/Cory_Doctorow_-_Homeland.epub which has some large numbers that span two or more pages on my screen.

Version 1.8.2, Android 4.1.1, Samsung GT-I8190
"
geometer/FBReaderJ,closed,Performance improvement suggestion,[],"Dear developers,

I am a big fan of FBReaderJ, and recently I am writing a static code analysis tool to conduct performance analysis for Android apps. I found several violations of ""view holder"" patterns in FBReaderJ's code. These violations could affect the ListView scrolling performance. 

Currently in FBReaderJ, in some list adapters the getView() method works likes this

public View getView(int position, View convertView, ViewGroup parent) {
  if(convertView == null) {
    convertView = mInflater.inflate(R.layout.listItem, null);
  }
  ((TextView) convertView.findViewById(R.id.text)).setText(DATA[position]);

  return convertView;
}

When the users scroll a list view, this implementation avoids inflations for each view (by using the recycled convertView), which saves CPU cycles and RAM. However, the method still invokes findViewById() every time when it is called. Android documentation says that findViewById is an expensive call, it recursively traverses a view tree to find a view matching the give ID. Google developers actually suggested a better way to implement getView(). It works like this:

We define a ViewHolder class with the field: TextView text . Then the getView() can be implemented like this:

public View getView(int position, View convertView, ViewGroup parent) {
  ViewHolder holder;
  if(convertView == null){
    //we have no recycled views to use, then build new one
    convertView = mInflater.inflate(R.layout.listItem, null);
    holder = new ViewHolder();
    holder.text = (TextView) convertView.getViewById(R.id.text);
    convertView.setTag(holder)
  } else {
    //use the recycled view to improve performance
    holder = (ViewHolder) convertView.getTag(); 
  }
  holder.text.setText(DATA[position]);

  return convertView;
}

This avoids calling findViewById frequently and will improve performance when the list contains many items or on low end devices.

We found the violations of view holder pattern in these classes:
org.geometerplus.android.fbreader.CancelActivity.java
org.geometerplus.android.fbreader.network.NetworkLibraryAdapter.java
org.geometerplus.android.fbreader.style.StyleListActivity.java
org.geometerplus.android.fbreader.TOCActivity.java
org.geometerplus.android.fbreader.library.LibraryTreeAdapter.java
org.geometerplus.android.fbreader.BookmarksActivity.java

you may find more useful information in thees references: 
view holder pattern: http://lucasr.org/2012/04/05/performance-tips-for-androids-listview/
http://developer.android.com/training/improving-layouts/smooth-scrolling.html
http://www.youtube.com/watch?v=wDBM6wVEO70

In the last Google IO video, we find that the current implementation of getView() in FBReaderJ is a right way, but not a fast way. The video actually provides three ways: a slow way, a right way and a fast way.

Looking forward to your reply and hope I can help improve FBReaderJ :)
"
geometer/FBReaderJ,open,[WISH] Add texture for background,[],"Add texture for a background like as in Cool Reader 2 Windows. It is grey stone
"
geometer/FBReaderJ,open,[Feature Request] Show bookmarks in footer like TOC Marks,[],"I would really like to be able to see bookmark positions in the book in the footer along with the chapter markers (probably in a different color).
"
geometer/FBReaderJ,closed,"Kludge to fix serious race condition, also Danish hyphenation",[],"On some Android devices, clicking through OPDS catalogs, a large percentage of the time you will get the emptyCatalog message (""Catalog is empty, sorry"").  On clicking reload you will usually get the catalog loaded correctly.

This seems due to some kind of problem with how mutual exclusion is done.  It seems there is some kind of race condition.

This is a bad problem and has been around for months, at least.  It is a big problem - sometimes new users will click OPDS and see nothing, not know to click reload and give up.  Even for users who know to click reload it can be annoying to continually click reload.

This fix is kludgey but its behavior seems to be better than the existing behavior.  One question is, how long does this commit delay the load of a long loading normal sized catalog load?  Another question is, how does it deal with very large catalog pages?  In both cases I believe the behavior of this commit is better than its predecessor.

The  commit which fixes this (the first commit) is definitely kludgey and I'm sure a more elegant fix can be done, but this fix is all I have time for at the moment.

Also, I have another second commit in this pull request, which allows for end-of-line hyphenation in Danish.  I have tested it in Danish language mode with some Danish ePub's and it seems to be working good.
"
geometer/FBReaderJ,open,[ENHANCEMENT] Copy the content of a bookmark into the clipboard,[],
geometer/FBReaderJ,closed,Can't build since Ambil Warna library added,[],"Are there new additions to the build instructions now that there is a library referenced? I am using Eclipse and despite three days of effort and plenty of new errors to track down I cannot get this project to build. An older copy of the repo that does not include Ambil Warna builds fine.

I'm no pro with Java or Android dependencies anyway, but I'd like to know if I've got some bad configuration somewhere or if there is a bug in the repo... Is anyone else having trouble?
"
geometer/FBReaderJ,open,[Feature Request] FB3 support in future =),[],"The ability to read the books in the FB3 format.

https://github.com/gribuser/FB3
https://github.com/Litres/FB3Reader/wiki
"
geometer/FBReaderJ,closed,Update french translations,[],"up-to-date fr translations (100%).
"
geometer/FBReaderJ,closed,Redundant percentage sign in settings,[],"This seems to be a problem in German, Belarusian, Thai, Vietnamese and Taiwanese when I test it on an ICS device.

In German language mode -
Click the menu button
Click Einstellungen
Click Aussehen

Under Ausschalten des Bildschirms verhindern it correctly shows
Falls Akkuladung > 25% or
Falls Akkuladung > 50%

But when you click on Ausschalten des Bildschirms verhindern it shows
Falls Akkuladung > 25%% or
Falls Akkuladung > 50%%

There is an extra percentage sign at the end.

This happens not only in German, but in some of the other languages as well.
"
geometer/FBReaderJ,open,[BUG] The Action bar is not hidden on Samsung Galaxy Tab 2 7.0,[],"This is how it looks on stock ROM:
![screenshot_2013-05-13-03-48-06](https://f.cloud.github.com/assets/100644/628709/5c86115e-d0e9-11e2-8514-ffeadaa7d3d7.png)
![screenshot_2013-05-13-03-47-16](https://f.cloud.github.com/assets/100644/628710/663a05f2-d0e9-11e2-97d6-ef796613cc51.png)

And this is how it looks on Cyanogenmod 10.1:
![screenshot_2013-06-09-11-41-06](https://f.cloud.github.com/assets/100644/628713/821ff5c4-d0e9-11e2-9617-b14bc1d3b0d3.png)
![screenshot_2013-06-09-11-41-19](https://f.cloud.github.com/assets/100644/628714/8869e6f6-d0e9-11e2-92bc-fc5c2122fe95.png)
"
geometer/FBReaderJ,open,[ENHANCEMENT] Add option so tap is forward only,[],"Specifically I am requesting it for the Android but might be useful on other devices as well.

Please add an option to Settings -> Page turning.
The option should be called ""Finger tap only turns pages forward"".

When the option is disabled the functionally does not change from how it is now.
A finger tap on the left hand side will move the screen back one page.  A finger tap on the right hand side will move the screen forward one page.  A finger tap in the center of the screen will display the book info and the tool bar.

When the option is enabled a finger tap on the left hand side of the screen will act the same as a finger tap on the right hand side of the screen.  Both will move the screen forward by one page.  A finger tap in the center of the screen will still display the book info and the tool bar.

The reason I am requesting this is that I like to just tap on the screen to move forward one page.  If I need to move back a page I use a ""finger flick"".  I'm left handed and so when I do tap the screen I generally tap the left hand side.

This matches the configuration I setup in CoolReader (Android) and MegaReader (iOS).  FBReaderJ has a much better OPDS browser than CoolReader.  This is the only feature FBReaderJ is missing to make me dump CoolReader entirely.

Unfortunately I'm not familiar with Android development and I would rather not use this project as my first attempt.
"
geometer/FBReaderJ,closed,Decimal mark appropriate to language,[],"Most continental European and South American countries use a comma for
the decimal mark.

The USA, Ireland, China, Japan etc. use a period for the decimal mark.

Regarding the Spanish language:
- Spain, Argentina, Chile etc. use a comma.
- Mexico, Guatemala, Peru etc. use a period.

We will deal with thes more specific subtleties of Spanish, as well as
other languages, in the future.
"
geometer/FBReaderJ,closed,Spanish translation updated,[],"Updated the Spanish translation XML files
Translation work done by Diego Bernardi
"
geometer/FBReaderJ,open,Please allow bookmarks to be exported,[],"Many of the libraries that FBReader provides are free (libre) books, such as Project Gutenberg. It's nice to encourage users to give back to such projects, and one of the simplest ways is to report typos. But at present, that is not so easy: you can make bookmarks (now you can highlight a particularly passage, that's much more effective than it used to be), but if you don't want to interrupt your reading, you probably wait until you finish the book to report the whole list of typos.

If bookmarks could be exported as an email, this would be much easier.

You could go one better by storing an email address for each library (or at least, each library that has a bug reporting address), and offering that as the ""To"" address when exporting a list of bookmarks.
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Updated Czech translation for version 1.8.
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Updated Czech language
"
geometer/FBReaderJ,closed,"Comic book (CBZ, CBR) support",[],"Could we add support for reading comic books? CBZ and CBR files are formatted similar to ePUB (zipped images), but have a much simpler, flatter structure.
"
geometer/FBReaderJ,closed,Added support for bitknights dictionaries,[],"FBReaderJ is now able to recognize if a BitKnights dictionary is installed and can use it for translating words.
"
geometer/FBReaderJ,open,The book opens as having 1 page and empty screen is shown,[],"On version 1.7.8 (107084), android 2.3.6, the book opens as having 1 page and empty screen is shown
http://arnest.catchmedia.com/files/kuzqkina_matq._hronika_ve.fb2

The book opens properly in fb2reader chrome extension though.
"
geometer/FBReaderJ,open,[Bug] NullPointerExeption at navigation to the book from bookmarks,[],"Programm: FBReader 1.7.8 (107084)
Model: NOOK
Device: zoom2
Product: NOOK
Version: 2.1
java.lang.NullPointerExeption
 at org.geometerplus.zlibraly.text.view.ZLTextLineInfo.<init> (ZLTextLineInfo.java:44)
 at org.geometerplus.zlibraly.text.view.ZLTextView.buildinfos (ZLTextView.java:844)
 at org.geometerplus.zlibraly.text.view.ZLTextView.preparePaintinfo (ZLTextView.java:1336)
 at org.geometerplus.zlibraly.text.view.ZLTextView.preparePage (ZLTextView.java:386)
 at org.geometerplus.zlibraly.ui.android.view.ZLAndroidWidget$1.run (ZLAndroidWidget.java:266)
"
geometer/FBReaderJ,closed,[Bug] Text in bookmarks on E-INK,[],"On NOOK SIMPLE TOUCH the text in bookmarks isn't displayed. E-ink. Probably color of the text is equal to color of a background (white).
"
geometer/FBReaderJ,open,[ENHANCEMENT] Ability to delete books,[],"It would be nice to be able to delete books not 1-by-1, but for example all books of specific author or serie.

Just a long tap on serie and all books in them deleted. That would be so convenient!
"
geometer/FBReaderJ,closed,Update cs.xml,[],"Translated string ""Interface language""
"
geometer/FBReaderJ,open,CSS margins being ignored?,[],"Love the product, but have a small problem with formatting. I have an eBook that has a CSS entry as follows:

```
.calibre13 {
    display: block;
    margin-bottom: 0;
    margin-left: 0;
    margin-right: 0;
    margin-top: 1em; <-- Ignored?
    text-align: justify;
    text-indent: 0
    }
```

and it has a paragraph defined as:

```
<p class=""calibre13"">blah blah blah...</p>
```

but the paragraph is not visibly spaced from the one above it. Both Calibre itself and the Adobe eBook reader display it with a larger gap.

It is quite possible that I have missed a setting somewhere, but I could not find a way to make sure the margins in the CSS were followed.

Any help would be appreciated.
"
geometer/FBReaderJ,closed,[BUG] An interface language changes not everywhere,[],"1. Try to change an interface language (any language.)
2. Go back to the place where you read the book
3. Click ""menu button"". As a result, you see -- all ""menu button"" options are not translated (needed to restart FBReader to achieve that)
"
geometer/FBReaderJ,open,[SMALL ENHANCEMENT] Add indent & spacing parameters for <cite> style settings,[],"Cite is a tag, which occupies the whole paragraph, hence there should be possibility to adjust indents (as it is done for verses, epigraphes etc.).
"
geometer/FBReaderJ,closed,[BUG] The screen stays ON when lockscreen is shown.,[],"Suppose, I open FBReader and start reading. Then:
1) Turn off the screen.
2) Turn on the screen: the lock screen is shown. After some amount of seconds it should dim out and turn off as specified in setting of my Android.

BUT. The screen stays ON as if it were in FBReader (while it is a lockscreen showed).

Thank you.
"
geometer/FBReaderJ,open,[Bug/Enhancement] Hanging bookmarks (when a book is deleted),[],"It would be nice, if when a book is deleted from library by user, FBReader would ask first if the user needs to keep the bookmarks or not.
"
geometer/FBReaderJ,open,[Feature Request] Open FB2 and DOC files from file manager,[],"Opportunity to open FB2 and DOC files in FBREADER from a file manager. Now from a file manager EPUB (and PDF in version beta) can open.
"
geometer/FBReaderJ,open,[Feature Request] DOCX support,[],"The ability to read the books in the DOCX format.
"
geometer/FBReaderJ,open,Nook Simple Touch,[],"Keys ""back"" and ""forward"" for Nook Simple Touch do not use. 

...
I find how to remap hardware buttons. http://longhoang.ca/blog/remap-the-hardware-buttons-of-your-rooted-nook-simple-touch-guide/

It`s easy to make turn page with this buttons:
key 407 RIGHT_NEXTPAGE 
key 412 RIGHT_PREVPAGE  ?
"
geometer/FBReaderJ,closed,Update assets/resources/application/cs.xml,[],"Updated Czech translation
"
geometer/FBReaderJ,open,Share book by NFC/Android Beam,[],"I had an unprotected epub book on FBReader on my Nexus 4. My wife wanted it on her Nexus 4, to read on her FBReader. I tried to tap the backs of the phones together to send it through the NFC Android Beam feature, as you can with some other things on Android. It didn't work. 

Bluetooth etc were such a pain that I ended up just copying it over again from the computer. This would be a great feature. 
"
geometer/FBReaderJ,open,NullPointerException if open PDF file on ANDROID 4.1.2,[],"FBReader: 2.0 beta 7
FBReader PDF plugin: 0.9
Device have ROOT. Google services was cut. Disabled something non-critical system programms. EPUB and FB2 - OK.

If open PDF file (PDF plugin installed) when look similar error:

Model:MediaPad 10 FHD
Device:hws10101w
Product:MediaPad
Manufacturer:HUAWEI
Version:4.1.2
java.lang.NullPointerException
 at org.geometerplus.zlibrary.text.view.h.<init>(Unknown Source)
 at org.geometerplus.fbreader.book.k.<init>(Unknown Source)
 at org.geometerplus.fbreader.book.k.<init>(Unknown Source)
 at org.geometerplus.fbreader.a.f.a(Unknown Source)
 at org.geometerplus.android.fbreader.FBReader.a(Unknown Source)
 at org.geometerplus.android.fbreader.FBReader.a(Unknown Source)
 at org.geometerplus.android.fbreader.o.run(Unknown Source)
 at org.geometerplus.android.fbreader.libraryService.c.run(Unknown Source)
 at org.geometerplus.android.fbreader.libraryService.c.run(Unknown Source)
 at org.geometerplus.android.fbreader.libraryService.a.onServiceConnected(Unknown Source)
 at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1109)
 at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1126)
 at android.os.Handler.handleCallback(Handler.java:615)
 at android.os.Handler.dispatchMessage(Handler.java:92)
 at android.os.Looper.loop(Looper.java:137)
 at android.app.ActivityThread.main(ActivityThread.java:4823)
 at java.lang.reflect.Method.invokeNative(Native Method)
 at java.lang.reflect.Method.invoke(Method.java:511)
 at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:787)
 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:554)
 at dalvik.system.NativeStart.main(Native Method)
"
geometer/FBReaderJ,closed,NoSuchElementExeption if open book after sleep mode on Nook Simple Touch,[],"If open any book after sleep mode. This is short trace

java.util.NoSuchElementExeption 
at java.util.linkedList.removeFirst(...:634)
at org.apache.harmony.luni.internal/io.FileCanonPathCache.get(...:87)
at java.io.File.getCanonicalPath(..:500)
at org.geometerplus.zlibraly.core.filesystem.b.getPath()
at org.geometerplus.zlibraly.core.filesystem.b.a()
...
at org.geometerplus.zlibraly.core.filesystem.b.(nit)
...
at org.geometerplus.fbreader.core.filesystem.o.(init)
...
at org.geometerplus.fbreader.libraly.Book.a()
at org.geometerplus.zlibraly.ui.android.library.ZLAndroidActovity.onNewIntent()

FBReader 1.6.6 (106061) (on 1.6.8 have similar situation)
Model: NOOK
Devize: zoom2
Manufactured: BarnesAndNoble
Android: 2.1
"
geometer/FBReaderJ,closed,"[BUG] Unexpected exiting of OPDS catalog, if rotating the screen.",[],"If I open some OPDS catalog (any of it's subdirs) and then rotate the screen, FBreader exits this catalog. Please, fix it.
"
geometer/FBReaderJ,closed,Catalan translation additions and improvements,[],"Adding missing main menu strings.
Vocabulary improvements.
"
geometer/FBReaderJ,open,[Feature Request] Allow moving/renaming files without losing place or bookmarks,[],"For instance, Feedbooks.com downloads are just named `Books\feedbooks.com\1234.epub`.  I'd like to rename it to `Books\Fiction\Author - Title.epub`, but if I do this after I've started reading a book, my position and bookmarks etc are all lost.
- If a book file is opened that has the same file hash and metadata as another book file, assume they are the same book and that the filename/folder has just been changed
- If a book file has the same folder and filename, but the file hash is different than the stored value, assume that they are the same book and that the file has been edited.
"
geometer/FBReaderJ,open,"[Feature Request] Book titles that start with ""The"" should be sorted by the second word of the title",[],"Don't move the ""The"" to the end of the title, but sort it by the second word instead of sorting by ""The"".

https://en.wikipedia.org/wiki/Alphabetical_order#The_and_other_common_words

![the](https://f.cloud.github.com/assets/58611/142926/97dbb35c-733e-11e2-9382-0b612bada244.png)
"
geometer/FBReaderJ,open,"[Feature Request] Format italics, em dashes, etc in plain text files",[],"I have some text plain files with formatting in them.  Headings are recognized and formatted as bold centered text, which is nice, but it also has `_italics like this_` and en dash like this: `--`, and those are not formatted.

![italics](https://f.cloud.github.com/assets/58611/142923/3dd769f0-733e-11e2-9634-b979b4621f70.png)
"
geometer/FBReaderJ,closed,Initial Catalan language translation,[],"Based on es.xml
Untranslated strings left in Spanish, since they will be more useful to Catalan speakers than English ones.
"
geometer/FBReaderJ,open,[Feature Request] Export/Backup Metadata from SQLite DB (or write to file),[],"I was able to set up editing for SeriesInfo, and I believe Author(s) and Tag(s) are do-able. However, I noticed that the changes will only be saved until I choose 'Reload' on the Book Info page, meaning only the database is being updated, not the file (I assume).

I would love to be able to actually update the metadata stored inside of an epub from FBReaderJ - or to be able to export the update info from the DB in some way that could be imported or accessed by Calibre. I looked through the code for reading the metadata out of an opf file inside of an epub archive, but I am afraid I am out of my depth in trying to adapt this code to write from the database... Help or suggestions are welcome, though I may not be capable of fulfilling this feature request myself.

Thanks for reading.

P.S. As an alternative, if I could export and import bookmarks and current page, or if books that get updated and put back at the same path would keep their bookmarks and place, I would be just as happy.
"
geometer/FBReaderJ,open,Fatal exception in BookDownloaderService,[],"This is a fatal exception I've had a number of times.  The problem has been around for months at least.

Here is the crash that happens off the latest beta-ics source (a2ac64da3b8568b23588fbcfafd4203a10d0f713):

D/AndroidRuntime( 4080): Shutting down VM^M
W/dalvikvm( 4080): threadid=1: thread exiting with uncaught exception (group=0x40c131f8)^M
E/AndroidRuntime( 4080): FATAL EXCEPTION: main^M
E/AndroidRuntime( 4080): java.lang.RuntimeException: Unable to start service org.geometerplus.android.fbreader.network.BookDownloaderService@4131d4d8 with Intent { act=android.intent.action.VIEW dat=http://manybooks.net/send/1:epub:.epub:epub/rostandeetext98cdben10/rostandeetext98cdben10.epub cmp=xxxx (has extras) }: java.lang.NullPointerException^M
E/AndroidRuntime( 4080):        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:2388)^M
E/AndroidRuntime( 4080):        at android.app.ActivityThread.access$1900(ActivityThread.java:127)^M
E/AndroidRuntime( 4080):        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1222)^M
E/AndroidRuntime( 4080):        at android.os.Handler.dispatchMessage(Handler.java:99)^M
E/AndroidRuntime( 4080):        at android.os.Looper.loop(Looper.java:137)^M
E/AndroidRuntime( 4080):        at android.app.ActivityThread.main(ActivityThread.java:4512)^M
E/AndroidRuntime( 4080):        at java.lang.reflect.Method.invokeNative(Native Method)^M
E/AndroidRuntime( 4080):        at java.lang.reflect.Method.invoke(Method.java:511)^M
E/AndroidRuntime( 4080):        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:978)^M
E/AndroidRuntime( 4080):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:745)^M
E/AndroidRuntime( 4080):        at dalvik.system.NativeStart.main(Native Method)^M
E/AndroidRuntime( 4080): Caused by: java.lang.NullPointerException^M
E/AndroidRuntime( 4080):        at org.geometerplus.android.fbreader.network.BookDownloaderService.onStart(BookDownloaderService.java:106)^M
E/AndroidRuntime( 4080):        at android.app.Service.onStartCommand(Service.java:438)^M
E/AndroidRuntime( 4080):        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:2371)^M
E/AndroidRuntime( 4080):        ... 10 more^M

It is crashing at line 106.  The code is like this:

101          @Override
102          public void onStart(Intent intent, int startId) {
103                  super.onStart(intent, startId);
104                  doStart();
105  
106                  final Uri uri = intent.getData();

The problem is that the intent object null.  I would guess that the intent object is passed as a null at the parameter level.  This causes the fatal exception when the object method is called on line 106.

I will try to look more into this and see if I can come up with anything.
"
geometer/FBReaderJ,closed,Bookmark/Book synchronisation without root,[],"For me, synchronising my books/bookmarks between devices is crucial for ebook readers. 

I understand that FBSync:
http://www.mobileread.com/forums/archive/index.php/t-119184.html
https://play.google.com/store/apps/details?id=com.asd.fbsync&hl=en
achieves this, but requires root access on Android devices so that it can access FBReader internals. It would be great if this (or equivalent) functionality could be added into FBReader, so that root access was not necessary to sync bookmarks and books.

I suspect that, if FBSync comes up with a decent solution, other ebook readers would also adopt it.
"
geometer/FBReaderJ,open,Combining chars displayed as separate chars,[],"Unicode Character 'COMBINING ACUTE ACCENT' (U+0301) and Unicode Character 'COMBINING GRAVE ACCENT' (U+0300) displayed as separate chars instead combined.
"
geometer/FBReaderJ,closed,Format AndroidManifest.xml file,[],"This will make resolving merge conflicts more easy
Formatted with eclipse(Shift+Ctrl+F)
"
geometer/FBReaderJ,open,Add automatic refresh after adding books from network or deleting local copies,[],"When adding many books from a catalogue it quickly becomes confusing if you have downloaded a book or not, as the catalog icons - blue and green - are not automatically updated. Please add automatic refresh so that in a long list of books you always know if you have added the book. It is cumbersome to manually refresh to be sure.

When deleting a local copy, please add automatic refresh of the local catalogue, as it appears as if the book is still there till you manually refresh the catalogue.
"
geometer/FBReaderJ,open,TOC - Table of Contents-button not activated for EPUB 3 formatted ebooks,[],"http://idpf.org/epub/30/spec/epub30-changes.html#sec-new-changed-nav describes why and how navigation was changed from the NCX grammar to the NAV grammar of HTML5. 

Please add support TOC when opening EPUB 3 ebooks. 
"
geometer/FBReaderJ,closed,NoSuchElementExeption if open book after sleep mode on Nook Simple Touch,[],"If open any book after sleep mode. This is short trace

java.util.NoSuchElementExeption 
at java.util.linkedList.removeFirst(...:634)
at org.apache.harmony.luni.internal/io.FileCanonPathCache.get(...:87)
at java.io.File.getCanonicalPath(..:500)
at org.geometerplus.zlibraly.core.filesystem.b.getPath()
at org.geometerplus.zlibraly.core.filesystem.b.a()
...
at org.geometerplus.zlibraly.core.filesystem.b.(nit)
...
at org.geometerplus.fbreader.core.filesystem.o.(init)
...
at org.geometerplus.fbreader.libraly.Book.a()
at org.geometerplus.zlibraly.ui.android.library.ZLAndroidActovity.onNewIntent()

FBReader 1.6.6 (106061)
Model: NOOK
Devize: zoom2
Manufactured: BarnesAndNoble
Android: 2.1
"
geometer/FBReaderJ,open,Problems with <br> tags / empty line,[],"&lt;br&gt; doesn't show anymore, and &lt;p&gt;&lt;br&gt;&lt;/p&gt; isn't a solution.
Do we need to revert to old use of ""not empty paragraphs"" to add empty lines ? It would be annoying since I used a lot of br/empty lines instead of css properties (from time when FBreader didn't used css).
Re-formatting all the books I did like this because it was the only way to get FBreader to display them correctly would be too much work now.

Perhaps we could use an option to ""show"" &lt;br&gt;, so it would be compatible with formatting for old FBreaderj.

&lt;br&gt; break &lt;b&gt; or &lt;i&gt; style.
For exemple : &lt;p&gt;&lt;i&gt;first part&lt;br&gt;second part&lt;/i&gt;&lt;/p&gt;
The second part won't be in italic.

&lt;p&gt;&lt;b&gt;&lt;i&gt;first part&lt;br&gt;second part&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;
The second part will only show one style.
"
geometer/FBReaderJ,open,No reading of .ibooks unless file is renamed.,[],"Steps:
1) Download a free .ibooks using iTunes/ios/Tunesviewer. (some are in AP US Government & Politics in iTunesu for example)
2) Try to open file in FBReader for Android, it says there is no app to view it.
3) Rename file to .epub extension, then go to library, File tree, memory card, and you can select and read it.

This process should be much easier and intuitive, since .ibooks is basically epub, which FBreader reads.
"
geometer/FBReaderJ,open,[Feature Request] Scroll by pixel instead of by page,[],"I'd love to have the option to freely scroll in FBReader for Android instead of the current implementation which scrolls by page if you understand what I mean. It would be like scrolling on a web page I guess would be the best analogy. 
"
geometer/FBReaderJ,closed,NPE when adding custom OPDS catalog,[],"After upgrading to version 1.6.7 I could not add one of my favorite OPDS catalogs anymore: http://chitanka.info/catalog.opds

I get the following NullPointerException:

Model:GT-I9100
Device:GT-I9100
Product:GT-I9100
Manufacturer:samsung
Version:4.0.3
java.lang.NullPointerException
at org.geometerplus.android.fbreader.network.bg.run(Unknown Source)
at org.geometerplus.android.fbreader.network.bf.a(Unknown Source)
at org.geometerplus.android.fbreader.network.bf.a(Unknown Source)
at org.geometerplus.fbreader.network.v.a(Unknown Source)
at org.geometerplus.android.fbreader.network.AddCustomCatalogActivity.a(Unknown Source)
at org.geometerplus.android.fbreader.network.AddCustomCatalogActivity.a(Unknown Source)
at org.geometerplus.android.fbreader.network.a.onClick(Unknown Source)
at android.view.View.performClick(View.java:3591)
at android.view.View$PerformClick.run(View.java:14263)
at android.os.Handler.handleCallback(Handler.java:605)
at android.os.Handler.dispatchMessage(Handler.java:92)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4507)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
at dalvik.system.NativeStart.main(Native Method)
"
geometer/FBReaderJ,open,Blockquote not rendered correctly in epub,[],"For example in _Steve Jobs_ by Walter Isaacson (http://files.tuebl.com/ebooks/9157.epub), towards the end of chapter 7, there's a quote from Steve Jobs:

> ""I wish I had handled it differently. I could not see myself as a father then, so I didn’t face up to it..."" 

(CR!BJHPA831ES3B3F7WSRKZ17DMGSM7_split_030.html within the epub.)

This blockquote renders correctly in Adobe Digital Editions, but not in FBReaderJ, which does not indent or otherwise distinguish it from an ordinary paragraph.

This book contains many such blockquote quotes, and I have also seen this problem in other nonfiction books.
"
geometer/FBReaderJ,open,cant import the project to eclipse ,[],"cant import the project to eclipse 
when run the app dialog shows that ""can not load native library""
"
geometer/FBReaderJ,closed,Bulgarian hyphenation patterns,[],"Converted to the FBReader format from the existing OpenOffice.org package. Details available in the comment of the bg.pattern file. 
"
geometer/FBReaderJ,open,Footnotes on page,[],"Could you please add footnotes rendering on the current (reading) page, as implemented on CoolReader app? 
It will be a really good feature, saving customers from tapping twice and navigating to the almost empty page... Most footnotes are short, just one or two lines. Actually you may set some threshold (le me say 3-4 lines per footnote) and display just a part but exapnd  on tap.
To satisfy current  implementation lovers, that option can be configurable.
Thank you!
"
geometer/FBReaderJ,open,Pre-defined Catalog Removal,[],"How can i remove the pre-defined catalog url from the application like Smashwords,Feedbooks OPDS Catalog,ManyBooks catalog,Prestigio Plaza catalog and add my own url, actually i am doing an ebook reader application project by using FBreader.
"
geometer/FBReaderJ,open,[epigraph] and [poem/stanza] no longer stand out against simple text (!!!),[],"In fb2 [epigraph] and [poem/stanza] are represented same as simple text in FbReader 1.6.6
"
geometer/FBReaderJ,closed,Update src/org/vimgadgets/linebreak/LineBreaker.java,[],
geometer/FBReaderJ,open,Image file different mimetype and extension problems? ,[],"because file format is cmyk.
"
geometer/FBReaderJ,open,"Add the hover menu items ""Add to favorites"" and ""Delete Book"" to book info ""..."" menu",[],"Adding a book to favorites and deleting a book are both non-intuitive actions at this time.  As adding things to the ""..."" menu does not clutter that view, would it be possible to add one or both of these to said menu?  

I understand that deleting my be difficult, considering that you'll be essentially deleting the view you are currently on, but adding to favorites should be pretty straightforward.  I'll take a look later today.
"
geometer/FBReaderJ,open,Not show table,[],"App not show table in content.
"
geometer/FBReaderJ,closed,EPUB formatting problem (missing spaces),[],"There is a formatting problem with EPUB documents, which results in whitespaces being swallowed in some circumstances.

For example, see this document: http://docs.python.org/3/archives/python-3.3.0-docs-epub.tar.bz2
Here is a small clipping  from tutorial/controlflow.html (extracted from the EPUB) file:

https://s3.amazonaws.com/nolme-public/source.html

It should look like this:

https://s3.amazonaws.com/nolme-public/reference.png

(Screenshot taken with Cool Reader, but other ebook readers work well, too, like Calibre's one, or Aldiko, etc.)

However, with FBReader, it looks like this:

https://s3.amazonaws.com/nolme-public/problem.png

As you can see, the spaces between the various SPANs are omitted, thus the source code is very hard to read.

It would be great if you could fix this, because FBReader is my favorite ebook reader app on my Nook, but this makes it impossible to read most technical documentation for me.

Thank you.
"
geometer/FBReaderJ,closed,[request] Page precaching,[],"When we visiting some page of a book for the first time it takes some time to render it and this process adds a lag to scrolling.

Precache next and previous pages in background to improve scrolling performance.
"
geometer/FBReaderJ,open,Improve OPDS support,[],"Will be nice to improve an OPDS catalog support for a little. My feature requests are:
- please, add navigation shortcuts for:
  a) back to document view - reader (now the faster way is to close FBReader and re-open it);
  b) back to catalog root;
  c) back to list of OPDS catalogs (main root);
- could you please remember the last browsing position in catalog and reuse it when user decide to go back to ""Network catalog""?
- some popular Russian OPDS catalog such as flibusta.net or lib.rus.ec sometimes have a very slow response. Will be nice to optimize number of http requests by caching (to disk) first levels of these catalogs. This option can be configurable, and user should have ability to update cache manually.
- will be great to have ""Favorites"" local stored folder for any OPDS catalog.

Thanks a lot! FBReader is a great application; probably, best of his kind!
"
geometer/FBReaderJ,closed,Czech language,[],"Updated Czech language file assets/resources/application/cs.xml.
"
geometer/FBReaderJ,closed,TTS plugins not working on CM9 with f-droid.org build,[],"With fbreader 1.6.1 and 1.6.1 tts+ plugin installed from f-droid.org on CM9 there is no menu entry for tts. On CM7.2 there is an entry. But there is an entry using fbreader 1.6.3 installed from the website and 1.7.3 tts+ installed from hyperionics.com (on CM9). N.B there was a build problem with 1.6.3 on f-droid.org but 1.6.4 will be arriving soon.  1.7.3 of tts+ should be arriving in f-droid.org repo soon too. This is the build line used: `Build Version:1.6.1,106011,1.6.1,buildjni=yes,prebuild=mkdir res/drawable && find icons -iname ""*.*"" -exec cp {} res/drawable \;`
"
geometer/FBReaderJ,open,iOS Support,[],"FBreader is an awesome app on Android. When will an iOS version be released?
"
geometer/FBReaderJ,closed,Plain HTML support,[],"ePUB and MOBI are just zipped HTML files, so why not add support for plain HTML files?
"
geometer/FBReaderJ,open,Feature request: PDF support,[],"I love how FBReader supports both ePUB and MOBI, so whether your ebook collection is mostly Kindle or mostly nook, you're covered. But in fact, most ebooks today are still in PDF format, so it would be very helpful if FBReader added support for viewing PDF files, especially for Android.

What say you?
"
geometer/FBReaderJ,closed,can't find ZLTextCSSStyleEntry and  ZLTextOtherStyleEntry(),[],"there are some errors, the Eclipse report , 
org.geometerplus.zlibrary.text.model.ZLTextPlainModel.java
final ZLTextStyleEntry entry =
                        type == ZLTextParagraph.Entry.STYLE_CSS
                            ? new ZLTextCSSStyleEntry()
                            : new ZLTextOtherStyleEntry();

ZLTextCSSStyleEntry and ZLTextOtherStyleEntry  are missing , please tell me where find them?
"
geometer/FBReaderJ,open,FBReader/Android not formatting my ebooks properly,[],"I wrote a short ebook on [Haskell command line programming with GetOptFu](http://www.yellosoft.us/getoptfu). I made this available online in plain HTML, as well in two popular ebook formats: ePUB and MOBI. FBReader for Android shows neither of these files correctly, ignoring basic CSS directives for text-alignment, as well as ignoring indentation in PRE-formatted code. I believe these ebooks should appear more like they do in their respective hardware readers, nook and Kindle respectively. I've tested these books on both devices, and when FBReader opens them, they look much sloppier.

Specs:
- FBReader 1.6.3
- Android 4.0.3
- acer A200 tablet
"
geometer/FBReaderJ,open,Missing indentation of sub-bullet point in 1.6,[],"Compare indentation of sub-bullet point in FBReader 1.6 and other EPUB-readers like Aldiko. You can use this example http://www.bokselskap.no/wp-content/themes/bokselskap/tekster/epub/bokselskapinfo.epub and you will notice sub-bullet is not indented in FBReader 1.6.
"
geometer/FBReaderJ,closed,FBReaderJ crashes on non-ISO 8859-1 epub's with JPG cover images,[],"The crash happens on the ice-cream-sandwich branch.

When the Android device or emulator is in a non-ISO 8859-1 language, and is instead in say a ISO 8859-2 language such as Hungarian or Czech, and you are reading an epub with a cover image in one of those non-ISO 8859-1 languages, such as Hungarian or Czech, the program crashes.  It crashes, because when the code is dealing with the JPG cover image embedded within the epub, it does a check to see if character encoding is windows-1252.  The check assumes the character encoding is ISO 8859-1 before the check even completes, and crashes if it is not so.  I will post about that in subsequent comments.

This is on the ice-cream-sandwich branch, in a Jellybean (4.1) emulator in Czech language mode.  I downloaded one of the epub books the app can not handle - R.U.R. by Karel Čapek.  You can download that epub here ( http://www.gutenberg.org/ebooks/13083.epub ).

Czech epub's without a JPEG cover image loaded fine.  Ones like this with a JPEG cover image crashed during the load though.

Also, Hungarian epub's with JPEG cover images crash the app in similar circumstances.  The emulator set to Hungarian language, the epub loaded being a Hungarian language (Magyar) book with a JPG cover image in the epub.  It will crash as well.

Here is the crash method as I try to load the book up.  The crash is repeatable, I've done it several times:

W/System.err(  588): using plugin: ePub/NATIVE

W/dalvikvm(  588): JNI WARNING: input is not valid Modified UTF-8: illegal start byte 0xff

W/dalvikvm(  588):              string: 'ÿØÿà'

W/dalvikvm(  588):              in Lorg/geometerplus/fbreader/formats/NativeFormatPlugin;.readModelNative:(Lorg/geometerplus/fbreader/bookmodel/BookModel;)Z (NewStringUTF)

I/dalvikvm(  588): ""Thread-80"" prio=5 tid=11 NATIVE

I/dalvikvm(  588):   | group=""main"" sCount=0 dsCount=0 obj=0x41565ff0 self=0x2a314ad8

I/dalvikvm(  588):   | sysTid=664 nice=0 sched=0/0 cgrp=apps handle=707939960

I/dalvikvm(  588):   | schedstat=( 288679729 2049960715 86 ) utm=24 stm=4 core=0

I/dalvikvm(  588):   #00  pc 00001260  /system/lib/libcorkscrew.so (unwind_backtrace_thread+27)

I/dalvikvm(  588):   #01  pc 0005f664  /system/lib/libdvm.so (dvmDumpNativeStack(DebugOutputTarget const*, int)+35)

I/dalvikvm(  588):   #02  pc 00053518  /system/lib/libdvm.so (dvmDumpThreadEx(DebugOutputTarget const_, Thread_, bool)+303)

I/dalvikvm(  588):   #03  pc 000535b2  /system/lib/libdvm.so (dvmDumpThread(Thread*, bool)+25)

I/dalvikvm(  588):   #04  pc 00038cfa  /system/lib/libdvm.so

I/dalvikvm(  588):   #05  pc 0003a0ac  /system/lib/libdvm.so

I/dalvikvm(  588):   #06  pc 0003c30a  /system/lib/libdvm.so

I/dalvikvm(  588):   #07  pc 000377d8  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (AndroidUtil::createJavaString(_JNIEnv*, std::string const&)+15)

I/dalvikvm(  588):   #08  pc 00046b50  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (ZLUnicodeUtil::toLower(std::string const&)+35)

I/dalvikvm(  588):   #09  pc 00047ea8  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (ZLXMLReader::readDocument(shared_ptr<ZLInputStream>)+195)

I/dalvikvm(  588):   #10  pc 00047f9c  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (ZLXMLReader::readDocument(ZLFile const&)+15)

I/dalvikvm(  588):   #11  pc 0005e658  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (XHTMLImageFinder::readImage(ZLFile const&)+87)

I/dalvikvm(  588):   #12  pc 0005baba  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (OEBBookReader::startElementHandler(char const_, char const_*)+1777)

I/dalvikvm(  588):   #13  pc 00048f72  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (ZLXMLReaderInternal::fStartElementHandler(void_, char const_, char const**)+309)

I/dalvikvm(  588):   #14  pc 00079402  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so

I/dalvikvm(  588):   #15  pc 00079b64  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so

I/dalvikvm(  588):   #16  pc 000788e6  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so

I/dalvikvm(  588):   #17  pc 00078e12  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so

I/dalvikvm(  588):   #18  pc 0007aaf2  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (XML_ParseBuffer+57)

I/dalvikvm(  588):   #19  pc 00048012  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (ZLXMLReaderInternal::parseBuffer(char const*, unsigned int)+5)

I/dalvikvm(  588):   #20  pc 00047f14  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (ZLXMLReader::readDocument(shared_ptr<ZLInputStream>)+303)

I/dalvikvm(  588):   #21  pc 00047f9c  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (ZLXMLReader::readDocument(ZLFile const&)+15)

I/dalvikvm(  588):   #22  pc 0005ae8a  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (OEBBookReader::readBook(ZLFile const&)+189)

I/dalvikvm(  588):   #23  pc 0005dd86  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (OEBPlugin::readModel(BookModel&) const+57)

I/dalvikvm(  588):   #24  pc 00036f4a  /data/data/org.geometerplus.zlibrary.ui.android/lib/libNativeFormats-v2.so (Java_org_geometerplus_fbreader_formats_NativeFormatPlugin_readModelNative+149)

I/dalvikvm(  588):   #25  pc 0001de30  /system/lib/libdvm.so (dvmPlatformInvoke+112)

I/dalvikvm(  588):   #26  pc 0004ce66  /system/lib/libdvm.so (dvmCallJNIMethod(unsigned int const_, JValue_, Method const_, Thread_)+389)

I/dalvikvm(  588):   #27  pc 00038d84  /system/lib/libdvm.so (dvmCheckCallJNIMethod(unsigned int const_, JValue_, Method const_, Thread_)+7)

I/dalvikvm(  588):   #28  pc 00027260  /system/lib/libdvm.so

I/dalvikvm(  588):   #29  pc 0002bb2c  /system/lib/libdvm.so (dvmInterpret(Thread_, Method const_, JValue*)+180)

I/dalvikvm(  588):   #30  pc 0005f590  /system/lib/libdvm.so (dvmCallMethodV(Thread_, Method const_, Object_, bool, JValue_, std::__va_list)+271)

I/dalvikvm(  588):   #31  pc 0005f5ba  /system/lib/libdvm.so (dvmCallMethod(Thread_, Method const_, Object_, JValue_, ...)+19)

I/dalvikvm(  588):   at org.geometerplus.fbreader.formats.NativeFormatPlugin.readModelNative(Native Method)

I/dalvikvm(  588):   at org.geometerplus.fbreader.formats.NativeFormatPlugin.readModel(NativeFormatPlugin.java:63)

I/dalvikvm(  588):   at org.geometerplus.fbreader.formats.oeb.OEBNativePlugin.readModel(OEBNativePlugin.java:47)

I/dalvikvm(  588):   at org.geometerplus.fbreader.bookmodel.BookModel.createModel(BookModel.java:47)

I/dalvikvm(  588):   at org.geometerplus.fbreader.fbreader.FBReaderApp.openBookInternal(FBReaderApp.java:259)

I/dalvikvm(  588):   at org.geometerplus.fbreader.fbreader.FBReaderApp$1.run(FBReaderApp.java:157)

I/dalvikvm(  588):   at org.geometerplus.android.util.UIUtil$3$1.run(UIUtil.java:120)

I/dalvikvm(  588): 

E/dalvikvm(  588): VM aborting

F/libc    (  588): Fatal signal 11 (SIGSEGV) at 0xdeadd00d (code=1), thread 664 (Thread-80)

I/DEBUG   (   34): **\* **\* **\* **\* **\* **\* **\* **\* **\* **\* **\* **\* **\* **\* **\* ***

I/DEBUG   (   34): Build fingerprint: 'generic/sdk/generic:4.1/JRN83C/391408:eng/test-keys'

I/DEBUG   (   34): pid: 588, tid: 664, name: UNKNOWN  >>> org.geometerplus.zlibrary.ui.android <<<

I/DEBUG   (   34): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr deadd00d
"
geometer/FBReaderJ,open,FBReader for android duplicates books in Categories,[],"I don't know why my in FBReader library my books are duplicated. I have only one instance of book but in my library there are 2 or even 3 instances. Listing a lot of duplicate instances is not  very convinient.
"
geometer/FBReaderJ,open,TOCActivity  run when open book.,[],"I want TOCActivity  run when open book, I have tried but not.Please help me to solve it.thanks
"
geometer/FBReaderJ,open,Hyphenation bug (RUSSIAN),[],"Сделал странный перенос ""фл- эшбеком"".
Скриншот (вниху страницы) http://imageshack.us/photo/my-images/580/20120909225839.png/
"
geometer/FBReaderJ,closed,Opensearchdescription doesn't seem to be working anymore,[],"I have made a small OPDS server using Calibre library (COPS) and it provide opensearchdescription to allow search in the catalog.

It used to work perfectly with FBReaderJ. The last time I checked it was in May 2012 and it was working fine.

I received an issue from a user saying it doesn't work anymore a few days ago. After investigating a little I found out that it was true.

The only way I found to make it work again was to avoid using OpenSearchDescription and use it like this :

```
    <link href=""http://xxx.fr/feed.php?query={searchTerms}"" type=""application/atom+xml"" rel=""search"" title=""Search here""/>
```

My previous way was :

```
    <link href=""feed.php?page=8"" type=""application/opensearchdescription+xml"" rel=""search"" title=""Search here""/>
```

And adding a description like this :

```
    <?xml version=""1.0"" encoding=""UTF-8""?>  
    <OpenSearchDescription xmlns=""http://a9.com/-/spec/opensearch/1.1/"">
      <ShortName>My catalog</ShortName>
      <InputEncoding>UTF-8</InputEncoding>
      <OutputEncoding>UTF-8</OutputEncoding>
      <Image type=""image/x-icon"" width=""16"" height=""16"">favicon.ico</Image>
      <Url type=""application/atom+xml"" template=""http://cops-demo.slucas.fr/feed.php?query={searchTerms}""/>
      <Query role=""example"" searchTerms=""robot""/>
    </OpenSearchDescription>
```

You can try it with my demo catalog :
http://cops-demo.slucas.fr/feed.php

Thanks in advance.
"
geometer/FBReaderJ,closed,Updated fr translations,[],"Hello,

just updated all french translations...
"
geometer/FBReaderJ,open,Table support - columns below each other,[],"I'm using 1.5 on Android, and I have an epub created with writer2xhtml in LibreOffice 3.5. When I view it with EPUBReader in Firefox, the tables are okay, but when I try to view the table in FBReader on my phone the columns are displayed underneath each other. This makes it hard to compare numbers in this table. Are viewing of tables supported?
"
geometer/FBReaderJ,open,the email address hardcoded for sending bugs to doesn't work,[],"FBReader from Toshiba AC100 wants to send (automatically) bug reports to  exception@fbreader.org , but this address doesn't work (anymore?).

Here is the reply:

Delivery to the following recipient failed permanently:

```
 exception@fbreader.org
```

Technical details of permanent failure:
Google tried to deliver your message, but it was rejected by the recipient domain. We recommend contacting the other email provider for further information about the cause of this error. The error that the other server returned was: 550 550 exception@fbreader.org: invalid address (state 13).

----- Original message -----

DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type;
        bh=BQGsFKL+L9rZQMq8JwuhyQTRXbbWFFYcATBgWJw6wOQ=;
        b=MV+3BI0VJfQJXtYTlOse4R7Bguc4bFoTYPRLhJwuelSX5Bp1gLk39xXDtGIPo+wjnH
         EBfl9NcB5Ht/VPR8azYZke6YmX1KN9unGRfaR5cfZKeMErAJYh+AXWyBfnby7uvJRYjP
         oMHIbQmJ0p1jNBrq+tuXJhbERGa1GMnK4rpGMBM/TmsTd3W4uWo/eb6n/sQTZIv2inoT
         8+a+cJWy7xAWlUgTzPhuOFtXjeJTNVkwTw752yhBLb6Dd4seHmZhJ7BJvpKL4I79cxOt
         9XKZr9cMOfCP0wUzrqmug+07aJ9S73NSvF46snexNuZPDhvJykzvQ/ohICn4QcOD2P9x
         y4qQ==
MIME-Version: 1.0
Received: by 10.182.73.65 with SMTP id j1mr1817079obv.42.1343976655041; Thu,
 02 Aug 2012 23:50:55 -0700 (PDT)
Received: by 10.182.44.42 with HTTP; Thu, 2 Aug 2012 23:50:54 -0700 (PDT)
Received: by 10.182.44.42 with HTTP; Thu, 2 Aug 2012 23:50:54 -0700 (PDT)
In-Reply-To: <CABU_JXzjDZ_pQBGdeq18V5iA7DKmz5+sWXrTzC5ig7HaC6PeuQ@mail.gmail.com>
References: <CABU_JXzjDZ_pQBGdeq18V5iA7DKmz5+sWXrTzC5ig7HaC6PeuQ@mail.gmail.com>
Date: Fri, 3 Aug 2012 17:50:54 +1100
X-Google-Sender-Auth: SYBSSyfZimKEXRXbdv6eSon25Fg
Message-ID: <CABU_JXyMSDisdrD3MktiAi2E4qBn=wn-3ZZAz3Rch8+Z0LSU_Q@mail.gmail.com>
Subject: FBReader 0.6.4 exception report
From: Ivan Zakharyaschev imz@altlinux.org
To: exception@fbreader.org
Cc: imz@altlinux.org
Content-Type: multipart/alternative; boundary=f46d044472e31c333a04c656f34a

The exception itself reported in that message is described at https://github.com/geometer/FBReaderJ/issues/66.
"
geometer/FBReaderJ,closed,FBRreader.apk from Toshiba AC100 misses libLineBreak,[],"I wanted to use FBReader on a Samsung Galaxy telephone, but had no
Internet connection. So I found FBReader.apk on my Toshiba AC100
(which is ARM, had Android), and installed it on the phone.

I thought that the dependencies are checked when a package is
installed on Android, but I get the following error now (it's about
missing libLineBreak).

(The program wanted to report the error via email, but the email
address it wanted to use is not valid. See below for the description
of the errors.

Please be informed of this two problems.)

Subject: FBReader 0.6.4 exception report

java.lang.ExceptionInInitializerError
at org.geometerplus.zlibrary.text.view.ZLTextParagraphCursor.fill(ZLTextParagraphCursor.java:193)
at org.geometerplus.zlibrary.text.view.ZLTextParagraphCursor.<init>(ZLTextParagraphCursor.java:177)
at org.geometerplus.zlibrary.text.view.ZLTextParagraphCursor.cursor(ZLTextParagraphCursor.java:183)
at org.geometerplus.zlibrary.text.view.ZLTextView.setModel(ZLTextView.java:74)
at org.geometerplus.fbreader.fbreader.FBView.setModel(FBView.java:41)
at org.geometerplus.fbreader.fbreader.FBReader.openBookInternal(FBReader.java:210)
at org.geometerplus.fbreader.fbreader.FBReader$1.run(FBReader.java:133)
at org.geometerplus.zlibrary.ui.android.dialogs.ZLAndroidDialogManager$3.run(ZLAndroidDialogManager.java:216)
at java.lang.Thread.run(Thread.java:1096)
Caused by: java.lang.UnsatisfiedLinkError: Library LineBreak not found
at java.lang.Runtime.loadLibrary(Runtime.java:461)
at java.lang.System.loadLibrary(System.java:557)
at org.vimgadgets.linebreak.LineBreaker.<clinit>(LineBreaker.java:5)
... 9 more
"
geometer/FBReaderJ,open,"FBReader crashes when opening an ""offline"" file from google drive",[],"When you set a file to be available ""offline"" in google drive, and you open it in FBReader, FBReader crashes with the following error message:

---

org.geometerplus.fbreader.bookmodel.BookReadingException: Error occured during reading '/data/data/com.google.android.apps.docs/cache/7794399287785437294/emerson, R.W. - De Overziel.epub'
at org.geometerplus.fbreader.formats.NativeFormatPlugin.a(Unknown Source)
at org.geometerplus.fbreader.formats.c.e.a(Unknown Source)
at org.geometerplus.fbreader.bookmodel.d.a(Unknown Source)
at org.geometerplus.fbreader.b.f.a(Unknown Source)
at org.geometerplus.fbreader.b.j.run(Unknown Source)
## at org.geometerplus.android.a.j.run(Unknown Source)
"
geometer/FBReaderJ,open,Add ability to add opds feeds with microsecond timestamp resolution,[],"from: http://old.fbreader.org/mantis/view.php?id=483

I found a bug when trying to add my opds feed. The attribute in the was with microseconds resolution ( as datetime.utcnow().isoformat() prints out in python) and the gui failed with index=26, length=26
"
geometer/FBReaderJ,open,Implement a way to remove (or hide) predefined OPDS catalogs,[],"from http://old.fbreader.org/mantis/view.php?id=481

FBReader 1.3.3 (from f-droid) on Android (Cyanogenmod 7).

I have too many book catalogs configured in the ""network library"". I want to get rid of some, but I can only add more, not remove existing ones.

There must be a way to remove at least the most useless catalogs, such as ""Smashwords"", but I can't find one.
"
geometer/FBReaderJ,open,SSL (self signed) in Network Library,[],"The network library does not work with OPDS catalogues if they are on HTTPS. It gives an error saying that it failed to connect. The catalogue is otherwise available as the xml file can be found by navigating to the correct  location in a browser both on the android device and PC. This appears to be an issue with self signed certificates.
"
geometer/FBReaderJ,open,move next page very slow in android 4.0 ...,[],"when move next page very slow,lost interval 5s,but in android 2.3 to 1.6 when move next page normal.
"
geometer/FBReaderJ,open,"[MAJOR BUG] The book ""reading progress"" resets to beginning of a book",[],"The book progress sometimes resets when reopening the program.
How to reproduce: unknown.
"
geometer/FBReaderJ,open,FBReader proxy setting to transfer books using Open Garden,[],"Open Garden lets you connect  Android devices directly into a mesh network, and they have an add-on for Firefox which sets necessary proxy settings so one device can fetch files over multi-hop. It would be grand if FBReader could do this too, because then people could borrow books from each other at no extra cost. See https://play.google.com/store/apps/details?id=com.opengarden.android.MeshClient
"
geometer/FBReaderJ,closed,Search Crashes OS on Nook,[],"Running a search on a rooted Nook causes the OS to crash and re-boot - every time.
"
geometer/FBReaderJ,open,Bookmarks Invisible on Nook,[],"Running on a rooted Nook the bookmark page displays as white text on a white background.
"
geometer/FBReaderJ,open,Bullet list display error.,[],"The bullet point lists are shown incorrectly (have checked to verify it is not part of the books code).

They appear as, using [] as a bullet substitute:
[] First point
[]
Second Point
[]
Third Point
etc...

Only the first bullet is shown correctly.

I have included a screenshot to better explain.
http://i.imgur.com/v2M9a.jpg
"
geometer/FBReaderJ,closed,update Simplified Chinese translation,[],
geometer/FBReaderJ,open,Support for Epub3,[],"Any plans to support Epub3?

Thank you.
"
geometer/FBReaderJ,open,Arabic Language support,[],"Hi
I had a problem in opening arabic epub books with FBReader.
an example book can be downloaded from here http://www.ibooks.ae/?p=173

when I first opened the book the app didn't detect the language.
when I pressed reload the app detected the language as ""Other language"".

the book pages were not loaded, only displayed blank pages.
after several times of opening/reloading it finally opened the book and displayed normally.
"
geometer/FBReaderJ,closed,Переоткрытие старой книги после выбора новой,[],"Часто (но не каждый раз) вылазит такой глюк: из библиотеки выбираю новую книгу (например, из ""по авторам"" или из ""недавних"", без разницы), программа показывает диалог загрузки, потом он пропадает, показывается книга, и тут же поверх ещё раз показывается диалог загрузки и читается и показывается старая книга. Такое может быть несколько раз подряд. Борюсь обычно выходом и принудительной очисткой памяти телефона, после этого, как правило, нормально открывает новую книгу.
Телефон: Samsung Galaxy S i9000 перешитый на 2.3.6 (I9000XXJVT). Каталог с книгами лежит на внешней карте памяти (карта 16GB). Обновляю через маркет уже с полгода, сносить и ставить заново не пробовал.
"
geometer/FBReaderJ,open,Поддержка таблиц,[],"А поддержка таблиц планируется?
"
geometer/FBReaderJ,open,exportable bookmarks/highlights,[],"...or at least a way to copy metadata.db over to another computer for sqlite hacking - assuming that's where bookmarks/etc are stored - right now that's not user-accessible unless you root the machine, right?

I like to copy/paste book excerpts to my WikiLog for future reference. I don't mind doing some SQLite hacking to do so. I'd even build a little webapp in web.py and share it with the class.....

Let me rephrase this as a series of questions:
1. are bookmarks and highlights stored in metadata.db?
2. is metadata.db user-visible (and copyable over USB to another computer) without rooting the android device?

Assuming the answer are 1=yes and 2=no, then please do simplest thing possible to make data accessible - maybe an export function that creates a copy of metadata.db?
"
geometer/FBReaderJ,closed,Czech language,[],"Updated Czech language files.
"
geometer/FBReaderJ,closed,Text letters scarambled,[],"Some books have at random pages the letters to appear scrambled or as Chinese letters.
"
geometer/FBReaderJ,open,Book page size customization,[],"I imply the possibility to customize amount of words/symbols, that are counted as a page.
Now, FBReader says, Dostoyevsky's ""Demons"" (""Бесы"") contains 1700 pages which is obviously not true.
For example, i could make the page to be counted as 1024 symbols or 200 words.
Thanks
"
geometer/FBReaderJ,open,"Добавить список того, что будешь читать",[],"Я много читаю и мне много людей рекомендует книги. Я их загружаю, но потом забываю и то как книга называется, и автора и вообще что собирался её прочесть.

Предлагаю наряду с Recent books добавить Want to read, чтобы можно было последовательно прочитать и не забыть
"
geometer/FBReaderJ,closed,TOC (table of contents) is absent in some epub books,[],"Try to open [Mercurial: The Definitive Guide](https://bitbucket.org/jan_/hgbook/downloads/hgbook.epub) in FBReaderJ. There are no chapter breaks in statusbar and TOC button is absent when menu is opened. It is not reproducible with all books, though, TOC for [Pro Git](https://github.s3.amazonaws.com/media/progit.epub) is displayed correctly.

[This issue in old bugtracker](http://old.fbreader.org/mantis/view.php?id=467).

HTC Desire, Android 2.3.7, CM-7.1.0, FBReaderJ 1.4.5 (104051).
"
geometer/FBReaderJ,open,"Book sharing via e-mail, skype, etc: please add book title/author in mail subject or body",[],"The file downloaded from opds-directory is named ""download.fb2.zip"". Not convenient.
"
geometer/FBReaderJ,open,Add more preinstalled OPDS catalogs,[],"- http://flibusta.net/opds
"
geometer/FBReaderJ,open,Make fbreader able to import/export settings,[],"Too much installing new ROM updates and I have to toggle the right settings all the time. Too annoying :(
"
geometer/FBReaderJ,closed,Пропадают плагины из меню (2.0beta6),[],"При первом запуске плагины на месте http://dl.dropbox.com/u/11362313/tmp/fb1.png
Если ""закрыть"" программу кнопкой ""Назад"" и заново открыть - плагины исчезают http://dl.dropbox.com/u/11362313/tmp/fb2.png
Вылечивается остановкой программы через Настройки-Управление приложениями.
Проверил на эмуляторе 4.0.3 и реальном 2.3.5
http://dl.dropbox.com/u/11362313/tmp/fb3.jpg
http://dl.dropbox.com/u/11362313/tmp/fb4.jpg
"
geometer/FBReaderJ,open,Open fb2.zip files from any file manager,[],"Currently it's not possible to open fb2.zip files in FBReader directly from File Manager. It could be fixed by adding the following intent filter:

```
            <intent-filter>
                <action android:name=""android.intent.action.VIEW"" />
                <category android:name=""android.intent.category.DEFAULT"" />
                <data android:scheme=""file"" />
                <data android:host=""*"" />
                <data android:pathPattern="".*\\.fb2.zip"" />
                <data android:mimeType=""application/zip"" />
            </intent-filter>
```

You can use ES File Explorer to check.
"
geometer/FBReaderJ,open,ePub3 is not supported yet,[],"My test ePub3 file is downloaded from http://code.google.com/p/epub-samples/downloads/detail?name=cc-shared-culture-20120130.epub

When open this epub3 file using FBReaderJ 2.0beta6, video and audio could not be played.
"
geometer/FBReaderJ,closed,Updated Czech translation,[],
geometer/FBReaderJ,closed,Fix jerky scrolling in Network Library,[],"For quiet a while I found that scrolling in Network Library is very slow and very jerky, besides LogCat shows that gc is basically working all the time. This is especially noticeable when on LitRes going to Genres -> Fiction -> Science Fiction, which has very long lists, with pretty big covers. I found that this is mainly due to the fact that cover bitmap decoding and resizing is done on the ui thread, and on top of that tree adapter's data set is changed quite often, causing list view to call getView for new Tree objects, re-decoding and rescaling those same covers over and over again. And while this causes bad scrolling on my Galaxy S II, it's absolutely horrible on a tablet, e.g. on Transformer Prime.

This my 3rd or something attempt at moving cover bitmap generation to separate threads, which turned out to be tricky. Basically, this patch adds a recommended practice of using ViewHolder in NetworkLibraryAdapter, adds a LRU map of bitmaps from their tree.getUniqueKey(), offloads cover bitmap generation to a pool of threads (in this patch it's just 1 thread, but maybe it should be increased), and uses Future<?> so that cover generation can be cancelled, when view is reused for another tree. Also, since bitmap generation is now on different threads, getBitmap in ZLAndroidImageData is made synchronized.

It appears to work really well on Galaxy S II, however on Transformer Prime I still had noticeable UI freezes for several seconds sometimes (which then stabilized and doesn't seem to happen as bad restarts now). I'm not sure if this is because I screwed something up with too much locking, or maybe cover generation shouldn't really use minimum priority?

Anyway, with this patch scrolling is very smooth most of the time, with stock bitmaps showing up, which are shortly replaced by proper covers. Of course this needs more testing, but I hope you can make this into something useable.
"
geometer/FBReaderJ,open,Button lights re-light-up when changing screen brightness using left-finger-drag,[],"When both the ""Screen brightness adjustment"" and ""Disable buttons light during reading"" settings are enabled, upon changing the screen brightness with a left-side vertical finger drag, the button lights light up again, and are not shut off until entering the settings menu and returning, or exiting and restarting FBReaderJ.  Happens in both Day & Night mode.

Steps to reproduce:

1) Start FBReaderJ, enable ""Screen brightness adjustment"" and ""Disable buttons light during reader"" settings in the Settings->Appearance menu.
2) Return to the reader screen with a book open.  Make sure the button lights are off.
3) Change the display brightness (up or down) with a left-screen-side-finger-drag.  The buttons will light up.
4) Exit and restart, or enter the Settings menu and return to the reader; they will turn off again.

Expected behavior:

Ideally, they wouldn't light up, or maybe turn back off right after changing the display brightness.

FBReaderJ 1.3.7 (103071)
Phone: HTC Evo 3D
OS: Android 2.3.4
"
geometer/FBReaderJ,open,Locking phone while FBReaderJ open leads to incorrect time being displayed,[],"When locking my phone while FBReaderJ is open, upon resuming (unlocking the phone later), the clock displayed in the status bar is not updated, and continues ticking away with the incorrect time.

Steps to reproduce: 

1) Open FBReaderJ, and open a book into the reader screen.  Note the time in the status bar.
2) Lock the phone.
3) Wait a couple of minutes.
4) Unlock the phone, restoring the app.  Note the time has not updated.
5) Watch for a couple of minutes, and note that the time continues ticking along from the previously paused time.

Expected behavior:

The clock should be updated from system time upon restoring from lock mode.  Then the tick counter can update the software timer asynchronously from the clock as it appears to do now.

FBReaderJ 1.3.7 (103071)
Phone: HTC Evo 3D
OS: Android 2.3.4
"
geometer/FBReaderJ,closed,的,[],
geometer/FBReaderJ,closed,LEO dictionary support,[],"simple patch to support [LEO Dictionary](https://market.android.com/details?id=org.leo.android.dict&hl=en)
"
geometer/FBReaderJ,open,Adding RTL language support,[],"Hi,
I want to contribute this project to fix RTL rendering problem of FBReader in Android.
Can you direct me which class that need to be enhanced?
"
geometer/FBReaderJ,open,ant package & ant debug doesn't work,[],"Hi, 

I want to build FBReaderJ but i receive this error :

computer-di-apple-pc-03:FBReaderJ-sources-1.3.3 agosto$ ant package
Buildfile: /Users/agosto/Documents/workspace/FBReaderJ-sources-1.3.3/build.xml

BUILD FAILED
Target ""package"" does not exist in the project ""FBReaderJ"". 

Total time: 0 seconds

ant debug :

....
.....
....
....

-compile:
    [javac] Compiling 495 source files to /Users/agosto/Documents/workspace/FBReaderJ-sources-1.3.3/bin/classes
    [javac] /Users/agosto/Documents/workspace/FBReaderJ-sources-1.3.3/src/org/geometerplus/android/fbreader/network/ScanLocalNetworkActivity.java:38: package javax.jmdns does not exist
    [javac] import javax.jmdns.*;
    [javac] ^
    [javac] /Users/agosto/Documents/workspace/FBReaderJ-sources-1.3.3/src/org/geometerplus/android/fbreader/network/ScanLocalNetworkActivity.java:207: cannot find symbol
    [javac] symbol  : class ServiceInfo
    [javac] location: class org.geometerplus.android.fbreader.network.ScanLocalNetworkActivity.ServiceInfoItem
    [javac]         private final ServiceInfo myServiceInfo;
    [javac]                       ^
    [javac] /Users/agosto/Documents/workspace/FBReaderJ-sources-1.3.3/src/org/geometerplus/android/fbreader/network/ScanLocalNetworkActivity.java:209: cannot find symbol
    [javac] symbol  : class ServiceInfo
    [javac] location: class org.geometerplus.android.fbreader.network.ScanLocalNetworkActivity.ServiceInfoItem
    [javac]         public ServiceInfoItem(ServiceInfo info) {
    [javac]                                ^
    [javac] /Users/agosto/Documents/workspace/FBReaderJ-sources-1.3.3/src/org/geometerplus/android/fbreader/network/ScanLocalNetworkActivity.java:161: cannot find symbol
    [javac] symbol: class JmDNS
    [javac]                             final JmDNS mcDNS = JmDNS.create(address, ""FBReader"");
    [javac]                                   ^
    [javac] /Users/agosto/Documents/workspace/FBReaderJ-sources-1.3.3/src/org/geometerplus/android/fbreader/network/ScanLocalNetworkActivity.java:161: cannot find symbol
    [javac] symbol: variable JmDNS
    [javac]                             final JmDNS mcDNS = JmDNS.create(address, ""FBReader"");
    [javac]                                                 ^
    [javac] /Users/agosto/Documents/workspace/FBReaderJ-sources-1.3.3/src/org/geometerplus/android/fbreader/network/ScanLocalNetworkActivity.java:163: cannot find symbol
    [javac] symbol: class ServiceInfo
    [javac]                                 for (ServiceInfo info : mcDNS.list(type)) {
    [javac]                                      ^
    [javac] Note: Some input files use unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked for details.
    [javac] 6 errors

BUILD FAILED
/Developer/android-sdk-mac_x86/tools/ant/build.xml:602: The following error occurred while executing this line:
/Developer/android-sdk-mac_x86/tools/ant/build.xml:622: Compile failed; see the compiler error output for details.

Is there anyone help me?
Thanks
"
geometer/FBReaderJ,open,<hr /> not being rendered in ePub,[],"The Horizontal Rule (&lt;hr /&gt;) tag is being ignored if it occurs in an ePub. Would be nice if FBReader would display it. 
"
geometer/FBReaderJ,open,"Inclusion of the date/time of last book opening in ""recently opened books list""",[],"Subj.
"
geometer/FBReaderJ,open,Make tapping zones customizable,[],"Would be great to have tapping behavior on different screen zones (flipping pages in the bottom and top, choosing pages and accessing menu in the middle) customizable. Thank you.
"
geometer/FBReaderJ,open,(Request)Black-on-white text in lists.,[],"To make FBReaderJ look nice on eInk devices, please consider an option to change screen background color  in library, network library, search etc to white and text color to black. It can be implemented as one single option ""Default EInk Color Scheme"".
"
geometer/FBReaderJ,open,fbreader accepts an intent it should not,[],"FBReader will react to an intent with action = android.intent.action.VIEW and data = content://anything (eg. content://com.sec.android.widgetapp.dualclock/dualclock/ as used by one Samsung widget) and no type.

android:pathPattern="".*\.fb2"" apparently does not work without also matching on a host.
"
geometer/FBReaderJ,closed,Added translator credits; fixed typo,[],
geometer/FBReaderJ,closed,Updated all french translations,[],"This time, everything is translated :) I also fixed some typos.
"
geometer/FBReaderJ,closed,fr translation updated,[],"100% complete, ready for 1.3 :)
"
geometer/FBReaderJ,closed,Compilation error,[],"I get the following compilation error when building FBReaderJ. Why is there direct access to fields instead of setters/getters in that code? After I correct it, it works fine. Do you want a patch for that?

<pre>
ppawel ~/src/FBReaderJ $ ant debug
Buildfile: /home/ppawel/src/FBReaderJ/build.xml

-set-mode-check:

-set-debug-files:

-set-debug-mode:

-debug-obfuscation-check:

-setup:
     [echo] Gathering info for FBReaderJ...
    [setup] Android SDK Tools Revision 16
    [setup] Project Target: Android 2.2
    [setup] API level: 8
    [setup] 
    [setup] ------------------
    [setup] Resolving library dependencies:
    [setup] No library dependencies.
    [setup] 
    [setup] ------------------
    [setup] 
    [setup] WARNING: Attribute minSdkVersion in AndroidManifest.xml (5) is lower than the project target API level (8)

-build-setup:
     [echo] Creating output directories if needed...

init:

check.native.libraries:
     [echo] Checking if native libraries are up-to-date...
     [echo] DONE (Checking if native libraries are up-to-date)

resources:
     [echo] Cleaning up the 'res/drawable' folder...
   [delete] Deleting directory /home/ppawel/src/FBReaderJ/res/drawable
     [echo] DONE (Cleaning up the 'res/drawable' folder)
     [echo] Copying icons files to 'res/drawable/' folder...
     [copy] Copying 65 files to /home/ppawel/src/FBReaderJ/res/drawable
     [echo] DONE (Copying icons files to 'res/drawable/' folder)

native:

-pre-build:

-code-gen:
     [echo] ----------
     [echo] Handling aidl files...
     [aidl] Found 3 AIDL files.
     [aidl] No AIDL files to compile.
     [echo] ----------
     [echo] Handling RenderScript files...
[renderscript] No RenderScript files to compile.
     [echo] ----------
     [echo] Handling Resources...
     [aapt] Found modified input file
     [aapt] Generating resource IDs...

-pre-compile:

-compile:
    [javac] Compiling 425 source files to /home/ppawel/src/FBReaderJ/bin/classes
    [javac] /home/ppawel/src/FBReaderJ/src/org/geometerplus/zlibrary/core/tree/ZLTree.java:48: error: addSubTree(T,int) has private access in ZLTree
    [javac]             parent.addSubTree((T)this, position);
    [javac]                   ^
    [javac]   where T is a type-variable:
    [javac]     T extends ZLTree<T> declared in class ZLTree
    [javac] /home/ppawel/src/FBReaderJ/src/org/geometerplus/zlibrary/core/tree/ZLTree.java:83: error: mySize has private access in ZLTree
    [javac]                     if (subtree.mySize <= index) {
    [javac]                                ^
    [javac] /home/ppawel/src/FBReaderJ/src/org/geometerplus/zlibrary/core/tree/ZLTree.java:84: error: mySize has private access in ZLTree
    [javac]                         index -= subtree.mySize;
    [javac]                                         ^
    [javac] /home/ppawel/src/FBReaderJ/src/org/geometerplus/zlibrary/core/tree/ZLTree.java:163: error: mySubTrees has private access in ZLTree
    [javac]                 myCurrentElement = (T)element.mySubTrees.get(0);
    [javac]                                              ^
    [javac] Note: Some input files use unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked for details.
    [javac] 4 errors

BUILD FAILED
/opt/android-sdk/tools/ant/build.xml:602: The following error occurred while executing this line:
/opt/android-sdk/tools/ant/build.xml:622: Compile failed; see the compiler error output for details.

Total time: 9 seconds
ppawel ~/src/FBReaderJ $ 
</pre>
"
geometer/FBReaderJ,closed,Updated polish translation. Some previous typos fixed.,[],
geometer/FBReaderJ,open,No pagination in OPDS Catalogs,[],"I'm writing and ODPS catalog of my epub collection. Everything works fine, i can load my Catalog, FBReader gets my title automatically, and loads my menu (just one ""Recent"" menu item for now).

But when i load that navigation option, that points to an ODPS listing with the latest 20, and data for pagination, FBReader starts to load all the pages, one after another, until the end. 

That sums up to 3.845 ebooks data in 192 pages, loaded in a single shot, so 192 calls to my server to get the pages, plus 3.845 calls to get the 3.845 thumbnails, to a final 4.037 calls to load a section in FBReader ! 

After a couple minutes, my phone just can't handle the load and hangs FBReader.

So i assume the is no pagination support in FBReader, it just try to load the whole set by default.

Could it be possible to add support for the ODPS pagination standard ?

I think i've set the correct tags as for the specification:

```
<opensearch:totalResults>3845</opensearch:totalResults>
<opensearch:itemsPerPage>20</opensearch:itemsPerPage>
<link type=""application/atom+xml; profile=opds-catalog; kind=navigation"" rel=""self"" href=""http://marcosbl.local/opds/recent""/>
<link type=""application/atom+xml;profile=opds-catalog;kind=acquisition"" title=""Siguiente"" rel=""next"" href=""http://marcosbl.local/opds/recent/2""/>
```

So i think everything is in place for pagination support, total number, per page, and current and next pages link.

I know i can use OpenSearch (in fact i do, and it works great !) but pagination should be there for authors/recents/top listings imho.

Thanks for your time and excuse my poor english !
"
geometer/FBReaderJ,closed,save password + quiet reload,[],
geometer/FBReaderJ,closed,Authorization while adding custom catalog fix.,[],
geometer/FBReaderJ,closed,The application fbreaderj stopped unexpectedly.,[],"Hello Friends,

I am the error ""The application fbreaderj stopped unexpectedly."". The following has more details.
Could someone kindly let me what is causing the problem?

Thanks
Larry

Error
Tue Nov 15 11:24:26 EST 2011
No command output when running: 'am start -n org.geometerplus.zlibrary.ui.android/org.geometerplus.android.fbreader.FBReader -a android.intent.action.MAIN -c android.intent.category.LAUNCHER' on device emulator-5554

com.android.ddmlib.ShellCommandUnresponsiveException
    at com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:408)
    at com.android.ddmlib.Device.executeShellCommand(Device.java:311)
    at com.android.ide.eclipse.adt.internal.launch.ActivityLaunchAction.doLaunchAction(ActivityLaunchAction.java:74)
    at com.android.ide.eclipse.adt.internal.launch.AndroidLaunchController.launchApp(AndroidLaunchController.java:1148)
    at com.android.ide.eclipse.adt.internal.launch.AndroidLaunchController.clientChanged(AndroidLaunchController.java:1498)
    at com.android.ddmlib.AndroidDebugBridge.clientChanged(AndroidDebugBridge.java:871)
    at com.android.ddmlib.Device.update(Device.java:436)
    at com.android.ddmlib.Client.update(Client.java:836)
    at com.android.ddmlib.HandleAppName.handleAPNM(HandleAppName.java:90)
    at com.android.ddmlib.HandleAppName.handleChunk(HandleAppName.java:64)
    at com.android.ddmlib.MonitorThread.callHandler(MonitorThread.java:414)
    at com.android.ddmlib.MonitorThread.processClientActivity(MonitorThread.java:322)
    at com.android.ddmlib.MonitorThread.run(MonitorThread.java:263)
"
geometer/FBReaderJ,closed,Add Aard Dictionary integration,[],"This change enables Aard Dictionary (http://aarddict.org/android/) integration.
"
geometer/FBReaderJ,closed,second part of polsih localization,[],
geometer/FBReaderJ,closed,Polish localization,[],"as promissed. Hope you'll merge it soon :D
"
geometer/FBReaderJ,closed,New feature: settings can be saved/restored to/from an XML file,[],"A new settings entry has been added to allow saving or restoring the current configuration to/from an XML file.
"
geometer/FBReaderJ,closed,Fixed non-handling of HTML annotations (book info),[],"Books info may have HTML content for description in the annotation
section. The issue may occur for example when using an external OPDS
catalog created with Calibre and exported with calibre2opds.

This patch simply turns on HTML support in the annotation field.

https://rapidshare.com/files/459720133/badhtmlhandling.png
http://rapidshare.com/files/459719756/goodhtmlhandling.png
"
geometer/FBReaderJ,closed,fr translation updated,[],"Hi Nikolay, fr translation complete :)
"
geometer/FBReaderJ,open,Browser behavior added.,[],"Internal links are now marked as read when visited.
The Android back key works like a browser back button.
"
geometer/FBReaderJ,closed,Additional dictionaries and some bugfixes,[],"I added support for the Free Dicitionary and the SlovoEd English German Deluxe Dictionary (commercial) and fixed some bugs.
"
geometer/FBReaderJ,closed,Updated french translations,[],"fr translation complete.
"
geometer/FBReaderJ,closed,Updated build.xml version,[],"If there are other Java/xml files are 'marked' as changed and go to 'pull request' then ignore those changes pls.
build.xml is intended for pull request only.
"
geometer/FBReaderJ,closed,fr translations updated,[],"fr translations are 100% complete
"
geometer/FBReaderJ,closed,Ant build file is updated + PDF is added,[],"Pls review and test locally updated ANT build script. Using Python script for renaming and copying 'resources' is not necessary now, because all is done by ant tasks.
"
geometer/FBReaderJ,closed,Text-to-speech ,[],"This commit contains the Text-to-Speech feature, it adds a menu item 'Speak' and passes paragraph by paragraph to the Android TTS engine.  If the engine is not installed, it notifies the user.

I added some comments and notes in the commit.
"
geometer/FBReaderJ,closed,All my changes are committed to git and are ready to review,[],
geometer/FBReaderJ,closed,Footer commits are ready to be puled to mainstream,[],
geometer/FBReaderJ,closed,"Some minor changes (doc, build target)",[],"done
"
