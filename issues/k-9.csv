repository,state,title,label,body
k9mail/k-9,open,No notification when SMTP server rejects outgoing message,[],"When trying to send a message fails because the SMTP server rejects the message user is not notified in any way. Instead, user is just left wondering why the message just sits in Outbox in spite of trying 'Send messages'.

### Expected behavior
When the SMTP server rejects outgoing message user is notified, preferrably with some indication why the message was rejected, e.g. 'SMTP server complains that the message is too large or has too many recipients'.

### Actual behavior
User gets no notification, message is just stuck in Outbox, and when user goes there and launches 'Send messages' nothing visible happens and the message just keeps on sitting in the Outbox.

### Steps to reproduce
1.Ensure that the (test) SMTP server will reject the outgoing message, e.g. by setting some limit ridiculously low (like maximum number of recipients = 1)
2.Create a message that will be rejected, like two or more recipients when the SMTP server is set to accept only messages with one recipient.
3.Try sending the message, go to Outbox and try 'Send messages' a random number of times and wonder what is happening.

### Environment
K-9 Mail version:5.600

Android version:8.0.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,open,Update drawer when re-opened via intent,[],"Fixes #3764


"
k9mail/k-9,open,Drawer ist not updated if app is re-opened via an intent,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When re-opened e.g. from the widget, the drawer content should be updated to reflect possible account changes.

### Actual behavior
The drawer keeps the old account and its folder list.

### Steps to reproduce
1. Open k9
2. Select account 1
3. Close app
4. open message from account 2 via widget
5. open drawer and see that account 1 is still selected

### Environment
K-9 Mail version: 67df429522620dadeaa40e7628a72a6039a0f04c

Android version: 9.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,WIP: Change mail sync to work with background execution limits,[],"


"
k9mail/k-9,open,"(WIP) Change minSdkVersion to 19, use Storage Access Framework for attachments/images ",[],"Introduces saving of attachments with the Storage access framework. It also bumps the MinSdkVersion to 19 (Kitkat) to remove the legacy file saving code (Mainly FileBrowser) for attachments and setting export. With this change the only usage of the storage permission should be the external mail database. 

Current behaviour of this PR for saving attachments:
- On Kitkat: Saving with simple/long press is handled via `ACTION_CREATE_DOCUMENT`
- On >Lollipop: Saving with simple press via `ACTION_OPEN_DOCUMENT_TREE`, On long press with `ACTION_CREATE_DOCUMENT`

ACTION_OPEN_DOCUMENT_TREE will mimic the old behaviour, the user sets a initial directory (or over settings) and the file is saved there. If a file with the name already exists a unique name with -x is created. 

Current behaviour of this PR for saving images:
- On Kitkat: Legacy save
- On Lollipop: Saving via `ACTION_OPEN_DOCUMENT_TREE` on the default attachment location

What is left to do?
- Use`ACTION_CREATE_DOCUMENT`  for saving a image (that would provide a single way to save a file)
- Find a good replacment for the usage of the `DownloadManager` service. The api does only support paths and no content URIs. 
 I added a toast for now, but I don't feel like this a good way to this. Maybe a own Notification that displays the filename and support the opening of the file? 
- Code and commit log clean-up


Relevant issues: #3752 #2110 
"
k9mail/k-9,open,Notification settings,[],"Hides several notification settings when on Android Oreo or higher and adds an item that opens system notification settings for that app.

*Edit: updated descriptions and images to latest version*

Settings kept in Oreo are the one selected [in this comment](https://github.com/k9mail/k-9/issues/3722#issuecomment-442428821).

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle). :heavy_check_mark: 
* Does not break any unit tests. :heavy_check_mark: 
* Contains a reference to the issue that it fixes. :heavy_check_mark: 
* For cosmetic changes add one or multiple images, if possible. :heavy_check_mark: 

On Android pre-Oreo (everything as before):

![screenshot_1543415989](https://user-images.githubusercontent.com/1718963/49159769-7f4ea480-f325-11e8-91f7-77526d1abc25.png)

![screenshot_1543415993](https://user-images.githubusercontent.com/1718963/49159776-82e22b80-f325-11e8-8aef-d28772817837.png)

On Android Oreo or higher (some preferences removed, new item at the bottom):

![screenshot_1543521915](https://user-images.githubusercontent.com/1718963/49248822-e69a5080-f41a-11e8-98dd-4b5f724606d8.png)

Semi-open points:
  - string values for the ""open system notification"" item."
k9mail/k-9,closed,Optionally enable web cache,[],"Hi,

Thank you for the great open-source email client.

Please consider embedding a small amendment from me.
I have added an option to enable cache in WebView. Was there any reason for disabling it?
It really hurts to see images re-loaded every time I open a message.

Regards,
Stan
"
k9mail/k-9,closed,Added colored chip in Unified Inbox widget items,[],"I added the feature mentioned in #3758. The result:

![k-9_1](https://user-images.githubusercontent.com/17316999/49138035-6aa2ea00-f2ee-11e8-8653-e6d15f1be88c.png)

Personally I am not fond of the way I implemented it: I feel I should be using an account UUID instead of getting the index of the account from the URI. However, I haven't figured out yet how to retrieve the correct UUID.

I am also using a `TextView` instead of a regular `View` because otherwise the items won't render for some reason.

Closes #3758 "
k9mail/k-9,closed,[Feature Request] Add a colored chip to the Unified Inbox widget,[],"It would be nice if there is a little colored clip to the left of an item like in the app itself. It makes it easier to see which email belongs to which inbox.

### Environment
K-9 Mail version: 5.600
Android version: 6.0"
k9mail/k-9,open,K9 should warn of too many connections will be established,[],"K9 is opening many connections to your mailserver, on some conditions, see:
https://github.com/k9mail/k-9/issues/1694

This will cause some mail servers to refuse connction because of 
_IMAP  - Maximum number of connections from user+IP exceeded (mail_max_userip_connections=10)_

However K9  users will be left without any clue, since K9 itself just will leave you clueless with some ""unable to connect"" message. I had to use an other mail client to figure out the real reason.

Issue #1694 was closed because of correct behaviour.
However, I'd suggest **a message to warn the user** that his setting will cause many connections.

Additionally it might also help to get a better overview on existing connections as well as more accurate error messages."
k9mail/k-9,closed,Disallow Addresses with `null` address part,[],"This change ensures that Address objects are always created with a valid
`address` part. If an Address contains only `personal` part then it is
silently skipped from parsed list.

Unit tests have been adjusted to this new requirement.

Removed inserting Address with `null` address component introduced in
commit 68cecb168e21364b5015dea3f55b1d315f8202ae.

Fixes #3652.

This PR replaces https://github.com/k9mail/k-9/pull/3739.

See: https://github.com/k9mail/k-9/pull/3739#issuecomment-441242481

Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle). :white_check_mark:
* Does not break any unit tests. :white_check_mark:
* Contains a reference to the issue that it fixes. :white_check_mark:
* For cosmetic changes add one or multiple images, if possible. N/A


"
k9mail/k-9,open,  Don’t use a new folder for sent e-mails,[],"K 9 creates a nexw folder with sent emails in my outlook (account). Isn’t there a way to use the original folder?

### Expected behavior
k9 synchnizes neatly with my sent emails folder in my outlook (hotmail) account.

### Actual behavior
k-9 creates a new folder.

### Steps to reproduce
1. Install k-9
2. send an e-mail
3. log in into your e-mail account by using your browser, you'll notice k-9 created a new folder

### Environment
K-9 Mail version: 5.600

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,enhancement: notifications of e-mails coming in subfolders,[],"When I receive an e-mail in one of my subfolders of my hotmail (outlook) account, I don’t get any notification from K9. It would be nice if the app would also give a notification of this.

### Expected behavior
k-9 gives a notification of any received e-mail

### Actual behavior
I only get notifications when something arrives in my main inbox.

### Steps to reproduce
1. Create a ruile that a certain email(adress) will allways be recieved in a subfolder in outlook (hotmail).
2. use k9
3.

### Environment
K-9 Mail version: 5.600

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Fix activities that don't show the action bar after switching to AppCompat,[],
k9mail/k-9,open,"Change minSdkVersion to 19, exclusively use Storage Access Framework to read/write (externally accessible) files",[],"See #2844
Obsoletes #3161"
k9mail/k-9,open,Remove Accounts activity,[],"Once #3747, #3748, and #3749 are done remove `Accounts` and make `MessageList` the app entry point. 

Create an `<activity-alias>` to make sure existing shortcuts continue to work. See https://blog.danlew.net/2014/01/16/preserve-your-launchers-use-activity-alias/"
k9mail/k-9,open,Change FolderList activity into a folder manager,[],"- Add a ""Manage folders"" entry above ""Settings"" in the navigation drawer.
- Remove actions from action bar that are not directly involved in managing folders (check mail, compose, search, send messages, empty trash, settings)
- Make going to folder settings the main action when clicking on a folder in the list."
k9mail/k-9,open,"Move ""empty trash"" action to overflow menu in message list screen",[],"Only display the ""empty trash"" option when viewing the trash folder."
k9mail/k-9,open,"Move ""remove account"" action to overflow menu in account settings screen",[],
k9mail/k-9,open,Move settings import/export to 'general settings' screen,[],
k9mail/k-9,open,Site Certificate Expired Issue,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
In the event a site certificate is expired or invalid it should warn that is the case and allow options.
### Actual behavior
Tell us what happens instead
The application appears to be getting mail but never retrieves any. It becomes apparent when other mail retrieval such as PC works.
### Steps to reproduce
1. Poll mail from host with expired or invalid certificate
2.
3.

### Environment
K-9 Mail version: 5.600

Android version:
8.0.0
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Add accounts header to the drawer,[],"Show an accounts header like in gmail, but including the unified inbox

Replaces #3741 "
k9mail/k-9,closed,Move logic out of Account class (1),[],"These are the first two commits of #3737, before converting to Kotlin. This already gets rid of 500 lines in Account, and should be reasonable to review as a first step."
k9mail/k-9,open,RFC: message reply button,[],"Inspired by gmail app, I moved the reply button next to the sender, to where the ""flag"" star was before. But compared to the reply button it doesn't deserve a highly prominent position like that, maybe we can place it somewhere else?

![image](https://user-images.githubusercontent.com/27813/48949184-703bb100-ef37-11e8-9195-9ccda3ebe3c4.png)"
k9mail/k-9,closed,use native selectableItemBackground,[],
k9mail/k-9,closed,Show accounts in the unified inbox drawer,[],"Currently, when in unified inbox mode, the drawer has an empty body, in
the best case. Simply list the mail accounts in the body of the unified
inbox drawer to allow for a quick navigation into them.
"
k9mail/k-9,closed,Don't try to operate on an uninitialized drawer,[],"This is necessary whenever the account list is configured as default
starting view.

Fixes #3716

"
k9mail/k-9,closed,Return empty string for empty addresses,[],"Previously `MessageHelper#toFriendly` returned `null` for certain kind of addresses such as `<>`.

This fix returns an empty string in this case thus making `toFriendly` return a non-null response for all input data.

Fixes #3652.

To be honest it's not 100% clear if this is the same case as #3652 as there is no input data attached there but the stack trace produced on failing test is very similar to what was attached there.

Stack trace on failed test (without code fix):
```
java.lang.NullPointerException
	at android.text.SpannableStringBuilder.append(SpannableStringBuilder.java:251)
	at com.fsck.k9.helper.MessageHelper.toFriendly(MessageHelper.java:103)
        ...
```

An address like this `<>` will be converted to empty string `""""`. If you have better idea (for example using entire un-parsed address instead of empty string) please say so and I'll adjust.

Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle). ✅ 
* Does not break any unit tests. ✅ 
* Contains a reference to the issue that it fixes. ✅ 
* For cosmetic changes add one or multiple images, if possible. N/A


"
k9mail/k-9,open,RFC: Reply behavior,[],"Sometimes users seem to be surprised about the way K-9 Mail selects recipients when the ""reply"" action is used. I'm proposing to add more options with names that hopefully make it clearer which addresses will be selected as recipients.

### Proposed behavior described via examples:

```
From: sender@example.org
To: you@example.org
```
Displayed actions (in order):
- Reply (sender@example.org)

---

```
From: sender@example.org
To: unknown@example.org
```
Displayed actions (in order):
- Reply (sender@example.org)
- Reply to all (sender@example.org, unknown@example.org)

---
```
From: sender@example.org
To: you@example.org
Reply-To: other@example.org
```
Displayed actions (in order):
- Reply (other@example.org)
- Reply to all (sender@example.org, other@example.org)

---
```
From: sender@example.org
To: unknown@example.org
Reply-To: other@example.org
```
Displayed actions (in order):
- Reply (other@example.org)
- Reply to all (sender@example.org, other@example.org, unknown@example.org)

---
```
From: sender@example.org
To: you@example.org
List-Post: <mailto:list@example.org>
```
Displayed actions (in order):
- Reply to list (list@example.org, sender@example.org)
- Reply (sender@example.org)

---
```
From: sender@example.org
To: you@example.org
Reply-To: list@example.org
List-Post: <mailto:list@example.org>
```
Displayed actions (in order):
- Reply to list (list@example.org, sender@example.org)
- Reply (sender@example.org)

---
```
From: sender@example.org
To: you@example.org
Reply-To: other@example.org
List-Post: <mailto:list@example.org>
```
Displayed actions (in order):
- Reply to list (list@example.org, other@example.org)
- Reply (other@example.org)
- Reply to all (sender@example.org, other@example.org, list@example.org)

---
```
From: sender@example.org
To: list@example.org
Reply-To: list@example.org
List-Post: <mailto:list@example.org>
```
Displayed actions (in order):
- Reply to list (list@example.org, sender@example.org)
- Reply (sender@example.org)

---
```
From: sender@example.org
To: list@example.org
Reply-To: other@example.org
List-Post: <mailto:list@example.org>
```
Displayed actions (in order):
- Reply to list (list@example.org, other@example.org)
- Reply (other@example.org)
- Reply to all (sender@example.org, other@example.org, list@example.org)

---
```
From: sender@example.org
To: unknown@example.org
Reply-To: list@example.org
List-Post: <mailto:list@example.org>
```
Displayed actions (in order):
- Reply to list (list@example.org, sender@example.org)
- Reply (sender@example.org)
- Reply to all (sender@example.org, list@example.org, unknown@example.org)

---
```
From: sender@example.org
To: unknown@example.org
Reply-To: other@example.org
List-Post: <mailto:list@example.org>
```
Displayed actions (in order):
- Reply to list (list@example.org, other@example.org)
- Reply (other@example.org)
- Reply to all (sender@example.org, other@example.org, list@example.org, unknown@example.org)
---

Feedback is very welcome.

---

Update 1: Incorporated feedback from https://github.com/k9mail/k-9/issues/3738#issuecomment-440997017
Update 2: See https://github.com/k9mail/k-9/issues/3738#issuecomment-441495208"
k9mail/k-9,closed,Move logic out of Account class,[],"This PR converts the Account class to Kotlin, and attempts to move as much logic as possible out of there, leaving it a relatively dumb but not yet data class. I introduced an AccountManager class, and attempted to move all knowledge of how accounts are stored as preferences into that class. I tried to mostly just move stuff around, but wasn't able to leave the logic completely untouched in some places.

Unfortunately, the unit tests are broken non deterministically for some reason. I couldn't figure out what's up in an hour. SQLite complains that a database connection is used from a wrong thread:

> java.lang.IllegalStateException: Illegal connection pointer 2240. Current pointers for thread Thread[Test worker,5,main] [3441, 3321]

@cketti do you think this is useful to pursue?"
k9mail/k-9,closed,Refresh OpenPGP provider setting onResume,[],Fixes #3719.
k9mail/k-9,open,reply button missing whith mixed inbox/sent folger,[],"### Expected behavior
If you like to have a conversation view, it makes sense to put SENT mail into INBOX - so far easy to set up in K9.
It should anyway be possible to REPLY to mails from INBOX.

### Actual behavior
If you open any mail from an INBOX that is also the place for SENT, there will be no REPLY button in mail.
You can reply from INBOX-List via right click though.

### Steps to reproduce
1. set INBOX as place for SENT mail
2. open any mail you got from INBOX
3. in (any) mail view the REPLY button is missing

### Environment
K-9 Mail version: 5.6
Android version: 8.1.0
Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,Only try to expunge a message if the Backend supports it,[],"
"
k9mail/k-9,closed,Fix reading/writing values from/to folder_extra_values,[],"


"
k9mail/k-9,closed,Allow intermediate states where there's no Inbox folder,[],This is a lazy way to allow a Backend to remove all folders then start adding folders again during folder sync.
k9mail/k-9,open,Dates in saved emails out of order,[],"

### Expected behavior
Dates are in a sequential order. Of ALL received emails

### Actual behavior
Received emails are out of order. Emails go from 11/17/2018 back April 17 and then jump up to today and includes all new emails are listed before that date.

### Steps to reproduce
1. Just get new emails
2.
3.

### Environment
K-9 Mail version: 5.6. Most current

Android version:
8.0.0

Account type (IMAP, POP3, WebDAV/Exchange):
POP
"
k9mail/k-9,closed,Remove partially constructed accounts on resume,[],"Resuming account setup activity when the account has been partially constructed (the setup has not been finished) resulted in having unsaved account with ID = -1 in the accounts list. The application would then on resume proceed to messages list but there won't be any folders as the setup has been aborted.

The fix clears the list of accounts on resume and create so that the application properly reacts to the event of no setup accounts.

Fixes #3717.

Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle). ✅
* Does not break any unit tests. ✅
* Contains a reference to the issue that it fixes. ✅
* For cosmetic changes add one or multiple images, if possible. N/A

I tried several alternative approaches but this seemed to be the simplest that solves the issue.

It's best to be tested with an account that doesn't have auto-configuration from `providers.xml`.

Thanks for your time!
"
k9mail/k-9,open,K9 auto sync issues android 8.0,[],"I use automate to disable android sync in the evening and enable it again in the morning. K9 doesn't always pick this up correctly. I thought to solve this issue by enabling ""always sync"" in the network settings but even then the sync stays disabled in the morning.

### Expected behavior
Switch correctly between enabling and disabling sync when the option is changed in Android and respect the ""sync always on"" option in K9.

### Actual behavior
Disabling of the sync seems to work correctly but enabling doesn't always work correctly. Sync stays disabled for several, or all, mail accounts in K9.

### Steps to reproduce
1. Use automate to disable sync automatically
2. Use automate to enable sync automatically

### Environment
K-9 Mail version: 
5.600 (2 September update)

Android version: 
8.0.0 (1 September update)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP accounts"
k9mail/k-9,open,[Feature Request] Dark Widget,[],"Hey. Are you considering a dark widget? Woulld be a lot nicer for the eyes.
Best regards "
k9mail/k-9,closed,Superfluous Spam folder,[],"## Superfluous Spam folder issue

### Expected behavior
Non-existent folders should not exist in K9 if suitable alternatives have been configured (see Actual Behavior section).  

Local (so called Offline) folders should be removable or allowed to be made wholly invisible at least.

### Actual behavior

K9 seems to create a *local* Spam folder (local to the K9 client itself, and *not* on the IMAP server side).  I do not want this, since I already use a folder called ""Junk"", as do all other clients of mine. 

I can confirm the undesirable ""Spam"" folder only ""exists"" within K9, as I am also the IMAP admin and can log directly into the server to verify.  A ""Spam"" folder absolutely does not exist as an IMAP folder within my account.

I have confirmed K9 is, in fact, using the correct ""Junk"" folder (per my settings) ... yet I cannot hide, nor delete, the superfluous ""Spam"" folder from K9.

### Steps to reproduce

1. Open the folder list and find ""Spam"" (it exists)
2. Attempt to hide/delete/etc ""Spam"" folder fails; it is a fruitless exercise, since K9 seems to not allow such actions, hence this ticket
3. For good measure, visit K9 Settings, confirm junk email is, in fact, being sent to desired (and configured) ""Junk"" folder on the IMAP server itself (it is)
4. Confirm this issue is not seen using any other relevant client, including Thunderbird and Roundcube web-mail (confirmed)
5. As mentioned earlier, confirm IMAP folder hierarchy on my server does not possess a ""Spam"" folder at the relevant location (confirmed it does not exist)

### Environment
  * K-9 Mail version: 5.600
  * Android version: 8.1.0
  * Account type: IMAP
"
k9mail/k-9,closed,k9 thinks there is no network - sync disabled no network,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
should sync when wifi connected

### Actual behavior
it sits idle regardless if screen is on or off, reason sync disabled no network

### Steps to reproduce
1. install k9 on android 8.,x oneplus6
2.
3.

### Environment
K-9 Mail version: 5.600

Android version: 8.1.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Very slow until mail is displayed,[],"When opening a mail, it partly takes 10 seconds until the payload (mail content) is displayed. This happens more with HTML mails, but as well with text-only mails

### Steps to reproduce
1. Opem mail account
2. Display mail
3.

### Environment
K-9 Mail version: 5.600

Android version: 7 & 8, Samsung Galaxy S7, Galaxy Tab A

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Add otion to place menu bar,[],"I noticed that the menu bar, containing <>, Trash folder, new-mail icon etc is located on the bottom of the screen for smartphones, while at the top of the screen for tablets. This is quite uncomfortable, as the 'back' button on the tablet is at the bottom  of the screen as well. So you are moving your hand from bottom to top and vice versa constantly.

Expected behaviour: Have menu bar constantly on the bottom of screen, or have this configurable (all options I tried do not give the desired result....)
K-9 Version: 5.600
Android: 7 & 8
Devices: Samsung Galaxy S7 Edge, Tab-A
"
k9mail/k-9,closed,Remove checked exceptions from LocalSearch and ConditionsTreeNode,[],"


"
k9mail/k-9,open,Hide notification settings no longer applicable (Android 8.0+),[],On devices that support notification channels (API level 26+) we have to send users to the Android settings app in order to modify notification settings like sound and vibration.
k9mail/k-9,open,Update notification channels when creating or deleting an account,[],"Right now notification channels are created/deleted/updated when `MessageList` is started. That feels like the wrong place to do it. Instead we should do it when the user adds or removes an account (also when the language is changed, see #3720)."
k9mail/k-9,open,Update notification channels when system locale changes,"[Label(name=""help wanted"")]","If K-9 Mail is configured to use the system language ('General settings > Display > Language' is set to 'System default') we need to update the name and description of notification channels to use the currently selected system language.

The `NotificationChannel` documentation suggests registering a broadcast receiver for [`Intent.ACTION_LOCALE_CHANGED`](https://developer.android.com/reference/android/content/Intent.html#ACTION_LOCALE_CHANGED).
We should disable that broadcast receiver when the user configured K-9 Mail to use a language different from the system settings.

We also need to update notification channel names and descriptions when the user changes the language setting of K-9 Mail."
k9mail/k-9,closed,Cryptography toggles not changed when choosing crypto provider,[],"### Expected behavior
After selecting crypto providers the toggles to choose a key should be enabled....

### Actual behavior
...but they are disabled. Re-entering Settings solves this issue.

### Steps to reproduce
1. Enter Settings -> Account -> Cryptography
2. Select crypto app (OpenKeychain)
3. The toggle near ""OpenPGP app"" will be enabled but the rest of the interface is unchanged (e.g. Configure end-to-end key).

### Environment
K-9 Mail version: bb87dcc931283ca54d891e519a7ffcabafe246bd (master branch)

Android version: 8.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,No quick access to reply/archive buttons,[],"### Expected behavior
The new design looks absolutely fantastic but as far as I can see the price for it is the removal of the bottom bar. Reply/Reply All/Archive buttons should be easily reachable (maybe by bringing back the bottom bar in some way). (For example in ""inbox zero"" workflow each e-mail is either replied to or archived).

### Actual behavior
Replying requires 3 clicks (two if enabled in quick actions). With bottom bar it required 1 click

### Steps to reproduce
1. Open a message.
2. Click 3 dots, then ""send"" then ""reply""

### Environment
K-9 Mail version: bb87dcc931283ca54d891e519a7ffcabafe246bd (master branch)

Android version: 8.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Crash during account setup,[],"### Expected behavior
The account setup should show step 1 on resume

### Actual behavior
Application crashes when resumed from background

### Steps to reproduce
1. Enter account setup (I used fresh app installation)
2. Enter account details, press ""Next""
3. Press Android ""back"" key, that'd close K-9
4. Open K-9 again, the app crashes

### Environment
K-9 Mail version: bb87dcc931283ca54d891e519a7ffcabafe246bd (master branch)

Android version: 8.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP

```
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.fsck.k9.debug/com.fsck.k9.activity.MessageList}: java.lang.RuntimeException: com.fsck.k9.mail.MessagingException: LocalFolder.open(): Folder not found: INBOX (-1)
	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2957)
	at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032)
	at android.app.ActivityThread.-wrap11(Unknown Source:0)
	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696)
	at android.os.Handler.dispatchMessage(Handler.java:105)
	at android.os.Looper.loop(Looper.java:164)
	at android.app.ActivityThread.main(ActivityThread.java:6940)
	at java.lang.reflect.Method.invoke(Native Method)
	at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)
Caused by: java.lang.RuntimeException: com.fsck.k9.mail.MessagingException: LocalFolder.open(): Folder not found: INBOX (-1)
	at com.fsck.k9.fragment.MessageListFragment.getFolderInfoHolder(MessageListFragment.java:646)
	at com.fsck.k9.fragment.MessageListFragment.decodeArguments(MessageListFragment.java:584)
	at com.fsck.k9.fragment.MessageListFragment.onCreate(MessageListFragment.java:437)
	at android.support.v4.app.Fragment.performCreate(Fragment.java:2331)
	at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1386)
	at android.support.v4.app.FragmentTransition.addToFirstInLastOut(FragmentTransition.java:1188)
	at android.support.v4.app.FragmentTransition.calculateFragments(FragmentTransition.java:1071)
	at android.support.v4.app.FragmentTransition.startTransitions(FragmentTransition.java:115)
	at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2380)
	at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2338)
	at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2245)
	at android.support.v4.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3248)
	at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3200)
	at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:195)
	at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:597)
	at android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:177)
	at com.fsck.k9.activity.MessageList.onStart(MessageList.java:535)
	at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1340)
	at android.app.Activity.performStart(Activity.java:7200)
	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2920)
	... 9 more
Caused by: com.fsck.k9.mail.MessagingException: LocalFolder.open(): Folder not found: INBOX (-1)
	at com.fsck.k9.mailstore.LocalFolder$1.doDbWork(LocalFolder.java:181)
	at com.fsck.k9.mailstore.LocalFolder$1.doDbWork(LocalFolder.java:160)
	at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:274)
	at com.fsck.k9.mailstore.LocalFolder.open(LocalFolder.java:160)
	at com.fsck.k9.fragment.MlfUtils.getOpenFolder(MlfUtils.java:27)
	at com.fsck.k9.fragment.MessageListFragment.getFolderInfoHolder(MessageListFragment.java:643)
	... 28 more
```
"
k9mail/k-9,closed,Search crashes the app,[],"### Expected behavior
Search should work.

### Actual behavior
Entering any query in the search box (e.g. ""f"") and pressing search button crashes the application.

### Steps to reproduce
1. Open the app
2. Click search magnifying icon
3. Type ""f"" and press Enter

### Environment
K-9 Mail version: bb87dcc931283ca54d891e519a7ffcabafe246bd (master branch)

Android version: 8.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP

Crash log:
```
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.fsck.k9.debug/com.fsck.k9.activity.Search}: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.fsck.k9.ui.K9Drawer.selectFolder(java.lang.String)' on a null object reference
	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2957)
	at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032)
	at android.app.ActivityThread.-wrap11(Unknown Source:0)
	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696)
	at android.os.Handler.dispatchMessage(Handler.java:105)
	at android.os.Looper.loop(Looper.java:164)
	at android.app.ActivityThread.main(ActivityThread.java:6940)
	at java.lang.reflect.Method.invoke(Native Method)
	at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)
Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.fsck.k9.ui.K9Drawer.selectFolder(java.lang.String)' on a null object reference
	at com.fsck.k9.activity.MessageList.initializeFromLocalSearch(MessageList.java:1702)
	at com.fsck.k9.activity.MessageList.decodeExtras(MessageList.java:498)
	at com.fsck.k9.activity.MessageList.onCreate(MessageList.java:244)
	at android.app.Activity.performCreate(Activity.java:7183)
	at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1220)
	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2910)
	... 9 more
```
"
k9mail/k-9,open,Message shown as attachment if sent by Enigmail/pEp,[],"I'm actually not sure if this is more like a bug report, a feature request for pEp support or the wrong repo, because it might be OpenKeyChains fault. 

### Expected behavior
K9 should directly show the message text of a message sent by Enigmail in ""force pEp"" mode.

### Actual behavior
K9 shows the actual message as an attachment ""msg.txt"", if the message was encrypted by Enigmail in pEp mode(without pEp everything works fine).

Decrypting the message using the thunderbird+Enigmail and then viewing the decrypted message in k9 works as expected though.

### Steps to reproduce
1. Configure an E-Mail client to use pEp
2. Send an encrypted E-Mail
3. Decrypt and view the message in K9

### Environment
K-9 Mail version: 5.600

Android version: 8.10 (Lineage OS 15.1)

OpenKeyChain version: 5.2

Enigmail version: 2.0.8

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

### The Message in question (Unnecessary headers + addresses stripped)
```
Return-Path: <>
Delivered-To: 
To: 
From: 
Date: Thu, 15 Nov 2018 18:48:10 +0100
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.3.1
MIME-Version: 1.0
Subject: pEp
X-Pep-Version: 2.0
Content-Type: multipart/encrypted;
	boundary=""150a7cd267c4ed92eaa7dd02ad00a18"";
	protocol=""application/pgp-encrypted""

--150a7cd267c4ed92eaa7dd02ad00a18
Content-Type: application/pgp-encrypted

Version: 1
--150a7cd267c4ed92eaa7dd02ad00a18
Content-Type: application/octet-stream
Content-Transfer-Encoding: 7bit
Content-Disposition: inline; filename=""msg.asc""

-----BEGIN PGP MESSAGE-----

hQEMAzbLe+pMYVSbAQgAnjMYVX2VgmYrRg8P1RYZcx+k8t1FSIputpffaaR4CrzF
[......]
PvnkhO5B1cmZhWNVNeIyoRBwUiAn4cZWCDM87Fzre5z1d75f5G48QFsfm8Wi90iP
PcSID2M1gdCx1HKSWpaY
=f29a
-----END PGP MESSAGE-----

--150a7cd267c4ed92eaa7dd02ad00a18--

```
## Same message, but decrypted using enigmail
```
Return-Path: <>
Delivered-To: 
To: 
From: 
Date: Thu, 15 Nov 2018 18:48:10 +0100
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.3.1
Mime-Version: 1.0
Subject: pEp
X-Pep-Version: 2.0
Content-Type: multipart/mixed; boundary=""150a7cd267c4ed92eaa7dd02ad00a18""

This is a multi-part message in MIME format.
--150a7cd267c4ed92eaa7dd02ad00a18
Content-Type: multipart/mixed; boundary=""7bb0013084157eec16748313b23cfd""
MIME-Version: 1.0

--7bb0013084157eec16748313b23cfd
Content-Type: text/plain; charset=""utf-8""
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Subject: Test

plain test


--7bb0013084157eec16748313b23cfd
Content-Type: application/pgp-keys
Content-Disposition: attachment; filename=""pEpkey.asc""

-----BEGIN PGP PUBLIC KEY BLOCK-----

mQENBFvtr1MBCACZGrv6ayKguiJoWVp9Oc7vU7IgHg5ae/XJabrxm9pqJHfoZmh9
[...]
JYpUhtESDWvVAUZaQZu29fJvVvxlzNmHsFnb/TK3KwdmUyzt9bdwMcsuWBhFdfCt
uPh8G+lWIh6e
=KCtZ
-----END PGP PUBLIC KEY BLOCK-----

--7bb0013084157eec16748313b23cfd--


--150a7cd267c4ed92eaa7dd02ad00a18--
```"
k9mail/k-9,open,Add option to allow changing the font used to display emails,"[Label(name=""enhancement"")]","### Expected behavior
When I receive a string of letters, for example a password reset, I expect to be able to distinguish the letter L form the letter i.

### Actual behavior
I can not believe how often I still see this issue, it is 2018!
the current font k9 uses on my android phone shows the lower L and the capital i as the same vertical line. It is not possible to distinguish them visually. This is incredibly frustrating, because any computer user has know this issue for over a decade, and it still exists in various softwares


The solution is so simple: give preference to fonts with show a capital i as a capital H rotated 90 degrees.
Please consider selecting a different default font for K9, or somehow modifying the letter I on the current font.
I know the font is usually supplied by the operating system, and changing fonts can have a range of consequences, but I am sure we can work out a solution for this.

### Environment
K-9 Mail version:
5.600

Android version:
7.0 3.18.31

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,Cannot send encrypted emails,[],"I use K9 and Openkeychain installed. K9 and Openkeychain are linked to each other, and I selected the keys which should be available to k9. Both PGP keys have subkeys for signing and encryption. 

When I compose a message, enable encryption and submit, then I get an error ""send failed: null"" 

- Android 8.1.0
- K-9 Mail 5.600
- Openkeychain 5.2 (52009)

- multiple mail accounts
- multiple pgp keys (newly created in Openkeychain) 

Any hints? 

Best, 
Florian "
k9mail/k-9,open,K-9 mail version 5.600: export settings file empty.,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
When exporting settings with version 5.600, the k9s resulting file should contain the settings.
This was the case when using K-9 Mail old version 4.804.

### Actual behavior
When exporting the settings the k9s file is created in the directory proposed by K9 (in my case SDCARD/Documents) without any error messages. But the file is empty (0 bit file).

### Steps to reproduce
1.Settings Import & Export
2.Export settings and accounts
3.Save proposed file without changing the proposed folder, i.e. SDCARD/Documentsd/k9_settings_export_2018-11-14.k9s

### Environment
K-9 Mail version:
5.600
Android version:
6.01

Account type (IMAP, POP3, WebDAV/Exchange):
POP3"
k9mail/k-9,open,Issue in sign in gmail accounts,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1. Need support for gmail accounts
2. Am also set all are properly
3. But no use

### Environment
K-9 Mail version: 5.600

Android version: 9.0

Account type (IMAP, POP3, WebDAV/Exchange): imap and pop3
"
k9mail/k-9,closed,NotificationChannelUtils cleanup,[],"

"
k9mail/k-9,closed,Automatic special folder selection,[],"This adds an option to use special folders configured on the server. If selected, the special folders used by K-9 Mail will be updated when special folders are changed on the server.

<img src=""https://user-images.githubusercontent.com/218061/48452344-f2490e80-e7ae-11e8-8371-07fdb962d79c.png"" alt=""k9mail_account_settings_folders"" width=300> <img src=""https://user-images.githubusercontent.com/218061/48452345-f2490e80-e7ae-11e8-8f29-3e260366941f.png"" alt=""k9mail_special_folder_selection"" width=300>



"
k9mail/k-9,open,Search with umlaut characters not working,[],"### Expected behavior
I am German and, thus, would expect the search to work with umlauts (ä, ö, ü) if those are contained in the header, body, etc. of the message.

### Actual behavior
Search does not yield any results when using umlauts.

### Steps to reproduce
1. Open app
2. Search for mail by word, e.g. ""Özbay""
3. Search yields no results

However if you:

2. Search for mail by word, e.g. ""Oezbay""
3. Search yields all expected results including ""Özbay""

I supposed there might be an easy fix if those characters could be mapped to the corresponding ASCII workaround-characters such as ö->oe, ü->ue, ä->ae, since this seems to be implemented already.

### Environment
K-9 Mail version: 5.600

Android version: 8.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Lock Screen Notifications settings don’t work,[],"### Expected behavior
Settings under Global settings → Notifications → Lock Screen Notifications should affect the content of lock screen notifications. _I.e._, “Message count and senders” should show the number of new emails and their senders, “Application name” should show only the K-9 Mail name and nothing else, and so on. (This presumes, of course, that the Android global setting to hide sensitive content in lock screen notifications is disabled.)

### Actual behavior
All settings under Global settings → Notifications → Lock Screen Notifications are completely ignored and have zero effect. Lock screen notifications are normal, revealing senders, subjects and body content. The only setting within K-9 Mail that affects lock screen notifications is Global settings → Privacy → Hide subject in notifications; when enabled, notifications show only the number of unread emails per account.

This happens both on my new Samsung Galaxy S8+ and my old Asus Zenfone 3 (ZE552KL).
All apps (including Android) are fully updated.

### Steps to reproduce
1. Go to Global settings → Notifications → Lock Screen Notifications and select any setting.
2. Lock phone and receive a new email (such as by sending one to yourself via another device).
3. Observe that chosen setting is completely ignored; senders, subjects and body content are all visible.
4. Optionally, enable Global settings → Privacy → Hide subject in notifications, which hides email content, but is still unaffected by the Lock Screen Notifications settings.

### Environment
K-9 Mail version: 5.600
Phone: Samsung Galaxy S8+
Android version: 8.0.0
Account type: IMAP (Gmail)"
k9mail/k-9,closed,"Use null instead of special folder value ""-NONE-""",[],"This gets rid of the magic value ""-NONE-"" that was previously used to disable special folders. Now you can have e.g. a Spam folder named ""-NONE-""… if you're into that sort of thing."
k9mail/k-9,open,Allow literal ipv6 hostname,[],"Per issue #3676, the inputted hostname for server settings can now be a raw IPv6 address

Not sure if this very minor enhancement is worth the overhead of adding guava, but on the other hand it's quite a useful library in general"
k9mail/k-9,closed,issue with namespace,[],"### Environment
K-9 Mail version: all
Android version: all
Account type (IMAP)

Hi!

My separator was '/'.
My directory is like this:          K9 show it like this:         K9 should be show it like this:

Sent                                        Sent                                Sent
Trash                                      Trah                                Trash
INBOX                                     Indox                              Inbox
INBOX/Abc                              INBOX/Abc                        Abc
INBOX/Abc/Def                        INBOX/Abc/Def                     Def
INBOX/Bab                              INBOX/Bab                        Bab
...

The current view is very confusing. Is there a way to change the display of the namespace?


"
k9mail/k-9,open,prefer-encrypt: mutual header is not sent,[],"### Expected behavior
If I chose the autocrypt mutual mode in the settings, the prefer-encrypt: mutual header should be sent.

### Actual behavior
in sent emails there is no prefer-encrypt: mutual header

### Steps to reproduce
1. choose PGP key in OpenKeyChain/K9 account cryptography settings
2. choose mutual mode in the account cryptography settings
3. send a test mail
4. look at the source code in the recipient's mailbox, see that there is no header

### Environment
K-9 Mail version: 5.600

Android version: Android 7.1.2, Lineage 14.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

CC @d24phant"
k9mail/k-9,closed,sent message,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,[Refactoring] Extract migration logic from 'Storage' class,[],There should be no significant functional changes.
k9mail/k-9,closed,Remove unused Folder.FolderType,[],"

"
k9mail/k-9,closed,Add support for notification channels,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,open,How to create Flagged Folder or unread Folder?,[],"How to create folder that named Flagged or unread folders in slidingMenu？Flagged folders has flagged emails and unread folders has unread emails？thank you！
"
k9mail/k-9,closed,Can't send messages through OpenSMTPd,"[Label(name=""needs info"")]","### Expected behavior
To send an email with OpenSMTPd as mail server with encryption provider configured.

### Actual behavior
Message gets rejected as OpenSMTPd, still not aware of Autocrypt flags the message as invalid because of the header being to long. Unfortunately there is still no support for this feature, but I will enable as it becomes supported.

### Steps to reproduce
1. Have encryption provider configured.
2. Send message to an OpenSMTPd server

### Environment
K-9 Mail version: 5.600

Android version: 8.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Indicator Symbol missing,[],"i use

k-9 Mail 5.600
oreo 8.0.0
on huawei p10 lite
with EMUI 8.0.0

and there is no Indicator Emblem with the number of unread mails on my k-9-icon. In the App-Preferences there is no option, to activate the indicator Emblem. Other Apps, like web.de, Telegram or Threema have Indicators. Is it a bug of k-9 ?

Hopeful, Frank"
k9mail/k-9,open,K9 starts crashing when opening message (since reboot) ,"[Label(name=""needs info"")]","My K9 always worked fine. But since a few days, this app (and another one (from a news agency)) crash when I select to view the message.

### Expected behavior
The app loads the subjects and show the titles in the IN-box. When I want to read the whole message the content of the whole mail must be shown (normal behavior).

### Actual behavior
The subjects are loaded and shown in the IN box, but when I tap to view the whole message, the K9 app crashes.  My homescreen is shown.
This started a few days ago after I had turned my smartphone off and back on.
Strange enough, another app (VRT NWS: an app from a news agency), shows the same behavior since that day K9 starts crashing

### Steps to reproduce
1. Open K9
2. Load all the new messages
3. Choose a message and click on it in the IN-box

### Environment
K-9 Mail version: last version @ 11nov2018

Android version: 9.5 Oreo (on a Samsung SM-G390F)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Update Italian translation,[],"### Expected behavior
The correct translation for ""Push folders"" in Italian is ""Cartelle Push"", as correctly translated on Transifex _since 2 months_.

### Actual behavior
The string in Account settings -> Fetching emails for ""Push folders"" is currently ""Cartelle d'invio"", which means ""Sending folders"" and makes no sense.

### Steps to reproduce
1. Set the app language to Italian
2. Go to Account settings -> Fetching emails

### Environment
K-9 Mail version: 5.600

Android version: 9 (Pie)

Account type (IMAP, POP3, WebDAV/Exchange): Any
"
k9mail/k-9,open,background sync only when android's auto-sync enabled (request),[],"This app should not start syncing when connected to an untrusted public wifi network. Android lets me define, which wifi SSIDs shall trigger the auto-sync mode. This way prevents my passwords being sent via unencrypted WiFi."
k9mail/k-9,open,broken wrapping of quotes ,[],"
### Expected behavior
When I do edit a quote, the indention and line wraps should not be broken.

### Actual behavior
A quoted text like
> > 12345 12345 12345 12345
> > 12345 12345 12345 12345
> 67890 67890 67890 67890
> 67890 67890 67890 67890

may be rewrapped to
> > 12345 12345 12345 
> 12345
> > 12345 12345 12345 
> 12345
> 67890 67890 67890 
> 67890
> 67890 67890 67890 
> 67890

I guess it does appear especially for quotes with at least two quote levels.

Either DO NOT rewrap quotes.
Or make sure to use proper rewrapping (see RFC 3676) 

### Steps to reproduce
1. take a message with multilevel quotes for several lines and reply to it
2. choose to edit the message
3. enter your own answer, then send it

### Environment
K-9 Mail version: 5.600

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,App crashes on opening inbox with wrong password,[],"The app crashes after importing an account with the wrong password. After importing you are promted to input the password for the account. Though it seems that its not checked at all at that point so the app can't get the accounts folders and thus crashes when I try to open the inbox from the account list (or the unified inbox). 

### Expected behavior
Check password and show a wrong password notice either on account import or when opening the inbox.

### Actual behavior
The app just crashes.

### Steps to reproduce
1. Import Account from .k9s file
2. Input wrong password for the account
3. Try open the inbox of that account from account list/or unified inbox

### Environment
K-9 Mail version: 5.700-SNAPSHOT

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Selecting multi emails selects an email down 1 or 2 from the selected email,[],"### Expected behavior
When selecting multiple emails it should highlight the ones i select.

### Actual behavior
When selecting multiple emails it sometimes highlights 1 or 2 emails down from the one i selected.

### Steps to reproduce
I can not get it to act up every time but it seems to just happen when there is more then 7 emails in my unified inbox.

### Environment
K-9 Mail version: 5.600

Android version: Version 9 build PPR2.181005.003

Phone Model; Google Pixel 2XL

Account type (IMAP, POP3, WebDAV/Exchange): 3 IMAP emails
"
k9mail/k-9,open,Can't set a key from Openkeychain to an account,[],"I found some problems with [OpenKeychain](https://github.com/k9mail/k-9/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+openkeychain). One problem I found was #2601, very similar to this issue, but I prefer to open this issue to explain and show exactly what is happening. #3289 is similar too, but it is a solved bug, so it might be caused by a different reason.

I think it is a problem with K-9 because another applications in which I use a key from OpenKeychain, as [Password Store](https://github.com/zeapo/Android-Password-Store), works fine.

### Expected behavior
My intention is to add a key to an email account, but I can't. The expected behavior is to set without problems the key.

### Actual behavior
The system shows a notification telling me that OpenKeychain has crashed. After several times trying it, rebooting, uninstalling and reinstalling the app, I didn't achieve nothing and it keeps crashing.

### Steps to reproduce
Below there is an animated gif in which you can see what I am trying to do to configurate the key.

1. Set the OpenPGP provider in Global configuration > Encryption (excuse me if the items of the menu are not the same, I am translating it from the strings in Spanish, the language I use).
2. Then, try to set the key in Account configuration > Encryption > My key.
3. OpenKeychain crash.

![k9openkeychainissue](https://user-images.githubusercontent.com/8690921/47784818-a3a36b00-dcfe-11e8-9655-33da51726711.gif)

### Environment
- K-9 Mail version: 5.600 (downloaded from F-Droid)
- OpenKeychain version: 5.2 (downloaded from F-Droid)
- Android version: 7.1.1
- Smartphone: Moto X Play
- Account type (IMAP, POP3, WebDAV/Exchange): IMAP
----
Of course, I take the opportunity to thank you for the development of this awesome mail client, the one I like more. I wish we could solve this issue. "
k9mail/k-9,closed,Fetching email 4G Android 8.1.0,[],"My Motorola Moto G5S Plus updated to Android 8.1.0 about a week ago. Since then it is extremely reluctant to refresh my emails whilst connected to 3/4G. It does, very occasionally, update via 3/4G. It works perfectly normally when connected to WiFi. I wonder if there is anything obvious or it is just me? I am using the EE network (through Plusnet).
### Expected behavior
Tell us what should happen
Should refresh email
### Actual behavior
Doesn't - just sits for about two minutes with the refresh symbol circling and then stops.

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Feature Request: Toggle notifications for spam mails,[],"I have seen the other feature requests regarding spam filtering. What I am proposing is, I think, easier though.
Spamassasin is an provider-side spam filter, but it does not move the message into a dedicated spam folder. Instead it adds some special headers:

```
X-Spam-Flag: YES
X-Spam-Score: 7.12
X-Spam-Level: *******
X-Spam-Status: Yes, score=7.12 tagged_above=1 required=5
 tests=[HTML_FONT_LOW_CONTRAST=0.001, HTML_MESSAGE=0.001,
 HTML_OBFUSCATE_10_20=1.162, MIME_HTML_ONLY=1.105,
 RCVD_IN_BL_SPAMCOP_NET=1.246, RCVD_IN_RP_RNBL=1.284,
 RDNS_DYNAMIC=0.363, SPF_PASS=-0.001, T_SPF_HELO_TEMPERROR=0.01,
 URIBL_BLOCKED=0.001, URIBL_JP_SURBL=1.948]
 autolearn=no autolearn_force=no
```

So what I would propose is, that there is an option, which disables all notifications with messages, that have `X-Spam-Flag` set to `YES`."
k9mail/k-9,open,Notifications / Download - LG V40 / Android 8.1.0,[],"The LG V40 has no LED for notifications.  In locked screen there are no K-9 download or notifications.   K-9 does provide notification when not in locked screen. I am using 'always on display'. 


Tell us what should happen
Download should occur and sound notification in Locked Screen when email arrives.  Visual notification afterwards (perhaps blinking to save power).  Perhaps display a dot (.gif) on screen for incoming mail. Other dots in different screen location for other notifications.

Tell us what happens instead
No download or notifications on Locked Screen (sound or visual).  (Note:  LG V40 has NO NOTIFICATION LED)

### Steps to reproduce
1. Enable 'always on display'
2. Insure LG V40 is in Locked Screen mode
2. Send email to K-9 account
3. Observe no download or notification

### Environment
K-9 Mail version: 5.6
Android version:  8.1.0 Security patch Oct 1,2018

Account type - POP3"
k9mail/k-9,open,"Server search does not display message body older than set in ""Sync messages from""",[],"Server search allows to search the messages on imap server. The list of found messages returned. But message's body does not shown when ""Sync messages from"" is defined and the date of the message is out of range. This is pretty confusing. At least some notification should be displayed.
From IMAP conversation view there is issue as well: the app asks for message's body, then rejects it due ""Sync messages from"" setting, then repeat fetch/reject 50 times in loop

### Expected behavior
Message body is shown from Server side imap search with no influence of ""Sync messages from"" setting

### Actual behavior
the message is not shown from imap search due ""Sync messages from"" setting

### Steps to reproduce
1. set ""Sync messages from"" setting to ""today"" only
2. search for any old message
3. search on server
4. select any old message found
5. body is not displayed, no any notification about the ""Sync messages from"" setting, imap server flooded with FETCH requests

### Environment
K-9 Mail version: 5.6

Android version: 8.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Download Complete Message creates new timestamp,[],"### Expected behavior
When executing ""Download complete message"" the message should retain its original timestamp and position in the message list.

### Actual behavior
When executing ""Download complete message"" the message picks up a new timestamp (the current time) and is refiltered to the top of the message list, losing its position in the ""sorted list.  

These attachments show screenshot of the same message before and after downloading complete message.

![20181027_123100](https://user-images.githubusercontent.com/35177223/47607364-9b88ba00-d9e4-11e8-81f7-c53afaf873b1.jpg)

![20181027_123137](https://user-images.githubusercontent.com/35177223/47607366-a2173180-d9e4-11e8-8cbd-512d1b5aa2ca.jpg)



### Steps to reproduce
1. ""Download complete message""
2.
3.

### Environment
K-9 Mail version: 5.600

Android version: Oreo 8.1.0

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,"POP3 Cannot - ""Download Complete Message"" - Connection Error",[],"### Expected behavior
Tapping ""Download Complete Message"" should download the full message including images. 
Email contents and attachments should be available to view same as IMAP
Attachments should be listed but are not. 

### Actual behavior
Images are not seen (expected as set in settings) however they cannot be retrieved either
Attachments are not listed so no notification of attachments exist
Tapping ""Download Complete Message"" shows a soap message ""Connection Error""
despite the emails immediately prior being received Ok. 
It seems only certain basic info comes though for a POP message. 

### Steps to reproduce
1.  Create a POP3 account - in my case a corporate account
2.  Send an email to that POP3 account including images and attachments
3.  Receive the email and notice missing attachments and content and error message
4.  Not using SSL

### Environment
K-9 Mail version:   5.6  Build #  3679

Android version:   7.1.1

Account type (IMAP, POP3, WebDAV/Exchange):    POP3

"
k9mail/k-9,closed,"Fix TextQuoteCreator, convert to Kotlin, and clean up code",[],Fixes #3654
k9mail/k-9,open,XXE in WebDavStore,[],"# The Issue
An XML External Entity attack is a type of attack against an application that parses XML input. This attack occurs when XML input containing a reference to an external entity is processed by a weakly configured XML parser. This attack may lead to the disclosure of confidential data, denial of service, server side request forgery, port scanning from the perspective of the machine where the parser is located, and other system impacts.

# Where the Issue Occurred
The following code snippets display the usage of `saxparserfactory` without securely disabling entities:
https://github.com/k9mail/k-9/blob/18aee1b92c902dc5e98d89045e09919adf483b4a/mail/protocols/webdav/src/main/java/com/fsck/k9/mail/store/webdav/WebDavStore.java#L943

# Remediation
https://www.owasp.org/index.php/XML_External_Entity_(XXE)_Prevention_Cheat_Sheet"
k9mail/k-9,open,Feature Request: Adding multiple comma separated addresses to the TO/CC/BCC-Field,[],"Hello

at the moment I need often to add many addresses (about 40) to the TO-Field. It seems not possible to add them in one line by copy and paste. If I try to put into the TO-Field e.g.:

`<email-1@example.org>,<email-2@example.org>,...<email-n@example.org>`

I get errors that some addresses are not recognized. Seems to be too many addresses at once.
I tried also without the <>, e.g. `email-1@example.org, email-2@example.org, ...` or `""name-1"" <email-1@example.org>, ""name-2"" <email-2@example.org>, ...` without luck.

I would appreciate a feature to add a lot of mail-addresses just by copy and paste to the TO/CC/BCC fields.
I cannot use email-groups, because most of the email-addresses are not in my addressbook.

Is this planned or could it be?
Thanks.

frank

Android 7.0 on Cubot Note Plus and k-9 Mail v5.600 using only IMAP/SMTP
"
k9mail/k-9,closed,Fix Travis CI builds,[],Jcenter seems to be causing quite a bit of trouble lately. Move it all the way to the bottom.
k9mail/k-9,closed,Update docs/How K9mail works.pdf,[],"Update docs/How K9mail works.pdf, which shows a little bit of how K9mail works, and might be useful for those who are new on K9mail .


"
k9mail/k-9,closed,Can't send emails. ,[],"Oreo. 
Invalid recipient. 
SMTP plain text authenticate. 
Others have reported this. 
Fix? 

UPDATE: looks like my Telco's (Telstra) IPs for mobiles are on the spamhaus list which is blocking me sending when using mobile data."
k9mail/k-9,open,Ipv6 address not possible for server,[],"When setting up a new imap account, it is not possible to enter an ipv6 address like ""2002:cc:d456:d300:654:33ff:fe33:65ea"" as server address. The next button is simply not enabled. As soon as a colon is contained in the address, I cannot continue. Surrounding the ip with square brackets does also not work. It seems to me as a bug - or did I miss something?"
k9mail/k-9,open,Feature to check for notifications in specific days only for specific account,[],"Hi,

I really would appreciate to have a feature to check for notifications in specific days only and for specific account, e.g. ""check for notifications in all days but Saturday and Sunday"".

Thanks a lot"
k9mail/k-9,closed,Send digitally signed emails with email certificates,[],"Is it possible to send digitally signed email using email certificates. For example Comodo: https://www.comodo.com/home/email-security/free-email-certificate.php

In Mozilla Thunderbird I can import certificates to digitally sign my emails as well as use that certificates to encrypt my messages. I know about OpenKeyChain support in K9 but I'm only interested in sending digitally signed emails using Comodo certificates just the way I can easily do it on Thunderbird? 

Is it possible?"
k9mail/k-9,open,The search window could be easily immensively better with a few minor changes,[],"The search is always a huge pain point, so here are a few suggestions that would improve it *massively* for my daily usage:

1. Turn on server-assisted search per default. Searching just the local cache is completely useless in 90% of the cases and nobody expects it to just search that
2. Show a really big, clear indicator when search hasn't finished yet. It is currently almost impossible to safely distinguish between zero results, and the search still going on
3. During e-mail polling going, the server-side search will **quietly** fail. Not only is it super annoying that it just won't work, it's not even obvious - again, looks like zero search results! At the very least there should be a really obvious indicator, but what should really happen is that the poll gets interrupted *instantly* and the search gets executed, and then the polling can go back to doing whatever

### Actual behavior
None of the things above, and as a result, the search is always a huge pain and extremely unreliable to use

### Steps to reproduce
1. Use search

### Environment
K-9 Mail version: 5.600 (latest on f-droid I believe)

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,"Incoming Server Settings has no way to show the password, and also no way to edit it without re-entering it fully",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Incoming Server Settings has Show Password button at the very least if I just have entered it and got an authentication error on test, which allows me to show & edit the password

### Actual behavior
Need to re-enter my 30 character password again *all over* hoping I don't make a typo this time, even though I don't even know what exactly I typo'ed last time

### Steps to reproduce
1. Enter password in incoming server dialog and make a typo

### Environment
K-9 Mail version: 5.600 (f-droid)

Android version: some variant of 7

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Misbehaviour when trying to correct typed address after suggestions ,[],"There is some kind of error when the user tries to edit a typed address.

### Steps to reproduce
1. Start a new mail.
2. Start typing the name of a contact in your address book. An address will be suggested.
3. Now enter a wrong char. The suggestion will disappear.
4. Now try to remove the wrong char with the backspace key.
5. Instead of deleting in address field chars in the signature field be be deleted.

100% reproducible on my device Nexus 5x with LineageOS 15.1

### Environment
K-9 Mail version: 5.600

Android version: 8.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Misbehaviour when trying to correct a typed address after suggestion disappears,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Adding Exchange account throws NPE,[],"### Expected behavior
Adding an Exchange account should just work or give meaningful error messages.

### Actual behavior
Adding an Exchange account prints a literal java NPE message on the screen.

### Steps to reproduce
Censored because reasons, I can give the actual text to the devs in private if they need me to. It doesn't matter if or what I fill out in the 3 advanced fields.

![screenshot_20181020-202946](https://user-images.githubusercontent.com/3950300/47259316-16634980-d4a8-11e8-963c-b4156c600e64.png)

![screenshot_20181020-202937](https://user-images.githubusercontent.com/3950300/47259303-da2fe900-d4a7-11e8-88ec-396abeb3b557.png)

### Environment
K-9 Mail version: 5.600
Android version: Lineageos 7.1.2"
k9mail/k-9,open,Dark theme cutting off txt,[],"Tell us what happens instead
Dark theme cuts off bottom of hanging letters in certain styles of txt.
![capture _2018-10-18-16-02-09 1](https://user-images.githubusercontent.com/44275203/47184206-a7db8b80-d2ef-11e8-8ae8-a42f1a5321dc.png)
This has been the same for several years on 3 different phones (Galaxy S6, S7E and currently XCharge) all have been through resets and updates  to both OS and Mail, I was hoping a fix would come out on its own but not yet so I will mention it. Did a search and it looks like it may be only me for some reason. Also it is not all type faces or point sizes just some and seems like bold or some kind of highlight. 

### Environment
K-9 Mail version: 5.6

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Search function for general settings,[],"This is a cleaned up version of #3396.

@ByteHamster: Please look this over and let me know if you're happy with it."
k9mail/k-9,open,Chromebook: white bar remains after closing app,[],"### Expected behavior
On Chromebook, when exiting (fullscreen) K-9 mail, all windows and popups close.

### Actual behavior
A white bar with a (non-functioning) close ""×"" symbol is opened by K-9 and left behind on the top of the screen. This behavior started after last K-9 update. I suspect K-9 is trying to open an alert and mysteriously failing.
![screenshot 2018-10-18 at 22 45 56](https://user-images.githubusercontent.com/12744438/47179789-a8901400-d327-11e8-9d0b-829e8413071b.png)

### Steps to reproduce
1. Start K-9
2. Exit
3. White bar remains at top of screen, the only way to get rid of it is to log out.

### Environment
K-9 Mail version:
5.600

Android version:
Google Chrome OS Version 69.0.3497.120 (Official Build) (32-bit)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Disable email deletion per account settings,[],"I don't want to delete emails by mistake.
Disable email deletion per account settings.
""When i delete an email"" - Do nothing!"
k9mail/k-9,open,Second line in head not visible,[],"On my tiny phone (https://www.unihertz.com/jelly.html) with a screen size of 240x432px, the second line in the header is not shown:

Screenshot polling an account:
 ![screenshot_20181017-223123](https://user-images.githubusercontent.com/4856462/47151258-87a0d200-d2d9-11e8-987b-0963712ae790.png)

Screenshot showing an account:
 ![screenshot_20181017-223419](https://user-images.githubusercontent.com/4856462/47151297-a1421980-d2d9-11e8-947a-10f532283cac.png)


### Expected behavior
I would expect the second line to be shown.

### Actual behavior
The second line is cut of.

### Environment
K-9 Mail version: 5.600

Android version: 8.1.0
"
k9mail/k-9,open,Widget labels do not persist,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Widget to add single mailbox shortcut to Android screen allows selections of mailbox and displays an icon labelled with the name of that inbox.

### Actual behavior
Initially, labels appear correctly, but those labels do not persist leaving all mailbox icons labelled as k9-Mail

### Steps to reproduce
1.  Add mailbox access widget with label
2.  wait, using phone normally
3.

### Environment
K-9 Mail version:  5.600

Android version:  Android 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange):  multiple IMAP accounts
"
k9mail/k-9,closed,WIP: Notification channels,[],"This is not finished yet. Pushing to get feedback and prevent others from doing the same work again.

Closes #3374

To be honest, I currently can't figure out why the tests throw a `NullPointerException`."
k9mail/k-9,open,Google Has Started Blocking SignIns since using K9 Mail,[],"### Expected behavior
Should not be getting messages about blocked sign in attempts from Google

### Actual behavior
Ever since I signed into my secondary gmail accounts (which do not use 2 Step Authentication like my primary does), I give been getting emails from Google saying that multiple sign in attempts have been blocked by ""someone using my password"", and almost soon after I notice that K9 can no longer get into the accounts to see emails, I have to re-log in nearly every time. The emails look like this:
![image](https://user-images.githubusercontent.com/7191115/46900864-14c5d000-ce6f-11e8-8fd3-5c2145449837.png)


### Steps to reproduce
1. Sign into K9 Mail using a Gmail account that doesn't have 2-Step Authentication activated
2. Wait for message from Google in a couple of days
3. Notice that you can no longer access the account since that email

### Environment
K-9 Mail version: 5.600

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): Gmail (IMAP)"
k9mail/k-9,open,Stop reading/writing Contacts Provider's usage data,"[Label(name=""enhancement"")]","See https://developer.android.com/guide/topics/providers/contacts-provider#ObsoleteData

We should probably start keeping track of which recipients have been contacted how often ourselves. Then use that data to order the recipient auto-complete suggestions.

Related: #1006"
k9mail/k-9,open,Crash on export of settings (for K-9 Mail in managed profile),"[Label(name=""bug"")]","# Environment

* **Device**: HTC One M8
* **OS**: LineageOS 14.1 / Android 7.1.2 (rooted)
* **K-9 Mail**: version 5.600

# Problem description

When trying to export my settings, K-9 Mail immediately crashes (FC).

This *might* be exactly the same issue as described in #3614, but there's one twist: I'm using K-9 Mail in a **managed profile** (i.e., ""Android for Work"").

As I'm not sure whether this plays a role and makes the described crash a different problem or not, I decided to open a new issue. Please note that the export for a managed profile should happen within the path `/storage/emulated/10/…` instead of the usual `/storage/emulated/0/…` (export path cannot be defined or checked anywhere in K-9 Mail?)

## Log

A debug log as described (here)[https://github.com/k9mail/k-9/wiki/LoggingErrors] is attached.

[Debuglog K9-Mail.txt](https://github.com/k9mail/k-9/files/2472694/Debuglog.K9-Mail.txt)
"
k9mail/k-9,open,Long URL on mobile phone screens,[],"(This issue can be important for many users since some email servers, such as institutional servers, have set up URL filters to encode all normal URLs into very long URLs with fraud/virus detectors.)

### Expected behavior

When there is a long URL in a mail, the long URL should either break or be truncated such that the user can slide to the right to read the full URL.

### Actual behavior

The whole message was zoomed out to fit long URLs within the screen width. This makes the whole text look tiny.

### Steps to reproduce
Open a message with a long URL.

### Environment
K-9 Mail version: 5.600

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,Stacked notifications on K9>=5.108 & android<7 & NOT Android Wear,"[Label(name=""bug"")]","On the phone (not Android Wear device) with android 4.0.4, I get stacked notifications (one summary with a total number of new emails and a separate notifications for each email). Why?
K9<5.108 - everything is ok - only one summary notification without stacked notifications ."
k9mail/k-9,open,Feature request: Different icons for outgoing and incoming,[],"Currently, in a view that contains both outgoing and incoming mail, the icons are identical for an email *to* a contact and an email *from* that contact. 

I'd like to request that the *to* email, while remaining recognizably similar, has some kind of difference added. For instance, it could be colour-desaturated, or it could be overlaid with, say, an arrow.

![image](https://user-images.githubusercontent.com/2255067/46734435-146cdf80-cc8b-11e8-89d1-26a15f4d0d53.png) Original

![image](https://user-images.githubusercontent.com/2255067/46734484-40886080-cc8b-11e8-9964-5f21f6f776c9.png) Desaturated

![image](https://user-images.githubusercontent.com/2255067/46734739-108d8d00-cc8c-11e8-8f2a-7bb9a7cd21a4.png) Overlaid

![image](https://user-images.githubusercontent.com/2255067/46734935-8db90200-cc8c-11e8-9b78-b6e8c7a68833.png) Contrasting border


"
k9mail/k-9,closed,[Feature Request]  Ability to edit from addresses,[],"I use many email addresses on a given domain and would like to be able to edit the from address on the fly.  

Example:  email comes in to pizzashop@mydomain.com, and is delivered to a single user (not pizzashop), but sorted by the from address.  In replying I'd like to be able to override the account from address and type my own.  

As a reference, similar functionality is available on the Thunderbird desktop mail client.

An outlier case I'm sure, but a nice feature.

Thank you."
k9mail/k-9,closed,Extra newlines inserted to quoted message when replying,[],"K-9 Mail inserts newline characters to the original message when replying to a message. This introduces characters to the quoted message that were not part of it originally and messes up nested quoting once the lines get longer.

(Apparently, it seems no newline characters are inserted to the new message. This may sometimes be desirable, so maybe there should be an option to format the reply. However, quoted text should not be reformatted.)

### Expected behavior
Quoted message is identical to the original (except for the inserted quotation prefix at the start of each line).

### Actual behavior
Additional newline characters are added into the quoted message.

### Steps to reproduce
1. Receive a message containing a long line, e.g.
```
yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy wwww
```
2. Reply to this message quoting the original message, e.g.
```
> yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy
> wwww
```

### Environment
K-9 Mail version: 5.600

Android version: 8.1.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,"App crashes, when searching for a word that starts with a hyphen","[Label(name=""bug"")]","When I open a folder and press ""search"", then enter any searchword that starts with a hyphen (""-anything"" for example) the app crashes immediately after pressing enter.

### Expected behavior
Give me a list of messages containing the given phrase.

### Actual behavior
App crashes

### Steps to reproduce
1. Open inbox
2. press the magnifying glass icon
3. enter ""-something"" and press Enter

### Environment
K-9 Mail version: 5.600

Android version: 8.0.0 / 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Crash on open certain messages,"[Label(name=""bug"")]","Certain spam messages, not detected by German email provider GMX (false negative), causing k-9 to crash.

### Expected behavior
On tapping a message from folder list, the message should appear in detailed view.

### Actual behavior
On tapping a message from folder list, k-9 crashes

### Steps to reproduce
1. Try getting a spam message from GMX.
2. Account type doesn't matter.
3. Try to open the message.

### Environment
K-9 Mail version: 5.600

Android version: 8.1.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP/POP3

### Additional information
When opening the same message with Thunderbird, a blank page appears. The source view contains some crude HTML code. If needed, I can link the body's content.

Hope I hit the relevant error from **logcat**:

[logcat_10-08-2018_09-49-44.txt](https://github.com/k9mail/k-9/files/2455144/logcat_10-08-2018_09-49-44.txt)
"
k9mail/k-9,closed,Documentation,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Add preferences and unified inbox to drawer,[],"The settings item is part of the spec, while the unified inbox item
lets you avoid going through the context menu and several screens.  
An entry for the unified inbox is also in the Gmail/Inbox app, and I believe it would make a nice addition to the UI.

Most existing drawer logic has been moved into `com.fsck.k9.ui.K9Drawer`

A couple of methods in `MessageList` were made public, and a few new ones
added, so that the drawer can instruct the list to open a specific
folder, or the unified inbox.

### Current issues
- highlighting the correct item when the message list first appears
  - could add new member in `LocalSearch` that explicitly indicates unified inbox
  - could assume unified inbox if `LocalSearch.searchAllAccounts() == true`
  - could create subclasses of `LocalSearch`, e.g. `UnifiedInboxSearch`, `FolderLocalSearch`
  - catching+handling all other entry points for loading a folder
- licensing/attribution of new icon
  - couldn't find Google's own drawable vector version of [all_inbox](https://material.io/tools/icons/?icon=all_inbox&style=baseline)
  - used material design icons' [inbox-multiple](https://materialdesignicons.com/icon/inbox-multiple)

I'd appreciate some guidance on the above

### Preview
![drawersettingsinbox](https://user-images.githubusercontent.com/26379999/46585634-b8277700-ca62-11e8-84b3-9f31083bb9b5.jpg)

This change builds upon #817
"
k9mail/k-9,open,Possibility to cancel long running syncs,[],"I have a light weighted (cheap) smartphone and additionally using adoptable.storage, K9 installed on sdcard.
My IMAP accounts are pretty large, so I'm also affected by some long opened K9 issues.
Fine to wait for solutions, but one thing would be great if possible earlier:
It happens several times a day to me, that I'm scrolling to the top of an IMAP account's mail list view, and by doing this I'm triggering unwanted, in my case very long running syncs. Up to 2 minutes, even if no new mails. Currently no chance to cancel, at least I'm not aware of.

Would be cool to have a 'cancel' option, or the option to disable the gesture for a manual triggered sync, already available icon/button does the same job perfectly.    "
k9mail/k-9,open,RFC6855 Support - UTF-8 in email header,"[Label(name=""enhancement"")]","When K9 tries to fetch an email with unencoded UTF-8 characters in the Subject: line, an RFC6855 compliant server (Courier IMAP in my case) does not return the message. It seems likely the ""ENABLE UTF8=ACCEPT"" command is not implemented.

### Expected behavior
Emails with unencoded UTF8 (i.e 8-bit content) in the headers should be fetched from the mail server.

### Actual behavior
The fetch fails.

### Steps to reproduce
1. Send email with 8-bit header content.
2. Try to fetch from IMAP server using K9.

### Environment
K-9 Mail version: 5.600

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Can I use K-9 email client for debugging email on my android galaxy phone?,[],"Hi, somebody told me about k-9 when I asked how I could debug my HTML template email on my Galaxy  
 #android phone.

That's all he said. Can I really view why my email render in a certain way on Android using K9?"
k9mail/k-9,open,Improve experience with autofill services,"[Label(name=""enhancement"")]","I have both K-9 Mail and Keepass2Android installed. After entering the Account Settings...Fetching mail...Incoming Server settings but not changing anything, I pressed the back button. At this point Keepass2Android offered to save my password. If I accept, the password is transferred into Keepass2Android to save.

The interface of K-9 Mail on the settings screen only shows dots in the password field. Also, the password may not be highlighted and copied using the normal Android interface. So, I assume that the intent is to not expose saved passwords.

Security bug: The password is exposed.

I do not think this is a problem with Keepass2Android since the purpose of that software as a password manager is to save passwords from other applications. Though, I would not expect it to be able to fetch previously entered passwords.

### Expected behavior
Nothing. The password should not be exposed unless it is being freshly entered.

### Actual behavior
The previously saved password was found by Keepass2Android.

### Steps to reproduce
1. Ensure that Keepass2Android (or potentially other password managers) are installed and properly configured
2. Enter a K-9 server settings page that has a previously saved password
3. Press the back button

### Environment
K-9 Mail version: 5.600

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Keepass2Android version: 1.05d
"
k9mail/k-9,open,k9 Mail has stopped working correctly,[],"### Expected behavior
K9 Mail should show all new and old emails

### Actual behavior
K9 Mail is only loading the first 4 or 5 current messages and then skipping all the rest and then showing the last few messages on the server.

### Steps to reproduce
1.  Loading inbox shows emails from Oct. 4 to Oct. 2 and then from 2015.  All emails in between are missing.  All emails show correctly on the email web client, eM Client, and Thunderbird for the same server.
2.  Un-installing and re-installing doesn't fix the issue on either device.
3.

### Environment
K-9 Mail version: Current version (just un-installed on both devices)

Android version: 8.1.0 (Nexus 5X) and 5.0.1 (ASUS tablet)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,[Feature request] Find text on email,"[Label(name=""enhancement"")]","Receiving long text message containing for example mail stats or more generally logs, makes compilsory to have a search tool to work with

### Expected behavior
On the option menu of a message, should be present a 'find in message' function.

### Environment
K-9 Mail version: Any

Android version: N/A

Account type (IMAP, POP3, WebDAV/Exchange): N/A
"
k9mail/k-9,closed,Use an adaptive icon,[],"While some launchers are smart enough to automatically generate an adaptive icon for apps, others don't, which results in a jarring style difference.

I followed [the guide](https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive) to set a simple white background, since I couldn't identify any more preferable color in the style.

The result from a couple of styles:
![circle](https://user-images.githubusercontent.com/26379999/46437439-e0556400-c74a-11e8-9980-723945e78f72.png)
![roundsquare](https://user-images.githubusercontent.com/26379999/46437440-e0556400-c74a-11e8-891b-38bba0cbbb0c.png)

I thought the logo in the circular icon got a bit too close the the edge, so in that one I added bit more padding

#3191 mentions adaptive icons"
k9mail/k-9,open,K9 traffic exploded,[],"### Expected behavior
The last months, K9 did use around 200 MB for traffic. 

### Actual behavior
In the last 3 weeks K9 did generate 3600 MB traffic! I did not change any of the settings, neither in K9 nor at my Mail-Server, I did not change my behaviour using K9 and I did get as many mails as usual -what happens here?

### Steps to reproduce
I do not know

### Environment
K-9 Mail version: 5.600

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Old messages keep coming up as unread.,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Once a message is marked as read it should stay that way.

### Actual behavior
Random messages show back up as unread.

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:
Latest update
Android version:
NDQ 26.69-64-9
Account type (IMAP, POP3, WebDAV/Exchange):
POP3"
k9mail/k-9,open,Opening a previously written draft containing HTML links will only retains plaintext (not links),[],"Hi all,

This is almost a duplicate of #3486 (slight different UX) and related to #2485.
So feel free to close it if it you consider it as a duplicate.
Solving one resolve the other I think.

### Expected behavior
I open a draft in K9mail that was previously written by another email client (like Thunderbird) and that contains HTML links. I must be able to edit the draft mail in the existing HTML formating (not converting links to just plain text, losing url) or at least be warned that a convertion will happen and allow me to discard editing without any effect (but allow me to send the mail, with no convertion).

### Actual behavior
I open a draft in K9mail that was previously written by another email client (like Thunderbird) and that contains HTML links. I loose HTML links formatted that are replaced by their text, loosing the URL information, without any warning. I cannot rollback the convertion effect, because when I leave the editor mode, it offers me to discard changes (but save the converted-to-plain-text version, not the original HTML one) or to suppress the draft. Neither option are OK or a good UX.

### Steps to reproduce
1. Write an email in another email client (like Thunderbird) containing HTML links and save it to Draft folder
2. Open it with K9mail
3. See that it has been converted to a plain text version loosing HTML links url without any warning.
4. When leaving the editor mode, see that it can only keep the plain-text version or remove the draft.

### Thanks
It is never said enought, so: THANK YOU all for this app!

### Environment
K-9 Mail version: 5.403

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Use Jsoup to convert HTML to plain text,[],"Html.fromHtml() exhibited some serious performance issues with certain inputs.

Fixes #3624"
k9mail/k-9,closed,incoming mail empty,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Feature Request: Option to change time display to 24h ,[],"It would be awesome if one could choose the format in which the times are shown between 12h (am/pm) and 24h.

### Environment
K-9 Mail version: 5.600  
Android version: 7.0  
Account type (IMAP, POP3, WebDAV/Exchange): all
"
k9mail/k-9,open,RFE: sync on wi-fi only? (network choice),[],"Am I wrong or there's no way to configure sync/fetch on **wi-fi only** (like for f-droid, playstore, etc.)? I'd like to have the choice: wi-fi | LTE | both | none (manual).

### Environment
K-9 Mail version: 5.600
Android version: 7.1.2 (LineageOS 14.1)
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Change ReplyToParser to prefer From over List-Post header,[],"Behavior before: ReplyToParser preferred List-Post header over the From header which made the list to the default reply-to address.

Behavior after: ReplyToParser prefers the From header over the List-Post header since mailing list tools like mailman also set the Reply-To header to the mailing list in case the admin would like to have the mailing list as default return. This follows also the behavior that most desktop mail clients are using (like Thunderbird, Apple Mail and Outlook).

This PR doesn't contain a reference to an issue ID since I didn't create a bug report or feature request."
k9mail/k-9,open,Unified Inbox does not include any email from a particular account,[],"### Expected behavior
When viewing the unified inbox, I should see email from all three accounts.

### Actual behavior
I only see email from two of the three accounts.

### Steps to reproduce
1.  Add three GSuite accounts to K9
2.  Open unified inbox.
3.  All emails from first added account do not appear.

This has been a problem since I got a new phone and installed K9.  It has not cleared up despite reboots and both OS and app updates.  Going into the affected account's inbox's folder settings shows that the ""Unify"" checkbox is indeed checked.



### Environment
K-9 Mail version:  5.6.00

Android version:  8.1.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Is the redesign still on the way?,[],"I know the description says it's on the way, but the last update to the repo was two years ago.

Is the redesign still being worked on?"
k9mail/k-9,closed,Runtime permissions for contacts,[],"As the title says the pull request is basically a rebased commit of #3176 
A thing to note is that the permission request will only show up when the targetsdk is upped >23, which cannot be changed until save attachment is based on SAF or gets a permission request. I think its still good to merge this to get closer to the goal of #2110.

"
k9mail/k-9,open,"""Bcc all messages to""-setting is ignored in IMAP accounts",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Send all mails automatically to BCC recipients who are named in the related account setting (Sending mail > Composition defaults > Bcc all messages to).

### Actual behavior
In case of IMAP, mails are only sent to recipients who are named in the mail itself. The further adress in BCC setting is ignored. It works for POP3, but not for IMAP. It works with IMAP in privous versions also.

### Steps to reproduce
1. Use an IMAP account and set a BCC mail in the account setting of an email adress (Sending mail > Composition defaults > Bcc all messages to)
2. Send an email from this email-adress to another email adress
3. See that the mail was not send to the BCC adress

### Environment
K-9 Mail version: 5.6

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,[Feature request] Add an option to untrash an e-mail,[],"### Expected behavior
After moving the message to trash, there should be an easy way to undo it

### Actual behavior
The only way is to use `move` after entering the trash folder, which often fails because the folder is not synchronized with the remote one. (i.e. no way to untrash when being offline)

### Environment
K-9 Mail version: 5.600
Android version: LOS 14.1
Account type: IMAP
"
k9mail/k-9,closed,attachments with special characters in file name are saved with encoded filename,[],"### Expected behavior
receiving an attachement with a filename containing special characters like ""ñ"" shows the normal, human readable file name and saves under that name

### Actual behavior
I send an attachment called ""moñi.jpg"". It is shown with the encoded file name utf-8""%6D%6F...."". When I save it do the download folder, android gallery doesn't show this image because it doesn't recognize its encoded extension. I must use a file manager to rename the file to its original (or any) name.
I live in Spain and these characters are used often, so often saving an attached file causes additional work.

### Steps to reproduce
1. Send an attachment with a file name that contains a special character like ""ñ""
2. See the file name in the message received with K-9 

### Environment
K-9 Mail version: 5.6000

Android version: 7

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
![screenshot_20180925-124654](https://user-images.githubusercontent.com/43571253/46009994-79d4a400-c0c1-11e8-91f3-4f2287573dd3.png)

"
k9mail/k-9,open,Authentication fail out of the blue!,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

Mail should be received. I have the same email server on a number of phones and computers, mac and pc. Never any Issue and K9 runs almost perfectly always.,


### Actual behavior
Tell us what happens instead
suddenly last night i get - Set up could not finish - Username or Password incorrect. (POP3 login authentication failed: -ERR[Auth] Invalid login)

I rechecked the username and login. they are correct. All devices work except K9


### Steps to reproduce
1. Authentication failed - remains. I cannot resolve this issue
2.
3.

### Environment
K-9 Mail version:
5.6

Android version:
9

Account type (IMAP, POP3, WebDAV/Exchange):
POP3
"
k9mail/k-9,open,[Feature request] Full backup of database (export database / import database),[],"Please implement a full backup option for backuping database. Current K-9 is able to backup (export/import) only account settings. But for POP3 users (and in some cases it is actual for IMAP cases) it is required to have a possibility to make a full backup of the base and restore it.

Just a simple sample: you had bought a new phone and you want to switch K-9 from previous phone to a new one. It is required to move/copy database. But you can't do this.

Another sample: it is a just backup option for case if you had lost the data.

Just provide a function to select for which account you want to backup database (by default - all accounts), and the same with the restore option (which account data you want to restore from backup, by default - all accounts).

This is really required feature for POP3 users, who are using POP3 for example for security purposes, when messages are deleted from server after downloading them.
"
k9mail/k-9,open,missing folders in Yahoo mail,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior

I added my yahoo mail account to K9 and only the main folders are visible.
Like Inbox,Outbox,trash and spam.


### Actual behavior
Any other of my personally created folder are not visible.


### Steps to reproduce
I let K9 auto detect the server settings for my yahoo.

### Environment
K-9 Mail version:
5.600
Android version:
8.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
imap.mail.yahoo.com
SSL/TLS Port 993, normal password

SMTP
smtp.mail.yahoo.com
SSL/TLS Port 465, normal password
"
k9mail/k-9,open,Support Firefox Webview,[],"### Expected behavior
K9Mail renders messages.

### Actual behavior
Message bodies are not rendered or displayed; no error message emitted that explains this problem to the user

### Steps to reproduce
Uninstall / Disable Chrome (Must be preinstalled, and No Android System Webview preinstalled)
Have Firefox for Android installed and configured to allow itself to be called by other applications

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): GMail / IMAP
"
k9mail/k-9,closed,Single Email freezes k9-mail,[],"### Expected behavior

1. Poll selected folder/whole account
2. New messages should load

### Actual behavior

k9-mail freezes while polling
The culprit seems to be the message I've attached below. Removing that message from my mailbox also removes the issue

### Steps to reproduce
1. Get a message like the one below
2. Poll for new messages
3. k9-mail freezes at that folder/message

### Environment
K-9 Mail version: 5.600

Android version: LineageOS 14.1 (Android 7.1.2)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

The culprit message:
[IHK_Akademie_Spezial.mbox.txt](https://github.com/k9mail/k-9/files/2404790/IHK_Akademie_Spezial.mbox.txt)
"
k9mail/k-9,closed,Added icons to main settings screen,[],"Updated the main settings screen with icons

<img width=""300"" src=""https://user-images.githubusercontent.com/5811634/45872235-c9e4fb00-bd8f-11e8-82f7-fcdb7fab0649.png"" /> <img width=""300"" src=""https://user-images.githubusercontent.com/5811634/47680388-f67a0700-dbc6-11e8-914c-63d16a3e772a.png"" />
"
k9mail/k-9,open,substitution character of new line is displayed in subject,[],"### Expected behavior
ISO-2022-JP encoded subject often become long. It will be separated by newline + space.
```
Subject: =?ISO-2022-JP?B?GyRCRnxLXDhsJEhGfEtcOGwkSEZ8S1w4bCROJUElJyVDGyhC?=
 =?ISO-2022-JP?B?GyRCJS8bKEI=?=
```

It will be displayed one line as,
```
日本語と日本語と日本語のチェック
```

### Actual behavior
Newline character is displayed as substitution symbol.

![screenshot_20180921-114512](https://user-images.githubusercontent.com/183523/45857871-c2c0eb80-bd95-11e8-9c15-0d6a803f0f3b.png)

```
日本語と日本語と日本語のチェッ<?>ク
```

### Steps to reproduce
1. use subject what I wrote at Expected behavior.

### Environment
K-9 Mail version:5.6.00
as far as I know, it happened since September.

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,"Switching accounts | Toast Messages | Lack of ""Delivery Status Notification"" option",[],"Would be nice if you could make switching accounts easier with a drop down menu, like [_K-@ Mail_](http://bit.ly/2OBmNAi) has. _ Although K-@ Mail doesn't yet support Encrypted email (they haven't updated their email app in a while. It has the option, but it aborts every time. Also it seems like their using a [Saturn Symbol](http://bit.ly/2Ef1BuN) on their app logo._) 

The Menu on the ""Compose"" page could use some adjustment(s). Would be nice if a check mark was added, in the stead of just the toast messages when tapping on ""Read receipt"" ""Will request read receipt"" or ""Will not request read receipt."" Also there's no option for Delivery Status Notification, like Thunderbird has. 

K-9 Mail also supports multiple accounts, but it's not immediately obvious how to add more accounts. Had to search on [StartPage.com](https://StartPage.com) to find out. Tap the Dog icon twice & a large plus(+) symbol appears at the bottom, tap that. 

### Expected behavior
Would be nice to see a drop down menu at the top of the list of emails to select another account.
Also would be nice to see a check mark beside ""Read receipt"" when it's enabled.
Additionally could you add ""Delivery Status Notification"" to that menu with a check mark when it's enabled ?  (Something like on Thunderbird.)

### Actual behavior
A toast message appears for a second.

### Steps to reproduce
1. Install & setup your email on K-9 Mail
2. Open your email list and tap the new email icon at the bottom. (Envelope with plus[+] on bottom right corner.)
3. Then tap the 3 vertical dots at the top right, & hit ""Read receipt"" notice the toast message, then tap the 3 vertical dots again and hit ""Read receipt"" again and notice the 'not' added to the toast message.  (If you hadn't selected to always request read receipts in the account settings, if you had that message would just be the opposite.

### Environment
K-9 Mail version: 5.600

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Thank you. 
"
k9mail/k-9,open,F-Droid listing - incomplete anchor link on OpenKeyChain,[],"There's no link on ""OpenKeyChain"" on the [F-Droid page](https://f-droid.org/en/packages/com.fsck.k9/) The link should be https://openkeychain.org but the anchor code isn't complete.
  
### Expected behavior
The link on ""OpenKeyChain"" should open https://openkeychain.org in a new tab/window.

### Actual behavior
Nothing happens when clicking on the link text.

### Steps to reproduce
1. Open [https://f-droid.org/en/packages/com.fsck.k9/](https://f-droid.org/en/packages/com.fsck.k9/)
2. Click on ""OpenKeyChain""
3. Nothing happens


The current [Code](view-source:https://f-droid.org/en/packages/com.fsck.k9/) on Line 186 is: `<a>OpenKeychain</a>`

The code should be: `<a href=""https://openkeychain.org"" target=""_blank"">OpenKeyChain</a>`


### Environment
K-9 Mail version: 5.600

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Thank you.


https://github.com/k9mail/k-9/issues/new
"
k9mail/k-9,closed,Feature request: self set up spam filter,[],"Hi.

One request/suggestion from my side:
Could you please add spam filter option? 
What I have in mind is that for each account there would be an individual filter, set up by email topic and/or sender email address, option to choose between hide spam in k9 Inbox and remove from server (and don't show in the Inbox) and remove from server would be applicable even if the general account setting to always leave email on sever is active.

Regards,
DonAndress"
k9mail/k-9,closed,Create new folder,[],"Please excuse me if that has already been posted, but I looked and didn't find anything about it.
I tried extensively to find how to create a new IMAP folder from K9 but I couldn't find a way to do it. It would be really cool to be able to create (and also remove) folders.
Thank you for the amazing app :)"
k9mail/k-9,open,"Since version 5.6, in some emails From appears with 'null' as text",[],"### Expected behavior
Until version 5.6, From field of emails was viewed correctly

### Actual behavior
Now, in some cases, instead appearing the value of From field, it appears as 'null'. If you choose to show all headers, From field exists and is viewed correctly. It seems there is some issue with emails with some encoding error.

It is desired instead 'null', appears the actual From header.

### Steps to reproduce
1. Open an email with a From header with some problematic character, for example:
From: FÁTIMA  <xxx@xx.es>

### Environment
K-9 Mail version: 5.600

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,"Gmail refuses email to multiple gmail recipients, claiming From: field is missing",[],"Hi,
On Monday (5 days ago) answered a group email where most (all but two of the 24 of the 30 ish) recipients where gmail addresses.
I immediately got an ""Undelivered Mail Returned to Sender"" return from my email provider's mailer daemon, with this, for each gmail user:

```
<user@gmail.com>: host gmail-smtp-in.l.google.com[64.233.184.26]
said: 550-5.7.1 [217.70.183.201 11] Our system has detected that this
message is 550-5.7.1 not RFC 5322 compliant: 550-5.7.1 'From' header is
missing. 550-5.7.1 To reduce the amount of spam sent to Gmail, this message
has been 550-5.7.1 blocked. Please visit 550-5.7.1
https://support.google.com/mail/?p=RfcMessageNonCompliant 550 5.7.1 and
review RFC 5322 specifications for more information. o6-v6si12588343wmb.167
- gsmtp (in reply to end of DATA command)
```
I tried to check if the From: field was indeed empty when sending email from K9, but saw this in my sent message's source:
`From: axx | axel simon <redacted@redacted.net>`
I tried to remove the pipe '|' in case that was throwing Gmail's filters but, no difference. I tried again a few days later, in case it was very temporary issue, but still the same error.
I also tried to send an email to only one gmail contact, it went through fine.

On the other hand, I also investigated with my email provider, and they suggested to try sending via they webmail, which worked.
So the situation is a bit weird. It might be a transient issue with gmail, but I thought it was worth reporting.

### Expected behavior
Gmail should accept and deliver the email.

### Actual behavior
Gmail throws back a en error complaining the message doesn't conform to RFC 5322

### Steps to reproduce
1. Reply all to a message with multiple gmail users

### Environment
K-9 Mail version: 5.403 (Fdroid)

Android version: 5.1.1 (I know…)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Reply to all uses From and Reply-To addresses,[],Is it intended that reply to all also adds the From header address to the To header of the new mail if the mail I'm replying to has a Reply-to header? 
k9mail/k-9,open,Crash / fc upon trying to export settings,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
Having installed and configured K-9 V 5.600 I tried to export my settings

### Actual behavior
the app immediately crashes / closes with a pop-up letting me choose between ""close app"", ""restart app"" and ""give feedback""

### Steps to reproduce
1. open app to the ""accounts"" screen
2. hit ""3 bullets"" then ""export/import settings then export settings
3. app crashes right away

### Environment
K-9 Mail version: 5.600

Android version:
7,1,2 root / LineageOS 14.1

Device:
Sony Xperia X1c (amami)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP, 3 accounts"
k9mail/k-9,open,Scrolling lags in message list,[],"
### Expected behavior
Smooth scrolling as in message view

### Actual behavior
Lags when scrolling up or down

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.600

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): doesn't seem to matter
"
k9mail/k-9,closed,Fix notification actions,[],"Stop creating PendingIntents with `FLAG_ONE_SHOT` and `FLAG_NO_CREATE`.

Fixes #3106
(probably)"
k9mail/k-9,open,Save As Draft no longer works properly as of latest update 5.600.,"[Label(name=""bug""), Label(name=""needs info"")]","Save As Draft no longer works properly as of latest update 5.600.

Expected behavior:  You click 'Save as Draft"" and K-9 saves your message in the draft folder.  It saves subject, and message body.

Actual behavior:  If the message body is more than a few words, NONE of the message body is saved; only the subject is saved.  The preview of the saved draft shows the message body, but opening the draft results in all the body being deleted.  Thus rendering Save As Draft useless.

Steps:
1) Create message with subject and body
2) Use Save as Draft from menu or from popup
3) Open draft message and find body of message gone

This is a GO TO feature guys!  When it is broken K-9 is useless as a serious email client.  As a user who handles scores of emails a day, this needs attention yesterday!!

Confirmed on Lollipop (ASUS Zenfone 2), Nougat (Xiomi Redmi Note 4), and Oreo (Oneplus6)"
k9mail/k-9,closed,Save As Draft no longer works properly as of latest update 5.600,[],"Save As Draft no longer works properly as of latest update 5.600.

Expected behavior:  You click 'Save as Draft"" and K-9 saves your message in the draft folder.  It saves subject, and message body.

Actual behavior:  If the message body is more than a few words, NONE of the message body is saved; only the subject is saved.  The preview of the saved draft shows the message body, but opening the draft results in all the body being deleted.  Thus rendering Save As Draft useless.

This is a GO TO feature guys!  When it is broken K-9 is useless as a serious email client.  As a user who handles scores of emails a day, this needs attention yesterday!!

Confirmed on Lollipop (ASUS Zenfone 2), Nougat (Xiomi Redmi Note 4), and Oreo (Oneplus6)"
k9mail/k-9,closed,Expose package static methods in NotificationActionService,[],"This change exposes the package static methods in NotificationActionService so that external app  modules can conveniently access the static methods that create Notification Intents.

"
k9mail/k-9,open,Feature request: Markdown support (UI and text/markdown from RFC 7763/7764),"[Label(name=""enhancement"")]","Related to #1745 (and somewhat to #3171), I wish K9 Mail had an option to send and receive mails that are explicitly labeled as using Markdown (preferably in the Commonmark variant) as specified in [RFC 7763](https://tools.ietf.org/html/rfc7763 ""The text/markdown Media Type"") and its companion [RFC 7764](https://tools.ietf.org/html/rfc7764 ""Guidance on Markdown: Design Philosophies, Stability Strategies, and Select Registrations""). 

Not many mail user agents do implement these yet, unfortunately, and there would need to be some tests whether sending as `text/markdown` *instead of* rather than *in addition to* `text/plain` yields any serious compatibility problems. The expected result is that receiving MUAs just display the Markdown text verbatim. 
Receiving such mails and parsing them for enriched displaying should be implemented regardless.

### Expected behavior

- If K9 had a rich text editor that added formatting to the mail text #1745, there should be an option to use `text/markdown` instead of `text/html` or `text/enriched` ([RFC 1563](https://tools.ietf.org/html/rfc1563)/[1896](https://tools.ietf.org/html/rfc1896)) or `text/richtext` ([RFC 1341](https://tools.ietf.org/html/rfc1341)/[1521](https://tools.ietf.org/html/rfc1521)).
- If K9 detected that the user (supposedly) manually entered Markdown formatting, K9 should offer to send the mail as `text/markdown`.

### Actual behavior

- K9 does not have a rich text editor.
- K9 does not detect the use of formatting characters or codes.
- K9 sends mails as `text/plain` (or `text/html`?)."
k9mail/k-9,open,"Server-side search fails when using search keyword of chinese character, but ok with english character.","[Label(name=""bug"")]","### Expected behavior
It should return emails that contain the keyword in the mail title.

### Actual behavior
It say 'search fails' and return nothing which the one exists on the server.

### Steps to reproduce
1.check enable 'server-side search' in the account settings.
2.search like using chinese character '你好'.
3.hint the button of search on server.
4.it tells 'search fails'.

But it's ok when you use english character like 'hello', it performs as indeed.
I think it's related to character code(ISO...   ), like utf-8,GB18030,utf-16...


### Environment
K-9 Mail version:5.600

Android version:7.1.2

Account type (IMAP, POP3, WebDAV/Exchange):IMAP,gmail
"
k9mail/k-9,closed,K9 uses mobile internet while connected with WLAN,[],"Hello, 

K9 mail normally uses the WLAN if the phone is connected to it. But since a few days (possible about 2 weeks) K9 uses permanently 300kB traffic per hour via mobile internet.
When I manually check my mails the WLAN is used. But the history of my data management for traffic shows permanently the connection with mobile internet. 

### Expected behavior
Tell us what should happen: K9 should only use the mobile internet just when there is no WLAN connection.

### Actual behavior
Tell us what happens instead: K9 uses mobile internet permanently (about 300kB per hour) while connected to a WLAN and while using this WLAN parallel.

### Steps to reproduce
1. just running my mobile phone... ;)

### Environment
K-9 Mail version: 5.600

Android version: 7.0 NRD90M

Account type (IMAP, POP3, WebDAV/Exchange): 5x POP3
"
k9mail/k-9,open,Trash not sync'ing correctly,"[Label(name=""bug""), Label(name=""needs info"")]","The behavior changed after last release.

### Expected behavior
When a message is moved to the Trash, it is moved to the Trash locally and on the server. If a sync is issued on that folder, then the local Trash will reflect the changes of the server, including any recently moved messages.

### Actual behavior
The messages are being moved to the Trash, but when it is synchronized with the server, it is duplicating the messages locally. Then when the delete is issued from the server side and a subsequent sync happens on the Trash folder, the remote duplicates are removed, but the local duplicates remain. The server has no reference to the messages in the Trash, and as far as it knows, it is empty. However, K9 believes there are messages in the Trash folder. Repeated sync's do not remove them. Clearing messages locally will remove the duplicate messages.

### Steps to reproduce
1. Delete message
2. Sync Trash folder
3. Observe duplicate messages
4. Empty Trash via server (aka, another interface)
5. Sync Trash folder
6. Observer locally moves messages still appearing in Trash
7. Clear local messages from Trash folder
8. Messages are gone

### Environment
K-9 Mail version:
5.600

Android version:
8.1.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Can't select Unified Inbox,[],"### Expected behavior
I try to configure K-9 Mail to use unified mailbox.
As far as I understand, this is trivially done by selecting the associated option, in parameters->Interaction.

### Actual behavior
The screen shows a greyed out option that I cannot select.

This behaviour arose after moving my data from an old phone to a new one.
I don't remember how exactly I operated in order to migrate things, but I think I've used the export/import parameter feature embedded in K-9 Mail.

### Environment
K-9 Mail version: 5.600
Android version: 8.0.0
Account type (IMAP, POP3, WebDAV/Exchange): IMAP accounts
"
k9mail/k-9,closed,"k9 - fault, if I try to notice an email-adress, which is not in my contactlist of my smartphone",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
i will send an email.
if i write the email adress, k9 shows me suitable email adresses from my contact-list. if my adress i want to write, isn't in my contact-list of my smartphone i want to finish writing my emailadress without any fault indication of k9.

### Actual behavior
i will send an email.
if i write the email adress, k9 shows me suitable email adresses from my contact-list of my smartphone. if my adress i want to write, isn't in my contact-list and i continue writing i get a fault indication from k9: ""fehler beim einlesen der Adresse"" and the cursors jumps to the signature of my email.


### Environment
K-9 Mail version: 5.600

Android version: 8.1

Account type (IMAP, POP3, WebDAV/Exchange): imap
"
k9mail/k-9,closed,Application's crash after Gmail login,[],"### Expected behavior
After I entered my email and my custom generated password from Google, I should click ""Next"" and continue the account configuration.

### Actual behavior
When I click to ""Next"", the program crashes.

### Steps to reproduce
1. I suggest to use your Google account. Add new account to K9 Mail and enter email and custom password.
2. Click ""Next"".
3. Boom! Crash!

### Environment
K-9 Mail version: 5.403 from F-Droid

Android version: 7.1.2 (LineageOS 14.1)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

I attached the [logs](https://github.com/k9mail/k-9/files/2363204/k9-log.txt). Personal informations were removed.

UPDATE: Now the Gmail account is created and the account's box appeared on the home screen. It works now, but the crash is anyway strange.
"
k9mail/k-9,closed,New release uploaded to the wrong channel on Google Play?,[],"I just wanted to ask if you guys made a mistake uploading the APK for the latest release on Google Play. According to Github release 5.600 should be a stable release, yet it is uploaded only to the beta channel on Google Play.

We were just discussing bumping the version on F-Droid but were not sure if this release is considered stable because of the discrepancy mentioned above, so I just wanted to ask before doing something wrong.

See the F-Droid discussion here: https://gitlab.com/fdroid/fdroiddata/issues/1346"
k9mail/k-9,closed,Fix bug where subject field isn't populated when replying to an unencrypted message,[],
k9mail/k-9,closed,App is deleting all but the last 30 days of emails in Inbox,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
I noticed that one of my GoDaddy email accounts (I currently use 5 email accounts, 4 other GoDaddy and one Gmail, with my K9 Mail), the Inbox was only keeping the last 30 days of emails.  I removed the account from K9 Mail on my Samsung S8+ phone and the behavior of deleting all but the last 30 days of emails in the Inbox went away.  I added the email account once again and the behavior started up again.  I have the settings to keep all emails in the Inbox.

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.403

Android version:Kernel 4.4.78

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Upload sent messages setting,[],"Some providers automatically add messages sent via their outgoing server to the Sent folder. In that case users probably want to disable uploading of sent messages. Our current recommendation is to set the Sent folder to ""-NONE-"", which is not particularly user friendly.

In the future we may want to set an appropriate value for this setting when creating an account. Right now the default is `true`, which means there's no change in behavior.

"
k9mail/k-9,open,Make AccountsLiveData update when the list of accounts changes,[],Notify `AccountsLiveData` when an account has been added or removed.
k9mail/k-9,open,The new email icon disappears from the status bar (the clock bar),[],"### Expected behavior
The new email icon in the status bar should be kept without disappearing

### Actual behavior
I leave my phone in airplane mode all night long and without mobile data, when I wake up I remove the airplane mode and activate data, K9 automatically checks new email, informs me with an icon in the status bar of a new email and after 2 seconds, without doing anything, the new email icon disappears from the status bar.

### Steps to reproduce
1. I have described it in: Actual behavior 

### Environment
K-9 Mail version: v5.503 and v5.600

Android version: 8.1.0 (OxygenOS 5.1.5 OnePlus 5T)

Account type (IMAP, POP3, WebDAV/Exchange): It's with a Gmail account
"
k9mail/k-9,closed,dark theme bug,[],"### Expected behavior
Tell us what should happen
When I connect a keyboard and mouse to my Samsung Galaxy S6, and I'm inside the mail in edit mode, it is not possible to see where the pointer is positioned.

### Actual behavior
Tell us what happens instead
I should be able to see where I have the mouse on edit screen

### Steps to reproduce
1. connect a mouse to your smartphone or table
2.set dark theme
3.try to respond a mail

### Environment
K-9 Mail version:
i m usin a fork: open mail. Open Mail Versión: 5.503

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange):
imap
"
k9mail/k-9,open,[Feature Request] - Disable/enable sync for one a account,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Disable mail sync for one account (e.g. work mail during the weekend), but keep syncing the other one (personal). Is also will be nice if this is done with a widget or easier menu option 

### Actual behavior
Sync is done for all of none

### Steps to reproduce
Settings > Network > Background sync > (Always / Never / When 'Auto-sync' is checked)

### Environment
K-9 Mail version:
5.403

Android version:
7.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
All"
k9mail/k-9,closed,[Cleanup] Remove unused method Message.clone(),[],
k9mail/k-9,closed,[Cleanup] Remove unnecessary type casts,[],Cleaned up version of #3586.
k9mail/k-9,closed,[Cleanup] Fix unresolved references in Javadoc comments,[],Inspired by #3585
k9mail/k-9,closed,[Cleanup] Replace explicit type arguments with <>,[],Cleaned up version of #3585.
k9mail/k-9,closed,"[Cleanup] Improve accessibility, correctness and performance",[],"Cleaned up version of #3582

"
k9mail/k-9,closed,[Cleanup] Simplify if statements,[],Split out part of #3584. I left out some unwanted changes where the simplification made the code harder to read.
k9mail/k-9,closed,[Cleanup] Remove unused imports,[],Split out part of #3584
k9mail/k-9,closed,Code clean4,[],"remove type cast
Replace for performance improvement


replaces #3583 
(this is the last code clean PR by me :)"
k9mail/k-9,closed,Replace Explicit type,[],"and problematic Javadoc lines

replaces #3583


"
k9mail/k-9,closed,Code clean2,[],"Remove unused imports
Simplify if

replaces #3583"
k9mail/k-9,closed,Code clean2,[],"This is a automated code cleanup performed by Android Studio.

I hope those changes don't break anything. They shouldn't and I always run the gradle unit tests.
Please let me know if these changes are okay with the codestyle and your code standards.

please review and name commit to revert, if needed

replaces #3579


"
k9mail/k-9,closed,Code clean,[],"This is a automated code cleanup performed by Android Studio.

I hope those changes don't break anything. They shouldn't and I always run the gradle unit tests.
Please let me know if these changes are okay with the codestyle and your code standards.

please review and name commit to revert, if needed

replaces #3579

"
k9mail/k-9,closed,Extract database schema creation + EncryptionExtractor interface,[],"Move database schema creation and schema migration code into a separate module. This allows users of the `core` module to provide their own (extended) database schema.
Ideally we'd have a well-defined storage interface so users of the `core` module could provide a complete storage implementation instead of using a common implementation with some custom parts. But we need to do more cleanup before we can attempt to do that.

The second part of this pull request extracts the code that detects whether a message is an encrypted message. The interface also returns an encryption type identifier which I think will make it easier to support multiple encryption protocols in the future (e.g. OpenPGP and S/MIME, both implemented in their own module).
The `EncryptionExtractor` interface includes some capabilities that are not currently used by K-9 Mail, e.g. the ability to supply additional data to be inserted into the database."
k9mail/k-9,open,Problem entering NEW sender email address that is similar to one in address book,[],"When opening a new email and entering an email address that is NOT in the address book but is similar to one that already IS in the address book I am UNABLE to send an email.

If I have a addresses already in the address book like these:
  reception@example.com
  reception@otherdomain.com
and I want to send an email to a person that has the address of
  reception@newdomain.com
it will tell you either of two messages:
  - either tell me it is unable to scan the address and simply stop
  - it will simply stop accepting the email address and do nothing

In both cases the email address is greyed, if I want to add more characters to the address or trying to edit the addres it will simply wipe the exiting and START NEW. This was very frustrating especially when you simply want to send an email to the person at the reception desk.

### Expected behavior
Let me type the new address, even if it's one that is similar to an existing address and let me send the email. 

Also I do not want to enter all email addresses into the address book, sometimes I send an email to someone and then never again.

### Actual behavior
It did not let me type the new address WITHOUT entering it to a contact in the address book.
It will tell do two things:
  - either tell me it is unable to scan the address and simply stop
  - it will simply stop accepting the email address

The address is in the ""To"" field, greyed and the last character that I entered is there, too.

When trying to edit that address it simply deletes the address and I have to start all over again.

### Steps to reproduce
1. have one/two/more addresses in the address book that ALL start with the same name, e.g.
    reception@domain.com, reception@otherdomain.com, reception@stillanotherdomain.com
2. click on ""send new email""
3. enter an email address that has the same FIRST part as in ""reception@"" and then try to use another domain
4. You will NOT be able to send this one, it will stop accepting character after the 3 char after the ""@""

### Environment
K-9 Mail version: 5.403

Android version: 8.1.0

Account type (IMAP, POP3, WebDAV/Exchange): It is IMAPS, but this is N/A as it is the parser of the TARGET email address that stuff it up, it stuff it up when entering the TARGET email address.
"
k9mail/k-9,closed,Code clean,[],"This is a automated code cleanup performed by Android Studio.

I hope those changes don't break anything. They shouldn't and I always run the gradle unit tests.
Please let me know if these changes are okay with the codestyle and your code standards.

**please review** and name commit to revert, if needed
>BUILD SUCCESSFUL in 2m 41s
>585 actionable tasks: 54 executed, 531 up-to-date
>11:33:36 PM: Task execution finished 'test'.


* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.

(First PR to this project)

There are more things suggested to change:
![2018-08-30-234047_408x670_scrot](https://user-images.githubusercontent.com/29450609/44880934-30558c80-acae-11e8-9270-6e572c041b8d.png)
"
k9mail/k-9,open,Recipients addresses not formatted correctly when entered via Gboard contact suggestion,[],"Hello, this issue may be linked to #3577  and looks similar to #1495 (which is closed)

### Expected behavior

1. I start typing a contact name as recipient for my message, say ""will""
2. Gboard offers a corresponding suggestion from my address book
3. I select the one I intended: ""william@blabla.com""
4. The address selected should be inserted as usual in the recipients field
5. Then I start typing the name of the next recipient, say ""geo"", and again selects the Gboard suggestion of ""georges@blabla.com""
6. This last address should be added to the recipients field

### Actual behavior
**From Step 4:** the address entered in the recipients field is not visually changed to the form they take usually, until I also select the same address from K9 suggestion of ""William"" from my address book
**Step 5:** If I start typing the next address without selecting the suggestion from K9, then the first address will not have been ""converted"" to whatever it seems it should have been: its visual aspect remains as simple text, and the two addresses are only separated by a space
**Result:** I end up with an address analysis error warning

### Steps to reproduce

1. activate Gboard autocorrect setting ""suggest addressbook contacts""
2. create a new message, start entering a name from your address book
3. do **not** select the contact suggested by k9 in the popup
4. select the suggestion from Gboard
5. start typing the next name from your address book and select the suggestion from Gboard again
6. your recipient field presents an address analysis error warning

### Environment
K-9 Mail version: 5.403

Android version: same behavior on both

Android 7.0 on Archos Phone
Android 5.0 on Asus Tablet
Account type (IMAP, POP3, WebDAV/Exchange): I can see no link with this but I have multiple IMAP accounts
"
k9mail/k-9,open,No reset of entry for recipient when suggested contact from address book is selected causes next recipient entry to begin with first letters of previous one,[],"Have been a faithful user of K9 for a long time, and couldn't thank you guys enough for that great piece of software!
this issue may be linked to #3578 

### Expected behavior

1. I start typing a contact name as recipient for my message, say ""will""
2. The suggestion popup on the recipients field opens with contacts from my address book
3. I select the one I intended: ""William""
4. When I start typing the name of the next recipient,  say ""geo"", I expect the suggestion popup to offer me ""George"" to select

### Actual behavior
Step 4 : When I start typing the name of the next recipient, ""geo"", the first letters I had entered for the previous one (""will"" for William) are still there in the field, so no contact with the letters ""willgeo"" will be found, obviously...

### Steps to reproduce

1. create a new message and start typing a name from your addressbook
2. select the proposed contact from the suggestion popup
3. type an other name for a second recipient, the name will begin with the letters you have entered for the first recipient and continue with what you're typing now.

### Environment
K-9 Mail version: 5.403

Android version: same behavior on both 

- Android 7.0 on Archos Phone
- Android 5.0 on Asus Tablet

Account type (IMAP, POP3, WebDAV/Exchange): I can see no link with this but I have multiple IMAP accounts
"
k9mail/k-9,open,k9mail for Tablets/Chromebooks: Enhance Tablet Mode,"[Label(name=""enhancement"")]","### Introduction
Love k9mail on my phone. Thought it would suck on my shiny new Pixebook because it's engineered for smaller displays, but it doesn't **and** I believe it is the best email app for my Pixelbook.
It does what it says on the box:
- Easy to setup and integrates well with contacts and file storage.
- No 3rd-party data collection.
- It is the only email app I have found that can delete emails with the Pixelbook's ""backspace"" key. The ""refresh"" and ""back"" keys also work (which is handy because some of the settings pages do not have a back button to touch)
- it also works in windowed ""phone""/portrait mode although the window is quite small. Almost like a widget!
![screenshot 2018-08-28 at 23 31 17](https://user-images.githubusercontent.com/17002994/44779197-898cb700-ab1a-11e8-8d94-226052c7351a.png)

To make it even better Tablet/big-screen mode could be enhanced. 

### Expected behavior
Would be great to capitalise on extra screen real-estate/space on tablets and Chromebooks.
1. allow 3 columns? Folders/Accounts, messages and preview (multi-column view for settings would also be handy)
2. include icons for all tasks (notably: reply, reply all, forward)
3. a ""back"" button or ""close"" button (X) for settings.
4. **WISHLIST:** support split-screen (re-sizeable window). A larger portrait view would be handy for split-screen. eg. 3 columns in full-screen landscape mode, 2 columns in split-screen, 1 column in phone/widget mode.

To be honest, that would be enough!!

### Actual behavior
1. lots of wasted space and tedious going back and forth from folders to messages. Less of a problem with the Unified inbox
![image](https://user-images.githubusercontent.com/17002994/44780086-d96c7d80-ab1c-11e8-938a-5727075f585b.png)
2. have to click on the send icon and then select the action every time. Twice as many clicks as needed.
3. Once you have selected one of the menus have to rely on the ""back"" button (<-) or ""esc"" on the keyboard. In tablet mode you need to swipe up from the bottom and use the little ""back"" arrow that appears bottom left.
4. You can currently only use k9 in full-screen or mini-phone views.
### Thanks
Thanks for your time. I appreciate all the effort you put into this app. I hope none of the above comes off as pure criticism, it is my intention for it to be wholly constructive. This is the first time I have been inspired to post a feature request on GitHub and it's because I think you have an excellent App.
I would even be prepared to pay for a tablet version of K9. It would make **that** much of an improvement to my Pixelbook.
### Environment
K-9 Mail Version: 5.403
Android version: Android for Pixelbook"
k9mail/k-9,closed,Add option to turn off vibration during sync,"[Label(name=""needs info"")]","### Expected behavior
No vibration even if sound is enabled

### Actual behavior
Vibrates even during night hours.

### Steps to reproduce
1. open account settings
2. set time to sync mail account to anything than manual
3. every time the sync happens the phone vibrates for each account sync

### Environment
K-9 Mail version: 5.403

Android version: 8.1 Oreo

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"Command: SELECT ""INBOX""; response: #15# [NO, Server Unavailable. 15] while fetching mail from outlook",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
INBOX mails should be fetched from outlook.

### Actual behavior
We get ""Command: SELECT ""INBOX""; response: #15# [NO, Server Unavailable. 15]. We are using oauth2. After getting the access token successfully from outlook, we are unable to fetch the inbox mails. We are getting mail counts and able to send mails sucessfully.
### Steps to reproduce
1. get the access token from outlook.
2. pass the token to tokenProvider class
3. send the command.

### Environment
K-9 Mail version: all

Android version: all

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"""BAD, Command Argument Error. 11"" while fetching INBOX mails from Outlook",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
INBOX mails should be fetched from outlook.

### Actual behavior
We get ""BAD, Command Argument Error. 11"" error. We are using oauth2. After getting the access token successfully from outlook, we are unable to fetch the inbox mails. We are getting mail counts and able to send mails sucessfully.
### Steps to reproduce
1. get the access token from outlook.
2. pass the token to tokenProvider class
3. send the command.

### Environment
K-9 Mail version: latest

Android version: N

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Don't broadcast message details when message was removed,[],Turns out reading the message from the database after it has been deleted doesn't work particularly well 🤦
k9mail/k-9,closed,letsencrypt certificate renewal,"[Label(name=""needs info"")]","I have a mail server with 2 domains signed with letsencrypt certificates.
This works well with K9-mail once I have accepted the certificates on the sending as well as the fetching side.
But every 90 days the certificates get renewed.
Then I need to go into the sending servers settings as well as the fetching servers settings and allow to trust the certificate again.
This involved many clicks in buried sub-menus and as I said needs to be done every 90 days.
Is there a way to add an exception in K9 mail for a certain domain? 
Or could I truncate the clicking process to just a few clicks?
Right now it is a real pain to do this on every android device (Smart Phone, Tablet)

### Expected behavior
allow exception for specific servers and automatically accept new certificates

### Actual behavior
see description above

### Environment
K-9 Mail version: 5.403

Android version:
7.1.1

Account type = IMAP
"
k9mail/k-9,closed,Add proper header parameter parser/decoder,[],"This replaces our rather naive approach involving string splitting and regular expressions with a parser that properly extracts header parameters as specified in RFC 2045. It also has support for parameter continuations and extended parameter values as specified in RFC 2231.
And because some clients use the encoded word encoding specified in RFC 2047 to (wrongly) encode attachment names, we now support decoding that as well :cry: 

Fixes #1466
Fixes #1619
"
k9mail/k-9,closed,Mail attachments with utf8 encoded file name,[],"K9 doesn't know utf8 encoded filenames, yet.

Excerpt from the mail's source code:
```
--Apple-Mail-22EBDB4C-B93B-4874-B37F-069D1623091E
Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document;
	name=""Hausarbeit Gefluchtete in der berufl. Bildung.docx"";
	x-apple-part-url=3DF10A82-F032-43D8-8892-C18103C86942
Content-Disposition: attachment;
	filename*=utf-8''Hausarbeit%20Gefl%C3%BCchtete%20in%20der%20berufl.%20Bildung.docx
Content-Transfer-Encoding: base64
```

![screenshot_20180825-232707](https://user-images.githubusercontent.com/5685512/44622720-9e6d0e80-a8be-11e8-8401-7ddd06a7b5a2.png)

If I save the file, then the file name also is the one shown on the screenshot (with utf8 and so on)

The mail was forwarded from an iPhone with ios 11 (Apple Mail Client) and the file was send from a macbook air (probably also an apple client).

According to someone on stack overflow this is described in rfc5987 (2231 could be relevant as well):
https://stackoverflow.com/questions/93551/how-to-encode-the-filename-parameter-of-content-disposition-header-in-http

https://tools.ietf.org/html/rfc5987

https://tools.ietf.org/html/rfc2231"
k9mail/k-9,open,Can't send mail -  Error: need RCPT command,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
When I try to send a mail, it should actually be send to the receiver

### Actual behavior
When I try to send a mail it keeps staying in the Drafts folder.
And I get the error ""Failed to send some messages. Error: need RCPT command""

### Steps to reproduce
1. Create new mail
2. Send it
3. Check in Drafts / go to receiver mailbox

### Environment
K-9 Mail version: 5.403

Android version: 8.0.0 (OxygenOS Version 5.0.4)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

Phone is OnePlus 3. "
k9mail/k-9,open,Huge battery drain on OnePlus 5,[],"In the last 4-7 days, the app is using a huge percentahe of battery.

### Expected behavior
The percentage of battery usage has to be less than 2-3%

### Actual behavior
The percentage of battery usage goes up to more than 5%

### Environment
K-9 Mail version:
5.403

Android version:
8.1.0

Account type (IMAP, POP3, WebDAV/Exchange):
three IMAP accounts"
k9mail/k-9,closed,Can't connect to SMTP server,[],"I'm trying to set up SMTP configuration, but when I do it, I get the ""Cannot connect to server. (SMTP response is 0 length) error. I'm sure I filled everything as it should be, I'm using cock.li mail.

### Environment
K-9 Mail version: 5.403/5.503

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"""Fix"" remote search",[],"Slightly modified version of the changes from @morckx in PR #3501.

This is only a temporary fix. With it we issue an `EXAMINE` command for each found message before retrieving the message details. 
A proper fix should probably move all the work into the `Backend` implementation. Right now remote search is split into multiple operations going back and forth between `MessagingController` and `Backend`."
k9mail/k-9,closed,Change mail subject in IMAP,[],"### Expected behavior
I want to change the mail subject local but also on the imap server. Outlook windows allows this out of the box, thunderbird uses a plugin, Gmail online uses a plugin too. 
I know this is ressource heavy and that changing a subject shouldn't be done, but it's something I really need. 

### Actual behavior
Changing the mail subject isn’t possible in android apps

### Steps to reproduce
None. It simply isn't possible 

### Environment
K-9 Mail version: all

Android version: all

Account type (IMAP): imap
"
k9mail/k-9,open,SMTP TLS connection establishment slow,"[Label(name=""needs info"")]","### Expected behaviour
There should not be a large pause between establishing a TCP connection and then establishing TLS.
In this case the difference is in the order of 1 second (and probably due to a long round trip between my instance of Thunderbird and the server running Postfix):

```
Aug 21 08:56:48 myhost postfix/smtpd[24438]: connect from unknown[100.10.1.1]
Aug 21 08:56:49 myhost postfix/smtpd[24438]: Anonymous TLS connection established from unknown[100.10.1.1]: TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits)
```

### Actual behaviour
SMTP mail server logs show an approximate pause of 10 seconds (less 1 second for latency overhead) between receiving a connection and establishing TLS connection:

```
Aug 21 09:04:47 myhost postfix/smtpd[20000]: connect from unknown[100.10.1.1]
Aug 21 09:04:59 myhost postfix/smtpd[20000]: Anonymous TLS connection established from unknown[100.10.1.1]: TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits)
```

#### Observations

Having looked at the code quickly and taking a complete stab in the dark I wonder if this relates to:

* `com.fsck.k9.mail.Transport.SOCKET_CONNECT_TIMEOUT = 10000`

since this value is used early in the TLS connection process and happens to be exactly 10 seconds. This is used in `com.fsck.k9.mail.transport.smtp.SmtpTransport`. Though obviously this should just be a timeout and not an actual pause. So, this may be a red herring.

### Steps to reproduce
1. simply send a new e-mail from K-9
2. watch the logs on the mail server

### Environment
K-9 Mail version: 5.403

Android version: 5.0.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP + SMTP
"
k9mail/k-9,open,File extension k9s seems not registered in android,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior

If I select a k9s file on android, I want to open it with k9.
### Actual behavior

I exported on the old android device the k9 settings to a cloud storage (nextcloud in my case)

Then I opened the file on the new android device.

Android gave me choice of some apps to open the file (with file extension k9s).
But k9 was not in the list.
That's very strange. 
I think it would be sensible if I can open a k9s file with k9 directly.



### Environment
K-9 Mail version: latest from google play store

"
k9mail/k-9,open,Deleted emails prevent other emails from showing up (using IMAP),[],"I'm sorry for the convoluted explanation :)

I'm using K9-Mail to read my emails on my own mailserver, with IMAP. I have the app configured to show the last 10 emails (Local folder size = 10 messages, Sync messages from = any time).
When I delete one or more emails from a folder (INBOX, or other folders), the emails disappear from the list, but the number of emails seens does not equal to 10 anymore, no matter how many times I press refresh. Only after I do an ""Expunge"" and then press Sync, I'm getting the list populated with 10 emails.

### Expected behavior
After deleting the emails, the list should populate with other emails, up to the set limit (10 in my case). You should not have to expunge first.

### Actual behavior
There are only 10-X emails shown (where X is the number of deleted emails)

### Steps to reproduce
1. see 10 emails in Inbox (say email1, email2, ... email10)
2. delete 2 emails (say email5 and email6)
3. now you see email1,2,3,4,7,8,9,10 (8 emails)
4. you need to ""Expunge"" the deleted emails if you want to see 10 emails

This is especially annoying when you have say a lot of automated emails coming in. Say you get 20 emails, from which only the latest 10 are shown. You delete these 10, they disappear from the list and now the list is empty, and you have to expunge these 10 deleted ones first, before seeing the next 10.

The deleted emails are not really deleted, they are just marked as deleted on the server (checking with Thunderbird there are clearly there), but they occupy ""slots"" from the list of 10 emails but they are not shown anymore.

### Environment
K-9 Mail version: 5.403
Android version: 8.0.0
Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Thank you for a great app, I'm really loving it!"
k9mail/k-9,open,add ability to compose html messages,[],"### Expected behavior
I want to send a message with a numbered list and a few words in bold. I tap ""new message"" and find a bar with some basic formatting options. In settings, compose mode can be set to text or html. (Just like it already is with read mode)

### Actual behavior
I can only compose text mail, not html mail.

### Comments
I am surprised that nobody already asked for this (or did I not find it?). I found this https://github.com/k9mail/k-9/issues/1397 but it's a different topic.

I am trying to move away from gmail, and for me this is a necessary feature. Anybody else?

### Environment
K-9 Mail version: 5.403

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange): irrelevant
"
k9mail/k-9,open,"Add CTRL+n, CTRL+r and CTRL+w, DEL keyboard shortcuts",[],"### Expected behavior
When user press CTRL+n, CTRL+R or CTRL+w The following actions should happen.
CTRL+n should open new message dialog box
CTRL+r should open reply dialog box
CTRL+w should perform forward message if this action is actually supported in K9.
DEDEL key should delete The message with no need to open it first by pressing ENTER key. So Del key should work when list of messages is active. 

### Actual behavior
K9 do not react on those hod keys

### Steps to reproduce
1. Open K9 and try to press Those hod keys mentioned above. 


### Environment
K-9 Mail version:
5.403
Android version:
6.0
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Add ControllerExtension to allow accessing MessagingController internals,[],This is solely for the benefit of third-party apps based on our code. K-9 Mail itself doesn't use this functionality.
k9mail/k-9,closed,auto complete of recipients broken?,[],"
### Expected behavior
When i try to enter a recipients address k9 mail stops completion one character after the @ sign.
Example: I wanna sent an email to hr@mydomain.xxx
I would expect to be able to type this email address.

### Actual behavior
Auto completion seems to catch ht@m. After that i cannot type any longer.

### Steps to reproduce
1. Enter in the to field hr@mydomain.xxx
2. auto completion jumps in at hr@m
3. no further input possible

### Environment
K-9 Mail version: 5.403 / 5.503

Android version: 8.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,[Request] Ubuntu Touch version,[],"Good day!
Please, make Ubuntu Touch version and publish it on open-store.io

Best regards!"
k9mail/k-9,open,Allow reading messages in select mode,[],"Once I selected a message, K9 enters ""select mode"", wherein tapping a message toggles its selection status, rather than opening the message for reading.

It would be really useful if I could somehow read a message while in select mode, and return to the folder to resume the selection process, i.e. the selections should be remembered.

One UI method of achieving this is adding an ""open/view"" action to the long-press message context menu.

Another, possibly better UI approach could be to have a preview column with e.g. an eye or an arrow pointing right to the right of the messages (to complement the selection box on the left)."
k9mail/k-9,closed,Change AuthenticationFailedException to expose alert text from server,[],
k9mail/k-9,closed,Feature password encryption,[],Added password encryption method to encrypt password before storing into user device. 
k9mail/k-9,open,screenshots missing in f-droid,[],"there are no screenshots of the app on the [f-droid page](https://f-droid.org/packages/com.fsck.k9/).

I think you should add some (more = better) up-to-date ones.
People should see what it looks like and what the features are."
k9mail/k-9,closed,Added password Encryption method to avoid storing password as plain pa…,[],Added password encryption method to avoid storing password as plain password in user device.
k9mail/k-9,open,Losing emails during submission upon disconnectin,[],"With k9 5.403 when I try to send an email, that is in Outbox, if the connection breaks during sending, the email disappears - it is neither in Sent, nor in Outbox and likely it is also not sent."
k9mail/k-9,closed,Added password Encrytion method to avoid storing password as plain pa…,[],"Added Encryption module to encrypt and decrypt password stored in user device. This ensure passwords are not easily decoded from user device.


"
k9mail/k-9,closed,Fix no default account crash on compose,[],"Fix #3538
K-9 already redirects most attempts to compose a message without a default account set to the account setup activity. This fix makes this behavior consistent when the default account isn't set and an attempt to compose a message without an account argument is made from any context."
k9mail/k-9,open,Syncing disabled on Samsung Galaxy s9,[],"My K-9 email app keeps going into a syncing disabled state.  This was not happening on my old S5 phone.  

It seemed as though if I go into App manager, K9 app, Storage and clear cache it starts up again for a little while.  However, the last time I did this it did not.  I also went into the Phone Settings Device Maintenance, Memory and hit clean now.  That also seems to get the syncing disabled removed for a little while.  

### Expected behavior
Email syncing should occur according to the settings - push and poll every 1/2 hour
Not to be required to clear cache every few hours.

### Actual behavior
Polling will occur for a while then all accounts go into a syncing disabled state. 

### Steps to reproduce
1. open K9
2. leave on for a while
3. syncing disabled
This happens frequently though I have not noticed exact time it takes to get into this state. 

### Environment
K-9 Mail version:
5.403


Android version:
8.0.0
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,Repling to an email that only has a BCC causes the BCC to become the reply's To,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When replying to an email that was sent to me because I am a member of the distribution list represented as the BCC (Gmail) email address, the To address of my reply should be the sender of the original email.

### Actual behavior
The To address of my reply is populated with the BCC address, not the original sender's.

### Steps to reproduce
1. Create a Google group
2. Send message to Google group email address, using Gmail.
3. Tap reply in K-9 app and go to the top of the reply and see what has been supplied as the To address.

### Environment
K-9 Mail version: 5.403

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange):
Google IMAP

Here are some relevant email headers.
From: Greg Wxxxx <gwxxxx@companydomain.com>
Date: Tue, 7 Aug 2018 20:56:21 -0400
Message-ID: <CAJ-XXrwJX4EPnZju68e12s3ux1qLLc7OwJoB-kLOFStMy=5XWQ@mail.gmail.com>
Subject: Disabling GMail conversation view in Android and Apple IOS
To: undisclosed-recipients:;
Content-Type: multipart/alternative; boundary=""0000000000003255df0572e1fbb7""
Bcc: 0-list@companydomain.com

When I tap reply, I see 0-list@companydomain.com in the To address instead of Greg Wxxxx <gwxxxx@companydomain.com>.

If the original email had a valid To address, the reply is correctly addressed to the original sender."
k9mail/k-9,closed,Update address validator to conform to RFC 5322.,[],"Fix issues #1175, #2781, except for the IPv6 host example in #1175.

- Alter EmailAddressValidator class to conform to local portion address
  specifications in RFC 5322 3.4.1, 3.2.3, 3.2.4

- Limit local portion of address to 64 characters, as specified in SMTP
  specs, RFC 5321 4.5.3.1.1

- Add further test cases to the EmailAddressValidatorTest to ensure
  compliance with RFC 5322"
k9mail/k-9,closed,'From' header is missing.,[],"### Expected behavior
Email should be sent to GMail and Yahoo account holders.

### Actual behavior
GMail and Yahoo reject emails with the following errors:

GMail:
Reason: There was an error while attempting to deliver your message with [Subject: ""*****""] to *****@gmail.com. MTA ***** received this response from the destination host IP - 209.85.145.27 -  550 , 550-5.7.1 [188.121.53.111] Our system has detected that this message is
550-5.7.1 not RFC 5322 compliant:
550-5.7.1 'From' header is missing.
550-5.7.1 To reduce the amount of spam sent to Gmail, this message has been
550-5.7.1 blocked. Please visit
550-5.7.1  https://support.google.com/mail/?p=RfcMessageNonCompliant
550 5.7.1 and review RFC 5322 specifications for more information. a75-v6si5640959ioa.39 - gsmtp

Yahoo:
Reason: There was an error while attempting to deliver your message with [Subject: ""*****""] to *****@yahoo.co.uk. MTA ***** received this response from the destination host IP - 212.82.101.46 -  554 , 554 Message not allowed - [299]
.

Note that other mail servers accepted and delivered the message.

### Steps to reproduce
1. Install and set-up K-9;
2. Reply-All to an email with about 30 recipients, some with a Yahoo or GMail address;
3. Check Inbox for 'Message Delivery Failure' responses.

### Environment
K-9 Mail version:
5.403

Android version:
4.1.2
(Samsung GT-I8160)

Account type (IMAP, POP3, WebDAV/Exchange):
POP3
"
k9mail/k-9,closed,Fix reading flags in K9BackendFolder,[],"I extracted @morckx's flags column fix from #3501, refactored and added some tests."
k9mail/k-9,closed,F-Droid version outdated,[],"The available version of K-9 on [F-Droid](https://f-droid.org/en/packages/com.fsck.k9/) is 5.403, which is a few releases behind."
k9mail/k-9,closed,allow installation to external media (micro SD) #3539,[],This change will enable installation of the app to external as well as internal flash memory which is important for devices where internal memory is limited but external memory is cheap and abundant in form of micro SD cards (Closes: #3539). Thank you for your consideration.
k9mail/k-9,open,"K-9 Crashes went starting a new email beginning with da, like dave.",[],"Strange behavior: Using person's last name to call up email address works as expected.

Submitted report with logs to Google Play Store.

### Expected behavior
Bring up enail address from contact list.

### Actual behavior
K-9 crashes

### Steps to reproduce
1. Initiate email starting with da or Da.
2.
3.

### Environment
K-9 Mail version:5.403

Android version:5.1.1

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,[enhancement] please enable installation to SD card,[],I'd certainly welcome if you enabled this app to be installed to an SD card instead of the limited internal flash memory.  Please have a look at https://developer.android.com/guide/topics/data/install-location.  I don't see a reason why your app can't be installed on the SD memory. Thank you for your consideration.
k9mail/k-9,closed,java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.fsck.k9.Account.getUuid()' on a null object reference,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

Maybe a duplicate bug of <https://github.com/k9mail/k-9/issues/2756>

```
// java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.fsck.k9.Account.getUuid()' on a null object reference
//  at com.fsck.k9.activity.compose.MessageActions.actionCompose(MessageActions.java:19)
//  at com.fsck.k9.activity.MessageList.onCompose(MessageList.java:1277)
//  at com.fsck.k9.fragment.MessageListFragment.onCompose(MessageListFragment.java:773)
//  at com.fsck.k9.activity.MessageList.onOptionsItemSelected(MessageList.java:812)
//  at android.app.Activity.onMenuItemSelected(Activity.java:2914)
//  at com.android.internal.policy.PhoneWindow.onMenuItemSelected(PhoneWindow.java:1151)
//  at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:761)
//  at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:152)
//  at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:904)
//  at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:894)
//  at android.widget.ActionMenuView.invokeItem(ActionMenuView.java:616)
//  at com.android.internal.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:141)
//  at android.view.View.performClick(View.java:5204)
//  at android.view.View$PerformClick.run(View.java:21153)
//  at android.os.Handler.handleCallback(Handler.java:739)
//  at android.os.Handler.dispatchMessage(Handler.java:95)
//  at android.os.Looper.loop(Looper.java:148)
//  at android.app.ActivityThread.main(ActivityThread.java:5417)
//  at java.lang.reflect.Method.invoke(Native Method)
//  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
//  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
```
### Expected behavior
No crash.

### Actual behavior
Crash

### Steps to reproduce
1. A clean install
2. Click `Import settings`
3. Click `BACK`
4. Click `OK` to close change log
5. Click search and type some random keywords
6. Click compose button in the `Search results`. 

Screenshots are available at <http://gutianxiao.com/sata/com.fsck.k9-10/>.

### Environment
K-9 Mail version:
5.403
Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,No support for custom Username (login name),[],"Hello, sorry for bothering.

### Expected behavior
I have a email with a custom login name (login name is not the email). I would expect to find a `Custom Username` box which would enable an `Username` field or something like that.

### Actual behavior
Afaik there's no such option. K-9 seems to connect to the server using the email as the username.

### Steps to reproduce
1. Try to setup an account

### Environment
K-9 Mail version: 5.403

Android version: 7

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Thank you for your time :smile:. This is really important to me as K-9 seems to be the only Android email client with support for PGP."
k9mail/k-9,open,"[enhancement] ""Load more"" button also available from the search result view",[],"Sometimes I want to find an old e-mail, and I type in a search querry. Unfortuantly, the e-mail is not found and I only get an empty list, or a few items I was not looking for. the issue is that the e-mail is not cahced anymore, and I will have to load more emails, by scrolling down in my inbox and pressing the button ""load more e-mails"". It makes sense.

However I have to exit the search results for this, go to my inbox, and keep scrolling down and loading e-mails. I would rather stay in the search result and press a button there, to keep loading more e-mails untill it appears, or untill I get the idea the querry is not right.

Just adding the button would not be enough, as there would often be no visual change in the search results to indicate more e-mails have sucesfully loaded. Therefore I would also ask to add a line of text ""searched all emails dating 3th of July or later"" and every time I press the button load more e-mails, the text will indicate an earlier start date, confirming those e-mails have also been included in the search."
k9mail/k-9,open,"[enhancement] regular auto-save as concepts, in case of an unexpected event closing the app",[],"I suggest adding an auto-save option, to save concepts as drafts in certain situations, or after a 2 minute interval. If the conept is send, delete the auto-save draft after sending. If the concept is discarded, delete the auto-save draft at the moment of discarding.

If the app crashes, or Andorid closes unexpectedly, the concept can be recovered by going into drafts and opening the last auto-save."
k9mail/k-9,open,[enhancement] do not discard unsend message when the application is reopened,[],"
When I have to quickly do something in another app, I minimize the concept e-mail I currently have opened. I open another app and do something. I want to go back to the e-mail I was writing on, or I forgot about it and just want to check my mail. I do not regualry check if an app is already opened, I just find the shortcut to the app in my menu bar or in the list of apps I have installed and open te app that way.

### Expected behavior
I expect the app to open on the same scree at which I left it, which is the composing new e-mail screen. The content should still be there, and I should be able to save it as a draft, send it as an e-mail, or discard it after confirming I want to discard it.

### Actual behavior
The app does open on the composing screen, but immidiatly (within less than a second) switches over to the account overview screen. The message I was writing is immidialty discarded without confirmation. I am left trying to recall what I had written down, and if I have to rewrite it or should just forget about it. And ofcourse this is very frustrating. I worked on that e-mail, and all that work was for nothing just because I did not check if the app was already open.

It is normal for android apps to be reopned in this manner, and open on the same screen at which they were left open.

### Environment
K-9 Mail version:
5.403

Android version:
7.0
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,"[enhancement] add view source button, to view the html source of a message",[],"Sometimes someone sends me a snppet of code. and sometimes this code is HTML. Unfortunatly quite often the client tries to make sense of it rather than showing the code. That is totally fine, as any security risk would get blocked anyway, however I argue there is a use case for seeing the source of a message. Also because the headers of the message can be quite useful when debugging a mail server."
k9mail/k-9,open,§ in password not valid,[],"### Expected behavior
After changing Password to new one containing §, Login is not possible anymore

### Actual behavior
wrong password

### Steps to reproduce
Change Password of existing account to new one containing Special sign  §

### Environment
K-9 Mail version:

Android version:

Outlook.office.com
"
k9mail/k-9,closed,Message loading error,[],"A notification email sent by another software product cannot be opened by the recipient's K9 app on their Android smartphone.

### Expected behavior
K9 should be able to open the email example. This expectation is qualified by the fact that; a) other email client products open it without problem and that b) Macrium would expect their customers to be able to open notification emails sent from its Reflect product 

### Actual behavior
On trying to open the notification email K9 responds with ""Message loading error"". Thus the email is not opened. K9 does not crash and can return to the account's Inbox.

The email is, without any problems, opened by other email client programs.

### Steps to reproduce
1. The notification email is produced from Macrium's Reflect (v6) archiving software. It was set to send a notification email on completion of creating an archive. The recipient's email address, subject and body texts are required.
2. Attempt to open the email using K9. The text ""Message loading error"" is displayed in a blue notification box.  
3. On opening the email in Thunderbird (52.9.1) the email header showed the recipient's and sender's address as being identical. The subject and body texts were correctly sent.

Additionally Thunderbird (option show headers) also revealed a message ID as <string-of-random-text-characters>@smtp.web.de> and further stated ""received from mout.web.de ([an-IPv4-address]) by mx-ha.web.de (mxweb112 [same-IPv4-address]) with ESMTPS (Nemesis) id different-string-of random-text for <recipient's email address>; Thu, 26 Jul 2018 22:02:19 +0200

### Environment
K-9 Mail version: 5.403

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Configurable notification actions,"[Label(name=""enhancement""), Label(name=""help wanted"")]","To avoid supporting a lot of different very specific notification action configurations I propose we allow users to fully customize which actions are displayed on a notification.

For the user interface I have have the following in mind: a list with three sections. The first one takes 3 items max and is for notification actions displayed on the device. The second section takes 5 items max and is for additional actions that can only be displayed on Android Wear devices (where I believe the maximum number of notification actions is 8). The third section is for actions K-9 Mail also supports but that are not currently used. Items in the list can be moved via drag and drop to change the order in a section or to move an action from one section to another.

On device with Android versions prior to 7.0 we use two kinds of notifications:
1. a notification for a single new message where a preview of the body text is displayed
2. a notification for multiple new messages where name and subject of the 5 most recent messages are displayed
Android 7.0 introduced support for notification groups where multiple single message notifications can be bundled and the group can be expanded/collapsed by the user.

Some notification actions like ""reply"" don't make sense when applied to a group of messages. Often the order of desired actions is also different between the two types of notifications. So on devices with Android versions prior to 7.0 I propose we have two different configuration settings for notification actions. One for group notifications and one for single message notifications.

"
k9mail/k-9,open,Keyboard shotcut Z/Y swapped on Gemini QWERTZ keyboard,[],"In text editing, QWERTZ keyboard works fine, however keyboard shortcuts Y and Z are swaped.

### Expected behavior
If I press ""z"" button (on QW... row) a read flag should be toggled
If I press ""y"" button (on YXC.. row) a ""copy message"" function should be evoked

### Actual behavior
If I press ""z"" button (on QW... row) a ""copy message"" function is evoked
If I press ""y"" button (on YXC.. row) a  read flag is toggled

### Steps to reproduce
1. Switch to QWERTZ keyboard (Czech, German, ...)
2. press the Z and Y keys

### Environment
K-9 Mail version: 5.403 (from F-droid)
Android version: 7.1.1
Account type (IMAP, POP3, WebDAV/Exchange): IMAP, but irrelevant
"
k9mail/k-9,closed,Add Option for Archive Action in Notification,[],"Fixes https://github.com/k9mail/k-9/issues/3403

Adds a new notification option allowing the user to chose to have an 'Archive' button on new message notifications instead of the 'Delete' button.

![screenshot_k-9_mail_notifications](https://user-images.githubusercontent.com/8441903/43236683-1768d606-904c-11e8-821c-e2f9705c5f75.png)

![screenshot_k-9_mail_move_action](https://user-images.githubusercontent.com/8441903/43236697-2294fc3a-904c-11e8-928e-1644b1c299ae.png)

![screenshot_k-9_mail_move_trigger](https://user-images.githubusercontent.com/8441903/43236702-28d8ad62-904c-11e8-9fd6-67f28d95628f.png)

![screenshot_trebuchet_actual_notification](https://user-images.githubusercontent.com/8441903/43236707-2fdab132-904c-11e8-946f-f2ef373b21a0.png)
"
k9mail/k-9,open,"cancel set up a new account, reopen the app will cause app crash",[],"
### Expected behavior
App should open Welcome Activity.

### Actual behavior
App crashed at first time, then reopen it, it will show Welcome Activity.

### Steps to reproduce
1.Set up email account.
2.Cancel progress will checking incoming server.
3.Exit the app.
4.Reopen app, then app crashed.
5.Reopen app, show Welcome Activity

### Environment
K-9 Mail version: master brach

Android version: API LEVEL 27

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,open,Odd choice of icon on notification when checking for mail,[],"When k-9 is checking for new mail (in the background), it puts up a notification. That notification has an icon (glyph?) which looks like a cogwheel/gear. I find that confusing—I expect a gear to symbolize a system update or something like that. An email symbol, like a letter, would be better.

### Steps to Reproduce
Wait until the app syncs in the background. For me, it's particularly noticeable in the always-on notifications.

### Environment
K-9 Mail version: 5.403

Phone: S8
Android version: 8.0.0
Samsung Experience version: 9.0

"
k9mail/k-9,closed,Optimize contact picture loading,[],This changes `ContactPictureLoader` to only query the contact provider from a background thread.
k9mail/k-9,closed,Add 'local_only' column to 'folders' table,[],Right now we have a couple of local-only folders but no good way to distinguish them from synced folders.
k9mail/k-9,open,Close all open connections when abandoning a Backend instance,[],"When `BackendManager.getBackend()` is called after server settings have been changed the old `Backend` instance is abandoned and a new one is created with the current server settings. This keeps all connections associated with that old `Backend` instance open until it is garbage collected.
We should add a `Backend.shutdown()` method to release all resources that can be invoked when the instance is abandoned."
k9mail/k-9,closed,Make sure account display name is never null,[],During account setup the account description is `null`. This lead to an exception when trying to set up a POP3 or WebDAV account because the `accountName` parameter is declared as non-nullable `String`.
k9mail/k-9,closed, Move folder list sync logic into Backend implementations,[],This is useful for protocols that support notifying about added/removed/changed folders.
k9mail/k-9,closed,Only reuse Backend instances when server settings haven't changed,[],Fixes #3515
k9mail/k-9,closed,Allow backend code to store additional per-account and per-folder data,[],This adds a mechanism that allows `Backend` implementations to store additional data necessary for the sync process.
k9mail/k-9,closed,Selecting between signing & encrypting via PGP not possible,[],"According to https://k9mail.github.io/documentation/security/pgpmime_current.html it should be possible to tap the ""encrypt"" icon and select between one of four choices:

- Never Sign or Encrypt 
- Always Sign, Never Encrypt
- Always Sign, Encrypt if Possible
- Always Sign, Always Encrypt

However I never have these choices. I can only turn encryption on or off and when turned on this means ""Always Sign, Always Encrypt"".

### Expected behavior
When creating a new mail to a recipient where a PGP key is a available, it should be possible to choose, if you want to encrypt only or encrypt and sign.

### Actual behavior
It is only possible to encrypt and sign or not to encrypt and sign at all.

### Steps to reproduce
1. Install OpenKeychain
2. Import or generate a private PGP key in OpenKeychain
3. Import the public key of a recpient in OpenKeychain
3. Select OpenKeychain as cryptography app in K9 mail
4. Create a new mail where you have the private key available for the identiy sending the mail
5. Select a recipient where you have the public key available, make sure the
6. Tap the ""encrypt"" icon once to enable encryption and check, that the icon is the one with the ""..."" next to it - even then there is no choice available, you only can turn it on or off

### Environment
K-9 Mail version: 5.403

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Special folder settings do not survive export/import cycle,[],"Due to performance issue, I deemed it a worthy try to backup my settings, delete the account, and import from the backup. This all worked very nicely, except the special folder settings (Sent, Drafts, Trash, Spam, Archive) had reverted to their defaults.

This is using K9 5.403 from F-Droid, running on Android 7."
k9mail/k-9,closed,"K-9 Mail is marked as read in the app, but on Gmail.com, it is not","[Label(name=""needs info"")]","### Expected behavior
My mail that's on Gmail's servers should be marked as read when I look at them on k9 Mail.

### Actual behavior
Emails are marked as read within the app, but not on Gmail so when I open the desktop Gmail, I have over 100+ unread mail

### Steps to reproduce
1. Log into gmail on K9 Mail
2. Mark as read an email by opening it
3. Log into gmail on a browser, see that the mail you marked as read in K9 is not marked the same on the desktop

### Environment
K-9 Mail version: 5.503

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP/Gmail"
k9mail/k-9,closed,Incoming server settings can not change imap server,"[Label(name=""bug"")]","
### Expected behavior
I change imap sever in the Incoming server settings Activity, the imap server should be change, if I enter an wrong imap server, it should not be able to connect.

### Actual behavior
Iamp sever didnt change, it still use old one to connect

### Steps to reproduce
![_20180720161001](https://user-images.githubusercontent.com/23086291/42991192-79551f82-8c37-11e8-98e2-ec1bdc1c428e.png)
![_20180720161023](https://user-images.githubusercontent.com/23086291/42991194-7b01e964-8c37-11e8-94b2-d6c38df58f03.png)
![_20180720161028](https://user-images.githubusercontent.com/23086291/42991198-7bfab97c-8c37-11e8-9f1c-b95168093f93.png)
![_20180720161031](https://user-images.githubusercontent.com/23086291/42991200-7d6512d0-8c37-11e8-8186-1e4fb79652f7.png)


### Environment
K-9 Mail version: github master branch

Android version: API level 27

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,open,Forwarding marks as read but leaves Mark as Read in context menu,[],"### Expected behavior
When I open a message, mark it as unread, and then forward it, it gets marked as read again once the compose forward activity appears, but after sending the forward and returning to the original message, the context menu still has Mark as Read in it, rather than Mark as Unread.

### Actual behavior
Either the message should not get marked as read as a consequence of opening the composition activity, or the context menu should contain Mark as Unread (because the message is by that point read) rather than Mark as Read.

### Steps to reproduce
1. Open a message.
2. Use the context menu to Mark as Unread.
3. Confirm that the context menu contains Mark as Read, as expected.
4. Issue the Forward command.
5. In the composition activity, send the forward e-mail, thus returning to reading the original e-mail.
6. In the context menu, observe that Mark as Read is still present.
7. Back out to the containing mailbox and observe that the message is actually read, not unread.

### Environment
K-9 Mail version: 5.403

Android version: 8.1.0

Account type: IMAP"
k9mail/k-9,closed,"When first time enter the wrong password, it will always return AUTHENTICATIONFAILED",[],"
### Expected behavior
enter the correct password, then  set up success.

### Actual behavior
even entered correct, K9 still alter AUTHENTICATIONFAILED

### Steps to reproduce
1. In the set up account activity, enter email address and wrong password, click next.
2. K9 show alert, AUTHENTICATIONFAILED, click edit details.
3. Back to set up account activity, change password to correct one, click next.
4. K9 still show alert, AUTHENTICATIONFAILED.

### Environment
K-9 Mail version:5.5.01

Android version:API level 27

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,Feature request: Improved folder list,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
A clear list that I can tell a folder is classified in which class, and maybe sortable/filterable. It would be good if I can SET the class without dive into folder config.

Some example:
![image](https://user-images.githubusercontent.com/8936513/42979515-366ba9d4-8c05-11e8-97c6-21f28080cb1f.png)
Use text and background color to indicate the actual class, and use font color to indicate a class is explicit defined(black) or inherited(red).

### Actual behavior
I need to dive into folder config to see which class am I using. It's annoying if I have dozens of label."
k9mail/k-9,open,Attempt to order menu items similar across views,[],"https://github.com/k9mail/k-9/issues/3510

I am not sure what I am doing, please check test and correct what I am attempting to do.

Not all views display the same items. Attempt to organize items in the same order if they occur in multiple views."
k9mail/k-9,open,More consistent default positioning of menu items,[],"I noticed today that in the overview of accounts, the ""new message"" icon is in the middle of the menu bar, wit to it's right a plus symbol to add new accounts.

When going into an account, the new message symbol shifts one position to the right.

To me this has lead to some unconcious confusion many times, when I intent to write a new email but accidentally press the wrong button by muscle memory. Only now I realised this is because the icon is not in the same position in all menu's where it appears.

Suggestion:
**On the account overview menu, swap the ""add account"" button and the ""new message button"", so that buttons which occur on multiple views are consistently positioned accros those views.**

It's a minor detail, but it makes life easier."
k9mail/k-9,closed,Refactor ContactPictureLoader,[],There should be no functional changes.
k9mail/k-9,closed,Cache contact names,[],These are @ByteHamster's changes from PR #3495 limited to caching contact names. For caching contact pictures I want us to go a different route. I'll create a PR for that in a bit.
k9mail/k-9,open,k9 cannot parse utf-8 sequence containing square brackets in e-mail address,"[Label(name=""bug"")]","### Expected behavior
Receiving e-mail from `tätu [example.com] <sender@example.com>` and expecting the sender name and e-mail address being displayed. In addition I expect to be able to respond to that e-mail.
The From header is formed as: `From: =?UTF-8?Q?t=c3=a4tu_[example.com]?= <sender@example.com>`

### Actual behavior
The sender is shown as `null`. Responding to such e-mail is not possible. The e-mail is kept in the local Drafts folder. The user does not know about this until he opens the Drafts folder.


### Steps to reproduce
1. Compose an e-mail having an utf-8 sequence in the From header containing square brackets.
2. Send it to an account having k9 installed
3. Fetch the e-mail with k9

### Environment
K-9 Mail version:
5.403

Android version:
8.1.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Change ServerSettings class to not be limited to the currently supported protocols,[],
k9mail/k-9,open,Emails display order changed and I cannot change back to expected,[],"### Expected behavior
Unread emails stay at the top of the list of emails in the expected reverse date order within each type (unopened, then opened). Once read, each mail then ""drops down"" to the list of read emails and is correctly sorted on the date within the read emails.

### Actual behavior
Following some flickering on-screen that happened too fast to read, the unread emails now appear at the *bottom* of the list, *after* all read emails. Date orders are still correct within each category.

This behaviour is restricted to one email account - other email accounts were unaffected by the change.

### Steps to reproduce
1. A smudged screen caused unknown swipes / keystrokes to the be sent. I cannot reproduce (nor reverse) the effect
2. I have searched the online documentation high and low and can find no reference to this issue

All help much appreciated. If this is a ""setting"", for the life of me I could not find it.

### Environment
K-9 Mail version: 5.403

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,"Make protocol implementations use ServerSettings class instead of ""store URI""",[],Move slowly towards replacing store/transport URIs with something more sane.
k9mail/k-9,closed,Decouple core from Backend implementations,[],This change finally enables the app module (`:app:k9mail` in our case) to specify which `Backend` implementations to use. With that it's now fairly easy to use our core module to write an app that supports a different set of protocols than K-9 Mail does.
k9mail/k-9,closed,No openkeychain?,[],Good evening some form of who works without openkeychain?
k9mail/k-9,closed,Hotfix remote search,[],"No proper fix, but this makes remote search work again with current builds. 

Hot fixes #3254 for current (unreleased) builds and fixes #3111
"
k9mail/k-9,open,"""virtual method on a null object"" error when send pgp email",[],"sorry, i don't have a great way to reproduce this behavior. screenshots will be added as soon as i figure out how. cheers. (deluxe issue id tho!)

# steps
1. openkeychain imported a stripped key with secret subkeys on my yubikey neo (nfc).
2. i selected the key in k9 account settings.
3. i try to compose an email using any available pgp function.
4. cases:
 - disable sign-only in settings. choose encrypt while composing an email. upon send, get error message.
 - enable sign-only in settings.
    - sign-only throws error.
    - encrypt throws error.
5. send. error thrown:
> ""send failed: attempt to invoke virtual method 'org.bouncycastle.openpgp.PGPPublicKey org.bouncycastle.openpgp.PGPSecretKey.getPublicKey()"" on a null object reference""

# details:
 - k-9 version 5.403
 - openkeychain version 5.1.4
 - android version 6.0.1"
k9mail/k-9,closed,Enable drawer only for proper accounts,[],"and e.g. not for the Unified Inbox

Fixes #3493

Not ideal because `isDrawerEnabled()` can change from `false` to `true` if `account` is initialized after `isDrawerEnabled()` was already called, so that an uninitialized drawer can in principle be invited to be accessed, but it fixes the issue for now. 

"
k9mail/k-9,closed,Crash when inputting the second character in any address field of the composer,[],"Although there are a couple of older reports WRT crashing composer window, they all seem to be fixed and none seems to be similar.

### Expected behavior
Enter addresses successfully in composer window.

### Actual behavior
K-9 Mail always crashes, when typing the **second character** in any address field of the composer window (i.e., *To:*, *CC:* and *BCC:*).

### Steps to reproduce
1. Start K-9.
2. Tap on ""new email icon"": The composer window opens.
3. Tap on an address field and start typing an address: When inputting the second character, K9 crashes.

### Environment
* K-9 Mail version: >= 5.200 (or > 5.010), tested with 5.208, 5.400 and 5.403 from F-Droid.
* Android version: AOSP 4.1.2 (API level 16) based Android runtime environment (AlienDalvik) under SailfishOS 2
* Account type (IMAP, POP3, WebDAV/Exchange): IMAP (but seems to be irrelevant)

### Logs
* [com.fsck.k9_composing-crash_alogcat-mainlog.txt](https://github.com/k9mail/k-9/files/2190085/com.fsck.k9_composing-crash_alogcat-mainlog.txt)
* [com.fsck.k9_composing-crash_alogcat-eventlog.txt](https://github.com/k9mail/k-9/files/2190091/com.fsck.k9_composing-crash_alogcat-eventlog.txt)

### Notes
IIRC K-9 Mail 5.008 was working fine with the same environment and configuration."
k9mail/k-9,closed,Add 'send message' functionality to Backend interface,[],
k9mail/k-9,open,Wrong sent folder when switching accounts,[],"### Expected behavior
I have two accounts, `A` and `B`. Email arrives in account `A`. I reply to it. In the `From:` field, I change from `A` to `B`. I expect the email to be saved in the Sent folder of account `B`. Instead, it is saved in the sent folder of account `A`. 

### Actual behavior
The email is saved in the sent folder of account `A`. 

### Steps to reproduce
See above. 

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Caching contact names and picture uris,[],"This caches the contact related information that is displayed in the message list. Currently, the cache is cleared on resume, but this can of course be changed. The effect is noticeable a lot, especially when selecting multiple messages.

Have a look at the attached video. I am selecting the next message as soon as the app becomes responsive again.

![ezgif-1-95e2c13b89](https://user-images.githubusercontent.com/5811634/42473274-7563d150-83c4-11e8-963f-97bf80a15f9e.gif)
"
k9mail/k-9,closed,Idea: Swiping the messages to delete or answer mails even faster,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Swipe to the left: message will be deleted.
Swipe to the right: answer message.

### Actual behavior
Nothing


### Environment
K-9 Mail version: 5.700

Android version: 7.1.1 Nougat (API 25)
"
k9mail/k-9,open,App crashes when entering in the unified inbox,"[Label(name=""bug""), Label(name=""needs info"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Open Unified Inbox

### Actual behavior
App crashes

### Steps to reproduce
1. Just tap on the unified inbox
2. The app crashes

### Environment
K-9 Mail version: 5.700-SNAPSHOT

Android version: 7.1.1 Nougat (LineageOS)

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Improvement: add name of sender in keyboard hints.,"[Label(name=""enhancement""), Label(name=""help wanted"")]","
### Expected behavior

When answering a mail which is coming from (say) Max Mustermann, you very often start it with ""Hi Max"" or Hallo Max"" or "" Dear Mr Mustermann"". It would be very helpful, if after typing the opening word (Hi, dear, hallo,...) the keyboard suggestions would contain the firstname and lastname of the sender.

### Actual behavior

Currently the suggestion list only contains names that you have often used in the past.

### Steps to reproduce

Just answer an email having been sent from a new contact of yours.

### Environment
K-9 Mail version: newest

Android version: newest

Account type (IMAP, POP3, WebDAV/Exchange): any
"
k9mail/k-9,closed,Open Unified Inbox when clicking the message list widget header,[],Fixes #3406
k9mail/k-9,closed,Move erroneously moved XML resources from ui module back to core module,[],"
"
k9mail/k-9,closed,Modularization cleanup,[],Clean up some of the mistakes made during the modularization effort.
k9mail/k-9,closed,Move Android resources out of the core module,[],This moves almost all Android resources from the `core` module to the `ui` module.
k9mail/k-9,closed,Add a Desktop Version,[],"I am wondering if there ever will be a desktop version of K-9 Mail. I really enjoy the program on my phone and have yet to find a program on desktop (Windows 10 specifically) that works with all of my several emails (or even allows the customizability that this program allows). I do understand it will take a while to implement in full, but I am willing to test it out 👍 . "
k9mail/k-9,open,Improvement: HTML formatting not kept when forwarding an email,[],"When forwarding an email containing links, for example: [some words](http://www.google.com), the html formatting is not kept and message is transformed in plain text, loosing the URL.

### Expected behavior
I would like to keep the html formatting with links (or at least keep the URL?)

### Actual behavior
Original message is transformed in plain text leading to: ""some words"" but no URL.

### Steps to reproduce
1. Send an html formatted email using Thunderbird, for example. Email containing a link like [some words](http://www.google.com)
2. Using K9mail on a smartphone, go to the ""Sent"" folder
3. Select the sent mail and forward it. Here, the mail editor is in plain text, URL lost.

### Environment
K-9 Mail version: mine is 5.403 but I think issue is present in all versions
Android version: 7.0 on Archos Sense 55S
Account type (IMAP, POP3, WebDAV/Exchange): IMAP account

Thanks"
k9mail/k-9,closed,Decouple notification code from Android resources,[],"The goal is to remove all resources from the core module and to allow the app module to provide the necessary drawables and strings.

"
k9mail/k-9,closed,Move UI code to ui module,[],"This mainly moves the code. For now most of the resources still live in the core module.
"
k9mail/k-9,closed,Adding a button instead a text on the widget to get quickly to the inbox,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,Adds button on widget to reach the inbox quickly,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,Break dependencies,[],Break dependencies in preparation of moving the UI code out of the core module.
k9mail/k-9,closed,Update providers.xml,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,dark theme background has slight gradient...,[],"hi guys

i did ask another person to check to make sure i'm not going crazy but the dark theme background appears to have a gradient that makes it lighter toward the bottom of the screen ... i have looked on several devices and they all show it to some degree or other

is there any way to get a really black background theme for amoled users?

thanks much again
:)"
k9mail/k-9,closed,Decouple notification code from Activities,[],
k9mail/k-9,closed,Move interface for third-party apps to k9mail module,[],"

"
k9mail/k-9,closed,Gmail not working anymore,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
I should be able to send and receive emails (which i was until a few days ago)

### Actual behavior
Tell us what happens instead
No emails come in and when i try sending something i get a message that it cannot be sent. I try reentering my password and then i get a popup that k9 cannot connect to the server

### Steps to reproduce
[screenshot_2018-06-30-10-41-33](https://user-images.githubusercontent.com/40708759/42121192-891b0cf8-7c54-11e8-879d-fbc91cb8292e.png)

### Environment
K-9 Mail version: 5.403

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange): gmail, imap, smtp
"
k9mail/k-9,closed,Move home screen widgets to k9mail module,[],
k9mail/k-9,closed,Manual email recipient entry jumps after typing 3 characters,[],"### Expected behavior
While creating a new email message to send, I should be able to manually type the full email address of any recipient who is NOT already in my contacts. (No one has the entire world's email addresses in their phone's address book.)

The expected behavior is to enable the user to manually type the entire email address without interruption or jumping the cursor to another field in the middle of typing the address. The app should automatically dismiss the contact suggestion pop-up if the user continues to type without selecting it.

The app prevents this under the entry sequence detailed below.

### Actual behavior
After typing only 2 characters into the To: or Cc: or Bcc: fields, the auto-suggest pop-up appears (for matches found in my contacts list). Since this address is NOT in that list, I continue typing the desired email address manually like a normal user would likely do in an email client.

However, upon typing the 4th character in the new email address, that 4th character is ignored and the input cursor immediately jumps down into the message field somewhere in the middle of my predefined signature block text.  The precise location of the cursor after it jumps is seemingly random in the signature block below. (I haven't been able to find a pattern on the exact jump location, just that it's always several lines down.)

This causes the user to have the email address split with the first 3 characters displayed in the To: or Cc: or Bcc: field, the 4th character completely skipped, and the remainder of the manually-typed address wedged somewhere in the middle of the signature block text.

Also the To: or Cc: or Bcc:  field displays the red exclamation symbol with this error message displayed: ""Error parsing address!"".  Which is a mess! This creates many errors in the entry process and wastes time!

### Steps to reproduce
1. Select an account to view emails
2. Tap the Compose icon at bottom of screen.
3. Begin manually typing an email address that is NOT stored in your contacts/address book, but which shares the two-letter pattern of one or more existing contacts. For example: The manual email adress begins with 'bobbi' but that contact does not exist. Typing 'bo' (w/o quotes) will generate a pop-up with all matches of those two characters in your existing contacts (like Bob Smith or Mary Peterbo for example - fictitious names for illustration purposes).
4. Do NOT select or dismiss that pop-up list, but continue to type the email address as a user would expect it to continue accepting characters.
5. The third letter will appear in that same To: or Cc: or Bcc: field.
6. As soon as you type the 4th character, it immediately jumps the cursor down into the body/message field, where subsequent typing of the address is inserted somewhere several lines down in a multi-line signature block.

After much experimentation, the only workaround I discovered is below which is disruptive to the expected entry flow:

1. After typing the first 2 characters of the email address, the suggestive pop-up list appears if there is a pattern match. (This happens very frequently for me, nearly every time.)

2. You MUST then EITHER:
A.  Manually tap in the white space in that same To: or Cc: or Bcc: field (to the right of the 2 characters you just typed), OR
B. Press the Android back button at the bottom.

3. Either of these two actions has the effect of dismissing the suggestion pop-up list, and then you can continue typing the remainder of the desired email recipient's address.

Again, very frustrating, it took a while to figure out why it was happening most times, but not always.

### Environment
K-9 Mail version: 5.403 (just newly installed this week from the Play store).

Android version: 8.1.0 on newly activated Google Pixel 2 XL (current with June 5th, 2018 security update).

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Email content became unreadable,"[Label(name=""needs info"")]","Hi Friends!
I've just installed K-9  version ""5.403"" on my Android Phone ""One Plus 5"" and from certain sender with some emails, obtain a very very long text vertical lined up that make unreadable the entire email content.

For more clarify I attach a screenshot.

Many thanks!


![photo_2018-06-27_16-15-49](https://user-images.githubusercontent.com/4129294/41981473-89663c02-7a18-11e8-825d-0dbb67123ecc.jpg)
"
k9mail/k-9,open,The app becomes unusable with large inboxes.,[],"I am not sure if this is expected to work, but I expected it to work. I am not the only one: https://groups.google.com/forum/#!topic/k-9-mail/9F55x6i6Ssg
Mail in Opera 12 that is over five years old on a five year old laptop (top range, Thinkpad W530) works extremely fast on the same inbox. 
### Expected behavior
K-9 should cope with 10GB of data or 100 000 messages stored locally.
 
### Actual behavior
When  the Local folder size in Settings>Accounts>Fetching mail is set to unlimited with a large (around 70 000 mails) inbox, K9 downloads them all after crashing a few times but becomes extremely sluggish with Android frequently offering to kill it - and sometimes it crashes. It is slow to scroll messages and to display them (using split view, but I do not think that matters).

### Steps to reproduce
1. Set the local folder size in Settings>Accounts>Fetching to unlimited with a large inbox (in my cse, 70 000 messages)
2. Wait a minute or two.
3.

### Environment
K-9 Mail version:
5.403
Android version:
7.1.1.
My phone is GeminiPDA - (this specs: https://www.planetcom.co.uk/?page_id=8 ) - it should not be too weak for this. 
Account type (IMAP, POP3, WebDAV/Exchange):
Gmail over IMAP.

"
k9mail/k-9,open,Feature request: delay notification,"[Label(name=""enhancement"")]","I use Delta Chat ( https://delta.chat/ ), which is an e-mail based messenger. 
Because K-9 and Delta Chat both use push I'm notified by both application. 
Short after this Delta Chat moves the messages away from the inbox folder to an own folder and K-9 deletes the notification.
So an option to ""delay K-9 notifications for X seconds"" would be great. 
Thanks."
k9mail/k-9,closed,Less secure app,[],"You still fail to fix the ""less secure app"" issue with gmail emails

I have to make my gmail account allow use of less secure apps -""which is what google considers k-9 mail""- in order to be able to use the app with my gmails , i have had it every time goigle block my emails cause of this ... Of you're not planning on fixing it let us know so i can dump k-9 abd find another app"
k9mail/k-9,closed,Dead link in wiki,[],"At
https://k9mail.github.io/documentation/faq.html#anchor1
question ""K-9 is taking ages to fetch messages, help!""
links https://k9mail.github.io/documentation/Storage
but probably means to link
https://k9mail.github.io/documentation/storage.html
However, that page does not at all address the issue if messages taking forever to fetch."
k9mail/k-9,closed,"Fix ""Disable notifications"" during Quiet Time",[],"Looks like this has been broken since 2015 :disappointed: 

Fixes #3303"
k9mail/k-9,closed,New Application class,[],"The class `K9` contained far too much functionality. This moves most of the initialization code to the new class `Core`. There's also a new `Application` class called `App` in the `:app:k9mail` module.

"
k9mail/k-9,closed,German translation enhancement,[],Please change 'Nachrichten werden abgerufen' to 'Nachrichten abrufen' or even better 'Server Einstellungen'. Searched my ass off to find where I can change the server settings.
k9mail/k-9,open,No need for account colour when there is a single account,"[Label(name=""enhancement"")]","When K9 manages only one account there is no need to show a colour for that account, as it takes only place.

Please offer the possiblity for an account not to have a colour, or implicitly assume so, if there is only one account installed."
k9mail/k-9,closed,Infrequent errornous message sent on the broadcast receiver,[],"I am using K9 with FireAlert2 with the broadcast receiver enabled.
FireAlert2 is set up to alert me on specific faults issues via my email account.
To that end I have IDLE set to keep all awake every 12 minutes and also polling every 4 at least especially when I am on call.
This works well for most of the time.
An issue arises infrequently where K9 polls and fetches 20 emails. The folder count becomes 19 emails and FireAlert2 triggers for the 20th message.  (The oldest message)
4 minutes later the cycle repeats. 
Now this message could be quite old or new.
When looking at this message on FIreAlert2 it clearly shows when it was sent from whoever sent it.
When K9 received it and the now time that FA2 paged it. This clearly shows it is an old message.
To stop it I change the Fetch Size to 50 or some other amount. 
The fault stops and it all behaves itself for a wee while and then off it goes again.
The really annoying issue with this is I have to monitor this channel 24/7 for a week and it can wake me up for clearly old messages.
This issue has been present since I started using this which is a couple of years. 

### Steps to reproduce
1.  Polling 4 minutes on one folder.
2. FIreAlert2 filters set up to receive particular message types.
3. wait.

### Environment
K-9 Mail version:
5.403
Android version:
Oreo 8.1.0 but issue on all devices tried. Lollipop 5.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
imap.gmail.com 
The screen shot shows a repeated message originally received the previous day at 11am being re-triggered at 6:37am the next morning.
The phone has been online and monitoring all night.

![screenshot_2018-06-06-15-12-51](https://user-images.githubusercontent.com/18553576/41759970-51ca4260-7645-11e8-9afb-f5090efc54a1.png)
"
k9mail/k-9,open,Exclude email from all accounts from notifications,"[Label(name=""enhancement"")]","Right now you can configure the notifications in the account settings to ignore mails, written from the users own email addresses. This option takes the primary email address and all identities from the same account into account, but not email addresses and  identities from other accounts. It would be nice if I could configure k9mail to ignore all my email addresses, no matter from which account."
k9mail/k-9,closed,Split app module,[],"The idea is to have core email functionality in the `:app:core` module and everything else (especially UI code) in the `:app:k9mail` module. That should make it much easier to use our code as base for new email-related apps. Those apps would create their own Android application Gradle module and depend on the `:app:core` module.

Right now the `:app:k9mail` module is almost empty because our ""core"" code contains a lot of references to UI/non-core classes. We'll have to break those dependencies before we can move code out of the core module."
k9mail/k-9,open,To: insert space after comma,[],"With K9 5.403 I managed to send an email having no space after the comma:
>To: Aaaaaaa aaa Aaaaaaaa <aaaaaaa@example33.org>,Bbb bbb Bbbbbbbbbb
> <bbb@example.int>

sendmail, after receiving this header sends it unmodified to the milters (e.g. for DKIM signing) and later on inserts a whitespace (\n + TAB) after the comma.  The insertion of the WSP breaks the calculated DKIM signature.

While this behaviour of sendmail is not a problem of K9, please consider ensuring that after a comma mails always have a whitespace when generating mails in K9."
k9mail/k-9,open,Attachement get lost by forwarding a (encrypted but not signed) Mail,[],"### Expected behavior
If I forward a Mail, the whole mail including Attachments should be forwarded

### Actual behavior
The Content is correct in the forward mail but Attachments are missed

### Steps to reproduce
1. Receive a **encrypted but not signed** Mail with Attachment (e.g. test.pdf)
2. Press the Button to forward this Mail
3. Thats ist, the Attachment is missing

### Environment
K-9 Mail version: 5.502

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,connecting to server with invalid cert fails with no feedback whatsoever on current master,[],"I think there used to be a notification about this problem, which allowed accepting the cert

```
    MessagingController  E  com.fsck.k9.mail.MessagingException: Unable to get folder list.                                                                               
                         E      at com.fsck.k9.mail.store.imap.ImapStore.getPersonalNamespaces(ImapStore.java:158)                                                        
                         E      at com.fsck.k9.controller.MessagingController.refreshRemoteSynchronous(MessagingController.java:438)                                      
                         E      at com.fsck.k9.controller.MessagingController$4.run(MessagingController.java:427)                                                         
                         E      at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:205)                                               
                         E      at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:118)                                                    
                         E      at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:174)                                                         
                         E      at java.lang.Thread.run(Thread.java:764)                                                                                                  
                         E  Caused by: com.fsck.k9.mail.CertificateValidationException: java.security.cert.CertPathValidatorException: Trust anchor for certification path 
                            not found.
                         E      at com.fsck.k9.mail.store.imap.ImapConnection.handleSslException(ImapConnection.java:168)                                                 
                         E      at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:153)                                                               
                         E      at com.fsck.k9.mail.store.imap.ImapConnection.sendCommand(ImapConnection.java:811)                                                        
                         E      at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:754)                                               
                         E      at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:743)                                               
                         E      at com.fsck.k9.mail.store.imap.ImapStore.listFolders(ImapStore.java:169)                                                                  
                         E      at com.fsck.k9.mail.store.imap.ImapStore.getPersonalNamespaces(ImapStore.java:145)                                                        
                         E      ... 6 more                                                                                                                                
                         E  Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. 
```"
k9mail/k-9,closed,Issue#3255 Update EmailAddressValidator to be compliant with rfc2396 URI's format,[],Fixes #3255
k9mail/k-9,open,Feature request: Only download big messages over wifi,[],"Currently ,there is a setting in Account>Fetching mail>Fetch messages up to that sets a limit for messages to be fetched. I would like that limit be conditioned on connection, so it would only apply on cellular connection (that is metered for some user like me). 

Use case: I have a 300 MB monthly plan at the moment and I do not want 1/15th of if to be eaten by a 20 MB attachment."
k9mail/k-9,closed,Set nagivation bar color to dark on dark theme,[],"When using dark theme sets the navigation bar color to dark background.
If the system UI default color is light this fixes the UI mismatch.

Before:

![before](https://user-images.githubusercontent.com/1718963/41682926-83d196cc-74d9-11e8-9240-9f9dd460bd26.png)

After:

![after](https://user-images.githubusercontent.com/1718963/41682936-8a5ab366-74d9-11e8-81c4-6c359b68da75.png)
"
k9mail/k-9,closed,Crash when opening if inbox was never synchronized,[],"### Expected behavior
The app should show folders on startup.

### Actual behavior
K9 crashes on startup

### Steps to reproduce
1. Install clean application from master,
2. Setup account with dummy data so it never connects to the server
3. Finish the setup wizard
4. Stop the app and start it again

### Environment
K-9 Mail version:04ec7227f292716d1fcb0dabe19a1e311b24582d

Android version:Oreo

Account type (IMAP, POP3, WebDAV/Exchange):IMAP

Stack trace:
```
E/AndroidRuntime: FATAL EXCEPTION: main
Process: com.fsck.k9.debug, PID: 4121
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.fsck.k9.debug/com.fsck.k9.activity.MessageList}: java.lang.RuntimeException: com.fsck.k9.mail.MessagingException: LocalFolder.open(): Folder not found: INBOX (-1)
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2957)
    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032)
    at android.app.ActivityThread.-wrap11(Unknown Source:0)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696)
    at android.os.Handler.dispatchMessage(Handler.java:105)
    at android.os.Looper.loop(Looper.java:164)
    at android.app.ActivityThread.main(ActivityThread.java:6940)
    at java.lang.reflect.Method.invoke(Native Method)
    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)
Caused by: java.lang.RuntimeException: com.fsck.k9.mail.MessagingException: LocalFolder.open(): Folder not found: INBOX (-1)
    at com.fsck.k9.fragment.MessageListFragment.getFolderInfoHolder(MessageListFragment.java:643)
    at com.fsck.k9.fragment.MessageListFragment.decodeArguments(MessageListFragment.java:581)
    at com.fsck.k9.fragment.MessageListFragment.onCreate(MessageListFragment.java:434)
    at android.support.v4.app.Fragment.performCreate(Fragment.java:2331)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1386)
    at android.support.v4.app.FragmentTransition.addToFirstInLastOut(FragmentTransition.java:1188)
    at android.support.v4.app.FragmentTransition.calculateFragments(FragmentTransition.java:1071)
    at android.support.v4.app.FragmentTransition.startTransitions(FragmentTransition.java:115)
    at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2380)
    at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2338)
    at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2245)
    at android.support.v4.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3248)
    at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3200)
    at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:195)
    at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:597)
    at android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:177)
    at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1340)
    at android.app.Activity.performStart(Activity.java:7191)
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2920)
    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032) 
    at android.app.ActivityThread.-wrap11(Unknown Source:0) 
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696) 
    at android.os.Handler.dispatchMessage(Handler.java:105) 
    at android.os.Looper.loop(Looper.java:164) 
    at android.app.ActivityThread.main(ActivityThread.java:6940) 
    at java.lang.reflect.Method.invoke(Native Method) 
    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327) 
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374) 
Caused by: com.fsck.k9.mail.MessagingException: LocalFolder.open(): Folder not found: INBOX (-1)
    at com.fsck.k9.mailstore.LocalFolder$1.doDbWork(LocalFolder.java:172)
    at com.fsck.k9.mailstore.LocalFolder$1.doDbWork(LocalFolder.java:151)
    at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:274)
    at com.fsck.k9.mailstore.LocalFolder.open(LocalFolder.java:151)
    at com.fsck.k9.fragment.MlfUtils.getOpenFolder(MlfUtils.java:27)
    at com.fsck.k9.fragment.MessageListFragment.getFolderInfoHolder(MessageListFragment.java:640)
    at com.fsck.k9.fragment.MessageListFragment.decodeArguments(MessageListFragment.java:581) 
    at com.fsck.k9.fragment.MessageListFragment.onCreate(MessageListFragment.java:434) 
    at android.support.v4.app.Fragment.performCreate(Fragment.java:2331) 
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1386) 
    at android.support.v4.app.FragmentTransition.addToFirstInLastOut(FragmentTransition.java:1188) 
    at android.support.v4.app.FragmentTransition.calculateFragments(FragmentTransition.java:1071) 
    at android.support.v4.app.FragmentTransition.startTransitions(FragmentTransition.java:115) 
    at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2380) 
    at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2338) 
    at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2245) 
    at android.support.v4.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3248) 
    at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3200) 
    at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:195) 
    at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:597) 
    at android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:177) 
    at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1340) 
    at android.app.Activity.performStart(Activity.java:7191) 
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2920) 
    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032) 
    at android.app.ActivityThread.-wrap11(Unknown Source:0) 
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696) 
    at android.os.Handler.dispatchMessage(Handler.java:105) 
    at android.os.Looper.loop(Looper.java:164) 
    at android.app.ActivityThread.main(ActivityThread.java:6940) 
    at java.lang.reflect.Method.invoke(Native Method) 
    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327) 
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374) 
Application terminated.
```
"
k9mail/k-9,closed,Move RemoteStore-specific code to backend modules,[],This is a big step towards making the `RemoteStore` subclasses implementation details of the backend Gradle modules. That should make it much easier to add support for new protocols and simplify existing implementations.
k9mail/k-9,closed,Issue#3303 Don't show notifications if disable notifications during quiet time is enabled,[],"Fixes #3303 

"
k9mail/k-9,open,Notifications during silence mode,[],"### Expected behavior
No notifications at all during silence mode.

### Actual behavior
When the silence mode starts at the set time, I still get notifications in my notification bar. The only difference is that the notification sound is turned off, but I don't want any notifications anymore, inclusing visual ones.

### Steps to reproduce
1. Open general settings
2. Select 'warnings' (my K9 is in Dutch, so I am not sure if this is the right translation)
3. Check the boxes behind 'silence period' and 'turn off notifications'.
4. Select when the silence period should start and stop.

### Environment
K-9 Mail version: 5.403

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Phone: OnePlus2 OxygenOS version 3.6.1"
k9mail/k-9,open,"K-9 mail fails to encrypt emails by default, even with ""Autocrypt mutual mode"" enabled",[],"## K-9 mail fails to encrypt emails by default, even with ""Autocrypt mutual mode"" enabled

### Expected behavior
When sender and recipient have both enabled ""Autocrypt mutual mode"", encryption should be enabled by default and the ""green lock"" symbol should appear when composing messages.

### Actual behavior
Encryption is not enabled by default - the ""grey struck-through lock"" symbol may be shown, but sometimes no lock symbol is shown at all.

### Steps to reproduce
1. Enable autocrypt mutual mode under `Settings > Account Settings > Cryptography > Autocrypt mutual mode`
2. Compose a new message to a recipient who has also enabled autocrypt mutual mode and you've exchanged encrypted mail with (or just compose an email to yourself)
3. Observe that it does not encrypt by default

### Environment
K-9 Mail version: 5.503

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

### Additional notes
This just further highlights the problems created by the imprudent decision to remove encryption by default and the [dubious justifications for doing so](https://k9mail.github.io/2018/02/26/OpenPGP-Considerations-Part-III-Autocrypt.html).

Consider the issues posed by *""non-consensual encryption by default""* (as the aforementioned blog post pejoratively and misleadingly calls it): 
> ""Encrypted messages cannot be viewed in all clients and especially web clients, full-text search is typically restricted, and if the user loses access to their keys there might be unintended loss of messages.""

Now compare those to the potentially ***catastrophic*** (perhaps even life threatening) consequences of ***failing*** to encrypt sensitive information when the user is expecting it to do so by default (or forgets to click the dim, inconspicuous, and easily overlooked grey lock icon) and it should be patently obvious that the consequences of the latter scenario are FAR more severe than the relatively inconsequential ""convenience"" issues of the former. 

If you can only optimize for one, mitigating the latter by enabling encryption by default (thus putting the onus on the user to manually disable it if they don't want it) should take full precedence over any concerns about convenience. To do differently is to have priorities that are completely disjointed from the realities faced by the vast number of people who elect to use encryption to protect their communications in the first place. It doesn't just *""break the workflows of a couple of users""*.

Ideally, both can be satisfied by allowing the user to choose the default behavior that suits them in the settings. But when the setting fails to work, as it did in this case, not encrypting by default means that it ***fails-deadly***.

Please consider this and restore the sensible, **fail-safe** encryption by default.
"
k9mail/k-9,open,Remove messages when deleted on server - does not seem to work,[],"
### Expected behavior
Mails deleted on the server should automatically be deleted in the K9 mail client 
Due to check mark in  ""Sync serve deletions:  Remove messages when deleted on server""


### Actual behavior
Mails are not deleted in K9, when deleted on server.
I have around 50 mails in my inbox on the mail server, but 1000 i my K9 Inbox.

### Steps to reproduce
1. Send mail to mail box.
2. See it in K9 Mail
3. Delete it with another client
4. Go back to K9 and check about also it is delted there

### Environment
K-9 Mail version: 5.403

Android version:
8.0.0 
One Plus 3 phone

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,please do NOT use 'translated' folder names,[],"### Expected behavior
The default folder names for important folders should be
 - Drafts
 - Sent
 - Junk
 - Trash

when you add a new IMAP postbox.

### Actual behavior
Currently you are using the **translated** name, which is e.g. for **German**
 - Entwürfe
 - Gesendet
 - Spam
 - Papierkorb

am pretty sure that when you are using a different language than DE or EN, e.g. FR than the folder names would be used in the French translation.
This is annoying to change those folder names every time when adding a IMAP account ...
It is OK to use the **translation** in the **Description** of the folder name usage, e.g.
```
Ordner für Entwürfe
Drafts
```

### Steps to reproduce
1. setup K-9 with different language (Do NOT use English)
2. setup IMAP account
3. check folder names

### Environment
K-9 Mail version: any version

Android version: 8.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,When Deleting Emails older Emails notify as if they are new in IMAP configuration,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When deleting Email from the inbox, older Emails that fill in at the end of the list should not send a notification.

### Actual behavior
When deleting Email from the inbox, older unread Emails will send a notification as if they are new Emails.

### Steps to reproduce
1.  Go to the inbox and make sure the specified number of Emails are loaded.  In my case, the number is 50.
2.  Make sure that there are more the 50 emails in the IMAP inbox
3.  Delete one of the 50 emails and wait for K9 to fetch.  An older unread email will send a notification.

### Environment
K-9 Mail version:  5,503  (however, this is not related to the latest version)

Android version: 4.1.2

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP
"
k9mail/k-9,open,Content-Type: message/feedback-report,[],Handle `Content-Type: message/feedback-report` defined in [RFC 5965](https://tools.ietf.org/html/rfc5965) or `Content-Type: text/rfc822-headers` MIME parts as they had implicit `Content-Disposition: inline` and were of `Content-Type: text/plain` or `Content-Type: message/rfc822`: display their content within K9.
k9mail/k-9,closed,K9 mail on iOS,[],"Good afternoon!

Are there plans or is it even possible to support iOS device?
Thanks."
k9mail/k-9,closed,Envelope icon Open when it should be closed and Visa Versa,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
In the messages list, with checkboxes enabled.  At the bottom of the screen there are three icons The Wastebasket, The Envelope, and A Star.  

When the message highlighted is in BOLD font, I would assume that this meant the message is UNREAD and the Envelope should be Closed?

### Actual behavior
However, when the message highlighted is in BOLD font, and assuming that this meant the message is UNREAD, the Envelope at the bottom of the screen is OPEN?  Which I assume would indicate the the envelope is open and the message read?

Is it the wrong way round or am I getting mixed up?

### Steps to reproduce
1. open up the messages view in K9
2. Make sure that a message is highlighted
3. look at the Envelope icon at the bottom of the screen, is it OPEN or Closed when the message is BOLD?

### Environment
K-9 Mail version: 5.403

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Enable vendor multi-window implementations,[],"Before official support in Android N, LG and Samsung both implemented their own multi-window support, but it requires an explicit opt-in."
k9mail/k-9,closed,PC Version,[],"Hi,

You have possibility to port your app on pc for linux !
For make a exchange support and open source product on linux ?

Cordialy"
k9mail/k-9,closed,Implement RFC 6186: Use of SRV Records for Locating Email Submission/Access Services,[],"[RFC 6186](https://tools.ietf.org/html/rfc6186) ""defines new SRV service types for the message submission, IMAP, and POP3 services, to enable simple auto-configuration of MUAs.""

[RFC 8314](https://tools.ietf.org/html/rfc8314#section-5.1) goes further and sais:

> User-configurable MUAs SHOULD support the use of [RFC6186] for account setup.

It would be nice to follow the RFC and have this in K-9 Mail.

Thanks, and keep up the good work!"
k9mail/k-9,open,Please add an option for NOT SAVING passwords,[],"As far as I understood, after reading a few of those issues, there is no real wish to secured passwords encryption (use an encrypted device). I like that app very much, by it seems to me a real problem that password securization is not on the top of the priorities for, espacially, a secured oriented app.

*Could someone please just add an option to +not save+ any password in the app?*

I have no development skills unfortunaltely.
Thank you in advance "
k9mail/k-9,closed,Message List Color issue after Oreo Update (S7),[],"
"
k9mail/k-9,closed,Duplicate folders and sync failures,[],"I have https://github.com/k9mail/k-9/issues/1220

I also have the problem that things I read or archive through the Fastmail site don't end up as read or moved to Archive in K9. I also end up with a lot of old drafts that are not removed after a message is sent.

### Environment
K-9 Mail version: 5.403

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,internet Links in e-mail are not active,[],"I looked for this issue by searching but kind-of feel I may have missed it...

### Expected behavior
internet Links in e-mail are not active, I would like to tap on them and have them open in my browser

### Actual behavior
the links are just text, I have to copy them and past into my browser

### Steps to reproduce
always happens, not sure if happened 4 years ago when I 1st used app 

### Environment
K-9 Mail version: 5.403

Android version:  7.0

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP

Phone: LG Aristo
"
k9mail/k-9,open,crash when fetching mail,[],"
### Expected behavior
Message should display normal
### Actual behavior
app crash when fetching mail
### Steps to reproduce
1.login
2.display messagelist and loading
3.crash

this is log below:
LocalFolder.open(Proguard:1361) ~[na:0.0]
LocalFolder.setLastChecked(Proguard:1630) ~[na:0.0]
LocalFolder.access$2401(Proguard:1313) ~[na:0.0]
LocalFolder.setLastChecked(Proguard:1630) ~[na:0.0]
LocalFolder.access$2401(Proguard:1313) ~[na:0.0]
LocalFolder.setLastChecked(Proguard:1630) ~[na:0.0]
LocalFolder.access$2401(Proguard:1313) ~[na:0.0]
LocalFolder.setLastChecked(Proguard:1630) ~[na:0.0]
LocalFolder.access$2401(Proguard:1313) ~[na:0.0]
LocalFolder.setLastChecked(Proguard:1630) ~[na:0.0]
LocalFolder.access$2401(Proguard:1313) ~[na:0.0]
LocalFolder.setLastChecked(Proguard:1630) ~[na:0.0]
LocalFolder.access$2401(Proguard:1313) ~[na:0.0]
LocalFolder.setLastChecked(Proguard:1630) ~[na:0.0]
LocalFolder.access$2401(Proguard:1313) ~[na:0.0]

### Environment
K-9 Mail version: 5.403

Android version: 7.0 6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,[Feature Request] Allow to edit the from field,[],"I know, that I can add identities. But I'd like to be able to edit the `from` address right on the fly. The reason is that I own a domain an I use unique mail addresses for all kind of stuff (so I have many > 100). Adding all these identities would make the list explode an basically unusable (it would also take way too much time to add all of them).
I know this behavior from Thunderbird an it's really helpful."
k9mail/k-9,open,"unable to extract email address from To, Cc, or Bcc fields ",[],"### Expected behavior
When hitting ""reply to all"" I should be able to see individual email addresses as plain text like in K-9 4.804 so I could copy and paste as desired

### Actual behavior
When hitting ""reply to all"" I see each individual email address represented as ""gif"" where email ""john@email.com"" is represented as square box with letter ""J"" then ""john@email.com"" with no way to copy and paste that particular email address so I could add it to address book

### Steps to reproduce
1. open email
2. hit reply to all
3. expand ""to"" or ""cc""
4. try to copy email individual email address - no go

### Environment
K-9 Mail version:
5.503
Android version:
7.1.1
Account type (IMAP, Exchange):
IMAP
Exchange"
k9mail/k-9,open,max-height of img tag not used ,[],"Love K-9, used it for years.

Before pictures are loaded, I have mails which have an img with a with a height attribute on an img tag.  

`<img width=""600"" height=""155"" style=""width:600px;height:155px"" src=""blah"">`

These seem to render square, which I wouldn't expect."
k9mail/k-9,open,K9-Mail not restarting after Reboot on Oro,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
After Rebooting the Phone K9-Mail should start in Background and notify about new Mails.

### Actual behavior
K9-Mail is not doing anything before it was opened manually.
Background Activity allowed and No Battery Optimisation

### Steps to reproduce
1. Reboot Phone and DO NOT open K9-Mail
2. Send a mail to K9-Mail configured Account

### Environment
K-9 Mail version: 5.403 (from F-Droid)

Android version: 8.1.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Email Header can not get full fields when email contain attachments,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
email header should contain all fields
### Actual behavior
email will lost some head fields, if the email contain attachments

### Steps to reproduce
there are two screen shots of android studio
first one is the email which do not have a attachement.
![email1](https://user-images.githubusercontent.com/23086291/41075441-3802fbfe-6a3f-11e8-8b55-902796bc6592.jpg)


second one is the email contained a attachment.
![emai2](https://user-images.githubusercontent.com/23086291/41075335-c3bccefa-6a3e-11e8-8937-97512cd7ce82.png)



### Environment
K-9 Mail version:5.5

Android version:7.0

Account type (IMAP, POP3, WebDAV/Exchange):imap
"
k9mail/k-9,open,Crash on attempt to display a message,[],"
### Expected behavior
Message should display without crashing.

### Actual behavior
App crashes without displaying message.

### Steps to reproduce
1.  Select message from list.
2.  Crash, ""K-9 Mail has stopped.""
3. feedback sent

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

[original_msg.txt](https://github.com/k9mail/k-9/files/2078299/original_msg.txt)"
k9mail/k-9,open,Auto Sync hit or miss on Galaxy S9+,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
K-9 should check for new mail at the intervals I have set for each account.

### Actual behavior
Sometimes K-9 will check the mail at the intervals set and sometimes it does not.  I have 4 email accounts set up on my S9+ just like I had them on my Note 4.  The Note 4 works perfectly, the S9+ does not.  I have to constantly manually check email to make sure I do not miss something.  It will so hours without check mail.  I have background sync on always.

### Steps to reproduce
1. have the device turned on
2.
3.

### Environment
K-9 Mail version: 5.403

Android version:8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): POP
"
k9mail/k-9,open,Can't send email when connected to NordVPN,[],"### Expected behavior
When connected to a NordVPN server over TCP using their Android client (which I believe is a frontend to OpenVPN for Android), emails should probably send as normal. 

### Actual behavior
Emails do not leave outbox, but instead I get the ""k9 mail errno exception isconnected failed"" error. 

### Environment
K-9 Mail version: 5.403

Android version: 8.1.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (SSL/TLS port 493), SMTP (port 465)
"
k9mail/k-9,open,"[Oreo] Loss and regain of connection can cause synch to remain disabled. (Not Doze related, but network)",[],"### Expected behavior
Synching should be re-enabled when a network connection (WiFi or mobile) is re-established (after losing it previously).

### Actual behavior
Loss and reacquisition of connection does not re-enable synch. 
Instead, I get a ""Synchronisation deaktiviert - kein Netzwerk"" (German for ""synchronization disabled, no network"") display on the ""Accounts"" front page - which would make this *unrelated* to Doze mode.

Workaround: enable flight mode and disable it again. K9-mail will change back to ""next poll in ... minutes""

### Steps to reproduce
1. lose connection on a Sony Xperia XZ1 compact (model code G8441), through bad reception, basement rooms, whatever
2. reacquire connection

### Environment
K-9 Mail version: 5.403 (Google Play Store)

Android version: 8.0.0,  security patch level: 2018 May 1st
(I do not recall having seen this on 6.0 on a Sony Z3 compact)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Random thoughts aka. brainstorming: through what events/messages/... would K9-mail learn that it has UMTS/LTE or WiFi connected when the phone is NOT coming out of flight mode, but going back from ""under the rock"" to a place where it has reception?"
k9mail/k-9,open,"[Oreo] K-9-mail-app crashes when pressing  button ""New E-mail""",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
A new empty e-mail form should be displayed.

### Actual behavior
The app shuts down with error

### Steps to reproduce
1. Open K-9-Mail
2. press on button ""new email""
3. App is closed. Android-system message "" re-open App? / Give feedback""

### Environment
K-9 Mail version: 5.403

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP and POP3
![screenshot_20180604-202921](https://user-images.githubusercontent.com/39924082/40935681-230ced66-6839-11e8-89c9-17899b830670.png)
"
k9mail/k-9,open,"Will not pickup email from server since June 1, 2018 with all setting checked and double checked will send outbound emails although",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,logo in the signature,[],"I would like to include an image (logo) in the signature of the message,
and I have not found how to do it.

"
k9mail/k-9,closed,Specify INBOX mailbox,[],"### Expected behavior
I want K-9 to check another that the standard INBOX mailbox for new mails, that is I want to specify the name of the mailbox to be used as inbox.

### Actual behavior
I tried to set the inbox mailbox in `Account settings > Folders`, but could only change the Archive/Draft/Sent/Spam and Trash folders.

I tried to set the namespace in `Account settings > Fetching mail > Incoming server > IMAP path prefix`, to the non-standard INBOX, but this does not change the inbox.

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (dovecot)
"
k9mail/k-9,closed,"Create ""backend"" modules for protocol-specific code",[],Right now the modules only contain protocol-specific sync code. The next step is to move/change all other code that references `RemoteStore`. 
k9mail/k-9,open,incorrect message after last poll,[],"![20180603_004538](https://user-images.githubusercontent.com/8467903/40880561-f91373f0-66a2-11e8-8fd7-d7fee340639d.jpg)
-
![20180603_004439](https://user-images.githubusercontent.com/8467903/40880564-072fe52c-66a3-11e8-9eed-8afebc505060.jpg)
-
![20180603_004337](https://user-images.githubusercontent.com/8467903/40880568-0e40e2ee-66a3-11e8-9c18-d05eea044038.jpg)

need to change ""next"" to ""last""
"
k9mail/k-9,closed,Add abstraction layer for local message storage in ImapSync,[],
k9mail/k-9,open,Cannot connect to the crypto provider,[],"### Expected behavior
Email should be sent successfully with using crypto provider (encrypted mail).

### Actual behavior
When I try to send (encrypted or not encrpyted) a message I got a warning:
""Cannot connect to crypto provider, check your settings or click crypto icon to retry!""
Few weeks ago it was successfully installed and tested. Maybe a system update has broken it. 
If encryption switched off on K-9 mail settings, mail sending works.
### Steps to reproduce
1. K-9 installed
2. OpenKeyChain Easy PGP installed, keys tested
3.

### Environment
K-9 Mail version: 5.403
OpenKeyChain:  Easy PGP: 5.0.2
Android version: 7.0
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
mail service provider: gmail
"
k9mail/k-9,closed,Use per account instances of RemoteMessageStore,[],More work towards being able to extract protocol-specific code to separate Gradle modules.
k9mail/k-9,open,Same as issue - Syncing Disabled #2135,[],"But you closes the thread and it is 2018 one year later (Issue exist on latest MUI 9.5.9 Android 7 based) ...

this make app totally unusable, and can be low tech solved by adding a timer which to push check mail button on 1-5-10-15.... minutes "
k9mail/k-9,closed,Decouple ImapSync from MessagingController and NotificationController,[],This is a first step towards being able to have protocol implementations as optional modules.
k9mail/k-9,closed,7.1.1 update disassociates MIME type for application/msword,[],"From 7.0 to 7.1.1 on my nexus 6, k9 has always been able to open an msword attachment composed on a macbook. With the 7.1.1 update last week, it now opens the attachment with pwsafe. Here's what I know:
- This is not k9's fault.  If I download the file, the Downloads app will not open the file with google's office compatibility appl.
- pwsafe uses a suffix, but does not have an associated MIME type.  This probably contributes to the problem.
- Even if the file is renamed with a .doc extension, same failure.
- There are some smarter apps, like Astro, that associate a .doc file with application/msword and will open the file correctly.
- I have seen some suggested code that associates suffixes with MIME types. But I haven't seen any code that considers magic numbers, as is the true unix thing to do.

### Expected behavior
Opening an msword attachment (composed on a macbook and without a suffix) open's the file in the google office compatibility app as a word doc.

### Actual behavior
Opening an msword attachment starts up a password management app, pwsafe.

### Steps to reproduce
Compose an msword doc, mail it to yourself, open the attachment from within k9.

### Environment
K-9 Mail version: 5.403
Android version: 7.1.1
Account type: IMAP"
k9mail/k-9,closed,Respect thread view setting when opening folder from navigation drawer,[],"Fixes #3414

"
k9mail/k-9,closed,Opening folder from drawer doesn't respect thread view setting,[],"Opening a folder from the navigation drawer always enables thread view regardless of how the user configured the app.

Originally reported here: https://github.com/k9mail/k-9/issues/3413#issuecomment-392321333"
k9mail/k-9,open,Improve navigation drawer UX,"[Label(name=""enhancement"")]","When a user selects a folder from the drawer we first close the drawer and wait for the animation to be done. Only then do we perform the fragment transaction to switch out the message list. This was done to get a smooth closing animation that isn't interrupted by the new fragment being loaded. But it makes the UI feel slow.

Investigate what exactly is causing the animation stutters when loading the fragment simultaneously. If we can fix it, do that. 
Otherwise investigate which of these options leads to a smoother UX:
* When a folder is selected show a blank area where the message list goes, then play the closing animation, then load the new fragment (Gmail seems to do something similar).
* When a folder is selected, keep the drawer open and load the new fragment. Once the new message list has been loaded close the drawer."
k9mail/k-9,open,[Feature request] Support SVG image format,[],"It would be a great addition to support the [SVG image format](https://en.wikipedia.org/wiki/Scalable_Vector_Graphics) in HTML emails. It's useful for example to display dense graphs, that can be zoomed without losing quality compared to traditional raster image formats like PNG.

Example of email clients that support it :
* Aqua Mail (Android)
* Thunderbird (desktop)

I know the following client do NOT support it:
* Gmail (webmail)
* Gmail (android)"
k9mail/k-9,open,throw AuthenticationFailedException but password is right,[],"Added two mailboxes to switch mailboxes back and forth through the sidebar. An exception will be reported after a while. when debug and found method saslAuthPlain throws AuthenticationFailedException.
Actually, I want to remember a status every time when the password is error. I judged it by an AuthenticationFailedException exception message( message is ""response: #2# [NO, AUTHENTICATE failed.]) As long as I reported this abnormality, I would think that it was a wrong password. However, when I switch accounts, the password of the account is right, the result throws this AuthenticationFailedException, and then I also think that the password is wrong.So this situation is wrong.
Could you please answer it, thank you very much.

My question is :
1.How to accurately determine the password is wrong, rather than judged by abnormal information?
2.Why the normal switching account will report AuthenticationFailedException?

### Expected behavior
Can switch normally

### Actual behavior
 throws AuthenticationFailedException

### Steps to reproduce
1.Added two Accounts
2.Switch back and forth between these two accounts

### Environment
K-9 Mail version: K-9 Mail v5.501 （The latest version also has this problem）

Android version:Android 7.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP 
"
k9mail/k-9,closed,Move email protocol implementations to separate Gradle modules,[],The general idea is to make it easier to build an app based on K-9 Mail with certain features disabled/removed. This particular change should also help people who want to use the protocol code but don't care for all of the protocols.
k9mail/k-9,closed,Some build script changes,[],
k9mail/k-9,open,Wrong email opens when,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
I touch the (first) email in the sent folder and this email will be opened, and I can see this emails content.

### Actual behavior
I touch the fist email in the sent folder and a totally different email dispays.

I mean that I have observed this in other folders before, but I could only reproduce it in the sent folder.

### Steps to reproduce
1. open sent folder
2. touch first email in the folder
3.

### Environment
K-9 Mail version: 5.403 from F-droid

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Add navigation drawer for faster folder switching,[],"First part of switching the UI to using a navigation drawer.

![k9mail_drawer_folder_list](https://user-images.githubusercontent.com/218061/40394051-2045b78c-5e22-11e8-8cb4-ff3e61a05a1d.png)
"
k9mail/k-9,closed,tapping mail list widget does not open k9 mail but move the widget,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
it should open K9

### Actual behavior
it lets you move the widget and if you dont move it it removes the widget

### Steps to reproduce
1. tab the heading
2. cry

### Environment
K-9 Mail version: 5.403

Android version: 8.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,paperclip (attachment) icon for email with inline image,[],"### Expected behavior
No paperclip (attachment) icon because there is no real attachment.

### Actual behavior
Paperclip icon appears in message list for an email with only inline images.

### Steps to reproduce
1. Create a HTML message with inline images.
2. Send it to an email account.
3. Check this account in K9 Mail client.

### Environment
K-9 Mail version: 5.403

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Sample email source below appears correctly in recent Thunderbird (52.7) and Gmail: no paperclip (attachment) icon there. K9 Mail incorrectly marks this email with paperclip.

```
Subject: paperclip icon example for inline image
Content-Type: multipart/alternative;
    boundary=""boundary-for-multipart-alternative""
Content-Transfer-Encoding: 8bit

This is a multi-part message in MIME format.

--boundary-for-multipart-alternative
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

(plain text content)

--boundary-for-multipart-alternative
Content-Type: multipart/related;
    boundary=""boundary-for-multipart-related""

--boundary-for-multipart-related
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: 8bit

<html>
  <head></head>
  <body>
      <img src=""cid:k9mail""/>
      (html content)
  </body>
</html>


--boundary-for-multipart-related
Content-Type: image/png
Content-Transfer-Encoding: base64
Content-ID: <k9mail>

iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAAAAABWESUoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA
B3RJTUUH4gUWCRMcUPWxSAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAIg
SURBVDjLfZM7aBVREIa/2d17r5eQZ6OJkRixUIgihkAeaBSUi7mFjbaxkjQ2YmUVC0FbC8E2jVUE
UcFCIUg0PpCAYDRCgqCFXsTERxRvsmd/i314N4XDwnDmzPzzz55/TPzfgsQvz0oUq+3A6r26J0Z3
5xOefRNoud/QUg3Q3KYEFwFyAA4hXHLhJX5vS5P71NZlYNvbPkfNrX2NHDbq7NqqR0/PtvwCWg7f
2X/EmtYoFQATrF5fBdl6vQmZQGulAqC28+1xwrW3QiaELPEIGX0XYg411z9RDhUBoNhc+dxAWMum
mO+6OPd4JQBJAK5j5NCLl56yBHf7fuXSw7vxSCI6eXxm8o9IEyT4Mz1bvfzgyYZHWByqLE3Wgtyv
FhS+TjVPVKcW2Hfmy9UfFiBThhDFL/bzyp7KmH7fWAyIMjppCwAKS4sHbN4PYtAGDkkXgfcKP75R
I4c4VyAzSUlFIwdARlqaIEYZggAsAU2g07YEgJ8eRNZdKH4HD6i4KAydc2H6ORe60MlVE4TBLbdW
GkFMIKzj9MFED7j3N9cT5kgWdyiO9/rpmP7OgedYUp7yHOzx/2kyGO3xkMB8LyG5Y7TQKNryUS+S
xIc3Cx+RpOKxck721j0yYxC+9nHbfMRwt+VlHwz1GkQCybDe4WDTXlA60RlFMskUqXOslMYtW96o
Xlfh1HdapzesVMoKUxUntjg+/i4fsfz6a52i5SJ/ARz+NNEADOXJAAAAAElFTkSuQmCC

--boundary-for-multipart-related--

--boundary-for-multipart-alternative--
```"
k9mail/k-9,open,Cannot search Japanese words in mail body,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
Search function should find and list the emails

### Actual behavior
Tell us what happens instead
When I search a Japanese keyword (kanji or kana)  to find emails in an account, K9 lists only the mails that have the keyword in the email title. If the keyword is only in the email body, K9 does not list those mails in the results. K9 used to find also those emails in the previous versions.

### Steps to reproduce
1. Search a japanese word
2.
3.

### Environment
K-9 Mail version:
5.403
Android version:
8.03
Account type (IMAP, POP3, WebDAV/Exchange):
Pop3"
k9mail/k-9,closed,Notification should contain archive action,[],"### Expected behavior
Within a new mail notification I would like to move mail directly to the archive (and mark it as read).

### Actual behavior
Now there are the following options [(c.p. documentation)](https://k9mail.github.io/documentation/notifications.html) within the notification: reply, mark read, delete.

### Environment
K-9 Mail version:5.403

### Thanks
for K-9 with the great archive feature known from Thunderbird. :-)"
k9mail/k-9,closed,Switch 'account settings' to use PreferenceFragmentCompat ,[],Sorry for the huge pull request :cry: 
k9mail/k-9,open,"The app encountered an error while creating the account (IMAP) and crashed when clicking on the ""write email"" feature",[],"##### Expected behavior
Supposedly, the user can not enter the ""Inbox"" page without setting up the server and connecting it. Also, the write email feature should have no errors.

#### Actual behavior
##### First problem
When I set up a new account by choosing an account type (IMAP), and after being on the server settings page, I accidentally exit the app, suddenly when I open the app again I'm already on the page ""Inbox"". Though I do not connect the server.

##### Second problem
And when I try to click the write email feature, suddenly the application crashes and exit by itself.


#### How to reproduce
##### First problem
1. Install and open the app
2. Next go to the ""Set up a new account""
3. Next fill in ""Email address and Password""
4. Next click ""Manual setup""
5. Next, select the account type ""IMAP""
6. Once in the ""Incoming server settings"" page, please exit the application.
7. Next please log back into the application, then you will find the error as I experienced (*you will suddenly be at ""Inbox""*)

##### Second problem
1. If you are already in the ""Inbox"" page, please click on the ""Write email"" feature. Then the application will crash and exit by itself. And when you try to log back in, the app returns to the page when it first installs.

----
- Device: Xiaomi Redmi 4X
- Operating system: Marshmallow, 6.0.1 mmb29m (CPU: Octa-core Max 1.9 GHz, RAM: 2 GB)
- Application Version: 5.403

#### Recording Of The Bug 
https://www.youtube.com/watch?v=oaBseBOvwJY



#### Logcat
```
05-19 23:20:52.905 13739 13739 E AndroidRuntime: FATAL EXCEPTION: main
05-19 23:20:52.905 13739 13739 E AndroidRuntime: Process: com.fsck.k9, PID: 13739
05-19 23:20:52.905 13739 13739 E AndroidRuntime: android.content.ActivityNotFoundException: Unable to find explicit activity class {com.fsck.k9/com.fsck.k9.activity.MessageCompose}; have you declared this activity in your AndroidManifest.xml?
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1801)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.app.Instrumentation.execStartActivity(Instrumentation.java:1514)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.app.Activity.startActivityForResult(Activity.java:3978)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.app.Activity.startActivityForResult(Activity.java:3939)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.app.Activity.startActivity(Activity.java:4262)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.app.Activity.startActivity(Activity.java:4230)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.fsck.k9.activity.compose.MessageActions.actionCompose(MessageActions.java:25)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.fsck.k9.activity.MessageList.onCompose(MessageList.java:1277)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.fsck.k9.fragment.MessageListFragment.onCompose(MessageListFragment.java:775)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.fsck.k9.activity.MessageList.onOptionsItemSelected(MessageList.java:812)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.app.Activity.onMenuItemSelected(Activity.java:2963)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.android.internal.policy.PhoneWindow.onMenuItemSelected(PhoneWindow.java:1151)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:761)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:152)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:904)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:894)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.widget.ActionMenuView.invokeItem(ActionMenuView.java:616)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.android.internal.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:141)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.view.View.performClick(View.java:5207)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.view.View$PerformClick.run(View.java:21177)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.os.Handler.handleCallback(Handler.java:742)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.os.Handler.dispatchMessage(Handler.java:95)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.os.Looper.loop(Looper.java:154)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at android.app.ActivityThread.main(ActivityThread.java:5527)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at java.lang.reflect.Method.invoke(Native Method)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:739)
05-19 23:20:52.905 13739 13739 E AndroidRuntime: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:629)
```"
k9mail/k-9,closed,Allow to hide account color,[],"Setting a transparent color basically hides those bars everywhere. That way of implementing does not need another setting (in contrast to #514). In that issue, you wrote that the UI overhaul is on the way. Not sure how long it will take, but in the meantime, we can use this ;)

Before / After
<img width=""250"" src=""https://user-images.githubusercontent.com/5811634/40228059-812916ba-5a90-11e8-9950-3a9579aaa4ac.png"" /> <img width=""250"" src=""https://user-images.githubusercontent.com/5811634/40228058-810ee8a8-5a90-11e8-9999-0b475658d981.png"" />


"
k9mail/k-9,closed,Added padding to compose view,[],"Before / After:
<img width=""250"" src=""https://user-images.githubusercontent.com/5811634/40227220-2c5ea660-5a8e-11e8-8df4-ae646087562f.png"" /> <img width=""250"" src=""https://user-images.githubusercontent.com/5811634/40227221-2c7879fa-5a8e-11e8-9fbe-03d9178f9d9c.png"" />
"
k9mail/k-9,open,Support multiple unified inboxes,[],"### Expected behavior
The unified inbox capability is awesome. It's very close in functionality to what Blackberry email did, where mail from multiple folders (but not ALL folders) could be handled on mobile. I use and love the unified inbox for work email. (accessing exchange with IMAP and SMTP)

I would like to have the same easy multi-folder capability for my personal email, which I self-host with postfix and dovecot. But I don't want both work and personal email to be mixed in one unified inbox. I want them separate.
"
k9mail/k-9,open,App crashes right after I open it,"[Label(name=""needs info"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Open the app and be able to read emails and interact with the app (select a folder, reply to an email, etc.)

### Actual behavior
When I open the app by tapping on the K-9 icon, after two seconds the app stops unexpectedly. If I tap on the K-9 icon again, the app starts and closes even faster. 

This started happening a few days ago. If I go to Manage apps -> Running I can see the K-9 app restarting repeatedly by itself every 5 seconds or so. 

The app doesn't produce any notifications or anything. It's completely unusable. What do I do? 

I found this bug report that is sort of similar to my experience, but not quite the same: https://github.com/k9mail/k-9/issues/3363
I also tried uninstalling updates to the WebView but that didn't work. 

### Steps to reproduce
1. Click on the K-9 icon on the Android menu.
2.
3.

### Environment
K-9 Mail version: 5.403

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP.
"
k9mail/k-9,closed,Search function for general settings,[],"Added a way to search general settings. The search function is currently set to fuzzy matching.

Disclaimer: I developed the library.

<img width=""200"" src=""https://user-images.githubusercontent.com/5811634/40226474-0a492ffc-5a8c-11e8-86e7-51924cf6c225.png"" /> <img width=""200"" src=""https://user-images.githubusercontent.com/5811634/40769439-47a5c38e-64b8-11e8-883a-e956a8bf36fe.png"" />"
k9mail/k-9,closed,"Outgoing server settings doesn't work with standard postfix + dovecot server, msmtp works",[],"### Expected behavior

Connection to my postfix server on SSL/TLS with a normal password works like with `msmtp` on my Linux machine.

### Actual behavior

I get the following error message:

```
Setup could not finish
---
cannot connect to server
()
```

### Steps to reproduce
1. Configure a postfix server with TLS enabled
```pfmain
smtpd_sasl_type = dovecot

smtpd_sasl_path = private/auth

smtpd_sasl_auth_enable = yes

smtpd_sasl_security_options = noanonymous, noplaintext
smtpd_sasl_tls_security_options = noanonymous

smtpd_tls_auth_only = yes

smtpd_relay_restrictions = permit_sasl_authenticated, reject_unauth_destination, permit_tls_all_clientcerts
smtpd_client_restrictions = permit_sasl_authenticated, reject_unauth_destination
smtpd_tls_cert_file = # path...
smtpd_tls_key_file = # path...
smtpd_tls_security_level = encrypt
```
2. Test the server with a msmtp like this:
  - Configure it with something like this:
```msmtp
defaults
	auth on
	tls on
	tls_trust_file /etc/ssl/certs/ca-certificates.crt
	logfile ~/.msmtp.log

account test
	host smtp.example.com
	from me@example.com
	user me
	auth plain
	password # Password here #

account default : test
```
  - Run a command like `echo ""testing msmtp from the command line"" | msmtp -a test` to test the connection
3. Test the K-9 mail app outgoing server settings with the following parameters:
  - SMTP server: `smtp.example.com`
  - Security: `SSL/TLS`
  - Port: `25`
  - [x] Require sign-in
  - Username: `me@example.com`
  - Authentication: `normal password`
  - Password: # Password here #

### Environment

K-9 Mail version: F-droid Latest stable - `5.403`
Android version: LineageOS 14.1 nightly, (Android 7.1)
Account type: SMTP (outgoing server).

### Debugging

I have access to the server's logs so here is what appended to them when I attempt to establish a connection (private information removed):
```
vps postfix/smtpd[12908]: connect from unknown[ip.address]
vps postfix/smtpd[12908]: lost connection after CONNECT from unknown[ip.address]
postfix/smtpd[12908]: disconnect from unknown[ip.address] commands=0/0
```"
k9mail/k-9,closed,Switch from platform Fragments to support Fragments,[],I was a bit surprised to see we're not using the support library Fragments. And with the platform Fragments now being marked as deprecated it's time to switch.
k9mail/k-9,open,Encrypted drafts created by Thunderbird are annihilated,[],"### Expected behavior
You should be able to open, edit and send an encrypted draft message created with Thunderbird. If opening the draft is not possible, the draft should be left untouched. Under no circumstances should the draft be lost.

### Actual behavior
You can easily loose a long draft that took half an hour of careful composing. 

### Steps to reproduce
1. Create a draft in Thunderbird with Enigmail installed. The draft is encrypted and uploaded to the drafts folder. If you reopen the draft in Thunderbird, you are asked for the passphrase of your private key. Then you can continue to edit the draft.
2. Instead, try to open the draft in K-9. Then, the OpenKeychain dialog pops up and asks you about your passphrase. There is no error message but the text of the draft is now empty (and the subject line is: ""Encrypted message"")!
3. At this point, I found no way to recover: If I press the back button, I have the options to either reject or save the draft. In both cases the original text is lost. 😡

### Environment
K-9 Mail version: 5.403

Android version: 6.0.1

Account type: IMAP
"
k9mail/k-9,closed,Switch 'general settings' to use PreferenceFragmentCompat,[],"Now we have a toolbar again and the settings screens use Material Design.

![k9mail_general_settings_root](https://user-images.githubusercontent.com/218061/40082231-aaf8980a-5890-11e8-8155-395f0c69104e.png)
![k9mail_general_settings_display](https://user-images.githubusercontent.com/218061/40082230-aad8e6a4-5890-11e8-8e1d-8470a8b21619.png)

I was very tempted to clean up some of the awful settings we have. But I managed to resist. This PR should not introduce any behavior changes.

Account settings and font size settings still need to be updated."
k9mail/k-9,open,Right to left layout for rtl languages,[],"Hi, Please implement the rtl layout for when we choose a rtl language like Persian, Arabic, etc. 
This is needed for the general UI of the app and also header and body sections of the emails.
I think it's better (specially for header and body of emails) that position of elements (rtl/ltr, right align/left align) to be detected like what android does by default, i.e. rtl direction when the string starts with a strong right-aligned character or ltr for left-aligned chars."
k9mail/k-9,open,[Request] Show account list on app start,[],"I would like to have the account list shown on app start. At the moment I can either choose the global inbox or a folder from my mail account. In both cases I always have to go back first to see my new mails`*`, but ATTENTION if I click the back button the app closes. I have to click the arrow in the upper left to go back. All in all this is far from convenient.

`*` I make heavily use of mail extensions, where the emails are automatically sorted into sub-folders of the inbox. But those mails doesn't appear in the inbox or global inbox. Therefore I have two options:
1. go back to the account list and use the 'all messages' folder
2. or directly select the folder from the account folder structure

Edit: I'm totally new to this app, so my apologies if I missed something."
k9mail/k-9,closed,K-9 Mail can't handle inline pgp messages,[],"### Expected behavior
The inline signature is verified/encrypted message is decrypted by K-9 Mail

### Actual behavior
K-9 Mail said that the message is encrypted but it is impossible to decrypt it because of an error

### Steps to reproduce
1. Select sign in GPG4WIN in Outlook + Send PGP messages as inline instead of attachment
2. Try to read it on K-9 Mail Android

### Environment
K-9 Mail version: 5.403

Android version: 8 

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Change the way we stitch MIME parts together for display,[],"Right now, if a message contains multiple displayable HTML parts, we first concatenate all of them and only then process the resulting HTML (remove JavaScript etc). See https://github.com/k9mail/k-9/blob/e680c84085d82a0c1d0b06f10bf66ff7f42df907/k9mail/src/main/java/com/fsck/k9/mailstore/MessageViewInfoExtractor.java#L186-L257

This approach has lead to several clients being vulnerable to what is described as the Direct Exfiltration attack at <https://efail.de/>. Due to the way we handle encrypted content we're not vulnerable to EFAIL. But it's still very undesirable that the contents of a preceding MIME part can influence the way the following HTML part is parsed. So we should fix that by processing the different MIME parts individually and then stitching together the processed outputs.

"
k9mail/k-9,open,"Fails to send email with notification ""no valid recipients""",[],"As per subject, even for own email address, or address in contacts, or, even, reply-to. Just returns email to ""Drafts"" folder..."
k9mail/k-9,open,Add reply-to-header again if reply-to-header was set,[],"Got a Mail on me@example.com with reply-to-header to reply@example.com
### Expected behavior

reply to this mail will send to 
1. reply@example.com
2. should set the old reply-to-header (reply@example.com) for reply as new again.
### Actual behavior
reply-to-header isnt set, have to add it manually"
k9mail/k-9,open,Not show enough attach file when open mail with large content and many attachment,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Still Show enough attach file when open mail with large content and many attachment
### Actual behavior
Not show enough attach file when open mail with large content and many attachment

### Steps to reproduce
1. forward email with many attachments in k9-mail
2. open k9-mail
3. read email

### Environment
K-9 Mail version:
K-9 Mail v5.503
Android version:
android 6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,Font size become too small when receive email with many quotes,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Font size is normal when receive email with many quotes

### Actual behavior
Font size become too small when receive email with many quotes

### Steps to reproduce
1. forward email with many quotes in k9-mail 
2. open k9-mail
3. read email

### Environment
K-9 Mail version:
K-9 Mail v5.503
Android version:
android 6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,build fails,[],"when I try to build K-9 I get the error below. pls advice

gradlew.bat assembleDebug

Starting a Gradle Daemon (subsequent builds will be faster)

FAILURE: Build failed with an exception.

* Where:
Build file 'C:\k-9-master\k9mail\build.gradle' line: 1

* What went wrong:
A problem occurred evaluating project ':k9mail'.
> java.lang.UnsupportedClassVersionError: com/android/build/gradle/AppPlugin : Unsupported major.minor version 52.0

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with
--scan to get full insights.

* Get more help at https://help.gradle.org

Deprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.
See https://docs.gradle.org/4.5.1/userguide/command_line_interface.html#sec:command_line_warnings

BUILD FAILED in 34s"
k9mail/k-9,open,Yahoo IMAP fails login.,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

I have seen issue #1698 and #2653, #1742, but they're not quite the same.

### Expected behavior
Correct Yahoo username and password entered in IMAP fetching credentials should allow K9 to connect and fetch mail.

### Actual behavior
Randomly over the past week, (without changing any settings) I get an authentication failed when attempting to fetch new mail from Yahoo mail. This behaviour continues _until_ I log on to the web interface. Without doing anything else, if I then if I click in K9 mail again, it goes through fine. When it connects, using either imap.mail.yahoo.com or android.imap.mail.yahoo.com works.

### Steps to reproduce
1. It occurs randomly, but usually within 12h of having last logged into the webmail service; this seems to have started over the past week.

Less secure login is enabled in Yahoo Mail settings on their website.

### Environment
K-9 Mail version: 5.403.

Android version: 5.0.2 (appreciate this is rather old, but my phone manufacturer has not released updates).

Account type (IMAP, POP3, WebDAV/Exchange): Yahoo IMAP.
"
k9mail/k-9,closed,"Option to display from-header, i.e. check sender",[],"### Expected behavior
I would like to have an option to display the from-header of a received message, that is, to check the sender.

### Actual behavior
At this moment, the sending address is only shown when clicking 'Show headers'.

### Steps to reproduce
1. Open a received message in any folder
2. See how the sender's name is displayed
3. One has to plow through tens of lines of headers to find the sender's address

### Environment
K-9 Mail version: 5.403
Android version: 7.1.2
Account type: IMAP"
k9mail/k-9,closed,Overquoting when sending plain-text messages,[],"When the message format for newly-composed messages is set to `plain text,' the resulting message has transfer-encoding quoted-printable.  There's nothing wrong with that, but it looks as if every period character is encoded into =2E.

So far as I can tell from RFC 2049, there's no real need to do that.  It's perfectly valid for 7-bit-ASCII punctuation characters to be left alone under quoted-printable (except =, of course).  One must be careful when a period appears at the beginning of a line in SMTP data, but SMTP has its own rules for handling that.

A full-featured mail reader will observe the quoted-printable encoding and turn =2E back to ., but it's a nuisance in simpler mail readers, or when the mail is being handled by a program.

Is there some reason I'm missing that it's necessary to encode . all the time? If not, could it stop?

I'm observing this in K9 5.403 running on a Samsung Galaxy S8 with Oreo, though I suspect it's all been true for quite a while.

Thanks much.  K9 is a first-class mail handler.
"
k9mail/k-9,closed,Is this a bug of k-9 ?,[]," I can't input mail address because of the bug.

[https://www.youtube.com/watch?v=fgDV0yHar4A](https://www.youtube.com/watch?v=fgDV0yHar4A)"
k9mail/k-9,closed,Add option to show BOTH correspondent name AND email address.,[],"### Expected behavior
In Global_Settings->Display is this single checkbox option: ""Show correspondent names: Show correspondent names rather than their email addresses"".  I would like to have the option of being shown BOTH the name and address, particularly when I want to quickly check if the sender is trying something dishonest.

### Actual behavior
There's just a single option for correspondent name XOR email address.

### Steps to reproduce
1. Start K9mail.
2. Press the 3 vertical dots to expose the Settings menu.
3. Press ""Settings"".
4. Press ""Global settings"".
5. Press ""Display"".
6. Scroll down to the ""MESSAGE LISTS"" section.
7. See the single option described above.

### Environment
K-9 Mail version: 5.403

Android version: 7.1.2, LineageOS 14.1 (May 4, 2018 nightly)

Account type: IMAP
"
k9mail/k-9,closed,*Suggestion* Is someone adding lockscreen/password screen? ,[],"Hello,

will someone add a lockscreen/passwordscreen in the future? That can add much to the security of our privacy.

Thank you
"
k9mail/k-9,closed,Remove Google from author field in About screen,[],"K-9 Mail started off as a fork of the AOSP Email app. But this was nearly 10 years ago. Most of the app has been rewritten or significantly changed since then. By now I think it's fair to only list the K-9 project as author in the About screen.
Copyright statements in license headers and the copyright statement in the About screen remain unaffected by this change."
k9mail/k-9,open,Add support for background execution limits on Android 8+,"[Label(name=""enhancement"")]","See https://developer.android.com/about/versions/oreo/background

For minimal support we could make `MailService` and `PushService` foreground services. We also need to make sure at least one of them is started whenever we perform a background operation.

For a nicer solution we could look into making periodic syncs use [JobIntentService](https://developer.android.com/reference/android/support/v4/app/JobIntentService). For Push we still need to use a foreground service. We probably want to create a separate notification channel. That way users will be able hide the ongoing notification required for a foreground service."
k9mail/k-9,closed,Add support for notification channels,"[Label(name=""enhancement"")]","To be able to target API 26 we need to add support for [notification channels](https://developer.android.com/training/notify-user/channels). 

For a minimal implementation we probably want to create a notification group for each account and then create two notification channels for each group. One for new message notifications and one for all other notifications (error notifications etc).
When using notification channels we can only provide the initial configuration. To change the ringtone, vibration, priority of an existing notification channel the user has to go to the Android settings app. So for API 26+ devices we probably want to hide those notification settings and display a link to Android's notification settings screen for K-9 Mail instead."
k9mail/k-9,closed,Attachment download dialog improved. ,[],"Resolve of issue #3343 .

Added memory units and changed size variable from int to long
![k9 - result](https://user-images.githubusercontent.com/12406414/39694746-a634c298-51e8-11e8-8ea5-e98d1b08c815.png)




"
k9mail/k-9,closed,"Feature: Add ""delete"" button to notifications menu",[],"This feature has MyMail. It will be convenient quickly to send a e-mail to trash directly from notification.
![20180507_002500](https://user-images.githubusercontent.com/17816777/39678929-cecaeccc-519e-11e8-8e6e-e744b388d265.jpg)
"
k9mail/k-9,open,Sort by sender bug,[],"The unified inbox sometimes has this issue where it visually sorts by sender, but the entries I tap open up messages which do not corespond to the subject line.

It seems the list is visually sorted, but the objects still think they're sorted by date."
k9mail/k-9,open,Lost Emails,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

Emails I sent from Android always reside in ""sent"" folder on my phone.  The IMAP account from Godaddy also produces a second ""sent"" folder with emails sent from my desktop.  I never delete anything so all emails I send should be there.

### Actual behavior
Tell us what happens instead

All emails after 10/26/2016 have disappeared.  Today is 5/3/2018.  I did a test just now and sent an email.  This appears as it should in the sent folder but prior emails sent today and last night do not appear.  So, the matter MAY no longer be happening but all my emails are still missing.  I need them for reference in a legal matter and I would greatly appreciate any info on how to repopulate the sent folder with these emails.  

Godaddy did as much as they can and suggested reaching out to K9 since these emails are SMTP and not on their server...

### Steps to reproduce
1.  Send email as normal
2.  Check sent folder 
3.  No email appeared

* see previous notes. I refreshed and increased size of folder.  LOCATED EMAILS IN TRASH FOLDER...and was about to try and move them, and the disappeared ...leaving only messages from prior to 10/26/2016 in trash folder!  I did NOT delete or expunge

Using internal storage ""/storage/emulated/0""

### Environment
K-9 Mail version:

K-9 Mail Version: 5.403

Android version:  7.0

Account type (IMAP, POP3, WebDAV/Exchange):
Godaddy IMAP"
k9mail/k-9,open,Sync all starred messages?,"[Label(name=""enhancement"")]","It would be really awesome if it was possible to always have all starred messaged synced. Currently you can only view the starred messages that are already synced in each folder. 

Starred messages are obviously the most important/useful, and it's often handy to keep them available even when they've dropped off the end of the list (a common one for me is ticket emails to events that were bought a month or more in advance).

Off-topic: Awesome app. I've been using it for years, and it's always been really nice to use, and massively helps me get sort my inbox. Thanks for all your work on it!"
k9mail/k-9,closed,Kmail message viewer prohibits cut/copy,[],"
### Expected behavior
Long press on message window selects text.

### Actual behavior
Cut and copy disabled

### Steps to reproduce
1.view message
2.long press anywhere in message
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Removing messages from SQLite fails when getting new mails via IMAP,[],"I see a list of messages previously fetched and try to get a list of new messages via IMAP. In the debug-log via adb I see it performed an IMAP-search fine, but then fails multiple times when trying to delete messages from SQLite.

05-01 16:07:23.103  1727  1743 V ImapConnection: conn69520061>>> 5 UID SEARCH 4590:4689 NOT DELETED
05-01 16:07:23.184  1727  1743 V ImapResponseParser: conn69520061<<<#null# [SEARCH, 9061461, 9061462, <shortened the UID-list here>]
05-01 16:07:23.185  1727  1743 V ImapResponseParser: conn69520061<<<#null# [FLAGS, [\Answered, \Deleted, \Draft, \Flagged, \Seen, $Forwarded, $MDNSent, Forwarded, $Junk, $NotJunk, Junk, JunkRecorded, NonJunk, NotJunk, redirected, $Label1]]
05-01 16:07:23.186  1727  1743 V ImapResponseParser: conn69520061<<<#5# [OK, UID SEARCH completed]
05-01 16:07:23.193  1727  1743 V MessagingController: SYNC: Got 100 messages for folder INBOX
05-01 16:08:08.075  1727  1976 W SQLiteConnectionPool: The connection pool for database '/data/user/0/com.fsck.k9/databases/005b07dd-5782-4d24-920b-581d833c466c.db' has been unable to grant a connection to thread 7707 (AsyncTask #6) with flags 0x1 for 30.022001 seconds.
05-01 16:08:08.075  1727  1976 W SQLiteConnectionPool: Connections: 1 active, 0 idle, 0 available.
05-01 16:08:08.075  1727  1976 W SQLiteConnectionPool: 
05-01 16:09:38.172  1727  1976 W SQLiteConnectionPool: Requests in progress:
05-01 16:08:38.087  1727  1976 W SQLiteConnectionPool:   executeForChangedRowCount started 461ms ago - running, sql=""DELETE FROM messages WHERE id = ?""
05-01 16:08:56.868  1727  1727 W SQLiteConnectionPool: The connection pool for database '/data/user/0/com.fsck.k9/databases/005b07dd-5782-4d24-920b-581d833c466c.db' has been unable to grant a connection to thread 2 (main) with flags 0x5 for 30.000002 seconds.
05-01 16:08:56.868  1727  1727 W SQLiteConnectionPool: Connections: 1 active, 0 idle, 0 available.
05-01 16:08:56.868  1727  1727 W SQLiteConnectionPool: 
05-01 16:08:56.868  1727  1727 W SQLiteConnectionPool: Requests in progress:
05-01 16:08:56.868  1727  1727 W SQLiteConnectionPool:   executeForChangedRowCount started 877ms ago - running, sql=""DELETE FROM messages WHERE id = ?""
05-01 16:09:08.131  1727  1976 W SQLiteConnectionPool: The connection pool for database '/data/user/0/com.fsck.k9/databases/005b07dd-5782-4d24-920b-581d833c466c.db' has been unable to grant a connection to thread 7707 (AsyncTask #6) with flags 0x1 for 90.078 seconds.
05-01 16:09:08.131  1727  1976 W SQLiteConnectionPool: Connections: 1 active, 0 idle, 0 available.
05-01 16:09:08.131  1727  1976 W SQLiteConnectionPool: 
05-01 16:09:08.131  1727  1976 W SQLiteConnectionPool: Requests in progress:
05-01 16:09:08.131  1727  1976 W SQLiteConnectionPool:   executeForChangedRowCount started 3088ms ago - running, sql=""DELETE FROM messages WHERE id = ?""
05-01 16:09:26.873  1727  1727 W SQLiteConnectionPool: The connection pool for database '/data/user/0/com.fsck.k9/databases/005b07dd-5782-4d24-920b-581d833c466c.db' has been unable to grant a connection to thread 2 (main) with flags 0x5 for 60.005 seconds.
05-01 16:09:26.873  1727  1727 W SQLiteConnectionPool: Connections: 1 active, 0 idle, 0 available."
k9mail/k-9,open,Bad accents in subject,"[Label(name=""needs info"")]","### Expected behavior
The accents and special characters should be shown OK

### Actual behavior
It shows a diamond symbol with a ? mark inside. Only in subject with the specified format. That subjects are shown OK in many other mailers, including gmail on android, and thunderbird on desktop.

### Steps to reproduce
Receive an email with the structure of the subject like this:

`Subject: =?ISO-8859-1?Q?Comprobante_/_Notificaci=F3n_-_Retiro_de_Efectivo?=`

I found this documentation:
https://stackoverflow.com/questions/3068966/parsing-mail-subject-with-inline-specified-encoding

### Environment
K-9 Mail version:
5.403

Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Add support for Encoded Word encoding with language information,[],"RFC 2231 added language support to the Encoded Word encoding. Right now we don't care about the language. But we need to explicitly ignore it to use the correct character set for decoding.

Example:
```
From: =?US-ASCII*EN?Q?Keith_Moore?= <moore@cs.utk.edu>
```
"
k9mail/k-9,closed,MIME parameter encoding (RFC 2231),[],"This PR adds code to encode MIME parameters according to RFC 2231.
Supported value encoding types are:
* token: no special characters, no encoding required (RFC 2045)
  `filename=name.ext`
* quoted string: some characters are only allowed inside quotes, some need escaping using a backslash  (RFC 2045)
  `filename=""name containing \""non-token\"" characters.txt""`
* value with non-ASCII characters (RFC 2231)
  `filename*=UTF-8''%C3%9Cbergr%C3%B6%C3%9Fentr%C3%A4ger.dat`
* long values with non-ASCII characters (RFC 2231)
  ```
  filename*0*=UTF-8''%C3%BC%C3%BC%C3%BC%C3%BC%C3%BC%C3%BC%C3%BC%C3%BC%C3%BC;
  filename*1*=%C3%BC%C3%BC%C3%BC%C3%BC%C3%BC%C3%BC%C3%BC%C3%BC%C3%BC%C3%BC;
  filename*2*=%C3%BC%C3%BC%C3%BC.txt;
  ```
  Right now this encoding is also used for long values that consist of only non-ASCII characters. We might want to change this in the future and use the simple continuation mechanism without charset and percent encoding.

Using Encoded Word encoding in MIME parameter values has no special meaning assigned. However, Gmail (web) is using it for attachment names in both the `name` parameter of the `Content-Type` header and the `filename` parameter of the `Content-Disposition` header (from #3324 I assume Outlook is doing the same). Thunderbird is using it with `Content-Type`, but is using the proper RFC 2231 encoding with `Content-Disposition`. I think that's a good compromise and we should do the same.
For now we use the RFC 2231 mechanism in both headers. That's because our Encoded Word encoding is broken. I want to fix that next and then change our code to do what Thunderbird does.

Unlike the specification for Encoded Word RFC 2231 doesn't mention if the characters that make up an encoded codepoint can be split between parameter value continuations. However, we're on the safe side if we assume they can't. Unfortunately, this makes encoding a bit more complicated and is the reason why we now have code for UTF-8 encoding. It will come in handy when fixing our Encoded Word encoding, though."
k9mail/k-9,open,Updated WebView crashes the app when displaying an email,[],"I recently upgraded Android Webview to version 66.0.3359.126
Since then the app crashes immediately after opening an email from the list. Rebooting the phone didn't help. Uninstalling the Android System WebView updates works temporarily. After upgrading the WebView again, K-9 starts to crash. 

### Expected behavior
The email is displayed normally 

### Actual behavior
The app crashes 

### Steps to reproduce
1. Update Android System WebView Version 66.0.3359.126
2. Launch K-9 Mail
3. Try to read an email 

### Environment
K-9 Mail version: 5.403

Android version: 8.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP 
"
k9mail/k-9,closed,same domain contact pic (avatar) ,[],"would it be possible to asociates a contact picture to all emails under the same domain?
Spmething like this.... 

*@ebay.com    
*@facebook.com"
k9mail/k-9,closed,pic contact,[],"Pic contact is not  visible on Android notifications.
On replying messages, the same. 
it would be so good can save account passwords on backups because i have 16 email accounts with different passwords.
thanks a lot for k9, is the best"
k9mail/k-9,closed,"please claim $1,322 bounty for PGP/MIME",[],"Hi,

It looks like PGP/MIME support was added over a year ago, and the long-standing bounty of $1,322 was never claimed.

 * https://www.bountysource.com/issues/815255-pgp-mime

According to the change log, PGP/MIME support was added to K9 Mail in 5.200-RC1

 * https://k9mail.github.io/k-9/changelog_5.2-MAINT_branch.xml

@cketti @obra @Valodim etc, do you know who was responsible for this addition?"
k9mail/k-9,open,Draft emails losing message contents randomly,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,"Adding multiple recipients to To, Cc, Bcc when not in Address Book not obvious or reliable",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

When trying to add multiple recipients to To, Bcc or Cc fields, provided these are in the Address Book, they are usually recognized and offered for selection by K9.
IOW, when one starts to type the name ""bob"". K9 offers ""bob@example.net"" for selection

However, IF one wants to include one or more 3rd parties as recipients but not insert them in one's Address Book (e.g. this is just a ""one-time"" message), it is not immediately obvious how to get K9 to ""detect"" and ""accept"" manually inserted (typed) email addresses.  They appear spelled out but create a ""parsing error"" message (nice job on K9 giving off a helpful error message btw.)

Desirable: detect that an email address has been inserted manually and ""accept"" it without undue delays.

### Actual behavior
Tell us what happens instead

I tried to include one or more 3rd parties as recipients (which were not part of my Address Book), K9 did not ""detect"" and ""accept"" these manually inserted (typed out) email addresses.  They appeared spelled out but created a ""parsing error"".

Trying to separate the email addresses with commas or semicolons did not help (same parsing error message). I had to discard the message, start from scratch and this time, K9 detected an email address had been typed manually and as soon as this detection takes place, one can see that K9 formats it as some type of ""contact label"", with an icon to the left, etc.  I was then able to type yet another recipient (also not included in address book) and then had to change field or do something with cursor so as to ""prompt"" K9 to detect that additional email address and accept it.

It is not immediately obvious what process to follow.in the above case.  And it does not seem to be robust or 100% reliable since I coudl not get K9 to detect the typed out email addresses the fist time; and on second time, with new message, had to fiddle with cursor to get K9 to detect these email addresses.

Note: K9 is a great email client and this is really _minor_.

### Steps to reproduce
1.start new email
2.add a recipient which is in the address book in the To: field (this step may not be necessary).
3.in the Cc: field type in the email address of someone NOT in the address book (nothing happens). Insert <space> then type in an addtional email address (also of someone not included in address book).
4. nothing happens at times (i.e. K9 does not detect there are additional email addresses inserted which are not part of the address book or does not ""parse"" them) so one is left wondering how to make K9 detect these manually typed addresses.

### Environment
K-9 Mail version:
5.403
Android version:
7.1
Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,URL are no clickable links if there is a [TAB] before,[],"If a mail text is looking like this:
\thttps://some.url/
the URL won't be highlighted and clickable.

### Expected behavior
highlight the URL and make it clickable

### Actual behavior
it's displayed as plain text

### Steps to reproduce
get a mail with a text that contains a line looking like this:
[TAB]https://some.url/

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Duplicate recipient issue,[],"If I attempt to send an email with duplicated recipients (as often happens when ""replying all"" to an email from someone who cc'ed him/herself), the email gets sent with no subject and no body, and is accompanied by an error message ""Failed to send some messages, Recipient already specified"".  Also, the email shows up in neither Sent Messages or Drafts -- so no way to recover and try again.   

Expected (desired) behavior:  the duplicate addressee is filtered out and then message sent as normal.

Acceptable (but much less desirable) behavior: the error message appears, the message is not sent, but remains in drafts.

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Deleting messages in Trash doesn't work,[],"### Expected behavior
When deleting a message from the trash, it should be deleted from the server.

### Actual behavior
Deleting a message from the trash makes it only disappear locally in K9 Mail.
When the refresh button is hit afterwards, the messages show up again.
Deleting these refreshed entries finally delete the entries on the server as well.

### Steps to reproduce
1. Register a Yahoo account (might be related to other IMAP providers as well)
2. Use K9 Mail to move a message to the trash.
3. Switch to the trash, delete the message and hit the refresh button,
4. The message shows up again in K9 Mail. since it's still in the trash folder of the server.
5. Delete it for the second time to make it finally disappear both locally and remote.

### Environment
K-9 Mail version: 5.503

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,Attachment changes size,[],"When I was trying to fix #3343 I have found a weird thing. I'm not sure if it is connected with k9mail or IMAP protocol.  When someone sends us an attachment before we click ""download complete message"" it seems to be bigger.

### Expected behavior
It should show the same size before and after ""download complete message"".

### Actual behavior
Size of an attachment is different.

![screenshot_1524383696](https://user-images.githubusercontent.com/4699724/39093713-31e87634-4624-11e8-9c8f-cf3a0d2ea9fd.png)
![screenshot_1524383702](https://user-images.githubusercontent.com/4699724/39093714-34336f3e-4624-11e8-923d-f54e99c8f77c.png)


### Steps to reproduce
1. Get mail with a picture attachment.
2. Check the size of this attachment before clicking ""download complete message"".
3. Click ""download complete message"".
4. Size in step 2 and step 3 are different.

### Environment
K-9 Mail version: 5.7

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,No synchronisation with Apple Mail after first setup,[],"### Expected behavior
Receiving new mail from apple mail or synchronise mail reading status.

### Actual behavior
After the initial setup of the mail account, where all mails are synchronised from the mail server, no synchronisation is possible. Receiving and sending mails, synchronise reading status etc..  

Fault message by mail sending = SocketTimeoutException: failed to connect to smtp...

### Steps to reproduce
1. Auto config (first start) to apple mail (IMAP) 
2.Try to synchronise by drawing the screen down


### Environment
K-9 Mail version: 
5.403

Android version: 
8.0.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

[k9-log.txt](https://github.com/k9mail/k-9/files/1934890/k9-log.txt)"
k9mail/k-9,closed,RFC 2184 parameter value encoding & ignored test for wrapping headers,[],"Refactored MessageBuilder slightly, improved the existing comments to reference the right RFCs. 
Added an ignored test to cover wrapped values.

Thanks to @sksthrs for the partial encoding work.

As @sksthrs said, this covers RFC 2047 encoding of filenames in parameter values (RFC 2184 section 5, but not Parameter Value Continuations (section 3) or Parameter Value Character Set and Language Information (section 4)). 

I've added an ignored test for Parameter Value Continuations"
k9mail/k-9,open,Non-RFC-822 email format causes crash rendering email,"[Label(name=""bug"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Email should download and open body

### Actual behavior
Application CTD

### Steps to reproduce
1. Tap to open suspect email

### Environment
K-9 Mail version: 5.503

Android version: 8.1.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Specifically, this is an obvious phishing email in my gmail spam folder, accessed via imap.  Email that triggers the issue is attached.  Other emails in spam folder open fine.  Interestingly, there doesn't seem to be anything actively broken or malicious that I can see, though it's obvious phishing and none of the security (e.g. SPF) checks out.

[phishing.txt](https://github.com/k9mail/k-9/files/1933168/phishing.txt)

"
k9mail/k-9,closed,Feature Request: Message List Widget Tap Unified Inbox to Open Unified Inbox,"[Label(name=""enhancement"")]","### Expected behavior
My hats off to whomever coded the Message List Widget.  It scrolls messages, the compose new message button.  Great job.

### Actual behavior
One possible improvement would be the ability to tap ""unified inbox"" in the top left and have it launch K9M into the app inbox view.  It appears their actually isn't currently an actioning button coded there such that Android just responds with the widget management placeholder as if one wanted to resize/remove/app info the widget.

I'm not saying that shouldn't exist as the unused portion of the widget taskbar can still serve that function, it would just be useful if ""unified inbox"" on the left could launch into the app instead of users having to launch into unwanted emails to jump into the app from the Message List Widget.

### Environment
K-9 Mail version: 5.403

Android version:  Android 8.1 171019.029 on a Taimen Handset
"
k9mail/k-9,closed,Cache decrypted subjects in message table,[],"With this PR, encrypted subjects are replaced with their plaintext in the `messages` table once the message has been decrypted.

I went for a dedicated `decrypted_subject` column first, but that was three times as much code and made things like message ordering unnecessarily complex. This approach simply replaces the text in the `subject` column, and adds a X_SUBJECT_DECRYPTED flag to avoid replacing it redundantly in the future."
k9mail/k-9,closed,Updated en-rGB (English (United Kingdom)) translation,[],"I have translated your application into `en-rGB` (*English (United Kingdom)*). Here is the xml:
```xml
<!-- File ""k9mail/src/main/res/values/arrays.xml"" -->

<!-- File ""plugins/openpgp-api-lib/openpgp-api/src/main/res/values/strings.xml"" -->

<!-- File ""k9mail/src/main/res/values/constants.xml"" -->

<!-- File ""k9mail/src/main/res/values/strings.xml"" -->
<?xml version='1.0' encoding='UTF-8'?>
<resources xmlns:xliff=""urn:oasis:names:tc:xliff:document:1.2"">
    <!-- === App-specific strings ============================================================= -->

    <!-- This should make it easier for forks to change the branding -->

    <!-- Used in AndroidManifest.xml -->




    <!-- Used in the about dialog -->


    <!-- Welcome message -->


    <!-- Default signature -->


    <!-- General strings that include the app name -->



    <!-- === App Store-specific strings ======================================================= -->




    <!-- === General strings ================================================================== -->









    <!-- Used to confirm acceptance of dialog boxes, warnings, errors, etc. -->






    <!-- Shown in place of the subject when a message has no subject. Showing this in parentheses is customary. -->

















    <!-- NOTE: The following message refers to strings with id account_setup_incoming_save_all_headers_label and account_setup_incoming_title -->













    <string name=""account_setup_check_settings_title""/>







































    <string name=""account_settings_color_label"">Account colour</string>
    <string name=""account_settings_color_summary"">The accent colour of this account used in folder and account list</string>

    <string name=""account_settings_led_color_label"">Notification LED colour</string>
    <string name=""account_settings_led_color_summary"">The colour your device LED should blink for this account</string>





































































































    <string name=""global_settings_colorize_missing_contact_pictures_label"">Colourise contact pictures</string>
    <string name=""global_settings_colorize_missing_contact_pictures_summary"">Colourise missing contact pictures</string>



    
    <!-- === Client certificates specific ================================================================== -->

    <!-- Note: This references message_view_download_remainder -->















</resources>


```

---

*Translation made with [Stringlate](https://github.com/LonamiWebs/Stringlate).*"
k9mail/k-9,closed,Fix UnreadWidgetDataProviderTest,[],"Mockito 2 is stricter when it comes to nullability of arguments.
I also used this opportunity to add mockito-kotlin which makes configuring mocks in Kotlin code much nicer."
k9mail/k-9,closed,Add extra to show autocrypt hint in OpenKeychain key select dialog,[],
k9mail/k-9,closed,Update providers.xml,[],"I intended to update #3335. But that seems to have closed the PR. So here is the rewritten version that keeps the changes to a minimum.
"
k9mail/k-9,closed,Properly label button for search of missing keys,[],"Simple PR that shows the button in the crypto info dialog as ""search key"" rather than ""view key"" if that's the expected dialog it triggers."
k9mail/k-9,closed,Attachment size in more human-readable format,"[Label(name=""enhancement""), Label(name=""good first issue"")]","### Expected behaviour
Size should be written in a format like 2.4MB/4.8MB

### Actual behavior
![screenshot_1523961377](https://user-images.githubusercontent.com/4699724/38870254-93ca7b20-424d-11e8-8f4c-f6ba01515f33.png)


### Steps to reproduce
1. Receive mail with big attachment
2. Click open/save

### Environment
K-9 Mail version: 5.7

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Autocrypt Setup Message sending,[],"This PR adds support for sending an Autocrypt Setup Message. I'm quite fond of the UI flow, although as always the wording might change here and there:

![Sending an Autocrypt Setup Message](https://user-images.githubusercontent.com/27813/38835083-bd24f7bc-41ca-11e8-977e-00a6af958e52.gif)

This is still missing some error handling. There are also a bunch of Kotlin techniques in here that are new for me, beware newbie mistakes :)

I used scene transitions in this layout, instead of ViewAnimators. It clutters up the preview more, but it's also more flexible with its transformations."
k9mail/k-9,closed,Upgrade to Mockito 2,[],
k9mail/k-9,closed,Allow state loss closing dialog - fixes common IllegalStateException,[],"Per https://stackoverflow.com/questions/16842088/how-to-safely-dismiss-dialogfragment-in-onstop

this should fix:

java.lang.IllegalStateException: 
  at android.app.FragmentManagerImpl.checkStateLoss (FragmentManager.java:1323)
  at android.app.FragmentManagerImpl.enqueueAction (FragmentManager.java:1341)
  at android.app.BackStackRecord.commitInternal (BackStackRecord.java:609)
  at android.app.BackStackRecord.commit (BackStackRecord.java:587)
  at android.app.DialogFragment.dismissInternal (DialogFragment.java:292)
  at android.app.DialogFragment.dismiss (DialogFragment.java:258)
  at com.fsck.k9.fragment.MessageViewFragment.removeDialog (MessageViewFragment.java:801)
  at com.fsck.k9.fragment.MessageViewFragment.access$1300 (MessageViewFragment.java:51)
  at com.fsck.k9.fragment.MessageViewFragment$Listener$7.run (MessageViewFragment.java:691)

which is causing a whole tonne of crashes.


"
k9mail/k-9,closed,Whitelist the dir attribute to improve internationalisation,[],"Fixes #3265 


"
k9mail/k-9,open,No notification in secondary account,[],"### Intro
Hello, I use an email account with alias addresses and filters that move the messages in several folders. For this I've created 2 accounts in K-9 for 2 alias, one for the main and its related folder (INBOX) and the secondary for alias and its related folder (alias folder).
(I made this because I want the sent messages in the same folder I receive messages, since K-9 don't permit to choose the sent folder for every alias, I had to create a secondary account to have a different sent folder from the main one).

### Expected behavior
I want notifications for new messagese from the alias folder in the secondary account.

### Actual behavior
In the secondary account (account for alias address) I have not notifications, I set the folder as first class (all options) and notifications from first class folder... but nothing.

I set so:
- Main account: Notification from first class folder
INBOX (first class all options) -> notifications works
Alias Folder (second class all option) - no notifications

- Secondary account:  Notification from first class folder
INBOX (second class all options) -> no notifications
Alias Folder (first class all options) -> no notifications


I hope I explained, I don't understand why I have not notifications in the secondary account.

### Environment
K-9 Mail version: 5.403

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (mail.com)
"
k9mail/k-9,closed,Protecting passwords with a master password in the Thunderbird way,[],"Hi,

Passwords seems to be stored without encryption that is unsecure especially on a mobile device.

I did not find a configuration setting that provides a ""master password"" feature as thunderbird acts to encrypt passwords.

So, the feature request is ""Add master password protected passwords vault"".

Thanks for considering this request and excuse me for my poor english.

### Environment
K-9 Mail version: 5.403

Android version: 
LineageOS 14.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Changing behavior when link gets pressed,[],I want to change the behavior when a link in an email gets pressed in an email. I looked thorugh the source code but could not find out where the current code for it is. Would someone be able to point me to the right place in the source code?
k9mail/k-9,closed,"Update providers.xml Yandex.{by,kz,ua}",[],"


"
k9mail/k-9,closed,New proposal logo for k9mail,[],"Hi Owner 😊
I am a graphic designer, I want to contribute a new logo for you application, before I start, I want to ask your permission first

Thank."
k9mail/k-9,closed,battery drain,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,"mail failed to send with message:  NumberFormatException: For input string: ""Request""","[Label(name=""needs info"")]","For no apparent reason, mail sent from one of three accounts is giving the error message: NumberFormatException: for input string: ""Request""

Should be sending normally. Password and user ID have not changed. These are working fine on other email clients.

Send emails, exception appears. All other accounts functioning well. 

K-9 Mail version: 5.403

Android version: 7.0. Patched March 1, 2018

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Auto-Complete for email addresses,[],"Howdy,

I just love this email client, is my primary app!

I’m only missing one feature, that is the email auto-complete, that is, when I’m writing the email address, if this email was already entered before, or an email was read (opening or not the email), that address should be suggested, just like the android default email client does.

Would this be a future feature?

Thanks in advanced,
"
k9mail/k-9,closed,"Email notification stays visible after clicking ""Delete""",[],"### Expected behavior
New email notifications should either disappear or change so that they are not clickable when ""Delete"" is clicked on the notification. It can probably just disappear since K-9 does not have ""Undo"" functionality similar to Gmail (that I know of) for which the notification should stay visible.

### Actual behavior
After the user confirms the deletion, the notification stays visible. You have to clear it manually. This adds an extra step for no gain. Additionally, clicking on the now useless notification brings you to a defunct email screen:

![screenshot_20180411-143553_k-9 mail](https://user-images.githubusercontent.com/715687/38639218-2c2a5fe6-3d96-11e8-9c62-698953118a78.jpg)

### Steps to reproduce
1. Receive a new email
2. Click ""Delete"" from the notification
3. Confirm the deletion in the prompt
4. Click on the notification

### Environment
K-9 Mail version: 5.403
Android version: 8.0 (Samsung Galaxy S8)
Account type: IMAP"
k9mail/k-9,closed,"Can't connect to IMAP server via SSL/TLS on port 993, no error detail given",[],"This is likely related to or a duplicate of issue #3141 or #893.

### Expected behavior
Connection should be made to my host via SSL/TLS on port 993.

### Actual behavior
An error message ""Setup could not finish / Cannot connect to server. (Unable to connect)"" is shown without further details.

### Steps to reproduce
1. Enter hostname, select SSL/TLS, port 993, enter username and password, and click Done.

### Environment
K-9 Mail version: 5.403

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Ciphers supported by server: 0xc027, 0xc028, 0xc02f, and 0xc030.

Ciphers supported by client: According to SSLLabs client test:

* 0xcc14
* 0xcc13
* 0xcc15
* 0xc014
* 0xc00a
* 0x39
* 0x38
* 0x35
* 0xc012
* 0xc008
* 0x16
* 0x13
* 0xa
* 0xc02f
* 0xc02b
* 0xc013
* 0xc009
* 0xa2
* 0x9e
* 0x33
* 0x32
* 0x9c
* 0x2f
* 0xc011
* 0xc007
* 0x5
* 0x4
* 0xff

[k9-log.txt](https://github.com/k9mail/k-9/files/1899345/k9-log.txt)
![screenshot_2018-04-11-16-20-57](https://user-images.githubusercontent.com/2777268/38624970-abffc810-3da9-11e8-813b-4a9ed95c052a.png)
"
k9mail/k-9,closed,Double entries of folders,[],"Double entries of folders in a IMAP Account.

The double entries are gone if I clear local data on phone. After few hours they are back again.

### Environment
K-9 Mail version: 5.503 (beta)
Android version: 7

![screenshot_20180411-131053](https://user-images.githubusercontent.com/4418572/38614237-ab314ce6-3d8c-11e8-917e-accd7aab0e23.png)
"
k9mail/k-9,closed,K-9 answers not to the original from-address,[],"The issue occurs on a mail which was sent to multiple recipients.
There is no 'Reply-to' tag in the mail header.
'From' and 'To' lines in the original mail are like this (in this order).

```
From: =?UTF-8?Q?Name_contains_an_=c3=bc?=
 <info@somemailbox.somedomain>
To: mailinglist1@mailman.somedomain, mailinglist2@mailman.somedomain,
        mailinglist3@mailman.somedomain
```

The sender name has non-latin characters.


### Expected behavior
The new message should be addressed to the email address in the 'from' field of the original mail header.

### Actual behavior
The new message is addressed to the first email address in the 'to' field of the original mail header.

### Steps to reproduce
1. Find an email matching the criteria above and open it.
2. Tap on 'answer' (not 'answer all')

### Environment
K-9 Mail version: 5.403

Android version: 7.1.1

Account type: IMAP
"
k9mail/k-9,closed,"Synch AND Notification not working on ONE account, but is on the other",[],"### Expected behavior
I've read issue #3167 and tried the battery optimization and other suggestions. I expected that the mail app will synch at the interval set and provide a notification in the menu bar when new mail arrives. 

### Actual behavior
On one of my two accounts it randomly shows synching disabled so I have to swipe down to get it to load. But whether it synchs by itself or I manually download the messages I do not get a notification in the menu bar at the top. This is for the default account. My second account also randomly shows synching disabled, but the notifications DO appear in the menu bar. My default/primary account is more important and essential for my job. I have missed so many emails because I get busy and don't pull out my phone to manually check to see if there are emails. My phone connects to my smart watch so I get the notifications for the second account, but I need the primary account notifications. 

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,K9 stopping and crashing when deleting,[],"For months now I've been reporting that K9 is crashing when I delete emails most of the time on one of my mediacom accounts. It is also starting this on my other mediacom accounts too.  Apparently the developers do not read their feedback reports or else this would have been fixed by now.  Has anyone else been having this happening when deleting emails?

Also, at the top it always says ""Sync Disabled - no network"" even though I do have a great network connection.  If I manually sync it will work some of the time. Other times, I go all day without being able to get new emails even though I keep trying to manually sync.

### Expected behavior
Tell us what should happen - I should be able to delete emails without crashing K9

### Actual behavior
Tell us what happens instead - crashes when I delete an email or multiple emails most of the time, occasionally it will not crash but that is rare.  Emails will not sync every 15 minutes as checked.  Emails will not always sync when I try to do it manually.

### Steps to reproduce
1. deleting emails are crashing the program
2. sync does not work normally as described above
3.

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Limit MIME encode range in Content-Disposition to avoid over-encode,"[Label(name=""needs work"")]","Resolution about Issue #3323 .

This PR handle Content-Disposition as Content-Type (where only filenames are encoded in MIME).

This style (""filename"" in Content-Disposition encoded in MIME) is not fully-RFC-compatible (Formally it should be encoded in RFC2231), but many mail application (like Microsoft Outlook) use this style.

"
k9mail/k-9,closed,Content-Disposition is wholly MIME-encoded when attachment filename has non-ASCII characters,[],"When you receive a mail sent by k9mail with attachments which filename contains non-ASCII characters, you'd have an issue.

### Expected behavior
Received mail has attachments, same filename.

### Actual behavior
Received mail has no attachment.
(Artifact appears below the signature, which is the remain of the attachment)

In fact, Mozilla Thunderbird can handle attachments in this mail.

### Problem
k9mail encodes too much Content-Disposition with MIME when filenames of attachments contain non-ASCII characters.

#### Example

- filename : テスト文書.txt
- size of the file : 19 bytes

#### Expected
Content-Disposition: attachment;
  filename=""=?UTF-8?B?44OG44K544OI5paH5pu4LnR4dA==?="";
  size=19

#### Actual
Content-Disposition: =?UTF-8?B?YXR0YWNobWVudDsNCiBmaWxlbmFtZQ==?= =?UTF-8?B?PSLjg4bjgrnjg4jmlofmm7gudHh0IjsNCiBzaXplPTA=?=

(This is same as Expected when decoded, but ""attachment;"", ""filename="", ""size=19"" should not be encoded)

### Steps to reproduce
1. Send new mail in k9mail with attachment which filename is non-ASCII.
2. Receive it with k9mail.
3. You see no attachment.

### Environment
K-9 Mail version: 5.403 (current Play-store version)
Android version: 6, 7
Account type (IMAP, POP3, WebDAV/Exchange): IMAP, POP3 (WebDAV/Exchange are not tested)
"
k9mail/k-9,closed,added RFC2231 parameter decode function into MimeUtility.unfoldAndDecode,[],"About issues #1466 .

Major mail applications (Thunderbird, Apple mail) uses RFC2231 for encoding filenames in Content-Disposition, but k9mail doesn't handle them.
This is very troublesome for non-English (like Japanese) users because many attachments are broken in filenames.

This PR resolves that issue.
Unit tests are based on real Content-Disposition.

"
k9mail/k-9,closed,"Move ""About"" and ""Change Log"" from Accounts to Settings screen",[],"I'm starting to move functionality out of the `Accounts` Activity so we can get rid of it. The idea is to switch to a navigation drawer that contains an account switcher.

This PR moves the About dialog. It is now a separate Activity. I'm not sure where the ""Change Log"" option should end up. For now it's a separate entry in the main settings list.

![k9mail_settings_with_about_and_changelog](https://user-images.githubusercontent.com/218061/38528908-16d39d90-3c62-11e8-842a-4c35df6b667b.png)
![k9mail_about](https://user-images.githubusercontent.com/218061/38528907-16ba45a2-3c62-11e8-8f61-ab16e5ba5b8b.png)
"
k9mail/k-9,open,Suggestion for improving encryption key text,[],"### Expected behavior
""end-to-end key"" is a very unusual wording for encryption. Unless space is really restricted, this could read ""Configure end-to-end encryption key""

### Actual behavior
String account_settings_crypto_key reads ""Configure end-to-end key"""
k9mail/k-9,closed,Encrypted subject setting,[],What it says on the tin
k9mail/k-9,open,Encrypted credentials,"[Label(name=""enhancement""), Label(name=""help wanted"")]","### Expected behavior
Is it possible to encrypt the account password with RSA keypair to improve the security of the used credentials? The KeyStore is protected by screen lock code, so if somebody removed the lock code, the keypair would get destroyed. 

### Actual behavior
Currently the account details are stored in plain text on the Android filesystem which might be vulnerable when the device is lost or compromised.

### Environment
K-9 Mail version: Any
Android version: 4.3+
Account type (IMAP, POP3, WebDAV/Exchange): Any, preferably IMAP
"
k9mail/k-9,closed,Unread widget refactoring,[],There shouldn't be any significant behavior changes.
k9mail/k-9,closed,cannot connect to IMAP outgoing server (incoming works),[],"### Expected behavior
""Cannot connect to server. (Unable to connect)"" error should be more specific, probably related to #3141

### Actual behavior
connecting to imap server after updating ssl certificate not working (k9 only, no issues with thunderbird) and error does not provide any information on why. Oddly enough same settings for outgoing server work fine.

### Steps to reproduce
1. change ssl certificate + smtp url on site
2. update details on k9

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP with SSL on port 993 for incoming
"
k9mail/k-9,closed,"Allow ""background"" attribute for tags <tr>, <th>, and <td>",[],"Fixes #3138 

"
k9mail/k-9,closed,Can´t see nested IMAP folders,[],"Context: created IMAP account, security: STARTTLS, normal password, auto-detect IMAP namespace.
The IMAP server is a Mercury Mail Server v4.8, it has a self-signed certificate.
On this server, folders which have subfolders may not have emails in them (only one or more subfolder). Folders that have emails in them may not have subfolders.

### Expected behavior
see IMAP folders including nested subfolders.
""Show folders"" is of course set to ""All folders"".
Bluemail shows all folders with the same account settings (see snapshot below)

### Actual behavior
I see only Drafts, Sent, Spam, Trash, Inbox and Outbox. See snapshot:

![screenshot_2018-04-08-13-13-10](https://user-images.githubusercontent.com/483772/38467226-69c551c0-3b35-11e8-8715-3b3d7570379f.png)
In Bluemail the hierarchical folders appear:
![screenshot_2018-04-09-07-42-50](https://user-images.githubusercontent.com/483772/38481214-e9df5e66-3bc9-11e8-9934-8065f9e11847.png)


This account has 50-100 folders nested up to 4 levels of hierarchy.
Interestingly, another IMAP account on the same server has only 2 levels of hierarchy, K-9 displays the folders of this other IMAP account correctly (i.e. I see all folders and subfolders)


![screenshot_2018-04-08-13-59-19](https://user-images.githubusercontent.com/483772/38467219-54265652-3b35-11e8-8427-f8b5c4c108e3.png)




### Steps to reproduce
1. create IMAP account
2. create 4 levels of nested subfolders with Thunderbird
3. Display folders with K-9

### Environment
K-9 Mail version: 5.403

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,"Replying to an email that was encrypted (openkeychain) to does not quote body/content, only the header",[],"### Expected behavior
Body/content should be quoted under the quoted header of the email that we are responding to.

### Actual behavior
The header is quoted, but the content is not used at all.  It is just the end of the email (except for signatures).

### Steps to reproduce
1. Install K-9 Mail and setup your account in it (I used gmail)
2. Install Open Keychain and setup a personal identity/key in Open Keychain and associate it with your account
3. Send an email to yourself, encrypted (and put something in the body/content).
4. When you get it, reply to it, and notice the quoted email below your cursor.  That is where the quoted content from the previous email should be, but is not.

Note that if the email received was not encrypted, replying works as expected.

### Environment
K-9 Mail version: 
5.403 (from f-droid)

Android version: 
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP gmail
"
k9mail/k-9,open,Mail answer can be deleted after K9 has been suspended,[],"This one is really annoying : 

1. Reply to a message : redaction activity starts, allowing you to write an answer.
2. Type « Back » button : an alert warns you that you're about to loose your answer.
3. Cancel the alert : you can continue editing your answer.
4. Wait for your device to lock your screen : the activity is probably suspended.
5. Unlock your device : the K9 activity is back alive, you can continue editing your answer.
6. Press the back button : you go back to the list of messages and **you've lost your answer with no alert at all**.

Expected behaviour : Step 6 should launch an alert, as step 2 did.

K-9 Mail version: 5.403
Android version: 6.0
Account type : IMAP
"
k9mail/k-9,closed,server passwords are not exported,[],"ref https://github.com/k9mail/k-9/issues/3306

Export successful
Reimport from that same file

oh noes

k9 prompts for imap server password



How do i export passwords?

"
k9mail/k-9,open,Recipient name doesn't show up automatically while sending ,[],"When I'm typing an email address in the ""To"" section, the name of the recipient to whom I previously sent any email should come up automatically. It comes up in other email apps. 

So, is there any way to enable that from the settings? Or it's not available in K-9 Mail yet!!! "
k9mail/k-9,closed,Encrypted subjects using protected-headers=v1,[],"This PR adds support for the protected-headers=v1 parameter in pgp/mime encrypted messages. The subject is extracted in MessageViewInfoExtractor, displayed in message view, on replies/forwards/etc. It is also generated in outgoing messages, replacing the original subject with ""Encrypted Message"".

For some reason, the encrypted subject as sent right now don't work in Enigmail. I sent a message to Patrick Brunschwig, he said he'll take a look next week. I believe what I do should work, my guess is that Enigmail's behavior is just slightly brittle."
k9mail/k-9,open,"Crash when saving ""noname"" file from email",[],"I subscribe to a lot of mailing lists, and K-9 doesn't seem to like them.

I've been able to reproduce a crash by opening what should be an ordinary email, and instead of seeing the text, there is a ""noname"" attachment. Trying to open it with an application, as far as I can tell, sends no data to the application in question. Attempting to save the file causes K-9 to crash. I've included a GIF to show this (the email I'm opening is [here](https://lists.debian.org/debian-mate/2018/04/msg00018.html)), and I've also included some output I got from my first time using `adb`.

![crash](https://user-images.githubusercontent.com/8465972/38395758-8b857d7e-3902-11e8-8809-8ba0ce61f1e3.gif)

```
04-05 18:27:54.853 16062 17459 E AndroidRuntime: FATAL EXCEPTION: AsyncTask #5
04-05 18:27:54.853 16062 17459 E AndroidRuntime: Process: com.fsck.k9, PID: 16062
04-05 18:27:54.853 16062 17459 E AndroidRuntime: java.lang.RuntimeException: An error occurred while executing doInBackground$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at android.os.AsyncTask$3.done(AsyncTask.java:318)
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:3$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at java.util.concurrent.FutureTask.setException(FutureTask.java:223)
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at java.util.concurrent.FutureTask.run(FutureTask.java:242)
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecut$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecu$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at java.lang.Thread.run(Thread.java:761)
04-05 18:27:54.853 16062 17459 E AndroidRuntime: Caused by: java.lang.IllegalArgumentException: mimeType can't be null
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at android.app.DownloadManager.validateArgumentIsNonEmpty(DownloadMan$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at android.app.DownloadManager.addCompletedDownload(DownloadManager.j$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at android.app.DownloadManager.addCompletedDownload(DownloadManager.j$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at com.fsck.k9.ui.messageview.AttachmentController.addSavedAttachment$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at com.fsck.k9.ui.messageview.AttachmentController.saveAttachmentWith$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at com.fsck.k9.ui.messageview.AttachmentController.access$900(Attachm$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at com.fsck.k9.ui.messageview.AttachmentController$SaveAttachmentAsyn$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at com.fsck.k9.ui.messageview.AttachmentController$SaveAttachmentAsyn$
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at android.os.AsyncTask$2.call(AsyncTask.java:304)
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        at java.util.concurrent.FutureTask.run(FutureTask.java:237)
04-05 18:27:54.853 16062 17459 E AndroidRuntime:        ... 3 more

```

I've been having this issue for a while now, probably with several different versions, but right now, I'm on K-9 Mail 5.503 and Android 7.0.

And by the way, even though this is on a mailing list, I have OpenPGP encryption enabled with my email provider (they'll use my public key to encrypt emails that aren't encrypted already), so it is encrypted with PGP/MIME. I don't think that has anything to do with it, but that's just a disclaimer. The email decrypts and displays fine in Thunderbird + Enigmail."
k9mail/k-9,closed,Replying to email replies to all,[],xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
k9mail/k-9,open,exporting settings always fails: global or individual account,"[Label(name=""needs info"")]","
### Expected behavior
export success

### Actual behavior

failure message. additionally the xml file is not fully written: truncated

### Steps to reproduce
1. load k9
2. burger
3. export
4. fi set path
5. save
6. error
7. optional: file explorer to open xml

or

1. long click imap account
2. export only that one
.. same results

### Environment
K-9 Mail version: 5.403

Android version: 444

Account type (IMAP, POP3, WebDAV/Exchange):

all IMAP,  about a dozen accounts


Because i am missing a reply button i had planned to export accounys,  clear data, uninstall, remive leftover files, reboot, reinsrall

but cannot export

Problematically I can't rememver the password for one account so I'm stuck"
k9mail/k-9,closed,reply button missing: ⚠,"[Label(name=""needs info"")]","
### Expected behavior
open any message click reply

### Actual behavior
reply button replaced with non functional warning triangle



### Steps to reproduce


### Environment
K-9 Mail version: 5.403 

Android version: 444

Account type (IMAP, POP3, WebDAV/Exchange):

all IMAP

"
k9mail/k-9,open,Save encrypted copies of sent e-mail,[],"### Expected behavior
For cases when one does not really trust the server (at least, in the long term) for e-mail storage or when one would like protection against database breaches, it is useful to have all e-mails stored on the server encrypted. At present, saving encrypted Drafts should be possible according to #2107. Maybe it is not that difficult to offer the same for Sent e-mails having that already implemented.

### Actual behavior
Emails sent non-encrypted are saved non-encrypted to the Sent folder.

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"""Disable notifications"" during Quiet Time isn't working","[Label(name=""bug"")]","### Expected behavior
if a quiet time is set and it is also checked that notifications during quiet times are to be completely disabled, no notifications should show up when new mails arrive

### Actual behavior
with described setting: when new mails arrive no sound is played (as should be), but the notification is still shown

### Steps to reproduce
1. send mail
2. see notification

### Environment
K-9 Mail version: 5.403

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Encrypt drafts to self,[],"This was actually easier than it had any right to be. The loading logic was already there, requiring only very few changes to actually encrypt drafts. I think it's a bit problematic that this introduces potentially difficult error scenarios, but then again if the user's pgp setup isn't in order they probably don't want drafts saved in plaintext instead. Right now it's always possible to just disable encryption and save the draft in plaintext, we'll see how that goes.

I still need to test to ensure compatibility with at least enigmail. 

Encryption of subject will be added when protected-headers is implemented, a setting to encrypt all drafts (or don't encrypt but also don't upload?) might be in a follow-up PR."
k9mail/k-9,closed,Fix empty move or copy,[],"Fixes #3300. This was causing a lot of IllegalArgumentExceptions, effectively disabling draft sync for a long time (months?) on my debug version."
k9mail/k-9,closed,crash on call of expungeUids() with empty set of uids,[],"```
java.lang.IllegalArgumentException: expungeUids() must be called with a non-empty set of UIDs
    at com.fsck.k9.mail.store.imap.ImapFolder.expungeUids(ImapFolder.java:1265)
    at com.fsck.k9.controller.MessagingController.processPendingMoveOrCopy(MessagingController.java:1873)
    at com.fsck.k9.controller.MessagingControllerCommands$PendingMoveOrCopy.execute(MessagingControllerCommands.java:64)
    at com.fsck.k9.controller.MessagingController.processPendingCommandsSynchronous(MessagingController.java:1626)
    at com.fsck.k9.controller.MessagingController$13.run(MessagingController.java:1579)
    at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:203)
    at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
    at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:172)
    at java.lang.Thread.run(Thread.java:764)
```"
k9mail/k-9,closed,More correct Autocrypt encrypted replies,[],This changes the logic on replying to encrypted messages. It no longer abuses the CHOICE_ENABLED state for stuff that wasn't an actual choice.
k9mail/k-9,closed,Feature request: Mark email as read before deleting it,[],"It would be usefull if a setting could exist which causes that a to delete email is marked as read before deleting it via the notification on the lock screen or home screen or via the context menu, so that this email does not appear as unread with in other email clients which accessing the same IMAP account."
k9mail/k-9,closed,Account e2e improved,[],"This PR has some more work on e2e settings. Notably:

* The OpenPgpKeyPreference now uses an OpenPgpApiManager under the hood (PR based on #3290)
* If available, the key preference displays the name and creation date of the selected key
* Fixes some bugs related to android state saving
* The key setting is no longer remembered when e2e is disabled

See also https://github.com/open-keychain/open-keychain/pull/2301. Between that PR and the related ones here, I feel like the e2e setup flow is slowly becoming acceptable. I made sure this is both forward- and backward-compatible, and tested combiations of old and new branches of K-9 and OpenKeychain for this."
k9mail/k-9,closed,Support Server Name Indication (SNI),[],"### Expected behavior
K-9 should use Server Name Indication to send the name of the server it is connecting to, so the server knows to send the correct certificate. So when I connect to mail.kingqueen.org.uk, K-9 tells the server it is connecting to mail.kingqueen.org.uk and the server then sends K-9 the SSL certificate for mail.kingqueen.org.uk. (The server serves as the MX for multiple domains, all on the same IP.)

### Actual behavior
K-9 appears to not supply the server name. The server therefore reverts to its default certificate and supplies the certificate for server3.pcs-net.com. K-9 then advises that the certificate does not match the server name, unless I change the server set in K-9 from mail.kingqueen.org.uk to server3.pcs-net.com or manually accept the certificate in K-9.

### Steps to reproduce
Attempt to send or retrieve mail over TLS using a FQDN hosted on a server that uses SNI to support multiple domain names.

Given depletion of IPv4 addresses, this issue is likely to affect more users over time.

I see references to SNI in the source code in two places, but they don't appear to relate to K-9's use of such for mail transfer and I couldn't find any reference to SNI in Github issues.

### Environment
K-9 Mail version 5.403

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
POP3 and SMTP over TLS to a server using SNI"
k9mail/k-9,closed,Added icons to preference list items,"[Label(name=""needs rebase"")]","I added icons to the items in the setings list. I'm not 100% satisfied with the network icon but since it has only one sync setting I thought it would be fitting.

![grafik](https://user-images.githubusercontent.com/9558391/38146343-e1f7bdd4-344d-11e8-92a4-bad4614b05c4.png)
"
k9mail/k-9,closed,SSL certificate,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,"Error message shows password (plain text, readable)","[Label(name=""bug"")]","I tried to connect to an existing mailbox with wrong credentials (old password) stored in K-9.
As a result, K-9 says ""Username or Password wrong. (Command: LOGIN ""user.name@mailbox.tld"" ""password-in-plain-text""; response: #2# [NO, [AUTHENTICATIONFAILED], Authentication failed.])""

### Expected behavior
Error message should not show the (readable) plain text password.

### Actual behavior
Error message does show the (readable) plain text password.

### Steps to reproduce
1. In K-9, set up an account using correct credentials
2. Change the password for the mailbox.
3. In K-9, try to connect to the mailbox again.

### Environment
K-9 Mail version:
5.403

Android version:
5.0.2
Kernel 3.4.0+

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Don't crash when restoring AccountSettings state,[],"This fixes two bugs in OpenPgpKeyPreference related to saving/restoring state.

Fixes #3289 "
k9mail/k-9,closed,Add \Draft flag to draft messages,[],"As stated in title, there was a problem with setting ""Draft"" flag. If there is something wrong with this pull request please comment, it is my first contribution to this project.

See issue #3199"
k9mail/k-9,closed,Introduce lifecycle-based OpenpgpApiManager for service connection,[],"This offloads the openpgp service connection code into a specialized class (-200 lines recipientpresenter, yay). This class behaves fairly passively, returning simple callbacks and leaving all handling of error states to the caller.

I plan to use this in other places as well, including the e2e settings dialog. At the moment there are a couple of states that show pending intents for openpgp setup stuff, but I want to change those to go to the e2e settings in a follow-up PR."
k9mail/k-9,closed,selecting key from openkeychain fails,"[Label(name=""bug"")]","k-9 does not accept the cryptographic key from openkeychain.

The key has been created newly by openkeychain using plain defaults from the
wizzard, except for uploading to the internet being off (as these are tests
yet only).

Steps in detail:

In k-9, after selecting the key from the list, the app takes a short breath
for about 1 sec. and then simply behaves as if it was newly started. Looks
like a quick app restart after a crash or so (but there is no crash message).
When entering the menu Cryptography / My key, there is still ""no key
selected"".

Tried with K-9/OpenKeyChain 5.502/4.9.2 as well as 5.403/4.9.

Android version: 7.1.2 / LineageOS. Security options were off for both
for both apps.

"
k9mail/k-9,closed,Fix option #2 for Issue #3255,[]," This is the second solution.

On reflection, it's clearly the better, and I hope you'll be able to use it.
"
k9mail/k-9,closed,"Want only LED notifications, but get also sound and vibration",[],"
![screenshot_20180327-103301](https://user-images.githubusercontent.com/1378907/37956593-10d53f18-31ac-11e8-8438-8f2059c18af6.png)
Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
I configured K-9 so it should only notify me via LED. I don't want sound or vibration. (see my screenshot).

### Actual behavior
I get all of this notofications. LED and sound and vibration.

### Steps to reproduce
1. Configure like in my screenshot.
2. Receive an email.

### Environment
K-9 Mail version: 5.403

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (Posteo.de)

Phone: OnePlus One with LineageOS
"
k9mail/k-9,closed,Can't print to bizhub printers,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
If I load a printer driver (like KonicaMinolta Mobile Print), I would expect to be able to print an email using Share | Print.

### Actual behavior
KonicaMinolta Mobile Print says it can't

### Steps to reproduce
1. Load/configure K-9 Mail
2. Load/configure KonicaMinolta Mobile Print
3. Try printing an email using ""Share | Print""

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): POP3 to Telus.net
"
k9mail/k-9,closed,No support for nested folders,[],"Android app can't access mailboxes within mailboxes yet...

Seems like it may require an intension to work that way by the developers!!

Have a nice one, otherwise great app, I use it daily 

Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Ms eas,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,Add KOIN for dependency injection,[],"I've played around a bit with the dependency injection library KOIN and quite like it. 

* It has a concise DSL for configuration. 
* It has good Android support.
* Replacing dependencies in tests is easy enough (you have to take my word for it; no sample included in this PR). 
* By default it doesn't work too well with Java. But changing that doesn't require much code. See `DI.get()`.

To get a rough idea on what it looks like to use KOIN check out the first commit. The second commit only fixes tests.

More information on the library: https://insert-koin.io/

@philipwhiuk, @Valodim: Please let me know what you think of this. "
k9mail/k-9,open,Inconsistent sync on Pixel 2XL,[],"Android 8.1
K-9 v5.403

I have three POP accounts setup, with Always Sync on every 60 minutes.  It worked fine on my Motorola Turbo, but not on my Pixel 2 XL.
It will show either Sync Disabled randomly throughout the day, or say Next Sync 45 min. ago, or a random time in the past.  Sometimes if I pick up the phone and unlock the screen, it'll start to sync.  Or it won't sync until I open K-9Mail.  During the day the phone is on cellular only, and at night it's on WiFi only.
I have to manually force downloading mail 90% of the time.
The new mail notification doesn't always clear, same as it didnt on the Motorola.  "
k9mail/k-9,open,Deleted Mail gets lost on its Way into the Trash Folder,[],"### Expected behavior
A deleted mail should disappear from the inbox and appear in the trash folder.

### Actual behavior
In step 5. below, the deleted mail disappears from the trash folder listing again. it is now neither visible in the inbox nor in the trash.

checking with a separate mail client reveals that the mail actually is not in the trash folder but still in the inbox (and can still be opened from there). K9 does not show the mail in the inbox either, even upon resynch.

### Steps to reproduce
1. mark a mail in my inbox
2. select the trash icon
3. the mail disappears from inbox
4. go to the trash folder and see the mail there
5. select synch for the trash folder

### Environment
K-9 Mail version: 5.403
Android version: 8.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (gmx.com)
"
k9mail/k-9,closed,Unable to connect to IMAP via SSL/TLS,[],"### Expected behavior
During incoming mail settings validation k9mail connects to IMAP server via SSL/TLS, requests user to accept unmatching certificate, and accepts incoming mail settings.

### Actual behavior
Validation of incoming mail settings fails with ""unable to connect"", unclear what the problem is, no possibility to accept unmatching certificate.

### Steps to reproduce
1. Add new account
2. Configure incoming mail with SSL/TLS
3. Hit <kbd>Next</kbd>

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP


### Note
The same procedure DOES work using ""no encryption"".
The same procedure DOES work for outgoing mail using SMTP: when validating settings, confirmation dialog popped up, I accepted the certificate, and the validation succeeded.
I also imported the server's certificate into Android's personal certificate storage, did not help either.
The problem happened after the certificate was renewed on the server.
The certificate (*.domain.com) does not exactly match to the server name (mail.domain.com) in k9mail."
k9mail/k-9,closed,Fix option #1 for Issue #3255,[],"This pull is one of two approaches I considered. It's simple, to-the-point, and demonstrative of the issue.

The other method is to dup enough code from onManualSetup() into validateFields() to ensure we can create a valid RemoteStore.createStoreUri(storeServer) result.

This would trigger each time from the TextWatcher during keyboard entry, and felt non-performant, but perhaps in this case it's acceptable to you.

Let me know? I can post the alternative pull."
k9mail/k-9,closed,Fix issue3255,[],"Yah, crashing is bad, m'kay?

This pull is one of two approaches I considered. It's simple, to-the-point, and demonstrative of the issue.

The other method is to dup enough code from onManualSetup() into validateFields() to ensure we can create a valid RemoteStore.createStoreUri(storeServer) result.

This would trigger each time from the TextWatcher during keyboard entry, and felt non-performant, but perhaps in this case it's acceptable to you.

Let me know? I can post the alternative pull."
k9mail/k-9,closed,Remove Robolectric from tests where we don't need it,[],"

"
k9mail/k-9,closed,Revamp e2e settings,[],"This PRchanges e2e settings around quite a bit. I'm not sure if it's perfect, but at least it's no longer a disaster.

Notably, the crypto provider preference moved from global settings to account settings, so there are no longer two places for ""Cryptography"" settings. I added a migration for that, not sure if the SettingsUpdater would be a better place for this migration since so far only migrated settings within the same area were handled there?

The provider setting is now a switch (""Enable OpenPGP support""), which will simply pick the one installed provider if installed or instruct the user to install one, and only show a selection dialog if more than one choice is available.

It's missing some improvements to OpenKeychain for a more seamless setup, but it's getting there. This is also now a good place to put the Autocrypt Setup Message."
k9mail/k-9,closed,K-9 doesn't quote when replying,"[Label(name=""needs info"")]","**### Expected behavior**
K-9 doesn't quote messages when replying even though Quote message when replying is on.

**### Actual behavior**
Tell us what happens instead

**### Steps to reproduce**
Try to reply to any message sent from another K-9 user.

**### Environment**
K-9 Mail version: 5.403
Device: Xiaomi Mi 6
Android version: 7.1.1 NMF26X
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Fix crash with pendingintents in messageview,[],Only the lower 16 bits can be used for the request code from fragments. This changes our own mask to use the 15th bit instead of the 16th.
k9mail/k-9,open,KINDLY won't run,"[Label(name=""needs info"")]","### Expected behavior
New install of k9 won't run. Crashes when try to open. 

Clue: previous install may have used SD card for storage. Now there's no SD card. 

But I uninstalled and reinstalled k9. Maybe old Config....
### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,JMAP protocol support,"[Label(name=""enhancement"")]","I'd like to create this issue for tracking of JMAP protocol support [1] progress/interest. I guess at some point JMAP protocol will be implemented by K9 Mail.

This time, JMAP is already implemented in few Mail servers, so wide adoption will probably follow soon.

[1] http://jmap.io/"
k9mail/k-9,closed,Unable to save contacts from inbox mails,[],"When I receive an email I'd like to save some of the addresses (that had received in CC the mail) by tapping on them.

When I do a long tap on this list of addresses it shows a pop up ""addresses copied""
I can't select just one and if I paste on a new mail what it is copied and I erase the addresses that I don't need, mail is sent only to the 1st address

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Sort and Compose functions aren't accessible in portrait mode,[],"### Expected behavior
Sort and Compose functions are accessible in both orientation modes.

### Actual behavior
I can see these buttons only in landscape mode. While it has 9 functions accessible in landscape mode, it has only 7 in portrait mode, missing the mentioned ones.

### Steps to reproduce
You'll probably need to run it on a phone with specific screen size (4.5"")
1. Go to Inbox folder.
2. Press on-screen or system menu button in portrait mode. You'll see 7 items in sum with Sort and Compose missing.
3. Repeat previous step for landscape mode. You'll see 9 items in sum.

### Environment
K-9 Mail version: I was trying a lot of versions, from the latest (5.403) to  4.*. All of them have this bug.

Android version: 5.1"
k9mail/k-9,closed,Did you see your profile on Liberapay?,[],5 users already pledged to donate you some money on Liberapay: https://liberapay.com/on/github/k9mail
k9mail/k-9,closed,"Translation source: missed variables for ""one"" plurals",[],"Hi, variables missed in two source strings with keys ""dialog_confirm_spam_message"" and ""settings_import_accounts"".

It's good for English, but Russian need to use <item quantity=""one""> for 21 or 61 count. Other languages also may have the problems here.

Please simply add required variables to ""one"" variant in source strings. Transifex have strong syntax control, so translators can't override this.

P. S.: @cketti please give [me](https://www.transifex.com/user/profile/bboa/) reviewer rights on Transifex, for Russian. I know that you are very busy, so unable to receive your answers for my questions via Transifex messages or IRC."
k9mail/k-9,open,simultaneously fetch and send,"[Label(name=""architecture""), Label(name=""enhancement"")]","

### Expected behavior
While emailing recordings of a class lecture to students for safekeeping I should be able to fetch email from at least one of my accounts, yes?

### Actual behavior
Even at 4g speeds of 39 megabits/s upload a 25meg audio file upload seems like a hellbound wait which would be better spent fetching 

is there a hidden setting?

also why can i not check multiple IMAP accounts simultaneously? 

what is the best movie of all time in the prior decade?

### Steps to reproduce
1.  compose email to the most politically correct student with attachment
2. click send
3. sending happens, as i can see the activity meter
4. i click the fetch UX button
5. no fetching happens
6.  payload smtp connection closes 
7. freed to fetch email sequentially from other IMAPS providers


### Environment
K-9 Mail version: fdroid 5403 build 23630

Android version: 5

Account type (IMAP, POP3, WebDAV/Exchange): secure IMAP

first 3 accounts live on a paid managed VPS next to my moralphobia activism website

the rest are free or subscription, and my campus gmail account
"
k9mail/k-9,open,crash: reply to encrypted mail,"[Label(name=""bug"")]","
### Expected behavior
open new mail screen.

### Actual behavior
K9 displays new mail screen and crashes.

03-16 12:15:32.187 E/AndroidRuntime(31412): java.lang.NullPointerException: Attempt to invoke interface method 'com.fsck.k9.mail.Body com.fsck.k9.mail.Part.getBody()' on a null object reference

This seems related to I have no encryption add-on installed.

### Steps to reproduce
1. open encrypted mail (info: install add-on to view decrypted content)
2. press reply button
3. crash

### Environment
K-9 Mail version: 5.403

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,`dir` attribute not respected?,"[Label(name=""bug"")]","This is reported from someone testing our emails, so I apologize for the screenshots. 

### Expected behavior
Render order changes based on the `dir` attribute of the parent element.

### Actual behavior
Render order doesn't change.

### Steps to reproduce
1. Wrap nested content with different `dir` values:

```
<table>
  <tbody>
    <tr>
      <td dir=""ltr"">
        <div class=""column"">
          <!-- nested table -->
        </div>
        <div class=""column"">
          <!-- nested table -->
        </div>
     </td>
    </tr>
  </tbody>
</table>
```
should appear reversed:
```
<table>
  <tbody>
    <tr>
      <td dir=""rtl"">
        <div class=""column"">
          <!-- nested table -->
        </div>
        <div class=""column"">
          <!-- nested table -->
        </div>
     </td>
    </tr>
  </tbody>
</table>
```

Rendered correctly in most* clients:
![image](https://user-images.githubusercontent.com/9328541/37492222-d1bceaf8-285d-11e8-88d9-5951ccaa60ea.png)


Rendered in k9:
![image](https://user-images.githubusercontent.com/9328541/37492234-da98485c-285d-11e8-9b9c-c1dcdbd269f7.png)

After seeing #2506 I assume this is based on an automatic interpretation of the `dir` attribute?

*Most clients = ~80 combinations on EmailOnAcid

I honestly don't know enough about this project to know whether this is inside/outside of the scope of your goals.


"
k9mail/k-9,open,Notification doesn't go away when the message is read on another client,[],"### Expected behavior
When a new mail arrives in my inbox, K9 shows a notification for that and my LED starts blinking. When that mail (or all mails) in the notified account have been marked as read from other clients (like my PC), then the notification should disappear on its own again and LED blinking should stop.

### Actual behavior
This works sometimes. Sometimes not.

### Steps to reproduce
1. Receive an e-mail while the phone is off
2. Mark that e-mail as read from another computer

### Environment
K-9 Mail version: 5.403, but it affects all past versions, too (it never worked reliably)

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP with IDLE (Dovecot server)
"
k9mail/k-9,open,Show next (unread) message after delete doesn't work,[],"### Expected behavior
Show next (unread) message.
After deleting the actual shown message, K9 should go to either next unread message or next message in list.

### Actual behavior
K9 shows next read message.
Instead of the expected behaviour, K9 shows the first read message in list and ignores all unread messages which are on higher positions.

### Steps to reproduce
1. check setting ""global settings - interaction - Show next message after delete""
2. uncheck setting ""global settings - interaction - return to list after delete""
3. get some new unread messages in your inbox and also some read ones
4. go to unified inbox
5. read the first one and delete it
6. K9 will show the first read message instead of next in list (or next unread)

### Environment
K-9 Mail version: 5.403

Android version: 7.1.1

Phone: Xiaomi Mi 6

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Missing emails inside folder,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
All emails inside a folder shall be visible inside the same folder in K9.

### Actual behavior
Updating folder does not download all (new) emails. It silently skipped two emails, but later emails from the same thread were included. When checking the same account on PC, emails are visible.

The behaviour is permanent(ie. ""hidden"" emails don't appear even when polled again and again). I have not tried resetting folder cache yet. Please let me know if I can provide any more info.

### Steps to reproduce
1. Pull down inside a folder to poll server
2. New emails arrive
3. Verify emails list with emails on another device

### Environment
K-9 Mail version: 5.208

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Feature request: Poll for all - ignoring all folder settings,[],"Hi awesome K9 Team!

""Playing"" around with several options K9 offers I'm missing one feature which would make my life much easier. Hopefully not only mine :-)

I'm using a cheap smartphone (Lenovo C2) with Android 6.0 and, not that much, 1 GB RAM. 

Currently I'm using K9 to deal with 8 email accounts, all type IMAP, all PUSH. And some of them used for years, means that below ""Archive"" are several subfolders like e.g. ""2010"" and ""2010.sent"" etc. Altogether some GB of emails serverside, est. 15.000 emails. K9 set to retrieve max 32KB at first. 

All of these email accounts are used with K9, more and more mostly. But also via Thunderbird on Linux, Roundcube Webmail wherever and e.g. an old iPad.

Because my  Lenovo C2 also offers only 8GB of flash memory, I'm using Android 6+ ""Adoptable Storage"", means an sdcard encrypted and mounted as ""internal storage"", fully accessible for apps which have set ""android:installLocation"", which K9 kindly does. Not that fast, but working fine :-)

Because of this not that big RAM size, I'm frequently affected from getting K9 ""wiped"" out of active apps, or however Android devs might call this. Visible to me as user is that once K9 got ""wiped out"" from memory, K9 shows ""Syncing disabled"" shortly when reactivated. 

FYI I've read FAQ 'Why is K-9 telling me, “Syncing disabled”?' and issue #857 (Figure out how to deal with Doze (Android 6+) ), that's why I've set K9 to ""Sync - Always"" and excluded K9 from ""battery optimization"". 

If K9 setting ""Poll when connecting for push"" is set, K9 does what it should, but polls EVERY TIME K9 gets reactivated from a ""wipe-out"". NOT setting ""Poll when connecting for push"" means folders not in sync.

As (of course) most changed apply to INBOX and JUNK folders, I've reduced PUSHing to always only these two (1st class - push only 1st class). 

To avoid ages-long and traffic-wasting frequent polling of my many, but mostly unchanged IMAP folders, I've disabled ""Poll when connecting for push"", set ""Folder poll freq"" to ""never"" and use only a manually started poll on demand, when needed, e.g. after returning from an ""airplane mode"".  Poll folders are the same than PUSH, INBOX and JUNK.

But to get ALL folders synced, it would be cool to have an option to POLL EVERYTHING, ignoring folder classes, so without the need to change folder (poll) classes and poll options for many accounts and their folders. 

I've checked that I can manually trigger a poll for each folder by pushing the list section downwards even for 2nd class etc folders, so the ""ignore"" functionality seems to be there. 




"
k9mail/k-9,closed,feature request: print a mail,[],"Since some time now android supports printing and with some fiddeling around with ipp ou can even print on not officially supported printers using a cups server on some computer im the netzwerk.

But one of the most important features, quick printing out a mail, still requires to open a mail programm on desktop. So it would be very nice if you could use th android WebKit/ pdf /whatever nterface to send some mails to the printer directly without loading the k9mail apk withcany big libs (not more ten 720 k filesize increase i would think or build an addon to print mails if it needs tons of binarys to convert mails to print format.

Or maybe just make some fake views in the background with reasonable high dpi, set some text fiels in the op and bottom (top subject, date, bottom page number, total number of page) and put some big webview in the middlecof it,bigger then size, againcandcagaim while scrolling and counting line numbers, do a screenshot and send that to the printer. If thats eseyer, would be ugly to render a bitmap on device but if android doesn't gives you library on default its imho better then a much bigger apk


Thanks"
k9mail/k-9,closed,old icon setting,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

I just updated your app from fdroid, i cant see anything has changed, exept the icon which looks nw quite ugly in my eyes...
### Expected behavior
Good old look and feel and icon without asking me me bout it.

### Actual behavior
Horrible looking icon with now way back

### Steps to reproduce
1. Install the update

Could you build in an option to get the old icon back? Thanks

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Recipient select view issue,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,Reproducible RecipientSelectView bug introduces extraneous chars into text,[],"See: https://www.dropbox.com/s/4mtyhzxdjzsb6gi/fix%20IMM%20issue.mp4?dl=0

During entry of To/Cc/Bcc fields, after completion of a recipient by tapping a suggested Icon from the contacts list, subsequent typing will re-add text from the previous typing that led to the selection of the Icon/Token in the dropdown.

See the video I've attached. The K9 with the RED ICON exhibits the issue. The K9 with the PURPLE ICON, exhibits the fix.

This probably needs to get posted to the com.splitwise:tokenautocomplete:2.0.7 GITHUB also, but I started out trying to fix you, so here's an override of one of their methods.

You can recreate the issue, by typing THREE CHARS of a contact in your list with a valid email entry, then selecting the Icon/Token by tapping. The next char typed will re-generate the three previous chars in the internal buffer.

Three chars is important as during the token substitution, it leaves the View selection length as is, tricking the IMM into avoiding an internal reset.
"
k9mail/k-9,closed,Updated fr (French) translation,[],"I have translated your application into `fr` (*French*). Here is the xml:
```xml
<!-- File ""strings.xml"" -->
<?xml version=""1.0"" encoding=""utf-8""?>
<resources xmlns:xliff=""urn:oasis:names:tc:xliff:document:1.2"">
    <string name=""app_revision_url"">https://github.com/k9mail/k-9/wiki/ReleaseNotes</string>
    <string name=""app_webpage_url"">https://k9mail.github.io/</string>
    <string name=""message_header_mua"">K-9 Mail pour Android</string>
</resources>

<!-- File ""strings2.xml"" -->
<?xml version='1.0' encoding='UTF-8'?>
<resources xmlns:xliff=""urn:oasis:names:tc:xliff:document:1.2"">
    <!-- === App-specific strings ============================================================= -->

    <!-- This should make it easier for forks to change the branding -->

    <!-- Used in AndroidManifest.xml -->
    <string name=""app_name"">K-9 Mail</string>

    <string name=""shortcuts_title"">Comptes K-9</string>
    <string name=""unread_widget_label"">K-9 non lus</string>

    <string name=""remote_control_label"">Contrôle à distance de Courriel K-9 Mail</string>
    <string name=""remote_control_desc"">Permet à cette application de contrôler les activités et les paramètres de Courriel K-9 Mail</string>


    <!-- Used in the about dialog -->
    <string name=""app_authors"">Google, The K-9 Dog Walkers.</string>
    <string name=""app_copyright_fmt"">Tous droits réservés 2008-&lt;xliff:g &gt;%s&lt;/xliff:g&gt; The K-9 Dog Walkers. Parties protégées par droits d’auteur 2006-&lt;xliff:g &gt;%s&lt;/xliff:g&gt; le projet libre Android.</string>
    <string name=""app_license"">Sous licence Apache, version 2.0.</string>


    <!-- Welcome message -->
    <string name=""welcome_message_title"">Bienvenue sur Courriel K-9 Mail</string>
    <string name=""accounts_welcome""><p> Courriel K-9 Mail est un client de courriel puissant et ouvert pour Android. </p><p> Ses fonctions améliorées incluent : </p> <ul>   <li>Courriel poussé utilisant IMAP IDLE</li>   <li>Meilleures performances</li>   <li>Réarchivage des courriels</li>   <li>Signatures des courriels</li>   <li>Cci-à-soi</li>   <li>Abonnement aux dossiers</li>   <li>Synchronisation de tous les dossiers </li>   <li>Configuration de l’adresse de retour</li>   <li>Raccourcis clavier</li>   <li>Meilleure prise en charge IMAP</li>   <li>Enregistrement des pièces jointes sur la carte SD</li>   <li>Vidage de la corbeille</li>   <li>Tri des courriels</li>   <li>et plus…</li> </ul> <p> Veuillez noter que K-9 ne prend pas en charge la plupart des comptes Hotmail gratuits et que, comme pour beaucoup de clients de courriel, la communication avec Microsoft Exchange est capricieuse. </p><p> Veuillez rapporter les bogues, recommander de nouvelles fonctions et poser vos questions sur <a href=\""https://github.com/k9mail/k-9/\"">https://github.com/k9mail/k-9/</a>. </p></string>


    <!-- Default signature -->
    <string name=""default_signature"">-- \n
  Envoyé de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser ma brièveté.</string>


    <!-- General strings that include the app name -->
    <string name=""account_delete_dlg_instructions_fmt"">Le compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0» sera supprimé de Courriel K-9 Mail.</string>
    <string name=""account_recreate_dlg_instructions_fmt"">Toutes les données de  «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0» seront supprimées. Les paramètres du compte seront conservés.</string>
    <string name=""account_clear_dlg_instructions_fmt"">Les copies locales des courriels de «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0» seront supprimées. Les paramètres du compte seront conservés.</string>



    <!-- === App Store-specific strings ======================================================= -->

    <string name=""import_dialog_error_message"">Veuillez installer un gestionnaire de fichiers pour continuer cette importation.</string>
    <string name=""open_market"">Ouvrir le Google Play Store</string>



    <!-- === General strings ================================================================== -->

    <string name=""app_authors_fmt"">Auteurs\\u00A0: &lt;xliff:g id=\""app_authors\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""app_revision_fmt"">Informations de révision\\u00A0: %s</string>
    <string name=""app_libraries"">Nous utilisons les bibliothèques tierces suivantes\\u00A0: &lt;xliff:g id=\""app_libraries_list\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""read_messages_label"">Lire les courriels</string>
    <string name=""read_messages_desc"">Permet à cette application de lire vos courriels.</string>
    <string name=""delete_messages_label"">Supprimer les courriels</string>
    <string name=""delete_messages_desc"">Permet à cette application de supprimer vos courriels</string>

    <string name=""about_title_fmt"">À propos de &lt;xliff:g id=\""app_name\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""accounts_title"">Comptes</string>
    <string name=""folders_title"">Dossiers</string>
    <string name=""advanced"">Avancé</string>

    <string name=""message_list_title"">&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""compose_title_compose"">Composer</string>
    <string name=""compose_title_reply"">Répondre</string>
    <string name=""compose_title_reply_all"">Répondre à tous</string>
    <string name=""compose_title_forward"">Transférer</string>
    <string name=""compose_title_forward_as_attachment"">Transférer comme pièce jointe</string>

    <string name=""choose_account_title"">Choisir un  compte</string>
    <string name=""choose_folder_title"">Choisir un dossier</string>

    <string name=""status_loading_account_folder"">Récup. &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_loading_account_folder_headers"">Récup. entêtes &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_sending_account"">Envoi &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_processing_account"">Prép &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""command\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""folder_progress"">\\u0020&lt;xliff:g id=\""completed\"" &gt;%d&lt;/xliff:g&gt;/&lt;xliff:g id=\""total\"" &gt;%d&lt;/xliff:g&gt;</string>

    <string name=""status_next_poll"">Prochaine récup. &lt;xliff:g id=\""nexttime\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_no_network"">La synchro est désactivée - Aucun réseau</string>
    <string name=""status_no_background"">La synchro est désactivée - Aucune activité d’arrière-plan</string>
    <string name=""status_poll_and_push_disabled"">L’interrogation et le pousser sont désactivés</string>
    <string name=""status_syncing_blocked"">La synchro est bloquée</string>
    <string name=""status_syncing_off"">Synchronisation désactivée</string>

    <string name=""actionbar_selected"">&lt;xliff:g id=\""selection_count\"" &gt;%d&lt;/xliff:g&gt; sélectionné(s)</string>
    <string name=""next_action"">Suivant</string>
    <string name=""previous_action"">Précédent</string>
    <!-- Used to confirm acceptance of dialog boxes, warnings, errors, etc. -->
    <string name=""okay_action"">OK</string>
    <string name=""cancel_action"">Annuler</string>
    <string name=""send_action"">Envoyer</string>
    <string name=""send_again_action"">Renvoyer</string>
    <string name=""empty_subject"">L’objet est vide. Cliquer de nouveau pour envoyer quand même</string>
    <string name=""select_action"">Sélectionner</string>
    <string name=""deselect_action"">Dessélectionner</string>
    <string name=""reply_action"">Répondre</string>
    <string name=""reply_all_action"">Répondre à tous</string>
    <string name=""delete_action"">Supprimer</string>
    <string name=""archive_action"">Archiver</string>
    <string name=""spam_action"">Pourriel</string>
    <string name=""forward_action"">Transférer</string>
    <string name=""forward_as_attachment_action"">Transférer comme pièce jointe</string>
    <string name=""move_action"">Déplacer</string>
    <string name=""single_message_options_action"">Envoyer…</string>
    <string name=""refile_action"">Reclasser…</string>
    <string name=""done_action"">Terminé</string>
    <string name=""discard_action"">Supprimer</string>
    <string name=""save_draft_action"">Enregistrer comme brouillon</string>
    <string name=""check_mail_action"">Relève des courriels</string>
    <string name=""send_messages_action"">Envoyer les courriels</string>
    <string name=""refresh_folders_action"">Rafraîchir la liste des dossiers</string>
    <string name=""filter_folders_action"">Trouver un dossier</string>
    <string name=""add_account_action"">Ajouter un compte</string>
    <string name=""compose_action"">Composer</string>
    <string name=""search_action"">Rechercher</string>
    <string name=""search_results"">Résultats de la recherche</string>
    <string name=""preferences_action"">Paramètres</string>
    <string name=""account_settings_action"">Paramètres du compte</string>
    <string name=""folder_settings_action"">Paramètres du dossier</string>
    <string name=""global_settings_action"">Paramètres généraux</string>
    <string name=""remove_account_action"">Supprimer le compte</string>
    <string name=""clear_pending_action"">Annuler les actions en attente (danger\\u00A0!)</string>

    <string name=""mark_as_read_action"">Marquer comme lu</string>
    <string name=""send_alternate_action"">Partager</string>
    <string name=""send_alternate_chooser_title"">Choisir l’expéditeur</string>

    <string name=""flag_action"">Ajouter une étoile</string>
    <string name=""unflag_action"">Supprimer l’étoile</string>
    <string name=""copy_action"">Copier</string>
    <string name=""select_text_action"">Sélection de texte</string>
    <string name=""show_headers_action"">Afficher les en-têtes</string>
    <string name=""hide_headers_action"">Cacher les en-têtes</string>
    <plurals name=""copy_address_to_clipboard"">
        <item quantity=""one"">Adresse copiée dans le presse-papiers</item>
        <item quantity=""other"">Adresses copiées dans le presse-papiers</item>
    </plurals>

    <string name=""message_view_theme_action_dark"">Basculer vers le thème foncé</string>
    <string name=""message_view_theme_action_light"">Basculer vers le thème clair</string>

    <string name=""mark_as_unread_action"">Marquer comme non lu</string>
    <string name=""read_receipt"">Accusé de lecture</string>
    <string name=""read_receipt_enabled"">Un accusé de lecture sera demandé</string>
    <string name=""read_receipt_disabled"">Un accusé de lecture ne sera pas demandé</string>
    <string name=""add_attachment_action"">Ajouter une pièce jointe</string>
    <string name=""empty_trash_action"">Vider la corbeille</string>
    <string name=""expunge_action"">Supprimer</string>
    <string name=""clear_local_folder_action"">Effacer les courriels locaux</string>
    <string name=""about_action"">À propos de</string>

    <string name=""prefs_title"">Paramètres</string>
    <string name=""accounts_context_menu_title"">Options du compte</string>

    <!-- Shown in place of the subject when a message has no subject. Showing this in parentheses is customary. -->
    <string name=""general_no_subject"">(Aucun objet)</string>
    <string name=""general_no_sender"">Aucun expéditeur</string>
    <string name=""status_loading"">Récupération</string>
    <string name=""status_loading_more"">Chargement des courriels\\u2026</string>
    <string name=""status_network_error"">Erreur de connexion</string>
    <string name=""status_invalid_id_error"">Courriel introuvable</string>
    <string name=""status_loading_error"">Erreur de chargement de courriel</string>

    <string name=""status_loading_more_failed"">Ressayer de charger plus de courriels</string>

    <string name=""load_more_messages_fmt"">Charger jusqu’à &lt;xliff:g id=\""messages_to_load\"" &gt;%d&lt;/xliff:g&gt; de plus</string>

    <string name=""abbrev_gigabytes"">Go</string>
    <string name=""abbrev_megabytes"">Mo</string>
    <string name=""abbrev_kilobytes"">ko</string>
    <string name=""abbrev_bytes"">o</string>

    <string name=""account_size_changed"">La taille du compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0» est passée de &lt;xliff:g id=\""oldSize\"" &gt;%s&lt;/xliff:g&gt; à &lt;xliff:g id=\""newSize\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""compacting_account"">Compactage du compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0»</string>
    <string name=""clearing_account"">Effacement du compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0»</string>
    <string name=""recreating_account"">Recréation du compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0»</string>

    <string name=""notification_new_title"">Nouveau courriel</string>
    <plurals name=""notification_new_messages_title"">
        <item quantity=""one"">&lt;xliff:g id=\""new_message_count\"" &gt;%d&lt;/xliff:g&gt; nouveau courriel</item>
        <item quantity=""other"">&lt;xliff:g id=\""new_message_count\"" &gt;%d&lt;/xliff:g&gt; nouveaux courriels</item>
    </plurals>
    <string name=""notification_new_one_account_fmt"">&lt;xliff:g id=\""unread_message_count\"" &gt;%d&lt;/xliff:g&gt; non lus (&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""notification_additional_messages"">+ &lt;xliff:g id=\""additional_messages\"" &gt;%1$d&lt;/xliff:g&gt; de plus sur &lt;xliff:g id=\""account\"" &gt;%2$s&lt;/xliff:g&gt;</string>

    <string name=""notification_action_reply"">Répondre</string>
    <string name=""notification_action_mark_as_read"">Marquer comme lu</string>
    <string name=""notification_action_mark_all_as_read"">Tout marquer comme lu</string>
    <string name=""notification_action_delete"">Supprimer</string>
    <string name=""notification_action_delete_all"">Tout supprimer</string>
    <string name=""notification_action_archive"">Archiver</string>
    <string name=""notification_action_archive_all"">Tout archiver</string>
    <string name=""notification_action_spam"">Pourriel</string>
    <string name=""notification_certificate_error_title"">Erreur de certificat pour (&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""notification_certificate_error_text"">Vérifier vos paramètres de serveur</string>

    <string name=""notification_authentication_error_title"">Échec d’authentification</string>
    <string name=""notification_authentication_error_text"">Échec d’authentification pour &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;. Mettre à jour les paramètres du serveur.</string>

    <string name=""notification_bg_sync_ticker"">Relève des courriels\\u00A0: &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""notification_bg_sync_title"">Relève des courriels</string>
    <string name=""notification_bg_send_ticker"">Envoi du courriel\\u00A0: &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""notification_bg_send_title"">Envoi du courriel</string>
    <string name=""notification_bg_title_separator"">:</string>

    <string name=""special_mailbox_name_inbox"">Boîte de réception</string>
    <string name=""special_mailbox_name_outbox"">Boîte d’envoi</string>
    <string name=""special_mailbox_name_drafts"">Brouillons</string>
    <string name=""special_mailbox_name_trash"">Corbeille</string>
    <string name=""special_mailbox_name_sent"">Envoyés</string>
    <string name=""special_mailbox_name_archive"">Archive</string>
    <string name=""special_mailbox_name_spam"">Pourriel</string>

    <string name=""special_mailbox_name_drafts_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Brouillons)</string>
    <string name=""special_mailbox_name_trash_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Corbeille)</string>
    <string name=""special_mailbox_name_sent_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Envoyés)</string>
    <string name=""special_mailbox_name_archive_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Archive)</string>
    <string name=""special_mailbox_name_spam_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Pourriel)</string>

    <string name=""send_failure_subject"">Échec lors de l’envoi de certains courriels</string>

    <string name=""debug_version_fmt"">Version\\u00A0: &lt;xliff:g id=\""version\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""debug_enable_debug_logging_title"">Activer le journal de débogage</string>
    <string name=""debug_enable_debug_logging_summary"">Journaliser les informations de diagnostic supplémentaires</string>
    <string name=""debug_enable_sensitive_logging_title"">Journaliser les informations délicates</string>
    <string name=""debug_enable_sensitive_logging_summary"">Pourrait inclure les mots de passe dans les journaux.</string>

    <string name=""message_list_load_more_messages_action"">Charger plus de courriels</string>
    <string name=""message_to_fmt"">À\\u00A0: &lt;xliff:g id=\""counterParty\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""message_compose_subject_hint"">Objet</string>
    <string name=""message_compose_content_hint"">Texte du courriel</string>
    <string name=""message_compose_signature_hint"">Signature</string>
    <string name=""message_compose_quote_header_separator"">-------- Courriel d’origine --------</string>
    <string name=""message_compose_quote_header_subject"">Objet\\u00A0:</string>
    <string name=""message_compose_quote_header_send_date"">Envoyé\\u00A0:</string>
    <string name=""message_compose_quote_header_from"">De\\u00A0:</string>
    <string name=""message_compose_quote_header_to"">À\\u00A0:</string>
    <string name=""message_compose_quote_header_cc"">Cc\\u00A0:</string>
    <string name=""message_compose_reply_header_fmt"">&lt;xliff:g id=\""sender\"" &gt;%s&lt;/xliff:g&gt; a écrit\\u00A0:</string>
    <string name=""message_compose_reply_header_fmt_with_date"">Le &lt;xliff:g id=\""sent_date\"" &gt;%1$s&lt;/xliff:g&gt;, &lt;xliff:g id=\""sender\"" &gt;%2$s&lt;/xliff:g&gt; a écrit :</string>
    <string name=""message_compose_error_no_recipients"">Vous devez ajouter au moins un destinataire.</string>
    <string name=""compose_error_incomplete_recipient"">Le champ des destinataires contient une entrée incomplète !</string>
    <string name=""error_contact_address_not_found"">Aucune adresse courriel de trouvée pour ce contact.</string>
    <string name=""message_compose_attachments_skipped_toast"">Certaines pièces jointes ne peuvent pas être transférées car elles n’ont pas été téléchargées.</string>
    <string name=""message_compose_attachments_forward_toast"">Le courriel ne peut pas être transféré, car certaines pièces jointes n’ont pas été téléchargées</string>
    <string name=""message_compose_show_quoted_text_action"">Inclure le courriel cité</string>
    <string name=""message_compose_description_delete_quoted_text"">Supprimer le texte entre guillemets</string>
    <string name=""message_compose_description_edit_quoted_text"">Modifier le texte entre guillemets</string>

    <string name=""message_view_from_format"">De : &lt;xliff:g id=\""name\"" &gt;%s&lt;/xliff:g&gt; &lt;&lt;xliff:g id=\""email\"" &gt;%s&lt;/xliff:g&gt;&gt;</string>
    <string name=""message_to_label"">À\\u00A0:</string>
    <string name=""message_view_cc_label"">Cc\\u00A0:</string>
    <string name=""message_view_bcc_label"">Cci :</string>
    <string name=""message_view_attachment_view_action"">Ouvrir</string>
    <string name=""message_view_attachment_download_action"">Enregistrer</string>
    <string name=""message_view_status_attachment_not_saved"">Impossible d’enregistrer la pièce jointe sur la carte SD.</string>
    <string name=""message_view_status_no_space"">La pièce jointe n’a pas été enregistrée, car il manque d’espace.</string>
    <string name=""message_view_show_pictures_action"">Afficher les images</string>
    <string name=""message_view_no_viewer"">Impossible de trouver un visualiseur pour &lt;xliff:g id=\""mimetype\"" &gt;%s&lt;/xliff:g&gt;.</string>
    <string name=""message_view_download_remainder"">Télécharger le courriel complet</string>
    <string name=""message_view_toast_unable_to_display_message"">Impossible d’afficher le courriel</string>
    <string name=""message_view_sender_label"">par %1$s</string>

    <!-- NOTE: The following message refers to strings with id account_setup_incoming_save_all_headers_label and account_setup_incoming_title -->
    <string name=""message_no_additional_headers_available"">Tous les en-têtes ont été téléchargés, mais il n’y en a aucun autre à afficher.</string>
    <string name=""message_additional_headers_retrieval_failed"">La récupération d’en-têtes supplémentaires de la base de données ou du serveur de courriel a échouée.</string>

    <string name=""from_same_sender"">Plus de cet expéditeur</string>
    <string name=""search_from_format"">De &lt;xliff:g id=\""sender\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""debug_delete_local_body"">Déboguer / Effacer le corps du courriel</string>

    <string name=""message_discarded_toast"">Le courriel a été supprimé</string>
    <string name=""message_saved_toast"">Courriel enregistré comme brouillon</string>

    <string name=""global_settings_flag_label"">Afficher les étoiles</string>
    <string name=""global_settings_flag_summary"">Les étoiles indiquent des courriels suivis</string>
    <string name=""global_settings_checkbox_label"">Cases à choix multiples</string>
    <string name=""global_settings_checkbox_summary"">Toujours afficher des cases à choix multiples</string>
    <string name=""global_settings_preview_lines_label"">Lignes dʼaperçu</string>
    <string name=""global_settings_show_correspondent_names_label"">Afficher le nom des correspondants</string>
    <string name=""global_settings_show_correspondent_names_summary"">Afficher le nom des correspondants plutôt que leur adresse courriel</string>

    <string name=""global_settings_sender_above_subject_label"">Correspondants au-dessus de l’objet</string>
    <string name=""global_settings_sender_above_subject_summary"">Afficher le nom des correspondants au-dessus de la ligne d’objet, plutôt qu’en dessous</string>

    <string name=""global_settings_show_contact_name_label"">Afficher le nom des contacts</string>
    <string name=""global_settings_show_contact_name_summary"">Utiliser les noms de destinataire des Contacts s’il y en a</string>
    <string name=""global_settings_registered_name_color_label"">Colorer les contacts</string>
    <string name=""global_settings_registered_name_color_default"">Ne pas colorer les noms dans votre liste de contacts</string>
    <string name=""global_settings_registered_name_color_changed"">Colorer les noms dans votre liste de contacts</string>
    <string name=""global_settings_folderlist_wrap_folder_names_label"">Retour sur les noms de dossier longs</string>
    <string name=""global_settings_folderlist_wrap_folder_names_summary"">Utiliser plusieurs lignes pour afficher les noms de dossier longs</string>

    <string name=""global_settings_messageview_fixedwidth_label"">Police à largeur fixe</string>
    <string name=""global_settings_messageview_fixedwidth_summary"">Utiliser une police à largeur fixe pour les courriels en clair</string>
    <string name=""global_settings_messageview_autofit_width_label"">Ajustement automatique des courriels</string>
    <string name=""global_settings_messageview_autofit_width_summary"">Rétrécir les courriels pour les adapter à l’écran</string>
    <string name=""global_settings_messageview_return_to_list_label"">Retourner à la liste après suppression</string>
    <string name=""global_settings_messageview_return_to_list_summary"">Retourner à la liste de courriels après suppression d’un courriel</string>
    <string name=""global_settings_messageview_show_next_label"">Afficher le courriel suivant après suppression</string>
    <string name=""global_settings_messageview_show_next_summary"">Afficher le courriel suivant par défaut après suppression d’un courriel</string>

    <string name=""global_settings_confirm_actions_title"">Confirmer les actions</string>
    <string name=""global_settings_confirm_actions_summary"">Afficher une fenêtre de dialogue lors de certaines actions</string>
    <string name=""global_settings_confirm_action_delete"">Supprimer</string>
    <string name=""global_settings_confirm_action_delete_starred"">Supprimer Étoilé (dans la vue des courriels)</string>
    <string name=""global_settings_confirm_action_spam"">Pourriel</string>
    <string name=""global_settings_confirm_menu_discard"">Supprimer le courriel</string>
    <string name=""global_settings_confirm_menu_mark_all_read"">Marquer tous les courriels comme lus</string>
    <string name=""global_settings_confirm_action_delete_notif"">Supprimer (d’une notification)</string>

    <string name=""global_settings_privacy_hide_useragent"">Cacher le client de courriel</string>
    <string name=""global_settings_privacy_hide_useragent_detail"">Supprimer l’agent utilisateur K-9 des en-têtes de courriels</string>
    <string name=""global_settings_privacy_hide_timezone"">Cacher le fuseau horaire</string>
    <string name=""global_settings_privacy_hide_timezone_detail"">Utiliser UTC au lieu du fuseau horaire local dans les en-têtes de courriel et de réponse</string>
    <string name=""global_settings_privacy_hide_hostname_when_connecting"">Cacher le nom d’hôte</string>
    <string name=""global_settings_privacy_hide_hostname_when_connecting_detail"">S’identifier comme « localhost » en se connectant à des serveurs SMTP</string>
    <string name=""global_settings_notification_hide_subject_title"">Cacher l’objet dans les notifications</string>
    <string name=""global_settings_notification_hide_subject_never"">Jamais</string>
    <string name=""global_settings_notification_hide_subject_when_locked"">Quand l’appareil est verrouillé</string>
    <string name=""global_settings_notification_hide_subject_always"">Toujours</string>

    <string name=""global_settings_notification_quick_delete_title"">Afficher le bouton Supprimer</string>
    <string name=""global_settings_notification_quick_delete_never"">Jamais</string>
    <string name=""global_settings_notification_quick_delete_when_single_msg"">Pour une notification de courriel unique</string>
    <string name=""global_settings_notification_quick_delete_always"">Toujours</string>
    <string name=""global_settings_notification_quick_delete_description"">Afficher un bouton dans la notification permettant la suppression rapide du courriel</string>

    <string name=""global_settings_lock_screen_notification_visibility_title"">Notifications de l’écran verrouillé</string>
    <string name=""global_settings_lock_screen_notification_visibility_nothing"">Aucune notification si l’écran est verrouillé</string>
    <string name=""global_settings_lock_screen_notification_visibility_app_name"">Nom de l’application</string>
    <string name=""global_settings_lock_screen_notification_visibility_message_count"">Nombre de courriels non lus</string>
    <string name=""global_settings_lock_screen_notification_visibility_senders"">Nombre de courriels et expéditeurs</string>
    <string name=""global_settings_lock_screen_notification_visibility_everything"">Identiques à celles de l’écran déverrouillé</string>

    <string name=""quiet_time"">Période calme</string>
    <string name=""quiet_time_description"">Désactiver la sonnerie, la vibration et le clignotement pendant la nuit</string>
    <string name=""quiet_time_notification"">Désactiver les notifications</string>
    <string name=""quiet_time_notification_description"">Désactiver complètement les notifications en période calme</string>
    <string name=""quiet_time_starts"">Début de la période calme</string>
    <string name=""quiet_time_ends"">Fin de la période calme</string>

    <string name=""account_setup_basics_title"">Configurer un nouveau compte</string>
    <string name=""account_setup_basics_email_hint"">Adresse courriel</string>
    <string name=""account_setup_basics_password_hint"">Mot de passe</string>
    <string name=""account_setup_basics_show_password"">Afficher le mot de passe</string>
    <string name=""account_setup_basics_manual_setup_action"">Configuration manuelle</string>

    <string name=""account_setup_check_settings_title""/>
    <string name=""account_setup_check_settings_retr_info_msg"">Récupération des informations de compte\\u2026</string>
    <string name=""account_setup_check_settings_check_incoming_msg"">Vérification des paramètres du serveur entrant\\u2026</string>
    <string name=""account_setup_check_settings_check_outgoing_msg"">Vérification des paramètres du serveur sortant\\u2026</string>
    <string name=""account_setup_check_settings_authenticate"">Authentification\\u2026</string>
    <string name=""account_setup_check_settings_fetch"">Récupération des paramètres du compte\\u2026</string>
    <string name=""account_setup_check_settings_canceling_msg"">Annulation\\u2026</string>

    <string name=""account_setup_names_title"">Vous avez presque terminé\\u00A0!</string>
    <string name=""account_setup_names_account_name_label"">Donner un nom à ce compte (facultatif)\\u00A0:</string>
    <string name=""account_setup_names_user_name_label"">Saisissez votre nom (s’affiche sur les courriels sortants)\\u00A0:</string>

    <string name=""account_setup_account_type_title"">Type de compte</string>
    <string name=""account_setup_account_type_instructions"">Quel type de compte est-ce\\u00A0?</string>
    <string name=""account_setup_account_type_pop_action"">POP3</string>
    <string name=""account_setup_account_type_imap_action"">IMAP</string>
    <string name=""account_setup_account_type_webdav_action"">Exchange (WebDAV)</string>

    <string name=""account_setup_auth_type_normal_password"">Mot de passe normal</string>
    <string name=""account_setup_auth_type_insecure_password"">Mot de passe, envoyé sans sécurité</string>
    <string name=""account_setup_auth_type_encrypted_password"">Mot de passe chiffré</string>
    <string name=""account_setup_auth_type_tls_client_certificate"">Certificat client</string>

    <string name=""account_setup_incoming_title"">Paramètres du serveur entrant</string>
    <string name=""account_setup_incoming_username_label"">Nom d’utilisateur</string>
    <string name=""account_setup_incoming_password_label"">Mot de passe</string>
    <string name=""account_setup_incoming_client_certificate_label"">Certificat client</string>
    <string name=""account_setup_incoming_pop_server_label"">Serveur POP3</string>
    <string name=""account_setup_incoming_imap_server_label"">Serveur IMAP</string>
    <string name=""account_setup_incoming_webdav_server_label"">Serveur Exchange (WebDAV)</string>
    <string name=""account_setup_incoming_port_label"">Port</string>
    <string name=""account_setup_incoming_security_label"">Sécurité</string>
    <string name=""account_setup_incoming_auth_type_label"">Authentification</string>
    <string name=""account_setup_incoming_security_none_label"">Aucun</string>
    <string name=""account_setup_incoming_security_ssl_label"">SSL/TLS</string>
    <string name=""account_setup_incoming_security_tls_label"">STARTTLS</string>
    <string name=""account_setup_incoming_invalid_setting_combo_notice"">« &lt;xliff:g id=\""setting_1_label\"" &gt;%1$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_1_value\"" &gt;%2$s&lt;/xliff:g&gt; » n’est pas valide avec « &lt;xliff:g id=\""setting_2_label\"" &gt;%3$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_2_value\"" &gt;%4$s&lt;/xliff:g&gt; »</string>

    <string name=""account_setup_incoming_delete_policy_label"">Quand je supprime un courriel</string>
    <string name=""account_setup_incoming_delete_policy_never_label"">Ne pas supprimer sur le serveur</string>
    <string name=""account_setup_incoming_delete_policy_delete_label"">Supprimer sur le serveur</string>
    <string name=""account_setup_incoming_delete_policy_markread_label"">Marquer comme lu sur le serveur</string>

    <string name=""account_setup_incoming_compression_label"">Utiliser la compression sur le réseau\\u00A0:</string>
    <string name=""account_setup_incoming_mobile_label"">mobile</string>
    <string name=""account_setup_incoming_wifi_label"">Wi-Fi</string>
    <string name=""account_setup_incoming_other_label"">autre</string>

    <string name=""local_storage_provider_external_label"">Stockage externe (carte SD)</string>
    <string name=""local_storage_provider_internal_label"">Stockage interne habituel</string>
    <string name=""local_storage_provider_samsunggalaxy_label"">Stockage interne additionnel %1$s</string>
    <string name=""local_storage_provider_label"">Emplacement de stockage</string>

    <string name=""account_setup_expunge_policy_label"">Effacer les courriels supprimés du serveur</string>
    <string name=""account_setup_expunge_policy_immediately"">Immédiatement</string>
    <string name=""account_setup_expunge_policy_on_poll"">Lors de la récupération</string>
    <string name=""account_setup_expunge_policy_manual"">Manuellement</string>

    <string name=""account_setup_incoming_autodetect_namespace_label"">Détection automatique de l’espace de nommage IMAP</string>
    <string name=""account_setup_incoming_imap_path_prefix_label"">Préfixe de chemin IMAP</string>

    <string name=""drafts_folder_label"">Dossier des brouillons</string>
    <string name=""sent_folder_label"">Dossier des envois</string>
    <string name=""trash_folder_label"">Dossier de la corbeille</string>
    <string name=""archive_folder_label"">Dossier des archives</string>
    <string name=""spam_folder_label"">Dossier des pourriels</string>

    <string name=""account_setup_incoming_subscribed_folders_only_label"">Afficher seulement les dossiers auxquels je suis abonné</string>
    <string name=""account_setup_auto_expand_folder"">Ouvrir automatiquement le dossier</string>

    <string name=""account_setup_incoming_webdav_path_prefix_label"">Chemin OWA</string>
    <string name=""account_setup_incoming_webdav_path_prefix_hint"">Facultatif</string>

    <string name=""account_setup_incoming_webdav_auth_path_label"">Chemin d’authentification</string>
    <string name=""account_setup_incoming_webdav_auth_path_hint"">Facultatif</string>
    <string name=""account_setup_incoming_webdav_mailbox_path_label"">Alias de la boîte de courriels</string>
    <string name=""account_setup_incoming_webdav_mailbox_path_hint"">Facultatif</string>

    <string name=""account_setup_outgoing_title"">Paramètres du serveur sortant</string>
    <string name=""account_setup_outgoing_smtp_server_label"">Serveur SMTP</string>
    <string name=""account_setup_outgoing_port_label"">Port</string>
    <string name=""account_setup_outgoing_security_label"">Sécurité</string>
    <string name=""account_setup_outgoing_require_login_label"">Authentification exigée.</string>
    <string name=""account_setup_outgoing_username_label"">Nom d’utilisateur</string>
    <string name=""account_setup_outgoing_password_label"">Mot de passe</string>
    <string name=""account_setup_outgoing_authentication_label"">Authentification</string>
    <string name=""account_setup_outgoing_invalid_setting_combo_notice"">« &lt;xliff:g id=\""setting_1_label\"" &gt;%1$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_1_value\"" &gt;%2$s&lt;/xliff:g&gt; » n’est pas valide avec \""&lt;xliff:g id=\""setting_2_label\"" &gt;%3$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_2_value\"" &gt;%4$s&lt;/xliff:g&gt; »</string>

    <string name=""account_setup_bad_uri"">Paramétrage invalide\\u00A0: &lt;xliff:g id=\""err_mess\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""account_setup_options_title"">Options du compte</string>

    <string name=""compact_action"">Compacter le compte</string>
    <string name=""clear_action"">Vider les courriels (danger\\u00A0!)</string>
    <string name=""recreate_action"">Recréer les données (dernier recours\\u00A0!)</string>

    <string name=""account_setup_options_mail_check_frequency_label"">Fréquence de récupération des dossiers</string>
    <string name=""account_setup_options_mail_check_frequency_never"">Jamais</string>
    <string name=""account_setup_options_mail_check_frequency_1min"">Toutes les minutes</string>
    <string name=""account_setup_options_mail_check_frequency_5min"">Toutes les 5 minutes</string>
    <string name=""account_setup_options_mail_check_frequency_10min"">Toutes les 10 minutes</string>
    <string name=""account_setup_options_mail_check_frequency_15min"">Toutes les 15 minutes</string>
    <string name=""account_setup_options_mail_check_frequency_30min"">Toutes les 30 minutes</string>
    <string name=""account_setup_options_mail_check_frequency_1hour"">Toutes les heures</string>
    <string name=""account_setup_options_mail_check_frequency_2hour"">Toutes les 2 heures</string>
    <string name=""account_setup_options_mail_check_frequency_3hour"">Toutes les 3 heures</string>
    <string name=""account_setup_options_mail_check_frequency_6hour"">Toutes les 6 heures</string>
    <string name=""account_setup_options_mail_check_frequency_12hour"">Toutes les 12 heures</string>
    <string name=""account_setup_options_mail_check_frequency_24hour"">Toutes les 24 heures</string>

    <string name=""push_poll_on_connect_label"">Récupération lors d’une connexion pour le pousser</string>
    <string name=""account_setup_options_enable_push_label"">Activer le courriel poussé pour ce compte</string>
    <string name=""account_setup_options_enable_push_summary"">Si votre serveur le prend an charge, les nouveaux courriels apparaîtront instantanément. Cette option peut considérablement améliorer ou dégrader les performances.</string>
    <string name=""idle_refresh_period_label"">Rafraîchir la connexion IDLE</string>
    <string name=""idle_refresh_period_1min"">Toutes les minutes</string>
    <string name=""idle_refresh_period_2min"">Toutes les 2 minutes</string>
    <string name=""idle_refresh_period_3min"">Toutes les 3 minutes</string>
    <string name=""idle_refresh_period_6min"">Toutes les 6 minutes</string>
    <string name=""idle_refresh_period_12min"">Toutes les 12 minutes</string>
    <string name=""idle_refresh_period_24min"">Toutes les 24 minutes</string>
    <string name=""idle_refresh_period_36min"">Toutes les 36 minutes</string>
    <string name=""idle_refresh_period_48min"">Toutes les 48 minutes</string>
    <string name=""idle_refresh_period_60min"">Toutes les 60 minutes</string>

    <string name=""account_setup_options_notify_label"">M’avertir lors de l’arrivée de courriels</string>
    <string name=""account_setup_options_notify_sync_label"">M’avertir lors de la relève des courriels</string>

    <string name=""account_setup_options_mail_display_count_label"">Nombre de courriels à afficher</string>
    <string name=""account_setup_options_mail_display_count_10"">10 courriels</string>
    <string name=""account_setup_options_mail_display_count_25"">25 courriels</string>
    <string name=""account_setup_options_mail_display_count_50"">50 courriels</string>
    <string name=""account_setup_options_mail_display_count_100"">100 courriels</string>
    <string name=""account_setup_options_mail_display_count_250"">250 courriels</string>
    <string name=""account_setup_options_mail_display_count_500"">500 courriels</string>
    <string name=""account_setup_options_mail_display_count_1000"">1 000 courriels</string>
    <string name=""account_setup_options_mail_display_count_2500"">2 500 courriels</string>
    <string name=""account_setup_options_mail_display_count_5000"">5 000 courriels</string>
    <string name=""account_setup_options_mail_display_count_10000"">10 000 courriels</string>
    <string name=""account_setup_options_mail_display_count_all"">tous les courriels</string>

    <string name=""move_copy_cannot_copy_unsynced_message"">Impossible de copier ou déplacer un courriel qui n’est pas synchronisé avec le serveur</string>

    <string name=""account_setup_failed_dlg_title"">La configuration n’a pas pu être terminée</string>
    <string name=""account_setup_failed_dlg_auth_message_fmt"">Nom d’utilisateur ou mot de passe incorrect.\n
  (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_certificate_message_fmt"">Le serveur a présenté un certificat SSL invalide. Ceci est parfois causé par une mauvaise configuration du serveur. Parfois, quelqu’un essaie de vous attaquer ou d’attaquer votre serveur de courriel. Si vous n’êtes pas sûr de ce qu’il se passe, cliquez sur Rejeter et contactez les gestionnaires du serveur de courriel.\n
  \n
  (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_server_message_fmt"">Impossible de se connecter au serveur.\n
  (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_edit_details_action"">Modifier les détails</string>
    <string name=""account_setup_failed_dlg_continue_action"">Continuer</string>

    <string name=""account_settings_push_advanced_title"">Avancé</string>
    <string name=""account_settings_title_fmt"">Paramètres du compte</string>
    <string name=""account_settings_default_label"">Compte par défaut</string>
    <string name=""account_settings_default_summary"">Envoyer par défaut les courriels avec ce compte</string>
    <string name=""account_settings_notify_label"">Notifications de nouveaux courriels</string>

    <string name=""account_settings_folder_notify_new_mail_mode_label"">Dossiers des notifications</string>
    <string name=""account_settings_folder_notify_new_mail_mode_all"">Tous</string>
    <string name=""account_settings_folder_notify_new_mail_mode_first_class"">Seulement les dossiers de 1re classe</string>
    <string name=""account_settings_folder_notify_new_mail_mode_first_and_second_class"">Dossiers de 1re et 2e classes</string>
    <string name=""account_settings_folder_notify_new_mail_mode_not_second_class"">Tous sauf les dossiers de 2e classe</string>
    <string name=""account_settings_folder_notify_new_mail_mode_none"">Aucun</string>

    <string name=""account_settings_notify_sync_label"">Notifications de synchronisation</string>
    <string name=""account_settings_email_label"">Votre adresse courriel</string>
    <string name=""account_settings_notify_summary"">Notification dans la barre d’état dès réception d’un courriel</string>
    <string name=""account_settings_notify_sync_summary"">Notification dans la barre d’état lors de la relève des courriels</string>
    <string name=""account_settings_notify_self_label"">Inclure les courriels sortants</string>
    <string name=""account_settings_notify_self_summary"">Afficher une notification pour les courriels que j’ai envoyés</string>
    <string name=""account_notify_contacts_mail_only_label"">Contacts seulement</string>
    <string name=""account_notify_contacts_mail_only_summary"">N’afficher des notifications que pour les courriels de contacts connus</string>
    <string name=""account_settings_notification_opens_unread_label"">La notification ouvre les courriels non lus</string>
    <string name=""account_settings_notification_opens_unread_summary"">Recherche des courriels non lus lors de l’accès aux notifications</string>
    <string name=""account_settings_mark_message_as_read_on_view_label"">Marquer comme lu à l’ouverture</string>
    <string name=""account_settings_mark_message_as_read_on_view_summary"">Marquer un courriel comme lu quand il est ouvert pour être visualisé</string>

    <string name=""account_settings_show_pictures_label"">Toujours afficher les images</string>
    <string name=""account_settings_show_pictures_never"">Non</string>
    <string name=""account_settings_show_pictures_only_from_contacts"">Pour les contacts uniquement</string>
    <string name=""account_settings_show_pictures_always"">Pour tout le monde</string>

    <string name=""account_settings_composition"">Envoi de courriel</string>

    <string name=""account_settings_default_quoted_text_shown_label"">Citer le courriel lors de la réponse</string>
    <string name=""account_settings_default_quoted_text_shown_summary"">Inclure le courriel original dans votre réponse.</string>

    <string name=""account_settings_reply_after_quote_label"">Réponse après le texte cité</string>
    <string name=""account_settings_reply_after_quote_summary"">Le courriel original apparaîtra en haut de votre réponse.</string>

    <string name=""account_settings_strip_signature_label"">Retirer les signatures des réponses</string>
    <string name=""account_settings_strip_signature_summary"">Les signatures seront supprimées des courriels cités</string>

    <string name=""account_settings_message_format_label"">Format des courriels</string>
    <string name=""account_settings_message_format_text"">Texte en clair (supprimer les images et formatage)</string>
    <string name=""account_settings_message_format_html"">HTML (garder les images et formatage)</string>
    <string name=""account_settings_message_format_auto"">Automatique</string>

    <string name=""account_settings_always_show_cc_bcc_label"">Toujours afficher Cc/Cci</string>

    <string name=""account_settings_message_read_receipt_label"">Accusé de lecture</string>
    <string name=""account_settings_message_read_receipt_summary"">Toujours demander un accusé de lecture</string>

    <string name=""account_settings_quote_style_label"">Style de citation des réponses</string>
    <string name=""account_settings_quote_style_prefix"">Préfixe (comme Gmail)</string>
    <string name=""account_settings_quote_style_header"">En-tête (comme Outlook)</string>

    <string name=""account_settings_general_title"">Paramètres généraux</string>
    <string name=""account_settings_reading_mail"">Lecture des courriels</string>
    <string name=""account_settings_sync"">Récupération des courriels</string>
    <string name=""account_settings_folders"">Dossiers</string>
    <string name=""account_settings_quote_prefix_label"">Préfixe de citation</string>
    <string name=""account_settings_crypto"">Cryptographie</string>
    <string name=""account_settings_crypto_app"">Appli OpenPGP</string>
    <string name=""account_settings_crypto_key"">Ma clé</string>
    <string name=""account_settings_no_openpgp_provider_configured"">Aucune appli OpenPGP n’est installée</string>

    <string name=""account_settings_mail_check_frequency_label"">Fréquence de récupération des dossiers</string>

    <string name=""account_settings_storage_title"">Stockage</string>

    <string name=""account_settings_color_label"">Couleur du compte</string>
    <string name=""account_settings_color_summary"">La note de couleur du compte utilisée dans la liste des dossiers et des comptes</string>

    <string name=""account_settings_led_color_label"">Couleur de la DEL de notification</string>
    <string name=""account_settings_led_color_summary"">La couleur de clignotement de la DEL de votre appareil</string>

    <string name=""account_settings_mail_display_count_label"">Taille du fichier local</string>

    <string name=""account_settings_autodownload_message_size_label"">Récupérer les courriels jusqu’à</string>
    <string name=""account_settings_autodownload_message_size_1"">1\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_2"">2\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_4"">4\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_8"">8\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_16"">16\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_32"">32\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_64"">64\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_128"">128\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_256"">256\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_512"">512\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_1024"">1\\u00A0Mo</string>
    <string name=""account_settings_autodownload_message_size_2048"">2\\u00A0Mo</string>
    <string name=""account_settings_autodownload_message_size_5120"">5\\u00A0Mo</string>
    <string name=""account_settings_autodownload_message_size_10240"">10\\u00A0Mo</string>
    <string name=""account_settings_autodownload_message_size_any"">n’importe quelle taille</string>

    <string name=""account_settings_message_age_label"">Synchroniser les courriels</string>
    <string name=""account_settings_message_age_any"">pour toutes les dates</string>
    <string name=""account_settings_message_age_0"">d’aujourd’hui</string>
    <string name=""account_settings_message_age_1"">d’il y a 2 jours</string>
    <string name=""account_settings_message_age_2"">d’il y a 3 jours</string>
    <string name=""account_settings_message_age_7"">de la dernière semaine</string>
    <string name=""account_settings_message_age_14"">des dernières 2 semaines</string>
    <string name=""account_settings_message_age_21"">des dernières 3 semaines</string>
    <string name=""account_settings_message_age_1_month"">du dernier mois</string>
    <string name=""account_settings_message_age_2_months"">des derniers 2 mois</string>
    <string name=""account_settings_message_age_3_months"">des derniers 3 mois</string>
    <string name=""account_settings_message_age_6_months"">des derniers 6 mois</string>
    <string name=""account_settings_message_age_1_year"">de la dernière année</string>

    <string name=""account_settings_folder_display_mode_label"">Dossiers à afficher</string>
    <string name=""account_settings_folder_display_mode_all"">Tous</string>
    <string name=""account_settings_folder_display_mode_first_class"">Seulement les dossiers de 1re classe</string>
    <string name=""account_settings_folder_display_mode_first_and_second_class"">Les dossiers de 1re et 2e classes</string>
    <string name=""account_settings_folder_display_mode_not_second_class"">Tous sauf les dossiers de 2e classe</string>

    <string name=""account_settings_folder_sync_mode_label"">Dossiers à récupérer</string>
    <string name=""account_settings_folder_sync_mode_all"">Tous</string>
    <string name=""account_settings_folder_sync_mode_first_class"">Seulement les dossiers de 1re classe</string>
    <string name=""account_settings_folder_sync_mode_first_and_second_class"">Les dossiers de 1re et 2e classes</string>
    <string name=""account_settings_folder_sync_mode_not_second_class"">Tous sauf les dossiers de 2e classe</string>
    <string name=""account_settings_folder_sync_mode_none"">Aucun</string>

    <string name=""account_settings_folder_push_mode_label"">Dossiers du pousser</string>
    <string name=""account_settings_folder_push_mode_all"">Tous</string>
    <string name=""account_settings_folder_push_mode_first_class"">Seulement les dossiers de 1re classe</string>
    <string name=""account_settings_folder_push_mode_first_and_second_class"">Les dossiers de 1re et 2e classes</string>
    <string name=""account_settings_folder_push_mode_not_second_class"">Tous sauf les dossiers de 2e classe</string>
    <string name=""account_settings_folder_push_mode_none"">Aucun</string>

    <string name=""account_settings_folder_target_mode_label"">Dossiers de destination déplacer/copier</string>
    <string name=""account_settings_folder_target_mode_all"">Tous</string>
    <string name=""account_settings_folder_target_mode_first_class"">Seulement les dossiers de 1e classe</string>
    <string name=""account_settings_folder_target_mode_first_and_second_class"">Les dossiers de 1e et 2e classes</string>
    <string name=""account_settings_folder_target_mode_not_second_class"">Tous sauf les dossiers de 2e classe</string>

    <string name=""account_settings_sync_remote_deletetions_label"">Synchroniser les suppressions sur le serveur</string>
    <string name=""account_settings_sync_remote_deletetions_summary"">Supprimer les courriels lorsqu’ils sont supprimés sur le serveur</string>

    <string name=""folder_settings_title"">Paramètres du dossier</string>

    <string name=""folder_settings_in_top_group_label"">Afficher dans le groupe principal</string>
    <string name=""folder_settings_in_top_group_summary"">Afficher dans le haut de la liste des dossiers</string>

    <string name=""folder_settings_folder_display_mode_label"">Classe d’affichage du dossier</string>
    <string name=""folder_settings_folder_display_mode_normal"">Aucune classe</string>
    <string name=""folder_settings_folder_display_mode_first_class"">1re classe</string>
    <string name=""folder_settings_folder_display_mode_second_class"">2e classe</string>

    <string name=""folder_settings_folder_sync_mode_label"">Classe de récupération du dossier</string>
    <string name=""folder_settings_folder_sync_mode_normal"">Aucune</string>
    <string name=""folder_settings_folder_sync_mode_first_class"">1re classe</string>
    <string name=""folder_settings_folder_sync_mode_second_class"">2e classe</string>
    <string name=""folder_settings_folder_sync_mode_inherited"">Identique à la classe d’affichage</string>

    <string name=""folder_settings_folder_push_mode_label"">Classe de pousser du dossier</string>
    <string name=""folder_settings_folder_push_mode_normal"">Aucune classe</string>
    <string name=""folder_settings_folder_push_mode_first_class"">1re classe</string>
    <string name=""folder_settings_folder_push_mode_second_class"">2e classe</string>
    <string name=""folder_settings_folder_push_mode_inherited"">Identique à la classe de synchronisation</string>

    <string name=""folder_settings_folder_notify_mode_label"">Classe de notification de dossier</string>
    <string name=""folder_settings_folder_notify_mode_normal"">Aucune classe</string>
    <string name=""folder_settings_folder_notify_mode_first_class"">1re classe</string>
    <string name=""folder_settings_folder_notify_mode_second_class"">2e classe</string>
    <string name=""folder_settings_folder_notify_mode_inherited"">Identique à la classe de pousser</string>

    <string name=""account_settings_incoming_label"">Serveur entrant</string>
    <string name=""account_settings_incoming_summary"">Configurer le serveur de courriel entrant</string>
    <string name=""account_settings_outgoing_label"">Serveur sortant</string>
    <string name=""account_settings_outgoing_summary"">Configurer le serveur de courriel (SMTP) sortant</string>
    <string name=""account_settings_description_label"">Nom du compte</string>
    <string name=""account_settings_name_label"">Votre nom</string>
    <string name=""notifications_title"">Notifications</string>
    <string name=""account_settings_vibrate_enable"">Vibration</string>
    <string name=""account_settings_vibrate_summary"">Vibrer dès réception d’un courriel</string>
    <string name=""account_settings_vibrate_pattern_label"">Modèles de vibration</string>
    <string name=""account_settings_vibrate_pattern_default"">par défaut</string>
    <string name=""account_settings_vibrate_pattern_1"">modèle 1</string>
    <string name=""account_settings_vibrate_pattern_2"">modèle 2</string>
    <string name=""account_settings_vibrate_pattern_3"">modèle 3</string>
    <string name=""account_settings_vibrate_pattern_4"">modèle 4</string>
    <string name=""account_settings_vibrate_pattern_5"">modèle 5</string>
    <string name=""account_settings_vibrate_times"">Nombre de vibrations</string>
    <string name=""account_settings_ringtone"">Sonnerie de nouveaux courriels</string>
    <string name=""account_settings_led_label"">Clignotement DEL</string>
    <string name=""account_settings_led_summary"">Clignotement de la DEL quand un courriel arrive</string>

    <string name=""account_settings_composition_title"">Options de composition de courriel</string>
    <string name=""account_settings_composition_label"">Valeurs par défaut pour la composition</string>
    <string name=""account_settings_composition_summary"">Définir les valeurs par défaut pour De, Cci et la signature</string>

    <string name=""account_settings_identities_label"">Gérer les identités</string>
    <string name=""account_settings_identities_summary"">Définir d’autres adresses «\\u00A0De\\u00A0» et d’autres signatures</string>

    <string name=""manage_identities_title"">Gérer les identités</string>

    <string name=""manage_identities_context_menu_title"">Gérer l’identité</string>

    <string name=""edit_identity_title"">Modifier l’identité</string>
    <string name=""new_identity_action"">Nouvelle identité</string>

    <string name=""account_settings_always_bcc_label"">Envoyer une copie Cci de tous les courriels à</string>

    <string name=""manage_identities_edit_action"">Modifier</string>
    <string name=""manage_identities_move_up_action"">Monter</string>
    <string name=""manage_identities_move_down_action"">Descendre</string>
    <string name=""manage_identities_move_top_action"">Déplacer en haut / définir par défaut</string>
    <string name=""manage_identities_remove_action"">Supprimer</string>

    <string name=""edit_identity_description_label"">Description de l’identité</string>
    <string name=""edit_identity_description_hint"">(Facultatif)</string>
    <string name=""edit_identity_name_label"">Votre nom</string>
    <string name=""edit_identity_name_hint"">(Facultatif)</string>
    <string name=""edit_identity_email_label"">Adresse courriel</string>
    <string name=""edit_identity_email_hint"">(Exigée)</string>
    <string name=""edit_identity_reply_to_label"">Adresse de réponse</string>
    <string name=""edit_identity_reply_to_hint"">(Facultative)</string>
    <string name=""edit_identity_signature_label"">Signature</string>
    <string name=""edit_identity_signature_hint"">(Facultative)</string>

    <string name=""account_settings_signature_use_label"">Utiliser la signature</string>
    <string name=""account_settings_signature_label"">Signature</string>

    <string name=""default_identity_description"">Première identité</string>
    <string name=""choose_identity_title"">Choisir l’identité</string>
    <string name=""send_as"">Envoyer en tant que</string>

    <string name=""no_removable_identity"">Vous ne pouvez pas supprimer votre seule identité</string>
    <string name=""identity_has_no_email"">Vous ne pouvez pas utiliser une identité sans adresse courriel</string>

    <string name=""sort_earliest_first"">Courriels le plus anciens en premier</string>
    <string name=""sort_latest_first"">Courriels les plus récents en premier</string>
    <string name=""sort_subject_alpha"">A-Z par objet</string>
    <string name=""sort_subject_re_alpha"">Z-A par objet</string>
    <string name=""sort_sender_alpha"">A-Z par expéditeur</string>
    <string name=""sort_sender_re_alpha"">Z-A par expéditeur</string>
    <string name=""sort_flagged_first"">Courriels étoilés en premier</string>
    <string name=""sort_flagged_last"">Courriels sans étoiles en premier</string>
    <string name=""sort_unread_first"">Courriels non lus en premier</string>
    <string name=""sort_unread_last"">Courriels lus en premier</string>
    <string name=""sort_attach_first"">Courriels avec des pièces jointes en premier</string>
    <string name=""sort_unattached_first"">Courriels sans pièce jointe en premier</string>

    <string name=""sort_by"">Trier par…</string>
    <string name=""sort_by_date"">Date</string>
    <string name=""sort_by_arrival"">Date de réception</string>
    <string name=""sort_by_subject"">Objet</string>
    <string name=""sort_by_sender"">Expéditeur</string>
    <string name=""sort_by_flag"">Étoile</string>
    <string name=""sort_by_unread"">Lu/non lu</string>
    <string name=""sort_by_attach"">Pièces jointes</string>

    <string name=""account_delete_dlg_title"">Retirer le compte</string>

    <string name=""account_recreate_dlg_title"">Recréer le compte</string>

    <string name=""account_clear_dlg_title"">Vider le compte</string>

    <string name=""provider_note_auonejp"">Assurez-vous d’activer IMAP ou POP3 dans la page des paramètres du courriel au one.</string>
    <string name=""provider_note_naver"">Assurez-vous d’activer IMAP ou POP3 dans la page des paramètres du courriel Naver.</string>
    <string name=""provider_note_hanmail"">Assurez-vous d’activer IMAP ou POP3 dans la page des paramètres du courriel Hanmail (Daum).</string>

    <string name=""account_setup_failed_dlg_invalid_certificate_title"">Certificat non reconnu</string>
    <string name=""account_setup_failed_dlg_invalid_certificate_accept"">Accepter la clé</string>
    <string name=""account_setup_failed_dlg_invalid_certificate_reject"">Rejeter la clé</string>

    <string name=""message_view_help_key"">Suppr (ou D) - Supprimer\n
  R - Répondre\n
  A - Répondre à tous\n
  C - Rédiger\n
  F - Transférer\n
  M - Déplacer\n
  V - Archiver\n
  Y - Copier\n
  Z - Marquer comme lu ou non\n
  G - Étoile\n
  O - Type de tri\n
  I - Ordre de tri\n
  Q - Retourner aux dossiers\n
  S - Sélectionner/dessélectionner\n
  J ou P - Courriel précédent\n
  K ou N - Courriel suivant</string>
    <string name=""message_list_help_key"">Suppr (ou D) - Supprimer\n
  C - Rédiger\n
  M - Déplacer\n
  V - Archiver\n
  Y - Copier\n
  Z - Marquer comme lu ou non\n
  G - Étoile\n
  O - Type de tri\n
  I - Ordre de tri\n
  Q - Retourner aux dossiers\n
  S - Sélectionner/dessélectionner</string>

    <string name=""folder_list_help_key"">1 - Afficher seulement les dossiers de 1re classe\n
  2 - Afficher les dossiers de 1re et 2e classe\n
  3 - Afficher tous les dossiers sauf 2e classe\n
  4 - Afficher tous les dossiers\n
  Q - Retourner aux Comptes\n
  S - Modifier les paramètres du compte</string>

    <string name=""folder_list_filter_hint"">Le nom de dossier comprend</string>

    <string name=""folder_list_display_mode_label"">Afficher les dossiers…</string>
    <string name=""folder_list_display_mode_all"">Tous les dossiers</string>
    <string name=""folder_list_display_mode_first_class"">Les dossiers de 1re classe</string>
    <string name=""folder_list_display_mode_first_and_second_class"">Les dossiers de 1re et 2e classes</string>
    <string name=""folder_list_display_mode_not_second_class"">Cacher les dossiers de 2e classe</string>

    <string name=""account_settings_signature__location_label"">Position de la signature</string>
    <string name=""account_settings_signature__location_before_quoted_text"">Avant le courriel cité</string>
    <string name=""account_settings_signature__location_after_quoted_text"">Après le courriel cité</string>
    <string name=""setting_theme_global"">Utiliser le thème de l’appli</string>
    <string name=""setting_theme_dark"">Foncé</string>
    <string name=""setting_theme_light"">Clair</string>
    <string name=""display_preferences"">Affichage</string>
    <string name=""global_preferences"">Général</string>
    <string name=""debug_preferences"">Déboguage</string>
    <string name=""privacy_preferences"">Confidentialité</string>
    <string name=""network_preferences"">Réseau</string>
    <string name=""interaction_preferences"">Interaction</string>
    <string name=""accountlist_preferences"">Liste des comptes</string>
    <string name=""messagelist_preferences"">Liste des courriels</string>
    <string name=""messageview_preferences"">Courriels</string>
    <string name=""folderlist_preferences"">Liste des dossiers</string>
    <string name=""settings_theme_label"">Thème</string>
    <string name=""settings_message_theme_label"">Thème de vue des courriels</string>
    <string name=""settings_compose_theme_label"">Thème de composition</string>
    <string name=""settings_language_label"">Langue</string>

    <string name=""settings_message_theme_selection_label"">Thème de courriel fixe</string>
    <string name=""settings_message_theme_selection_summary_off"">Choisir le thème de vue du courriel lors de sa visualisation</string>
    <string name=""settings_message_theme_selection_summary_on"">Utiliser un thème de vue de courriel fixe</string>


    <string name=""setting_language_system"">Langue par défaut du système</string>

    <string name=""background_ops_label"">Synchronisation en arrière-plan</string>
    <string name=""background_ops_never"">Jamais</string>
    <string name=""background_ops_always"">Toujours</string>
    <string name=""background_ops_auto_sync_only"">Lorsque la synchronisation automatique est activée</string>

    <string name=""batch_select_all"">Tout sélectionner</string>

    <string name=""account_setup_push_limit_label"">Maximum de dossiers à vérifier avec le pousser</string>
    <string name=""account_setup_push_limit_5"">5 dossiers</string>
    <string name=""account_setup_push_limit_10"">10 dossiers</string>
    <string name=""account_setup_push_limit_25"">25 dossiers</string>
    <string name=""account_setup_push_limit_50"">50 dossiers</string>
    <string name=""account_setup_push_limit_100"">100 dossiers</string>
    <string name=""account_setup_push_limit_250"">250 dossiers</string>
    <string name=""account_setup_push_limit_500"">500 dossiers</string>
    <string name=""account_setup_push_limit_1000"">1 000 dossiers</string>

    <string name=""animations_title"">Animation</string>
    <string name=""animations_summary"">Utiliser des effets visuels voyants</string>
    <string name=""gestures_title"">Interface gestuelle</string>
    <string name=""gestures_summary"">Activer le contrôle par gestes</string>

    <string name=""volume_navigation_title"">Navigation à l’aide de la touche de volume</string>
    <string name=""volume_navigation_message"">Dans les vues des courriels</string>
    <string name=""volume_navigation_list"">Dans les vues en liste</string>

    <string name=""start_integrated_inbox_title"">Démarrer dans la boîte de réception unifiée</string>

    <string name=""measure_accounts_title"">Afficher la taille des comptes</string>
    <string name=""measure_accounts_summary"">Désactiver pour un affichage plus rapide</string>

    <string name=""count_search_title"">Compter les résultats de recherche</string>
    <string name=""count_search_summary"">Désactiver pour un affichage plus rapide</string>

    <string name=""hide_special_accounts_title"">Cacher les comptes spéciaux</string>
    <string name=""hide_special_accounts_summary"">Cacher la boîte de réception unifiée et tous les comptes de courriels</string>

    <string name=""search_title"">&lt;xliff:g id=\""search_name\"" &gt;%s&lt;/xliff:g&gt; &lt;xliff:g id=\""modifier\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""flagged_modifier"">- Étoilés</string>
    <string name=""unread_modifier"">- Non lu</string>

    <string name=""search_all_messages_title"">Tous les courriels</string>
    <string name=""search_all_messages_detail"">Tous les courriels dans les dossiers pouvant être recherchés</string>

    <string name=""integrated_inbox_title"">Boîte de réception unifiée</string>
    <string name=""integrated_inbox_detail"">Tous les courriels dans les dossiers unifiés</string>

    <string name=""tap_hint"">Toucher le cercle ou l’étoile affiche les courriels non lus ou étoilés</string>

    <string name=""folder_settings_include_in_integrated_inbox_label"">Unifier</string>
    <string name=""folder_settings_include_in_integrated_inbox_summary"">Tous les courriels sont affichés dans la boîte de réception unifiée</string>

    <string name=""account_settings_searchable_label"">Dossiers dans lesquels chercher</string>
    <string name=""account_settings_searchable_all"">Tous</string>
    <string name=""account_settings_searchable_displayable"">Affichables</string>
    <string name=""account_settings_searchable_none"">Aucun</string>

    <string name=""font_size_settings_title"">Taille des polices</string>
    <string name=""font_size_settings_description"">Configurer la taille des polices</string>

    <string name=""font_size_account_list"">Liste de comptes</string>
    <string name=""font_size_account_name"">Nom des comptes</string>
    <string name=""font_size_account_description"">Description des comptes</string>

    <string name=""font_size_folder_list"">Listes des dossiers</string>
    <string name=""font_size_folder_name"">Nom des dossiers</string>
    <string name=""font_size_folder_status"">État des dossiers</string>

    <string name=""font_size_message_list"">Listes de courriels</string>
    <string name=""font_size_message_list_subject"">Objet</string>
    <string name=""font_size_message_list_sender"">Expéditeur</string>
    <string name=""font_size_message_list_date"">Date</string>
    <string name=""font_size_message_list_preview"">Aperçu</string>

    <string name=""font_size_message_view"">Courriels</string>
    <string name=""font_size_message_view_sender"">Expéditeur</string>
    <string name=""font_size_message_view_to"">À</string>
    <string name=""font_size_message_view_cc"">Cc</string>
    <string name=""font_size_message_view_bcc"">Cci</string>
    <string name=""font_size_message_view_additional_headers"">En-têtes supplémentaires</string>
    <string name=""font_size_message_view_subject"">Objet</string>
    <string name=""font_size_message_view_date"">Horodatage</string>
    <string name=""font_size_message_view_content"">Corps du courriel</string>
    <string name=""font_size_message_view_content_summary"">&lt;xliff:g id=\""fontsize\"" &gt;%d&lt;/xliff:g&gt; %%</string>
    <string name=""font_size_message_view_content_dialog_title"">&lt;xliff:g id=\""title\"" &gt;%1$s&lt;/xliff:g&gt;: &lt;xliff:g id=\""summary\"" &gt;%2$s&lt;/xliff:g&gt;</string>

    <string name=""font_size_message_compose"">Composition de courriel</string>
    <string name=""font_size_message_compose_input"">Champ de saisie de texte</string>

    <string name=""font_size_default"">Par défaut</string>
    <string name=""font_size_tiniest"">Le plus minuscule</string>
    <string name=""font_size_tiny"">Minuscule</string>
    <string name=""font_size_smaller"">Plus petit</string>
    <string name=""font_size_small"">Petit</string>
    <string name=""font_size_medium"">Moyen</string>
    <string name=""font_size_large"">Grand</string>
    <string name=""font_size_larger"">Plus grand</string>

    <string name=""miscellaneous_preferences"">Divers</string>

    <string name=""error_activity_not_found"">Aucune application adéquate n’a été trouvée pour cette action.</string>
    <string name=""send_failed_reason"">Envoi en échec : %s</string>

    <string name=""save_or_discard_draft_message_dlg_title"">Enregistrer le brouillon\\u00A0?</string>
    <string name=""save_or_discard_draft_message_instructions_fmt"">Enregistrer ou supprimer ce courriel\\u00A0?</string>

    <string name=""confirm_discard_draft_message_title"">Supprimer le courriel\\u00A0?</string>
    <string name=""confirm_discard_draft_message"">Voulez-vous vraiment supprimer ce courriel\\u00A0?</string>

    <string name=""select_text_now"">Sélectionner le texte à copier</string>

    <string name=""dialog_confirm_delete_title"">Confirmer la suppression</string>
    <string name=""dialog_confirm_delete_message"">Voulez-vous supprimer ce courriel\\u00A0?</string>

    <plurals name=""dialog_confirm_delete_messages"">
        <item quantity=""one"">Voulez-vous vraiment supprimer ce courriel\\u00A0?</item>
        <item quantity=""other"">Voulez-vous vraiment supprimer les &lt;xliff:g id=\""message_count\"" &gt;%1$d&lt;/xliff:g&gt; courriels\\u00A0?</item>
    </plurals>
    <string name=""dialog_confirm_delete_confirm_button"">Oui</string>
    <string name=""dialog_confirm_delete_cancel_button"">Non</string>

    <string name=""dialog_confirm_mark_all_as_read_title"">Confirmer tout marquer comme lu</string>
    <string name=""dialog_confirm_mark_all_as_read_message"">Voulez-vous marquer tous les courriels comme lus ?</string>

    <string name=""dialog_confirm_mark_all_as_read_confirm_button"">Oui</string>
    <string name=""dialog_confirm_mark_all_as_read_cancel_button"">Non</string>

    <string name=""dialog_confirm_spam_title"">Confirmer le déplacement vers le dossier des pourriels</string>
    <plurals name=""dialog_confirm_spam_message"">
        <item quantity=""one"">Voulez-vous déplacer ce courriel vers le dossiers des pourriels\\u00A0?</item>
        <item quantity=""other"">Voulez-vous déplacer les &lt;xliff:g id=\""message_count\"" &gt;%1$d&lt;/xliff:g&gt; courriels vers le dossiers des pourriels\\u00A0?</item>
    </plurals>
    <string name=""dialog_confirm_spam_confirm_button"">Oui</string>
    <string name=""dialog_confirm_spam_cancel_button"">Non</string>

    <string name=""dialog_attachment_progress_title"">Téléchargement de la pièce jointe</string>

    <string name=""debug_logging_enabled"">Journalisation du débogage activée</string>

    <string name=""messagelist_sent_to_me_sigil"">»</string>
    <string name=""messagelist_sent_cc_me_sigil"">›</string>

    <string name=""import_export_action"">Param. importation-exportation</string>
    <string name=""settings_export_account"">Exporter les paramètres du compte</string>
    <string name=""settings_export_all"">Exporter les paramètres et les comptes</string>
    <string name=""settings_import_dialog_title"">Importation</string>
    <string name=""settings_export_dialog_title"">Exportation</string>
    <string name=""settings_import"">Importer les paramètres</string>
    <string name=""settings_import_selection"">Importer la sélection</string>
    <string name=""settings_import_global_settings"">Paramètres globaux</string>
    <string name=""settings_exporting"">Exportation des paramètres…</string>
    <string name=""settings_importing"">Importation des paramètres…</string>
    <string name=""settings_import_scanning_file"">Analyse du fichier…</string>
    <string name=""settings_export_success"">Paramètres exportés vers &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""settings_export_success_generic"">Les paramètres ont été exportés avec succès</string>
    <string name=""settings_import_global_settings_success"">Paramètres globaux importés de &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""settings_import_success"">Importé &lt;xliff:g id=\""accounts\"" &gt;%s&lt;/xliff:g&gt; depuis &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""settings_import_account_imported_as"">&lt;xliff:g id=\""original_account_name\"" &gt;%s&lt;/xliff:g&gt; a été importé en tant que &lt;xliff:g id=\""account_name_after_import\"" &gt;%s&lt;/xliff:g&gt;</string>
    <plurals name=""settings_import_accounts"">
        <item quantity=""one"">1 compte</item>
        <item quantity=""other"">&lt;xliff:g id=\""numAccounts\"" &gt;%s&lt;/xliff:g&gt; comptes</item>
    </plurals>
    <string name=""settings_export_failure"">Échec lors de l’exportation des paramètres</string>
    <string name=""settings_import_failure"">Échec lors de l’importation des paramètres de &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""settings_export_success_header"">Exportation réussie</string>
    <string name=""settings_export_failed_header"">Exportation échouée</string>
    <string name=""settings_import_success_header"">Importation réussie</string>
    <string name=""settings_import_failed_header"">Importation échouée</string>
    <string name=""settings_import_activate_account_header"">Activer le compte</string>
    <string name=""settings_import_activate_account_intro"">Afin de pouvoir utiliser le compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0», vous devez fournir &lt;xliff:g id=\""server_passwords\"" &gt;%s&lt;/xliff:g&gt;.</string>
    <plurals name=""settings_import_server_passwords"">
        <item quantity=""one"">le mot de passe du serveur</item>
        <item quantity=""other"">les mots de passe du serveur</item>
    </plurals>
    <string name=""settings_import_incoming_server"">Serveur entrant (&lt;xliff:g id=\""hostname\"" &gt;%s&lt;/xliff:g&gt;)\\u00A0:</string>
    <string name=""settings_import_outgoing_server"">Serveur sortant (&lt;xliff:g id=\""hostname\"" &gt;%s&lt;/xliff:g&gt;)\\u00A0:</string>
    <plurals name=""settings_import_setting_passwords"">
        <item quantity=""one"">Réglage du mot de passe…</item>
        <item quantity=""other"">Réglages des mots de passe…</item>
    </plurals>
    <string name=""settings_import_use_incoming_server_password"">Utiliser le mot de passe du serveur entrant</string>
    <string name=""activate_account_action"">Activer</string>

    <string name=""account_unavailable"">Le compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0» n’est pas disponible\\u00A0; veuillez vérifier le stockage</string>

    <string name=""settings_attachment_default_path"">Enregistrer les pièces jointes dans…</string>
    <string name=""attachment_save_title"">Enregistrer les pièces jointes</string>
    <string name=""attachment_save_desc"">Aucun gestionnaire de fichiers trouvé. Où voudriez-vous enregistrer cette pièce jointe\\u00A0?</string>

    <string name=""manage_accounts_move_up_action"">Déplacer vers le haut</string>
    <string name=""manage_accounts_move_down_action"">Déplacer vers le bas</string>
    <string name=""manage_accounts_moving_message"">Déplacement du compte…</string>

    <string name=""unread_widget_select_account"">Afficher le nombre de non lus pour…</string>
    <string name=""unread_widget_account_title"">Compte</string>
    <string name=""unread_widget_account_summary"">Le compte pour lequel le nombre de courriels non lus doit être affiché</string>
    <string name=""unread_widget_unified_inbox_account_summary"">Boîte de réception unifiée</string>
    <string name=""unread_widget_all_messages_account_summary"">Tous les courriels</string>
    <string name=""unread_widget_folder_enabled_title"">Nombre de dossiers</string>
    <string name=""unread_widget_folder_enabled_summary"">N’afficher le nombre de courriels non lus que d’un seul dossier</string>
    <string name=""unread_widget_folder_title"">Dossier</string>
    <string name=""unread_widget_folder_summary"">Le dossier pour lequel le nombre de courriels non lus doit être affiché</string>
    <string name=""unread_widget_action_done"">Terminé</string>
    <string name=""unread_widget_title"">&lt;xliff:g id=\""account_name\"" &gt;%1$s&lt;/xliff:g&gt; - &lt;xliff:g id=\""folder_name\"" &gt;%2$s&lt;/xliff:g&gt;</string>
    <string name=""unread_widget_account_not_selected"">Aucun compte n’est sélectionné</string>
    <string name=""unread_widget_folder_not_selected"">Aucun dossier n’est sélectionné</string>

    <string name=""import_dialog_error_title"">L’application de gestion de fichiers est manquante</string>
    <string name=""close"">Fermer</string>

    <string name=""webview_empty_message"">Aucun texte</string>

    <string name=""webview_contextmenu_link_view_action"">Ouvrir le lien</string>
    <string name=""webview_contextmenu_link_share_action"">Partager le lien</string>
    <string name=""webview_contextmenu_link_copy_action"">Copier le lien dans le presse-papiers</string>
    <string name=""webview_contextmenu_link_clipboard_label"">Lien</string>

    <string name=""webview_contextmenu_image_title"">Image</string>
    <string name=""webview_contextmenu_image_view_action"">Afficher l’image</string>
    <string name=""webview_contextmenu_image_save_action"">Enregistrer l’image</string>
    <string name=""webview_contextmenu_image_download_action"">Télécharger l’image</string>
    <string name=""webview_contextmenu_image_copy_action"">Copier l’URL de l’image dans le presse-papiers</string>
    <string name=""webview_contextmenu_image_clipboard_label"">URL de l’image</string>

    <string name=""webview_contextmenu_phone_call_action"">Appeler le numéro</string>
    <string name=""webview_contextmenu_phone_save_action"">Enregistrer dans mes contacts</string>
    <string name=""webview_contextmenu_phone_copy_action"">Copier dans le presse-papiers</string>
    <string name=""webview_contextmenu_phone_clipboard_label"">Numéro de téléphone</string>

    <string name=""webview_contextmenu_email_send_action"">Envoyer un courriel</string>
    <string name=""webview_contextmenu_email_save_action"">Enregistrer dans mes contacts</string>
    <string name=""webview_contextmenu_email_copy_action"">Copier dans le presse-papiers</string>
    <string name=""webview_contextmenu_email_clipboard_label"">Adresse courriel</string>

    <string name=""image_saved_as"">Enregistrer l’image en tant que «\\u00A0&lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;\\u00A0»</string>
    <string name=""image_saving_failed"">Échec lors de la sauvegarde de l’image.</string>

    <string name=""account_settings_remote_search_num_results_entries_all"">Tout</string>
    <string name=""account_settings_remote_search_num_results_entries_10"">10</string>
    <string name=""account_settings_remote_search_num_results_entries_25"">25</string>
    <string name=""account_settings_remote_search_num_results_entries_50"">50</string>
    <string name=""account_settings_remote_search_num_results_entries_100"">100</string>
    <string name=""account_settings_remote_search_num_results_entries_250"">250</string>
    <string name=""account_settings_remote_search_num_results_entries_500"">500</string>
    <string name=""account_settings_remote_search_num_results_entries_1000"">1 000</string>
    <string name=""account_settings_remote_search_num_label"">Limite de recherche du serveur</string>
    <string name=""account_settings_remote_search_num_summary"">La recherche s’arrêtera après &lt;xliff:g id=\""num_results\"" &gt;%s&lt;/xliff:g&gt; résultats.</string>
    <string name=""remote_search_sending_query"">Envoi de la requête au serveur</string>
    <plurals name=""remote_search_downloading"">
        <item quantity=""one"">Récupération d’%d résultat</item>
        <item quantity=""other"">Récupération de %d résultats</item>
    </plurals>
    <plurals name=""remote_search_downloading_limited"">
        <item quantity=""one"">Récupération d’%1$d résultat de %2$d</item>
        <item quantity=""other"">Récupération de %1$d résultats de %2$d</item>
    </plurals>
    <string name=""remote_search_error"">Échec lors de la recherche distante</string>

    <string name=""account_settings_search"">Rechercher</string>
    <string name=""account_settings_remote_search_enabled"">Activer la recherche sur le serveur</string>
    <string name=""account_settings_remote_search_enabled_summary"">Rechercher des courriels sur le serveur en plus de ceux sur votre appareil</string>
    <string name=""action_remote_search"">Rechercher des courriels sur le serveur</string>
    <string name=""pull_to_refresh_remote_search_from_local_search_pull"">Tirer pour rechercher sur le serveur…</string>
    <string name=""pull_to_refresh_remote_search_from_local_search_release"">Relâchez pour rechercher sur le serveur…</string>
    <string name=""remote_search_unavailable_no_network"">Une connexion réseau est exigée pour la recherche sur le serveur.</string>

    <string name=""global_settings_background_as_unread_indicator_label"">Changer la couleur quand le courriel est lu</string>
    <string name=""global_settings_background_as_unread_indicator_summary"">Un arrière-plan différent indiquera que le courriel a été lu</string>

    <string name=""global_settings_threaded_view_label"">Vue en discussion</string>
    <string name=""global_settings_threaded_view_summary"">Grouper les courriels par conversation</string>

    <string name=""upgrade_databases_title"">Mise à niveau des bases de données</string>
    <string name=""upgrade_databases_unspecified"">Mise à niveau des bases de données…</string>
    <string name=""upgrade_database_format"">Mise à niveau de la base de données du compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0»</string>

    <string name=""message_list_loading"">Chargement…</string>

    <string name=""global_settings_splitview_mode_label"">Afficher un écran partagé</string>
    <string name=""global_settings_splitview_always"">Toujours</string>
    <string name=""global_settings_splitview_never"">Jamais</string>
    <string name=""global_settings_splitview_when_in_landscape"">En mode paysage</string>

    <string name=""message_view_empty"">Veuillez choisir un courriel sur la gauche</string>

    <string name=""global_settings_show_contact_picture_label"">Afficher la photo des contacts</string>
    <string name=""global_settings_show_contact_picture_summary"">Afficher la photo des contacts dans la liste des courriels</string>

    <string name=""last_refresh_time_format"">Rafraîchi &lt;xliff:g id=\""formatted_time\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""last_refresh_time_format_with_push"">Rafraîchi &lt;xliff:g id=\""time_with_preposition\"" &gt;%s&lt;/xliff:g&gt; (pousser activé)</string>
    <string name=""preposition_for_date"">le &lt;xliff:g id=\""date\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""mark_all_as_read"">Tout marquer comme lu</string>

    <string name=""global_settings_colorize_missing_contact_pictures_label"">Colorer la photo des contacts</string>
    <string name=""global_settings_colorize_missing_contact_pictures_summary"">Colorer les photos de contact manquantes</string>

    <string name=""global_settings_messageview_visible_refile_actions_title"">Actions visibles dans les courriels</string>
    <string name=""global_settings_messageview_visible_refile_actions_summary"">Afficher les actions sélectionnées dans le menu de visualisation des courriels</string>

    <string name=""loading_attachment"">Chargement de la pièce jointe…</string>
    <string name=""fetching_attachment_dialog_title_send"">Envoi du courriel</string>
    <string name=""fetching_attachment_dialog_title_save"">Enregistrement du brouillon</string>
    <string name=""fetching_attachment_dialog_message"">Récupération de la pièce jointe…</string>

    <string name=""auth_external_error"">Authentification impossible. Le serveur n’annonce pas la fonction SASL EXTERNE. Ceci pourrait être causé par un problème avec le certificat client (expiré, autorité de certification inconnue) ou quelque autre problème de configuration.</string>
    
    <!-- === Client certificates specific ================================================================== -->
    <string name=""account_setup_basics_client_certificate"">Utiliser le certificat client</string>
    <string name=""client_certificate_spinner_empty"">Aucun certificat client</string>
    <string name=""client_certificate_spinner_delete"">Supprimer le choix de certificat client</string>
    <string name=""client_certificate_retrieval_failure"">Impossible de d’obtenir le certificat client pour l’alias \\« &lt;xliff:g id=\""alias\"" &gt;%s&lt;/xliff:g&gt;\\ »</string>
    <string name=""client_certificate_advanced_options"">Options avancées</string>
    <string name=""client_certificate_expired"">Le certificat client \\« &lt;xliff:g id=\""certificate_alias\"" &gt;%1$s&lt;/xliff:g&gt;\\ » est expiré ou n’est pas encore valide (&lt;xliff:g id=\""exception_message\"" &gt;%2$s&lt;/xliff:g&gt;)</string>

    <!-- Note: This references message_view_download_remainder -->
    <string name=""preview_encrypted"">*Chiffré*</string>
    <string name=""add_from_contacts"">Ajouter à partir des contacts</string>
    <string name=""crypto_settings_cancel"">Annuler</string>
    <string name=""crypto_settings_ok"">Continuer</string>
    <string name=""recipient_cc"">Cc</string>
    <string name=""recipient_bcc"">Cci</string>
    <string name=""recipient_to"">À</string>
    <string name=""recipient_from"">De</string>
    <string name=""unknown_recipient"">&lt;Destinataire inconnu&gt;</string>
    <string name=""address_type_home"">Domicile</string>
    <string name=""address_type_work"">Travail</string>
    <string name=""address_type_other"">Autre</string>
    <string name=""address_type_mobile"">Mobile</string>
    <string name=""compose_error_no_draft_folder"">Aucun dossier Brouillons n’est configuré pour ce compte !</string>
    <string name=""compose_error_no_key_configured"">Aucune clé n’est configurée pour ce compte ! Veuillez vérifier vos paramètres.</string>
    <string name=""crypto_mode_disabled"">Ne pas chiffrer</string>
    <string name=""crypto_mode_opportunistic"">Chiffrer si possible</string>
    <string name=""crypto_mode_private"">Chiffrer</string>
    <string name=""error_crypto_provider_incompatible"">Le fournisseur cryptographique utilise une version non compatible. Veuillez vérifier vos paramètres !</string>
    <string name=""error_crypto_provider_connect"">Impossible de se connecter au fournisseur cryptographique, vérifier vos paramètres ou cliquer sur l’icône Cryptographie pour ressayer !</string>
    <string name=""error_crypto_provider_ui_required"">L’accès au fournisseur cryptographique est refusé, cliquer sur l’icône Cryptographie pour ressayer !</string>
    <string name=""error_crypto_inline_attach"">Le mode PGP/INTÉGRÉ ne prend pas en charge les fichiers joints !</string>
    <string name=""enable_inline_pgp"">Activer PGP/INTÉGRÉ</string>
    <string name=""disable_inline_pgp"">Désactiver PGP/INTÉGRÉ</string>
    <string name=""enable_sign_only"">Activer PGP signature-seulement</string>
    <string name=""disable_sign_only"">Désactiver PGP signature-seulement</string>
    <string name=""openpgp_inline_title"">Mode PGP/INTÉGRÉ</string>
    <string name=""openpgp_inline_text"">Ce courriel est envoyé au format PGP/INTÉGRÉ.\n
  Ce format ne devrait être utilisé que pour des raisons de compatibilité :</string>
    <string name=""openpgp_inline_plus_compat"">Certains clients ne prennent que ce format en charge</string>
    <string name=""openpgp_inline_minus_transit"">Les signatures pourraient se briser pendant le transit</string>
    <string name=""openpgp_inline_minus_attach"">Les pièces jointes ne sont pas prises en charge</string>
    <string name=""openpgp_inline_ok"">D’accord !</string>
    <string name=""openpgp_inline_disable"">Désactiver</string>
    <string name=""openpgp_inline_keep_enabled"">Garder activé</string>
    <string name=""openpgp_sign_only_ok"">Compris !</string>
    <string name=""openpgp_sign_only_disable"">Désactiver</string>
    <string name=""openpgp_sign_only_keep_enabled"">Garder activé</string>
    <string name=""openpgp_dialog_sign_only_title"">Mode PGP signature-seulement</string>
    <string name=""openpgp_dialog_sign_only_text"">Dans ce mode, votre clé PGP sera utilisée pour créer une signature cryptographique d’un courriel non signé.</string>
    <string name=""openpgp_dialog_sign_only_plus_verified"">Ce mode ne chiffre pas le courriel, mais certifie qu’il a été envoyé à partir de votre clé.</string>
    <string name=""openpgp_dialog_sign_only_minus_break"">Les signatures pourraient se briser lorsqu’elles sont envoyées à des listes de diffusion.</string>
    <string name=""openpgp_dialog_sign_only_minus_attach"">Les signatures pourraient être affichées en tant que pièces jointes « signature.asc » dans certains clients.</string>
    <string name=""openpgp_dialog_sign_only_neutral_encsigned"">Les courriels chiffrés incluent toujours une signature.</string>

    <string name=""crypto_msg_title_plaintext"">Texte en clair</string>
    <string name=""crypto_msg_unencrypted_sign_error"">La signature de bout en bout contenait une erreur</string>
    <string name=""crypto_msg_incomplete_signed"">le courriel doit être complètement téléchargé pour traiter la signature</string>
    <string name=""crypto_msg_unsupported_signed"">contient une signature de bout en bout non prise en charge</string>

    <string name=""crypto_msg_title_unencrypted_signed_e2e"">texte en clair signé de bout en bout</string>
    <string name=""crypto_msg_unencrypted_sign_verified"">d’un signataire vérifié</string>

    <string name=""crypto_msg_title_unencrypted_signed"">Texte en clair signé</string>
    <string name=""crypto_msg_unencrypted_sign_mismatch"">mais la clé de bout en bout ne correspondait pas à l’expéditeur</string>
    <string name=""crypto_msg_unencrypted_sign_expired"">mais la clé de bout en bout est expirée</string>
    <string name=""crypto_msg_unencrypted_sign_revoked"">mais la clé de bout en bout est révoquée</string>
    <string name=""crypto_msg_unencrypted_sign_insecure"">mais la clé de bout en bout n’est pas considérée comme sûre</string>
    <string name=""crypto_msg_unencrypted_sign_unknown"">d’une clé de bout en bout inconnue</string>

    <string name=""crypto_msg_title_encrypted_unknown"">Chiffré</string>
    <string name=""crypto_msg_encrypted_error"">mais une erreur de déchiffrement est survenue</string>
    <string name=""crypto_msg_encrypted_incomplete"">le courriel doit être complètement téléchargé pour le déchiffrer</string>
    <string name=""crypto_msg_encrypted_no_provider"">mais aucune appli de cryptographie n’est configurée</string>
    <string name=""crypto_msg_encrypted_unsupported"">mais dans un format non pris en charge</string>
    <string name=""crypto_msg_encrypted_cancelled"">mais le déchiffrement a été annulé</string>

    <string name=""crypto_msg_title_encrypted_unsigned"">Chiffré</string>
    <string name=""crypto_msg_encrypted_unsigned"">mais pas de bout en bout</string>

    <string name=""crypto_msg_title_encrypted_signed_e2e"">Chiffré de bout en bout</string>
    <string name=""crypto_msg_encrypted_sign_verified"">d’un expéditeur vérifié</string>

    <string name=""crypto_msg_title_encrypted_signed"">Chiffré</string>
    <string name=""crypto_msg_encrypted_sign_unknown"">d’une clé de bout en bout inconnue</string>
    <string name=""crypto_msg_encrypted_sign_mismatch"">mais la clé de bout en bout ne correspondait pas à l’expéditeur</string>
    <string name=""crypto_msg_encrypted_sign_expired"">mais la clé de bout en bout est expirée</string>
    <string name=""crypto_msg_encrypted_sign_revoked"">mais la clé de bout en bout est révoquée</string>
    <string name=""crypto_msg_encrypted_sign_insecure"">mais la clé de bout en bout n’est pas considérée comme sûre</string>
    <string name=""crypto_msg_encrypted_sign_error"">mais les données de bout en bout contiennent des erreurs</string>
    <string name=""crypto_msg_encrypted_insecure"">mais le chiffrement n’est pas considéré comme sûr</string>

    <string name=""crypto_info_ok"">Ok</string>
    <string name=""crypto_info_view_signer"">Visualiser le signataire</string>
    <string name=""crypto_info_view_sender"">Visualiser l’expéditeur</string>
    <string name=""crypto_info_view_security_warning"">Détails</string>
    <string name=""locked_attach_unlock"">Déverrrouiller</string>
    <string name=""locked_attach_unencrypted"">Cette partie n’a pas été chiffrée et pourrait ne pas être fiable.</string>
    <string name=""locked_attach_title"">Pièce jointe non protégée</string>
    <string name=""message_progress_text"">Chargement…</string>
    <string name=""messageview_decrypt_cancelled"">Le déchiffrement a été annulé.</string>
    <string name=""messageview_decrypt_retry"">Ressayer</string>
    <string name=""messageview_decrypt_incomplete"">Le courriel chiffré doit être téléchargé pour être déchiffré.</string>
    <string name=""messageview_crypto_error_title"">Erreur de déchiffrement du courriel</string>

    <string name=""recipient_error_non_ascii"">Les caractères spéciaux ne sont actuellement pas pris en charge</string>
    <string name=""recipient_error_parse_failed"">Erreur d’analyse de l’adresse !</string>
    <string name=""account_settings_crypto_support_sign_only"">Afficher les signatures non chiffrées</string>
    <string name=""account_settings_crypto_support_sign_only_on"">Les signatures non chiffrées seront affichées</string>
    <string name=""account_settings_crypto_support_sign_only_off"">Les signatures non chiffrées seront ignorées</string>
    <string name=""error_sign_only_no_encryption"">Le chiffrement n’est pas proposé en mode signature-seulement !</string>
    <string name=""unsigned_text_divider_label"">Texte non signé</string>
    <string name=""apg_deprecated_title"">Avertissement d’obsolescence d’APG</string>
    <string name=""apg_deprecated_1"">APG n’est plus maintenu !</string>
    <string name=""apg_deprecated_2"">C’est pourquoi APG n’est plus pris en charge par Courriel K-9 Mail.</string>
    <string name=""apg_deprecated_bullet_1"">Le développement s’est arrêté début 2014.</string>
    <string name=""apg_deprecated_bullet_2"">Des problèmes de sécurité non résolus persistent</string>
    <string name=""apg_learn_more"">Vous pouvez <a href=\""https://k9mail.github.io/2017/01/13/Why-APG-is-no-longer-supported.html\"" >cliquer ici</a> pour en apprendre davantage..</string>
    <string name=""apg_deprecated_ok"">D’accord !</string>
    <string name=""apg"">APG</string>
    <string name=""no_crypto_provider_see_global"">Aucune appli OpenPGP n’est installée, voir les paramètres généraux !</string>
    <string name=""crypto_no_provider_title"">Le courriel est chiffré</string>
    <string name=""crypto_no_provider_message"">Ce courriel a été chiffré avec OpenPGP.\n
  Pour le lire, vous devez installer et configurer une appli compatible avec OpenPGP.</string>
    <string name=""crypto_no_provider_button"">Choisir une appli OpenPGP</string>

    <string name=""mail_list_widget_text"">Liste des courriels de K-9</string>
    <string name=""mail_list_widget_loading"">Chargement des courriels…</string>
    <string name=""fetching_folders_failed"">Échec de récupération de la liste de dossiers</string>
    <string name=""messageview_crypto_warning_details"">Afficher les détails</string>
    <string name=""error_recipient_crypto_retrieve"">Erreur d’obtention de l’état du destinataire par le fournisseur OpenPGP !</string>

    <string name=""openpgp_enabled_error_title"">Le chiffrement est impossible</string>
    <string name=""openpgp_enabled_error_msg"">Certains des destinataires sélectionnés ne prennent pas cette fonction en charge !</string>
    <string name=""enable_encryption"">Activer le chiffrement</string>
    <string name=""disable_encryption"">Désactiver le chiffrement</string>
    <string name=""openpgp_description_text1"">Le chiffrement des courriels garantit qu’ils ne peuvent être lus que par le destinataire et personne d’autre.</string>
    <string name=""openpgp_description_text3"">Le chiffrement ne sera proposé que s’il est pris en charge par tous les destinataires et qu’ils vous ont envoyé un courriel auparavant.</string>
    <string name=""openpgp_description_text2"">Activer, désactiver le chiffrement en cliquant sur cette icône.</string>
    <string name=""openpgp_enabled_error_gotit"">D’accord</string>
    <string name=""openpgp_enabled_error_back"">Retour</string>
    <string name=""openpgp_enabled_error_disable"">Désactiver le chiffrement</string>
    <string name=""openpgp_encryption"">Chiffrement OpenPGP</string>

</resources>

<!-- File ""strings3.xml"" -->
<?xml version=""1.0"" encoding=""utf-8""?>
<!-- Copyright (C) 2008 The Android Open Source Project

     Licensed under the Apache License, Version 2.0 (the ""License"");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an ""AS IS"" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
-->

<resources>






































    <string-array name=""settings_language_entries"">
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item>Danois</item>
        <item>Allemand</item>
        <item></item>
        <item>Anglais</item>
        <item>Espagnol</item>
        <item>Espéranto</item>
        <item></item>
        <item></item>
        <item>Français</item>
        <item>Français (Canada)</item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item>Italien</item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item>Néerlandais</item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item>Portugais</item>
        <item>Portugais (Brésilien)</item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
        <item></item>
    </string-array>

















    <string-array name=""settings_preview_lines_entries"">
        <item>0</item>
        <item>1</item>
        <item>2</item>
        <item>3</item>
        <item>4</item>
        <item>5</item>
        <item>6</item>
    </string-array>












</resources>

<!-- File ""strings4.xml"" -->
<?xml version=""1.0"" encoding=""utf-8""?>
<resources>

    <string name=""openpgp_list_preference_none"">Aucun</string>
    <string name=""openpgp_install_openkeychain_via"">Installer OpenKeychain par %s</string>
    <string name=""openpgp_no_key_selected"">Aucune clef sélectionnée</string>
    <string name=""openpgp_key_selected"">La clef a été sélectionnée</string>

</resources>


```

---

*Translation made with [Stringlate](https://github.com/LonamiWebs/Stringlate).*"
k9mail/k-9,closed,Crashes with invalid format email address,"[Label(name=""bug"")]","### Expected behavior
I want to use an internal email adress like ""foo@b.2"". We use some custom software on our own servers only for internal communication. **It works in Thunderbird.**

### Actual behavior
(All messages and texts are in german on my device; I don't know the texts if you use K9 in english. I just tried to translate them)
If I try to add a new email account to K9-Mail (Enter email and password) and tap on one of the two buttons (""Manually"" or ""Continue"") the app will crash with only the message ""K-9 Mail has stopped"" 

### Steps to reproduce
1. Open K-9 Mail
2. Add new email account with ""foo@b.2""
3. Press ""Manually"" or ""Continue""
4. Crash

### Environment
K-9 Mail version: 5.403

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): I WANT to use IMAP, but I haven't tried yet, because of the crash.
"
k9mail/k-9,open,Search from server,[],"

### Expected behavior
When you do a search and tell it to look on the server for more it should be pulling up all related email.

### Actual behavior
90% of the time when you tell it to search the server it gives you the message that it is doing so but then the message disappears and no additional new emails show dispite there being many. Giving it time to sync does not help. This has been an issue for at least a year. Also happens on my wife's phone.

### Steps to reproduce
1. Hit search and put in a term and it brings up what's currently on the phone.
2.hit the search icon on bottom left with the cloud in it (server search enabled in settings)
3. Wait and nothing happens 90% of the time.

### Environment
K-9 Mail version: current Android play store

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange):imap
"
k9mail/k-9,closed,Don't create special folders on server,[],"This changes the code to never create remote folders. Local folders are only created during account setup or folder list sync.
By default special folders are unassigned. So if an IMAP server doesn't support the SPECIAL-USE extension to configure special folders, some functionality will be disabled, e.g. the ""Spam"" and ""Archive"" shortcuts. Without a Trash folder configured, deleted messages will be removed from the server which is somewhat dangerous.

Fixes #633"
k9mail/k-9,open,Reply always from default identity,[],"### Expected behavior
I use three identities for one email adress, say A@domain.com, B@domain.com, C@domain.com.
The default is A@domain.com. So if I start writing an email, sender will be A@domain.com
If I'm going to reply an email which was sent to B@domain.com, the sender B@domain.com should be used.

### Actual behavior
This is what happend in the last.
Now I'm with v5.403 and sender is always A@domain.com.
I've no idea when the problem showed up the first time but I mentioned it two weeks ago. But I haven't updated K-9 for a long time before.

### Environment
K-9 Mail version: V5.403

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): POP3/IMAP
"
k9mail/k-9,closed,"Improve wording of ""show unencrypted signatures""",[],"### Expected behavior
In the global crypto settings, ""Show unencrypted signatures"" should say something more clearly explaining that it's for enabling the verification of signed-only emails. I propose the following:

* Validate signed-only emails
    * Signatures of unencrypted emails will be displayed

### Actual behavior


### Steps to reproduce
1. View global settings > crypto


### Environment
K-9 Mail version: 5.403

Android version: 8.1

Account type (IMAP, POP3, WebDAV/Exchange): N/A
"
k9mail/k-9,open,"K9 crashes while syncronizing, if mail had been deleted from server externally",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
If I synchronize my mail account manually and a mail had been deleted (or moved) on the server (e.g. from a different mail program), K9 mail should delete it also from its list and fetch new mails.

### Actual behavior
K9 mail crashes and jumps back to main view (mail accounts). If I try to synchronize from there, the program crashes completely. If I delete all mails locally before I synchronize, there is no problem.

### Steps to reproduce
1. synchronize account
2. delete mail from server (from external computer)
3. synchronize again -> crash

### Environment
K-9 Mail version: 5.4.03 
I also tried with older versions, because I know it has worked before. Most failed. Version 5.009 works as expected

Android version: 5.1
I have another phone with Android 5.1.1 where everything works with K9 Mail 5.4.03 

Account type (IMAP, POP3, WebDAV/Exchange): POP3 & IMAP


[k9_logcat3.txt](https://github.com/k9mail/k-9/files/1800740/k9_logcat3.txt)
[k9_logcat4.txt](https://github.com/k9mail/k-9/files/1800741/k9_logcat4.txt)

"
k9mail/k-9,closed,Move some code out of EmailProvider,[],First step towards getting rid of `EmailProvider` (see #3248). 
k9mail/k-9,open,Get rid of EmailProvider,"[Label(name=""architecture"")]",Using an internal `ContentProvider` and `CursorLoader` was a failed experiment that lived in production for far too long. Let's get rid of it.
k9mail/k-9,closed,Remove unread count from action bar,[],"I'm currently working on making small improvements to the UI. Most of these will be intermediate steps and not how I envision the final UI should look like.

Before:
![k9mail__unread_count__overview](https://user-images.githubusercontent.com/218061/37246317-8538e8da-24a7-11e8-89d1-2363c8c5749e.png)

After:
![k9mail__no_unread_count__overview](https://user-images.githubusercontent.com/218061/37246319-8a7acba6-24a7-11e8-9ae2-65c2bbd9f5bc.png)

This gets rid of the custom view for the action bar title in `Accounts` and `Folders`. The message list still uses the custom view which is why action bar title and subtitle look different from the other screens.
"
k9mail/k-9,closed,Replace usage of getLastNonConfigurationInstance(),[],"After changing to AppCompat we need to use `getLastCustomNonConfigurationInstance()` instead of `getLastNonConfigurationInstance()`.

"
k9mail/k-9,closed,Update translations,[],
k9mail/k-9,closed,Add Direct Share support,[],This is rebased and cleaned up version of PR #2550 with some changes to `RecipientLoader` by @Valodim.
k9mail/k-9,closed,Only have a single settings menu entry,[],"This introduces a new settings Activity that dispatches to the existing ones for global settings and account settings.

![k9mail_new_settings_screen](https://user-images.githubusercontent.com/218061/37166644-deff9a3e-22ff-11e8-868f-10971c4f3c13.png)

I modeled this after the settings screen in Gmail. The term ""general settings"" also originates there. I like it better than ""global settings"" and would like to completely switch over. Any objections?

The ""options menu"" in the accounts, folders, and message list screens has been modified to only have a single settings entry linking to this new Activity. Since the account settings screen currently doesn't support navigating to folder settings, the only way to get to folder settings right now is via the context menu on a folder in the folders list.

Eventually I want to move some other actions to this screen:
* Settings import/export
* Change log
* About screen"
k9mail/k-9,open,Feature Request: Rearranging Account Folders,[],"I have an account with a number of aliases, each has a separate inbox and sent folder.  The folders are shown all mixed together in K9, and not in the clean order they are on the server and in thunderbird. In K9 to change this I only have the option of ""Show in top group"".  If I do that to all of the inboxes, the other sent folders are mixed in with drafts, trash etc.  Would be nice if the Folders could be individually rearranged manually.  I have 12 folders, could imagine it would start to get really ugly with more.

### Expected behavior
Users should have the option to rearrange folders manually.  Or at least have them arranged as they are on the server.  I'm guessing they're currently alphabetical? Sort of? 

### Actual behavior
Selecting ""Show in top group"" is the only option, and this doesn't allow clean organization of multiple folders under a single account.

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.501

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Shows email address instead of name if name has an '@' in it,"[Label(name=""security"")]","### Expected behavior
In the message list, and at the top of the email when opened, it should show the name portion of the From: header if ""show correspondent's name"" is enabled in settings.

### Actual behavior
It shows the sender's email address instead of their name.

### Steps to reproduce
1. Ensure ""show correspondent name"" is enabled in settings
2. Receive an email where the name portion contains '@'.  I have a forwarding service which puts the sender's real address in as part of the name, then <mailforward@service.net> as the address.  I suspect having an address as part of the name is confusing k9, even though the actual address is contained in angle brackets and being picked up correctly.
3. Look at the sender in the message list (and within the email).

### Environment
K-9 Mail version: 5.501

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Ability to disable pull-down-to-poll-mail-server,[],"Is it possible to have a check box to disable the pull-down-to-poll-mail-server functionality in the inbox?

There is a already a button to manually poll-mail-server in the menu.

As with many users who come to from a stock email app, we have a habit of scrolling to the top of the inbox but do not know if we have reached it until we pull down again and this results in an unnecessary poll.

Is there any way I can disable this functionality while waiting for this to be reviewed?

Keep up the good work!

### Environment
K-9 Mail version: 5.409

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,Rejected message not stored by or in k9mail,[],"### Expected behavior
The message I was trying to send was rejected by the server (554 5.1.1) and should therefore be stored in the Outbox.

### Actual behavior
Said message entirely disappeared! Can't find it anywhere. Not in drafts, not in Outbox. No idea where k9 stored it, but after the rejected notification (554 5.1.1, the To: address was not in virtusertable) it just got thrown out. Pretty bad, if I say so myself. First in my 30 year email sending career!

### Steps to reproduce
1. Just compose and send an email like normal
2. use a nonexistentalias@somedomainonserver.nl to send it to 
3. See the Rejected notification, and lose the composed message!

### Environment
K-9 Mail version: latest from playstore

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (secure)

If there's a folder somewhere I don't know about, where k9 stores rejected sent messages, I can't find it in the UI or within the Account it was sent by."
k9mail/k-9,closed,Duplicate folders in fodler list,[],"### Expected behavior
When I tap an account it should open and show a list of folders in that account

### Actual behavior
On many accounts there are duplicate folders listed example:

Inbox
Inbox
Sent (Sent)
Sent (Sent)
Drafts (Drafts)
Spam (Spam)
Trash (Trash) 

is the folder list on one of my accounts.


### Steps to reproduce
use teh program normally.

### Environment
K-9 Mail version: 5.403

Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
POP3 SSL/TLS 995


This happens randomly.  I can delete an account that is having the issue and re-add it.  The duplicates go away.  Then after a period of time of fetching and sending mail the duplicates re-appear."
k9mail/k-9,closed,Change HTTP link to HTTPS,[],Changed HTTP link to HTTPS which is secure.
k9mail/k-9,closed,Add server_id column to folders table,[],"Change our code to separate server ID and name of a folder. The name is only used for display purposes. The server ID is used to reference a folder (for now both locally and remotely, see #3220).

Currently all `RemoteStore` implementations still return the same value for `getName()` and `getServerId()`. So for now this shouldn't change any existing behavior. But it is a necessary step for e.g. displaying the folder hierarchy (see also #2729).

I was almost done when I realized @philipwhiuk had already implemented most of this in #2738. However, I found it easier to finish my branch than to rebase #2738."
k9mail/k-9,closed,Focus shifts to message body while typing addresses,[],"### Expected behavior
It should be possible to type an entire email address.

### Actual behavior
When typing certain addresses, focus is switched to the message body.

### Steps to reproduce
1. Start typing peter.janes. Notice that after the ""j"" focus is on the message body in a random location, and the rest of the characters are entered there.

I've seen this behaviour regardless of the keyboard I use (Swype, Gboard).

### Environment
K-9 Mail version: 5.501 (installed via beta program on Play Store). Noticed in a previous version as well.

Android version: 8.1.0, February 5 security patches applied

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,Show main folders broken when changing the assigned folders,[],"Atop of bug https://github.com/k9mail/k-9/issues/633 that K9 insists of localized IMAP folder names

### Expected behavior
Since K9 can't delete the plethora of now empty folders it created, I want to at least hide them. When selecting the 'show only main folders' option, I want to see only the folders that are actually configured and in use with IMAP

### Actual behavior
The wrong folders are hidden. The now active Sent, Drafts, Trash, Spam are not visible any more. Instead I only see the empty folders that K9 has created but are not useful for me.

### Steps to reproduce
1. Set up account on localized phone that is already in use with another imap client that uses the standard names folders.
2. fix (change) folder assignments manually in K9 so they match the non-localized standard names. 
3. select option to only show main folders.

### Environment
K-9 Mail version: 5.403

Android version: 7.1.1

Account type: IMAP
"
k9mail/k-9,closed,"""Load 25 more messages"" disappeared",[],"Hello,
since updating to 5.500 (possibly a little bit earlier?) the ""Load 25 more messages"" disappeared from within the folders, so I cannot load older messages. Running 6.0.1 on a Nexus 5
"
k9mail/k-9,closed,Feature request: add option to delete mail directly in notification,[],"Hello K9-team,

with this issue I would like to propose the addition of a delete option for emails in notifications. Some emails (e.g. newsletters) are not relevant to me and can be moved directly into the trash bin.

Right now it's necessary to click on the notification to open K9 and then delete the email. It would be much faster if I could delete an email directly from the notification similar to the reply option.

This behavior becomes especially handy if you received multiple emails of this kind.

K-9 Mail version: 5.403

Android version: 5.1.1

Account type: IMAP

"
k9mail/k-9,open,k9mail as default email app,"[Label(name=""enhancement"")]","It should be possible to set k9mail as defualt email app. However there is no way to do so. 

Setting app as default is useful for example if one wants to start it by pressing ""email"" button on  hardware keyboard.

K-9 Mail version:
5.403

Android version:
7.0
"
k9mail/k-9,open,Systematic crash on composing on teclast T10,"[Label(name=""bug""), Label(name=""help wanted""), Label(name=""needs info"")]","I've been a happy user of K9mail for years, and installed it on all my android devices, and even family devices. Unfortunately K9mail on my brand new teclast T10 tablet crash systematically and immediately without reporting any error when trying to hit compose or  reply button (https://forum.xda-developers.com/general/general/teclast-master-t10-thread-t3722138 for hardware description).

I can read mail from imap account without problem and configured K9MAIL using the save/restore configuration feature from another working tablet (and even manually when I discovered it failed to be sure it was not a config import problem).

What can I do to help diagnose the problem? I've been forced to switch to bluemail for sending email in the meantime...

I enabled the debug and trace, but I can see anything printed. I can hook an usb cable and know how to use adb if needed.

### Environment
K-9 Mail version: 5.403, even tried the new 5.501 beta yesterday.

Android version: 7.0

Account type : IMAP 
"
k9mail/k-9,closed,Change ChooseFolder to not perform a display name to folder name lookup,[],"`ChooseFolder` displays the Inbox using a localized string. Previously when the user clicked an item we read the display text from the `TextView`, compared that to the localized display name and replaced it with the ""real"" Inbox name when they match. Otherwise the text from the `TextView` is used directly.

I introduced the class `FolderDisplayData` that holds both the folder display name and the ""internal"" folder name. That allowed me to get rid of the display name to folder name mapping.
"
k9mail/k-9,closed,Automatic creation of contacts,[],"Hi,

does K9Mail automatically create contacts when writing and/or replying to an recipient which is not already listed in my phones primary address book?

I often find entries in my phones address book which were not created by me and only contain E-Mail-Addresses.

The address book in question is synced to my nextCloud via a CardDAV sync plugin.

My guess is that those contacts are either created by K9Mail on my phone or by an CardDAV plugin in my private Roundcube installation but I think I can rule out the plugin or Roundcube itself [see this issue](https://github.com/blind-coder/rcmcarddav/issues/216).

Is it possible that K9Mail automatically creates those contacts and can I stop it from doing it if so?

Thanks & best regards"
k9mail/k-9,open,Compact and empty trash for all accounts,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Problems opening .JPG (capital letters) attachment with specified app,"[Label(name=""enhancement"")]","I get emails from my Security cam with .JPG (!capital letters!) attachment
Expected behavior:
Usually my defined App is opened (Gallery in my case)

Actual behavior
K9 mail suggests some inadequate Apps

Steps to reproduce
1. recieve an email vith attachment xxx.JPG (capital letters!)
2. K9 Mail suggests several Apps to open it although there is a certain App specified for this action
 Note: If recieving an attachment xxx.jpg (lower case letters) it works!!

Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Feature request: Launcher icon selection,[],"Hey,

so many people ask to change K-9 icon. :)

Will be fine to have selection from few icons, e. g. classic, new materialized, and generic with simple white envelope icon.

No way for me to add new activities, as in SuperSu, because I'm not a developer. But,  if someone implements this, the app will be more user-friendly."
k9mail/k-9,closed,add learn more to autocrypt mutual dialog,[],"Adding a link to the [autocrypt/mutual](https://k9mail.github.io/2018/02/26/OpenPGP-Considerations-Part-III-Autocrypt.html) blog post from the prefer-encrypt=mutual dialog.

Unfortunately, I'm not sure if and how we could localize this..."
k9mail/k-9,closed,Forwarding encrypted mail doesn't quote message body,[],"### Expected behavior
When forwarding PGP-encrypted mail, the decrypted message body is included into the forwarding message.

### Actual behavior
The message body is empty except for 
```
-------- Ursprüngliche Nachricht --------
Von: Sender <a@example.com>
Gesendet: 26. Februar 2018 10:00:00 MEZ
An: Recipient <b@example.com>
Betreff: Subject
```
This also happens when sharing or replying to the message.

### Steps to reproduce
1. Be sent encrypted mail
2. Attempt to forward, share or reply

### Environment
K-9 Mail version: 5.403

OpenKeychain version: 4.9 (49001)

Android version: 8.1.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Application crashing after some time,[],"Maybe after android system update to my huawei k9 stopped working. 

### Expected behavior
Application will open or application will announce new messages

### Actual behavior
App closes after trying to open, no e-mails announced

### Steps to reproduce
1. Install k9
2. Set accounts
3. Wait
4. After some time app is dead

### Environment
K-9 Mail version: latest version classic or material desing (both has the problem)

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange):
All accounts IMAP


I was able to get filtered logcat, maybe it will help. It is attached to this issue.
[logcat.txt](https://github.com/k9mail/k-9/files/1758847/logcat.txt)
"
k9mail/k-9,closed,Always build FTS table last,[],"This way we can safely evolve `FullTextIndexer` together with our database layer.
"
k9mail/k-9,open,Change the way we reference folders and messages,"[Label(name=""architecture"")]","Right now we reference folders by name and messages by UID. Those are both identifiers that should be private to the `RemoteStore` and sync implementations. Everywhere else I want us to eventually use the local (database) ID to reference a folder or message.

Places that need to be changed (feel free to edit):
- [ ] UI code (ideally, the relevant code would be strictly separated from the UI; but that's not how it is right now)
- [ ] `MessageReference`
- [ ] `LocalSearch`
- [ ] `MessagingController`
- [ ] Notification code
- [ ] Home screen widget configuration
- [ ] Special folders configuration (`Account.get*Folder()`)"
k9mail/k-9,closed,Case sensitive folder name comparisons,[],"This makes all folder name comparisons outside of the IMAP classes case sensitive.

Luckily, we have always used ""INBOX"" as Inbox folder name for POP3 and IMAP. So there's no need for a database migration fixing up the folders table.

Fixes #632


"
k9mail/k-9,closed,Break up LocalStore and RemoteStore,[],"First step towards getting rid of the ""JavaMail model"" for `LocalStore` and `RemoteStore`.

See #832.


"
k9mail/k-9,closed,Add Direct share feature #2550,[],"Add feature  for direct share #2550, possible from Android M on.
I don't know if cryptoProvider is necessary, added a TODO for that in K9ChooserTargetService, please check.

thanks"
k9mail/k-9,closed,Replaced most icons with vector drawables,[],"I replaced most of the icons used in throughout the app with material design vector xml icons.

"
k9mail/k-9,closed,K9 crashed immediately by trying to decrypt a mail,"[Label(name=""bug"")]","### Expected behavior
Mails should be decrypted

### Actual behavior
K9 crashed immediately by trying to decrypt

### Steps to reproduce
1. Open a encrypted (in my case not signed) mail
2. Enter the key password
3. The screen will be black for a second and nothing else happens

### Environment
K-9 Mail version: 5.500

Android version: 7.0 on a Huawei nova
Account type (IMAP, POP3, WebDAV/Exchange): IMAP

I have enabled debug logging. Where can I found the logg file?
"
k9mail/k-9,closed,Update Robolectric to 3.7.1 and simplify test annotations,[],The new Android Gradle plugin makes working with Robolectric easier.
k9mail/k-9,closed,Crash when trying to create a folder that already exists,[],"Crash 'developer mode' builds when trying to create a folder when one with the same name already exists in the database. Hopefully this will allow us to track down what is causing the duplicate folder bug.

See issue #1220"
k9mail/k-9,open,"no message visible headers in ""share"" output",[],"The text output via the ""share"" option only includes the body of the message and does not include the visible (to/from/date/subject) headers. These headers really need to be included for the output message to be complete, e.g., for archiving purposes. Can they be included?

### Environment
K-9 Mail version: 5.403
Android version: 8.1

"
k9mail/k-9,open,"Option ""mail to:"" missing.",[],"Hi, 
Is it possible to extend the capability of the APK with the option in the mail showing the name of the person the mail is directed to.
So besides the ""mail from:"" to have possibility to display ""mail to:"".  On PC with Thunderbird for example there is such option but for Android I did not find any mail APK having such option. I have one account with copies of the mail where I would like to see to who the mail is sent rather then from who."
k9mail/k-9,closed,Unable to receive e-mail on IMAP mail server,[],"### Expected behavior
Mail account should connect to mail server _and_ send/receive e-mail messages.

### Actual behavior
When I try to configure the incoming IMAP server of my domain, I am told:
_Cannot connect to server.
(Unable to connect)_

If I click ""Continue"", setup continues as per normal... However afterwards, I am only able to _send_ e-mail messages; _receiving_ e-mail messages does not work.

No further error messages are shown.

E-mail settings have been tested as working just fine (sending _and_ receiving) with other e-mail clients, all of which do not show any error messages.

### Steps to reproduce
1. Attempt to configure e-mail account - IMAP over SSL.
2. Click ""continue"" at error message.
3. Attempt to send an e-mail, then reply back to that e-mail from my computer.

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,newer K9 version isn't retrieving new mail,"[Label(name=""duplicate"")]","### Expected behavior
K9 Mail  should retrieve read and unread imap messages.

### Actual behavior
K9 Mail only retrieves imap messages in which *another* mail program has already retrieved and marked as read.   Therefor, I have to check my mailbox using anything else (webmail/Thunderbird/Outlook/etc.).  They get the new email fine.  Then K9 Mail will retrieve the newest emails but will not retrieve anymore beyond this point until, again, another mail program fetches the emails first.   This started happening sometime late 2017.

### Environment
K9 Mail version:   Should be the latest.  K9 Mail is a hard program to determine what version I'm using.  There is no About K9 Mail menu option.

Android version:
7.1.1 - There is an About Phone option.  Nice.
"
k9mail/k-9,closed,Cannot copy quotation in mail,[],"When copy text that contains nested quotation I cannot copy those information. This problem is related to #3207 and #3131. Alternatively, you can solve this issue, if you allow the user to display the "">"", "">>"" as text. 

### Expected behavior
When copy all text in a plain text email, options paste should return the full email text including the "">"" , "">>"" characters.

### Actual behavior
""Paste as text"" does not contain any "">"" characters. This can be seen as a feature.  Paste however show only a single bar where all the conversation should be.

### Steps to reproduce
1. select all mail or part containing quotations (better with second level: "">"" and "">>"")
2. copy
3. paste in any editor, e.g., droidEdit or in new k9 mail.

### Environment
K-9 Mail version: 5.403
Android version: 8.0.0
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Cannot paste as quotation,"[Label(name=""enhancement"")]","Mainly because of bug #3131, but useful in general is option ""paste as quotation"". 
This feature is very well known in thunderbird. When you chose paste as quotation each line of text gets an additional "">"" . This will not work until #3208 is fixed, as K9 currenlty removes all the quotation levels.

Thanks and best regards,
Adam
"
k9mail/k-9,closed,"Gmail ""AUTH PLAIN failed (username and password not accepted) error"" used to work fine",[],"Since a few weeks ago gmail started to classfy k9-mail as not secure app, after tinkering with gmail I managed to create a password for k9-mal (which is a features gmail offers to deal with apps it considers not secure).

Everything worked fine for a few days but then I got  ""AUTH PLAIN failed (username and password not accepted).

The weird thing is that sometimes the mail gets downloaded automatically so everything seems to be working but then the other times it fails. If i try manually to send or update my mail it throws that error.
Any idea on how to fix it?

### Expected behavior
I am able to send and receive emails from my gmail account

### Actual behavior
I get a ""AUTH PLAIN failed (username and password not accepted).

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.403

Android version: 7.0

Account type (IMAP)
"
k9mail/k-9,open,No new mail notificaiton k9,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Sound and light blink notification when new mail arrives. Been using k9 for years, on many different phones, with no issues. This issue started about a week ago.

### Actual behavior
Mail arrives, not notification at all, no sound, no light blink,  no vibration, no email icon. Only know there is new mail by going into app and looking at each account to see new mail.

### Steps to reproduce
1. After reading on existing issue I thought it was related to the Quiet Time setting. Turned Quiet Time off, still no mail notification.
2.Rebooted phone, no mail notification
3.Notifications were working up until about a week ago.  All other phone notifications are working, i.e. text sounds, phone ring sound, new news alerts, etc.

### Environment
K-9 Mail version: 5.403

Android version: 8.1.0 Security patch Feb. 5, 2018

Account type (IMAP, POP3, WebDAV/Exchange):  14 separate IMAP accounts, none of the accounts are receiving notifications. Phone type = Pixel 2. New mail notifications were working on this phone up to about a week ago. 
"
k9mail/k-9,open,Bug in k-9 mail app setup new account section which leads app to crash.,"[Label(name=""bug"")]","
#### Expected behavior
When i enter invalid email format while setting up a new account on app, app needs to show me error of invalid email format instead of creating my account.

#### Actual behavior
On setup new account section of app i entered invalid email format(i used .@iamankit.com) in email address field and the app created my account with that invalid email format without giving me error. Creating account with invalid email format is the first bug and second bug is app crashed when i try to compose a email after account setup.

#### Proof that email format i used is invalid 
![Screen Shot 2018-02-19 at 11.19.55 PM.png](https://res.cloudinary.com/hpiynhbhq/image/upload/v1519062677/bzbfzrzn0jwxch2j7w5p.png)


#### How to reproduce
To reproduce the the bugs follow the steps :-
- Open app and go to set up a new account section of app.
- In email address field enter this email address <pre>.@something.com</pre>
- Type your password and click next button.
- Select account type as IMAP in next screen. After selecting you came to internal server settings screen. (I suggest you to see recording of bug for better understanding of reproduce the bug steps.)
- Now just press back button two times, pressing back button two times close the app. Open app again and you see your account is set with invalid email format. 
- Now try to compose mail and you see when you click on compose mail button the app got crashed.

<pre><code>* Device:  Samsung J7 Prime
* Operating system: Android 7.0 Nougatt
* App Version: v5.403
</code>
</pre>

#### Recording Of The Bug
https://www.youtube.com/watch?v=Purx3ZIldSI

<br /><hr/><em>Posted on <a href=""https://utopian.io/utopian-io/@iamankit/bug-in-k-9-mail-app-setup-new-account-section-which-leads-app-to-crash"">Utopian.io -  Rewarding Open Source Contributors</a></em><hr/>"
k9mail/k-9,open,"Feature Request:  ""Focused"" subset of Inbox","[Label(name=""enhancement"")]","There is an excellent feature in the Outlook mail App for Android that gives 2 subsets of the Inbox. It essentially separates messages into those from friends and those from businesses:  There is an option to click on a ""Focused"" button or an ""Other"" button.  

Focused - shows all email from single sources (perhaps these are email addresses it finds in the Contacts)

Others - these are generally the email messages from subscriptions or businesses.

This is a really convenient feature that I would love to see included in K-9 mail! 

Here is what it looks like in the Outlook App...
![focusfeaturerequest](https://user-images.githubusercontent.com/36743503/36565900-dd26f588-17ef-11e8-8eef-8ef6c4a925b6.png)


### Expected behavior
When Inbox is open, you click on the word ""Focused"" and it shows only email received from individuals.  When you click on the word ""Other"" it shows all other email.

### Actual behavior
This is a feature request.  It hasn't been implemented yet.

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange): all
"
k9mail/k-9,closed,SSL no shared cipher unable to connect to dovecot imap server,[],"K9 fails to connect to dovecot imap with all levels of ciphers selected from https://mozilla.github.io/server-side-tls/ssl-config-generator/ 
Server side log : 

```
dovecot: imap-login: Disconnected (no auth attempts in 0 secs): user=<>, rip=157.49.x.x lip=192.x.x.x, TLS handshaking: SSL_accept() failed: error:1408A0C1:SSL routines:SSL3_GET_CLIENT_HELLO:no shared cipher, session=<X/RcAtJl/gCdMW/A>
```

### Expected behavior
K9 should connect to dovecot

### Actual behavior
Unable to connect to imap server

### Versions
Versions tested: 5.403 from playstore and f-droid
Android version: Oreo 8.0
Phone: Oneplus 5t

Server conf:
Openssl version: 1.0.1t
Dovecot version: 2.1.7

### Cipher suites tested: 

- CDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256

- ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA:ECDHE-ECDSA-DES-CBC3-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA:!DSS

- ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:ECDHE-RSA-DES-CBC3-SHA:ECDHE-ECDSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:DES-CBC3-SHA:HIGH:SEED:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!RSAPSK:!aDH:!aECDH:!EDH-DSS-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA:!SRP

### Steps to reproduce
1. Install K9
2. Add an IMAP account hosted on yahoo.com or dovecot with above mentioned ssl ciphers
"
k9mail/k-9,closed,All RCPT commands were rejected with this error: S...,[],"I see this notification:

""Failed to send some messages.
All RCPT commands were rejected with this error: S...""

1. What the hell is this?
2. Why you was not able to make content expandable?
3. How should I know with which error all my RCPT commands were rejected?"
k9mail/k-9,closed,K9 is downloading gallery.mailchimp.com images when configure not to display,"[Label(name=""needs info"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
Settings->Accounts->Reading mail-> Always show images = NO
Image should not be downloaded or displayed in html email
like this link
https://gallery.mailchimp.com/da650b0b9dc5fe08c6afd4519/images/1b85961a-854f-43d1-a71a-82436d659157.png

### Actual behavior
Tell us what happens instead
Image is downloaded and displayed, infringing privacy

### Steps to reproduce
1. Settings->Accounts->Reading mail-> Always show images = NO
2. Send html email from mailchimp to email account
3. View email and picture from this link is displayed https://gallery.mailchimp.com/da650b0b9dc5fe08c6afd4519/images/1b85961a-854f-43d1-a71a-82436d659157.png

### Environment
K-9 Mail version:
5.403
Android version:
5.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP4
"
k9mail/k-9,open,Does not set \Draft flag on drafts saved to IMAP,"[Label(name=""enhancement""), Label(name=""good first issue"")]","### Expected behavior

When saving a draft message to an IMAP server, the `/Draft` flag should be set on the message.

### Actual behaviour

When saving a draft message to the Drafts folder on my IMAP server, the `/Draft` flag is not set on the message. This means that the FastMail web interface (and perhaps other mail clients) do not display the message as a draft.

The `\Draft` flag is defined in [RFC 3501 §2.3.2](https://tools.ietf.org/html/rfc3501#page-11) as follows:

> Message has not completed composition (marked as a draft).

It has special status elsewhere in the protocol. For example, the [`SEARCH` command](https://tools.ietf.org/html/rfc3501#section-6.4.4) accepts a `DRAFT` argument, defined to match “Messages with the `\Draft` flag set.”

Here's some verbose debug output from K-9 showing a subset of the IMAP traffic when saving a draft: [k9-draft-no-flag.txt](https://github.com/k9mail/k-9/files/1747842/k9-draft-no-flag.txt)

Here's a log of me inspecting the Drafts folder by hand. I had previously created another draft using FastMail's web interface (message 1 in the folder). Message 2 is the message created by K-9. 
[imap-protocol-showing-no-draft-flag.txt](https://github.com/k9mail/k-9/files/1747845/imap-protocol-showing-no-draft-flag.txt)


### Steps to reproduce

1. Configure an IMAP account
2. Save a message as draft
3. Check its IMAP flags with a different client (or by manually driving the IMAP protocol)
4. If using FastMail, browse to the message, and note that it is not considered a draft.

### Environment
K-9 Mail version: 5.403
Android version: 8.0.0
Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,Correctly sort contacts matched by nickname,[],"This is a cleaned up version of PR #3179.

I don't particularly like using the `Recipient` class to store information only required for sorting. But attempting to change that quickly spiraled out of control. `RecipientLoader` does too many things and should be split up. For now this will have to do."
k9mail/k-9,closed,Could K9 have an option to add Shared attachments to existing drafts?,[],"Apps like [StereoMatch's Amazing MP3 Recorder](https://play.google.com/store/apps/details?id=com.stereomatch.mp3.audio.recorder) can Share their recordings with K9 Mail, but when they do so, a new message is created with blank To, Subject and Body fields and just the recording attachment.  It would be very nice indeed if there were some way the recording could instead be attached to an existing draft message if there are any existing draft messages.

Then a user could, for example, press Reply on a message in their inbox, go into the recording app, record something, Share it with K9, and have the recording attached directly to the reply that they've already started.

Right now if you want to do that, you either have to fill in the To and the Subject all over again, or else forego the use of the Share function and instead save the recording to a file and then navigate to it from the Attachment menu of the reply.

Thanks."
k9mail/k-9,closed,Adding i18n arabic,[],"Hi,
Pushing arabic neutral (ar) over here pulled directly from Transifex and check issues.
Thanks.


"
k9mail/k-9,closed,Update translations,[],The removal of two used strings went unnoticed because they were still present in at least one translation. We should have a script to also remove the string from all translations when we remove a string from `values/strings.xml`.
k9mail/k-9,closed,Multipart multiline subject decoding error,[],"![screenshot3](https://user-images.githubusercontent.com/10702026/36417618-7e555d28-163d-11e8-9dfb-c957657ddccf.png)

The borked word should be **адреса**

Subject from the email source:
```
Subject: =?utf-8?B?0J/QvtC00YLQstC10YDQttC00LXQvdC40LUg0LDQtNGA0LXR?=
 =?utf-8?B?gdCwINGN0LvQtdC60YLRgNC+0L3QvdC+0Lkg0L/QvtGH0YLRiw==?=
```

I see that you've done some changing on that matter in the current master branch, but since I have no idea how to obtain a nightly release build, I report this anyway just to be sure.

Edit: using the last version from the play market 5.403"
k9mail/k-9,closed, Feature request : Show attachment at the beginning of an email exchange,[],"Hi,

This is not an issue, it's a feature request.

It would be really great if we could see the attachments at the beginning of an email exchange.

An email exchange can take long to swipe down to the end.

Can you please consider this idea ?
"
k9mail/k-9,closed,Update build tools,[],"
"
k9mail/k-9,open,FR: Adaptive icon,"[Label(name=""enhancement"")]","Api 26 introduced adaptive icons where background and foreground are two different images.
https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive.html"
k9mail/k-9,closed,Feature Request : Show and browse folders tree in the same way a file manager does,[],"Hi,

This is not an issue, it's a feature request.

It would be really great if we could see and browse the IMAP folders in the same way a file manager does with an UP folder to go back to the parent folder (in each subfolder).

Can you please consider this idea ?

Thanks for this application, you have done a great job so far."
k9mail/k-9,closed,MIME encoded syntax (=?UTF-8?Q??=) shown in subject,[],"I just recently got

![screenshot2](https://user-images.githubusercontent.com/10702026/36391297-ff76a2a4-15b6-11e8-9f48-92d256e473d5.png)

Original subject line `Subject: =?UTF-8?Q??=  =?UTF-8?Q?=D0=9F=D0=BE=D0=B4=D1=82=D0=B2=D0=B5=D1=80=D0=B6=D0=B4=D0=B5=D0=BD=D0=B8=D0=B5=20?=  =?UTF-8?Q?=D1=80=D0=B5=D0=B3=D0=B8=D1=81=D1=82=D1=80=D0=B0=D1=86=D0=B8=D0=B8=20?=  =?UTF-8?Q?=20=D0=BD=D0=B0=20Bookland.com?=`

you can see that the **encoded text** part of the first encoded-word-thingy is empty, maybe that's an issue."
k9mail/k-9,open,non-ASCII characters break link detection,"[Label(name=""bug""), Label(name=""enhancement"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Full link that appears in a text-only mail should be recognized.

### Actual behavior
Link will break with the umlaut ""ö"".

### Steps to reproduce
1.  Copy, paste and mail [this link](https://www.amazon.de/durchsichtige-abl%C3%B6sbare-Keysies-Aufkleber-Klavier-Keyboardtastatur/dp/B00XUDF6GW/ref=sr_1_6?rps=1&ie=UTF8&qid=1518650203&sr=8-6&keywords=keyboard+st%C3%A4nder&refinements=p_76%3A419122031).
2. Receive the mail and check link in K9
3. Link will be broken.

### Environment
K-9 Mail version: 5.403

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

![k9-2](https://user-images.githubusercontent.com/6330276/36373739-5e3d95a2-1569-11e8-83c0-1f1732b21115.png)

"
k9mail/k-9,closed,Add intent for start writing an email,[],"I can receive mails via imap from any ip.
But for sending mail I need to be in vpn.

It would be nice if k9 can send a special intent when I start writing an email. With tasker/macrodroid it would be possible to connect with openvpn. When the mail is written the connection will be set up and my mail can be sent.

Perhaps ""start sending a mail"", ""all mails are send"" are nice timings for intents, too."
k9mail/k-9,open,"Slow mail compose with encryption, signature, and large attachment",[],"### Expected behavior
Since modern smartphone's processor is fast, few seconds should be enough to actually encrypt/sign attachment and message itself.

### Actual behavior
After writing message and attaching attachment, K-9 takes about a minute to finish *composing* message and go back to message list with 'sending' notification on actionbar. It finishes sending in acceptable time considering my network condition.

### Steps to reproduce
1. Attach large attachment (> 5MiB) to mail.
2. Select encryption + sign.
3. Press send button.

### Other informations
OpenKeychain file encryption output (identical 5.4MiB JPEG file) with ASCII armor, compression, signature takes 2 seconds.

### Environment
K-9 Mail version: 5.403 (downloaded from Google Play)

Android version: 7.1.2 - LineageOS 14.1 (Oneplus 3T), 8.1 Stock (Nexus 5X)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP/SMTP, but I don't think this is related to this issue.
"
k9mail/k-9,closed,Printing Missing,[],"App version 5.403

Android Version 8.1.0

I seen many posts about the print option is in the sub send menu (2 left arrows). But i only see Reply, Reply all, Forward and Share. Print is not in the share options either. Not sure if just my OS or it is not yet implemented. "
k9mail/k-9,closed,Feature Request: Optionally use an own contacts book (instead of the system's one),[],"### Expected behavior
If K9 realizes that it does not have access to the system contacts it should create and use its own contacts book. Alternatively, there could be an option for this in the settings.

### Actual behavior

When K9 does not have access to the contacts book:
- Composing a mail: ""Add from Contacts"" uses the system contacts book while proposing contacts after I typed the first characters does not work at all
- Creating a new contact: it is created in the system contacts book

There are some proprietary apps that want access to my contacts. I do not want them to also know the email addresses of all my contacts, therefore I will not use the contacts book for emails.

By the way, in some countries it is illegal to give other people's email addresses to third-party companies without their permission.

### Steps to reproduce
1. Deny contacts permission for K9 or disable the contacts app
2. Do something that involves contacts (add an address to contacts or compose a mail)

### Environment
K-9 Mail version: 5.403 (F-Droid)

Android version: 6.0

Account type: IMAP
"
k9mail/k-9,closed,Fixed issue #3049:that is address bar clears when rotating to landscape mode,[],"This is my first pull request , I have fixed the bug related to issue #3049 , that is address bar clears when rotating to landscape mode , There were small changes made in MessageCompose.java and AndroidManifest.xml( you can find the images of the code added)
![correction1](https://user-images.githubusercontent.com/33859141/36216427-cd3fe7c2-11d4-11e8-9c8b-c6c836bdcaf6.PNG)
![correction2](https://user-images.githubusercontent.com/33859141/36216434-d4b1af72-11d4-11e8-9255-044b1f2c3820.PNG)
**below are the images of the error found on the app**
![img-3723](https://user-images.githubusercontent.com/33859141/36216490-01ca0662-11d5-11e8-805b-b33a8193a521.JPG)
![img-3722](https://user-images.githubusercontent.com/33859141/36216501-06f4760e-11d5-11e8-98b2-d92ea9ca361f.JPG)


"
k9mail/k-9,open,Consider effects of AMP Email Project,"[Label(name=""architecture""), Label(name=""enhancement""), Label(name=""needs info"")]","I'm not saying we should implement it, just that we will need to ensure we fallback gracefully at least.

https://github.com/ampproject/amphtml/issues/13457"
k9mail/k-9,open,Serious slowdown,[],"Unsure whether this is a k9 problem.
Since a few days most operations are very slow, several seconds to select a message etc.
Thanks for hints.

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Privacy option : Hide timezone,[],Just a suggestion : please make this option could be set for individual account.
k9mail/k-9,closed,Fix: Contact nicknames always on top #3178,[],"Fix for ""Contact nicknames always on top #3178""

correct sort for contacts with Nickname (contacts with matching Nicknames were always at the top, ignoring times contacted), seems to be introduced with adding Nicknames

"
k9mail/k-9,open,Contact nicknames always on top,[],"### Expected behavior
Nicknames should be sorted (like other contacts) according to times contacted

### Actual behavior
I experienced the problem with an often contacted person, start name is contained in nearly never contacted nickname, but nickname is on top.
especially when only entering the starting letters of a name nicknames are always on top

introduced with ""Contact nicknames not searched #2240""
see discussion here: ""search nicknames (issue 2240) #2264"" -> nicknames always on top might be a problem -> yes it is

### Steps to reproduce
1. set a nickname for a (nearly never contacted) contact which contains 2 letters of an often contacted
2. create new mail enter this 2 letters
3. Problem nickname is on top

"
k9mail/k-9,open,Menu has double entries of Outbox as an option,[],"
![sample1](https://user-images.githubusercontent.com/33859141/36068856-19742e78-0f05-11e8-8e12-33d6fb5474dc.PNG)
![sample3](https://user-images.githubusercontent.com/33859141/36068857-19bd8b5e-0f05-11e8-97f8-ffe1927f5b3b.PNG)

"
k9mail/k-9,closed,Use sensible shortcut keys (fixes #3057) (ANDROID STUDIO 3.1),[],"See Issue #3057 for discussion, but this creates shortcut keys that are
intuitive in a desktop (chromebook) or hard keyboard setting.  Aside from
using traditional ctrl-modifiers to take important actions, the keys are
chosen to not clobber over native Android EditText behavior such as copy,
paste, select, navigate, undo/redo, etc.  The specific changes are in the
strings.xml.  Of note, the ctrl-RETURN to send doesn't function on my
chromebook, but I did do it according to the documentation, so it's very
possible this is a an issue with the framework itself.

**Modifier key support required compat views, which in turn required
more recent APIs, which in turn required the latest Android Studio stuff.**
So this commit is built over my previous compatibility changes to the
Android 3.1 build environment.  (PR #3159, PR #3175, etc.)
"
k9mail/k-9,closed,Material/AppCompat (for Android Studio 3.1),[],"These material changes are built over and include the previous commits from PR #3159 (recently rebased), which update libraries, SDKs, language, and API support as well as adding basic run-time permission support.  Commit  961461c starts with many of the same changes that ended up in #3163 but I kept going and added more materialization available in the newer APIs.  This commit is also needed to support the shortcut-keys with modifier fixes for #3057 which is coming in another commit.

But if you just want the latest 3.1 support + Material design, this should have it."
k9mail/k-9,closed,Improve support for local messages (fixes draft sync issue),[],"With drafts not being uploaded we now kind of have to support local messages. This doesn't add proper support for local messages, but should make local drafts work.

This PR introduces the following changes:
* **Don't remove local messages during folder sync**. Prior to a sync we process all pending actions, including uploads. Previously that should have eliminated all local messages. Whatever local message was left over at that point was safe to be removed. With the introduction of local drafts this is no longer the case.
* **Remove local message after upload**. The only way I can think of to have ""left over"" local messages is if we upload a message but don't get the server UID of the uploaded message. That way we can't update the local version of the uploaded message and it remains a ""local only"" message. We now check for this case and remove the local message. The uploaded message will then be downloaded during the next folder sync.
* **Add support for deleting local messages.** We now simply skip all the remote operations when the user deletes a local message.

Fixes #2164"
k9mail/k-9,closed,Make some static fields final,[],"Adding final prohibits modification and allows initialization of
primitive and String fields at compile time instead of runtime in
clinit:

https://developer.android.com/training/articles/perf-tips.html#UseFinal

Found via error-prone.
"
k9mail/k-9,open,Wrap links (over several lines),[],"K9 doesn't warp links, which makes some e-mails very wide:
![screenshot_20180208-131048](https://user-images.githubusercontent.com/5685512/36012611-7e192f60-0d5f-11e8-9f28-c7e2559efeac.png)
***
compared to:
![screenshot_20180208-131057](https://user-images.githubusercontent.com/5685512/36012615-7fa039fa-0d5f-11e8-8a5a-b14fc63a9502.png)
"
k9mail/k-9,open,text/plain part: Ways to further improve HTML display of plain text mails,[],"This is related to:
#3168 and #3169 
Some ideas:

E-Mail addresses should also be converted to links
```
<test@test.com>
```
but not links for the web browser, rather -> new mail in k9 or add to contacts

example (it's often used in front of quoted replies):
```
Am 08.02.18, 11:25 schrieb ""someone"" <abc@xyz.de>:
```"
k9mail/k-9,open,"""New Mail"" icon appears even when checking for mail within K9",[],"I'm pretty sure this is a changed behavior as I would have noticed this before (maybe starting with 5.4).
I expect and correctly receive the envelope icon in my status bar when K-9 checks for and finds new emails on its own in the background. However, when I am in my K-9 Inbox and manually press the circling arrows button to fetch new email, and there is email which I now see in my Inbox, the envelope icon is placed in the status bar again. I don't think this used to happen and I don't think it's desirable because now I must make the extra step to swipe down and clear this notification. When I'm in my Inbox and I fetch new email there is no need to put the envelope in the status bar to tell me there's new message(s) in my Inbox since I'm already in my Inbox and I see them. So it's making me take the extra step to clear this notification.
Thank you.

### Expected behavior
I feel (and I think it used to be that) if I'm in my Inbox and I manually fetch new email, there is no need for the envelope icon to be placed in the status bar.

### Actual behavior
Envelope icon is placed in the status bar even when I'm already in my Inbox and I've manually fetched the new messages.

### Steps to reproduce
1. Go to your K-9 Inbox
2. Press Fetch/Refresh/whatever the circling arrows are called to fetch new emails.
3. That's it, you now must clear the envelope from your status bar even though you clearly see your new messages in your Inbox that you just manually fetched.

### Environment
K-9 Mail version: 5.403

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,TextToHtml: Rewrite text to HTML conversion,[],"This replaces the text to HTML conversion code in `HtmlConverter` with a slightly different approach. 

Things like URI detection and ASCII divider detection now operate on the plain text and create `HtmlModification` objects that describe how to transform the matches to HTML. The currently supported methods are:
* `WRAP`: to wrap URIs in `<a>` tags
* `REPLACE`: to replace ASCII dividers with `<hr>` tags

In the future I hope to add more modifications, e.g. one to de-emphasize signatures (see #3168)."
k9mail/k-9,open,De-emphasize signature when displaying text/plain part,"[Label(name=""enhancement"")]","Use grey text to display a message signature like e.g. Thunderbird does it.

Example:
![screenshot](http://gotopinion.info/wiki/images/4/47/ThunderbirdSignature01.png)
Image source: http://gotopinion.info/wiki/images/4/47/ThunderbirdSignature01.png (via Google image search)

**Notes for implementers**:
* The new `HtmlModification` mechanism can be used for that. However, we need to support nested `WRAP` instances because we still want to linkify URIs in a signature.
* De-emphasizing the signature text has to work with both the light and the dark theme. So we can't just hardcode a font color."
k9mail/k-9,open,K9 No Longer Auto Syncs since Last Update 2 weeks ago.,[],"Prior to the last major update 2 weeks ago, K9 has always auto sync'ed every 10 minutes as i requested. Since upgrade, it no longer auto syncs. Must manually drag screen down.

K-9 Mail version: 5.403

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange):  all IMAP
"
k9mail/k-9,closed,update to most recent build tools,[],"and update almost all libs to most recent,
except glide (it causes some issues)

Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,open,cpen keychain: can´t find the keys ,"[Label(name=""third-party integration"")]","imported keys from my phone to my tablet (lenovo yoga book) in open keychain (full encrypetd backup inclusive private keys) 
all keys are there in open keychain and generated some for email adresses i dont use on my phone
to keep is simple i can select open keychain as app but in the account settings i can´t select the keys
ˆbut on my asus zenphone 3 it works

### Expected behavior
select keys

### Actual behavior
no keys shown

### Steps to reproduce
1.open account settings 
2.cryptography
3.(no keys shown)

### Environment
Device
Lanovo yoga book (not working)  |  Asus Zen phone 3 (working)
K-9 Mail version:
5.403                                                 |  5.403 (please add an about version option in the menu)
Android version:
7.1.1                                                  |7.0
Account type (IMAP, POP3, WebDAV/Exchange):
imap.gmx.de (and same with gmail)
edit:
open keychain version
4.8.1                                                 | 4.8.1

need to deactivate the open keychain connection to send mails
gives out an cant connext to  the encryptuon service

(everything roughly translatet from german to english by me)"
k9mail/k-9,open,List view converted to RecyclerView using wrapper on existing adapter,"[Label(name=""needs rebase"")]","A rebased version of #2916 on-top of my minimal Material changes. Still in a TODO state. Pushed it to the main K-9 repo to make future work by others easier.

"
k9mail/k-9,closed,Minimal Material change (relocated #3124),[],Pushed my branch to the K-9 repository. 
k9mail/k-9,closed,forwarding e-mail (attachments) download full message prompt,[],"K9 should ask you, whether you want to download missing e-mail attachments to be able to forward them as well.
Right now, K9 just opens the send dialogue and only adds attachments, that are available without mentioning it. (except if you downloaded the full message before)

In general it should also ask you to download the full message before forwarding (so the text/html is fully forwarded as well)

EDIT:
the prompt could offer 3 answers:
Always, once, not now)"
k9mail/k-9,open,support more file managers for saving attachments (long press),[],K9 should support Android's document handler and maybe the fx file explorer (https://play.google.com/store/apps/details?id=nextapp.fx)
k9mail/k-9,open,Notification light/LED not blinking,[],"### Expected behavior
The led notification light should blink everytime an email arrives as I have the option enabled.

### Actual behavior
Led notification light doesn't blink at all. My device has only one colored notification light and that is white. In the color option, there is no option for selecting white too. Well, it should work anyway as it does on any other app, so I think the colored doesn't matter here. I have one Gmail and one Outlook account logged in. It's not working on any of them.

### Environment
K-9 Mail version: 5.403

Android version: 8.0.0 Device: Xiaomi Mi A1

Account type (IMAP, POP3, WebDAV/Exchange): I'm not aware of this. I just added my Gmail and Outlook account via the default method.
"
k9mail/k-9,closed,Update build/libraries/API/SDKs/Java/tools + basic runtime permissions (Android Studio 3.1),"[Label(name=""don't merge"")]","I was annoyed by the inability to resize windows in my chromebook so I built K9 with the Android Studio 3.1 that went into beta today... and... now I can resize windows.

Note:  Google has also [announced that all apps in the Play store must update their targeted APIs starting in November 2018](https://android-developers.googleblog.com/2017/12/improving-app-security-and-performance.html).

![image](https://user-images.githubusercontent.com/528174/35610834-b42dd974-0617-11e8-88a6-940cee7b964f.png)

On the Chromebook, K9 is nice but the holo theme looks grey and dingy by modern standards.  Material design can be enabled with the changes in #3175.

WHAT THIS COMMIT HOPEFULLY DOES:

* Update gradle plugin to latest to date in Android Studio 3.1 beta 1
* Update gradle from 3.3 to 4.5.1 release
* Update target API from 22 to 27 (min now 14)
* Update to Java 1.8
* Enable new Dex compiler
* Use new ""implementation"" syntax in build.gradle
* Update (most?) non-testing google/3rd party libraries to latest
* Add simple default notification channel (for Android 8+ compatibility)
* Handle runtime permissions for contacts/storage

DOES NOT DO:
*  A material conversion (See #3175 for this)
*  Update most testImplementation libraries

Cheers!

Note:  Rolling build failed with ""_....some licences have not been accepted_"".  No big deal."
k9mail/k-9,open,Tapping message in index opens wrong message,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
I open my Sent mailbox and refresh it. Then I tap on the top message. I expect to view that message's content.

### Actual behavior
Instead, it opens a different sent message, from 4 months ago.

The same thing happens if I search for a word that appears only in the message I want to view. The ""Search results"" list shows the header of the message I want. But when I tap it, I see that same wrong old message.

### Steps to reproduce

1. Open ""Sent"" or another folder that's not automatically polled nor pushed.
2. Tap a message in the index to view it.

### Environment
K-9 Mail version:
5.403

Android version:
7.1.2

Account type (IMAP, POP3, WebDAV/Exchange):
Dovecot IMAP"
k9mail/k-9,closed,Update quoted message button text to make it clearer,[],"The easy bit from #3143

"
k9mail/k-9,closed,Message View Theme - quick change from dark to light,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When reading a message, there should be a menu item that allows the Message View Theme to be changed from Dark to Light.

### Actual behavior
There used to be a menu item (While reading a message) to change from the Message View Theme Dark to Light.  This menu item is no longer available, although it was in a recent past version.

### Steps to reproduce
1.  SETTINGS - GLOBAL SETTINGS - DISPLAY
2.  THEME is set to DARK
3.  MESSAGE VIEW THEME is set to DARK  (or USE APP THEME)
4.  Open a message that contains a bar code or a QR code.  
5.   **If taking a screen shot or holding to scanner, it will not work because it's inverse** 
6.  Look for menu item (**now missing from previous releases**) to easily switch to ""Message View Theme - Light"".
7.  Without the menu item in the Reading Message mode, then users must go to SETTINGS - GLOBAL SETTINGS - DISPLAY - MESSAGE VIEW THEME, in order to set temporarily to Light.

### Environment
K-9 Mail version:5.403

Android version:6.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,Remove legacy emoji support,[],"It looks like this code has been inactive for a while.

`CharsetSupport` still contains some code that rewrites code points from one private use area to another. Presumably that's also part of the legacy emoji support. At some point we'll probably want to change this to rewrite legacy emojis to the Unicode versions."
k9mail/k-9,open,[Feature Request] make acount indicators hideable in list view,"[Label(name=""enhancement"")]","make acountcolors indicator hideable in the list view, to free up space and provide more place for the contact images. anyway, very good work, keep it up"
k9mail/k-9,closed,gestures not working,[],"hey. I got k9mail on a samsung s7 equinox, with lineage os 14.1. I activated gestures, but it wont allow me to swipe between the mails."
k9mail/k-9,closed,[Feature Request ] Swiping,[],"allow swiping in the list view, to delete a mail- send it to the bin. Would be better and faster handling"
k9mail/k-9,closed,[Feature Request] adjustable colors,[],"make colors individualy adjustable, like background, titles, etc."
k9mail/k-9,closed,Composing message to address not in contacts jumps to message text,[],"### Expected behavior
When composing a message to an address not in contacts, I'd expect to be able to enter the address.

### Actual behavior
When composing a message to an address not in contacts, the contact dropdown shows until there are no matches, then disappears. When typing a subsequent letter (for example, if entering ""not"", which doesn't correspond to a contact), the cursor will jump to the message text field.

This seems similar to one of the issues reported in #2836.

### Steps to reproduce
1. Open compose view
2. Begin typing the address of a contact not in contacts
3. Upon typing a subsequent letter after the contact dropdown disappears, the cursor will jump to message text.

### Environment
K-9 Mail version: 5.403

Android version: 8.1.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,Incompatible OpenKeychain API versions,[],"used api version: 12
supported api versions: 7, 8, 9, 10, 11

The k9mail is from f-droid. Before update (the old version had an old icon) everything worked fine. After update it had stopped. OpenKeychain have not been upgrader. Have someone downgraded k9mail to the old code base?"
k9mail/k-9,open,Add Ability to Synchronize Folders (Especially Draft and Archive) Bidirectionally for IMAP,[],"### Expected behavior
When an IMAP synchronization takes place, local copies of emails in folders like draft and archive are uploaded to the remote server.

### Actual behavior
When an IMAP synchronization takes place, local copies of emails in draft gets first moved to trash, and then gets permanently deleted when trash is synchronized.

### Steps to reproduce
1. Write anything.
2. Save what you are working with as a draft.
3. Order a synchronization of your email account.

### Environment
K-9 Mail version: 5.208

Android version: 7.1.2 (LineageOS 14.1)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (FastMail)
"
k9mail/k-9,closed,TextToHtml: Change UriParser interface,[],"Change the `UriParser` interface to work with `CharSequence` in anticipation of using URI detection on `EmailSection` instances.
The changed code will only find URIs and return an `UriMatch` instance containing information about a match instead of linkifying right away. The `UriLinkifier` class preserves the current behavior for `HtmlConverter` but will be removed in the next of this series of ""TextToHtml"" patches."
k9mail/k-9,closed,Return actual root part of message in MessageViewInfo (fixes #3004),[],"This fixes #3004, which was a bug that snuck into #2777 where the actual content part wasn't correctly passed to the quotation logic. Sigh."
k9mail/k-9,closed,Read receipt doesn't work,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
I expect to get a ""read receipt"" from a message that was read after I sent it with ""read receipt"".

### Actual behavior
I send a message with read receipt.  At best, I get an immediate response saying it was delivered and never a ""read receipt"" once it was read.  At the least, nothing comes back at all even though it was both delivered and read.

### Steps to reproduce
1.   While composing a message, click on menu and ""Read receipt""   
2.   Popup comes up and says ""Will request read receipt"" - then fades away
3.  Send message
4.   Wait for one of the two conditions above to happen ( at best a delivered receipt, at worst, nothing comes back)

### Environment
K-9 Mail version: 5.403

Android version:  6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,"Unfortunately, K-9 mail has stopped","[Label(name=""needs info"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
From within the inbox, I click on a message to open it.  it should open and display the message.

### Actual behavior
From within the inbox, I click on a message to open it.  Instead of opening it, I get a popup that says ""Unfortunately, K-9 mail has stopped.""  (that's the exact text) with two buttons :     ""REPORT""    and ""OK"".  I click ""OK"" and brings me back to the Account List, not even the in-box of the account I was in.  Nor does the program actually abort.  This only happens on that one message, every other message  can be opened properly without issue.

This happens every so often on one our of hundreds of messages.  I've tried to copy and move the message to another folder and the exact same behavior occurs when trying to open that message regardless of what folder it is in.   It appears completely random and not related to any particular sender that I can tell.  

Viewing the message from a regular browser interface shows there's nothing wrong with it from that perspective.  


### Steps to reproduce
1.   Open a message from the inbox (to start) or any other folder if copied there.
2.   Seemingly randomly, one of many messages will not open and get the popup.
3.   All I do is double tap on a message within a folder to open it.

### Environment
K-9 Mail version:   5.403

Android version:  6.0

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP
"
k9mail/k-9,open,Clarify quotation include/exclude when composing,[],"Could we clarify the user interface to make the options of quotations more obvious? To me it looked like a minimize function, instead of an exclude function.

Suggesting tree modifications:

 1. Change the text ""quoted message"" to ""re-attach quoted message"" to clarify that the button has the action of re-attaching. (Or change it to ""re-attatch quotation"" or ""attach quotation"". Anyway you get the point.) (Dont forget to inform the translaters about this)
2. Change the ""X"" symbol (cross) to a trashbin symbol, to symbolise discarding the quotation. It won't be confusing to have a trashbin there as it is located next to the edit button and the qoutation is outlined.
3. Add a third button, to recover the original quotation. I came up with this to solve an issue I sometimes have where I start editing the quotation and composing a message and later realise I deleted too much in the quotation. A reset button for the quotation area (with a confirm dialog) would resolve that. Just give it some sort of refresh icon. (One might call this an ""undo edit"" option).

Pretty high standards huh? But why shouldn't we ;)"
k9mail/k-9,closed,Update changelog for next beta,[],"Obviously once we decide to cut the beta we'll probably want to abbreviate more, but I thought I'd make a start.


"
k9mail/k-9,closed,Can't connect to IMAP server with SSL on port 993 - no error given,"[Label(name=""needs info"")]","### Expected behavior
K-9 mail should connect to the IMAP server with SSL enabled

### Actual behavior
K-9 mail simply states that it cannot connect to the server (no further information provided)

### Steps to reproduce
1. Enter account details (IMAP with SSL, port 993)
2. Hit next
3. It fails to connect to the server

### Environment
K-9 Mail version: 5.403

Android version: Tried with 4.4.2 on an old tablet, on 7.0 on a Motorola G5, and on 7.1.1.

Account type (IMAP, POP3, WebDAV/Exchange): IMAP with SSL on port 993 for incoming

Some information about the incoming server:

>>>>>
nmap --script ssl-enum-ciphers -p 993 mail.$SERVER.com

Starting Nmap 7.60 ( https://nmap.org ) at 2018-01-26 13:03 CST
Nmap scan report for mail.$SERVER.com ($IP)
Host is up (0.070s latency).

PORT    STATE SERVICE
993/tcp open  imaps
| ssl-enum-ciphers: 
|   TLSv1.2: 
|     ciphers: 
|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 (secp384r1) - A
|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp384r1) - A
|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp384r1) - A
|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp384r1) - A
|     compressors: 
|       NULL
|     cipher preference: client
|_  least strength: A

Nmap done: 1 IP address (1 host up) scanned in 3.51 seconds
>>>>>

I removed the server name and IP, but the nmap scan shows the available ciphers.  I'm wondering if that is the problem.  The odd part is that the same settings work in Thunderbird without problem.

IMAP server
Port 993
SSL/TLS
Normal Password

I didn't see anything obvious when I dumped the log information via adb.
"
k9mail/k-9,closed,feature request: debugging sanitization,[],"It would be nice, if I could activate some sort of debugging in the settings, so that the ... menu of every e-mail has another option, that allows me to take a look at all the html in the e-mail that got removed by sanitization.
This way we all have an easier time adjusting the whitelist for html e-mails until no more elements are missing :)"
k9mail/k-9,open,Width of img tag isn't used,[],"Before loading images:
![screenshot_20180126-150553](https://user-images.githubusercontent.com/5685512/35447017-cc8f6d7a-02b6-11e8-9c7d-9bf054e19740.png)
After loading images:
![screenshot_20180126-151145](https://user-images.githubusercontent.com/5685512/35447020-ce79f0a6-02b6-11e8-8cb8-cf493be11f5d.png)

Width of the surrounding table and of the image are in the html, so that shouldn't be the issue, why the img is displayed wider, than it should be.

[Humble Bundle.zip](https://github.com/k9mail/k-9/files/1668218/Humble.Bundle.zip)
"
k9mail/k-9,closed,twitter background image - td element,"[Label(name=""bug"")]","the background images (for previewing videos in the twitter e-mails) aren't displayed for some reason.

[twitter.zip](https://github.com/k9mail/k-9/files/1667936/twitter.zip)

Could you pls take a look? :)

Regards,
Djfe
"
k9mail/k-9,open,adresses in draft messages not saved ,[],"

### Expected behavior
Copy addresses from existing message, pasted into new message, new draft message saved, all addresses should be saved. 

### Actual behavior
Only one of the addresses saved. 

### Steps to reproduce
1. Copy addresses
2. Paste into draft 
3. Save draft
4. Open draft
5. Find addresses disappeared


### Environment
K-9 Mail version:
5.403

Android version:
7.0
Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Remove namespace prefix from auto-configured special folder names,[],"Squashed commits from #3115 together with some refactoring.
"
k9mail/k-9,closed,Improve code style in several Activity classes,[],"mXyz -> xyz changes only.

"
k9mail/k-9,closed,Split B-/Q-decoding and charset decoding into two different phases,[],"It is very unlikely that the Q-encoding or B-encoding is split across multiple encoded words. The common mistake is not taking charset encoding into account when creating multiple encoded words.
With this change we strip the Q-encoding/B-encoding of individual encoded words but do the charset decoding using the combined (decoded) bytes.

Fixes #3125

"
k9mail/k-9,closed,Cannot find copied .k9s files in Download,[],"### Expected behavior
All files with .k9s as filename extension should appear in the Download directory

### Actual behavior
I didn't find them.

### Steps to reproduce
* I exported a file named k9_settings_export_2018-01-23.k9s on a Android 4.4.2 device with K-9 Mail 5.403 ([F-Droid build](https://f-droid.org/packages/com.fsck.k9/))
* On another device with Android 4.4.4: 1) I copied k9_settings_export_2018-01-23.k9s to the download directory 2) I tried to import it with: Settings Import & Export -> Import settings. The Download directory is empty. Then I exported the (empty) K-9 Mail settings on the new device for test purpose and I found them in the Download directory via Settings Import & Export -> Import settings.

### Environment
K-9 Mail version: 5.409

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,TextToHtml: Extract sections from a plain text email,[],"First step towards rewriting the code to convert a plain text email body to HTML.
This only adds new classes that aren't used anywhere yet.
"
k9mail/k-9,closed,Text not quoted on reply to encrypted mail,[],"### Expected behavior
When I reply to an encrypted mail (openkeychain) the text is not quoted. That was working until recently

### Actual behavior
One empty line with a '>' in front is 'quoted'

### Steps to reproduce
1. reply to encrypted mail
2.
3.

### Environment
K-9 Mail version: 5.403

Android version: 7.0 and 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Show toast when Contacts app is missing,[],"Fixes #3129 

"
k9mail/k-9,closed,App crashes when I click on contact logo,"[Label(name=""bug""), Label(name=""custom-ROM""), Label(name=""good first issue"")]","Hi,
I've not found a recent issue related to my issue.

Thanks for your answer

### Expected behavior
It should be create a new message with the clicked contact, as recipient.

### Actual behavior
Since the update, the app crashes when I click on contact logo square.

### Steps to reproduce
1. Open the app
2. Click on the logo square of any email
3. The app will crash

### Environment
K-9 Mail version: 5.403

Android version: 5.1 with Flyme 6.2.0.0A

Account type (IMAP, POP3, WebDAV/Exchange): IMAP with Gmail
"
k9mail/k-9,closed,Signing outbound messages - feature missing in k9,[],"
### Expected behavior
In a former release of K9 the signing of messages was possible.

### Actual behavior
Now there's only crypting of messages possible.

### Steps to reproduce
1. Compose new email
2. Options with 3 dots opening shows only activating crypto not signing

### Environment
K-9 Mail version: 5.403

Android version:
8.1.0 most recent patch level

Openkeychain version:
4.8.1(48002)
"
k9mail/k-9,closed,Fix decoding of multiple encoded words,[],"I'm not happy about this one. I'm not sure it's the right approach.

Fixes #3125"
k9mail/k-9,closed,How to create a message filter ?,[],"Hello,

I'm using my own mail server, and the main disavantage is that my mailbox is permanently saturated by messages from cron. I'd like to create a filter to move those messages to other folder, but the app seems not have this functionality, i searched for 5 minutes without finding anything like that.

So here is my question: is it possible to create message filters ? If it is, how ?

Thanks."
k9mail/k-9,closed,Subject only decoded in part .,"[Label(name=""bug"")]","I got raw subject like 
Subject: =?UTF-8?B?W+aWsOioguWWrl0g6aGn5a6iOiB4eHhAeHh4LmNvbSDmnInmlrDoqILllq46ICMyMDE4MA==?=
                                                                   	=?UTF-8?B?MTE4MTIzNDU2Nzg=?=

It separate in 2 lines , k9 only parse the first line
### Expected behavior
K9 should parse all lines

### Actual behavior
Tell us what happens instead
 k9 only parse the first line
### Steps to reproduce
1. Use Gmail to send mail to address used in k9
2. In Subject , paste [新訂單] 顧客: xxx@xxx.com 有新訂單: #2018011812345678
3. Send it out.

### Environment
K-9 Mail version:

master branch 
commit 63010dd4deea64a323de0036d97ef15fca3277ff


"
k9mail/k-9,closed,Minimal changes for Material with AppCompat,[],"This is minimal change PR for moving to using Material via the AppCompat library.

There's lots more we can do here - but this is both usable and a step in the right direction.

Main changes:
* Using v7 ActionBar
* K9ListActivity now implements the List functionality and extends K9Activity.
* A few action bar actions are now 'ifRoom' instead of 'always so that there's space for the account name on the Folder list

Screenshots:
https://photos.app.goo.gl/0NoJuo75jkh5U9Tw2

"
k9mail/k-9,closed,Add support for image-maps,[],For some reason it breaks - I'll fix it up.
k9mail/k-9,closed,e-mail not shown correctly (valid tags/attributes filtered by sanitizing?),[],"Hi, it's me again.

I got another mail as an example:
[[LEDE Project Forum] Summary.zip](https://github.com/k9mail/k-9/files/1651751/LEDE.Project.Forum.Summary.zip)
This time from a discourse forum (LEDE).

Thunderbird:
![thunderbird_2018-01-22_12-33-33](https://user-images.githubusercontent.com/5685512/35219051-342d8212-ff71-11e7-8fbd-8373740b4507.png)
![thunderbird_2018-01-22_12-34-11](https://user-images.githubusercontent.com/5685512/35219053-36122524-ff71-11e7-8294-27f9cc788606.png)

K9:
![screenshot_20180122-123307](https://user-images.githubusercontent.com/5685512/35219121-91075d14-ff71-11e7-8808-6489356957ac.png)
![screenshot_20180122-122547](https://user-images.githubusercontent.com/5685512/35219122-92410bda-ff71-11e7-8743-120f598549fa.png)
There are white lines left and right of the blue box (because some part of the table layout is missing after sanitizing, I guess)

Some headlines are black and too small instead of white and not centered (sanitizing, too?)
(Taking a look at the code, this might be fixed by whitelisting ```<center>``` ^^)

The link at the end should be broken up into multiple lines like thunderbird does it.

And there should be more grey background instead white background overall (maybe it's enough to break the link into several lines, though).

Regards,
Djfe"
k9mail/k-9,closed,image map / links not working,"[Label(name=""bug"")]","There's an email with an image map (picture with links according to the x,y position).
But I can't open a link. No link is shown.
Works well with other email clients...

Is there a (new) setting for this?

Android 7.0
k-9 5.403

Matt"
k9mail/k-9,closed,Show address if personal component is email address,"[Label(name=""security"")]","Fixes #2962

As I discussed in the issue, I'm not too worried about false positives here hence the simple check."
k9mail/k-9,open,"""message too large server"" not shown",[],"If I attach a file over the attachment menu (document handler of android), I get this helpful error message, when the message ends up again in drafts after sending a mail with a 60mb attachment.
But when I attach it by sharing a file from whatsapp to k9, then it ends up in drafts without any error message."
k9mail/k-9,open,Runtime permissions - External Storage permission,"[Label(name=""needs rebase"")]","Contacts is more deeply embedded so that's a bit more work. But here's a PR for the external storage permission handling.


"
k9mail/k-9,open,media query support,[],"Hi,
It looks to me like k9 doesn't support media queries.
I know, it's far from required or standard, but since this is a mobile e-mail client, I think media queries would definitely be a beneficial feature.

It would be very cool if you could add support for them in the future :)

At least ebay uses them. (to restructure layout, add padding to containers and show different images for the mobile version (images being text))

I attached an e-mail by them as an example
(I know it's ugly code; I wanted to projectile vomit when taking a closer look. 3-layered tables for layout and images for text formatting. A yahoo fix and 72kb of size; probably not new to you though ^^)
[ebay_email.zip](https://github.com/k9mail/k-9/files/1649573/ebay.zip)

Though, if you add support, then you should think about different the different displays (low/high res, different aspect ratios etc.) and in each these cases what width e-mails should be displayed at. (in-case you haven't already, obviously)

Regards,
Djfe

PS: it could also be, that K9 doesn't support css attribute selectors, yet. (or some other feature, that the example requires; I would be glad if you could take a closer look :) )

EDIT:
My smartphone has a resolution of 1920x1080, so I'm not sure, whether the media rules in the file even apply. What viewport width would k9 use on my device?"
k9mail/k-9,open,Preserve recipients in MessageCompose during rotation (activity re-creation),[],"Fixes: #3049  

"
k9mail/k-9,closed,remove namespace prefix from auto-configured special folder names (issue #701),[],"resolve issue #701 by removing namespace prefix from auto-configured special folder names

Tested with dovecot and prefix ""INBOX."" (see https://wiki.dovecot.org/Migration/Courier). Should also work with other prefixes or separators. The old behavior resulted in new folders named e.g. INBOX.INBOX.Sent"
k9mail/k-9,open,Improve MessagingController,[],"More work on our favourite God-class.

* Extracted an interface. This can store Javadoc concerning usage and makes it clearer what functionality we are trying to expose. 
* Started testing `loadMessageRemoteSynchronous`

The tests get closer to the scenario of #3111 (which was the original aim - to actually TDD a fix for it)

Still need to workout how to further reduce the responsibility of MessagingController.

It would be nice if each of the Runnables submitted was an object of a class - i.e:

```
new SearchRemoteMessagesTask(acctUuid, folderName, query, 
            requiredFlags, forbiddenFlags, listener)
```

instead of

```
new Runnable() {
    @Override
    public void run() {
        searchRemoteMessagesSynchronous(acctUuid, folderName, query, 
            requiredFlags, forbiddenFlags, listener);
   }
}
```

with all the functionality part of the MessagingController. The task would have to be passed everything it needed to run - which would mean a large constructor / a builder style system.

Anyway, for now, a few more tests and an interface."
k9mail/k-9,open,Inline images removed when replying/forwarding an email,"[Label(name=""bug"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Receiver can see picture。

### Actual behavior
Receiver can't see picture。

### Steps to reproduce
1.Inner message with pictures。
2.Forward this mail。
3Receiver receive this mail，picture not show。
<img width=""544"" alt=""qq20180120-193037 2x"" src=""https://user-images.githubusercontent.com/20715418/35182937-6b288384-fe18-11e7-8e0a-97aab9e2c91a.png"">



### Environment
K-9 Mail version:5.3.0

Android version:7.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP"
k9mail/k-9,closed,Fix and test for issue #913,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,open,Empty message body when opening mail from server search results,"[Label(name=""bug"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When I open a mail from the server search results list I expect to see the content of the message.

### Actual behavior
No content is displayed, just the sender, recipient and timestamp. In addition, selecting 'Show headers' from the menu displays the headers for a fraction of a second and then they disappear.

### Steps to reproduce
1. Run a search from the message list
2. Press 'Search messages on server'
3. Select a message from the server results list

### Environment
K-9 Mail version:
5.403
Android version:
7.0
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Request: Discard Draft Changes,[],"Hi

Currently, when closing a pre existing draft, there's no way to discard edits but keep the pre existing version.

Plz implement this feature. 

Thx!"
k9mail/k-9,closed,Pictures in the body of a message，forward not show,"[Label(name=""invalid"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.Forward a message ,picture inner the message。
2.The receiver ，inner message not show picture。
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Fix https://github.com/k9mail/k-9/issues/3049,[],"I have added the attributes ""screenSize"" and ""orientation"" in configChanges in the ""MessageCompose"" activity.

"
k9mail/k-9,closed,"In message picture，forward this meassage, receive not display。",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Mark read notification not working but reply does,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
It should mark the email as read and dismiss the notification.

### Actual behavior
Pressing the button does nothing.

### Steps to reproduce
1. Receive email notification
2. press mark read


### Environment
K-9 Mail version:
5.403
Android version:
8.1

Account type (IMAP, POP3, WebDAV/Exchange):
Imap"
k9mail/k-9,closed,Autocrypt gossip,[],"This adds support for receiving and sending Autocrypt-Gossip headers. It's still a WIP PR, I'm currently working on the OpenKeychain before finishing this.

It depends on https://github.com/open-keychain/open-keychain/pull/2253, which changes the Autocrypt logic quite a bit to work according to Autocrypt 1.0 spec.

All of this is both forward-compatible (newer openkeychain is compatible to current k9), and backward-compatible (newer k9 works with old openkeychain, but silently fails sending or receiving gossip)."
k9mail/k-9,open,Not fetching mails,"[Label(name=""custom-ROM"")]","### Expected behavior
Sync to the emails

### Actual behavior
Not syncing emails
Doesnt matter if set at any interval
Sometimes it says next sync in 1 hour ago and other times syncing disabled
Fetches emails if manually synced by pulling down screen


### Steps to reproduce
1. Setup IMAP acct
2. Default settings

### Environment
K-9 Mail version: 5.403 updated on 6 Jan 2018

Android version: OxygenOS 5.0.1
Android 8.0.0
Phone: onePlus 3t
Build: A3003_28_171227

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,k9 closes when reading any email,[],"### Expected behavior
Mail text should be rendered

### Actual behavior
K9 crashes


I recently updated from an older version to the latest obtained from github.
And everything was working
This morning k9 crashes when opening any mail in any of my accounts.
The mail opens and I can see the from and too subjects and where the message text should be.
The text area stays black for 2 secs then the app crashes.
I can read the blurbs In the inbox of each mail
Where can I email a log?

### Environment
K-9 Mail version: 5403

Android version: Samsung 6.01

Account type (IMAP, POP3, WebDAV/Exchange):ima

Log attached
"
k9mail/k-9,closed,Some HTML links in text emails no longer recognised and not clickable,[],"
### Expected behavior
HTML links in a text (not HTML) email should be recognised as such.

### Actual behavior
They no longer are, after the update to version 5.403 on 6-Jan-2018. They used to work fine before this update.

### Steps to reproduce
Send yourself a text email with the body containing exactly the following (copy the text verbatim, with the < and > characters):

```
<http://www.google.com>

<www.google.com>

http://www.google.com

www.google.com
```

You will notice only the third link works (i.e. can be clicked on) - the others are not recognised as such.

The links in the format `<http://www.website.com>` come from newsletters I am subscribed to; like I said, they used to work just fine before the 5.403 update.

### Environment
K-9 Mail version: 5.403

Android version: 7.0 running on Samsung Galaxy s7 edge

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (but I don't think it's relevant)
"
k9mail/k-9,open,K-9 often can't connect to the internet,"[Label(name=""custom-ROM"")]","K-9 often can't connect to the internet after a while. I have to kill and reopen it to make it work.

Internet in the same time works perfectly for other apps (browser, for example).

How can I help you for improving this ?

### Environment
K-9 Mail version: 5.402 F-droid

Android version: 7.1.2 (LOS)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,K-9 crash (EmailProviderCacheCursor.moveToPosition),"[Label(name=""custom-ROM"")]","With Android option ""background sync"" activated today.

Here is the log :

```

01-16 10:21:54.786 I/ActivityManager(3016): START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.fsck.k9/.activity.Accounts bnds=[164,1134][298,1286] (has extras)} from uid 10028 on display 0
01-16 10:21:56.273 I/ActivityManager(3016): START u0 {flg=0x14000000 cmp=com.fsck.k9/.activity.MessageList (has extras)} from uid 10083 on display 0
01-16 10:22:18.440 I/ActivityManager(3016): START u0 {act=com.fsck.k9.intent.action.REPLY cmp=com.fsck.k9/.activity.MessageCompose (has extras)} from uid 10083 on display 0
01-16 12:25:24.207 I/ActivityManager(3016): Waited long enough for: ServiceRecord{af8ea32 u0 com.fsck.k9/.service.PushService}
01-16 12:25:24.227 I/ActivityManager(3016): Waited long enough for: ServiceRecord{8032383 u0 com.fsck.k9/.service.PollService}
01-16 12:36:40.652 I/ActivityManager(3016): Waited long enough for: ServiceRecord{8eaf4f1 u0 com.fsck.k9/.service.PollService}
01-16 12:49:24.731 I/ActivityManager(3016): Waited long enough for: ServiceRecord{7018e7d u0 com.fsck.k9/.service.PollService}
01-16 13:04:31.831 I/ActivityManager(3016): Waited long enough for: ServiceRecord{ec6a208 u0 com.fsck.k9/.service.PollService}
01-16 13:19:37.166 I/ActivityManager(3016): Waited long enough for: ServiceRecord{f214b4b u0 com.fsck.k9/.service.PollService}
01-16 13:36:24.946 I/ActivityManager(3016): Waited long enough for: ServiceRecord{3d4bab6 u0 com.fsck.k9/.service.PollService}
01-16 13:50:32.597 I/ActivityManager(3016): Waited long enough for: ServiceRecord{4777bfb u0 com.fsck.k9/.service.PollService}
01-16 14:04:34.836 I/ActivityManager(3016): Waited long enough for: ServiceRecord{9d88be5 u0 com.fsck.k9/.service.PollService}
01-16 14:20:50.559 I/ActivityManager(3016): Waited long enough for: ServiceRecord{69148ee u0 com.fsck.k9/.service.PollService}
01-16 14:36:47.972 I/ActivityManager(3016): Waited long enough for: ServiceRecord{63f3d9c u0 com.fsck.k9/.service.PollService}
01-16 14:49:11.821 I/ActivityManager(3016): Waited long enough for: ServiceRecord{665d68b u0 com.fsck.k9/.service.PollService}
01-16 15:04:19.585 I/ActivityManager(3016): Waited long enough for: ServiceRecord{4fe60d1 u0 com.fsck.k9/.service.PollService}
01-16 15:21:48.822 I/ActivityManager(3016): Waited long enough for: ServiceRecord{6422c5c u0 com.fsck.k9/.service.PollService}
01-16 15:36:54.915 I/ActivityManager(3016): Waited long enough for: ServiceRecord{ed10050 u0 com.fsck.k9/.service.PollService}
01-16 15:52:01.593 I/ActivityManager(3016): Waited long enough for: ServiceRecord{33469cf u0 com.fsck.k9/.service.PollService}
01-16 16:03:27.636 I/ActivityManager(3016): Waited long enough for: ServiceRecord{7abf5be u0 com.fsck.k9/.service.PollService}
01-16 16:17:14.911 I/ActivityManager(3016): Waited long enough for: ServiceRecord{c03eca3 u0 com.fsck.k9/.service.PollService}
01-16 16:29:37.552 I/ActivityManager(3016): Waited long enough for: ServiceRecord{652c1ea u0 com.fsck.k9/.service.PollService}
01-16 16:41:14.941 I/ActivityManager(3016): Waited long enough for: ServiceRecord{dcbe09e u0 com.fsck.k9/.service.PollService}
01-16 16:53:42.834 I/ActivityManager(3016): Waited long enough for: ServiceRecord{f1be1c2 u0 com.fsck.k9/.service.PollService}
01-16 17:05:15.576 I/ActivityManager(3016): Waited long enough for: ServiceRecord{3a10c1 u0 com.fsck.k9/.service.PollService}
01-16 17:17:40.234 I/ActivityManager(3016): Waited long enough for: ServiceRecord{7fd6b2e u0 com.fsck.k9/.service.PollService}
01-16 17:48:17.645 I/ActivityManager(3016): Waited long enough for: ServiceRecord{6fab4c5 u0 com.fsck.k9/.service.PollService}
01-16 18:03:23.042 I/ActivityManager(3016): Waited long enough for: ServiceRecord{e089c00 u0 com.fsck.k9/.service.PollService}
01-16 18:19:48.059 I/ActivityManager(3016): Waited long enough for: ServiceRecord{6d2a2f6 u0 com.fsck.k9/.service.PollService}
01-16 18:20:22.390 I/ActivityManager(3016): START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.fsck.k9/.activity.Accounts bnds=[164,1134][298,1286] (has extras)} from uid 10028 on display 0
01-16 18:20:27.044 E/AndroidRuntime(6429): Process: com.fsck.k9, PID: 6429
01-16 18:20:27.044 E/AndroidRuntime(6429): at com.fsck.k9.cache.EmailProviderCacheCursor.moveToPosition(EmailProviderCacheCursor.java:112)
01-16 18:20:27.044 E/AndroidRuntime(6429): at com.fsck.k9.fragment.MessageListFragment.setActiveMessage(MessageListFragment.java:2874)
01-16 18:20:27.044 E/AndroidRuntime(6429): at com.fsck.k9.activity.MessageList.showMessageList(MessageList.java:1531)
01-16 18:20:27.044 E/AndroidRuntime(6429): at com.fsck.k9.activity.MessageList.goBack(MessageList.java:1421)
01-16 18:20:27.044 E/AndroidRuntime(6429): at com.fsck.k9.fragment.MessageListHandler.handleMessage(MessageListHandler.java:128)
01-16 18:20:27.047 W/ActivityManager(3016): Force finishing activity com.fsck.k9/.activity.MessageList
01-16 18:20:27.552 W/ActivityManager(3016): Activity pause timeout for ActivityRecord{750843a u0 com.fsck.k9/.activity.MessageList t16622 f}
01-16 18:20:30.868 I/ActivityManager(3016): Killing 6429:com.fsck.k9/u0a83 (adj 0): crash
01-16 18:20:30.877 W/ActivityManager(3016): Scheduling restart of crashed service com.fsck.k9/.service.PollService in 1000ms
01-16 18:20:30.927 I/ActivityManager(3016): Start proc 23136:com.fsck.k9/u0a83 for activity com.fsck.k9/.activity.Accounts
01-16 18:20:31.155 W/InputDispatcher(3016): channel 'fc901a9 com.fsck.k9/com.fsck.k9.activity.Accounts (server)' ~ Consumer closed input channel or an error occurred. events=0x9
01-16 18:20:31.155 E/InputDispatcher(3016): channel 'fc901a9 com.fsck.k9/com.fsck.k9.activity.Accounts (server)' ~ Channel is unrecoverably broken and will be disposed!
01-16 18:20:31.160 W/InputDispatcher(3016): channel 'c20c61d com.fsck.k9/com.fsck.k9.activity.MessageList (server)' ~ Consumer closed input channel or an error occurred. events=0x9
01-16 18:20:31.160 E/InputDispatcher(3016): channel 'c20c61d com.fsck.k9/com.fsck.k9.activity.MessageList (server)' ~ Channel is unrecoverably broken and will be disposed!
01-16 18:20:31.161 W/InputDispatcher(3016): channel 'e907d6a com.fsck.k9/com.fsck.k9.activity.MessageCompose (server)' ~ Consumer closed input channel or an error occurred. events=0x9
01-16 18:20:31.161 E/InputDispatcher(3016): channel 'e907d6a com.fsck.k9/com.fsck.k9.activity.MessageCompose (server)' ~ Channel is unrecoverably broken and will be disposed!
01-16 18:20:31.163 I/WindowManager(3016): WIN DEATH: Window{fc901a9 u0 com.fsck.k9/com.fsck.k9.activity.Accounts}
01-16 18:20:31.163 W/InputDispatcher(3016): Attempted to unregister already unregistered input channel 'fc901a9 com.fsck.k9/com.fsck.k9.activity.Accounts (server)'
01-16 18:20:31.166 I/WindowManager(3016): WIN DEATH: Window{e907d6a u0 com.fsck.k9/com.fsck.k9.activity.MessageCompose}
01-16 18:20:31.166 W/InputDispatcher(3016): Attempted to unregister already unregistered input channel 'e907d6a com.fsck.k9/com.fsck.k9.activity.MessageCompose (server)'
01-16 18:20:31.169 I/WindowManager(3016): WIN DEATH: Window{c20c61d u0 com.fsck.k9/com.fsck.k9.activity.MessageList}
01-16 18:20:31.169 W/InputDispatcher(3016): Attempted to unregister already unregistered input channel 'c20c61d com.fsck.k9/com.fsck.k9.activity.MessageList (server)'
01-16 18:20:31.751 I/ActivityManager(3016): Displayed com.fsck.k9/.activity.Accounts: +863ms

```
### Environment
K-9 Mail version: 5.402 F-droid

Android version: 7.1.2 (LOS)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,K-9 crash (messageview.MessageViewFragment.removeDialog),"[Label(name=""custom-ROM"")]","I was downloading an email attachment in background and k9 hasn't arrived to connect to internet (as often).

Log is here :

```
01-15 18:35:09.548 I/ActivityManager(3046): Killing 4302:com.fsck.k9/u0a83 (adj 906): empty for 1803s
01-15 18:47:59.562 I/ActivityManager(3046): Start proc 28856:com.fsck.k9/u0a83 for broadcast com.fsck.k9/.service.BootReceiver
01-15 18:48:18.995 I/ActivityManager(3046): START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.fsck.k9/.activity.Accounts bnds=[164,1134][298,1286] (has extras)} from uid 10028 on display 0
01-15 18:48:20.274 I/ActivityManager(3046): START u0 {flg=0x14000000 cmp=com.fsck.k9/.activity.MessageList (has extras)} from uid 10083 on display 0
01-15 18:48:45.007 I/WindowManager(3046): Screen frozen for +1s166ms due to Window{88829a5 u0 com.fsck.k9/com.fsck.k9.activity.MessageList}
01-15 19:15:25.351 I/ActivityManager(3046): START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.fsck.k9/.activity.Accounts bnds=[164,1134][298,1286] (has extras)} from uid 10028 on display 0
01-15 19:16:41.823 E/AndroidRuntime(28856): Process: com.fsck.k9, PID: 28856
01-15 19:16:41.823 E/AndroidRuntime(28856): at com.fsck.k9.ui.messageview.MessageViewFragment.removeDialog(MessageViewFragment.java:569)
01-15 19:16:41.823 E/AndroidRuntime(28856): at com.fsck.k9.ui.messageview.MessageViewFragment.access$200(MessageViewFragment.java:57)
01-15 19:16:41.823 E/AndroidRuntime(28856): at com.fsck.k9.ui.messageview.MessageViewFragment$3.run(MessageViewFragment.java:666)
01-15 19:16:42.614 W/ActivityManager(3046): Force finishing activity com.fsck.k9/.activity.MessageList
01-15 19:16:42.620 W/ActivityManager(3046): Force finishing activity com.fsck.k9/.activity.Accounts
01-15 19:16:42.626 I/ActivityManager(3046): Killing 28856:com.fsck.k9/u0a83 (adj 900): crash
01-15 19:16:47.217 I/ActivityManager(3046): START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.fsck.k9/.activity.Accounts bnds=[164,1134][298,1286] (has extras)} from uid 10028 on display 0
01-15 19:16:47.283 I/ActivityManager(3046): Start proc 30727:com.fsck.k9/u0a83 for activity com.fsck.k9/.activity.Accounts
01-15 19:16:47.934 I/ActivityManager(3046): Displayed com.fsck.k9/.activity.Accounts: +695ms
```

### Environment
K-9 Mail version: 5.402 F-droid

Android version: 7.1.2 (LOS)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Notification light not working properly,[],"### Expected behavior
Notification light should be activated when a new message arrives, independent from any other settings

### Actual behavior
Notification light is only working when at least ""vibrate when mail arrives"" is activated

### Steps to reproduce
1. Set ringtone to ""none""
2. Disable ""Vibrate when mail arrives""
3. Get new mail => no notification light

### Environment
K-9 Mail version:
5.4.2

Android version:
8.0.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Linkify URLs in angle brackets,[],"I'm not completely convinced by whether we should merge this one but it does fix #2922 for @njeyaakili

"
k9mail/k-9,open,unencrypted e-mail copy in trash folder,[],"in coherence to #3005 

Problem is, that every outgoing e-mail will be copied into trashfolder. The bigger problem is that this will always done with encrypted e-mails, and they will be copied there in plaintext (withoud the signature and cite, only the tipped text)!

### Expected behavior
E-Mail will not copied to trash folder

### Actual behavior
E-Mail will be copied unencrypted to trash folder


### Steps to reproduce
1. write a new e-mail
2. choose ""active encryption""
3. send email

### Environment
K-9 Mail version: 5.402 (F-Droid)
OpenKeychain Version: 4.8.1

Android version: 7.1.2 LOS 14.1-20171213

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP https://mailbox.org & self hosted
"
k9mail/k-9,closed,Added a check for showing correspondent name to RecipientSelectView,[],"To resolve issue https://github.com/k9mail/k-9/issues/3012, I added a check on the ""Show correspondent names"" setting in RecipientSelectView.getDisplayNameOrAddress().

This check will now let this method return the full address or display name of the recipient based on the user settings. This only affects the view in the ""To/CC/BCC"" fields in MessageCompose before it is clicked. All other elements remain the same. 
If no display name is available, the method still falls back to address, regardless of the user settings.

I tested: 
- That it works in To/CC/BCC in both a new composition and a reply
- That it does not affect the popup view when the RecipientSelectView is clicked
    - The display name is still displayed correctly here, as well as all address (no changed behavior)
- The typed address is shown in the view, not the ""first"" from the expanded view
"
k9mail/k-9,closed,Text of email does not appear ,"[Label(name=""needs info"")]","I am using k9-mail since many years with no problems at all and I am very happy with it. 
I cannot see the text of the email. 
I read that it Happened in the past I never had this problem but it is now appearing. 
I tried go Uninstaller an start all over again. The problem is still there although not always. 

### Steps to reproduce
Just download last emails

### Environment
K-9 Mail version: 5.403
Android version: 8.0
Account type: IMAP
"
k9mail/k-9,closed,Transparant TOR .onion support.,[],"This is a lightweight suggestion compared to the SOCKS support issue.

When an server address ends in "".onion"" then use the orbot SOCKS proxy if it's available. 

No confirmation is required. If Orbot is detected and the root domain is .onion then just use TOR. Otherwise don't. If both are true then it's safe to assume that the user wants to use TOR. In fact checking for Orbot may be a bit redundant. Failing to connect to it when there is a .onion domain would indicate to the user that an action is required.

And also if possible detect transparant VPN mode. If we already use TOR through that we don't want to nest the connection.

I know that for HTML mail there may be a problem with privacy. The quick and dirty solution for this is to disable HTML mail on accounts that use .onion servers. 

As Orbot already has transparant proxying there is no need to have an option that routes everything through TOR. What we need is selective routing of .onion domains only."
k9mail/k-9,open,"Confusing ""Inbox"" which is not the Inbox, when tapping on notification of multiple new mails",[],"I have several folders. Most are set to be polled (second class for push), just one, the Inbox, is set to be pushed (1st class for push). In the ""Fetching mail"" settings I have ""Poll folders"" set to ""1st &2nd"" (only 2nd isn't possible) and Push folders to ""only 1st"". At least I hope I set this correctly. No mailbox is set to be shown in the ""unified inbox"".

When K9 puts up a notification that there are several new mails, and I tap on it, then...

### Expected behavior
I expect that the Inbox is opened, or possibly, a mailbox corresponding to one of the messages from the notification. (There are also notifications of single emails, which open the particular email directly. The issue does not pertain to this case.)

### Actual behavior
However, I seem to get a sort of unified inbox of ALL unread messages (not just the new ones since last notification) from all polled and pushed mailboxes alike (or maybe from just the mailboxes that contain new messages; this is difficult to see). The heading however is Inbox. This is very confusing, because many of these messages are not actually in the Inbox.

When I leave this ""Inbox"" by tapping on the < top-left, and then tap on Inbox, I do get the Inbox as I expected it.

### Steps to reproduce
1. See above, basically

### Environment
K-9 Mail version: 5.403 (ok, my own variant with the old icons, from https://github.com/Rhialto/k-9/releases )

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,eMails not downloaded and / or shown in app,"[Label(name=""needs info"")]","Obviously K9 is connected to my eMail-server (positive connectitivity test), but eMails are not being downloaded and / or shown. This appears since one of the very latest updates.

### Expected behavior
eMails should be downloaded and / or shown

### Actual behavior
Obviously eMails are not being downloaded and / or shown

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.403

Android version: 4.4.2 on Huawei MediaPad X1 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Unusually high data usage since the last Android update,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
I guess average usage so maybe 100mb a day max but usually around 20mb.
### Actual behavior
Tell us what happens instead
Since the latest Android version was installed my k9 has been using around 1-1.5 gig of data. I have no real idea of what could be the cause of this problem other that I have sometimes noticed that it can get stuck trying to sync. I have not checked every day but I think a lot of the excessive data usage has tended to be during the night and morning. Why this is an issue is it doesn't seem to matter if you are connected via wifi or mobile data. This is how I noticed that the issue existed as I woke up one day and realised I had left mobile data on only and that 1.2 gig of data had been used. I want to also point out that nothing else has changed that I know of that could cause the issue.
### Steps to reproduce
I have no idea how to reproduce the problem as I am not sure of the cause.

1.
2.
3.

### Environment
K-9 Mail version:5.403

Android version:6.01

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Tidy up the usage of 'e-mail' in non-translated source text,[],"`grep -rni ""e-mail"" k9mail/src/ | grep -v ""values\-"" | grep -v ""test""`

There's only one that's actually visible, the rest are comments.

Thanks to #3086 

"
k9mail/k-9,closed,Use HTTPS in bit.ly link,[],"Works even though bit.ly generate HTTP links by default

Thanks to @comradekingu in #3086 


"
k9mail/k-9,open,Account Setup Rework,"[Label(name=""don't merge"")]","This is a rebase of @daquexian 's GSoC Account Setup work. See #2530

* Mozilla ISPDB autoconfigure
* SRV based autoconfigure
* Microsoft Autodiscover
* Google OAuth 2.0
* Outlook OAuth 2.0
* Material design for Account Setup activities

While manually testing I've noticed that the manual setup has lost some IMAP settings so I probably need to look at that.

It would be good to get this into an beta sooner rather than later though."
k9mail/k-9,closed,Spelling: String rework,[],"Fixes all Transifex issues, except for pluralization of strings, and those that are specific to French.
Big thank you to yahoe.001 and jony08 for reporting issues :)"
k9mail/k-9,closed,why search displayName，no result。,"[Label(name=""invalid"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,K9-Mail github system clock off | web site posting from the future,[],"The K9-Mail website contains a blog entry from the future:
https://k9mail.github.io/2018/01/17/5.4-Release.html

This is dated 2018 January 17th, but it's only 2018-01-12 today.

Please arrange for a report to be filed in the proper place, then reference here and close this issue."
k9mail/k-9,closed,Tidy up K9's variable naming to match code style,[],Just repeated use of IDE refactor renaming. No change in behaviour.
k9mail/k-9,open,Missing notification when gmail login fails,[],"K9 used to raise a notification when a login to Gmail failed due to 'Web login required' received from the servers. My App failed to login and retrieve mail for several days before I tried to access my Gmail via Thunderbird on a PC and realised what was going on.

### Expected behavior
When a server login fails, there should be a notification raised, it used have a yellow triangle and say something like 'check you server configuration' (It would be nice if it could show the actual error text from the server).

### Actual behavior
No notification is raised, zero mails are displayed in K9 with no warning it couldn't connect.

### Steps to reproduce
1. you need to provoke Gmail to return a 'Web login required' message from it's servers, usually by attempting to login from some unrecognised location.
2. try to retrieve your Gmail via K9

### Environment
K-9 Mail version: 5.403

Android version: 6.0.1 and 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP connection to Gmail
"
k9mail/k-9,closed,Add an option to have only 5 folders set to push,[],"Fixes #3017 


"
k9mail/k-9,closed,Set text direction to auto and improve HtmlConverter testing,[],"Should fix #2506 

"
k9mail/k-9,closed,Test and re-order identity priority,[],"Should fix #3011 


"
k9mail/k-9,closed,Add privacy option to hide hostname when connecting to SMTP servers,[],"Fixes #2793 


"
k9mail/k-9,closed,When answering an email identity isn't selected any more,[],"### Expected behavior
When answering an email that came in over an additional identity this identity shall be selected automatically. 

### Actual behavior
Standard identity is selected - this is a new behaviour since the version with the new icon!! in older versions the identity was selected correctly, after the update it doesn't work any more.


### Environment
K-9 Mail version: 5.403

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Feature request: Enable users to have custom default css for outgoing messages,[],"Maybe it's a little bit too much to ask but It could be cool to have an option in the settings to change the default CSS style used when HTML messages are enabled defined in: [k9mail/src/main/java/com/fsck/k9/message/html/HtmlConverter.java
](https://github.com/k9mail/k-9/blob/master/k9mail/src/main/java/com/fsck/k9/message/html/HtmlConverter.java#L1283)

It could enable us solve #1166 as well.

### Environment
- K-9 Mail version: 5.402
- Android version: LineageOS 7.1.2


"
k9mail/k-9,closed,Prefer encrypt setting,[],"Adds a setting that enables Autocrypt's `prefer-encrypt=mutual`. The logic is trivial since it was already there, the hard part is the wording I guess. I'm ok with this for a first attempt, but there is probably room for improvement. In a way, the goal is to get the user *not* to just blindly enable this setting, like any variant of ""Prefer encryption"" or ""Encrypt by default"" would do."
k9mail/k-9,closed,Major reorganisation of the Pop3Store to match the other stores,[],"Highlights:

* Split into many separate classes - Pop3Store now 1000 lines smaller.
* New MockPop3Server similar to MockImapServer
* 73% package test coverage - main un-tested stuff is in the Pop3Folder sync code which I just haven't gotten round to.

"
k9mail/k-9,closed,"Add tel, sip, bitcoin, ethereum and rtsp URIs to the whitelist for links",[],"Fixes #3065 and adds all other protocols we linkify to the whitelist as well.
"
k9mail/k-9,closed,Word not being translated,[],"""Cryptography"" in Global Settings has not been added to the translation in Transifex"
k9mail/k-9,closed,Reading New Mail Broken,[],"For the past few months, K9 Mail no longer allows me to read unread mail in order. I order my mail with newest at the top. When I have new mail, I scroll down to the first unread messages and click. When I delete this message, K9 Mail previously showed me the next unread messages. Now it seems to sort the read email together which causes the 'next message' to be mail I have already read, requiring me to hit delete, next, next, next,... to get to the next  unread email. It is no longer practical to read new email with K9 Mail when sorting messages to show newest first."
k9mail/k-9,closed,Add privacy option to hide sender machine name in mails,[],"Add a privacy option to hide the name of the machine where K9-Mail is running on. In many cases (e.g. home network, public Wifi, company network), this is a name that can be accessed from outside the network anyway. Could also use a generic name here (e.g. ""mailserver"") if the mail protocol requires giving something.
Currently this line is added to outgoinf mails:
`Received: from ${my-android-device}.${my home network} ([${my IP assigned by ISP}]) by ${provider-mail-server} ....`"
k9mail/k-9,closed,"At the first sync with a YahooMail! account K9 will see the ""DraftS"" folder but not what's inside of it. K9 gives essential a error of [Command: Examine ""Drafts""] ",[],"

### Expected behavior
Tell us what should happen
Upon first account setup and syncing. K9 should sync(poll) with yahoo's ""Drafts(Drafts)"" folder. 


### Actual behavior
Tell us what happens instead
At first account sync up K9 does not poll the yahoo created ""Drafts(Drafts)"" folder. Everything else is fine
Under the folder name Drafts(Drafts) it says [Command: Examine ""Drafts"";] Then k9 creates a new folder named ""Draft"" on its own. That folder is then created on yahoo's server. Then that error below the Drafts(Drafts) folders name disappears but the original Drafts(Drafts) folder still will not poll. 




In a nut shell: At the first sync with a YahooMail! account K9 will see the ""DraftS"" folder but not what's inside of it. K9 gives essential a error of [Command: Examine ""Drafts""] 


### Steps to reproduce
1.Make sure a draft already exists in the YahooMail original Draft folder on yahoo mails website. 
2. Setup YahooMail with k9
3.view the error [Command: Examine ""Drafts""] below the Drafts(Drafts)folder and folder does not sync.
3. Sync a few times a see the new ""Draft* folder created



### Environment
K-9 Mail version:
5.402

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
Yahoo Mail  IMAP


"
k9mail/k-9,closed,"Fix encrypted, attached inner message/rfc822",[],"Parsing attached messages led to a crash in AttachmentInfoExtractor, because the inner parts couldn't be addressed as URIs. I fixed this by specifically parsing message/rfc822 bodies as flat bodies in MimePartStreamParser."
k9mail/k-9,closed,Simplify crypto info in message view,[],"This PR makes the way the crypto status is displayed much more straightforward, and tries harder to get out of the way of the user.

Most significantly, the ""fullscreen warnings"" are gone, the crypto status dialog is no longer split into encryption and signature, and the dots are gone from the icon - except for verified encryption or signature, which is still indicated with the three dots."
k9mail/k-9,closed,List view to recycler view,[],According to remarks on PR #2916. I created a transition from List View to Recycler View changing existing code as little as possible maintaining code functionality and readability. It required moving swipe handling system to MessageListFragment but it also opens the way to implement in relatively costless way delete by swipe feature in future if needed.
k9mail/k-9,closed,tel URI links are stripped by HtmlSanitizer,"[Label(name=""bug""), Label(name=""enhancement"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
Click to call link does not work since a few weeks. A click to call link is a hyperlink which is opened by a dialer-application. For Exampel: `<a href=""tel:004955555"">55555</a>`

### Actual behavior
Tell us what happens instead
Link is shown as plain text

### Steps to reproduce
1. Create a new mail with html code` <a href=""tel:004955555"">55555</a>` in it
2. Check for new mails in an old version of k9, or in thunderbird and look for the link
3. Check with current k9 mail, link is shown as plain-text.

### Environment
K-9 Mail version: current 5.403

Android version:
7.0 (motorola) and 7.1.2 (lineage) verified

Account type (IMAP, POP3, WebDAV/Exchange):
does not matter
  "
k9mail/k-9,closed,Remove custom attachment permission,[],As far as I can tell we never expose the attachment URI without also granting access via the `grantUriPermissions` mechanism. A custom permission needlessly exposes our `AttachmentProvider` to third-party apps.
k9mail/k-9,closed,Forward message as attachment,[],"Adds ""forward as attachment"" based on the work by @the0ne in PR #1728."
k9mail/k-9,closed,K9 last two versions slow and search function not working,"[Label(name=""performance"")]","

### Expected behavior
When I select messages, they get selected very slowly and the overall interface is slow now. More, the search and search on server doesn't work anymore. 

### Actual behavior
When clicking search: nothing happens 
When selecting messages: app performs slow

### Steps to reproduce
1. Select messages
2. Activate the search button
3.

### Environment
K-9 Mail version: 5.402

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): imap
"
k9mail/k-9,closed,Search doesn't work on latest version and k9 is now slow,[],"Last two versions of k9 are not only very slow but the search button doesn't work. 
My phone is a oneplus 3T, 6 gb of ram (plenty of it!), android 7.1 no root. What's happening to this once excellent app? "
k9mail/k-9,closed,add option to delete (or detatch) quotation in forwarded or replied messages,"[Label(name=""enhancement"")]","I can close the quotation by pressing the X (but its only hidden) I can edit the quotation by pressing the pencil. But i cant delete it. I can empty it, but not delete it.
Especially for mailing lists, this option would be useful to have.

There could be two solutions:
1. A delete button, earasing the quotation with no way back.
2. A detatch button, allowing the user to still read the quoted text, but not including the quotation when sending the email. There must be a very clear clue to the user when the quotation wont actually be included, however it would be beneficial to be able to read the quotation while writing the reply. This also allows for last minute change of mind and includimg the quotation after all.

Especially with mailing lists or when replying to a large number of people, removing quotations would be more convinient than writing a completely new message and adding all the addresses manually.

### Environment
K-9 Mail version:
5.403"
k9mail/k-9,closed,"""Simplify"" sync code",[],"This removes functionality from `ImapSync` that is not required for IMAP. 
Also IMAP-specific functionality is removed from the legacy sync code."
k9mail/k-9,open,SQLiteDiskIOException: disk I/O error (code 1802) during Account.getStats(),[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
K9 should start and display list of accounts

### Actual behavior
Tell us what happens instead
Home screen goes blank for a second (icons disappear), then home screen returns to normal. K9 doesn't appear to start.
### Steps to reproduce
1. Attempt to start k9
2. Wait a second, while screen goes blank, then returns to normal.

### Environment
K-9 Mail version: 5.403

Android version: 7 (Moto G5)

Account type (IMAP, POP3, WebDAV/Exchange): 6 POP3 accounts.

(I won't mind at all if this issue is moved, merged, etc. I wasn't sure where to post it, as it's a beta version I believe.)
See attached log file (luckily I hadn't turned logging off before I upgraded to the beta) :
[Text of bug report for k-9 email 180107.txt](https://github.com/k9mail/k-9/files/1609181/Text.of.bug.report.for.k-9.email.180107.txt)

Hope this helps,
Roger V.

"
k9mail/k-9,open,CTRL-A & CTRL-C,"[Label(name=""enhancement"")]","### Expected behavior
On tablet with full keyboard, CTRL-A while editing email should ""Select All"" and CTRL-C should ""Copy to Clipboard"" 

### Actual behavior
CTRL-A - Opens address book
CTRL-C - Opens a dialogue box about encryption

### Steps to reproduce
1. Open new/reply/forward email
2. Edit text in body
3. Hit either CTRL-A or CTRL-C

### Environment
K-9 Mail version:
5.400
Android version:
7.0
Account type (IMAP, POP3, WebDAV/Exchange):
Various"
k9mail/k-9,closed,Certificate error after updating to 5.402,[],"After updating to 5.402, my mail server's Let's Encrypt certificate is no longer accepted.  On the same Android phone, Chrome accepts the certificate without error.  The previous version published on the Google Play store accepted the certificate.

### Expected behavior
K-9 Mail should successfully validate the certificate.

### Actual behavior
K-9 Mail rejects the certificate with the error ""chain validation failed:""

![screenshot_20180105-234515](https://user-images.githubusercontent.com/354641/34642273-68e8c600-f2de-11e7-8e35-447c328084e8.png)

### Steps to reproduce
1. Have Let's-Encrypt-secured incoming mail server.
2. Update K-9 Mail to 5.402.
3. Try to check mail.

### Environment
K-9 Mail version: 5.402

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

  "
k9mail/k-9,open,"UX: Display message if folder contains only old messages, which will not by synchronized","[Label(name=""enhancement"")]","When manually synchronizing a folder containing only old messages (= older than the sync-time configured), a small note about this should be shown. This could read like (basic version, easy to implement):
- No current messages found.
- The folder contains only old messages, which will not by synchronized.

As a plus, the message could be more elaborated, like this:
- The folder contains 12 old messages, but no current ones.
- The folder contains more than 100 messages, none of which is newer than YYYY-MM-DD.

### Actual behavior
Currently, when manually synchronizing a folder containing only old messages, the syncing-progress elements are show, and vanish, then only the empty folder is shown. The user has no clue whether something went wrong, which is very confusing. In fact, users often think something went wrong, and ask their acquaintances for support.

### Steps to reproduce
1. Find a folder containing some messages, but all of them are older then the sync-time configured in K9mail for this account.
2. Open this folder in k9mail
3. Press the ""sync"" button (or slide down to start syncing):
   - The information ""loading messages …"" will be shown for a few seconds.
   - You will be left with an empty folder.

Below please find a log of the relevant action showing that the relevant information is already there.

### Environment
K-9 Mail version:5.402
Account type: IMAP

### Logtrace

This logtrace show the relevant action. Ad can been seen, the folder ""ExampleFolder"" contains 14 messages, and the search ""SINCE 01-Dec-2017"" yields zero messaged (which is okay).

```
MessagingController: Running command 'getFolderUnread:john.doe@example-com:ExampleFolder', seq = 37 (foreground priority)
MessagingController:  Command 'getFolderUnread:john.doe@example-com:ExampleFolder' completed
MessagingController: Running command 'synchronizeMailbox', seq = 38 (background priority)
MessagingController: Synchronizing folder john.doe@example-com:ExampleFolder
MessagingController: SYNC: About to process pending commands for account john.doe@example-com
MessagingController: SYNC: About to get local folder ExampleFolder
LocalFolder: Updated last UID for folder ExampleFolder to 0
MessagingController: SYNC: About to get remote folder ExampleFolder
MessagingController: SYNC: About to open remote folder ExampleFolder
ImapConnection: conn166444983>>> 22 NOOP
ImapResponseParser: conn166444983<<<#22# [OK, NOOP completed]
ImapConnection: conn166444983>>> 23 EXAMINE ""INBOX.ExampleFolder""
ImapResponseParser: conn166444983<<<#null# [FLAGS, [NonJunk, $Forwarded, \Draft, \Answered, \Flagged, \Deleted, \Seen, \Recent]]
ImapResponseParser: conn166444983<<<#null# [OK, [PERMANENTFLAGS, []], No permanent flags permitted]
ImapResponseParser: conn166444983<<<#null# [14, EXISTS]
ImapResponseParser: conn166444983<<<#null# [0, RECENT]
ImapResponseParser: conn166444983<<<#null# [OK, [UIDVALIDITY, 1365576686], Ok]
ImapResponseParser: conn166444983<<<#null# [OK, [MYRIGHTS, acdilrsw], ACL]
ImapResponseParser: conn166444983<<<#23# [OK, [READ-ONLY], Ok]
ImapFolder: Got untagged EXISTS with value 14 for john.doe@example-com:ExampleFolder/MessagingController/conn166444983
MessagingController: SYNC: Remote message count for folder ExampleFolder is 14
MessagingController: SYNC: About to get messages 1 through 14 for folder ExampleFolder
ImapConnection: conn166444983>>> 24 UID SEARCH 1:14 SINCE 01-Dec-2017 NOT DELETED
ImapResponseParser: conn166444983<<<#null# [SEARCH]
ImapResponseParser: conn166444983<<<#24# [OK, SEARCH done.]
MessagingController: SYNC: Got 0 messages for folder ExampleFolder
MessagingController: Only syncing messages after Wed Dec 06 00:00:00 GMT+01:00 2017
MessagingController: SYNC: Have 0 unsynced messages
MessagingController: SYNC: Have 0 large messages and 0 small messages out of 0 unsynced messages
MessagingController: SYNC: Fetching 0 small messages for folder ExampleFolder
MessagingController: SYNC: Done fetching small messages for folder ExampleFolder
MessagingController: SYNC: Fetching large messages for folder ExampleFolder
MessagingController: SYNC: Done fetching large messages for folder ExampleFolder
MessagingController: SYNC: About to sync flags for 0 remote messages for folder ExampleFolder
MessagingController: SYNC: Synced remote messages for folder ExampleFolder, 0 new messages
MessagingController: Done synchronizing folder john.doe@example-com:ExampleFolder @ …date… with 0 new messages
MessagingController: Done synchronizing folder john.doe@example-com:ExampleFolder
MessagingController:  Command 'synchronizeMailbox' completed
MessagingController: Running command 'sendPendingMessages', seq = 39 (background priority)
MessagingController:  Command 'sendPendingMessages' completed
```"
k9mail/k-9,closed,Autocrypt information,[],"Autocrypt is implemented in k9 according to its changelog. Could be get some information on how to set it up, how it works? 

Thanks a lot"
k9mail/k-9,closed,Last used target folder not directly accessible in folder list when moving mails,[],"### Expected behavior
When I move multiple mails, mail by mail, the last used target folder should be in the visible area of the folder list when moving the next mail

### Actual behavior
The folder list keeps its position but the last used folder is on the very top of the ""visible"" are, which is hidden by the header bar.

### Steps to reproduce
1. move one mail into an folder (there need to be more folders after this target folder than fit on the screen)
2. try to move another mail


### Environment
K-9 Mail version:
v5.402 and earlier

Android version:
7.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,<center> doesn't stretch to full width,"[Label(name=""bug"")]","k9
![screenshot_20180106-033959](https://user-images.githubusercontent.com/5685512/34635717-d4895604-f293-11e7-95ab-aaec8f5dc186.png)

thunderbird
![thunderbird_2018-01-06_03-40-05](https://user-images.githubusercontent.com/5685512/34635722-e2c9625e-f293-11e7-90bd-7ecbeff533a1.png)

Of course this is due to the fact, that mail uses more than one center tag, but still:
if one container stretches the viewport, then other containers like center should also reach that width."
k9mail/k-9,closed,"Html Sanitization: Update JSoup, test iframe removal & allow center",[],"Validates that changes in #2518 removed iframes. Finishes #846

Updating JSoup to newer version to fix JSoup's handling of self-closing tags (without this the test fails because it doesn't handle the self-closing iframe tag. See https://github.com/jhy/jsoup/blob/master/CHANGES#L139





  "
k9mail/k-9,closed,Fix quiet time,[],"Fixes a bug that was introduced when fixing lint warnings :(
  "
k9mail/k-9,open,adress bar clears when rotating to landscape mode,"[Label(name=""bug"")]","### Expected behavior
Rotating should not affect any of the typed content, not the body nor the address fileds or subject field

### Actual behavior
When typing an address and rotating while the field is still selected, the field is cleared. Rotating back does not make the text reappear.

### Steps to reproduce
1. start typing in the to: field
2. rotate to landscape mode

### Environment
K-9 Mail version:
5.401

Android version:
7.0 (on a moto G5 plus)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,"Red envelope on k-9 icon looks now ""evil""",[],"Since the december update, the red colour on the k-9 icon has changed to a scary, ""evil"" colour. First i thought it had to do with x-mas, but after a new update since then, the colour is still awful.

This occurs on android 4.4.4
K-9 5.402"
k9mail/k-9,open,Text in Action Bar cut off with larger than normal system font size,"[Label(name=""bug"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
The text should be visible 

### Actual behavior
Tell us what happens instead
The text is overlaid by box below the text

### Steps to reproduce
1. Open any folder 
2. Error is beside the k9 mail icon on top of screen 
3.

### Environment
K-9 Mail version:
5.402
Android version:
7.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Text overlapped b2box on Galaxy Note 8 ,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
The text should be visible 

### Actual behavior
Tell us what happens instead
The text is overlaid by box below the text

### Steps to reproduce
1. Open any folder 
2. Error is beside the k9 mail icon on top of screen 
3.

### Environment
K-9 Mail version:
5.402
Android version:
7.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Older emails vanish from K-9 inbox,"[Label(name=""architecture""), Label(name=""needs info"")]","### Expected behavior
I have an email account that I connect to via POP3 with K-9 Mail, with the latter configured to:
a. not synchronize any server deletions to the client, and
b. never delete on the server any message that was deleted locally.

The provider of the account is a hoster who do not delete any emails on their own.

I also connect to the same account, again via POP3, with Claws Mail, which is configured to delete all received messages on the server _1 week after reception_.

Since I fetch emails with K-9 Mail every day and Claws' server deletions are not to be mirrored to K-9 Mail, I would expect the K-9 Mail Inbox to accumulate all emails it ever received, never deleting any of them from the local storage automatically.

### Actual behavior
The K-9 Mail Inbox of that account contains no emails older than _about_ a week (_which seemingly contradicts_ setting a. above). _[corrections 8 Jan: that the age of the oldest email was about a week was a coincidence obviously and had nothing to do with Claws' server deletions, see comment below]_

### Steps to reproduce
1. Set up an email account without automatic deletions at provider side.
2. Set up Claws Mail to fetch with POP3 and deletion after <timespan>.
3. Set up K-9 Mail to fetch with POP3 and no deletion (see a., b. above).
4. Make sure you get emails every day to that account.
5. After the initial <timespan>, you should see the oldest messages vanishing from K-9 Mail's account Inbox.

### Environment
K-9 Mail version: 5.208

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): POP3

  
  "
k9mail/k-9,closed,"Since version 5.4, iframes stopped working",[],"### Expected behavior
Until version 5.400, iframes worked in k9mail as detailed in issue https://github.com/k9mail/k-9/issues/843

### Actual behavior
No iframe is shown. In thunderbird, the same email is shown ok

### Steps to reproduce
The following email with iframe is not displayed correctly:
`<html><head><title>Test</title><style type=""text/css""> body { margin: 0; border: none; padding: 0; height: 450px; } iframe { position: fixed; top: 0; left: 0; width: 100%; height: 100%; border: none; } </style></head><body>< !--se mete un img para que funcione en k9mail --><img src=""https://www.ecestaticos.com/img/generic/backgrounds/px-transparent.png"" width=""10"" height=""10"" border=""0""/><iframe id =""_mailrssiframe"" src=""http://www.elmundo.es/madrid/2018/01/05/5a4e6500268e3e806a8b4601.html"">Test</iframe></body></html>`

### Environment
K-9 Mail version: 5.400

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Current version not available in F-Droid Store,[],"Dear team,

when I take a look in the play store the current version is 5.402, in the F-Droid store the current version is 5.208. What's the reason for this gap? Is there a bug in the build process?

Please fix this.

Kind Regards,

Krawei"
k9mail/k-9,open,"Confusing setting name: ""When ‘Auto-sync’ is checked""",[],"K9 > Settings > Global Settings > Network > Background sync: `When ‘Auto-sync’ is checked`
It's not obvious at all it meant ‘Auto-sync’ *in Android’s settings*.
Personally I spent a lot of time and efforts just to find it out. Not everybody might be such stubborn.
BTW, what exactly the Android's Setting is this? It is even not mentioned in [Documentation](https://k9mail.github.io/documentation/settings/global.html#network).
Different Android versions have different Settings(names, locations). Didn't find any suitable for Nougat.
  "
k9mail/k-9,open,Encrpyting not possible anymore,"[Label(name=""third-party integration"")]","
### Expected behavior
Once I select a receiver with a lock behind the name, I can select to encrypt or not to encrypt the message. I have decided to encrypt. I expect the message to be encrypted and sent afterwards

### Actual behavior
A ""Toast"" comes up Attempt to invoke virtual method org.bouncycastle.openpgp.PGPPublicKey org.bouncycastle.openpgp.PGPSecretkey.getPublicKey() on a null reference

### Steps to reproduce
K9 and OpenKeyChain installed for months, had to enable Cryptography in K9 again after the last update
Write an Email, select a recipient, clock the lock to enable encryption (btw, why I have to enable it now, in earlier versions this was the standard), click send...and receive the error message above

### Environment
K-9 Mail version: 5.400

Android version:
8.0.0
Account type (IMAP, POP3, WebDAV/Exchange):
imap"
k9mail/k-9,closed,Notification sounds quiet time problem.,[],"I think that the logic for this has been reversed in the latest update. If I check the option to enable a quiet time and have the start set to 0700 and end to 2300 I don't get any notification sounds :-/

I only noticed it recently because I stopped getting notification sounds so it's not any option I've tweaked. I suspect the second of two recent updates."
k9mail/k-9,open,Notifications about NOT new messages for one specific box,[],"Hello, 

I am using K9 mail since a long time on my **Android 6.0** phone **Huawei Honor 7**.

I use it against a few different mailboxes, but for one of them (an **IMAP** box on port 993, at Yahoo) I have a little annoying bug everytime I click on the refresh button for New messages, while retrieving the INBOX messages :
- If I have one or more new messages, no problem, a notification is displayed accordly about the new messages which are successfully downloaded.
- But if there are NO new messages on the server, **I also receive a notification about one random message I have already received before in this box** (I recognize the Title of the message in the notification). From time to time, the offending message will change, maybe depending of real new messages actually retrieved.
If I click on the notification, it displays an empty message with a warning like ""An error has occurred"". Sometimes instead of referring to only one message, I got a notification for two or three messages.

This only happens to this specific box, never for any of the others (including another Yahoo box), and I encounter this problem since many MONTHS now, so it's **not related to any recent version**.
Normally the messages for which I got the message (at least the messages from the beginning of the problem) have already been definitely removed from the web server.

Thanks for your advices, and for K9 which is really a nice mail tool."
k9mail/k-9,open,decrypt issue with version 5.401,"[Label(name=""third-party integration"")]","K9 Mail version: 5.401 + openkeychain 4.8.1
Android version: 6.0

Issue:
if I send an email encrypted with inline PGP from thunderbird 55.5.2, then K9Mail cannot decrypt it anymore. It can decrypt only a PGP/MIME. The imap used is imap-mail.outlook.com and I want to use the inline PGP due to other problems with Microsoft Exchange server with PGP/MIME.

The previous K9 Mail version could decrypt the inline PGP received by Microsoft Exchange imap server.

  "
k9mail/k-9,closed,Add 'background' attribute for 'table' tag to the whitelist,[],"Fixes #3006 

"
k9mail/k-9,closed,Fix HTML sanitation,[],"Fixes bugs in `HeadCleaner` and adds (layout) attributes for `tr`, `th` and `td` tags to the whitelist.

Fixes #3034

"
k9mail/k-9,closed,Fix #3032 - add count to string for replacement,[],"Fixes #3032 - need to add the count twice, first for the pluralisation second for the string replacement parameter."
k9mail/k-9,closed,HTML displayed wrong,[],"I'm using 5.400
K-9
![screenshot_20171214-212206](https://user-images.githubusercontent.com/5685512/34542361-8a2eb76a-f0dc-11e7-8a71-f4f385ed3662.png)

vs Thunderbird
![thunderbird_2018-01-03_23-18-18](https://user-images.githubusercontent.com/5685512/34542479-03e5cc24-f0dd-11e7-8017-eb3051741f24.png)

.eml file without headers and anonymized (done manually)
[Nicht vergessen....eml.zip](https://github.com/k9mail/k-9/files/1601881/Nicht.vergessen.eml.zip)
-11e7-86d7-fb9550a3aaf2.png)
  "
k9mail/k-9,open,Crash when app is launched,"[Label(name=""needs info"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue
-> Nothing found in the first days of the year 2018.

### Expected behavior
K9 should work.

### Actual behavior
K9 don't work any longer since update at the 3th of january. 
Every time when I try to start the app now it tries to start and after a short second a window says: ""K9 wurde beendet"" (= K9 was closed).
I've tried it with restart the smartphone -> no effect.
Close the app in the app directory -> no effect. 
Update from 5.400 to 5.401 -> no effect

### Steps to reproduce
1. Click on the K9 icon
2. read the error message
3. enjoy ;-)

### Environment
K-9 Mail version: 5.400 and 5.401

Android version: 6.0.1 on CAT S 60

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Thank you for do all the work on K9! I hope we will find a solution
Greetings
Chnutz"
k9mail/k-9,closed,[Bug] %d not replaced in string correctly,"[Label(name=""bug""), Label(name=""next stable"")]","I'm using version 5.400 from the play store.
The last update of the german translation is older than 7 days (5.400 release) and it employs the %d syntax correctly as far as I can see (same syntax as english strings), so the bug is likely not fixed, yet.
![k9](https://user-images.githubusercontent.com/5685512/34539992-28645e4e-f0d3-11e7-884f-11856220ce7a.png)

I'm not sure how to reproduce it. This was the first time seeing it happen.

What I did: search for a string, load more results from the server -> this happened.
Maybe the connection wasn't completely stable (mobile network), I'm not sure (it took longer to load that time).

Usually I'm seeing ""remote_search_downloading_limited"" and not ""remote_search_downloading"".

https://github.com/k9mail/k-9/blob/946120b37bce356061cc29adfa8348f96d5786b2/k9mail/src/main/res/values-de/strings.xml#L872"
k9mail/k-9,closed,Offline Drafts + Sync = Loss,[],"
### Expected behavior
Drafts written/edited offline after the particular client synced the Drafts folder last, on next sync are synced *to* the server first thing, and hence become available on all devices

### Actual behavior
when the Drafts folder syncs, it happens that it is put into a state identical to server, resulting in drafts written offline to disappear.


### Steps to reproduce
not yet systematically tested - this may or may not depend on whether other clients have synced in the meantime.  In any case: a) the Drafts folder has special sync requirements b) the relevant last sync timestamp would be the local, per-client one, not the global server one.

### Environment
K-9 Mail version: various 4.804 to 5.208

Android version:gingerbread, ice cream sandwich

Account type (IMAP, POP3, WebDAV/Exchange):imap

  "
k9mail/k-9,closed,Background Graphic not displayed,"[Label(name=""needs info"")]","Since Version 5.304 BG Graphics are not displayed correctly in my Samsung Galaxy S 7 w/ Android 7.0 in some e-mails

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,No notifications about new mail when Quiet Time is ON (K-9 v5.401),[],"### Problem
After some actualization after new ugly icon (5.300 - 5.401) there is no notification about new mail.

### Reason
I have diagnosted that the reason is Quiet Time ON regardless what time is set.

### Steps to reproduce
1. IMAP account
2. Synchronize Always
3. Quiet Time: ON , Start: 22:00 , End: 7:00
4. Current time: 7:01 - 21:59
5. New mail is indicated only as notification icon, no LED, no beeping
6. Quiet Time: OFF
7. New mail is indicated as notification icon, LED is blinking and repro is beeping

### Environment
K-9 Mail version: 5.401
Android version: 6.0 (Jun 12, 2017)
Account type: IMAP
"
k9mail/k-9,open,Include undownloaded attachments in redirected messages,[],"If an attachment has not been downloaded before, redirecting the message doesn't include the attachments (and shows an appropriate warning). Nevertheless, it would be good to ask the user whether he wants to download the attachments now, because many users don't see the warning and in most cases redirecting a message without it's attachments is not helpful."
k9mail/k-9,open,High Battery usage since last Update ,[],"Battery usage is very high since last update. 



### Environment
K-9 Mail version: 4.5

Android version: 8.1

Google Pixel 1

Account type (IMAP, POP3, WebDAV/Exchange): Pop3
"
k9mail/k-9,open,Stops polling secondary folder after user renamed it on server,[],"### Expected behavior
When I open a subordinated folder in k9 client, and pull down to refresh, it should check for new emails, even after the concerning email folder was renamed by me in a browser (webmail access).

### Actual behavior
The folder's content was updated successfully _before_ i renamed it. But after renaming, it still appears with its old name in the client, while on the email server this folder has its desired new name.

### Steps to reproduce
1.Use an internet browser to lo into your enail account, and change the name of a subordinate email folder.
2. in k-9 mail's settings go to Account - fetching emails - set poll ""All"" folders.
3. in k-9 go into that email folder which still appears with the old name, and try to check for new emails, manually, by wiping down.

### Environment
K-9 Mail version: 5.207.4

Android version: 7.1.2 (LineageOS 14.1)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Revert to old way of replacing ASCII lines with <hr> tag,[],"The regular expression we were using was causing the HTML conversion to take forever for some messages.
I want to fix this properly by rewriting the text to HTML conversion. But for now we need a quick fix.

Fixes #3018"
k9mail/k-9,closed,Overflow Menu for folders (version >21),[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,Create an overflow options menu instead of on long press for folders,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
The menu should be visible when you press the overflow menu button.

### Actual behavior
Currently the menu is shown when you long press the folder


### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):

###Am I willing to work
Yes

### Mockup
![screenshot_1514876561](https://user-images.githubusercontent.com/28982436/34476783-e486e12a-efb9-11e7-874c-ccbeef3a5ac3.png)
"
k9mail/k-9,closed,K9 version 5.4 not fetching new mail on imap on refresh,"[Label(name=""architecture""), Label(name=""needs info"")]","### Expected behavior
Open email account or refresh email and get new emails to show.
An update of K9-mail shouldn't break existing usage,

### Actual behavior
NO new emails is shown until mail is open  by thunderbird or K9 ver 5.208

### Steps to reproduce
1. Open imap based mailaccount on an uw-imap server
2. Send a email to the account
3. Verify that email is received.


This is a change from K9 version 5.208 that use imap select INBOX
Version 5.4 uses imap examine INBOX

This is testet on Centos 7 and uw-imap as server with 
new mail arrive  in /var/spool/mail/<user> and  
mbox file  in ~/mbox. This means there are a 2 stage process  for new email.

uw-imap is written by Mark Crispin that wrote the RFC for imap4 rev1 
[RFC3501](https://tools.ietf.org/html/rfc3501)

I used wireshark and telnet to investigate the differens between IMAP SELECT vs EXAMINE. 

syslog shows  when files are moved 
xz2 is running K9-mail ver 5.4, stab1 is running K9-mail 5.208
```
Jan  1 10:11:30 vts6 imapd[21803]: imaps SSL service init from 192.168.127.63
Jan  1 10:11:31 vts6 imapd[21803]: Authenticated user=pts host=xz2.xxxx [192.168.127.63] mech=PLAIN
Jan  1 10:12:36 vts6 imapd[21817]: imaps SSL service init from 192.168.127.61
Jan  1 10:12:36 vts6 imapd[21817]: Authenticated user=pts host=stab1.xxxx [192.168.127.61] mech=PLAIN
Jan  1 10:12:37 vts6 imapd[21817]: Moved 303041 bytes of new mail to /home/pts/mbox from \
/var/spool/mail/pts host= stab1.xxxx [192.168.127.61]
```

imap SELECT INBOX starts a move of new email from spool area to mbox file and then returns  With <n> RECENT result for numbers of new (RECENT) mails.

There are index and other data that needs to be updated on new mail arrival and therefor it's a 2 stage process to deliver.

```
a0006 select inbox                                                                        
* 1322 EXISTS                                                                             
* 1323 EXISTS                                                                             
* 1 RECENT                                                                                
* OK [UIDVALIDITY 1324058029] UID validity status                                         
* OK [UIDNEXT 2700] Predicted next UID                                                    
* FLAGS (NonJunk \Answered \Flagged \Deleted \Draft \Seen)                                
* OK [PERMANENTFLAGS (NonJunk \* \Answered \Flagged \Deleted \Draft \Seen)] Permanent flags                                                                                        
* OK [UNSEEN 3] first unseen message in /home_l/pts/mbox                                  
a0006 OK [READ-WRITE] SELECT completed 
```                                                   

imap examine is a read only operation does not changes anything, just returns what is there.
```
a000 examine inbox
* 1322 EXISTS
* 0 RECENT
* OK [UIDVALIDITY 1324058029] UID validity status
* OK [UIDNEXT 2699] Predicted next UID
* FLAGS (NonJunk \Answered \Flagged \Deleted \Draft \Seen)
* OK [PERMANENTFLAGS ()] Permanent flags
* OK [UNSEEN 3] first unseen message in /home_l/pts/mbox
a000 OK [READ-ONLY] EXAMINE completed
```

**Note  0 RECENT**  is is what happens on version 5.4 that uses examine.

Open a folder or account or using refresh button should trigger an IMAP SELECT  


### Environment
K-9 Mail version: 5.4

Android version: 4.4.x and 6

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Fix: import/export maintains account order,[],"Resolves #2969 

As suggested by @cketti 
* Changed `HashSet` to `LinkedHashSet` in `SettingsExporter` for storing accounts in order.
* Changed `HashMap` to `LinkedHashMap` in `SettingsImporter` for importing accounts in order."
k9mail/k-9,open,Slow performance since 5.4,[],"Since the upgrade performance is really slow when selecting messages in my account -  About half a second to select a message. 

Issue did not happen before. 

### Environment
K-9 Mail version: 5.4

Android version:
OnePlus 3T
Account type (IMAP, POP3, WebDAV/Exchange):
Imap 
"
k9mail/k-9,closed,Contacts: cache name and photo uri for address to reduce database que…,[],"…ries

See issue #747"
k9mail/k-9,closed,Bad <hr> detection causes emails to appear empty,"[Label(name=""bug"")]","Some emails displayed empty, despite there is text in the email body. 
Note: Email preview in notification window shows (part) of body; but email body seems empty in K9.

This behavior has been introduced with the latest K9 update a few days ago.

### Expected behavior
Email displayed correctly.

### Actual behavior
Email shown empty. When using ""Reply"" on the mail, no email body is shown, the wait cursor is shown indefinitely.

### Steps to reproduce
Not sure why some emails get not displayed. I could provide the emails not correctly shown if needed.

### Environment
K-9 Mail version: 5.400

Android version:
7.1.1 and also 4.4.4


Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,"""Max folders to check with push"" should allow less than 10",[],"### Expected behavior
When I refresh my mail, I expect to see my new mail.

### Actual behavior
Instead I see incomplete error messages in the folder overview; ""Command: AUTHENTICATE-CRAM-"" and the rest seems to be missing.

""Max folders to check with push"" (which may or may not be a related setting) is set at the lowest value of 10. I would think it needs lower options.

My imap server (dovecot) logs 

```
Dec 31 17:33:02 murthe dovecot: imap-login: Login: user=<rhialto>, method=CRAM-MD5, rip=xxx, lip=yyy, mpid=25092, TLS, session=<7sRca6Vhj59bN1pC>
Dec 31 17:33:02 murthe dovecot: imap-login: Login: user=<rhialto>, method=CRAM-MD5, rip=xxx, lip=yyy, mpid=13658, TLS, session=<Ttpca6Vhg+hbN1pC>
Dec 31 17:33:02 murthe dovecot: imap-login: Login: user=<rhialto>, method=CRAM-MD5, rip=xxx, lip=yyy, mpid=10350, TLS, session=<bWVda6Vh/tBbN1pC>
Dec 31 17:33:02 murthe dovecot: imap-login: Login: user=<rhialto>, method=CRAM-MD5, rip=xxx, lip=yyy, mpid=26853, TLS, session=<iGRda6VhD4tbN1pC>
Dec 31 17:33:02 murthe dovecot: imap-login: Login: user=<rhialto>, method=CRAM-MD5, rip=xxx, lip=yyy, mpid=2918, TLS, session=<OdBda6VhO+JbN1pC>
Dec 31 17:33:02 murthe dovecot: imap-login: Login: user=<rhialto>, method=CRAM-MD5, rip=xxx, lip=yyy, mpid=22125, TLS, session=<OdBda6VhqNRbN1pC>
Dec 31 17:33:02 murthe dovecot: imap-login: Login: user=<rhialto>, method=CRAM-MD5, rip=xxx, lip=yyy, mpid=17403, TLS, session=<Txxfa6VhRLZbN1pC>
Dec 31 17:33:02 murthe dovecot: imap-login: Login: user=<rhialto>, method=CRAM-MD5, rip=xxx, lip=yyy, mpid=17585, TLS, session=<1Rtfa6Vhu7tbN1pC>
Dec 31 17:33:02 murthe dovecot: imap-login: Login: user=<rhialto>, method=CRAM-MD5, rip=xxx, lip=yyy, mpid=18985, TLS, session=<7zlfa6VhoOVbN1pC>
Dec 31 17:33:02 murthe dovecot: imap-login: Login: user=<rhialto>, method=CRAM-MD5, rip=xxx, lip=yyy, mpid=19881, TLS, session=<w0xfa6VhmqpbN1pC>
Dec 31 17:33:02 murthe dovecot: imap-login: Maximum number of connections from user+IP exceeded (mail_max_userip_connections=10): user=<rhialto>, method=CRAM-MD5, rip=xxx, lip=yyy, TLS, session=<LJlfa6Vh87FbN1pC>
```

Note that this tries to open an 11th connection.

### Steps to reproduce
1. Set dovecot to limit to 10 connections (way overkill!!! but it happens to be the default)
2. have more than 10 folders, I suppose
3. refresh mail.

### Environment
K-9 Mail version: 5.400

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Lost all account data after installing update of 29th,[],"After the last update of December 29 I lost all my account settings. Hadn't come to export them. 

Android 6.0
Levono b"
k9mail/k-9,closed,Lost all account data after installing update of 29th,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Feature: add option to couple images in inbox to email identities instead of contact photos,[],"I would love to have a clear indication in my inbox to which of my 10+ identities an email was send. I have no use for these big images of each contact. I would much rather display a picture or icon of the receiving identity, rahter than the sending contact.

This could be an optional setting.

![k9 that s what i m talking about](https://user-images.githubusercontent.com/34976212/34459641-e59afa3a-edf5-11e7-99c9-e0b9641a51bb.jpg)

So instead of those linked to the name of the contact, I would like them linked to the name of an identity.
(Btw I am sure there are loads people who do like it as is, I am merely suggestion to have an optional alternative to it)

### Environment
K-9 Mail version:
5.400

Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,Account Settings (PreferenceActivity) doesn't support in-app language feature,"[Label(name=""bug"")]","### Expected behavior
When switching from Dutch to English, all text is now shown in English.

### Actual behavior
Going into an existing account, and going into accunt settings, show everything in English except the title of the account settingsd menu, which is still shown in Dutch.

### Steps to reproduce
1. Set up K9 with the Dutch language
2. Switch to English
3. Close K9
4. Open K9
5. Close K.. nah just kidding
6. go into an existing account, settings, account settings
7. look at title and scream in amazement

### Environment
K-9 Mail version:
5.400

Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,Display full email address instead of contact name in MessageCompose,"[Label(name=""enhancement"")]","### Expected behavior
Option to see the full address instead of the name of the contact, giving the ability to verify with one quick look at the adressbar what mail address I am replying to

### Actual behavior
to field is shown as name of contact

### Steps to reproduce
1. reply to email
2. look at to field
3.

### Environment
K-9 Mail version:
5.400

Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Prefer To over X-Original-To when determining recipient identity,"[Label(name=""bug""), Label(name=""enhancement"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
reply to the e-mail with the identity the email was send to
(note: this is not the same as always replying with the identity which has highest priority, that woudl also be acceptable, but rplying with the identity which received the email would be best)

### Actual behavior
the inital account is selected by default, instead of the identity which received the email. Even the identity priority is ignored.

### Steps to reproduce
1. create account
2. add new identity
3. prioritise new identity over inital identity
4. send email to newest identity
5. attempt to reply to received email (and notice the wrong identity is assumed)

### Environment
K-9 Mail version:
5.400

Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,identities do not always adhear to signature setting in composition default,[],"### Expected behavior
1. When changing the signature in composition default, all identities should update to this signature, or a prompt should come up asking if it should overwrite all identities.
2. When adding a new identity, it should by default assume the signature as set in composition default

### Actual behavior
1. When changing the signature in composition default, identities retain their current signature.
2. New identities have no signature, even though composition default it set.

### Steps to reproduce
1. create account
2. create 1 or more new identities
3. set a composition default signature
4. create more identities
5. realise it's weird and you are glad someone reported this (thank me later)
6. thank me

### Environment
K-9 Mail version:
5.400

Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,"""Strip signature on reply"" not always applied","[Label(name=""bug"")]","### Expected behavior
When replying on e-mail back and forth, my signature is added each time. I expect the option ""strip signature on reply"" to prevent this from happening.

### Actual behavior
After replying to an email, my signature is added. The other side replies, and I reply again, now the email has my signature in it twice. And with every reply from my side another signature is added.

### Steps to reproduce
1. create a signature, either for an identity or in composition default
2. turn on strip signature on reply in account settings
3. send a message and send it back and forth by replying to it a few times.

### Environment
K-9 Mail version:
5.400

Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Ability to select monospaced font for composing messages,"[Label(name=""enhancement"")]","### Expected behavior
Letters should line up under each other properly, so that users can flag words by using ^^^^ on the line beneath, so that Ascii graphics can be entered, or to make it easier to see when to break a line.

### Actual behavior
Letters don't line up under each other

### Steps to reproduce
1. Compose a mail with the following contents:

mmmmmmmm
.....

2. Watch how the m's and the dots don't line up...

... or, if for some reason this can't be made the default, it should at least be configurable, like it is for reading incoming mails.

### Environment
K-9 Mail version:
5.400

Android version:
4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
any (tested with IMAP)"
k9mail/k-9,closed,Added nl (Dutch) translation,[],"I have translated your application into `nl` (*Dutch*). Here is the xml:
```xml
<!-- File ""strings.xml"" -->
<?xml version='1.0' encoding='UTF-8'?>
<resources xmlns:xliff=""urn:oasis:names:tc:xliff:document:1.2"">
    <!-- === App-specific strings ============================================================= -->

    <!-- This should make it easier for forks to change the branding -->

    <!-- Used in AndroidManifest.xml -->
    <string name=""app_name"">K-9 Mail</string>

    <string name=""shortcuts_title"">K-9 Accounts</string>
    <string name=""unread_widget_label"">K-9 Ongelezen</string>

    <string name=""remote_control_label"">K-9 Mail bediening op afstand</string>
    <string name=""remote_control_desc"">Sta deze applicatie toe om activiteiten en instellingen van K-9 Mail aan te passen.</string>


    <!-- Used in the about dialog -->
    <string name=""app_authors"">Google, The K-9 Dog Walkers.</string>
    <string name=""app_copyright_fmt"">Copyright 2008-&lt;xliff:g &gt;%s&lt;/xliff:g&gt; The K-9 Dog Walkers. Portions Copyright 2006-&lt;xliff:g &gt;%s&lt;/xliff:g&gt; the Android Open Source Project.</string>
    <string name=""app_license"">Licensed under the Apache License, Version 2.0.</string>


    <!-- Welcome message -->
    <string name=""welcome_message_title"">Welkom bij K-9 Mail</string>
    <string name=""accounts_welcome""><p> K-9 Mail is een krachtige e-mail cliënt voor Android. </p><p> De verbeterde mogelijkheden bestaan uit ondermeer: </p> <ul> <li>Push mail ddormiddel van IMAP IDLE</li>  <li>Betere prestaties</li>  <li>Bericht herclassificatie</li>  <li>E-mail handtekeningen</li>  <li>Bcc naar jezelf</li>  <li>Map abonnementen</li>  <li>Synchronisatie van alle mappen</li>  <li>Antwoord adres instellen</li>  <li>Toetsenbord snelkoppelingen</li>  <li>Betere IMAP ondersteuning</li>  <li>Bijlage opslaan naar SD</li>  <li>Prullenbak legen</li>  <li>Berichten sorteren</li>  <li>…en meer</li>  </ul>  <p>  Houd er rekening mee dat K-9 de meeste gratis Hotmail-accounts niet ondersteund, en net als veel e-mailclients, problemen kan hebben om te verbinden met Microsoft Exchange.  </p><p>  Graag foutrapporten sturen, bijdragen voor nieuwe functies en vragen stellen op  <a href=\""https://github.com/k9mail/k-9/\"">https://github.com/k9mail/k-9/</a>.  </p></string>


    <!-- Default signature -->
    <string name=""default_signature"">-- \n
  Verstuurd vanaf mijn Android apparaat met K-9 Mail. Excuseer mijn beknoptheid.</string>


    <!-- General strings that include the app name -->
    <string name=""account_delete_dlg_instructions_fmt"">De account \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" wordt verwijderd van K-9 Mail.</string>
    <string name=""account_recreate_dlg_instructions_fmt"">Alle data voor \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" wordt verwijderd van K-9 Mail, maar account instellingen blijven behouden.</string>
    <string name=""account_clear_dlg_instructions_fmt"">Alle berichten in \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" wordt verwijderd van  K-9 Mail, maar account instellingen blijven behouden.</string>



    <!-- === App Store-specific strings ======================================================= -->

    <string name=""import_dialog_error_message"">Installeer een bestandsbeheer-app om verder te gaan met deze import.</string>
    <string name=""open_market"">Open Play Store</string>



    <!-- === General strings ================================================================== -->

    <string name=""app_authors_fmt"">Auteurs: &lt;xliff:g id=\""app_authors\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""app_revision_fmt"">Revisie Informatie: &lt;xliff:g id=\""app_revision_url\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""app_libraries"">De volgende externe bibliotheken worden gebruikt: &lt;xliff:g id=\""app_libraries_list\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""app_emoji_icons"">Emoji icons: &lt;xliff:g id=\""app_emoji_icons_link\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""read_attachment_label"">E-mail bijlage lezen</string>
    <string name=""read_attachment_desc"">Sta deze applicatie toe om bijlagen van e-mails te lezen.</string>
    <string name=""read_messages_label"">E-mails lezen</string>
    <string name=""read_messages_desc"">Sta deze aplicatie toe om je e-mails te lezen.</string>
    <string name=""delete_messages_label"">Verwijder e-mails</string>
    <string name=""delete_messages_desc"">Sta deze applicatie toe om je e-mails te verwijderen.</string>

    <string name=""about_title_fmt"">Over &lt;xliff:g id=\""app_name\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""accounts_title"">Accounts</string>
    <string name=""folders_title"">Mappen</string>
    <string name=""advanced"">Geavanceerd</string>

    <string name=""message_list_title"">&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""compose_title_compose"">Ontwerp</string>
    <string name=""compose_title_reply"">Antwoorden</string>
    <string name=""compose_title_reply_all"">Allen antwoorden</string>
    <string name=""compose_title_forward"">Doorsturen</string>

    <string name=""choose_account_title"">Kies Account</string>
    <string name=""choose_folder_title"">Kies een map</string>

    <string name=""status_loading_account_folder"">Poll &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_loading_account_folder_headers"">Het ophalen van koppen &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_sending_account"">Verzenden &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_processing_account"">Proc &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""command\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""folder_progress"">\\u0020&lt;xliff:g id=\""completed\"" &gt;%d&lt;/xliff:g&gt;/&lt;xliff:g id=\""total\"" &gt;%d&lt;/xliff:g&gt;</string>

    <string name=""status_next_poll"">Volgende poll &lt;xliff:g id=\""nexttime\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_no_network"">Synchroniseren uitgeschakeld - Geen netwerk</string>
    <string name=""status_no_background"">Synchroniseren uitgeschakeld - Geen achtergrond activiteiten</string>
    <string name=""status_poll_and_push_disabled"">stem- en push kennisgeving uitgeschakeld</string>
    <string name=""status_syncing_blocked"">Synchroniseren uitgeschakeld</string>
    <string name=""status_syncing_off"">Synchroniseren uitgeschakeld</string>

    <string name=""actionbar_selected"">&lt;xliff:g id=\""selection_count\"" &gt;%d&lt;/xliff:g&gt; geselecteerd</string>
    <string name=""next_action"">Volgende</string>
    <string name=""previous_action"">Vorige</string>
    <!-- Used to confirm acceptance of dialog boxes, warnings, errors, etc. -->
    <string name=""okay_action"">OK</string>
    <string name=""cancel_action"">Annuleren</string>
    <string name=""send_action"">Verzenden</string>
    <string name=""send_again_action"">Opnieuw Verzenden</string>
    <string name=""empty_subject"">Er is geen onderwerp ingevuld. Tik nogmaals om toch te versturen.</string>
    <string name=""select_action"">Selecteren</string>
    <string name=""deselect_action"">Annuleer selectie</string>
    <string name=""reply_action"">Antwoorden</string>
    <string name=""reply_all_action"">Iedereen antwoorden</string>
    <string name=""delete_action"">Verwijderen</string>
    <string name=""archive_action"">Archief</string>
    <string name=""spam_action"">Spam</string>
    <string name=""forward_action"">Doorsturen</string>
    <string name=""move_action"">Verplaatsen</string>
    <string name=""single_message_options_action"">Verzend…</string>
    <string name=""refile_action"">Opnieuw opslaan…</string>
    <string name=""done_action"">Klaar</string>
    <string name=""discard_action"">Vergeten</string>
    <string name=""save_draft_action"">Opslaan als concept</string>
    <string name=""check_mail_action"">Controleer mail</string>
    <string name=""send_messages_action"">Verstuur bericht</string>
    <string name=""refresh_folders_action"">Vernieuw map lijst</string>
    <string name=""filter_folders_action"">Vind map</string>
    <string name=""add_account_action"">Voeg account toe</string>
    <string name=""compose_action"">Nieuw bericht</string>
    <string name=""search_action"">Zoeken</string>
    <string name=""search_results"">Zoekresultaten</string>
    <string name=""preferences_action"">Instellingen</string>
    <string name=""account_settings_action"">Account instellingen</string>
    <string name=""folder_settings_action"">Mappen instellingen</string>
    <string name=""global_settings_action"">Algemene instellingen</string>
    <string name=""remove_account_action"">Verwijder account</string>
    <string name=""clear_pending_action"">Leeg maken in afwachting van acties (gevaar!)</string>

    <string name=""mark_as_read_action"">Markeer als gelezen</string>
    <string name=""send_alternate_action"">Doorsturen met een andere app</string>
    <string name=""send_alternate_chooser_title"">Kies afzender</string>

    <string name=""flag_action"">Voeg ster toe</string>
    <string name=""unflag_action"">Verwijder ster</string>
    <string name=""copy_action"">Kopieer</string>
    <string name=""select_text_action"">Selecteer tekst</string>
    <string name=""show_headers_action"">Laat koppen zien</string>
    <string name=""hide_headers_action"">Verberg koppen</string>
    <plurals name=""copy_address_to_clipboard"">
        <item quantity=""one"">Adres naar klembord gekopieerd</item>
        <item quantity=""other"">Adressen naar klembord gekopieerd</item>
    </plurals>

    <string name=""message_view_theme_action_dark"">Schakel naar donker thema</string>
    <string name=""message_view_theme_action_light"">Schakel naar licht thema</string>

    <string name=""mark_as_unread_action"">Markeer als ongelezen</string>
    <string name=""read_receipt"">Lees rapport</string>
    <string name=""read_receipt_enabled"">Lees rapport vragen</string>
    <string name=""read_receipt_disabled"">Geen lees rapport vragen</string>
    <string name=""add_attachment_action"">Voeg bijlage toe</string>
    <string name=""empty_trash_action"">Prullenbak legen</string>
    <string name=""expunge_action"">Wissen</string>
    <string name=""clear_local_folder_action"">Lokale berichten wissen</string>
    <string name=""about_action"">Over</string>

    <string name=""prefs_title"">Instellingen</string>
    <string name=""accounts_context_menu_title"">Account opties</string>

    <!-- Shown in place of the subject when a message has no subject. Showing this in parentheses is customary. -->
    <string name=""general_no_subject"">(Geen onderwerp)</string>
    <string name=""general_no_sender"">Geen afzender</string>
    <string name=""status_loading"">Polling</string>
    <string name=""status_loading_more"">Berichten laden\\u2026</string>
    <string name=""status_network_error"">Netwerkfout</string>
    <string name=""status_invalid_id_error"">Bericht niet gevonden</string>
    <string name=""status_loading_error"">Bericht laden is mislukt</string>

    <string name=""status_loading_more_failed"">Opnieuw meer berichten laden</string>

    <string name=""load_more_messages_fmt"">Volgende &lt;xliff:g id=\""messages_to_load\"" &gt;%d&lt;/xliff:g&gt; berichten</string>

    <string name=""abbrev_gigabytes"">GB</string>
    <string name=""abbrev_megabytes"">MB</string>
    <string name=""abbrev_kilobytes"">KB</string>
    <string name=""abbrev_bytes"">B</string>

    <string name=""account_size_changed"">Account \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" shrunk van &lt;xliff:g id=\""oldSize\"" &gt;%s&lt;/xliff:g&gt; naar &lt;xliff:g id=\""newSize\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""compacting_account"">Account \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" comprimeren</string>
    <string name=""clearing_account"">Account \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" wissen</string>
    <string name=""recreating_account"">Account \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" opnieuw instellen</string>

    <string name=""notification_new_title"">Nieuwe mail</string>
    <plurals name=""notification_new_messages_title"">
        <item quantity=""one"">&lt;xliff:g id=\""new_message_count\"" &gt;%d&lt;/xliff:g&gt; nieuwe berichten</item>
        <item quantity=""other"">&lt;xliff:g id=\""new_message_count\"" &gt;%d&lt;/xliff:g&gt; nieuwe berichten</item>
    </plurals>
    <string name=""notification_new_one_account_fmt"">&lt;xliff:g id=\""unread_message_count\"" &gt;%d&lt;/xliff:g&gt; Ongelezen (&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""notification_additional_messages"">+ &lt;xliff:g id=\""additional_messages\"" &gt;%1$d&lt;/xliff:g&gt; meer bij &lt;xliff:g id=\""account\"" &gt;%2$s&lt;/xliff:g&gt;</string>

    <string name=""notification_action_reply"">Antwoorden</string>
    <string name=""notification_action_mark_as_read"">Gelezen</string>
    <string name=""notification_action_mark_all_as_read"">Alles als gelezen markeren</string>
    <string name=""notification_action_delete"">Verwijderen</string>
    <string name=""notification_action_delete_all"">Alles verwijderen</string>
    <string name=""notification_action_archive"">Archiveren</string>
    <string name=""notification_action_archive_all"">Alles Archiveren</string>
    <string name=""notification_action_spam"">Spam</string>
    <string name=""notification_certificate_error_title"">Certificaat fout voor &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""notification_certificate_error_text"">Kijk de server instellingen na</string>

    <string name=""notification_authentication_error_title"">Authenticatie mislukt</string>
    <string name=""notification_authentication_error_text"">Authenticatie mislukt voor &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;. Werk de server instellingen bij.</string>

    <string name=""notification_bg_sync_ticker"">Controleer mail: &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""notification_bg_sync_title"">Controleren van mail</string>
    <string name=""notification_bg_send_ticker"">Verzenden van mail: &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""notification_bg_send_title"">Verzenden van mail</string>
    <string name=""notification_bg_title_separator"">:</string>

    <string name=""special_mailbox_name_inbox"">Postvak in</string>
    <string name=""special_mailbox_name_outbox"">Postvak uit</string>
    <string name=""special_mailbox_name_drafts"">Concepten</string>
    <string name=""special_mailbox_name_trash"">Prullenbak</string>
    <string name=""special_mailbox_name_sent"">Verzonden</string>
    <string name=""special_mailbox_name_archive"">Archief</string>
    <string name=""special_mailbox_name_spam"">Spam</string>

    <string name=""special_mailbox_name_drafts_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Concepten)</string>
    <string name=""special_mailbox_name_trash_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Prullenbak)</string>
    <string name=""special_mailbox_name_sent_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Verzonden)</string>
    <string name=""special_mailbox_name_archive_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Archief)</string>
    <string name=""special_mailbox_name_spam_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Spam)</string>

    <string name=""send_failure_subject"">Fout bij verzenden van berichten</string>

    <string name=""debug_version_fmt"">Versie: &lt;xliff:g id=\""version\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""debug_enable_debug_logging_title"">Debug log toestaan</string>
    <string name=""debug_enable_debug_logging_summary"">Log extra diagnostische informatie</string>
    <string name=""debug_enable_sensitive_logging_title"">Log gevoelige informatie</string>
    <string name=""debug_enable_sensitive_logging_summary"">Kan wachtwoorden laten zien in logs.</string>

    <string name=""message_list_load_more_messages_action"">Laad meer berichten</string>
    <string name=""message_to_fmt"">Aan:&lt;xliff:g id=\""counterParty\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""message_compose_subject_hint"">Onderwerp</string>
    <string name=""message_compose_content_hint"">Bericht tekst</string>
    <string name=""message_compose_signature_hint"">Handtekening</string>
    <string name=""message_compose_quote_header_separator"">-------- Origineel bericht --------</string>
    <string name=""message_compose_quote_header_subject"">Onderwerp:</string>
    <string name=""message_compose_quote_header_send_date"">Verzonden:</string>
    <string name=""message_compose_quote_header_from"">Van:</string>
    <string name=""message_compose_quote_header_to"">Aan:</string>
    <string name=""message_compose_quote_header_cc"">CC:</string>
    <string name=""message_compose_reply_header_fmt"">&lt;xliff:g id=\""sender\"" &gt;%s&lt;/xliff:g&gt; schreef:</string>
    <string name=""message_compose_reply_header_fmt_with_date"">&lt;xliff:g id=\""sender\"" &gt;%2$s&lt;/xliff:g&gt; schreef op &lt;xliff:g id=\""sent_date\"" &gt;%1$s&lt;/xliff:g&gt;:</string>
    <string name=""message_compose_error_no_recipients"">Minimaal 1 ontvanger kiezen.</string>
    <string name=""compose_error_incomplete_recipient"">De ontvanger is niet (volledig) ingevuld!</string>
    <string name=""error_contact_address_not_found"">Geen e-mailadres gevonden.</string>
    <string name=""message_compose_attachments_skipped_toast"">Sommige bijlagen kunnen niet worden doorgestuurd omdat ze niet zijn gedownload.</string>
    <string name=""message_compose_show_quoted_text_action"">Bericht quoten</string>
    <string name=""message_compose_description_delete_quoted_text"">Citaattekst verwijderen</string>
    <string name=""message_compose_description_edit_quoted_text"">Citaattekst bewerken</string>

    <string name=""message_view_from_format"">Van: &lt;xliff:g id=\""name\"" &gt;%s&lt;/xliff:g&gt; &lt;&lt;xliff:g id=\""email\"" &gt;%s&lt;/xliff:g&gt;&gt;</string>
    <string name=""message_to_label"">Aan:</string>
    <string name=""message_view_cc_label"">Cc:</string>
    <string name=""message_view_bcc_label"">Bcc:</string>
    <string name=""message_view_attachment_view_action"">Open</string>
    <string name=""message_view_attachment_download_action"">Bewaar</string>
    <string name=""message_view_status_attachment_not_saved"">Opslaan bijlage op SD-kaart mislukt.</string>
    <string name=""message_view_status_no_space"">De bijlage kon niet worden opgeslagen wegen ruimte gebrek.</string>
    <string name=""message_view_show_pictures_action"">Laat afbeeldingen zien</string>
    <string name=""message_view_no_viewer"">Niet in staat viewer te vinden voor &lt;xliff:g id=\""mimetype\"" &gt;%s&lt;/xliff:g&gt;.</string>
    <string name=""message_view_download_remainder"">Download compleet bericht</string>
    <string name=""message_view_toast_unable_to_display_message"">Niet mogelijk om bericht te tonen</string>
    <string name=""message_view_sender_label"">via %1$s</string>

    <!-- NOTE: The following message refers to strings with id account_setup_incoming_save_all_headers_label and account_setup_incoming_title -->
    <string name=""message_no_additional_headers_available"">Alle koppen zijn gedownload, maar er zijn geen extra koppen om te tonen.</string>
    <string name=""message_additional_headers_retrieval_failed"">Het ophalen van extra koppen uit de database of e-mailserver is mislukt.</string>

    <string name=""from_same_sender"">Meer van deze afzender</string>
    <string name=""search_from_format"">Van &lt;xliff:g id=\""sender\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""debug_delete_local_body"">Debug / Bericht veld wissen</string>

    <string name=""message_discarded_toast"">Bericht verwijderd</string>
    <string name=""message_saved_toast"">Bericht opgeslagen als concept</string>

    <string name=""global_settings_flag_label"">Bericht sterren</string>
    <string name=""global_settings_flag_summary"">Sterren geven gemarkeerde berichten aan</string>
    <string name=""global_settings_checkbox_label"">Multi-selecteer selectieboxen</string>
    <string name=""global_settings_checkbox_summary"">Laat altijd multi-selecteer selectieboxen zien</string>
    <string name=""global_settings_preview_lines_label"">Preview regels</string>
    <string name=""global_settings_show_correspondent_names_label"">Toon naam bij bericht</string>
    <string name=""global_settings_show_correspondent_names_summary"">Geef bij voorkeur naam van afzender/geadresseerde weer i.p.v. e-mailadres</string>

    <string name=""global_settings_sender_above_subject_label"">Correspondent boven onderwerp</string>
    <string name=""global_settings_sender_above_subject_summary"">Correspondent namen boven de onderwerp-regel, niet eronder</string>

    <string name=""global_settings_show_contact_name_label"">Toon naam uit contactenlijst</string>
    <string name=""global_settings_show_contact_name_summary"">Geef de naam weer uit het adresboek</string>
    <string name=""global_settings_registered_name_color_label"">Kleuren contacten</string>
    <string name=""global_settings_registered_name_color_default"">De namen in uw contact lijst niet kleuren</string>
    <string name=""global_settings_registered_name_color_changed"">Kleur de namen in uw contact lijst</string>
    <string name=""global_settings_folderlist_wrap_folder_names_label"">Lange mapnamen afbreken</string>
    <string name=""global_settings_folderlist_wrap_folder_names_summary"">Gebruik meerdere regels voor lange mapnamen</string>

    <string name=""global_settings_messageview_fixedwidth_label"">Vaste breedte lettertypen</string>
    <string name=""global_settings_messageview_fixedwidth_summary"">Gebruik een lettertype met vaste breedte bij het weergeven van plain-tekstberichten</string>
    <string name=""global_settings_messageview_autofit_width_label"">Berichten auto-passen</string>
    <string name=""global_settings_messageview_autofit_width_summary"">Berichten passend maken op het scherm</string>
    <string name=""global_settings_messageview_return_to_list_label"">Terug naar lijst na verwijderen</string>
    <string name=""global_settings_messageview_return_to_list_summary"">Terug naar de berichtenlijst na bericht verwijderen</string>
    <string name=""global_settings_messageview_show_next_label"">Volgend bericht laten zien na verwijderen</string>
    <string name=""global_settings_messageview_show_next_summary"">Standaard volgend bericht laten zien na verwijderen</string>

    <string name=""global_settings_confirm_actions_title"">Bevestig acties</string>
    <string name=""global_settings_confirm_actions_summary"">Toon een dialoogvenster altijd wanneer u de geselecteerde acties uitvoert</string>
    <string name=""global_settings_confirm_action_delete"">Verwijder</string>
    <string name=""global_settings_confirm_action_delete_starred"">Gemarkeerd verwijderen (in bericht-view)</string>
    <string name=""global_settings_confirm_action_spam"">Spam</string>
    <string name=""global_settings_confirm_menu_discard"">Bericht afbreken</string>
    <string name=""global_settings_confirm_menu_mark_all_read"">Markeer alles als gelezen</string>
    <string name=""global_settings_confirm_action_delete_notif"">Verwijder (van notificaties)</string>

    <string name=""global_settings_privacy_hide_useragent"">Mail client verbergen</string>
    <string name=""global_settings_privacy_hide_useragent_detail"">K-9 gebruikersagent van de mailkoppen verwijderen</string>
    <string name=""global_settings_privacy_hide_timezone"">Tijdzone verbergen</string>
    <string name=""global_settings_privacy_hide_timezone_detail"">Gebruik UTC in plaats van de lokale tijdzone in de mailkoppen en bij het antwoorden van mail</string>
    <string name=""global_settings_notification_hide_subject_title"">Verberg onderwerp in notificaties</string>
    <string name=""global_settings_notification_hide_subject_never"">Nooit</string>
    <string name=""global_settings_notification_hide_subject_when_locked"">Als toestel gelocked is</string>
    <string name=""global_settings_notification_hide_subject_always"">Altijd</string>

    <string name=""global_settings_notification_quick_delete_title"">Zien \'Verwijder\' knop</string>
    <string name=""global_settings_notification_quick_delete_never"">Nooit</string>
    <string name=""global_settings_notification_quick_delete_when_single_msg"">Notificatie voor los bericht</string>
    <string name=""global_settings_notification_quick_delete_always"">Altijd</string>
    <string name=""global_settings_notification_quick_delete_description"">Laat een knop in de notificatie zien om snel te verwijderen</string>

    <string name=""global_settings_lock_screen_notification_visibility_title"">Start scherm notificatie</string>
    <string name=""global_settings_lock_screen_notification_visibility_nothing"">Geen start scherm notificatie</string>
    <string name=""global_settings_lock_screen_notification_visibility_app_name"">App naam</string>
    <string name=""global_settings_lock_screen_notification_visibility_message_count"">Ongelezen berichten teller</string>
    <string name=""global_settings_lock_screen_notification_visibility_senders"">Berichten teller (ook verzonden)</string>
    <string name=""global_settings_lock_screen_notification_visibility_everything"">Het zelfde. Ook na schermontgrendeling</string>

    <string name=""quiet_time"">Stilteperiode</string>
    <string name=""quiet_time_description"">Schakel beltoon, vibratie en leds uit gedurende de nacht</string>
    <string name=""quiet_time_notification"">Notificaties uitzetten</string>
    <string name=""quiet_time_notification_description"">Notificatie compleet uitzetten tijdens stilte modus</string>
    <string name=""quiet_time_starts"">Stilteperiode start</string>
    <string name=""quiet_time_ends"">Stilteperiode eindigt</string>

    <string name=""account_setup_basics_title"">Een nieuwe account instellen</string>
    <string name=""account_setup_basics_email_hint"">E-mailadres</string>
    <string name=""account_setup_basics_password_hint"">Wachtwoord</string>
    <string name=""account_setup_basics_show_password"">Toon wachtwoord</string>
    <string name=""account_setup_basics_manual_setup_action"">Handmatige setup</string>

    <string name=""account_setup_check_settings_title""/>
    <string name=""account_setup_check_settings_retr_info_msg"">Ophalen account informatie\\u2026</string>
    <string name=""account_setup_check_settings_check_incoming_msg"">Controleren van inkomende serverinstellingen\\u2026</string>
    <string name=""account_setup_check_settings_check_outgoing_msg"">Controleren van uitgaande serverinstellingen\\u2026</string>
    <string name=""account_setup_check_settings_authenticate"">Authenticatie\\u2026</string>
    <string name=""account_setup_check_settings_fetch"">Accountinstellingen worden opgehaald\\u2026</string>
    <string name=""account_setup_check_settings_canceling_msg"">Annuleren\\u2026</string>

    <string name=""account_setup_names_title"">Bijna klaar!</string>
    <string name=""account_setup_names_account_name_label"">Geef deze account een naam (optioneel):</string>
    <string name=""account_setup_names_user_name_label"">Typ je naam (zichtbaar bij uitgaande berichten):</string>

    <string name=""account_setup_account_type_title"">Account type</string>
    <string name=""account_setup_account_type_instructions"">Welk type account is dit?</string>
    <string name=""account_setup_account_type_pop_action"">POP3</string>
    <string name=""account_setup_account_type_imap_action"">IMAP</string>
    <string name=""account_setup_account_type_webdav_action"">WebDAV (Exchange)</string>

    <string name=""account_setup_auth_type_normal_password"">Normaal wachtwoord</string>
    <string name=""account_setup_auth_type_insecure_password"">Wachtwoord, onveilig verzonden</string>
    <string name=""account_setup_auth_type_encrypted_password"">Versleuteld wachtwoord</string>
    <string name=""account_setup_auth_type_tls_client_certificate"">Cliënt certificaat</string>

    <string name=""account_setup_incoming_title"">Inkomende server instellingen</string>
    <string name=""account_setup_incoming_username_label"">Gebruikersnaam</string>
    <string name=""account_setup_incoming_password_label"">Wachtwoord</string>
    <string name=""account_setup_incoming_client_certificate_label"">Cliënt certificaat</string>
    <string name=""account_setup_incoming_pop_server_label"">POP3 server</string>
    <string name=""account_setup_incoming_imap_server_label"">IMAP server</string>
    <string name=""account_setup_incoming_webdav_server_label"">WebDAV (Exchange) server</string>
    <string name=""account_setup_incoming_port_label"">Port</string>
    <string name=""account_setup_incoming_security_label"">Beveiligings type</string>
    <string name=""account_setup_incoming_auth_type_label"">Authenticatie type</string>
    <string name=""account_setup_incoming_security_none_label"">Geen</string>
    <string name=""account_setup_incoming_security_ssl_label"">SSL/TLS</string>
    <string name=""account_setup_incoming_security_tls_label"">STARTTLS</string>
    <string name=""account_setup_incoming_invalid_setting_combo_notice"">""&lt;xliff:g id=\""setting_1_label\"" &gt;%1$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_1_value\"" &gt;%2$s&lt;/xliff:g&gt;\"" is niet geldig met \""&lt;xliff:g id=\""setting_2_label\"" &gt;%3$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_2_value\"" &gt;%4$s&lt;/xliff:g&gt;""</string>

    <string name=""account_setup_incoming_delete_policy_label"">Wanneer ik een bericht verwijder</string>
    <string name=""account_setup_incoming_delete_policy_never_label"">Verwijder niet van server</string>
    <string name=""account_setup_incoming_delete_policy_delete_label"">Verwijder van server</string>
    <string name=""account_setup_incoming_delete_policy_markread_label"">Markeer als gelezen op server</string>

    <string name=""account_setup_incoming_compression_label"">Gebruik compressie op het netwerk:</string>
    <string name=""account_setup_incoming_mobile_label"">Mobiel</string>
    <string name=""account_setup_incoming_wifi_label"">Wi-Fi</string>
    <string name=""account_setup_incoming_other_label"">Anders</string>

    <string name=""local_storage_provider_external_label"">Externe opslag (SD kaart)</string>
    <string name=""local_storage_provider_internal_label"">Reguliere interne opslag</string>
    <string name=""local_storage_provider_samsunggalaxy_label"">%1$s extra interne opslag</string>
    <string name=""local_storage_provider_label"">Opslag locatie</string>

    <string name=""account_setup_expunge_policy_label"">Wissen berichten</string>
    <string name=""account_setup_expunge_policy_immediately"">Onmiddellijk na verwijderen of verplaatsen</string>
    <string name=""account_setup_expunge_policy_on_poll"">Tijdens iedere poll</string>
    <string name=""account_setup_expunge_policy_manual"">Alleen handmatig</string>

    <string name=""account_setup_incoming_autodetect_namespace_label"">IMAP namespace automatisch detecteren</string>
    <string name=""account_setup_incoming_imap_path_prefix_label"">IMAP pad voorvoegsel</string>

    <string name=""drafts_folder_label"">Ontwerpen map naam</string>
    <string name=""sent_folder_label"">Verzonden map naam</string>
    <string name=""trash_folder_label"">Prullenbak map naam</string>
    <string name=""archive_folder_label"">Archief map naam</string>
    <string name=""spam_folder_label"">Spam map naam</string>

    <string name=""account_setup_incoming_subscribed_folders_only_label"">Laat alleen geabonneerde mappen zien</string>
    <string name=""account_setup_auto_expand_folder"">Auto-uitbreiden mappen</string>

    <string name=""account_setup_incoming_webdav_path_prefix_label"">WebDAV (Exchange) path</string>
    <string name=""account_setup_incoming_webdav_path_prefix_hint"">Optioneel</string>

    <string name=""account_setup_incoming_webdav_auth_path_label"">Authenticatie pad</string>
    <string name=""account_setup_incoming_webdav_auth_path_hint"">Optioneel</string>
    <string name=""account_setup_incoming_webdav_mailbox_path_label"">Mailbox path</string>
    <string name=""account_setup_incoming_webdav_mailbox_path_hint"">Optioneel</string>

    <string name=""account_setup_outgoing_title"">Uitgaande server instellingen</string>
    <string name=""account_setup_outgoing_smtp_server_label"">SMTP server</string>
    <string name=""account_setup_outgoing_port_label"">Poort</string>
    <string name=""account_setup_outgoing_security_label"">Beveiligings type</string>
    <string name=""account_setup_outgoing_require_login_label"">Inloggen vereist.</string>
    <string name=""account_setup_outgoing_username_label"">Gebruikersnaam</string>
    <string name=""account_setup_outgoing_password_label"">Wachtwoord</string>
    <string name=""account_setup_outgoing_authentication_label"">Authenticatie type</string>
    <string name=""account_setup_outgoing_invalid_setting_combo_notice"">""&lt;xliff:g id=\""setting_1_label\"" &gt;%1$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_1_value\"" &gt;%2$s&lt;/xliff:g&gt;\"" is niet geldig met \""&lt;xliff:g id=\""setting_2_label\"" &gt;%3$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_2_value\"" &gt;%4$s&lt;/xliff:g&gt;""</string>

    <string name=""account_setup_bad_uri"">Ongeldige setup: &lt;xliff:g id=\""err_mess\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""account_setup_options_title"">Account opties</string>

    <string name=""compact_action"">Compact</string>
    <string name=""clear_action"">Clear berichten (gevaar!)</string>
    <string name=""recreate_action"">Recreeren gegevens (Laatste mogelijkheid!)</string>

    <string name=""account_setup_options_mail_check_frequency_label"">Map poll controleer frequentie</string>
    <string name=""account_setup_options_mail_check_frequency_never"">Nooit</string>
    <string name=""account_setup_options_mail_check_frequency_1min"">Elke minuut</string>
    <string name=""account_setup_options_mail_check_frequency_5min"">Elke 5 minuten</string>
    <string name=""account_setup_options_mail_check_frequency_10min"">Elke 10 minuten</string>
    <string name=""account_setup_options_mail_check_frequency_15min"">Elke 15 minuten</string>
    <string name=""account_setup_options_mail_check_frequency_30min"">Elke 30 minuten</string>
    <string name=""account_setup_options_mail_check_frequency_1hour"">Elk uur</string>
    <string name=""account_setup_options_mail_check_frequency_2hour"">Elke 2 uur</string>
    <string name=""account_setup_options_mail_check_frequency_3hour"">Elke 3 uur</string>
    <string name=""account_setup_options_mail_check_frequency_6hour"">Elke 6 uur</string>
    <string name=""account_setup_options_mail_check_frequency_12hour"">Elke 12 uur</string>
    <string name=""account_setup_options_mail_check_frequency_24hour"">Elke 24 uur</string>

    <string name=""push_poll_on_connect_label"">Poll bij verbinden voor push</string>
    <string name=""account_setup_options_enable_push_label"">Push mail voor dit account toestaan</string>
    <string name=""account_setup_options_enable_push_summary"">Als uw server dit ondersteunt, zullen nieuwe berichten direct verschijnen. Deze optie kan drastisch verbeteringen of verslechteringen van prestaties teweeg brengen.</string>
    <string name=""idle_refresh_period_label"">Refresh actieve verbinding</string>
    <string name=""idle_refresh_period_1min"">Elke minuut</string>
    <string name=""idle_refresh_period_2min"">Elke 2 minuten</string>
    <string name=""idle_refresh_period_3min"">Elke 3 minuten</string>
    <string name=""idle_refresh_period_6min"">Elke 6 minuten</string>
    <string name=""idle_refresh_period_12min"">Elke 12 minuten</string>
    <string name=""idle_refresh_period_24min"">Elke 24 minuten</string>
    <string name=""idle_refresh_period_36min"">Elke 36 minuten</string>
    <string name=""idle_refresh_period_48min"">Elke 48 minuten</string>
    <string name=""idle_refresh_period_60min"">Elke 60 minuten</string>

    <string name=""account_setup_options_notify_label"">Waarschuw me wanneer nieuwe mail binnenkomt</string>
    <string name=""account_setup_options_notify_sync_label"">Waarschuw me wanneer er op nieuwe mail wordt gecontroleerd</string>

    <string name=""account_setup_options_mail_display_count_label"">Aantal berichten om te laten zien</string>
    <string name=""account_setup_options_mail_display_count_10"">10 berichten</string>
    <string name=""account_setup_options_mail_display_count_25"">25 berichten</string>
    <string name=""account_setup_options_mail_display_count_50"">50 berichten</string>
    <string name=""account_setup_options_mail_display_count_100"">100 berichten</string>
    <string name=""account_setup_options_mail_display_count_250"">250 berichten</string>
    <string name=""account_setup_options_mail_display_count_500"">500 berichten</string>
    <string name=""account_setup_options_mail_display_count_1000"">1000 berichten</string>
    <string name=""account_setup_options_mail_display_count_2500"">2500 berichten</string>
    <string name=""account_setup_options_mail_display_count_5000"">5000 berichten</string>
    <string name=""account_setup_options_mail_display_count_10000"">10000 berichten</string>
    <string name=""account_setup_options_mail_display_count_all"">alle berichten</string>

    <string name=""move_copy_cannot_copy_unsynced_message"">Kan bericht niet kopiëren of verplaatsen omdat deze niet gesynchroniseerd is met de server</string>

    <string name=""account_setup_failed_dlg_title"">Setup kon niet afronden</string>
    <string name=""account_setup_failed_dlg_auth_message_fmt"">Gebruikersnaam of wachtwoord ongeldig.\n
  (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_certificate_message_fmt"">De server presenteerde een ongeldig SSL certificaat. Dit kan komen door een verkeerd geconfigureerde server. Dit kan ook komen doordat iemand U of Uw mailserver aan probeert te vallen. Als U niet zeker weet wat er aan de hand is klik dan op Reject en neem contact op met de beheerder van Uw mailserver.\n
  \n
  (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_server_message_fmt"">Kan geen verbinding met server maken.\n
  (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_edit_details_action"">Aanpassen details</string>
    <string name=""account_setup_failed_dlg_continue_action"">Doorgaan</string>

    <string name=""account_settings_push_advanced_title"">Geavanceerd</string>
    <string name=""account_settings_title_fmt"">Algemene instellingen</string>
    <string name=""account_settings_default_label"">Standaard account</string>
    <string name=""account_settings_default_summary"">Standaard mail verzenden vanaf deze account</string>
    <string name=""account_settings_notify_label"">Nieuwe mail notificatie</string>

    <string name=""account_settings_folder_notify_new_mail_mode_label"">Notificatie mappen</string>
    <string name=""account_settings_folder_notify_new_mail_mode_all"">Alles</string>
    <string name=""account_settings_folder_notify_new_mail_mode_first_class"">Alleen 1e klas mappen</string>
    <string name=""account_settings_folder_notify_new_mail_mode_first_and_second_class"">1e en 2e klas mappen</string>
    <string name=""account_settings_folder_notify_new_mail_mode_not_second_class"">Alles behalve 2e klas mappen</string>
    <string name=""account_settings_folder_notify_new_mail_mode_none"">Geen</string>

    <string name=""account_settings_notify_sync_label"">Sync notificatie</string>
    <string name=""account_settings_email_label"">Je e-mailadres</string>
    <string name=""account_settings_notify_summary"">Notificatie in statusbalk wanneer nieuwe mail binnenkomt</string>
    <string name=""account_settings_notify_sync_summary"">Notificatie in statusbalk wanneer wordt gecontroleerd op nieuwe mail</string>
    <string name=""account_settings_notify_self_label"">Notificatie voor mail welke ik verstuur</string>
    <string name=""account_settings_notify_self_summary"">Notificatie ook voor mail verzonden vanaf een identiteit</string>
    <string name=""account_notify_contacts_mail_only_label"">Alleen contacten</string>
    <string name=""account_notify_contacts_mail_only_summary"">Notificaties alleen weergeven voor bekende contacten</string>
    <string name=""account_settings_notification_opens_unread_label"">Notificatie opent ongelezen berichten</string>
    <string name=""account_settings_notification_opens_unread_summary"">Zoekt voor ongelezen berichten wanneer Notificatie is geopend</string>
    <string name=""account_settings_mark_message_as_read_on_view_label"">Markeer als gelezen als geopend</string>
    <string name=""account_settings_mark_message_as_read_on_view_summary"">Markeer als gelezen wanneer ingezien</string>

    <string name=""account_settings_show_pictures_label"">Laat afbeeldingen automatisch zien</string>
    <string name=""account_settings_show_pictures_never"">Nooit</string>
    <string name=""account_settings_show_pictures_only_from_contacts"">Alleen van contacten</string>
    <string name=""account_settings_show_pictures_always"">Altijd</string>

    <string name=""account_settings_composition"">Schrijven berichten</string>

    <string name=""account_settings_default_quoted_text_shown_label"">Citaat bericht bij antwoorden</string>
    <string name=""account_settings_default_quoted_text_shown_summary"">Neem orginele bericht mee in het antwoord.</string>

    <string name=""account_settings_reply_after_quote_label"">Antwoorden na citaat</string>
    <string name=""account_settings_reply_after_quote_summary"">Wanneer u antwoord op berichten, zal het originele bericht boven uw antwoord staan.</string>

    <string name=""account_settings_strip_signature_label"">Verwijder handtekening bij reactie</string>
    <string name=""account_settings_strip_signature_summary"">Handtekeningen worden verwijderd bij geciteerde berichten</string>

    <string name=""account_settings_message_format_label"">Berichtopmaak</string>
    <string name=""account_settings_message_format_text"">Platte Tekst (plaatjes en formattering worden verwijderd)</string>
    <string name=""account_settings_message_format_html"">HTML (plaatjes en formattering blijven behouden)</string>
    <string name=""account_settings_message_format_auto"">Automatisch</string>

    <string name=""account_settings_always_show_cc_bcc_label"">Altijd Cc/Bcc laten zien</string>

    <string name=""account_settings_message_read_receipt_label"">Leesbevestiging</string>
    <string name=""account_settings_message_read_receipt_summary"">Altijd een leesbevestiging vragen</string>

    <string name=""account_settings_quote_style_label"">Quotestijl bij antwoorden</string>
    <string name=""account_settings_quote_style_prefix"">Prefix (zoals Gmail, Pine)</string>
    <string name=""account_settings_quote_style_header"">Kop (zoals Outlook)</string>

    <string name=""account_settings_general_title"">Algemeen</string>
    <string name=""account_settings_reading_mail"">Mail lezen</string>
    <string name=""account_settings_sync"">Synchroniseren van mappen</string>
    <string name=""account_settings_folders"">Mappen</string>
    <string name=""account_settings_quote_prefix_label"">Citaat voorvoegsel</string>
    <string name=""account_settings_crypto"">Cryptografie</string>
    <string name=""account_settings_crypto_app"">OpenPGP app</string>
    <string name=""account_settings_crypto_key"">Mijn sleutel</string>
    <string name=""account_settings_no_openpgp_provider_configured"">Geen OpenPGP app ingesteld</string>

    <string name=""account_settings_mail_check_frequency_label"">Mappen poll controleer frequentie</string>

    <string name=""account_settings_storage_title"">Opslag</string>

    <string name=""account_settings_color_label"">Account kleur</string>
    <string name=""account_settings_color_summary"">Kies de kleur van het account gebruikt in mappen en account lijst</string>

    <string name=""account_settings_led_color_label"">Notificatie LED kleur</string>
    <string name=""account_settings_led_color_summary"">Kies de LED kleur van de telefoon, welke moet knipperen voor deze account</string>

    <string name=""account_settings_mail_display_count_label"">Aantal berichten om te laten zien</string>

    <string name=""account_settings_autodownload_message_size_label"">Automatisch berichten downloaden tot</string>
    <string name=""account_settings_autodownload_message_size_1"">1Kb</string>
    <string name=""account_settings_autodownload_message_size_2"">2Kb</string>
    <string name=""account_settings_autodownload_message_size_4"">4Kb</string>
    <string name=""account_settings_autodownload_message_size_8"">8Kb</string>
    <string name=""account_settings_autodownload_message_size_16"">16Kb</string>
    <string name=""account_settings_autodownload_message_size_32"">32Kb</string>
    <string name=""account_settings_autodownload_message_size_64"">64Kb</string>
    <string name=""account_settings_autodownload_message_size_128"">128Kb</string>
    <string name=""account_settings_autodownload_message_size_256"">256Kb</string>
    <string name=""account_settings_autodownload_message_size_512"">512Kb</string>
    <string name=""account_settings_autodownload_message_size_1024"">1Mb</string>
    <string name=""account_settings_autodownload_message_size_2048"">2Mb</string>
    <string name=""account_settings_autodownload_message_size_5120"">5Mb</string>
    <string name=""account_settings_autodownload_message_size_10240"">10Mb</string>
    <string name=""account_settings_autodownload_message_size_any"">elke grootte (geen limiet)</string>

    <string name=""account_settings_message_age_label"">Sync berichten van</string>
    <string name=""account_settings_message_age_any"">alles (geen limiet)</string>
    <string name=""account_settings_message_age_0"">vandaag</string>
    <string name=""account_settings_message_age_1"">laatste 2 dagen</string>
    <string name=""account_settings_message_age_2"">laatste 3 dagen</string>
    <string name=""account_settings_message_age_7"">afgelopen week</string>
    <string name=""account_settings_message_age_14"">afgelopen 2 weken</string>
    <string name=""account_settings_message_age_21"">afgelopen 3 weken</string>
    <string name=""account_settings_message_age_1_month"">afgelopen maand</string>
    <string name=""account_settings_message_age_2_months"">afgelopen 2 maanden</string>
    <string name=""account_settings_message_age_3_months"">afgelopen 3 maanden</string>
    <string name=""account_settings_message_age_6_months"">afgelopen 6 maanden</string>
    <string name=""account_settings_message_age_1_year"">afgelopen jaar</string>

    <string name=""account_settings_folder_display_mode_label"">Mappen om te laten zien</string>
    <string name=""account_settings_folder_display_mode_all"">Alle</string>
    <string name=""account_settings_folder_display_mode_first_class"">Alleen 1e klasse mappen</string>
    <string name=""account_settings_folder_display_mode_first_and_second_class"">1e en 2e klasse mappen</string>
    <string name=""account_settings_folder_display_mode_not_second_class"">Alle behalve 2e klasse mappen</string>

    <string name=""account_settings_folder_sync_mode_label"">Mappen te controleren met poll</string>
    <string name=""account_settings_folder_sync_mode_all"">Alle</string>
    <string name=""account_settings_folder_sync_mode_first_class"">Alleen 1e klasse mappen</string>
    <string name=""account_settings_folder_sync_mode_first_and_second_class"">1e en 2e klasse mappen</string>
    <string name=""account_settings_folder_sync_mode_not_second_class"">Alle behalve 2e klasse mappen</string>
    <string name=""account_settings_folder_sync_mode_none"">Geen</string>

    <string name=""account_settings_folder_push_mode_label"">Mappen te controleren met push</string>
    <string name=""account_settings_folder_push_mode_all"">Alle</string>
    <string name=""account_settings_folder_push_mode_first_class"">Alleen 1e klasse mappen</string>
    <string name=""account_settings_folder_push_mode_first_and_second_class"">1e en 2e klasse mappen</string>
    <string name=""account_settings_folder_push_mode_not_second_class"">Alle behalve 2e klasse mappen</string>
    <string name=""account_settings_folder_push_mode_none"">Geen</string>

    <string name=""account_settings_folder_target_mode_label"">Verplaats/ kopieer bestemming mappen</string>
    <string name=""account_settings_folder_target_mode_all"">Alle</string>
    <string name=""account_settings_folder_target_mode_first_class"">Alleen 1e klasse mappen</string>
    <string name=""account_settings_folder_target_mode_first_and_second_class"">1e en 2e klasse mappen</string>
    <string name=""account_settings_folder_target_mode_not_second_class"">Alle behalve 2e klasse mappen</string>

    <string name=""account_settings_sync_remote_deletetions_label"">Sync op afstand verwijderen</string>
    <string name=""account_settings_sync_remote_deletetions_summary"">Verwijder berichten wanneer verwijderd van server</string>

    <string name=""folder_settings_title"">Map instellingen</string>

    <string name=""folder_settings_in_top_group_label"">Laat zien in kopgroep</string>
    <string name=""folder_settings_in_top_group_summary"">Laat zien bij de top van de map lijst</string>

    <string name=""folder_settings_folder_display_mode_label"">Map display klasse</string>
    <string name=""folder_settings_folder_display_mode_normal"">Geen Klasse</string>
    <string name=""folder_settings_folder_display_mode_first_class"">1e klasse</string>
    <string name=""folder_settings_folder_display_mode_second_class"">2e klasse</string>

    <string name=""folder_settings_folder_sync_mode_label"">Map poll klasse</string>
    <string name=""folder_settings_folder_sync_mode_normal"">Geen</string>
    <string name=""folder_settings_folder_sync_mode_first_class"">1e klasse</string>
    <string name=""folder_settings_folder_sync_mode_second_class"">2e klasse</string>
    <string name=""folder_settings_folder_sync_mode_inherited"">Same as display class</string>

    <string name=""folder_settings_folder_push_mode_label"">Map push klasse</string>
    <string name=""folder_settings_folder_push_mode_normal"">Geen Klasse</string>
    <string name=""folder_settings_folder_push_mode_first_class"">1e klasse</string>
    <string name=""folder_settings_folder_push_mode_second_class"">2e klasse</string>
    <string name=""folder_settings_folder_push_mode_inherited"">Zelfde als sync klasse</string>

    <string name=""folder_settings_folder_notify_mode_label"">Map notificatie klas</string>
    <string name=""folder_settings_folder_notify_mode_normal"">Geen Klasse</string>
    <string name=""folder_settings_folder_notify_mode_first_class"">1e klas</string>
    <string name=""folder_settings_folder_notify_mode_second_class"">2e klas</string>
    <string name=""folder_settings_folder_notify_mode_inherited"">Zelfde als push klas</string>

    <string name=""account_settings_incoming_label"">Inkomende server</string>
    <string name=""account_settings_incoming_summary"">Instellen van de inkomende mail server</string>
    <string name=""account_settings_outgoing_label"">Uitgaande server</string>
    <string name=""account_settings_outgoing_summary"">Configureren van de uitgaande (SMTP) server</string>
    <string name=""account_settings_description_label"">Account naam</string>
    <string name=""account_settings_name_label"">Jouw naam</string>
    <string name=""notifications_title"">Waarschuwingen</string>
    <string name=""account_settings_vibrate_enable"">Trillen</string>
    <string name=""account_settings_vibrate_summary"">Trillen wanneer nieuwe mail binnenkomt</string>
    <string name=""account_settings_vibrate_pattern_label"">Tril patronen</string>
    <string name=""account_settings_vibrate_pattern_default"">standaard</string>
    <string name=""account_settings_vibrate_pattern_1"">patroon 1</string>
    <string name=""account_settings_vibrate_pattern_2"">patroon 2</string>
    <string name=""account_settings_vibrate_pattern_3"">patroon 3</string>
    <string name=""account_settings_vibrate_pattern_4"">patroon 4</string>
    <string name=""account_settings_vibrate_pattern_5"">patroon 5</string>
    <string name=""account_settings_vibrate_times"">Aantal trillingen</string>
    <string name=""account_settings_ringtone"">Nieuwe mail beltoon</string>
    <string name=""account_settings_led_label"">Knipper LED</string>
    <string name=""account_settings_led_summary"">Knipper LED wanneer mail binnenkomt</string>

    <string name=""account_settings_composition_title"">Bericht samenstelling opties</string>
    <string name=""account_settings_composition_label"">Samenstelling standaarden</string>
    <string name=""account_settings_composition_summary"">Stel standaard in voor: Van, Bcc en handtekening</string>

    <string name=""account_settings_identities_label"">Beheer identiteiten</string>
    <string name=""account_settings_identities_summary"">Instellen alternatief \'Van\' adressen en handtekeningen</string>

    <string name=""manage_identities_title"">Beheer identiteiten</string>

    <string name=""manage_identities_context_menu_title"">Beheer identiteiten</string>

    <string name=""edit_identity_title"">Aanpassen identiteit</string>
    <string name=""new_identity_action"">Nieuwe identiteit</string>

    <string name=""account_settings_always_bcc_label"">Bcc alle berichten naar</string>

    <string name=""manage_identities_edit_action"">Aanpassen</string>
    <string name=""manage_identities_move_up_action"">Verplaats ophoog</string>
    <string name=""manage_identities_move_down_action"">Verplaats omlaag</string>
    <string name=""manage_identities_move_top_action"">Verplaats naar top / maak standaard</string>
    <string name=""manage_identities_remove_action"">Verwijder</string>

    <string name=""edit_identity_description_label"">Identiteit beschrijving</string>
    <string name=""edit_identity_description_hint"">(Optioneel)</string>
    <string name=""edit_identity_name_label"">Jou naam</string>
    <string name=""edit_identity_name_hint"">(Optioneel)</string>
    <string name=""edit_identity_email_label"">E-mailadres</string>
    <string name=""edit_identity_email_hint"">(Vereist)</string>
    <string name=""edit_identity_reply_to_label"">Beantwoord naar adres</string>
    <string name=""edit_identity_reply_to_hint"">(Optioneel)</string>
    <string name=""edit_identity_signature_label"">Handtekening</string>
    <string name=""edit_identity_signature_hint"">(Optioneel)</string>

    <string name=""account_settings_signature_use_label"">Gebruik handtekening</string>
    <string name=""account_settings_signature_label"">Handtekening</string>

    <string name=""default_identity_description"">Initiële identiteit</string>
    <string name=""choose_identity_title"">Kies identiteit</string>
    <string name=""send_as"">Verzenden als</string>

    <string name=""no_removable_identity"">Je kan je eigen identiteit niet verwijderen</string>
    <string name=""identity_has_no_email"">Je kan een identiteit niet gebruiken zonder e-mailadres</string>

    <string name=""sort_earliest_first"">Oudste berichten eerst</string>
    <string name=""sort_latest_first"">Nieuwste berichten eerst</string>
    <string name=""sort_subject_alpha"">Onderwerp alfabetische volgorde</string>
    <string name=""sort_subject_re_alpha"">Onderwerp omgekeerd alfabetische volgorde</string>
    <string name=""sort_sender_alpha"">Verzender alfabetisch</string>
    <string name=""sort_sender_re_alpha"">Verzender omgekeerd alfabetisch</string>
    <string name=""sort_flagged_first"">Berichten met ster eerst</string>
    <string name=""sort_flagged_last"">Berichten zonder ster eerst</string>
    <string name=""sort_unread_first"">Ongelezen berichten eerst</string>
    <string name=""sort_unread_last"">Gelezen berichten eerst</string>
    <string name=""sort_attach_first"">Berichten met bijlagen eerst</string>
    <string name=""sort_unattached_first"">Berichten zonder bijlagen eerst</string>

    <string name=""sort_by"">Sorteer volgens…</string>
    <string name=""sort_by_date"">Datum</string>
    <string name=""sort_by_arrival"">Aankomst</string>
    <string name=""sort_by_subject"">Onderwerp</string>
    <string name=""sort_by_sender"">Verzender</string>
    <string name=""sort_by_flag"">Ster</string>
    <string name=""sort_by_unread"">Gelezen/ongelezen</string>
    <string name=""sort_by_attach"">Bijlagen</string>

    <string name=""account_delete_dlg_title"">Verwijder Account</string>

    <string name=""account_recreate_dlg_title"">Opnieuw maken Account</string>

    <string name=""account_clear_dlg_title"">Clear Account</string>

    <string name=""provider_note_auonejp"">Zorg ervoor dat IMAP of POP3 in de au one mail instellingen aan staat.</string>
    <string name=""provider_note_naver"">Zorg ervoor dat IMAP of POP3 van de Naver mail instellingen aan staat.</string>
    <string name=""provider_note_hanmail"">Zorg ervoor dat IMAP of POP3 van de Hanmail(Daum) installingen aan staan.</string>

    <string name=""account_setup_failed_dlg_invalid_certificate_title"">Onbekend Certificaat</string>
    <string name=""account_setup_failed_dlg_invalid_certificate_accept"">Accepteer Sleutel</string>
    <string name=""account_setup_failed_dlg_invalid_certificate_reject"">Verwerp Sleutel</string>


    <string name=""folder_list_help_key"">1 - Laat alleen 1e klas mappen zien\n
  2 - Laat 1e en 2e klas mappen zien\n
  3 - Laat alles zien behalve 2e klas mappen\n
  4 - Laat alle mappen zien\n
  Q - Terug naar Accounts\n
  S - Aanpassen Account Instellingen</string>

    <string name=""folder_list_filter_hint"">Foldernaam bevat</string>

    <string name=""folder_list_display_mode_label"">Mappen</string>
    <string name=""folder_list_display_mode_all"">Laat alle mappen zien</string>
    <string name=""folder_list_display_mode_first_class"">Laat alleen 1e klasse mappen zien</string>
    <string name=""folder_list_display_mode_first_and_second_class"">Laat 1e en 2e klasse mappen zien</string>
    <string name=""folder_list_display_mode_not_second_class"">Laat alles zien behalve 2e klasse mappen</string>

    <string name=""account_settings_signature__location_label"">Positie handtekening</string>
    <string name=""account_settings_signature__location_before_quoted_text"">Voor geciteerd bericht</string>
    <string name=""account_settings_signature__location_after_quoted_text"">Na geciteerd bericht</string>
    <string name=""setting_theme_global"">Gebruik app thema</string>
    <string name=""setting_theme_dark"">Donker</string>
    <string name=""setting_theme_light"">Licht</string>
    <string name=""display_preferences"">Algemene instellingen</string>
    <string name=""global_preferences"">Algemeen</string>
    <string name=""debug_preferences"">Debuggen</string>
    <string name=""privacy_preferences"">Privacy</string>
    <string name=""network_preferences"">Netwerk</string>
    <string name=""interaction_preferences"">Interactie</string>
    <string name=""accountlist_preferences"">Account Lijst</string>
    <string name=""messagelist_preferences"">Bericht Lijsten</string>
    <string name=""messageview_preferences"">Berichten</string>
    <string name=""folderlist_preferences"">Map lijsten</string>
    <string name=""settings_theme_label"">Thema</string>
    <string name=""settings_message_theme_label"">Thema om berichten te zien</string>
    <string name=""settings_compose_theme_label"">Thema om berichten te schrijven</string>
    <string name=""settings_language_label"">Taal</string>

    <string name=""settings_message_theme_selection_label"">Vast berichten thema</string>
    <string name=""settings_message_theme_selection_summary_off"">Kies het thema tijdens het bekijken van het bericht</string>
    <string name=""settings_message_theme_selection_summary_on"">Gebruik een vast thema om het bericht te bekijken</string>


    <string name=""setting_language_system"">Volgens systeem</string>

    <string name=""background_ops_label"">Achtergrond sync</string>
    <string name=""background_ops_never"">Nooit</string>
    <string name=""background_ops_always"">Altijd</string>
    <string name=""background_ops_auto_sync_only"">Als \'Auto-sync\' geselecteerd is</string>

    <string name=""batch_select_all"">Selecteer alle</string>

    <string name=""account_setup_push_limit_label"">Max mappen om te controleren met push</string>
    <string name=""account_setup_push_limit_10"">10 mappen</string>
    <string name=""account_setup_push_limit_25"">25 mappen</string>
    <string name=""account_setup_push_limit_50"">50 mappen</string>
    <string name=""account_setup_push_limit_100"">100 mappen</string>
    <string name=""account_setup_push_limit_250"">250 mappen</string>
    <string name=""account_setup_push_limit_500"">500 mappen</string>
    <string name=""account_setup_push_limit_1000"">1000 mappen</string>

    <string name=""animations_title"">Animatie</string>
    <string name=""animations_summary"">Gebruik opzichtige visuele effecten</string>
    <string name=""gestures_title"">Gebaren</string>
    <string name=""gestures_summary"">Gebaren sturing toestaan</string>

    <string name=""volume_navigation_title"">Volume op/neer navigatie</string>
    <string name=""volume_navigation_message"">Bericht beeld</string>
    <string name=""volume_navigation_list"">Variabele lijst weergave</string>

    <string name=""start_integrated_inbox_title"">Geïntegreerde Inbox bij start</string>

    <string name=""measure_accounts_title"">Laat accountgrootte zien</string>
    <string name=""measure_accounts_summary"">Zet uit voor sneller beeldscherm</string>

    <string name=""count_search_title"">Tel zoek resultaten</string>
    <string name=""count_search_summary"">Zet uit voor sneller beeldscherm</string>

    <string name=""hide_special_accounts_title"">Verberg speciale accounts</string>
    <string name=""hide_special_accounts_summary"">Verberg de gecombineerde inbox and alle berichtaccounts</string>

    <string name=""search_title"">&lt;xliff:g id=\""search_name\"" &gt;%s&lt;/xliff:g&gt; &lt;xliff:g id=\""modifier\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""flagged_modifier"">- Starred</string>
    <string name=""unread_modifier"">- Ongelezen</string>

    <string name=""search_all_messages_title"">Alle berichten</string>
    <string name=""search_all_messages_detail"">Alle berichten in doorzoekbare mappen</string>

    <string name=""integrated_inbox_title"">Geïntegreerde Inbox</string>
    <string name=""integrated_inbox_detail"">Alle berichten in geïntegreerde mappen</string>

    <string name=""tap_hint"">Tik de cirkel of ster aan voor ongelezen of gemarkeerde berichten</string>

    <string name=""folder_settings_include_in_integrated_inbox_label"">Integreer</string>
    <string name=""folder_settings_include_in_integrated_inbox_summary"">Ongelezen berichten worden weergegeven in de geïntegreerde Inbox</string>

    <string name=""account_settings_searchable_label"">Mappen om te doorzoeken</string>
    <string name=""account_settings_searchable_all"">Alle</string>
    <string name=""account_settings_searchable_displayable"">Zichtbare</string>
    <string name=""account_settings_searchable_none"">Geen</string>

    <string name=""font_size_settings_title"">Lettergrootte</string>
    <string name=""font_size_settings_description"">Instellen lettergrootte</string>

    <string name=""font_size_account_list"">Account lijst</string>
    <string name=""font_size_account_name"">Account naam</string>
    <string name=""font_size_account_description"">Account beschrijving</string>

    <string name=""font_size_folder_list"">Map lijsten</string>
    <string name=""font_size_folder_name"">Map naam</string>
    <string name=""font_size_folder_status"">Map status</string>

    <string name=""font_size_message_list"">Bericht lijsten</string>
    <string name=""font_size_message_list_subject"">Bericht onderwerp</string>
    <string name=""font_size_message_list_sender"">bericht afzender</string>
    <string name=""font_size_message_list_date"">Bericht datum</string>
    <string name=""font_size_message_list_preview"">Preview</string>

    <string name=""font_size_message_view"">Beeld berichten</string>
    <string name=""font_size_message_view_sender"">bericht afzender</string>
    <string name=""font_size_message_view_to"">Bericht ontvanger (To)</string>
    <string name=""font_size_message_view_cc"">Bericht ontvanger (CC)</string>
    <string name=""font_size_message_view_bcc"">BCC</string>
    <string name=""font_size_message_view_additional_headers"">Extra koppen</string>
    <string name=""font_size_message_view_subject"">Bericht onderwerp</string>
    <string name=""font_size_message_view_date"">Bericht tijd en datum</string>
    <string name=""font_size_message_view_content"">Bericht inhoud</string>
    <string name=""font_size_message_view_content_summary"">&lt;xliff:g id=\""fontsize\"" &gt;%d&lt;/xliff:g&gt;%%</string>
    <string name=""font_size_message_view_content_dialog_title"">&lt;xliff:g id=\""title\"" &gt;%1$s&lt;/xliff:g&gt;: &lt;xliff:g id=\""summary\"" &gt;%2$s&lt;/xliff:g&gt;</string>

    <string name=""font_size_message_compose"">Bericht opstellen</string>
    <string name=""font_size_message_compose_input"">Tekst input velden</string>

    <string name=""font_size_default"">Standaard</string>
    <string name=""font_size_tiniest"">Kleinste</string>
    <string name=""font_size_tiny"">Heel klein</string>
    <string name=""font_size_smaller"">Kleiner</string>
    <string name=""font_size_small"">Klein</string>
    <string name=""font_size_medium"">Gemiddeld</string>
    <string name=""font_size_large"">Groot</string>
    <string name=""font_size_larger"">Groter</string>

    <string name=""miscellaneous_preferences"">Diversen</string>

    <string name=""error_activity_not_found"">Geen geschikte applicatie gevonden voor deze aktie.</string>
    <string name=""send_failed_reason"">Verzenden mislukt: %s</string>

    <string name=""save_or_discard_draft_message_dlg_title"">Ontwerp opslaan?</string>
    <string name=""save_or_discard_draft_message_instructions_fmt"">Opslaan of negeren van dit bericht?</string>

    <string name=""confirm_discard_draft_message_title"">Bericht afbreken?</string>
    <string name=""confirm_discard_draft_message"">Weet je zeker dat je dit bericht wilt afbreken?</string>

    <string name=""select_text_now"">Selecteer tekst om te kopieren.</string>

    <string name=""dialog_confirm_delete_title"">Bevestig verwijderen</string>
    <string name=""dialog_confirm_delete_message"">Wil je dit bericht verwijderen?</string>

    <plurals name=""dialog_confirm_delete_messages"">
        <item quantity=""one"">Wil je dit bericht echt verwijderen?</item>
        <item quantity=""other"">Wil je echt &lt;xliff:g id=\""message_count\"" &gt;%1$d&lt;/xliff:g&gt; berichten verwijderen?</item>
    </plurals>
    <string name=""dialog_confirm_delete_confirm_button"">Verwijder</string>
    <string name=""dialog_confirm_delete_cancel_button"">Niet verwijderen</string>

    <string name=""dialog_confirm_mark_all_as_read_title"">Markeer alles als gelezen</string>
    <string name=""dialog_confirm_mark_all_as_read_message"">Wil je alle berichten markeren als gelezen?</string>

    <string name=""dialog_confirm_mark_all_as_read_confirm_button"">Ja</string>
    <string name=""dialog_confirm_mark_all_as_read_cancel_button"">Nee</string>

    <string name=""dialog_confirm_spam_title"">Bevestig verplaatsing naar spam map</string>
    <plurals name=""dialog_confirm_spam_message"">
        <item quantity=""one"">Wil je dit bericht echt verplaatsen naar de spam map?</item>
        <item quantity=""other"">Wil je dit bericht echt verplaatsen naar de spam map?</item>
    </plurals>
    <string name=""dialog_confirm_spam_confirm_button"">Ja</string>
    <string name=""dialog_confirm_spam_cancel_button"">Nee</string>

    <string name=""dialog_attachment_progress_title"">Bijlage wordt opgehaald</string>

    <string name=""debug_logging_enabled"">Debug log ingeschakeld</string>

    <string name=""messagelist_sent_to_me_sigil"">»</string>
    <string name=""messagelist_sent_cc_me_sigil"">›</string>

    <string name=""import_export_action"">Import &amp; Export instellingen</string>
    <string name=""settings_export_account"">Export account instellingen</string>
    <string name=""settings_export_all"">Export instellingen en accounts</string>
    <string name=""settings_import_dialog_title"">Import</string>
    <string name=""settings_export_dialog_title"">Export</string>
    <string name=""settings_import"">Import instellingen</string>
    <string name=""settings_import_selection"">Import selectie</string>
    <string name=""settings_import_global_settings"">Algemene instellingen</string>
    <string name=""settings_exporting"">Instellingen exporteren…</string>
    <string name=""settings_importing"">Instellingen importeren…</string>
    <string name=""settings_import_scanning_file"">Bestanden scannen…</string>
    <string name=""settings_export_success"">Geexporteerde instellingen opgeslagen in &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""settings_export_success_generic"">Instellingen succesvol geëxporteerd</string>
    <string name=""settings_import_global_settings_success"">Algemene instellingen geimporteerd van &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""settings_import_success"">&lt;xliff:g id=\""accounts\"" &gt;%s&lt;/xliff:g&gt; geimporteerd vanuit &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""settings_import_account_imported_as"">&lt;xliff:g id=\""original_account_name\"" &gt;%s&lt;/xliff:g&gt; geïmporteerd als &lt;xliff:g id=\""account_name_after_import\"" &gt;%s&lt;/xliff:g&gt;</string>
    <plurals name=""settings_import_accounts"">
        <item quantity=""one"">1 account</item>
        <item quantity=""other"">&lt;xliff:g id=\""numAccounts\"" &gt;%s&lt;/xliff:g&gt; accounts</item>
    </plurals>
    <string name=""settings_export_failure"">Instellingen exporteren mislukt</string>
    <string name=""settings_import_failure"">Instellingen importeren mislukt vanuit &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""settings_export_success_header"">Export gelukt</string>
    <string name=""settings_export_failed_header"">Export mislukt</string>
    <string name=""settings_import_success_header"">Import gelukt</string>
    <string name=""settings_import_failed_header"">Import mislukt</string>
    <string name=""settings_import_activate_account_header"">Activeer account</string>
    <string name=""settings_import_activate_account_intro"">Om het account \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" te kunnen gebruiken is de &lt;xliff:g id=\""server_passwords\"" &gt;%s&lt;/xliff:g&gt; nodig.</string>
    <plurals name=""settings_import_server_passwords"">
        <item quantity=""one"">server wachtwoord</item>
        <item quantity=""other"">server wachtwoorden</item>
    </plurals>
    <string name=""settings_import_incoming_server"">Inkomende server (&lt;xliff:g id=\""hostname\"" &gt;%s&lt;/xliff:g&gt;):</string>
    <string name=""settings_import_outgoing_server"">Uitgaande server (&lt;xliff:g id=\""hostname\"" &gt;%s&lt;/xliff:g&gt;):</string>
    <plurals name=""settings_import_setting_passwords"">
        <item quantity=""one"">Wachtwoord zetten…</item>
        <item quantity=""other"">Wachtwoorden zetten…</item>
    </plurals>
    <string name=""settings_import_use_incoming_server_password"">Gebruik het inkomende server wachtwoord</string>
    <string name=""activate_account_action"">Activeer</string>

    <string name=""account_unavailable"">Account \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" is niet beschikbaar; controleer opslag</string>

    <string name=""settings_attachment_default_path"">Sla bijlagen op in…</string>
    <string name=""attachment_save_title"">Sla bijlage op</string>
    <string name=""attachment_save_desc"">Geen bestandsverkenner gevonden. Waar wil je deze bijlage opslaan?</string>

    <string name=""manage_accounts_move_up_action"">Omhoog</string>
    <string name=""manage_accounts_move_down_action"">Omlaag</string>
    <string name=""manage_accounts_moving_message"">Account verhuizen…</string>

    <string name=""unread_widget_select_account"">Laat ongelezen zien voor…</string>
    <string name=""unread_widget_account_title"">Account</string>
    <string name=""unread_widget_account_summary"">Het account waarvan het aantal ongelezen berichten wordt getoond</string>
    <string name=""unread_widget_unified_inbox_account_summary"">Gezamenlijke inbox</string>
    <string name=""unread_widget_all_messages_account_summary"">Alle berichten</string>
    <string name=""unread_widget_folder_enabled_title"">Aantal mappen</string>
    <string name=""unread_widget_folder_enabled_summary"">Toon het aantal ongelezen berichten van een enkele map</string>
    <string name=""unread_widget_folder_title"">Map</string>
    <string name=""unread_widget_folder_summary"">De map waarvan het aantal ongelezen berichten wordt getoond</string>
    <string name=""unread_widget_action_done"">Klaar</string>
    <string name=""unread_widget_account_not_selected"">Geen account gekozen</string>
    <string name=""unread_widget_folder_not_selected"">Geen folder gekozen</string>

    <string name=""import_dialog_error_title"">Bestandsbeheer applicatie mist</string>
    <string name=""close"">Sluiten</string>

    <string name=""webview_empty_message"">Geen tekst</string>

    <string name=""webview_contextmenu_link_view_action"">Open link</string>
    <string name=""webview_contextmenu_link_share_action"">Deel link</string>
    <string name=""webview_contextmenu_link_copy_action"">Kopieer link naar klembord</string>
    <string name=""webview_contextmenu_link_clipboard_label"">Link</string>

    <string name=""webview_contextmenu_image_title"">Afbeelding</string>
    <string name=""webview_contextmenu_image_view_action"">Afbeelding laten zien</string>
    <string name=""webview_contextmenu_image_save_action"">Afbeelding opslaan</string>
    <string name=""webview_contextmenu_image_download_action"">Afbeelding downloaden</string>
    <string name=""webview_contextmenu_image_copy_action"">Kopieer afbeelding-URL naar klembord</string>
    <string name=""webview_contextmenu_image_clipboard_label"">Afbeelding-URL</string>

    <string name=""webview_contextmenu_phone_call_action"">Bel nummer</string>
    <string name=""webview_contextmenu_phone_save_action"">Opslaan in contacten</string>
    <string name=""webview_contextmenu_phone_copy_action"">Kopieer nummer naar klembord</string>
    <string name=""webview_contextmenu_phone_clipboard_label"">Telefoonnummer</string>

    <string name=""webview_contextmenu_email_send_action"">Stuur mail</string>
    <string name=""webview_contextmenu_email_save_action"">Opslaan in contacten</string>
    <string name=""webview_contextmenu_email_copy_action"">Kopieer adres naar klembord</string>
    <string name=""webview_contextmenu_email_clipboard_label"">Email adres</string>

    <string name=""image_saved_as"">Afbeelding opgeslagen als \""&lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;""</string>
    <string name=""image_saving_failed"">Afbeelding opslaan mislukt.</string>

    <string name=""account_settings_remote_search_num_results_entries_all"">Alle</string>
    <string name=""account_settings_remote_search_num_results_entries_10"">10</string>
    <string name=""account_settings_remote_search_num_results_entries_25"">25</string>
    <string name=""account_settings_remote_search_num_results_entries_50"">50</string>
    <string name=""account_settings_remote_search_num_results_entries_100"">100</string>
    <string name=""account_settings_remote_search_num_results_entries_250"">250</string>
    <string name=""account_settings_remote_search_num_results_entries_500"">500</string>
    <string name=""account_settings_remote_search_num_results_entries_1000"">1000</string>
    <string name=""account_settings_remote_search_num_label"">Server zoek limiet</string>
    <string name=""account_settings_remote_search_num_summary"">Zoeken zal stoppen na het vinden van &lt;xliff:g id=\""num_results\"" &gt;%s&lt;/xliff:g&gt; resultaten.</string>
    <string name=""remote_search_sending_query"">Zoekopdracht naar server sturen</string>
    <plurals name=""remote_search_downloading"">
        <item quantity=""one"">%d resultaat ophalen</item>
        <item quantity=""other"">%d resultaten ophalen</item>
    </plurals>
    <plurals name=""remote_search_downloading_limited"">
        <item quantity=""one"">%1$d van %2$d resultaten ophalen</item>
        <item quantity=""other"">%1$d van %2$d resultaten ophalen</item>
    </plurals>
    <string name=""remote_search_error"">Zoekopdracht mislukt</string>

    <string name=""account_settings_search"">Zoeken</string>
    <string name=""account_settings_remote_search_enabled"">Server zoeken toestaan</string>
    <string name=""account_settings_remote_search_enabled_summary"">Zoek berichten op de server en op je eigen toestel</string>
    <string name=""action_remote_search"">Zoek berichten op server</string>
    <string name=""pull_to_refresh_remote_search_from_local_search_pull"">Duw naar zoekserver…</string>
    <string name=""pull_to_refresh_remote_search_from_local_search_release"">Laat los om op server te zoeken…</string>
    <string name=""remote_search_unavailable_no_network"">Er is een netwerk verbinding nodig voor server zoeken.</string>

    <string name=""global_settings_background_as_unread_indicator_label"">Kleur wijzigen na lezen</string>
    <string name=""global_settings_background_as_unread_indicator_summary"">A andere achtergrond wordt geeft weer dat de mail is gelezen</string>

    <string name=""global_settings_threaded_view_label"">Gesprek overzicht</string>
    <string name=""global_settings_threaded_view_summary"">Groepeer berichten per gesprek</string>

    <string name=""upgrade_databases_title"">Databases bijwerken</string>
    <string name=""upgrade_databases_unspecified"">Databases bijwerken…</string>
    <string name=""upgrade_database_format"">Database van account \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" bijwerken</string>

    <string name=""message_list_loading"">Laden…</string>

    <string name=""global_settings_splitview_mode_label"">Split-screen laten zien</string>
    <string name=""global_settings_splitview_always"">Altijd</string>
    <string name=""global_settings_splitview_never"">Nooit</string>
    <string name=""global_settings_splitview_when_in_landscape"">In Landscape orientatie</string>

    <string name=""message_view_empty"">Selecteer een bericht aan de linker kant</string>

    <string name=""global_settings_show_contact_picture_label"">Laat contactafbeeldingen zien</string>
    <string name=""global_settings_show_contact_picture_summary"">Laat contactafbeeldingen in de berichtenlijst zien</string>

    <string name=""last_refresh_time_format"">Ververst &lt;xliff:g id=\""formatted_time\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""last_refresh_time_format_with_push"">Ververst &lt;xliff:g id=\""time_with_preposition\"" &gt;%s&lt;/xliff:g&gt; (Push actief)</string>
    <string name=""preposition_for_date"">op &lt;xliff:g id=\""date\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""mark_all_as_read"">Markeer alles als gelezen</string>

    <string name=""global_settings_colorize_missing_contact_pictures_label"">Contactafbeeldingen kleuren</string>
    <string name=""global_settings_colorize_missing_contact_pictures_summary"">Voorzie afwezige contactafbeeldingen van een kleur</string>

    <string name=""global_settings_messageview_visible_refile_actions_title"">Zichtbare berichtacties</string>
    <string name=""global_settings_messageview_visible_refile_actions_summary"">Toon de geselecteerde acties in het Berichten-menu</string>

    <string name=""loading_attachment"">Bijlage laden…</string>
    <string name=""fetching_attachment_dialog_title_send"">Bericht wordt verstuurd</string>
    <string name=""fetching_attachment_dialog_title_save"">Concept wordt opgeslagen</string>
    <string name=""fetching_attachment_dialog_message"">Bijlage ophalen…</string>

    <string name=""auth_external_error"">Kan niet authenticeren. De server ondersteunt geen SASL EXTERNAL. Dit kan komen door een probleem met het cliënt certificaat (verlopen of onbekende CA) of een ander configuratieprobleem.</string>
    
    <!-- === Client certificates specific ================================================================== -->
    <string name=""account_setup_basics_client_certificate"">Gebruik cliënt certificaat</string>
    <string name=""client_certificate_spinner_empty"">Geen cliënt certificaat</string>
    <string name=""client_certificate_spinner_delete"">Verwijder cliënt certificaat selectie</string>
    <string name=""client_certificate_retrieval_failure"">Alias cliënt certificaat niet ontvangen \""&lt;xliff:g id=\""alias\"" &gt;%s&lt;/xliff:g&gt;""</string>
    <string name=""client_certificate_advanced_options"">Geavanceerde opties</string>
    <string name=""client_certificate_expired"">Cliënt certificaat \""&lt;xliff:g id=\""certificate_alias\"" &gt;%1$s&lt;/xliff:g&gt;\"" is verlopen of niet geldig (&lt;xliff:g id=\""exception_message\"" &gt;%2$s&lt;/xliff:g&gt;)</string>

    <!-- Note: This references message_view_download_remainder -->
    <string name=""preview_encrypted"">*Versleuteld*</string>
    <string name=""add_from_contacts"">Toevoegen vanaf contacten</string>
    <string name=""crypto_settings_cancel"">Annuleren</string>
    <string name=""crypto_settings_ok"">Doorgaan</string>
    <string name=""recipient_cc"">CC</string>
    <string name=""recipient_bcc"">BCC</string>
    <string name=""recipient_to"">Aan</string>
    <string name=""recipient_from"">Van</string>
    <string name=""unknown_recipient"">&lt;Onbekende ontvanger&gt;</string>
    <string name=""address_type_home"">Privé</string>
    <string name=""address_type_work"">Werk</string>
    <string name=""address_type_other"">Anders</string>
    <string name=""address_type_mobile"">Mobiel</string>
    <string name=""compose_error_no_draft_folder"">Geen concepten map ingesteld voor dit account!</string>
    <string name=""compose_error_no_key_configured"">Geen sleutel ingesteld voor dit account! Controleer je instellingen.</string>
    <string name=""crypto_mode_disabled"">Niet versleutelen</string>
    <string name=""crypto_mode_opportunistic"">Versleutel wanneer mogelijk</string>
    <string name=""crypto_mode_private"">Versleutel</string>
    <string name=""error_crypto_provider_incompatible"">Crypto provider gebruikt incompatibele versie. Controleer je instellingen!</string>
    <string name=""error_crypto_provider_connect"">Kan geen verbinding maken met de crypto provider. Controleer de instellingen of klik op het crypto icoontje om nogmaals te proberen.</string>
    <string name=""error_crypto_provider_ui_required"">Toegang tot crypto provider geweigerd, klik het crypto icoontje om het nogmaals te proberen!</string>
    <string name=""error_crypto_inline_attach"">PGP/MIME instelling ondersteund geen bijlagen!</string>
    <string name=""enable_inline_pgp"">PGP/INLINE toestaan</string>
    <string name=""disable_inline_pgp"">PGP/INLINE uitzetten</string>
    <string name=""enable_sign_only"">PGP handtekening toestaan</string>
    <string name=""disable_sign_only"">PGP handtekening stoppen</string>
    <string name=""openpgp_inline_title"">PGP/INLINE instellingen</string>
    <string name=""openpgp_inline_text"">De mail is verzonden in PGP/INLINE formaat.\n
  Dit word alleen gebruikt bij verenigbaarheid:</string>
    <string name=""openpgp_inline_plus_compat"">Sommige clients ondersteunen alleen dit formaat</string>
    <string name=""openpgp_inline_minus_transit"">Handtekening kan onderweg breken</string>
    <string name=""openpgp_inline_minus_attach"">Bijlagen zijn niet ondersteund</string>
    <string name=""openpgp_inline_ok"">Begrepen!</string>
    <string name=""openpgp_inline_disable"">Uitzetten</string>
    <string name=""openpgp_inline_keep_enabled"">Keep toestaan</string>
    <string name=""openpgp_sign_only_ok"">Begrepen!</string>
    <string name=""openpgp_sign_only_disable"">Uitzetten</string>
    <string name=""openpgp_sign_only_keep_enabled"">Keep toestaan</string>
    <string name=""openpgp_dialog_sign_only_title"">alleen PGP handtekening modes</string>
    <string name=""openpgp_dialog_sign_only_text"">In deze mode wordt je PGP sleutel gebruikt voor een cryptografische handtekening of een ontsleutelde email.</string>
    <string name=""openpgp_dialog_sign_only_plus_verified"">Dit versleutelt niet de E-mail, maar controleert dat je eigen sleutel gebruikt is.</string>
    <string name=""openpgp_dialog_sign_only_minus_break"">Handtekening kan bij versturing naar mail groep breken</string>
    <string name=""openpgp_dialog_sign_only_minus_attach"">Handtekening kan worden weergegeven als  \'signature.asc\' bijlage bij sommige programma\'s</string>
    <string name=""openpgp_dialog_sign_only_neutral_encsigned"">Versleutelde berichten bevatten altijd de handtekening.</string>

    <string name=""crypto_msg_disabled"">Bericht is niet versleuteld</string>

    <string name=""crypto_msg_encrypted_error"">Bericht is versleuteld, maar er was ontsleuteling fout</string>
    <string name=""crypto_msg_encrypted_insecure"">Bericht is versleuteld, maar niet ondertekend.</string>
    <string name=""crypto_msg_signed_error"">Bericht is ondertekend, maar de handtekening is niet geverifieerd.</string>
    <string name=""crypto_msg_encrypted_no_provider"">Bericht is versleuteld, maar geen ontsleuteling geconfigureerd.</string>
    <string name=""crypto_msg_unsupported_encrypted"">Bericht is versleuteld, maar in een niet ondersteund formaat.</string>
    <string name=""crypto_msg_unsupported_signed"">Bericht is ondertekend, maar in een niet ondersteund formaat.</string>
    <string name=""crypto_msg_incomplete_encrypted"">Bericht is versleuteld, maar moet volledig worden gedownload om ontsleuteld te worden.</string>
    <string name=""crypto_msg_cancelled"">Bericht is versleuteld, maar ontsleuteling was gestopt.</string>

    <string name=""crypto_msg_signed_unencrypted"">Bericht is ondertekend, maar niet versleuteld.</string>
    <string name=""crypto_msg_encrypted_unsigned"">Bericht is versleuteld, maar niet ondertekend.</string>

    <string name=""crypto_msg_sign_unknown"">Handtekening gemaakt door onbekende sleutel</string>
    <string name=""crypto_msg_sign_verified"">Handtekening gemaakt door bertrouwde sleutel</string>
    <string name=""crypto_msg_sign_unverified"">Handtekening gemaakt door onbertrouwde sleutel</string>
    <string name=""crypto_msg_sign_error"">Handtekening bevat een fout.</string>
    <string name=""crypto_msg_sign_mismatch"">Handtekening gemaakt door een foute sleutel.</string>
    <string name=""crypto_msg_sign_expired"">Handtekening gemaakt door expired sleutel</string>
    <string name=""crypto_msg_sign_revoked"">Handtekening gemaakt door ingetrokken sleutel.</string>
    <string name=""crypto_msg_sign_insecure"">Handtekening gemaakt door onveilige sleutel</string>
    <string name=""crypto_msg_sign_incomplete"">Bericht volledig downloaden om de handtekening te verifieren.</string>

    <string name=""crypto_msg_signed_encrypted"">Bericht is ondertekend en versleuteld.</string>
    <string name=""crypto_msg_unsigned_encrypted"">Er is geen handtekening, dit bericht is mogelijk onderschept.</string>


    <string name=""crypto_info_ok"">OK</string>
    <string name=""crypto_info_view_key"">Bekijk ondertekenaar</string>
    <string name=""crypto_info_view_security_warning"">Details</string>
    <string name=""locked_attach_unlock"">ontsluit</string>
    <string name=""locked_attach_unencrypted"">Dit onderdeel is niet versleuteld en is mogelijk niet veilig.</string>
    <string name=""locked_attach_title"">Onbeveiligde Bijlage</string>
    <string name=""message_progress_text"">Laden…</string>
    <string name=""messageview_decrypt_cancelled"">Ontsleuteling is gestopt.</string>
    <string name=""messageview_decrypt_retry"">Opnieuw</string>
    <string name=""messageview_decrypt_incomplete"">Versleuteld bericht moet gedownload zijn voor ontsleuteling.</string>
    <string name=""messageview_crypto_error_title"">Foute mail versleuteling</string>

    <string name=""messageview_crypto_warning_title"">Beveiliging Waarschuwing</string>
    <string name=""messageview_crypto_warning_revoked"">Dit bericht is ondertekend door een <b >ingetrokken sleutel!</b></string>
    <string name=""messageview_crypto_warning_expired"">Dit bericht is getekend door een <b >verlopen sleutel!</b></string>
    <string name=""messageview_crypto_warning_insecure"">Dit bericht is ondertekend door een <b >onveilige sleutel!</b></string>
    <string name=""messageview_crypto_warning_error"">Er was een <b >fout in de handtekening!</b></string>
    <string name=""messageview_crypto_warning_unsigned"">Dit bericht is versleuteld, maar niet ondertekend <b >geen end-to-end veiligheid</b>!</string>
    <string name=""messageview_crypto_warning_show_anyway"">Bericht toch laten zien</string>
    <string name=""recipient_error_non_ascii"">Speciale leestekens worden nog niet ondersteund!</string>
    <string name=""recipient_error_parse_failed"">Fout bij parsen van adres!</string>
    <string name=""account_settings_crypto_support_sign_only"">Toon niet versleutelde ondertekeningen</string>
    <string name=""account_settings_crypto_support_sign_only_on"">Niet versleutelde ondertekeningen worden getoond</string>
    <string name=""account_settings_crypto_support_sign_only_off"">Niet versleutelde ondertekeningen worden genegeerd</string>
    <string name=""error_sign_only_no_encryption"">Versleuteling niet mogelijk in sign-only mode!</string>
    <string name=""unsigned_text_divider_label"">niet getekende tekst</string>
    <string name=""apg_deprecated_title"">APG Deprecation Waarschuwing</string>
    <string name=""apg_deprecated_1"">APG is niet langer beheerd!</string>
    <string name=""apg_deprecated_2"">Hierdoor is de ondersteuning voor APG verwijderd binnen K-9 mail.</string>
    <string name=""apg_deprecated_bullet_1"">De ontwikkeling is gestopt in 2014</string>
    <string name=""apg_deprecated_bullet_2"">Bevat onveilige items</string>
    <string name=""apg_learn_more"">Je kan hier <a href=\""https://k9mail.github.io/2017/01/13/Why-APG-is-no-longer-supported.html\"" >klikken</a> om meer te leren.</string>
    <string name=""apg_deprecated_ok"">Begrepen!</string>
    <string name=""apg"">APG</string>
    <string name=""no_crypto_provider_see_global"">Geen OpenPGP app ingesteld, bekijk de algemene instellingen!</string>
    <string name=""crypto_no_provider_title"">Bericht is niet versleuteld</string>
    <string name=""crypto_no_provider_message"">Deze email is OpenPGP versleuteld.\n
  Installeer en stel een OpenPGP App in om de mail te lezen.</string>
    <string name=""crypto_no_provider_button"">OpenPGP app kiezen</string>

    <string name=""mail_list_widget_text"">K-9 Bericht Lijst</string>
    <string name=""mail_list_widget_loading"">Berichten laden…</string>
    <string name=""fetching_folders_failed"">Vernieuw map lijst mislukt</string>
    <string name=""messageview_crypto_warning_details"">Details weergeven</string>
    <string name=""error_recipient_crypto_retrieve"">Fout bij ophalen status van de OpenPGP provider!</string>

    <string name=""openpgp_enabled_error_title"">Versleuteling niet mogelijk</string>
    <string name=""openpgp_enabled_error_msg"">Sommige van de ontvangers ondersteunen deze functie niet!</string>
    <string name=""enable_encryption"">Versleuteling inschakelen</string>
    <string name=""disable_encryption"">Versleuteling uitschakelen</string>
    <string name=""openpgp_description_text1"">Versleuteling maakt dat berichten alleen door de ontvanger gelezen kunnen worden, en niemand anders.</string>
    <string name=""openpgp_description_text3"">Versleuteling is alleen beschikbaar als alle ontvangers het ondersteunen, en ze moeten u al een email gestuurd hebben.</string>
    <string name=""openpgp_description_text2"">Schakel versleuteling aan of uit met dit icoon.</string>
    <string name=""openpgp_enabled_error_gotit"">Ik snap het</string>
    <string name=""openpgp_enabled_error_back"">Terug</string>
    <string name=""openpgp_enabled_error_disable"">Versleuteling uitschakelen</string>
    <string name=""openpgp_encryption"">OpenPGP-versleuteling</string>
</resources>

<!-- File ""strings2.xml"" -->
<?xml version=""1.0"" encoding=""utf-8""?>
<resources xmlns:xliff=""urn:oasis:names:tc:xliff:document:1.2"">
    <string name=""message_header_mua"">K-9 Mail voor Android</string>
</resources>

<!-- File ""strings3.xml"" -->

<!-- File ""strings4.xml"" -->
<?xml version=""1.0"" encoding=""utf-8""?>
<resources>

    <string name=""openpgp_list_preference_none"">Geen</string>
    <string name=""openpgp_install_openkeychain_via"">Installeer OpenKeychain via %s</string>
    <string name=""openpgp_no_key_selected"">Geen sleutel geselecteerd</string>
    <string name=""openpgp_key_selected"">Sleutel is geselecteerd</string>

</resources>


```

---

*Translation made with [Stringlate](https://github.com/LonamiWebs/Stringlate).*"
k9mail/k-9,closed,Images in body of YouTube e-mail notifications are no longer displayed,"[Label(name=""bug"")]","### Expected behavior
Images in e-mail body should be displayed. 


### Actual behavior
Images are not displayed. As far as I know, this is issue with YouTube e-mail notifications only. Everything worked fine until the last update. Now, also the older messages (received before the update) are affected by this bug. Deleting K9's cache and restarting device did not help.


### Steps to reproduce
1. Open the e-mail message
2. Images are blank, as seen here:

![1514642673241](https://user-images.githubusercontent.com/232523/34455901-6d6da2f4-ed89-11e7-96df-c30c151d8178.png)


### Environment
K-9 Mail version: 5.400

Android version: 5.0.1 (tablet), 5.1.1 (smartphone)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,"Creates duplicate INBOX.Drafts, INBOX.Sent and INBOX.Trash folders",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
I have a Drafts, Sent and Trash folder and K-9 should use them, as it was before.

### Actual behavior
I installed K-9 onto a new device and imported the settings saved from another device running K-9.  The other device was running an older version and the settings file is version 35

I notice that when I saved a draft on this new device, it wasn't visible in the Drafts folder from other IMAP clients.

Looking more closely, I found new folders INBOX.Drafts, INBOX.Sent and INBOX.Trash

I went into the Account settings menu and changed them back to use names without the ""INBOX."" prefix and now it is working as it was before.

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.208 (F-Droid)

Android version: LineageOS

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Body in decrypted mails empty by reply or forwarding,"[Label(name=""bug"")]","### Expected behavior
If I click reply or forward, the body of the original mail should be filled with the whole original text and maybe attachments by forwarding .

### Actual behavior
There is only the header (Mailadress and so on) and the subject line of the original mail

### Steps to reproduce
1. Receive a encrypted mail
2. Decrypt this mail
3. Click reply or forward
4. See there is no quote and no attachment (by forwarding) 

### Environment
K-9 Mail version: 5.400

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Takes 10 seconds to display a message already on my phone,[],"After the update for many messages it takes 10 seconds until the text of the message appears.

I click on the message and the header lines with date and folder name appear. Only after 10 seconds the actual text block is shown.

Switching from landscape to portrait mode or back clears screen again and it takes 10 seconds anew until I can see the text.

Samsung A310F Android 7.0, Kernel 3.10.61-11350514"
k9mail/k-9,closed,No longer clickable Http/https links,"[Label(name=""needs info"")]","Before the recent update http/https links in text emails have been converted into clickable links. This is especially very helpful when getting tickets from bugtrackers. A single click brings you to the corresponding ticket page.

The new version no longer has this feature, so the links must be manually selected and then copied to the browser.

If there is hidden an option somewhere to still do this please tell me where, otherwise please readd this possibility.

P.S. The new icon is ugly."
k9mail/k-9,open,Adding second account,"[Label(name=""needs info"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
Trying to add second IMAP account manually

### Actual behavior
Tell us what happens instead
At the end of the incoming server page, the NEXT button is non functional. There is no way to proceed further.

### Steps to reproduce
1.Fill out all details on incoming server page for adding a second IMAP account
2.Press NEXT button to continue
3.No response from program at all

### Environment
K-9 Mail version:

Android version:8.1.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP

"
k9mail/k-9,open,Feature request: provide an option to disable Autocrypt,[],I want to have an option to disable Autocrypt key discovery and fallback to the old method. The possibility of man-in-the-middle attack makes me unconfortable. Thanks.
k9mail/k-9,closed,No notification sound / no notification light when new mail arrives,"[Label(name=""bug"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
Notification Sound / Light should be hearable/visible when new mail arrives

### Actual behavior
Tell us what happens instead
No Notification sound and no Light notification when new mail arrives
(it worked in versions prior 5.400

### Steps to reproduce
1.Send a mail from an external account (not in K9)
2. New Mail arrives (indicated within the K9 account and with a small letter in Notification bar)
3. There is no sound and LED notification light

### Environment
K-9 Mail version: 5.400

Android version: 6.0  (LG G4)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,"Please revert to old, pre v5.400, app icon!",[],"The new icon is really **ugly**, please give us back to old one! ...at least let the user decide between the two!

Why it has been changed?
"
k9mail/k-9,closed,Version 5.400 does no longer automatically encrypt/sign messages to contacts with matching keys available,[],"K-9 always automatically encrypted and signed emails to contacts which had a matching key available if you configured a OpenPGP app for your email account. This behaviour is now gone with version 5.400. Instead you have to manually select the lock icon next to the contacts email address to activate encryption and signing every time you send a new email. There is no option to permanently activate encryption and signing for a contact. The only situation where automatic encryption and signing happens is when you receive an encrypted message and then directly reply to that message.

Since there isn't even a warning that points you to the fact that you are about to send an unencrypted and unsigned message this will result in many unwanted and often even unnoticed plaintext emails being sent. This is a major privacy and security risk which wasn't present before version 5.400. I'm pretty sure this is an unwanted behaviour that the developer did not intentionally include since I can't think of any scenario where you have PGP keys of a contact available but _by default_ want send them unencrypted and unsigned messages.

I suggest that K-9 reintroduces automatic encryption & signing for contacts with matching keys available. Alternatively there should be an option to globally (or at least per contact) activate automatic encryption and signing.

### Expected behavior
Emails to contacts with matching PGP keys should be automatically encrypted and signed.

### Actual behavior
Encryption and signing has to be manually activated every time.

### Environment
K-9 Mail version: 5.400

OpenKeychain version: 4.8.1

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Split synchronization code #2,[],"This copies the synchronization code into a separate class for IMAP. Right now the (legacy) sync code in `MessagingController` and the IMAP version in `ImapSync` are identical.
Changes to both copies will be made with future pull requests."
k9mail/k-9,closed,Update website changelog for 5.400 release,[],"This is linked from the https://github.com/k9mail/k-9/wiki/ReleaseNotes which is linked to from Google Play. So it's the main way most users will see what's changed (apart from in-app).

I've already updated the wiki.


"
k9mail/k-9,open,"Email not sent, without any message, if attachments appended with underscore in file name like ""1_...""",[],"I've had a couple of PDF files to be sent. For numbering all files had names starting with 1_, 2_ etc.

All marked in File Explorer, multiple selection, and ""shared"" with K9.

Added recipient, subject and text, as usual

Clicked ""send""

### Expected behavior
Email should be sent to recipient, and stored in ""Sent Items""

### Actual behavior
Short hourglass, Android style rotating circle.
Context switched from email composing to Inbox.
Email is NOT sent.
Not sent email is not stored in Sent Items.
NO error message, nothing. 

Hard to find bug, with search in server logs etc.
Funny thing is, that renaming attached files from numbering scheme 1_..., 2_..., ... to 1-..., 2-..., ..., dash instead of underscore, workarounds this bug

### Steps to reproduce
1. Create a file with file name starting with ""1_""
2. Mark file in file explorer
3. ""Share"" with K9
4. Click ""send""

### Environment
K-9 Mail version: 5.208 (current version from F-DROID)

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP, own mail server on VPS (postfix, dovecot)"
k9mail/k-9,closed,Request: Add possibility to backup with adb,"[Label(name=""architecture""), Label(name=""wontfix"")]","### Expected behavior
I'd like to backup K9-mail with adb in order to restore it faster after updating Android.
But in ""k9mail/src/main/AndroidManifest.xml""  android:allowBackup is set to false.
To allow adb backup it should be' android:allowBackup=""true"" '.

### Steps to reproduce
1. run adb backup -f filename.ab -apk com.fsck.k9
2. an 41b empty backup file is produced

K-9 Mail version: master 
Android version: 4+
"
k9mail/k-9,closed,Not clear how to perform server-side search,"[Label(name=""needs info"")]","### Expected behavior

I open up a not fully-synced folder and search for a term. K-9 performs server-side search and returns matching emails

### Actual behavior

No emails are found, or only emails stored locally

### Steps to reproduce
1. Go to any folder
2. Search for term that you know appears in one of the emails on the server in that folder
3. See results

### Environment
K-9 Mail version: 5.208

Android version: 7.1.2

Account type: IMAP
"
k9mail/k-9,closed,Update translations,[],Pulled latest translations from Transifex
k9mail/k-9,open,Crash opening mail from mailing list,"[Label(name=""bug""), Label(name=""needs info"")]","I'm subscribed to the cups.org mailing list. Quite often K9 crashes when opening a mail from the list

### Expected behavior
Well...it should display the mail :-)

### Actual behavior
Crash

### Steps to reproduce
1. open mail
2. it starts to render, suddenly K9 is crashed
3.

### Environment
K-9 Mail version: 5.208

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

I attach on ot the mails that causes a crash"
k9mail/k-9,closed,Automatically encrypt when composing a new email,[],"### Expected behavior
I want to enable automatic encryption to recipients whom I have a key for.
When I compose a new mail and add an recipient with a GPG Key in my OpenKeychain keyring, it should automatically enable encryption for this mail as well as all mails in the future.

### Actual behavior
When I compose a new email and add an recipient with a GPG key in my OpneKeychain keyring encryption is NOT enabled and even if i enable encryption for this mail, when i compose a new email to this recipient I have to enable encryption again (which you can easily forget)

### Steps to reproduce
1. Have a recipient with a GPG key in your keychain 
2. Draft a new mail in K9 Mail and add the recipient to the mail
3. You have to manually enable encryption each time

In 5.2x it was still possible to configure the general enryption mode on a global level. In 5.3x this seems to be completely gone. I have read the blog articles about your ideas about the encryption of mails but did not find anything why automatic encryption is not possible anymore.

### Environment
K-9 Mail version: 5.304

Android version: 8.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Splash screen,[],"Splash Screen for app introduction

Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,Feature Request  : No way to see email content source ?,"[Label(name=""enhancement"")]","I noticed that when someone sending me email there is no way to look at the HTML source so I can review the URLs etc to see where they are going to pull images from etc. This makes is harder to determine if you are getting phished or if the images are really trackers.

It would be good if we could view the raw / mime decoded email to review its contents like I can with the Alpine email (press H) client.

thanks

Matt"
k9mail/k-9,closed,Add test for IMAP FETCH BODYSTRUCTURE,[],"A fairly basic test for code surrounding #2966 (doesn't fix the bug). Just verifying the behaviour we already have - parsing a sample header.

The example BODYSTRUCTURE itself I took from the IMAP RFC -  https://tools.ietf.org/html/rfc3501 page 74."
k9mail/k-9,closed,Don't load recipients with no email (fixes #2973),[],"Skip contacts with no email when trying to add them.

* Unit test for loading contact
* Unit test for trying to load contact with no email
* New `NotNull` annotations on various classes to try and discourage bad API usage.

Fixes #2973 "
k9mail/k-9,closed,Feature Request: Creating splash screen for first time users.,"[Label(name=""enhancement"")]","
### Expected behavior
To create multiple screens to display the app icon and the information

### Actual behavior
Currently, there is just one screen to display all the information in plane text.

### Steps to reproduce
1.To create multiple activities and organize the text.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):

### Are you willing to work on it
Yes.
"
k9mail/k-9,closed,Email with different font colours not displaying correctly,"[Label(name=""bug"")]","Email which uses different coloured text, i.e. to mark distinction between answer and/or response...
Are displayed all with same colour.

Also,
Colours in body of html email are rendered differently depending on theme, light theme displays font colour correctly, dark theme always same colours displayed"
k9mail/k-9,closed,Security issue with Gmail (someone has your password),[],"I've never received such an alert from Google since I started using Gmail (around 2004). After installed k-9 (which I love, that's why I'm writing this) I got that alert two times. In both opportunities I changed my password.

It says the geolocation of those accesses is diverse, what's going on?

I may provide further information if guided by someone more experienced.

Thanks in advance,
Alexandre."
k9mail/k-9,closed,Gmail won't sync,[],"
### Expected behavior
GMail authentication should work well

### Actual behavior
Gmail Authentication fails.

### Steps to reproduce
1.Configure K9 Mail with GMail and configure user and password. Then it will happen this error:
![screenshot_2017-12-21-18-58-19](https://user-images.githubusercontent.com/25793051/34268378-c2228f9a-e680-11e7-97bb-1ada17fe7450.png)

### Environment
K-9 Mail version: 5.2.0.8

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Feature Request: Swipe to navigate from one email to another in the inbox.,[],"### Expected behavior
Basically, to should take to the next email on left swipe and to the previous on right swipe, similat to the Gmail app.

### Steps to reproduce
1.We need to use fragments which have easy transaction and this help in moving from one mail to another.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):

### Are you willing to work on the issue
Yes

"
k9mail/k-9,open,K9 freeze (and soon crash) in most action,[],"As the issue title, almost always I open K9 it freeze. This happens if I take some action like: open an email, long-pressing on email (to choose some action) and/or, if an email is open, sometimes happens when I scroll down. In a particular way, seems a consequence of the swipe animation that occurs when clicking on an email to open it...
[moved here/previously posted]
Hi all, not sure if this is the correct thread but I got a similar issue. The app freeze and soon crash itself. There's no particular situation for this. It can happens soon as I open K-9, or after opening or browsing through emails. Btw, reopen the app for the second or the third time it usually works without further freeze. I use Xprivacy but i totally disable it for K-9 (and anyway I was previously give ALL permission, just to be sure).
I try to download the log file from ADB but for some reason inside the txt file i got this message:
**/sbin/sh: exec: line 1: logcat: not found**
Anyway, by enabling the log option I found 5 logs as emails soon as I start K-9. This are related to different email account that I signed on K-9 so I zipped this 5 emails logs as simple txt files (that I upload [here](https://send.firefox.com/download/efc8a94a8f/#fanHIAygU6DERZgESBHo5Q)) where, the first account (mentioned in the log text file name) it's the most used; the second is sometimes used and the third very rare used...
Hope can help. Thank you in advance for any support.

I'm on HTC One M9 - ViperoneM9 6.2.0 (no Magisk) SuperSu

PS
All the 3 accounts that I set to K9 are GMX service related.
I upload the zip file to external source because I cannot attach it here in GitHub. It's 5 txt files (one for every log I got on K9 home screen). Further info's are inside the txt log files.
- I got K9 also on my second phone Xperia E4g (KitKat 4.4.4) and I never have a freeze or crash in most of 2 years of usage (using the same settings that I backup and ported to HTC) "
k9mail/k-9,closed,Do nothing in ImapConnection.close() if connection is not open,[],"Under certain circumstances `ImapFolderPusher` can call `ImapConnection.close()` twice. When using compression this will lead to a `NullPointerException` inside `ZOutputStream.close()`.
We're ignoring all exceptions when closing a connection. So this shouldn't be a problem. But (early versions of?) Android 8.1 shipped with a bug in ART that shuts down the VM when a `NullPointerException` is triggered from AOT/JIT(?) compiled code that uses a certain optimization. And we're unlucky enough to trigger this bug.

Not closing the streams more than once should work around this bug.

Fixes #2931"
k9mail/k-9,open,"improved ability to copy, cut, and paste from email address entry fields (Issue #2961)",[],"I overrode Android's handling of the context menu for TextView to implement proper copy and paste behavior the email address entry fields. 

When pasting:
""email1@test.com, email2@test.com"" -> [email1@test.com][email2@test.com]
""email1@test.com, unfinishedEmai"" -> [email1@test.com] unfinishedEmai

When copying/cutting:
[email1@test.com][email2@test.com] -> ""email1@test.com, email2@test.com, ""

Even though it only changes the context menu behavior, this approach also works for keyboard shortcuts. I only tested this via a software keyboard that has the control key as I do not have the means to connect a hardware keyboard to my Android device.


"
k9mail/k-9,closed,"k-9 can't send encrypted Mails, because key Provider not found",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
If i send a encrypted mail, K-9 will be search and take the public key from OpenKeyChain APP and encrypted the mail.



### Actual behavior
I want to send a encrypted mail and K-9 said:""(...)KeyRepository$NotFound""

But the public key is available from the Person who should receive the  mail and the public key is in OpenKeyChain. 
### Steps to reproduce
1. Open K-9 Mail (newest Version in Google Play)
2. Create a empty Mail and write something in it.
3. Activate Mail encryption (lock is green now)
4. and try to send the mail -> Error

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Sender & Subject on separate lines,[],"### Expected behavior
Sender and Subject to be on separate lines when previewed is set to 0 and show contact pictures is off.

### Actual behavior
I did not see a closed or open issue for Dave's original question in the google mailing list, and I also would like to see this addressed.
 https://groups.google.com/forum/#!searchin/k-9-mail/sender$20and$20subject%7Csort:date/k-9-mail/rNYa5Or-LKw/GmbxaoG1AwAJ

When we set preview lines to 0, and turn off ""Show Contact Pictures"". The e-mails in the folders crams the sender & subject lines into a single line. This is an issue as the sender and subject lines are then limited to about 8 characters each in portrait mode.

### Steps to reproduce
1. set preview lines to 0
2. turn off ""Show Contact Pictures""
3. refresh the account

### Environment
K-9 Mail version: 5.208 (Google Play)"
k9mail/k-9,closed,Push doesn't work on wifi,[],"### Expected behavior
A notification should appear when am email arrives. 

### Actual behavior
When on wifi, no email notifications appear unless you manually sync. On mobile data, push emails appear instantly when received by the server. When wifi is lost, all emails received since the last time on mobile data appear at once. 

### Steps to reproduce
1. Send email to a linked account while on mobile, push goes through 
2. Send email to linked account while on wifi, no notification is received 
3. Disconnect wifi, any email from time on wifi appears

### Environment
K-9 Mail version: 5.304 (issue present for approximately one year now) 

Android version: 8.1.0 (using pixel 2, also presents on nexus 6 running 7.1)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP 
"
k9mail/k-9,closed,Crashes on adding an address to a reply list,"[Label(name=""bug"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

I believe this is the same as ""App crashed by typing address in the address field when composing a message #1251"" except that bug was not fixed for when you reply to a message.

### Expected behavior
Should auto-complete the address and not crash

### Actual behavior
Crashes on the second character typed

### Steps to reproduce
1. Tap the left double-arrow at the bottom while viewing a message (to reply or forward)
2. Tap Reply
3. Tap in the To field after any existing addresses
4. Type in the first characters of an address to send to

### Environment
K-9 Mail version: 5.208

Android version: 7.0
[logcat.txt](https://github.com/k9mail/k-9/files/1565095/logcat.txt)


Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,K9 + Openkeychain + OTG + Yubikey makes virtual keyboard (gboard) dissapear,[],"
### Expected behavior
Tell us what should happen: Virtual keyboard should still appear

### Actual behavior
Tell us what happens instead: Virtual keyboard hides when OTG + Yubikey plugged in.

### Steps to reproduce
1. Install K9
2. Install Openkeychain
3. Plugin OTG + Yubikey
(upon recognition, virtual keyboard dissapears)
4. Attempt to type email with OTG + Yubikey plugged in

### Environment
K-9 Mail version: (latest at the time of this issue)

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): Any"
k9mail/k-9,open,"background sync does not rely on its setting  of sync on ""automatic sync is activated""",[],"### Expected behavior
I've installed K9 mail app and its (green) widget for easily switching on/off syncing. This widget sits on my home screen, where I have other 'online capable' tools as chats setting.
Further I've configured K9 in its global setting -> network to rely background sync on 'if ""automatic snyc"" is activated. 
I understand and tapping the widget show that by message, that tapping changes background sync ever between on and off. On state is also shown as green painted widget and Off as grey painted.

### Actual behavior
When in my WLAN I often switched it on, showing it green. When leaving my WLAN, I loose connectivity because 'mobile data' is switched of. When abroad I some times need 'mobile data' and then and before I check the state of the widget. Switching it off, when not done before and surely before switching 'mobile data' on. Then after some time having mobile connectivity I see - although the widget is grey (aka switched off) - that K9 is syncing my mail (with success - showing new emails).

From inside the K9 mail app it seems not to recognize the switch off. It's showing 'next sync in ... minutes' and doing the sync then, again and again.

### Environment
K-9 Mail version: 5.2.0.8 (and 5.4.0.0)

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP, several accounts
"
k9mail/k-9,closed,pinch to zoom (again),"[Label(name=""needs info"")]","### Expected behavior
pinch to zoom within an email body

### Actual behavior
nothing happens

### Steps to reproduce
1. open email
2. pinch to zoom

### Environment
K-9 Mail version: 5.208

Android version: 7,0

"
k9mail/k-9,closed,export/import settings does not preserve order of accounts,"[Label(name=""enhancement""), Label(name=""good first issue"")]","### Expected behavior
After importing settings (global, accounts, ...) the order of accounts should be restored also.

### Actual behavior
Account order is different.

### Steps to reproduce
1. Export settings on old phone
2. Import settings on new phone

### Environment
K-9 Mail version:
5.208
"
k9mail/k-9,open,NPE in ImapConnection following settings import,"[Label(name=""bug"")]","https://github.com/k9mail/k-9/blob/1a12b18f0c4a452b74941340179735f0383bd1fb/k9mail-library/src/main/java/com/fsck/k9/mail/store/imap/ImapConnection.java#L525

When no password is set (e.g. after import of settings) a nullpointer exception is thrown. That is not very helpful for the user."
k9mail/k-9,closed,"Issue #1988, escape special character in content ID replacement for Migration51",[],"This fixed the upgrade issue I was having moving from 5.0x to 5.1+  .  

I've taken a quick look at the code base and don't see any other similar issues.  I've used `Matcher.quoteReplacement()` but I see that the same problem was addressed in `TextQuoteCreator:49` by manually escaping the replacement string with a replaceAll() call.  I'm not sure if that was done deliberately because there's an issue with `Matcher.quoteReplacement()` or the author was just unaware of the method."
k9mail/k-9,open,ClassCastException when syncing (folderImapList cannot be cast to java.lang.String),"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior

I try to sync one specific account/folder. 

### Actual behavior

It doesn't sync and displays ""ClassCastException"" under the the name of the folder. 

### Steps to reproduce
1. Open inbox. 
2. Swipe down (which refreshes).
3. Go to folder overview.

### Environment
K-9 Mail version: 5.208

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

After enabling extended error logging I get this :

```
K9-Mail version: 5.208
Device make: Fairphone
Device model: FP2
Android version: 7.1.2

java.lang.ClassCastException: com.fsck.k9.mail.store.imap.ImapList cannot be cast to java.lang.String
 at com.fsck.k9.mail.store.imap.ImapList.getString(ImapList.java:36)
 at com.fsck.k9.mail.store.imap.ImapFolder.parseBodyStructure(ImapFolder.java:1037)
 at com.fsck.k9.mail.store.imap.ImapFolder.handleFetchResponse(ImapFolder.java:902)
 at com.fsck.k9.mail.store.imap.ImapFolder.fetch(ImapFolder.java:754)
 at com.fsck.k9.controller.MessagingController.downloadLargeMessages(MessagingController.java:1468)
 at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1201)
 at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:951)
 at com.fsck.k9.controller.MessagingController$9.run(MessagingController.java:739)
 at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
 at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
 at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
 at java.lang.Thread.run(Thread.java:761)
```"
k9mail/k-9,closed,"K9 Mail forwarded an email with pic, the receiver mailbox can't display pic correctly",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Screen layout on first run (2nd screen),[],"Hi,
previously this screen have more useful layout. Email address input field partially invisible now.

### Expected behavior
Useful layout on 800x480 screen.
### Actual behavior
Partially hidden email field.

### Steps to reproduce
1. Please use the device with 800x480 screen resolution.
2. Install and start K-9.
3. On second screen, all is here. I may said that my software keyboard is not so giant.

### Environment
K-9 Mail version: 5.304
Android version: 4.4.2

Regards.

![layout](https://user-images.githubusercontent.com/4885642/33626985-3d6fe7d6-da0d-11e7-9c1b-f9fe6451211f.png)


"
k9mail/k-9,closed,Gmail: IMAP prefix [Gmail] ignored,[],"Hi, hope it's not a duplicate issue.

### Expected behavior
When gmail account setting up manually, and IMAP prefix [Gmail] is entered, folder names must exclude [Gmail]/ part from their names.
### Actual behavior
However, both names types exists in K-9 Gmail mailbox folders list, e.g. Trash and [Gmail]/Trash, even after folders list rebuild via menu. I check via Gmail web interface that non-expected folders not exists, via desktop IMAP client also.

As workaround, I receive expected behavior, after manually edit exported gmail mailbox .k9s profile, by deleting '[Gmail]/' expression, and next importing mailbox from this edited .k9s file (samples attached).
### Environment
K-9 Mail version: 5.304
Android version: 4.4.2
Interface language: automatic
System language: Russian

[gmail_imap_prefix.k9s.tar.gz](https://github.com/k9mail/k-9/files/1532611/gmail_imap_prefix.k9s.tar.gz)
[workaround.k9s.tar.gz](https://github.com/k9mail/k-9/files/1532613/workaround.k9s.tar.gz)
"
k9mail/k-9,closed,K-9 affected by Mailsploit,"[Label(name=""bug""), Label(name=""security"")]","Hello,

It seems that K-9 is affected by the Mailsploit bug (https://mailsploit.com)

> Mailsploit is a collection of bugs in email clients that allow effective sender spoofing and code injection attacks. The spoofing is not detected by Mail Transfer Agents (MTA) aka email servers, therefore circumventing spoofing protection mechanisms such as DMARC (DKIM/SPF) or spam filters.

![screenshot](https://user-images.githubusercontent.com/2057765/33615142-98aca816-d9d9-11e7-9511-685bd7f5aab7.png)

You have been mentioned in the [list of affected vendors](https://docs.google.com/spreadsheets/d/1jkb_ZybbAoUA43K902lL-sB7c1HMQ78-fhQ8nowJCQk).

Regards,
Sabri"
k9mail/k-9,open,K9 Android - Cannot properly parse comma-separated email addresses when pasting list of addresses to TO and/or CC fields.,[],"### Expected behavior
Copying a list of comma-separated email addresses from any plaintext editor into the TO and/or CC fields if K9 in Android should result in a properly displayed and parsed list of email addresses like every other normal email client application.

### Actual behavior
K9 under Android totally mangles the list except for either the first or last email address. Mangled results range from extra . inserted or , not recognized or a +1 string added BETWEEN email addresses or a K9 error popup with a red exclamation mark stating ""Error parsing address"".

### Steps to reproduce
1.create a list of email addresses you want to send your email to inside a plaintext editor UNDER ANDROID. 
For example:  email1@test.com, email2@screwedup.com, testing@me.com, screwk9@kshit.com

2.copy and paste the above list into any TO or CC field in K9 under Android.

3. Tap any other field to leave to TO or CC field you pasted the email list to.

4. Watch K9 add a +1 between the first and remaining email addresses. Then when you tap on the TO or CC field to try to fix the mangling, K9 mangles it further and in some cases a red exclamation mark comes up saying Error Parsing Address.

### Environment
K-9 Mail version: 5.208
Android version: 7.1.1
Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Move message to folder in other email account,[],"This is a feature request.

I'd like to be able to use the Refile/Move menu to move a message to a folder in another email account than the message is currently.

Right now, the Move menu only shows folders from the email's current account.   Would it be possible to add a General Setting to show all accounts' folders in the Move folder list, with some indication of each folder's account, perhaps the account's color code, to distinguish folders with the same names on different accounts?  Then to add code to support a move of messages in that way?

Thanks.

PS: If this is somehow already possible, I'm sorry that I failed to see how in both looking through the settings and in reading the docs!"
k9mail/k-9,open,Parsing error in compose view,"[Label(name=""bug"")]","K9-mail allows account name to contain `""` character:
![](https://i.imgur.com/rGsmSn4.png)
Yet, when using long-press to copy email address directly from k9-mail, the process wraps name with `""` characters. However, in mail headers they do not exist, (look at email format in show headers and it appears as `name < email address >`, no `""` anywhere).

This creates parsing errors when pasting copied address into compose field.
![](https://i.imgur.com/XhygdNj.png)
![](https://i.imgur.com/ywOoGW7.png)

K9-mail should either handle parsing `""` in compose forms, or forbid use in account name to avoid errors."
k9mail/k-9,closed,Colored notifications,[],"Hello,
I have an idea for enhancement.
It would be nice to have colored notifications (e.g. colorful icon), according to the account color, so you can see which account received an email."
k9mail/k-9,closed,Disabling email signatures by default on account creation.,[],"Several reasons why I'd like to see signatures disabled by default:
  -  Communication tools should never modify text content without the sender explicitly allowing it.
  -  Even having known about the default setting, I forget to change it when making new accounts. Suffice to say it's slightly irritating when I accidentally send the signature in an otherwise unfitting context (for work, organizing a funeral, love letters, etc.).

This patch simply sets the signatureUse to false instead of true when a new identity is created. The default signature string is still loaded in, and will appear if the user explicitly enables email signatures.

No additional unit tests fail, I tested this build on my phone, it appears to works as intended."
k9mail/k-9,closed,did not support 163 mail ,[],"
### Expected behavior
could load 163 inbox emails

### Actual behavior
can login 163 mail, but can not load inbox emails

### Steps to reproduce
1.input 163 account
2.login


### Environment
K-9 Mail version:
5.304
Android version:
5.0
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,SQLite3 error causes application crash,[],"### Expected behavior
I open K9 mail, all four accounts synch and I browse my new mails

### Actual behavior
I open K9 mail, it tries to snych and instantly closes.
If I turn my WLAN off so that there is no connection, I can browse my mails as intented - but as soon as I turn it on again, K9 mail jumps to account overview and then quits.

### Steps to reproduce
1. Open K9 mail without internet connection
2. Connect to the internet OR Open K9 mail with internet connection
- done -

### Environment
K-9 Mail version: 5.208
Android version: 5.1 on Huawei LYO-L21
Account type: IMAP
"
k9mail/k-9,closed,Disappearing emails!,"[Label(name=""needs info"")]","Hi, 

Something apparently changed with (my? -Elsewhere I saw that another guy reported the problem) K-9 Mail over the past several weeks. Now, when I read an email, after I read it, that email disappears from the inbox.  It’s not moved to the trash or anywhere else I can find.  It’s understandable to mark it as Read after reading, it is not ok to delete it. How do I fix this?  

Regards,

Jim G.

p.s., The Play store seems to think I am running the current version of K-9 mail, I am using version 5.208
"
k9mail/k-9,closed,Added Unit Tests for AccountCreator and Utility,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,Hotmail and outlook mails are not senting,[],"In version 304 hotmail and outlook mails are not senting from outbox . K9 shows server error in notification area.  And when we try to move or achieve the mail then it shows, the mail is not synced with the server ."
k9mail/k-9,closed,Allow translation of 'more from sender' search name,[],"Fixes part of #2941 


"
k9mail/k-9,closed,Use translatable string for Cryptography preference,[],"Fixes part of #2941 
"
k9mail/k-9,closed,K9 HTMLConverter has problem on <HR> replacement on certain mail content,"[Label(name=""bug"")]","### Expected behavior
K9 should display the content of all the normal mail- Gmail is able to display properly for the following text content.

### Actual behavior
K9 failed to display the content of the mail:
I have traced and found that the following statement failed when executed for \<HR\> replacement.
HtmlConverter.java line #279: 
    text = ASCII_PATTERN_FOR_HR.matcher(text).replaceAll(""\<hr\>"");

When I commented out the statement, then the mail content displays properly in messaageView window.

=======Content of text captured in debug ===========
`| Greetings, ceng.<br />|<br />| Your subscriptions on Eclipse Plugins, Bundles and Products - Eclipse<br />Marketplace<br />| notify you of the following changes since the previous digest:<br />|<br />===================================================== 1 of 1 (commented)<br />| Author: pbihler<br />| Title: Enhanced Class Decompiler<br />| Summary:<br /> <br />Enhanced Class Decompiler integrates JD, Jad, FernFlower, CFR, Procyon<br />seamlessly with Eclipse and allows Java developers to debug class files<br />without source code directly. It also integrates with the eclipse class<br />editor, m2e plugin, supports Javadoc, reference search, library source<br />attaching, byte code view and the syntax of JDK8 lambda expression.<br /><br />| LINK: http://marketplace.eclipse.org/content/enhanced-class-decompiler<br />|<br />| Comments: 1<br />| ---------------------------------------------------<br />| Updated comment:<br />| Author: vpanushevj87<br />| Title: Does not integrate with the debugger<br /> <br />Works fine when opening a .class file from the project tree.<br /><br />But when I'm debugging an application and reach a file for which I don't have<br />a source, the decompiler editor is not opened. Instead I see a ""Source not<br />found."" editor with ""Edit Source Lookup Path.."" button.<br /><br />.class and .class without source are associated with the Class Decompiler<br />Viewer as suggested in the documentation.<br /><br /> <br /><br />Any setting that I missed. <br /><br />Eclipse Neon.3 Release (4.6.3)<br /><br />| LINK: http://marketplace.eclipse.org/comment/5004#comment-5004<br />| ---------------------------------------------------<br />| Direct unsubscribe link (thread):<br />|<br />http://marketplace.eclipse.org/s/del/node/nid/3644319/-1/50930/cc63503be3e16732be7fdb968ce6e504<br /><br />=====================================================<br />| This is an automated message. Please do NOT reply to the sender address!<br />| To manage your subscriptions go to<br />| http://marketplace.eclipse.org/user/ceng/subscriptions<br /><br />`

### Steps to reproduce
See above

### Environment
K-9 Mail version:5.304

Android version:
Android 5.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Special tags like <![if mso]> are shown in a mail body,[],"### Expected behavior
Mail is shown without tags.

### Actual behavior
There are tags shown inside of the mail body, specifically <![if mso]> and <![endif]>.
I am not sure if they follow any standard, but otherwise mail clients apparently ignore them.
(I could bounce that mail if needed)

### Environment
K-9 Mail version:
5.208

Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Adding Unread Mail Widget,[],"### Expected behavior
Using Sony Xperia Z5, with Android 7.1.1, when adding the unread mail widget to home screen, an envelope icon of the selected mail account should appear. 

### Actual behavior
Nothing happens. the Envelop icon doens't appear for some reason. other widgets of other applications work perfectly fine. 
Important: I have read similar issues which don't seem fully address this. while i was able to add the widget before the last android upgrade (i.e. 6.1), i'm currently unable to do so. consequently i added a new email account but couldn't add it's unread widget. while the previous accounts widgets are still there. 

### Steps to reproduce
1. go to widgets section after a long press on home screen.
2. select the K-9 unread widget and drag it to home screen
3. select a mail account in k-9
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Email completions,[],"Context: I do not have data on my Mobile subscription, I only access internet through Wifi at home or at work. But I often write & (attempt to) send emails while not connected. They are just put in the ""sent mail"" queue with an error and actually sent when I connect.

What I do:
1. Create a new email
2. Start typing an address 

What happens is that a list of emails _from the contacts of the phone_ is presented

What I would like is that either previously typed emails or emails in the sent/received emails would be proposed. What is strange is that I had this bezhaviour before flushing K9's App cache, but now I cannot find any config to make it work again. Has it been removed? Why? How to get back a similar behaviour?

For more details, see my erroneous entry here (sorry): https://github.com/k9mail/k9mail.github.io/issues/60#issuecomment-346298354  (BTW which has nothing to do with the proposed issue)

### Environment
K-9 Mail version: 5.208
Android version: 4.4.2
Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,Wrong contact image displayed,[],"Context: I do not have data on my Mobile subscription, I only access internet through Wifi at home or at work. But I often write & (attempt to) send emails while not connected. They are just put in the ""sent mail"" queue with an error and actually sent when I connect again.

Problem: 

- When I start typing an email in the ""To"" field, a list of possible completions appears.

- When NOT connected to the Internet, the first entry proposed is associated the same picture has the second entry. This is erroneous as the picture is indeed the picture of the 2nd contact, not the first one (which is associated with no picture in my contacts).
![screenshot_2017-11-22-11-14-43](https://user-images.githubusercontent.com/3216927/33123120-91041064-cf79-11e7-9352-086bab844dc6.png)

- When CONNECTED to the Internet, the behaviour is correct : the first entry is not associated to a picture, but to a default icon, whereas the 2nd entry is associated to its correct picture.
![screenshot_2017-11-22-11-14-23](https://user-images.githubusercontent.com/3216927/33123119-90e49bf8-cf79-11e7-9292-5281450d5712.png)

I've noticed that if I delete the 'm' in 'gm' I typed, then type it again, then the correct behaviour occurs...

### Environment
K-9 Mail version: 5.208
Android version: 4.4.2
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Latest version cannot work with OpenKeyChain,[],"### Expected behavior
When writing new e-mail two buttons were present allowing sign or crypt the e-mail using assigned key.

### Actual behavior
No buttons at all. The key is assigned in preferences, but it is not possible to use it.

### Steps to reproduce
1. Assign a key in Preferences of e-mail box - Cryptography.
2. Try to send a signed or crypted e-mail to somebody.

### Environment
K-9 Mail version: 5.304
OpenKeyChain version: 4.7 (47001) installed from F-Droid

Android version:
Tested on Android 4.3 and 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,Add buttons/options for interacting with RFC 2369 header information ,"[Label(name=""enhancement"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
k9mail should offer subscribe, help, unsubscribe and info buttons based on the presence of mailman headers in listserv emails.

### Actual behavior
gotta handle those addresses with copy and paste :T

### Steps to reproduce
1.join gentoo-test or any other mailing list
2.view mail in k9
3.profit?

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
imap"
k9mail/k-9,closed,Can't create html signature?,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
I create and save signature for new mail. Signature is HTML format. I use html tags <b>,<br>,<p style>,<i> and other....

### Actual behavior
Mail sending with signature like plain-text, not like HTML. Add this feature please!

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.208

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): imap
"
k9mail/k-9,closed,Missed translation resources for 2 strings,"[Label(name=""bug""), Label(name=""translation"")]","Hi, seems that translation missed for this (or related) string in K-9 builds (""Cryptography""). https://imgur.com/a/8AHyJ
Also, probably missed localization string in caption (More from this sender -> ""From"") for this or related string: https://imgur.com/a/khhlR

Please add the resources that we can translate with Transifex. Regards


K-9 Mail version: 5.304
Android version: 4.4
Account type (IMAP):
"
k9mail/k-9,closed,Some traduction issues,[],"Hi there,
Thanks for the good work. I've just discovered the Android version of the app.

The French traduction has some problems. I searched for ""Dossier du pousser"" (which is not French but is in the app) here in github but did not find it. I don't know where to look at to correct this by the standard pull requests."
k9mail/k-9,closed,false google security alerts when k-9 polling gmail accounts,[],"after installing the last update for synch turn off issue, i'm getting false google security alerts when k-9 is trying to poll my gmail accounts.  this does not happen on home wifi.  this happens in areas of weak cell data signal or public wifi. k-9 still works fine on my yahoo mail accounts.

### Expected behavior
poll gmail account as normal

### Actual behavior
google shuts down connection from k-9 and i get a security alert from google.

### Steps to reproduce
1. connect to public wifi or weak cell data signal
2. poll gmail accounts

### Environment
K-9 Mail version:
5.208
Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
gmail: IMAP"
k9mail/k-9,closed,Socket error,[],"### Expected behavior
socket connect succeed

### Actual behavior
socket connect failed

### Steps to reproduce
1.to refresh mail list
2.see logcat

this is log :
11-15 14:30:43.184 29209-29234/? W/k9: Could not connect to imap.exmail.qq.com/14.17.57.217
                                       java.net.SocketException: SOCKS connection failed
                                           at java.net.PlainSocketImpl.socksConnect(PlainSocketImpl.java:323)
                                           at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:181)
                                           at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:456)
                                           at java.net.Socket.connect(Socket.java:882)
                                           at com.fsck.k9.mail.ssl.DefaultTrustedSocketFactory.createSocket(DefaultTrustedSocketFactory.java:178)
                                           at com.fsck.k9.mail.store.imap.ImapConnection.connectToAddress(ImapConnection.java:207)
                                           at com.fsck.k9.mail.store.imap.ImapConnection.connect(ImapConnection.java:182)
                                           at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:106)
                                           at com.fsck.k9.mail.store.imap.ImapConnection.sendCommand(ImapConnection.java:630)
                                           at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:613)
                                           at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:602)
                                           at com.fsck.k9.mail.store.imap.ImapFolder.executeSimpleCommand(ImapFolder.java:109)
                                           at com.fsck.k9.mail.store.imap.ImapFolder.internalOpen(ImapFolder.java:145)
                                           at com.fsck.k9.mail.store.imap.ImapFolder.open(ImapFolder.java:114)
                                           at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:862)
                                           at com.fsck.k9.controller.MessagingController.access$300(MessagingController.java:100)
                                           at com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:755)
                                           at com.fsck.k9.controller.MessagingController.run(MessagingController.java:258)

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Compose addressing now returns results in counterintuitive order,[],"
### Expected behavior
When composing a new message, typing characters into the 'To' line should return the results most closely matching what has been typed.  E.g. typing 'me' will return a contact named 'Me' as the first result.  This correct behavior was seen in versions at least up to 5.010.

### Actual behavior
Typing 'me' into the 'To' line in the compose window instead returns a list of contacts which contain the letters 'me' in them, sorted in alphabetical order by first name.  The result is that the search term 'me' returns many results like 'Carmen', 'Douglas Elementary' and 'ADC Appointment Line' before the contact 'Me' because they have 'me' in them and their first character comes before M.  In practice I have about 10 results for 'me' above the contact actually named 'Me'!

### Steps to reproduce
1. Create a contact named Me
2. Create a contact named Carmen
3. Address an email to 'me'.
4. See 'Carmen' as the top search result rather than 'Me'.

### Environment
K-9 Mail version: 5.208

Android version: 8.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Split synchronization code,[],"This is the first PR towards supporting CONDSTORE and QRESYNC.

This PR splits `synchronizeMailboxSynchronous` in `MessagingController` into two pathways(`ImapSyncInteractor` and `LegacySyncInteractor`) depending on whether the protocol is IMAP or non-IMAP. 

`ImapSyncInteractor` contains code that is copied over from `synchronizeMailboxSynchronous` and then split into multiple classes (`SyncHelper`, `FlagSyncHelper` and `MessageDownloader`).

`LegacySyncInteractor` contains code directly copied over from `synchronizeMailboxSynchronous`."
k9mail/k-9,open,Import settings crashes on older phones,[],"### Expected behavior
During onboarding, I hit 'Import Settings and Accounts.' I decide to do something else and hit the home button. I come back later and finish importing.

### Actual behavior
K9 crashes when you hit the home button.

### Steps to reproduce
1. Open K9 on older phone (tested on API 15)
2. Click 'Import Settings and Accounts'
3. Press home button

### Environment
K-9 Mail version: [Most recent](https://github.com/k9mail/k-9/commit/d6090c626b3c136ea0a6a76279f954ac5d6dedb9) as of today

Android version: Nexus 5x API 15

Account type (IMAP, POP3, WebDAV/Exchange): N/A

Note: I also tested this on a recent phone (Nexus 5x API 26) and it worked fine, so it's not something we're doing directly.

Logs:

    11-13 14:26:43.401 20678-20678/com.fsck.k9.debug E/AndroidRuntime: FATAL EXCEPTION: main
                                                                   android.app.SuperNotCalledException: Activity {android/com.android.internal.app.ChooserActivity} did not call through to super.onStop()
                                                                       at android.app.Activity.performStop(Activity.java:4606)
                                                                       at android.app.ActivityThread.performDestroyActivity(ActivityThread.java:3071)
                                                                       at android.app.ActivityThread.handleDestroyActivity(ActivityThread.java:3130)
                                                                       at android.app.ActivityThread.access$1200(ActivityThread.java:123)
                                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1180)
                                                                       at android.os.Handler.dispatchMessage(Handler.java:99)
                                                                       at android.os.Looper.loop(Looper.java:137)
                                                                       at android.app.ActivityThread.main(ActivityThread.java:4424)
                                                                       at java.lang.reflect.Method.invokeNative(Native Method)
                                                                       at java.lang.reflect.Method.invoke(Method.java:511)
                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
                                                                       at dalvik.system.NativeStart.main(Native Method)


Other (possibly related?) warning:

    11-13 14:26:37.301 20678-20678/com.fsck.k9.debug W/dalvikvm: VFY: unable to resolve virtual method 1406: Landroid/os/PowerManager;.isIgnoringBatteryOptimizations (Ljava/lang/String;)Z
"
k9mail/k-9,closed,Folder deletions on IMAP not synchronized,[],"### Expected behavior
""Refresh folder list"" should remove any folders from the list that have been deleted or moved on the IMAP server.

### Actual behavior
Folders deleted on the server side remain visible in the list of folders even after executing ""Refresh folder list"" in k-9.

### Steps to reproduce
1. Delete folder on your IMAP server
2. Execute ""Refresh folder list"" in k-9
3. Folder remains visible in the list of folders in k-9

### Environment
K-9 Mail version: 5.208

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,Added outlook alike date separators in the messagelist.,[],"Date separators show when messagelist is sorted on date or on arrival
Will be pleased to add a preference to toggle this behaviour
but first must be sure you like this and will use this in k9

I only added the translations for English, French, German and Dutch. Other languages are beyond my knowledge.

![omail_messages_light](https://user-images.githubusercontent.com/6112759/32702368-845af0ac-c7e6-11e7-8744-77ddbd0e0bdc.png)

Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,mail password not accepted (authentication error),[],"### Expected behavior
Entering the password, K9 fetches email from mail server

### Actual behavior
K9 displays an error message stating that the authentication went wrong and to check the server settings.

### Steps to reproduce
1. type in password and try to fetch mail...

### Environment
K-9 Mail version: 5.208

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (server at strato.de)

The password works using the web mailer and Thunderbird. The password contains letters (a-z, A-Z) and numbers (0-9), and special characters (-, _, =, &, %) and is 20 characters long."
k9mail/k-9,closed,K-9 Mail crashing regularly,[],"In the last few days, K-9 Mail has started crashing regularly in the background, resulting in this popping up on top of whatever foreground app I am using (street names smudged to deter crazy stalkers):

![crash](https://user-images.githubusercontent.com/1598067/32702167-b08a2976-c7b0-11e7-83c2-6c225c897505.png)

I am not sure, but I think the start of this problem may coincide with my upgrading to the Android 8.1.0 beta.

I have submitted several feedbacks about this.

Since the thing this seems to happen most with is when I am using Maps for navigation, as you can imagine, it's quite inconvenient and even threatening to safety for me to look over at my phone while navigating and discover that the map I'm trying to use is obscured by a K-9 Mail crash pop-up.

In a half-hour trip it can happen three or four times.

I'm using IMAP.

Please tell me what else I can do to help troubleshoot / diagnose the problem."
k9mail/k-9,closed,[Feature Request] - Automated email Recommendation,[],"Would it be possible for us to scan emails and store all email addresses it encounters into a database. Then recommend emails as you type into To, Cc or BCc fields. "
k9mail/k-9,closed,Feature Request - Randomised mail server polling times between 1 and 10 mins,[],"For anonymity a randomised mail server polling time option would be great.

"
k9mail/k-9,closed,Standard IMAP folders should not be created without user consent,[],"### Expected behavior
When connecting to an IMAP account, K9 should look for existing standard folders for Trash, Sent, Drafts, Junk on the server and respect those even if called differently. It should not create new standard folders on the server just because they do not exist under the (localized) name. If K9 cannot identify those existing folders, the user should be asked which action to take.

### Actual behavior
When creating a new IMAP account in a localized K9 (e.g. German), it will look for standard folders on the server using localized names (e.g. Papierkorb for the trash bin). If folders with those names do not exists, they are silently created, even if there already is a folder for that purpose but with a different name. E.g. there may be a folder called Trash, but anyway K9 creates another one called Papierkorb. This ends up with K9 moving deleted mails to ""Papierkorb"", while any other application using the same IMAP account would move them to ""Trash"".

The same bug has been reported in issue #881 which has been closed, but should not. It is an old bug and still exists."
k9mail/k-9,closed,Rewrite IMAP expunge,[],"This PR rewrites the `expunge()` method in `ImapFolder` to ensure that only messages that were marked with the `\Deleted` flag by K-9 Mail are expunged. This process is described in [section 4.2.4 of RFC 4549](https://tools.ietf.org/html/rfc4549#section-4.2.4)

Same as #2701 


"
k9mail/k-9,closed,Update translations,[],"

"
k9mail/k-9,closed,"""Always Sign, Never Encrypt"" missing",[],"Hi,

### Expected behavior
Create a new e-mail, click on the Crypto option, be able to select ""Always Sign, Never Encrypt"" as described in https://k9mail.github.io/documentation/security/pgpmime_current.html 

### Actual behavior
""Always Sign, Never Encrypt"" missing. See print screen

### Steps to reproduce
1. Start new e-mail
2. Add TO address - with public key abailable on OpenPGP 
3. Click on lock icon in order to display the signing/encryption options.

### Environment
K-9 Mail version: 5.208

Android version: 6.0 (guest user )
Security Patch level: 2016-08-01
OpenKeyChain: 4.7 (47001)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (GMX.COM)


Print screen:
![image](https://user-images.githubusercontent.com/32497938/32664865-2cbf8968-c63b-11e7-89d9-fac67850eac7.png)

"
k9mail/k-9,closed,'Refactor IMAP commands' refactored,[],"This is PR #2582 with a slightly different approach. It keeps the command splitting when working with large lists of MSNs/UIDs, but gets rid of the abstraction for commands and responses.
I didn't like the command classes because it combined things that didn't have to be combined. That made the code more complex than it needed to be.

Note: I squashed all of @rhari991's commits from PR #2582 and reverted some changes. Then made some changes on top which also reverted some changes. So it's probably easier to read the full diff rather than checking out the individual commits."
k9mail/k-9,open,No network connection on my school's WiFi,[],"For some reason, I can't perform any of the network functions while I'm connected to my school's public wifi without the use of a VPN. It seems that the servers may be blocked by the school but I don't get this same issue when using Gmail

### Expected behavior
Use the network functions of K-9 Mail (retrieving email, sending email, viewing email, etc.) with no problems while connected to WiFi network and without a VPN

### Actual behavior
Gets constant network errors, saying to check my connection. Email doesn't send at all and can't retrieve email while connected to the WiFi. The features only work _with_ the VPN on

### Steps to reproduce
1. Connect my school's public WiFi connection
2. Open K-9 Mail
3. Try to retrieve mailbox from my email accounts or send email

### Environment
K-9 Mail version: 5.303
Android version: 7.0
VPN used: OpenVPN (VPNBook)

Account type (IMAP, POP3, WebDAV/Exchange): Gmail
"
k9mail/k-9,open,doesn't display clickable links,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
click on link into mail

### Actual behavior
Tell us what happens instead
impossible to click on link into mail

### Steps to reproduce


### Environment
K-9 Mail version: last

Android version: 4:4:2

Account type (IMAP, POP3, WebDAV/Exchange):
imap"
k9mail/k-9,closed,Can't sent any mail to <душан@почта.рус> (all cyrillic letters!),[],"### Steps to reproduce
1. to: <душан@почта.рус>

### Environment
K-9 Mail version: 5.303

Android version:
7.0
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,OPENSSL_internal:WRONG_VERSION_NUMBER on connect to Google SMTP server ,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Connecting to SMTP server to send email 

### Actual behavior
Disconnect by SMTP server with error SSL handshake aborted, ssl=0x98aba6c0: Failure in SSL library. 
OPENSSL_internal:WRONG_VERSION_NUMBER

### Steps to reproduce
1. Device with Android 6.0.1 (Sony SGP612 in my case) 
2. Connect to Google Mail account 
3. Try to send a mail 

### Environment
K-9 Mail version:
5.301 and 5.303
Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP 
[k9-log.txt](https://github.com/k9mail/k-9/files/1454434/k9-log.txt)
Search for 11-08 16:13:43.774 in K9-log.txt
"
k9mail/k-9,closed,medios locales,[],"superiores militares
Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:
VILLAVICENCIO
Account type (IMAP, POP3, WebDAV/Exchange):
pushup,suoup,luffily, llavicencio, lamoradapostrera, siervos"
k9mail/k-9,closed,luffily Create branch 2.0-stable,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,open,notification area opens account instead of inbox,[],"
After new mails have been received there is an entry in the notification area (upper left). Pulling the notification area down I can see K9-Mail, account name and mail subjects. When I tap on this, K9-Mail is opened and the folder list of this account is shown. I expect to see the inbox here.

## Environment
K-9 Mail version: 5.208

Android version: 7.1.2 (LineageOS 14.1)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,Recycler view mail list,[],"In response on issue:
https://github.com/k9mail/k-9/issues/2807

Changed ListView to RecycleView. Split MessageListFragment to more classes. Wrapped existing CursorAdapter i  RecycleViewAdapter. Added delete by swipe functionality and tested behaviour."
k9mail/k-9,open,Not fetching yahoo mails automatically,[]," Everytime is need to manually refresh ymail account to receive new mails. There is no issues with gmail and outlook. Only yahoo mail has this issue.

Android version 7.1.1
K9 version 5.303

I don't know whether settings is IMAP or POP3 etc . I just created app specific password in yahoo and login with that password."
k9mail/k-9,closed,Updated dependencies and target SDK,[],"The build compiles this time. I'm still having trouble with gradle 4, but it's not really important to the project.

"
k9mail/k-9,closed,Removed unthrown exceptions from method signatures,[],"Removed `throws someException` from many methods and constructors
if said exception was never thrown.

For OAuth2TokenProvider.getToken(), changed exception thrown to
match method signature (AssertionError -> AuthenticationFailedException)"
k9mail/k-9,closed,Highly nested quoting looks awful,[],"### Expected behavior
Highly nested quotes should be hidden or not indented. If message is wider than some default width, add a scrollbar.

### Actual behavior
More than half the screen is whitespace. The font size shrinks extremely small, I guess to avoid a scrollbar? [Pic.](https://user-images.githubusercontent.com/23638587/32407178-6dc222a2-c15b-11e7-9263-9898804e1109.png)

To be fair, this looks almost as bad in [Thunderbird](https://user-images.githubusercontent.com/23638587/32407174-6a5b2442-c15b-11e7-89cb-79ad1ec2e7e3.png); I guess many replies is outside of most use cases. I would like for this to be nicer, though, especially since there's so little screen space on android.

### Steps to reproduce
1. Write an email with many replies (I believe this one had about 20-30)
2. Open in K9

### Environment
K-9 Mail version: 5.208  
Android version: 7.0  
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Simplified logic,[],"Changed some if-clauses to `return <condition>`
Removed some temporary variables in favor of using directly
Replaced some ternaries with boolean expressions
Replaced loop meant to get first element only with more readable code
"
k9mail/k-9,closed,Removed unused variables,[],"
"
k9mail/k-9,closed,"Removed deprecated members, classes, and APIs",[],"Members:
Removed MessageList.EXTRA_SEARCH_OLD (and its reference in a search)
Removed MessageProvider.INCREMENT (and its reference in a search)

Classes:
Removed unused class MessageProvider.IncrementExtractor
Removed DownloadImageTask; replaced only reference with android.DownloadManager

APIs:
Replaced OpenPgpApi.ACTION_SIGN with ACTION_CLEARTEXT_SIGN
Removed MessageWebView.setVerticalScrollbarOverlay (does nothing from API 23 onward)"
k9mail/k-9,closed,Remove unneccessary casting and unboxing,[],"Removed casts to (View), (WebDavFolder), (LocalFolder)
Removed calls to <Integer>.getInt(), <Long>.getLong()
Changed a few for loops to for-each loops"
k9mail/k-9,closed,Remove unused imports,[],"
"
k9mail/k-9,closed,Reduce access where possible,[],"

"
k9mail/k-9,closed,Throw an exception if SettingsImporter can't find any settings to import,[],"getImportStreamContents now throws a SettingsImportExportException
if both globalSettings and accounts are null by the end of the method.
Replaces `//TODO: throw exception if neither global settings nor account settings could be found`.
"
k9mail/k-9,closed,Regression [Office365] unable to connect to SMTP server,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue
mhh not the first time Office365 gives trouble :/

### Expected behavior
I was and want to be able to send Emails with my standard unchanged settings.

### Actual behavior
Error: Cannot connect to server. (Unable to open connection to SMTP server.)

### Steps to reproduce
1. Create Office365 account
2. Try using official settings: smtp.office365.com:587
3. Setup could not finish

### Environment
K-9 Mail version: November 2017

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Don't ignore preamble and epilogue in decrypted messages,[],"I received an email that had one empty line as an epilogue, ignoring that headers broke signature verification. The implementation was correct in `MimeMessage`, I just copied that over. Not the nicest fix, but the one that touches the least amount of code."
k9mail/k-9,closed,Delete on Server,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When reading mail on K9, mail doesn't appears anymore on other device (POP acccount)

### Actual behavior
looks like mail are deleted from server  even with optin set to do not delete on server when deleted

### Steps to reproduce
1.open mail on K9
2.try to see the mail on my outlook account on PC
3.mail is not present

### Environment
K-9 Mail version:
5.208
Android version:5.5

Account type (IMAP, POP3, WebDAV/Exchange):
POP3"
k9mail/k-9,closed,Updated dependency versions and targetSDK,[],"targetSdkVersion: 22 -> 26
kotlin: 1.1.4-3 -> 1.1.51
build tools: 25.0.2 -> 27.0.0
test runner: 0.4.1 -> 1.0.1
expresso-core: 2.2.2 -> 3.0.1
splitwise autocomplete: 2.0.7 -> 2.0.8
glide: 3.6.1 -> 3.7.0
"
k9mail/k-9,closed,Updated dependency versions and targetSDK,[],"Changed compile -> implementation and so on for
testCompile, andoidTestCompile

targetSdkVersion: 22 -> 26
kotlin: 1.1.4-3 -> 1.1.51
build tools: 25.0.2 -> 27.0.0
expresso-core: 2.2.2 -> 3.0.1
splitwise autocomplete: 2.0.7 -> 2.0.8
glide: 3.6.1 -> 3.7.0
"
k9mail/k-9,closed,Show the name of each account imported,[],"For each account, show `Imported <old account> as <new account>`.

Does not currently support localization.

Replaces `// TODO: show each account imported (and possibly old name)` with `// TODO: localization`.
"
k9mail/k-9,open,Outbox sitting with email after being offline,[],"This appears to be an old bug that was reported back in 2012 but i see no resolution of it.  I have had this a number of times.  I often compose email while in the air with no network.   When I reconnect, email just sits in the Outbox forever.  No matter what i do (reboot etc) they just don't send.  

There is NOTHING wrong with the recipients.

When i am online and compose a brand new email, and send it, it goes out, but still leaves the other mails in the Outbox stuck.   Very frustrating, especially as I can send email to the SAME people.

There is no logs in the error folder produced.

### Environment
K-9 Mail version: 5.28
Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Address now logs an error if given bad arguments,[],"This is in response to this comment (replaced in this commit):

    // This should be an error		
"
k9mail/k-9,open,Improve no Internet notification,[],"### Actual behavior
When I have my Internet disabled (both wifi and cellular), there is info ""Sync disabled"". This info is small and hard to notice.

### Expected behavior
If there is no Internet connection, I would change the message to be more accurate (e.g. There is no Internet connection) and use bigger font, other colour or even separate ribbon for this message.

Current behaviour may be confusing.

### Environment
K-9 Mail version: 5.208 (from F-Droid)

Android version: 7.1.2
"
k9mail/k-9,closed,The changes I made to use K-9 as a library in another project.,[],"I want to use k-9 as a library in my project. For this I need the changes that I request in pullrequest. Changing ""case"" to ""if"" allows k-9 applications to be used as libraries in another project."
k9mail/k-9,open,"Only ""hide"" attachments that are referenced from a displayed part","[Label(name=""enhancement"")]","Right now we use a questionable heuristic to decide whether or not to display an ""attachment box"" for a message part.

https://github.com/k9mail/k-9/blob/d696723023d8eb2c5dde223fdbcef1d67bd49bb9/k9mail/src/main/java/com/fsck/k9/message/extractors/AttachmentInfoExtractor.java#L134-L141

The right thing to do is to only hide the message parts that are referenced from the displayed text content. This requires parsing the HTML to find image references. We can probably do this in `HtmlProcessor` where we already have access to the parsed document.

This could also be used to get rid of the regular expression that tries to figure out whether a document references external images in order to display the ""Show pictures"" button."
k9mail/k-9,closed,Add <ins> and <del> HTML tags to whitelist,[],"Fixes #2889

"
k9mail/k-9,closed,Only hide inline image parts with Content-Id header,[],Fixes #2891 
k9mail/k-9,closed,Inline text part not displayed,"[Label(name=""bug"")]","Currently we assume that message parts with `Content-Disposition: inline` and a `Content-ID` header are inline images. We don't show such parts in the list of attachments.

https://github.com/k9mail/k-9/blob/d696723023d8eb2c5dde223fdbcef1d67bd49bb9/k9mail/src/main/java/com/fsck/k9/message/extractors/AttachmentInfoExtractor.java#L134-L136

However, that's not a safe assumption. Here's a message that contains an inline part that is not an inline image:

```
…
Content-Type: MULTIPART/MIXED; BOUNDARY=""8323329-444392530-1509536866=:10505""

--8323329-444392530-1509536866=:10505
Content-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII

[text]

--8323329-444392530-1509536866=:10505
Content-Type: TEXT/x-diff; name=neg.patch
Content-Transfer-Encoding: BASE64
Content-ID: <alpine.DEB.2.02.1711011247420.10505@stedding.saclay.inria.fr>
Content-Description: 
Content-Disposition: inline; filename=neg.patch

…

--8323329-444392530-1509536866=:10505--
```
Source: https://gcc.gnu.org/cgi-bin/get-raw-msg?listname=gcc-patches&date=2017-11&msgid=alpine.DEB.2.02.1711011139110.32319%40stedding.saclay.inria.fr"
k9mail/k-9,closed,Syncing although syncing is disabled everywhere,[],"I've got the opposte problem of all other folks: It seems to be impossible to *DISABLE syncing*. 
This happens on my new Honor 9 with Android 7 - didnt have these issues on my One Plus X both with Android 5 nor 6.

### Expected behavior
I disabled syncing - as far as I know - in all places, starting from the account, globally and even folder-wise. I'm using k9 as a secondary client, which only becomes important as primary one when I'm elsewhere AND still expecting work mails.

I prefer control, ie. manual fetching, over auto-sync and having my smartphone screen clustered with mail notifications (notifications behaviour under Android 7 seems generally to be awkwardly off aka exploding; a total PITA to me)

My guess is its a Doze-related issue, but then there must have been an extreme change between Android 6 and 7, because on 6 everything worked as expected (as noted above).

### Actual behavior
When you ""turn on"" your phone (actually just turn on the screen), you are most of the time being greeted by new mail notifications. So the disabled sync seems to be ignored.

### Steps to reproduce
1. Set up a nifty IMAP account on a regular host, including encryption etc.
2. Install k9
3. Disable synchronization EVERYWHERE, including singular IMAP folders.

### Environment
K-9 Mail version: 5.302

Android version: 7.0 (EMUI 5.1)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,Issue with text shown in an email,[],"### Expected behavior
Strike-Through'd and Underlined Text should be shown as such.

### Actual behavior
It appears as regular styled text.

### Steps to reproduce
1. Send an email with either one or both types of text to your e-mail address using an email client that can make that kind of text.
2. View the email you sent in K9-Mail.

### Environment
K-9 Mail version: 5.302

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Issue with text shown in an email,[],"*subject*

Strike-Through'd and Underlined Text doesn't show up properly in the latest version of it. I hope that it can be easily fixed."
k9mail/k-9,closed,"when ignoring / typing into address bar during attempted auto completion suggestions, cursor jumps to signature section",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
k9mail would allow me to simply finish typing in my desired email address and not care that i ignored the auto complete suggestions. 

### Actual behavior
if there is an auto complete suggestion, either from my address book or from sent history, and i keep typing in my custom address, ignoring the auto-complete, it was eventually cause my cursor to jump into the signature section of my email.

### Steps to reproduce
1. start new email
2. start typing in to: address
3. ignore auto-complete suggestion when it appears and continue typing

### Environment
K-9 Mail version: 5.208

Android version: O, 8.0.0, 9/5/2017 patches, on google pixel 2 (note, this also happened on a nexus 6p, and pixel 1 on android N thru now as well)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Implemented TODO in CoreService,[],"The todo:
    // TODO: remove this. we never set threadPool to null

The fix:
Removed most code that would be executed if threadPool were null
Reordered a little logic to make code easier to read
"
k9mail/k-9,closed,Prevent crash when parsing invalid base64 email address,[],"Skip invalid input; parse strictly otherwise.
Added a unit test for invalid base64 characters in mail/AddressTest.java

Fixes https://github.com/k9mail/k-9/issues/2846.

Note: This is a second pull request as the first was mistakenly made from jyn514/k9/master"
k9mail/k-9,closed,Fixed issue 2846,[],"Skip invalid input; parse strictly otherwise.
Added a unit test for base64 input.
See [issue](https://github.com/k9mail/k-9/issues/2846) for details."
k9mail/k-9,closed,*Lots* of refactoring,[],"✔ Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
  ✔ Meaningful names for fields, variables, methods and classes.
  ✔ Consistently use LFs as line delimiters
  ✔ Fix the code style of a file/method in a separate commit that doesn't contain any functional changes (mostly)
  ✔ Should not add to the existing lint counts substantially.

✔ Does not break any unit tests.

Updated old codestyle to meet existing codestyle (as per 
[guidelines](https://github.com/k9mail/k-9/wiki/CodeStyle#other-notes-on-general-code-quality).)

Removed a lot of references to K9.app that weren't being used
Misc stuff to make code easier to follow / more idiomatic

More detail is present in individual commit messages.

I know I made a ton of changes; I tried to separate the commits as best I could but I'm sure things slipped through the cracks. If you think there's a reasonable chance of this getting merged I could go back and fix the history. Also, speaking of history, I rewrote some things committed in master by accident; I can do my best to change that if you want."
k9mail/k-9,open,'Dark' theme gives almost invisible subject text on 'long press' quick action listing,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
The text should be visible - I would suggest White as with the rest of the text.

### Actual behavior
It is displayed as black text - against the dark grey background it is almost invisible.


### Steps to reproduce
1.  Set THEME to 'dark
2.  Long press on an individual message to bring up the quick-select action menu

The same think happens when choosing 'settings' from the menu - the 'settings' sub menu is displayed with near invisible heading of ""settings""

See screenshot

![image](https://user-images.githubusercontent.com/15649182/32149420-2129668e-bcfc-11e7-95a4-7184f00156b0.png)


### Environment
K-9 Mail version:  5.208

Android version:  7.0

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP
"
k9mail/k-9,open,Colors for Folders,[],"It would be cool, if there was a possibility to change colors of folders in seperate from Account."
k9mail/k-9,closed,Update translations,[],"

"
k9mail/k-9,closed,[l10n] add breton support,[],"Add breton locale:

 * Menu item in the settings
 * Translation files from transifex


"
k9mail/k-9,closed,Adding release notes for 5.208,[],Taken from GitHub release
k9mail/k-9,closed,Adding release notes from GitHub releases page,[],"It's not very detailed but it's better than nothing

"
k9mail/k-9,closed,Fix italian translation typo,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,Fix translation typo,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,Fix italian translation,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,open,java.security.UnrecoverableKeyException: Failed to obtain information about private key,"[Label(name=""bug""), Label(name=""security"")]","Since upgrading to the Android 8.1 beta, K9 with certificate authentication no longer works. `adb logcat` shows the following: `java.security.UnrecoverableKeyException: Failed to obtain information about private`. I'd imagine something must have changed in the Android API to cause this to happen, but I figured I'd open this here before submitting a ticket into the abyss of Android bug reports.

### Steps to reproduce
1. Set up K9 with certificate auth
2. Upgrade to Android 8.1 beta
3. K9 can no longer authenticate

### Environment
K-9 Mail version: 5.301

Android version: 8.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP w/ Certificate Authentication
"
k9mail/k-9,open,Notification dissapears mid marking items as unread (when polling?),[],"I love the per-mail detail view on notifications, and often use it to mark things unread that I don't care about one at a time. However, occasionally, after marking one (or more) messages as unread, the remainder of the notification dissapears (though the mails are still there/marked unread). It doesn't happen reliably, but maybe about 10-20% of the time I dont get through more than one or two emails before the rest dissapear. I at some point started assuming it happened when a different new mail comes in at the same time, or during poll, but now I just have that cached and not sure that I have any real evidence of that.

Haven't seen any correlation with Wifi/LTE/switching networks, etc.

Server is my own courier-imap server.

K-9 v 5.208 (though also have seen the issue roughly since the per-mail detail notification thing was added).
Latest Android (Pixel 2, though also on my 5X, and since the per-mail notifications were added)."
k9mail/k-9,open,"Add warning that mail may be removed when ""Sync messages from"" is decreased",[],"### Feature request

When ""Account Settings"" -> ""Fetching mail"" -> ""Sync up to"" interval is changed from a higher value to a lower one (including changing from ""any time"" to anything else), already downloaded messages or headers will be removed from the client ([see here](https://k9mail.github.io/documentation/settings/account.html)). This is absolutely not evident because ""sync"" can imply that it limits only the time range from which **new** messages will be downloaded, not that is also affects the messages which are already downloaded.

I'd like to request a warning message which would be displayed every time the user decreases the ""Sync messages from"" value. Something like *""Warning: this will remove previously downloaded messages from the phone that fall outside this range. Messages on the server are not affected.""*

### Environment
K-9 Mail version: 5.208"
k9mail/k-9,open,"Add ""Fetch headers only"" option",[],"### Feature request

In ""Account Settings"" -> ""Fetching mail"" -> ""Fetch messages up to"", if I understand correctly, the user can choose the size limit above which only the mail header will be downloaded to the phone. The lowest limit available is 1 Kb.

I'd like to suggest and request another option to the list, ""Fetch headers only"". Even though messages under 1 Kb can be very rare (or nearly non-existent), this would make it clear to the user that only headers will be downloaded. Those who are restricted with regards to disk space or network traffic and want to make it sure they use the least resources would be able to ascertain that they are doing so.

### Environment
K-9 Mail version: 5.208
"
k9mail/k-9,closed,Preparing the application to act as a library,[],"Changes to use the application as a library in a k-9 project. This change makes it easier to maintain your own application for future k-9 updates.


"
k9mail/k-9,closed,Update Simplified Chinese translation,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,closed,Fixed issue [2847](https://github.com/k9mail/k-9/issues/2847).,[],"When body text is null or cannot be parsed, skip it and log the error; otherwise, proceed as normal."
k9mail/k-9,closed,Many automated tests in k9mail.src.test.java.com.fsck.k9 fail,[],"### Expected behavior
Automated tests should pass.

### Actual behavior
At least 196 of the automated tests fail for various reasons. About half are due to OutOfMemoryErrors (shown below), which are probably more to do with my laptop than anything else. There are many others failing as well -   
MessagingControllerTest fails with ""Actual invocation has different arguments"" and ""Wanted but not invoked: transport.sendMassage(localMessageToSend1)"";   
WearNotificationsTest fails with ""Unable to find resource ID #0x7f0702d7 in packages [android, org.robolectric.default]"";  
IdentityHelperTest fails with ""java.lang.NoClassDefFoundError: Could not initialize class android.os.Environment"";  
LockScreenNotificationTest fails with a null pointer exception;  
HtmlConverterTest fails with ""java.util.ServiceConfigurationError: org.robolectric.internal.ShadowProvider: Provider org.robolectric.Shadows not a subtype"";
various other tests fail.

Some tracebacks:
    MessagingControllerTest
    Wanted but not invoked:
    transport.sendMessage(localMessageToSend1);
    -> at com.fsck.k9.controller.MessagingControllerTest.sendPendingMessagesSynchronous_shouldSendMessageUsingTransport(MessagingControllerTest.java:544)
    Actually, there were zero interactions with this mock.

Also MessageControllerTest:
    Actual invocation has different arguments:
    localMessageToSend1.setFlag(
        X_SEND_IN_PROGRESS,
        true
    );
    -> at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:2604)

WearNotificationsTest:
    android.content.res.Resources$NotFoundException: Unable to find resource ID #0x7f0702d7 in packages [android, org.robolectric.default]

	at org.robolectric.shadows.ShadowAssetManager.getResName(ShadowAssetManager.java:868)
	at org.robolectric.shadows.ShadowAssetManager.resolveResourceValue(ShadowAssetManager.java:676)
	at org.robolectric.shadows.ShadowAssetManager.resolve(ShadowAssetManager.java:636)
	at org.robolectric.shadows.ShadowAssetManager.getAndResolve(ShadowAssetManager.java:630)
	at org.robolectric.shadows.ShadowAssetManager.getResourceText(ShadowAssetManager.java:226)
	at android.content.res.AssetManager.getResourceText(AssetManager.java)
	at android.content.res.Resources.getText(Resources.java:295)
	at android.content.res.Resources.getString(Resources.java:385)
	at android.content.Context.getString(Context.java:377)
	at com.fsck.k9.notification.WearNotifications.addMarkAllAsReadAction(WearNotifications.java:59)
	at com.fsck.k9.notification.WearNotifications.addSummaryActions(WearNotifications.java:43)
	at com.fsck.k9.notification.WearNotificationsTest.testAddSummaryActionsWithDeleteAllActionEnabled(WearNotificationsTest.java:167)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:538)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.robolectric.RobolectricTestRunner$2.evaluate(RobolectricTestRunner.java:339)
	at org.robolectric.RobolectricTestRunner.runChild(RobolectricTestRunner.java:259)
	at org.robolectric.RobolectricTestRunner.runChild(RobolectricTestRunner.java:41)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.robolectric.RobolectricTestRunner$1.evaluate(RobolectricTestRunner.java:199)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
	at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)


### Steps to reproduce
1. Run most automated tests in k9mail.src.test.java.com.fsck.k9

### Environment
K-9 Mail version: master (as of 2017-10-26, commit `27bc562ebe37bc139b84c13142681dbfe5640688`)

Android version: N/A

Account type (IMAP, POP3, WebDAV/Exchange): N/A
"
k9mail/k-9,open,MessageProviderTest.query_forAccountUnreadMessages_whenNoMessages_returns0Unread() fails,[],"### Expected behavior
query_forAccountUnreadMessages_whenNoMessages_returns0Unread() should pass.

### Actual behavior
method fails with following exception:

junit.framework.AssertionFailedError: expected:<1> but was:<0>
at junit.framework.Assert.fail(Assert.java:50)
at junit.framework.Assert.failNotEquals(Assert.java:287)
at junit.framework.Assert.assertEquals(Assert.java:67)
at junit.framework.Assert.assertEquals(Assert.java:199)
at junit.framework.Assert.assertEquals(Assert.java:205)
at com.fsck.k9.provider.MessageProviderTest.query_forAccountUnreadMessages_whenNoMessages_returns0Unread(MessageProviderTest.java:133)
at java.lang.reflect.Method.invoke(Native Method)
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.junit.runners.Suite.runChild(Suite.java:128)
at org.junit.runners.Suite.runChild(Suite.java:27)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
at android.support.test.internal.runner.TestExecutor.execute(TestExecutor.java:59)
at android.support.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:262)
at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2074)

### Steps to reproduce
1. Run com.fsck.k9.provider.MessageProviderTest.query_forAccountUnreadMessages_whenNoMessages_returns0Unread()

### Environment
K-9 Mail version: master (as of 2017-10-25, commit `27bc562ebe37bc139b84c13142681dbfe5640688`)

Android version: 7.0, 8.0.0 (tested with both emulator and real device)

Account type (IMAP, POP3, WebDAV/Exchange):
N/A"
k9mail/k-9,open,TrustManagerFactoryTest.testGloballyTrustedCertificateChain() fails,[],"### Expected behavior
testGloballyTrustedCertificateChain() should pass.

### Actual behavior
the method fails with the following exception:

com.fsck.k9.mail.CertificateChainException: Unacceptable certificate: CN=StartCom Class 2 Primary Intermediate Server CA, OU=Secure Digital Certificate Signing, O=StartCom Ltd., C=IL
at com.fsck.k9.mail.ssl.TrustManagerFactory$SecureX509TrustManager.checkServerTrusted(TrustManagerFactory.java:81)
at com.fsck.k9.mail.ssl.TrustManagerFactoryTest.testGloballyTrustedCertificateChain(TrustManagerFactoryTest.java:304)
at java.lang.reflect.Method.invoke(Native Method)
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.junit.runners.Suite.runChild(Suite.java:128)
at org.junit.runners.Suite.runChild(Suite.java:27)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
at android.support.test.internal.runner.TestExecutor.execute(TestExecutor.java:54)
at android.support.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:240)
at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2074)
Caused by: java.security.cert.CertificateException: Unacceptable certificate: CN=StartCom Class 2 Primary Intermediate Server CA, OU=Secure Digital Certificate Signing, O=StartCom Ltd., C=IL
at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:596)
at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:493)
at com.android.org.conscrypt.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:319)
at android.security.net.config.NetworkSecurityTrustManager.checkServerTrusted(NetworkSecurityTrustManager.java:113)
at android.security.net.config.NetworkSecurityTrustManager.checkServerTrusted(NetworkSecurityTrustManager.java:87)
at android.security.net.config.RootTrustManager.checkServerTrusted(RootTrustManager.java:116)
at com.fsck.k9.mail.ssl.TrustManagerFactory$SecureX509TrustManager.checkServerTrusted(TrustManagerFactory.java:65)
... 30 more
Caused by: java.security.cert.CertificateExpiredException: Certificate expired at Tue Oct 24 16:57:09 EDT 2017 (compared to Wed Oct 25 23:24:46 EDT 2017)
at com.android.org.conscrypt.OpenSSLX509Certificate.checkValidity(OpenSSLX509Certificate.java:244)
at com.android.org.conscrypt.OpenSSLX509Certificate.checkValidity(OpenSSLX509Certificate.java:232)
at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:593)
... 36 more

### Steps to reproduce
1. Run com.fsck.k9.mail.ssl.TrustManagerFactoryTest.testGloballyTrustedCertificateChain()

### Environment
K-9 Mail version: master (as of October 25, 2017, commit `27bc562ebe37bc139b84c13142681dbfe5640688`)

Android version: 7.0, 8.0.0 (tested on both emulator and real device)

Account type (IMAP, POP3, WebDAV/Exchange):
N/A"
k9mail/k-9,closed,Fix linkify when URL follows HTML tag,[],"Fixes #2861

"
k9mail/k-9,closed,Add <hr> to HtmlSanitizer whitelist,[],"Fixes #2856
"
k9mail/k-9,closed,URL at the beginning of a line in plain text body isn't linkified,"[Label(name=""bug"")]","This happens because we first convert the plain text to HTML and end up with something like:

```html
<br>http://uri.example.org<br>
```

But right now only supported schemes preceded by a space, a newline, or an opening parenthesis are candidates for linkifying.

https://github.com/k9mail/k-9/blob/27bc562ebe37bc139b84c13142681dbfe5640688/k9mail/src/main/java/com/fsck/k9/message/html/UriLinkifier.java#L16"
k9mail/k-9,open,Opening encrypted drafts from other clients doesn't work,"[Label(name=""bug"")]","### Expected behavior
I write a message in thunderbird. I save it, encrypt it, and upload it to a server. I open the message in K-9, enter my password, and continue writing.

### Actual behavior
I open the message in K-9, enter my password, and see only the subject line saved. On exit, the new draft (with only a subject and no body) overwrites the full-fledged draft previously savedd.

### Steps to reproduce
1. Write encrypted draft in different client
2. Open draft in K-9
3. Look on in horror

### Environment
K-9 Mail version: 5.208

Android version: 7.0 (I believe API 24?)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Removes html elements from drafts,[],"### Expected behavior
I draft a message in another email client, using html elements such as bullet lists and hyperlinks. I open the message in K-9 mail, and all the elements remain, and look approximately the same.

### Actual behavior
All html elements are converted to plaintext on opening, and the draft is immediately overwritten with the plaintext.

### Steps to reproduce
1. Write draft which includes bulletpoints in thunderbird/gmail/outlook
2. Save draft
3. Open in K-9 mail

### Environment
K-9 Mail version: 5.208

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Emails with attachments can get sent multiple times,"[Label(name=""bug""), Label(name=""needs info"")]","
### Expected behavior
Email should only be sent once

### Actual behavior
Email gets sent about five times

### Steps to reproduce
1. Send an email with an attachment
2. 
3.

### Environment
K-9 Mail version: 5.208

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange):
Pop3"
k9mail/k-9,closed,Add the ability to edit IMAP notes,[],"Some servers offer the creation and storage of dedicated IMAP notes. I think that it will be useful if **K-9 Mail** can edit, save and delete those.

### Expected behavior
The user is able to successfully create new and view/modify/delete existing notes in their IMAP account. Since the credentials are usually(always?) the same as the regular account, no further setup should be necessary from UX perspective.

### Actual behavior
The user is able to only **read** existing notes without further setup in **K-9 Mail**.

### Steps to reproduce
1. find a provider that supports IMAP notes
2. create a new such note via a dedicated app or through the web interface of your account
3. try to edit it and save your changes inside of *K-9 Mail* – **nothing happens** (ideally, should save it)

### Environment
K-9 Mail version: 5.208

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,5.301 plain-text body rendering issues,"[Label(name=""bug"")]","It appears that somewhere between 5.208 and 5.301 some issues were
introduced in the rendering the body of (single-part) plain-text messages. 

For instance, a message that ends with:

     Davide

     ------------------------------------------------------------------------------
     Check out the vibrant tech community on one of the world's most
     engaging tech sites, Slashdot.org! http://sdm.link/slashdot
     _______________________________________________
     Bacula-users mailing list
     Bacula-users@lists.sourceforge.net
     https://lists.sourceforge.net/lists/listinfo/bacula-users

is displayed in 5.301 as:

     DavideCheck out the vibrant tech community on one of the world's most
     engaging tech sites, Slashdot.org! http://sdm.link/slashdotBacula-users mailing list
     Bacula-users@lists.sourceforge.net
     https://lists.sourceforge.net/lists/listinfo/bacula-users

If I forward the message from a 5.301 client the bottom text block is displayed correctly in the draft.

There additionally appears to be a problem with hyperlinking. If the ""http://"" or ""https://"""" starts in column one it is not hyperlinked. If it starts in column 2+ it is.

In 5.208 the message renders correctly and all ""http://"" and ""https://"" urls are hyperlinked regardless of their column start position.

"
k9mail/k-9,closed,Sent Mails Box does not synchronize from server to phone,[],"Hello, I face an issue while synchronizing my Sent mails box ; the sent mails do not synchronize. The mails I send from the phone appear, but the mail I send from other devices (PC...) does not appear on the phone, even after synchronizing. I have set up the Sent mails folder as class 1 folder but this does not change the behaviour.
Does anyone have an idea to solve the problem ? I expect it is not a configuration problem but I have tried many settings without success and I have no ideas anymore...
Thank you for help !

### Expected behavior
When asking for synchronizing the Sent mails, the new mails stored on the server should appear in K-9 mail on the phone.

### Actual behavior
No mail is synchronized. The Sent mails box only contains the mails sent by the phone.

### Steps to reproduce
1. Go to Sent mails
2. Synchronize
3. Nothing happens

### Environment
K-9 Mail version: 5.208

Android version: 7.1.2 LineageOS

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"since upgrade to Andoid 8, K9 eats all my battery",[],"### Actual behavior
Since I upgraded to Android 8 (Oreo) k9-mail use more than 75% of my battery everytime, but I didn't change the config.

### Environment
K-9 Mail version: 5.208

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): 2mailaccounts with IMAP, check mail every hour
![screenshot_20171019-163424](https://user-images.githubusercontent.com/10084871/31881329-7ed6fa26-b7e3-11e7-88ea-016539571a61.png)



"
k9mail/k-9,open,Saving as draft erases the To header,[],"I consider this a low-priority problem, but it would be nice to have it fixed.

### Expected behavior
When I compose an email including a recipient in the To header and save it as a draft, the To header should remain unchanged.

### Actual behavior
The To header disappears when saving the composed email as a draft into the Drafts folder. I have not checked whether Cc and Bcc headers are also erased, but it seems likely.

I have done the same with another email client (Thunderbird on a Windows computer). The problem is not there, so it is apparently not the mail server doing this.

### Steps to reproduce
1. Compose an email.
2. Add a recipient address in the To field.
3. Save as draft.
4. Re-open the draft and check the To header.

### Environment
K-9 Mail version: 5.208

Android version: 7.1.2 (LineageOS 14.1)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,shortcut,[],
k9mail/k-9,closed,Second line header is always presuming UTF-8 instead of the email's real encoding,[],"### Actual behavior

![1](https://user-images.githubusercontent.com/20357783/31827315-a94ba4d8-b5b7-11e7-81a5-7df8d0a6a8ec.png)

Both emails are ___well displayed___ in the display view.

### Steps to reproduce

Just send a text email with no encoding specified.

It works :

	------BOUNDARY
	Content-Type: text/plain; charset=""utf-8""
	Content-Transfer-Encoding: 8bit
	
	...est dÃ©sormais crÃ©Ã©.
	

It is not working :

	------BOUNDARY
	Content-Type: text/plain
	Content-Transfer-Encoding: 8bit
	
	Nous vous remercions pour l'intérêt que...



### Environment
K-9 Mail version: 5.208
Android version: 7.1.2
"
k9mail/k-9,closed,Email Rules/Auto Forward,[],"Is there a way to set up email rules? I want to forward any email from a specific sender. Is this possible?
"
k9mail/k-9,closed,Fixed a phrasing issue in the values-de/strings.xml,[],
k9mail/k-9,closed,MSO tag breaks replying and forwarding,[],"There are some mails that contain a mso tag like so:

```
<!--[if mso]>
  <body class=""mso""><div class=""gmail_quote""><br><br><br><blockquote class=""gmail_quote"" style=""margin: 0pt 0pt 0pt 0.8ex; border-left: 1px solid rgb(204, 204, 204); padding-left: 1ex;"">
...
<![endif]-->
```

If you reply or forward this mail and you add some more text, this new text will not be visible/

### Expected behavior
1. Read an email containing mso tags.
2. Reply to it and add extra text
3. Open the new email and see the content plus the extra added text from the reply.

### Actual behavior
1. Read an email containing mso tags.
2. Reply to it and add extra text
3. Open the new email and see the original content but the extra text from the reply is not visible because the extra text is included in the commented block.

### Steps to reproduce
1. Receive an email with mso tags
2. Reply to it
3. The new text is appended to the commented block with the mso tags so it will not be visible.

### Environment
K-9 Mail version: 5.208

Android version: Android 7

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,NullPointerException when processing draft message,"[Label(name=""bug"")]","Reported for K-9 Mail 5.301

Exception:
```
java.lang.NullPointerException: 
  at com.fsck.k9.ui.compose.QuotedMessagePresenter.processDraftMessage (QuotedMessagePresenter.java:255)
  at com.fsck.k9.activity.MessageCompose.processDraftMessage (MessageCompose.java:1378)
  at com.fsck.k9.activity.MessageCompose.processSourceMessage (MessageCompose.java:1203)
  at com.fsck.k9.activity.MessageCompose.loadLocalMessageForDisplay (MessageCompose.java:1575)
  at com.fsck.k9.activity.MessageCompose$10.onMessageViewInfoLoadFinished (MessageCompose.java:1595)
  at com.fsck.k9.activity.MessageLoaderHelper.onDecodeMessageFinished (MessageLoaderHelper.java:365)
  at com.fsck.k9.activity.MessageLoaderHelper.access$900 (MessageLoaderHelper.java:73)
  at com.fsck.k9.activity.MessageLoaderHelper$3.onLoadFinished (MessageLoaderHelper.java:392)
  at com.fsck.k9.activity.MessageLoaderHelper$3.onLoadFinished (MessageLoaderHelper.java:378)
  at android.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished (LoaderManager.java:489)
  at android.app.LoaderManagerImpl$LoaderInfo.onLoadComplete (LoaderManager.java:457)
  at android.content.Loader.deliverResult (Loader.java:144)
  at com.fsck.k9.ui.message.LocalMessageExtractorLoader.deliverResult (LocalMessageExtractorLoader.java:48)
  at com.fsck.k9.ui.message.LocalMessageExtractorLoader.deliverResult (LocalMessageExtractorLoader.java:18)
  at android.content.AsyncTaskLoader.dispatchOnLoadComplete (AsyncTaskLoader.java:268)
  at android.content.AsyncTaskLoader$LoadTask.onPostExecute (AsyncTaskLoader.java:92)
  at android.os.AsyncTask.finish (AsyncTask.java:695)
  at android.os.AsyncTask.-wrap1 (Unknown Source)
  at android.os.AsyncTask$InternalHandler.handleMessage (AsyncTask.java:712)
  at android.os.Handler.dispatchMessage (Handler.java:105)
  at android.os.Looper.loop (Looper.java:164)
  at android.app.ActivityThread.main (ActivityThread.java:6541)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.Zygote$MethodAndArgsCaller.run (Zygote.java:240)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:767)
```

https://github.com/k9mail/k-9/blob/d26483e1473ca672b7323e8f39c8729e366d33d1/k9mail/src/main/java/com/fsck/k9/ui/compose/QuotedMessagePresenter.java#L252-L255

Probably caused by a message where no text could be extracted, i.e. `MessageExtractor.getTextFromPart(part)` returned `null`. Ideally, we'd display an error message letting the user know what went wrong.
Unfortunately, we currently only log and ignore exceptions in `getTextFromPart()`. So there's no way of knowing why no text could be extracted."
k9mail/k-9,closed,Parsing email address list with invalid base64 encoded word crashes the app,"[Label(name=""bug""), Label(name=""good first issue"")]","Test case:
```java
Address.parse(""=?utf-8?b?invalid#?= <oops@example.com>"");
```

Exception:
```
java.lang.Error: java.io.IOException: Unexpected base64 byte

	at org.apache.james.mime4j.codec.DecoderUtil.decodeBase64(DecoderUtil.java:89)
	at org.apache.james.mime4j.codec.DecoderUtil.decodeB(DecoderUtil.java:106)
	at org.apache.james.mime4j.codec.DecoderUtil.tryDecodeEncodedWord(DecoderUtil.java:233)
	at org.apache.james.mime4j.codec.DecoderUtil.decodeEncodedWords(DecoderUtil.java:187)
	at org.apache.james.mime4j.codec.DecoderUtil.decodeEncodedWords(DecoderUtil.java:143)
	at org.apache.james.mime4j.field.address.Builder.buildAddress(Builder.java:71)
	at org.apache.james.mime4j.field.address.Builder.buildAddressList(Builder.java:51)
	at org.apache.james.mime4j.field.address.DefaultAddressParser.parseAddressList(DefaultAddressParser.java:69)
	at org.apache.james.mime4j.field.address.DefaultAddressParser.parseAddressList(DefaultAddressParser.java:73)
	at com.fsck.k9.mail.Address.parse(Address.java:145)
        [...]
Caused by: java.io.IOException: Unexpected base64 byte
	at org.apache.james.mime4j.codec.Base64InputStream.read0(Base64InputStream.java:193)
	at org.apache.james.mime4j.codec.Base64InputStream.read(Base64InputStream.java:87)
	at org.apache.james.mime4j.codec.DecoderUtil.decodeBase64(DecoderUtil.java:80)
        ... 39 more
```

I'm not sure what the best way to handle this is. Probably using the personal part as is. However, the options in MIME4J are somewhat limited. It's either crashing with an `Error` or ignoring invalid characters when decoding the base64 payload. Since we don't like crashes we should probably start out with the latter option."
k9mail/k-9,closed,Add support for yahoo.de email addresses,[],"Fixes #2840.
"
k9mail/k-9,open,Use storage access framework to write files,"[Label(name=""enhancement"")]","Using the [storage access framework](https://developer.android.com/guide/topics/providers/document-provider.html) we will be able to support all kinds of removable storage supported by Android (e.g. secondary external storage like an SD card). Additionally users can save files to supported cloud storage providers without us having to add special support for them ourselves.
This will also allow us to drop the permission to write to external storage (once we drop support for moving the message database to external storage).

Requesting access to a directory and persistable permissions aren't that well supported. But I don't mind getting rid of the default path to save attachments to and prompt the user every time."
k9mail/k-9,open,Keyboard shortcuts localization,"[Label(name=""enhancement""), Label(name=""translation"")]","Currently in Transifex two keyboard shortcut strings are hard coded, thus not translatable. These shortcuts. Don't mean anything for non English user, and will thus be harder to memorize. It'd be advisable to make them translatable.

* String 1:
Del (or D) - Delete\nR - Reply\nA - Reply All\nC - Compose\nF - Forward\nM - Move\nV - Archive\nY - Copy\nZ - Mark (Un)read\nG - Star\nO - Sort type\nI - Sort order\nQ - Return to Folders\nS - Select/deselect\nJ or P - Previous Message\nK or N - Next Message
* String 2:
Del (or D) - Delete\nC - Compose\nM - Move\nV - Archive\nY - Copy\nZ - Mark (Un)read\nG - Star\nO - Sort type\nI - Sort order\nQ - Return to Folders\nS - Select/deselect
"
k9mail/k-9,closed,Email notification grouping doesnt allow group deletion,[],"Previously, when multiple new emails arrived for a single account, those emails were grouped in to a single notification (1x swipe down) which on a single press could be all deleted (ie, DELETE ALL).  Now, a group requires expanding (the 2nd swipe down), and when the group is expanded, each email is shown individually and each one then needs expanding (the 3rd swipe down) to get the DELETE button.  However, after doing a delete of an individual email and confirming YES to delete, the notifications need to be opened again (with 3x swipe downs) to then delete the next email in the list.

Imagine doing this if you have multiple emails - it takes ages!  8 emails = 24 swipe downs.  (This is very possible for accounts that have, for example, forum or mailing list notifications, or emails that come in over night.) 

This was not the behaviour in a previous version.  Emails were grouped and offered a single 'Delete all' button.  I do not know if it is the version of K9 or the version of android that makes it behave differently (previously I was running the latest version of K9 on android 4.2.1).  I am now running on android 7.0 (Samsung). Of course it is easier to instead tap the notification and do rapid select and delete from within the account inbox but this is a backward step given we once had the option to delete from notification.

### Expected behavior
All new mail notifications for a single account should appear grouped in one header.  That header, once expanded to show the subset of individual mails (to a certain limit - previously it was 6) should have the option to DELETE ALL to then effect a delete of all the emails in that account group.  It could also enable further swipe down to expand individual emails and offer individual delete oif required.

### Actual behavior
3 swipe downs for each email with ability to only delete one at a time.  (Process explained above)

### Steps to reproduce
1.  Send in 5 emails to the sam address
2.  Receive notifications
3.  Get swiping!

### Environment
K-9 Mail version:  5.208

Android version:  7.0 (Samsung)

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP
"
k9mail/k-9,closed,not polling on Blackberry Priv,[],Have a Blackberry Priv and this AM mail on K9 is no longer polling.  I can reboot the Priv and mail will come in one time only in some cases.  But then no longer comes in.
k9mail/k-9,closed,Wrong default mail servers for yahoo.de,[],"### Expected behavior
IMAP server: imap.mail.yahoo.com
SMTP server: smtp.mail.yahoo.com

### Actual behavior
IMAP server: imap.yahoo.de
SMTP server: smtp.yahoo.de

### Steps to reproduce
1. Add email account
2. Enter an email address that ends with `@yahoo.de`

### Environment
K-9 Mail version: 5.208

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Pull translations from Transifex,[],"Creating a PR to trigger a CI build.

"
k9mail/k-9,closed,language settings frequently lost,[],"I was very happy to discover that K9Mail supports Esperanto, and immediately switched settings. Unfortunately, its interface language frequently switches back by itself to the system language (German). It will automatically and immediately switch back to Esperanto by going to Settings/Global Settings, but I have to do this at least daily. 

### Expected behavior
The selected language should stay as it is.

### Actual behavior
Language switches to system settings, until I enter the global settings menu again. I do not have to set it to Esperanto, just going to the settings menu is enough to switch back.

### Steps to reproduce
1. Switch language to Esperanto
2. Use the app, use the phone…
3. Open the app somewhen later, and see that the language is set back to system language

### Environment
K-9 Mail version: 5.300

Android version: 7.1.2; LineageOS 14.1 2017-10-09

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Benefit from name change,[],Just a suggestion but IMO K-9 Mail is not a name that is easy to remember and I think K-9 Mail  would benefit from changing it to something simpler. I don't have any suggestions yet but will tell you if I think of some.
k9mail/k-9,closed,"Crashing on replying & jumping from ""to"" box",[],"### Expected behavior
When I click the ""to"" field, I should be able to input an email address.

When I click reply, I should be able to type a reply without the software crashing.

### Actual behavior
When composing a new email, filling in the email address in the ""to"" box sometimes has the cursor jump in to the body field and in to the middle of my signature. If I have got to the point of a period in the mail address, clicking back in the field means the only way to complete the address is to delete it and re-type it.

The second fault, when replying to a message and typing, the software will randomly crash whilst typing.


### Environment
K-9 Mail version: 5.208

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): imap
"
k9mail/k-9,closed,Unified Sent Mail box,[],"Is there a way to have a Unified Sent Mail box to see all sent messages from all accounts?
Thank you.

### Environment
K-9 Mail version:
5.208

Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
all IMAP accounts"
k9mail/k-9,closed,Bring back the old Icon,[],"Please, bring back the old Icon of the app, or make it optional to choose in settings.
Sorry, but the new one is qite simple(((.   Imo in that case the simplier isn't better....
Many thanks in advance.
"
k9mail/k-9,closed,K9 does neither encrypt nor sign mails using OpenKeychain while decrypting works,[],"I setup K9 to use OpenKeychain. I verified that OpenKeychain can encrypt and decrypt messages using my key. I can decrypt mails in K9. But when I compose an enrypted mail it is not signed and not encrypted at all. Icons are all green indicating that the keys are available for encryption. Even if I chose only to sign the mail it is not signed after I send it. I tested by mailing myself and a friend.

### Expected behavior
When composing a mail with encryption I expect it to be encrypted.

### Actual behavior
The composed mail is not encrypted. No error can be seen on logcat.

### Steps to reproduce
1. Compose a message to myself with encryption enabled

### Environment
K-9 Mail version: 5.300

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Missing email - IndexOutOfBoundsException:,"[Label(name=""needs info"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Read ALL my emails

### Actual behavior
Some emails are not visible (...and thus readable ).

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.208

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Cant access iCloud (.mac/.me/.icloud) on IMAP. Suspected SSL/TLS config issue...,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue


### Actual behavior
When configuring K9 for iCloud email getting no joy on IMAP. Receiving (unable to connect) error.

### Steps to reproduce
1. Config IMAP to imap.mail.me.com
2. Security to SSL/TLS port 993
3. Enter log/pass
4. Error

-If I change the username or pass I get a user/pass error
-I can connect on SMPT with STARTTLS and 597 but same error if I go to SSL/TLS (would also be nice to fix)
-Works fine on a standard Windows ""Em Client"" if I select ""SSL/TLS on special port (legacy)"" 993 but not on standard SSL/TLS 993. 
Suspect apple is doing something stupid with SSL/TLS standards...

### Environment
K-9 Mail version:
5.208
Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,'Syncing Disabled' in Note 8 can't be resolved,[],"### Expected behavior
Tell us what should happen
Should Poll for new mail as timed in settings

### Actual behavior
Tell us what happens instead
Syncing Disabled label appears and polling can only be done manually

### Steps to reproduce
1. Open mail app and syncing is disabled
2.
3.

### Environment
K-9 Mail version:
5.208

Android version:
7.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
POP3 & Exchange
"
k9mail/k-9,open,Focus shifts to message body while typing addresses,"[Label(name=""bug"")]","### Expected behavior
1. Create new email
2. In 'to', type: contact@lakc.com
3. Tap body to enter body.

### Actual behavior
2. After entering the 'a' from 'lack.com', the focus is lost, switched to the body of the email, the address is locked to ""contact@l"" and can't be edited anymore.

### Steps to reproduce
1. See above

### Environment
K-9 Mail version: 5.208

Android version: 8.0.0/October patch

Device: Nexus 6P

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Feature request: Option to cleanly interrupt syncing,[],"I would like to request a feature to cleanly interrupt all syncing  so that it then can be started cleanly again. I am using manual synchronization a lot and it often happens that sync gets stuck when the internet connection gets interrupted - for example in a train. Restarting sync at the moment has a lot of strange side effects like endlessly spinning or multiple sync notifications. ""Killing"" K9 through the list all running apps menu does not always solve these problems."
k9mail/k-9,closed,Stop refresh animation on pause,[],"Workaround for [Android bug 37008170](https://issuetracker.google.com/issues/37008170); resolves issue #2788.

The bug causes trouble when replacing a fragment while SwipeRefreshLayout shows the refresh animation. In K-9 this kicks in when either opening a message thread or doing ""More from this sender"" from the message list.

This PR implements the workaround in the `MessageListFragment` as suggested here:
https://stackoverflow.com/questions/27057449/when-switch-fragment-with-swiperefreshlayout-during-refreshing-fragment-freezes/27073879#27073879"
k9mail/k-9,closed,Unable to copy text from emails due to level of WebView support on non-Google OS's,[],"### Expected behavior
When copying text, I should be able to paste the content into another app.

### Actual behavior
The clipboard seems to stay untouched by k9.

### Steps to reproduce
1. open a mail
2. select and copy some text
3. try to paste it somewhere else

### Environment
K-9 Mail version: 5.208

Android version: CopperheadOS 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange): imap
"
k9mail/k-9,open,moving multiple emails fails,[],"### Expected behavior
Selecting multiple mails and moving them to another folder, should move all selected mails.

### Actual behavior
Selecting multiple mails and moving them to another folder, moves only one (the first selected) mail.

### Steps to reproduce
1. select more than 1 mail
2. move to a folder of choice
3. see how only one mail got moved

### Environment
K-9 Mail version: 

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Cannot login to my server.,[],"When I try to connect to my server I get ""Cannot connect to server. (Unable to connect)."" The server information is correct and I can login to my email from thunderbird just not K9. The server is an IMAPS server."
k9mail/k-9,open,Bug leaks sensitive content: account email addresses shown on locked phones,[],"### Expected behavior
When the phone settings are set to ""Settings > Configure notifications > On the lock screen: Hide sensitive notification content"", K-9 Mail should not display any sensitive content about accounts or emails. It should just say `Contents hidden`.

### Actual behavior
Even though the phone settings are set to ""Hide sensitive notification content"", K-9 Mail displays the different email addresses set up through K-9 Mail as it checks for new messages with each account. This is leaking sensitive content about the user of the phone (ah they have this email address, that email address, etc). It would be the equivalent of a chat app displaying the username in the Notifications when they get a new message even if they have told the app to hide sensitive content on notifications. Or their phone number when receiving a phone call, etc.

### Steps to reproduce
1. Set up multiple email accounts in K-9 Mail
2. Set up phone to hide sensitive notification content
3. Lock phone
3. Watch K-9 Mail check for new mail and reveal account addresses

### Environment
K-9 Mail version: v5.208"
k9mail/k-9,open,Delete messages in the Inbox and/or Trash folder by date range,"[Label(name=""enhancement"")]","I have search for this issue and have not been able to find anything about this. I would like to suggest the following enhancement.

I have just downloaded ver. 5.3 and have this on Android 6. 

In the Inbox and/or Trash folder it would be helpful to be able to delete by a date range. (Example: I currently have over 16,000 deleted messages in my Trash folder. I would like to delete all messages prior to 01/01/2017.)

This could be expanded to other criteria as well, such as, an individual sender, Subject, etc.

If I have missed this someplace and it is already available I apologize. If someone would please direct me to this feature I would appreciate it.

Thank you for your consideration.
D.Fiordelisi
"
k9mail/k-9,open,"Wrap long words, file path and URL in messages",[],"### Expected behavior
Use multiple lines to show long url links & long words inside messages.

### Actual behavior
Currently 

### Steps to reproduce
1. Set ""Auto-fit message"" ON
2. Open message that include long word, file path or URL
  * `Some message with URL as https://github.com/k9mail/k-9/releases/tag/5.300`
  * `Some message with path info as D:/folder1/folder2/folder3/folder4/folder5/folder6/folder7/file.extension`
  * `Some message that include SomeLongWordWithoutSpaceInSingleLine`
3. Message text size too tiny, because try fit all message according one long word.

### Environment
K-9 Mail version: 5.3.0

Android version: 7.0"
k9mail/k-9,closed,Create MessageList specific key shortcut Toast,[],"Some of the key shortcuts does not trigger any actions when in
MessageList. This change creates a custom Toast message with the reduced
set of keys that has any action.

"
k9mail/k-9,open,Add a way to download only the full headers and not the rest of the content,"[Label(name=""enhancement"")]","
### Expectead behavior
Print complete header when pressing `Show headers`. I don't care about highlighting, plaintext is okay but print the complete header.

### Actual behavior
k9 is not showing the full header. It appears as if just some special/known(?) parts of the header are chosen.

#### Example

This is a classical spam-header -- hence I leave the senders information.

##### k9

```
Message-ID: <ovyiwnq35671246.04083004@mail.mtsbu.us>
From: Zusatzliches Einkommen <ovyiwnq@mtsbu.us>
To: <censored@censored.com>
Subject: Zusätzliches Einkommen für alle
Date: Mon, 25 Sep 2017 23:41:23 +0300
MIME-Version: 1.0
Content-Type: multipart/related; boundary=""----9AVLIOCRAVG8Z8SJ6PZ1Z962WKLRFS""
Content-Transfer-Encoding: 7bit
```

##### Actually / Expected

```
Received: from mailer.censored.com (censored.10.17) by um-excht-a01.um.censored.com
 (censored.11.221) with Microsoft SMTP Server id 14.3.361.1; Mon, 25 Sep 2017
 22:41:36 +0200
Received: from censored.censored.com ([censored.82.140])    by mailer.censored.com
 with esmtps (TLSv1:DHE-RSA-AES256-SHA:256) (Exim 4.80) (envelope-from
 <ovyiwnq@mtsbu.us>)    id 1dwaC8-0001bk-Oc; Mon, 25 Sep 2017 22:41:36 +0200
Received: by censored.censored.com (Postfix)    id 591195A7; Mon, 25 Sep 2017
 22:41:36 +0200 (CEST)
Delivered-To: censored@censored.censored.com
Received: by censored.censored.com (Postfix, from userid 65534) id
 41631545C; Mon, 25 Sep 2017 22:41:36 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.3.2 (2011-06-06) on
    censored.censored.com
X-Spam-Level:
X-Spam-Status: No, score=-3.9 required=5.0 tests=BAYES_00,EXTRA_MPART_TYPE,
    HTML_IMAGE_ONLY_04,HTML_MESSAGE,HTML_SHORT_LINK_IMG_1,MPART_ALT_DIFF,
    RCVD_IN_DNSWL_HI,TVD_SPACE_RATIO,T_AXB_MIME_IMG830 autolearn=ham version=3.3.2
Received: from mailer.censored.com (mailer.censored.com [censored.10.26])   by  
 censored.censored.com (Postfix) with ESMTPS id A9D1A5A7;   Mon, 25 Sep 2017
 22:41:29 +0200 (CEST)
Received: from mfilter-123-1-1.mx.srv.dfn.de ([194.95.232.60])  by  
 mailer.censored.com with esmtps (TLSv1.2:DHE-RSA-AES256-GCM-SHA384:256)    (Exim
 4.80)  (envelope-from <ovyiwnq@mtsbu.us>)  id 1dwaC1-0001aM-J4; Mon, 25 Sep 
 2017 22:41:29 +0200
Received: from mail.mtsbu.us (mail.mtsbu.us [89.163.212.18])    by  
 mfilter-123-1-1.mx.srv.dfn.de (Postfix) with ESMTP;    Mon, 25 Sep 2017 22:41:25
 +0200 (CEST)
Received: from mtsbu.us (mail.mtsbu.us [89.163.212.18]) by mail.mtsbu.us
 (Postfix) with ESMTPA id D21A11C0F38;  Mon, 25 Sep 2017 23:41:21 +0300 (EEST)
Message-ID: <ovyiwnq35671246.04083004@mail.mtsbu.us>
From: Zusatzliches Einkommen <ovyiwnq@mtsbu.us>
To: <censored@censored.com>
Subject: =?utf-8?B?WnVzw6R0emxpY2hlcyBFaW5rb21tZW4gZsO8ciBhbGxl?=
Date: Mon, 25 Sep 2017 23:41:23 +0300
Content-Type: multipart/related; type=""multipart/alternative"";
    boundary=""----=_NextPart_000_0006_01D33655.5FBCB8C0""
Precedence: bulk
List-Id: b83348430v73546086
X-Complaints-To: abuse@mtsbu.us
List-Unsubscribe: <http://mtsbu.us/ru/unsubscribe/do?hash=8100057523076787>
X-Virus-Scanned: (clean) by clamav
Return-Path: ovyiwnq@mtsbu.us
X-MS-Exchange-Organization-AuthSource: UM-EXCHT-A01.um.censored.com
X-MS-Exchange-Organization-AuthAs: Anonymous
X-MS-Exchange-Organization-PRD: mtsbu.us
X-MS-Exchange-Organization-SenderIdResult: Fail
Received-SPF: Fail (UM-EXCHT-A01.um.censored.com: domain of ovyiwnq@mtsbu.us does
 not designate censored.82.140 as permitted sender)
 receiver=UM-EXCHT-A01.um.censored.com; client-ip=censored.82.140;
 helo=mailer.censored.com;
X-MS-Exchange-Organization-SCL: 5
X-MS-Exchange-Organization-PCL: 2
X-MS-Exchange-Organization-Antispam-Report: DV:3.3.16631.866;SID:SenderIDStatus Fail;OrigIP:censored.82.140
MIME-Version: 1.0
```

### Environment
K-9 Mail version: 5.208

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Custom folders on main screen,[],"K-9 has the main screen with the combined inboxes, with all the folders for search and with the list of accounts.

I would like to customise that screen, for example by removing the element for all the folders enabled for search and by adding combined ""sent"", ""junk"" and ""drafts"". The accounts would still be displayed at the end (but the order should be customisable)."
k9mail/k-9,closed,Find/auto-complete addresses from pgp provider,[],"Also use the addresses of the pgp provider in order to complete the addresses entered into the ""To"" field.
It is also a kind of ""address book""."
k9mail/k-9,closed,"query recipients also from crypto provider, if available",[],"What it says on the tin. When recipients are loaded from a query, and a crypto provider is configured, the contacts are also filled from the crypto provider.

Luckily I had added the necessary columns to the autocrypt query interface already, making this a very simple operation. I had just kinda forgotten about it."
k9mail/k-9,open,PGP mails signed with wrong key,[],"### Expected behavior
When encrypting & signing a mail, K9 mail should use the key for the sender's mail (specified in ""From:"").

### Actual behavior
K9mail may use the wrong key – without any user feedback.

### Steps to reproduce
1. Add multiple private keys to OpenKeyChain.
2. Create new mail, change identity (sender) mail.
3. Mail may still be signed with the main PGP key for another identity/mail used.

### Environment
K-9 Mail version: 5.208

Android version: LineageOS 14

### Possible solution
* short-term (bug fix): Get mail from senders field and use correct key (-> the purpose of this issue)
* long-term: https://github.com/k9mail/k-9/issues/2510 and https://github.com/k9mail/k-9/issues/942

/cc @Valodim"
k9mail/k-9,open,Time zone unknown parsed as UTC,[],"in the Date: mime header 
UTC itself appears as +0000; −0000 means the time zone essentially unknown.

### Expected behavior
Dates with -0000 should not be converted to UTC

### Actual behavior
For example i've received two messages one after the other
first one: Date: Wed, 27 Sep 2017 11:41:18 -0000 
second one: Date: Wed, 27 Sep 2017 11:42:40 +0200

I live in italy and the first one results in K9 received at 13.41 that is wrong,

### Environment
K-9 Mail version: last

Android version: all supported

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,nicer description for signed-only setting,[],trivial pr
k9mail/k-9,open,Opening a message while sort-by unread moves message from previous view,[],"### Expected behavior

When using sort-by unread, opening a message and pressing next/prev will use the same ordering I saw before clicking on the message.

### Actual behavior

Opening the message causes the order to shift, and next/prev no longer make much sense. The message moves as it is now read. Unfortunately this makes viewing a few messages in the middle of a thread very difficult.

### Steps to reproduce
1. Change ordering to sort-by unread
2. Open Message
3. Click next/previous arrow doesn't go to where it was previously

### Environment

K-9 Mail version: 5.208

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP/SMTP
"
k9mail/k-9,closed,K9 deletes old emails,[],"### Expected behavior
Old, undeleted Mails stay forever on the device

### Actual behavior
Mails get lost if older than a few months

### Steps to reproduce
1. install k9
2. setup pop3
3. disable ""adopt deletion from Server""

### Environment
K-9 Mail version: 5.208

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,lost feature (request) : download complete message holding its display position,[],"### Expected behavior
I split long messages to first downloaded partitially and read this then to the end. Below such a message there is then the button to 'download complete message'. Pressing this button should not move to the beginning of the message again, but the button should dismiss and one can continue reading there. 

I'm nearly sure, that I've seen this feature working in one version of k-9. 

### Actual behavior

by loading the complete message the button geht's ghosted and the message again displays from beginning that one have to search, where it has ended before and where now to continue to read.

### Steps to reproduce
1. have a long e-mail, which is loaded not complete (because of settings to do so) 
2. scroll to end of message
3. submit to download complete message
and finally find yourself on top of the message. 

### Environment
K-9 Mail version: 5.2.0.8

Android version: 4.2.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP, but not relevant IMHO
"
k9mail/k-9,closed,Duplicate,[],Duplicate
k9mail/k-9,closed,Keep flags when downloading complete message,[],"Avoid that clicking ""Download complete message"" deletes all flags of the affected message from the local store. This should resolve issues #2475 and possibly also #697."
k9mail/k-9,closed,Feature Request: Easy Delete by SWIPING,[],"Hi a feature request would be a much faster way of deleting messages.  Often people get advertisements or they have mailing lists and from the subject they know they're not interested in reading the  message.

It would be really nice to swipe a message away.

Toss that around with the devs.

Thanks,

DR"
k9mail/k-9,closed,Make it easier to find folders with unread messages.,[],"### Expected behavior
It would be nice if there were some easy way to see folders that have unread messages. Possibly a new option in ""folders to display"" to show only folders with unread messages, or an option to sort the folder list so that the folders with unread mail appear above other folders.

### Actual behavior
With hundreds of folders and unread mail in only a few, it's hard to quickly see where there's unread mail. (I think there's a way to see all unread messages, but I'd rather see folders first so I can decide which to look at.)

### Environment
K-9 Mail version: 5.208

Android version: Android 7.1.2 / LineageOS 14.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Add option to show total unread count instead of local unread count.,[],"### Expected behavior
It would be nice if there were an option for the folder list to show the per-folder total number of unread emails on the server.

### Actual behavior
The count of unread messages appears to include only locally synced messages, not all unread messages in the folder on the server.

### Steps to reproduce
1. Configure k9mail to sync only the most recent N messages.
2. Have unread messages less recent than N.
3. Look at the folder list.

### Environment
K-9 Mail version: 5.208

Android version: Android 7.1.2 / LineageOS 14.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Use read-only access for polling,[],"Addressing issue #2772, this PR changes K-9 to use read-only access when polling for new messages. This avoids deleting the IMAP flag `\Recent` from new messages before they are opened for reading. For push notification on new messages, K-9 already uses read-only access."
k9mail/k-9,open,"In the compose mail screen, the contact popup is not displayed properly when they are many contacts",[],"### Expected behavior
The information about the contact should be fully visible when clicking on it

### Actual behavior
Only a small part of the information is visible, the popup is too small (scrollable, but it would be nicer to see everything at the same time)

### Steps to reproduce
1. Create a new email
2. Add 20 recipients (enough to fill the screen)
3. Click on one of the recipients
![screenshot_2017-09-29-11-35-00](https://user-images.githubusercontent.com/2114903/31007764-4b7292f8-a50a-11e7-95b2-333ac6943677.png)
![screenshot_2017-09-29-11-25-24](https://user-images.githubusercontent.com/2114903/31007765-4b75e5d4-a50a-11e7-84cf-44444cac3bd1.png)

A similar issue is happening when adding a contact from the device contacts.
![screenshot_2017-09-29-14-43-29](https://user-images.githubusercontent.com/2114903/31014648-a70bf644-a524-11e7-82d0-4bff2ab8ab5a.png)
![screenshot_2017-09-29-14-25-51](https://user-images.githubusercontent.com/2114903/31014654-aba122ec-a524-11e7-9242-8d13815a0859.png)

### Environment
K-9 Mail version: 5.109

Android version: 4.4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,repeated restarts on Android 8,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,for Downloading complete message removes star #2475,[],"Changed loadMessageRemoteSynchronous method so that it runs downloadMessages method when loadMessageRemote method is called.

Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.
* For cosmetic changes add one or multiple images, if possible.


"
k9mail/k-9,open,Wrong SMTP headers for initial sync of new account,[],"
### Expected behavior
New smartphone. Copied K9 settings from old phone. Entered server passwords and performed initial sync.

All msgs from IMAP account synched. But for exactly four emails incomplete SMTP headers are parsed. Leading to receiving date to current time of sync. Not values from IMAP.

Reproducible, after a Reset Data in K9 always same issue.

Old phone with K9 has CORRECT date/time etc. Headers. Also Roundcube Webmail shows all correct. Also GMail App shows all correct, so IMHO for sure a K9 bug 

### Actual behavior
always the same (4) emails have wrong headers, are set to current date/time 

### Steps to reproduce
Described above.

### Environment
K-9 Mail version: 5.208

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP, Dovecot, own VPS"
k9mail/k-9,closed,"[5.300] Unable to check mail, Command: NAMESPACE; respons",[],"Outlook IMAP
Unable to check inbox all of a sudden using k9mail 5.300
It was working, I am able to connect on browser, but all of a sudden I am getting `Command: NAMESPACE; respons` whenever I refresh outlook account.
Other accounts work fine, though.

```

09-27 12:15:16.515  1439  2929 D ActivityTrigger: ActivityTrigger activityStopTrigger
09-27 12:15:16.721 12544 12567 V ImapResponseParser: conn237674745<<<#null# [CAPABILITY, IMAP4, IMAP4rev1, AUTH=PLAIN, AUTH=XOAUTH2, SASL-IR, UIDPLUS, MOVE, ID, UNSELECT, CHILDREN, IDLE, NAMESPACE, LITERAL+]
09-27 12:15:16.722 12544 12567 V ImapResponseParser: conn237674745<<<#1# [OK, CAPABILITY completed.]
09-27 12:15:16.726 12544 12567 D ImapConnection: Saving [SASL-IR, NAMESPACE, MOVE, AUTH=XOAUTH2, IDLE, IMAP4, UNSELECT, ID, IMAP4REV1, LITERAL+, UIDPLUS, CHILDREN, AUTH=PLAIN] capabilities for conn237674745
09-27 12:15:16.728 12544 12567 V ImapConnection: conn237674745>>> 2 AUTHENTICATE PLAIN
09-27 12:15:17.029 12544 12567 V ImapConnection: conn237674745<<<#+# []
09-27 12:15:20.303 12544 12567 V ImapResponseParser: conn237674745<<<#2# [OK, AUTHENTICATE completed.]
09-27 12:15:20.304 12544 12567 I ImapConnection: Did not get capabilities in post-auth banner, requesting CAPABILITY for conn237674745
09-27 12:15:20.306 12544 12567 V ImapConnection: conn237674745>>> 3 CAPABILITY
09-27 12:15:20.678 12544 12567 V ImapResponseParser: conn237674745<<<#null# [CAPABILITY, IMAP4, IMAP4rev1, AUTH=PLAIN, AUTH=XOAUTH2, SASL-IR, UIDPLUS, MOVE, ID, UNSELECT, CLIENTACCESSRULES, CLIENTNETWORKPRESENCELOCATION, BACKENDAUTHENTICATE, CHILDREN, IDLE, NAMESPACE, LITERAL+]
09-27 12:15:20.679 12544 12567 V ImapResponseParser: conn237674745<<<#3# [OK, CAPABILITY completed.]
09-27 12:15:20.679 12544 12567 D ImapConnection: Saving [SASL-IR, NAMESPACE, CLIENTNETWORKPRESENCELOCATION, AUTH=XOAUTH2, CLIENTACCESSRULES, BACKENDAUTHENTICATE, IMAP4REV1, ID, LITERAL+, MOVE, IDLE, IMAP4, UNSELECT, UIDPLUS, CHILDREN, AUTH=PLAIN] capabilities for conn237674745
09-27 12:15:20.679 12544 12567 I ImapConnection: pathPrefix is unset and server has NAMESPACE capability
09-27 12:15:20.680 12544 12567 V ImapConnection: conn237674745>>> 4 NAMESPACE09-27 12:15:21.023 12544 12567 V ImapResponseParser: conn237674745<<<#4# [BAD, User is authenticated but not connected.]
09-27 12:15:21.031 12544 12567 E ImapFolder: Unable to open connection for D:INBOX/MessagingController/conn237674745
09-27 12:15:21.031 12544 12567 E ImapFolder: com.fsck.k9.mail.store.imap.NegativeImapResponseException: Command: NAMESPACE; response: #4# [BAD, User is authenticated but not connected.]
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapResponseParser.readStatusResponse(ImapResponseParser.java:118)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:730)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:716)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapConnection.handleNamespace(ImapConnection.java:623)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapConnection.retrievePathPrefixIfNecessary(ImapConnection.java:613)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:134)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapConnection.sendCommand(ImapConnection.java:769)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:727)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:716)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapFolder.executeSimpleCommand(ImapFolder.java:109)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapFolder.internalOpen(ImapFolder.java:145)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.mail.store.imap.ImapFolder.open(ImapFolder.java:114)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:817)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.controller.MessagingController$9.run(MessagingController.java:721)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:211)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:129)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:180)
09-27 12:15:21.031 12544 12567 E ImapFolder:    at java.lang.Thread.run(Thread.java:761)
09-27 12:15:21.036 12544 12567 E MessagingController: synchronizeMailbox
09-27 12:15:21.036 12544 12567 E MessagingController: com.fsck.k9.mail.store.imap.NegativeImapResponseException: Command: NAMESPACE; response: #4# [BAD, User is authenticated but not connected.]
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapResponseParser.readStatusResponse(ImapResponseParser.java:118)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:730)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:716)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapConnection.handleNamespace(ImapConnection.java:623)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapConnection.retrievePathPrefixIfNecessary(ImapConnection.java:613)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:134)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapConnection.sendCommand(ImapConnection.java:769)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:727)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:716)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapFolder.executeSimpleCommand(ImapFolder.java:109)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapFolder.internalOpen(ImapFolder.java:145)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.mail.store.imap.ImapFolder.open(ImapFolder.java:114)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:817)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.controller.MessagingController$9.run(MessagingController.java:721)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:211)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:129)
09-27 12:15:21.036 12544 12567 E MessagingController:   at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:180)
09-27 12:15:21.036 12544 12567 E MessagingController:   at java.lang.Thread.run(Thread.java:761)
09-27 12:15:21.084 12544 12567 V TracingPowerManager$Tra: TracingWakeLock for tag FolderList checkMail / id 101: releasing after 6170 ms, timeout = 600000 ms
09-27 12:15:21.119 12544 12567 V LockableDatabase: LockableDatabase: Transaction ended, took 15 ms / com.fsck.k9.mailstore.LocalFolder.appendMessages(LocalFolder.java:1285)
09-27 12:15:21.126 12544 12567 E MessagingController: Failed synchronizing folder D:INBOX @ Wed Sep 27 12:15:21 GMT+03:00 2017
09-27 12:15:21.126 12544 12567 I MessagingController:  Command 'synchronizeMailbox' completed
09-27 12:15:21.126 12544 12567 I MessagingController: Running command 'sendPendingMessages', seq = 39 (background priority)
09-27 12:15:21.128 12544 12567 I MessagingController:  Command 'sendPendingMessages' completed
```
"
k9mail/k-9,closed,Feature Request: Easy Delete,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Feature Request:  Easy Delete,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Show error if encryption is enabled but no key is configured,[],"This brings back an error that I inadvertently dropped somewhere along the way, but that is actually very important: Refuse to send a message while encryption is enabled and no key is configured."
k9mail/k-9,closed,Show pgp inline menu item only if encryption/signing is actually enabled,[],What it says on the tin
k9mail/k-9,closed,Redirect/Bounce Mails,[],"Hi,
I missed the Plugin to redirect/Bounce Mails Like in the Thunderbird Plugin 'Mail Redirect'.
It's very important for me as administrator.

Thanks 

Malte"
k9mail/k-9,closed,"Feature Request: Privacy settings, dont transmit local interface IP as hello to the SMTP server","[Label(name=""enhancement"")]","Hi,

please add a privacy setting next to ""Remove K-9 User-Agent from mail headers"" like:

""Report always localhost as SMTP hello argument""

The issue i face is that K-9 mail is reporting the local network IP while sending mails over wifi that lookes like that in headers:

``Received: from hostnamexyz ([aaa.bbb.ccc.ddd] helo=[192.168.xxx.yyy])``

But i dont want that my local ip (192.168.xxx.yyy) is revealed. In Thunderbird i can accomplish this by setting 
``mail.smtpserver.default.hello_argument`` to ``localhost``, please add a option for K-9 mail to.

Thanks in advance

"
k9mail/k-9,closed,Push stopped working,[],"### Expected behavior

a notification should happen instantly when a mail is sent to a folder (like INBOX) with Push support enabled.

### Actual behavior

Mails get only manually synced. No Push mails received.

### Steps to reproduce
1. sent mail to account with push enabled
2. ???
3. nothing happens (only manual sync works)

### Environment
K-9 Mail version: 5.208 (worked in 5.206)

Android version: 5.1 (Fairphone Open OS 17.04.0)

Account type: IMAP
"
k9mail/k-9,open,Microsoft Exchange Server format issue,[],"Whenever I encrypt and send message from Outlook where the user is configured as an account on Microsoft Exchange Server, K9 is not able to read the encryption. if i copy and paste the text then encryption is detected

Here is how the Message body is coming up from Microsoft Exchange Server:

```
<html><head><meta name=""viewport"" content=""width=device-width"" /><style type=""text/css"">* { background: black ! important; color: #F3F3F3 !important }:link, :link * { color: #CCFF33 !important }:visited, :visited * { color: #551A8B !important }</style> <style type=""text/css""> pre.k9mail {white-space: pre-wrap; word-wrap:break-word; font-family: sans-serif; margin-top: 0px}</style></head><body>
                                                        
                                                        <meta http-equiv=""Content-Type"" content=""text/html; charset=utf-8"" />
                                                        <meta name=""Generator"" content=""Microsoft Exchange Server"" />
                                                        <!-- converted from rtf -->
                                                        <style><!-- .EmailQuote { margin-left: 1pt; padding-left: 4pt; border-left: #800000 2px solid; } --></style>
                                                        
                                                        
                                                        <font face=""Arial"" size=""2""><span style=""font-size:9.5pt;"">
                                                        <div>-----BEGIN PGP MESSAGE-----</div>
                                                        <div>Version: 10.3.0 (Build 8741)</div>
                                                        <div>Charset: utf-8</div>
                                                        <div>&nbsp;</div>
                                                        <div>qANQR1DBwUwDhu8C6RTZPPwBEACmRmFLqsUfS/qN+ZuH27/RZv7VpAhnNouZpCWr</div>
                                                        <div>fiWk/eUt/zuJ8iTGDxN9dlEcuQNSY3w3zuuvQvjbK0Xa+930r/VHUDGuP10RP9gG</div>
                                                        <div>9botz0Xca4+XzOO1ok7+eUZPOmuPEv+T7NiUXXVCVXRu56S/H7QaDXOM9lQMLRNE</div>
                                                        <div>BC0X90Ee/VQSr8jJ5FY91Ni7lBC6Ac2mr0im0q6QvCLpx+Ub7v9WhlENJc+1sjsJ</div>
                                                        <div>DFkrbpeELMbT9fCivnBhzHKZtc08dNITd+vYzpZ2evhLTlRiwUdW1nttNBjr2afq</div>
                                                        <div>TH98KmSyZT0xQUZFipjzHkUqZnG7GmZdAVatJZdUBW0BXGVsxc7dQszPc4CsoPok</div>
                                                        <div>1JysnEgz+QcWVLEHXALoK2oFK7XFgC1/ourOp1lh5pEHi6UT7ZHS9Cqv15oT7Lbe</div>
                                                        <div>/w5yhQZzNPevKOFYMcfGmfW2B2Y9YXMV1O31GWXSKmJ8ULV70SXHvSJRQJovZIRP</div>
                                                        <div>A9a4dyLzkH6WaztX61KWhV8Hd0hwaxXoZLsltaSHmwsJPYTP7l37LLxU4GiGcTH/</div>
                                                        <div>pEhnKQEjaroYo0ujHrnmfGWPj0lrNA7dYm3tcY1kxo8XbA3RCYQRNDRX85VtcJdu</div>
                                                        <div>bu3WZruCfFxqTOTfeUhFDrO4+OcSxCcqyqHSk2B3er1QKCNg+4TmyvyNi604A8BR</div>
                                                        <div>LurLx8HBTAPJWxZ+rZSaSwEQAInqQErmTDGfoEHxjy+r9VdzximHJBs5MtwuaBLK</div>
                                                        <div>SL2JFrW2f+k7gf/pfiQVh06OoWNlKyEkl63tJtn3XzTLM0KGiVpbya8i27Gzzh7N</div>
                                                        <div>UngIySTJCVwHoAnv9/8uyWgmzsIF2Cvq38VniOBjUAqP275OdjME+S+cr76Q+WCY</div>
                                                        <div>YsB2QJvvJE9Cpb1VW87KYVHG0Q6RpDSB1Tv2y5ZEDs9dpEX131JZeu8IC+8K9tTj</div>
                                                        <div>DahwPeTQnO7IuU+o/rn3WNrAjvPucKXX6KccqCEz20JmlqIErDsWF1AgmGVgwmfo</div>
                                                        <div>fADvZ0ty6wKC9DD5sUL4IaVB4P0oPjSNHVLf2ROKutr4TKwAj4mC2kEboak+t/KS</div>
                                                        <div>ZmwElkFPYA4dCe8/dim5EDWZtTZo09BehFa0PwLEBjBL88/1bSOE0/60E2nTl8QL</div>
                                                        <div>fmUvJidh5hhN+Xgvmnz4eDF53hnT/uRGIZ8MV688dtvzrS0vI/SuQPg4zsPng/e+</div>
                                                        <div>8qvt7k2xWhcl5kovgr66C3W0GVYbL9BNR85q/Dr2oEE9iKUQAB/TRugGwvS4lU4S</div>
                                                        <div>QkYxqwxxmwNLLKfLCmdRtYeF7+OrLz6dDw67breEnu1t9aEyGWhW0njZu9ptAZt9</div>
                                                        <div>Am6hv2MvhwDSVE7MHygZZ4BstskDnhucoQAzjpDjqQdtCXnFaRIWWXV+I2couGuI</div>
                                                        <div>Vot30sGoAXX4kjD6A7udEqVhbbRrWkkF8mWFnUeVaJr2g2Wb6ylaU2AqTJaMmTQx</div>
                                                        <div>SEZH2ae+PKJ9GMSNAYk/lW5Kvaslyiz0pTR4+mf6pRdkoZXMrcNOYWAU0LDjz2mz</div>
                                                        <div>gZUZ/bkY3Rnq6GDEq0e6SgeE+hfS5jzqDtFooaJv0x7fTLbYK7s9fObOL67TGHdF</div>
                                                        <div>9Iz1MZHLR8egsT4C8yw88KrM+QIs9kHfUw7Fp3MMpUPdODhhk6mfKSvuyOeJCM2E</div>
                                                        <div>rRPz4V07pvc49r+yAj80z23DsN3pEdA2Mt2kI5bMMLn/6ISW1k0FAOepMw/50Vrd</div>
                                                        <div>ue/kvBXx9gVdznEPBKbtEC3clT5R0kxZtosSEMoHCkEz9/N6g1l25V76EJALYupa</div>
                                                        <div>kczcTvdmiPtLyjM3dibbpLUaNcbZF9oZp3pGMFj4UcNDSGZSJQX6QP10CBx63xHk</div>
                                                        <div>gZEJEPR1nEUF/6E+n0/+IuRFI2SbXTDs8oQYG4M53fL5Ven/CcbH/+JBbffpE1h7</div>
                                                        <div>p6ItkuUqcwsmpBgfL8UMFrftUfCYBGnqRENUBMxevmtcjrXLPxDc0yJu5ZN5yl65</div>
                                                        <div>OmsrYqBxzyqhLPl7Q2UGClD4KaKJFJCvuyJ2w4uGJpr8akoIBikJKRcpoYuSNhs1</div>
                                                        <div>H16OowwpyLUOLZE7lcOk8IeJUAViZ9uZy0Whw3a6MCZRUEWUjOefDH6wim4WH5hX</div>
                                                        <div>3wdu00vcWYYDA1xJ8IqdJNko4P93vQQn63slVMdQDb9bnTD3A+c2GWp7rdtDrIxa</div>
                                                        <div>AFqmbU4XyuPUd+v7zkocc1cf9h7K4UmdHIa0yARPMpTh3D9Bx0fqIqroag9R6A==</div>
                                                        <div>=cyV1</div>
                                                        <div>-----END PGP MESSAGE-----</div>
                                                        <div>&nbsp;</div>
                                                        <div>&nbsp;</div>
                                                        </span></font>
                                                        
                                                        </body></html>
```

I have deduced the before the message is shown, we can try to change the formatting [here](https://github.com/k9mail/k-9/blob/dcb8587dec0bdd4869139bd952db23a01afab817/k9mail/src/main/java/com/fsck/k9/ui/messageview/MessageViewFragment.java#L240)

"
k9mail/k-9,closed,Gmail : authentification blocked by Google ,[],"### Expected behavior
Authentification and Gmail ok

### Actual behavior
Sometimes, only when I'm not using my home WiFi (Phone network or new WiFi network), K9 will try to connect to Gmail and will not (warning icône) because it's blocked by Google. I instantely get on another mailbox Google telling me someone knows my password and a SMS from Google for the same thing. I already changed the password once in case of, but it always happen when K-9 tries to connect ; most of the time it works with no problem, but sometimes it happens. Less secure apps are allowed into Google. 
My two other accounts work perfect, and so does my Gmail account when not blocked by Google. 

### Steps to reproduce
1. Connect from GSM network or from new WiFi location. 
2. Attempt to connect to Gmail
3. It will produce (sometimes) a warning from K-9 saying authentification failure, then a mail+SMS from Google telling someone knows my password and authentification was blocked. 

### Environment
K-9 Mail version: 5.208
Oneplus 3t

Android version:
LineageOS 14.1 Snapshot 21 sept 2017 (Android 7.1.2)- Also happened in OxygenOS. 

Account type (IMAP, POP3, WebDAV/Exchange):
1 Gmail (imap, ssl) account (the buggy one) 
1 Orange.fr (imap) account
1 1&1 (imap) account"
k9mail/k-9,open,Share attachments with their original file name,[],"
### Expected behavior
When sharing an opened attachment file to, say, Google Drive, I would want it under the name of the attachment, such as Contract.pdf

Alternatively, a direct ""Share to"" button in the browser might work.

### Actual behavior
The file name seems to be a random uuid generated by k9 when saving the attachment locally so it can be opened. When sharing the file then, the original babe is completely lost.

### Steps to reproduce
1. Open an attachment
2. Select share to, say, Google Drive
3. Notice that the file name there is a random uuid

### Environment
K-9 Mail version: 5.208

Android version: Oreo

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Graphic bug when opening an email thread while polling the folder,"[Label(name=""bug"")]","### Expected behavior
The list of messages in the selected thread should appear

### Actual behavior
The list of messages in the selected thread shows up *behind* the original message listing. 

### Steps to reproduce
1. Enable threaded view in global settings
2. Enter a folder that has threaded messages in them. 
3. Swipe down to initiate a folder poll.
4. *While the folder is being polled*, tap a threaded entry to show the complete message list for the thread.

### Environment
K-9 Mail version: 5.300

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,Restore scroll position of message view,[],"Here is a first attempt at issue #1720. For now it only deals with the vertical scroll position. Horizontal scrolling is maintained by another class and restoring it did not seem to be so important for a start.

Since the `MessageContainerView` does not yet exist at the time of `onRestoreInstanceState`, I have put saving and restoring into the `MessageTopView`. (This overlaps a bit with PR #2716: Both add save/restore to the `MessageTopView`.)

The biggest problem was to find out when rendering the message is _really_ finished. `WebViewClient.onPageFinished` may be called too soon; `WebView.PictureListener.onNewPicture` and `WebView.capturePicture` are deprecated and appear to be the wrong thing to do for scrolling. There are some suggestions on the web, but all that I tried fired too soon in some cases. I ended up using `Throttle` to wait a few ms after the last invocation of `invalidate` with a content height > 0. That does not feel good. Better ideas are welcome!

For the relative scroll position, I divide the absolute scroll position by the content height. On restore I multiply the relative position by the possibly changed content hight. This seems to be straight forward, but is just an approximation, since the layout of the rendered content may depend on the width of the display. For a ""slim"" message with only short lines or a fixed layout this restores what is shown at the top. For messages that need line folding or such, the restored position may be off target.

Any feedback is welcome. And in the worst case this PR just serves to rule out a few ideas."
k9mail/k-9,closed,Plesse add export / import feature,[],"I have found a how-to for exporting and importing settings, but apparently this feature was removed meanwhile."
k9mail/k-9,open,Feature request for send and archive,[],"Dear all, 

Searched existing issues but couldn't find anything related. 

If would like to suggest a feature to directly send and archive a conversation. 

Thoughts? :-)"
k9mail/k-9,open,original message is missing on forward and changed from:,[],"### Expected behavior
The orignial message text should be included when forwarding and changing the from: address. This is what happens when forwarding without changing the from: address.
### Actual behavior
The original message is missing from the forwarded email.
### Steps to reproduce
1.have two gmail accounts setup
2.forward a message but change the from: address to the other account 
3.type in message text
4.send
5.get reply from confused recipient about missing original message referenced in forward email.

### Environment
K-9 Mail version:
5.208
Android version:
7.0 August 1, 2017 security update applied
Account type (IMAP, POP3, WebDAV/Exchange):
gmail default config IMAP"
k9mail/k-9,closed,don't default to prefer-encrypt mutual,[],"I left this TODO in the autocrypt-compose PR and kind of forgot about it. It's a fairly simple change, basically it just adds a boolean value to the conjunction in `canEncryptAndIsMutual` from the builder. The value is always false at the moment, but will become a setting at some point."
k9mail/k-9,open,"Support for ""pure"" IMAP workflow","[Label(name=""architecture""), Label(name=""enhancement"")]","I'm not sure whether this is an enhancement request, or if I've just not found the right combination of existing settings to do it yet, but here goes...

I'm one of those people who actually _like_ the IMAP way of handling deleted messages.  When I delete a message, I want it to be shown as deleted in some way, but stay put in the same folder.  I do _not_ want it to be moved (or appear to be moved) into any other folder, real or virtual.  I also don't want anything _ever_ to be lost permanently unless I ask for a folder to be expunged by some explicit action.

All of the desktop and webmail IMAP clients I've used allow the above (even Outlook!).  I've tried a few Android clients, and K-9 comes closest by a long way, which is great, but there are still some oddities that I don't seem to be able to get around:
* Some of the important options (eg. turning off all automatic expunging) only seem to become available once I've connected, or they need to be set on a per-folder basis - which risks K-9 expunging flagged messages before I've had a chance to tell it not to.
* The only option for handling the \Deleted flag seems to be to hide the message altogether.  This means I can never *un*delete a message without firing up a desktop client.  Flexible undeleting is one of the main advantages of having ""delete"" and ""expunge"" as separate actions.  ""Undo"" is not the same, as it's not always the most recently deleted message that needs to be restored.
* Some of the documentation talks about ""deleting"" messages on the server, but it's not always clear whether that means ""flag as \Deleted"" or ""delete permanently"" (ie. flag and immediately expunge), which are two very different things!
* It's not clear what happens when a message is moved to another folder: I want it to be copied to the destination and flagged as \Deleted in the source, but _not_ expunged (and it must certainly not have the side-effect of expunging _all_ deleted messages in the source folder, which I've seen happen with some clients!).

I do understand that there are legitimate questions over the correct way to handle expunging when multiple clients are connected to the same folder (eg. if client A flags a message \Deleted, and client B then expunges, the message could be lost even if client A was expecting it just to be flagged).  But I'm happy to live with those constraints, because in practice I'm only going to be actively using one client at a time, and UID EXPUNGE (does K-9 support that?) would mostly solve the problem anyway.

The main thing that perhaps needs code development is a way of showing \Deleted messages other than by hiding them altogether - whether that's with ""crossed out"" text, or some other kind of indication.  But I could probably even live without that, if I can find the right combination of settings to guarantee that K-9 never issues EXPUNGE unless I hit an expunge button!"
k9mail/k-9,open,K9 doesn't allow email address with apostrophe,"[Label(name=""architecture""), Label(name=""bug"")]","When creating a new account, K9 doesn't allow email addresses with apostrophe.

### Expected behavior
We should be able to add an account for an email address containing an apostrophe.

### Actual behavior
The buttons are disabled, we can't continue.

### Steps to reproduce
1. Try to add a new account with an apostrophe inside the email address ;
2. See the buttons which are disabled.

### Environment
K-9 Mail version: 5.208

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): Exchange
"
k9mail/k-9,closed,Fix MessageList.onRestoreInstanceState(),[],I don't know if the previous behavior was causing any issues in K-9 Mail. I stumbled over this while working on a fork.
k9mail/k-9,closed,Changing the mailbox separators,[],"On my server I changed the mailbox selarator from . to \.  How can I tell k9 to use from now on the new names, e.g. instead of the subscribed folder Abc.Def to use Abd\Def ?
"
k9mail/k-9,closed,SSL handshake fail with latest version,[],"Starting with version v5.208 k9 fails to connect to my IMAP server over TLS. Previous versions worked fine with my key setup and strict cipher list.

Now the logs from the dovecot IMAP server are:
```
dovecot: imap-login: Debug: SSL: elliptic curve secp384r1 will be used for ECDH and ECDHE key exchanges
dovecot: imap-login: Debug: SSL: elliptic curve secp384r1 will be used for ECDH and ECDHE key exchanges
dovecot: imap-login: Debug: SSL: where=0x10, ret=1: before/accept initialization []
dovecot: imap-login: Debug: SSL: where=0x2001, ret=1: before/accept initialization []
dovecot: imap-login: Warning: SSL alert: where=0x4008, ret=552: fatal handshake failure []
dovecot: imap-login: Debug: SSL: where=0x2002, ret=-1: error []
dovecot: imap-login: Debug: SSL: where=0x2002, ret=-1: error []
dovecot: imap-login: Debug: SSL alert: close notify []
dovecot: imap-login: Disconnected (no auth attempts in 0 secs): user=<>, rip=, lip=, TLS handshaking: SSL_accept() failed: error:1408A0C1:SSL routines:SSL3_GET_CLIENT_HELLO:no shared cipher, session=<0R4PMHlZJABdahq1>

```
### Environment
K-9 Mail version:
5.208, 5.300
Android version:
7
Account type (IMAP, POP3, WebDAV/Exchange):
Dovecot IMAP"
k9mail/k-9,closed,Some updates to MessageViewInfoExtractor,[],"I changed MessageViewInfoExtractor a little, making it more explicit when crypto is going on and when it isn't. I also got rid of `MessageCryptoSplitter` in the process, which was super tightly coupled to the extractor behavior in the first place.

The conditions under which a message is considered pgp-encrypted but no provider is installed are now also the way they really should be, which fixes #2776 

Oh and I nailed that behavior down with a bunch of tests. I ran the tests before and after, and only the tests that involve the ""openpgp no provider"" error state fail, all others attest to unchanged behavior."
k9mail/k-9,closed,S/MIME signed emails in sent folder misleadingly shown as PGP encrypted mails,"[Label(name=""bug"")]","### Expected behavior

I am using S/MIME to sign e-mails on my computer. When I open sent mails in k9 mail app on my smartphone the mail body is shown correctly, I can read the sent message, because it is just signed. I also see the attachment (signature file"" smime.p7s"") there.


### Actual behavior

Since last update the S/MIME signed mails are shown correctly in AutoPreview (I see text there), but after clicking on them to open the mail and read the full message. Instead a message ""this mail is encrypted / This e-mail is with OpenPGP encrypted. To read it you need compatible OpenPGP-App installed and configured / Choose OpenPGPG app"" appeaers and I have no chance to read the message.

### Steps to reproduce
1. use a s/mime to sign e-mails from your computer
2. open the sent mail on your smartphone with k9 mail app
3. then this message appears

### Environment
K-9 Mail version: 5.300 (installed 11th Sept. 2017)

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,Issue with bullet list shows <![if !supportLists]>·         <![endif]>,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Read window jumps to top when screen is rotated,[],"Hi,

When reading a mail, it happens (accidentally or not) that the phone is rotated. Ideally, the current reading position within the text should not change when changing from portrait to landscape mode or vice versa. For example, when while reading the 10th paragraph the phone is rotated, this paragraph should still be displayed after the rotation.

Unfortunately, K9 mail jumps all the way back to the top when the screen is rotated (and the display mode is changed from portrait to landscape or vice versa).
This behaviour is rather annoying because one needs to scroll down again to continue reading.

### Environment
K-9 Mail version: 5.208"
k9mail/k-9,closed,Print capability,[],K9 does  OT seem to possess a print capability or even a share capability like many other email programs.
k9mail/k-9,closed,[feature request] do not set `seen` flag on downloaded mails,"[Label(name=""enhancement"")]","I recently changed my mail setup to have K9 fetch mail from Dovecot IMAP server using a Maildir mail storage which is synchronized across multiple computers. Since then, each mail downloaded by K9 becomes flagged as ""seen"" and this changes Mutt handling of it.

This issue is to request a way to configure K9 so to request NOT to flag the mail as ""such"".

Note: this is not read/unread flag but something different (mutt renders these mails as ""O"" for ""old"", which means they are still unread but ""shown"" before [from+subject])."
k9mail/k-9,closed,Aplication error closes app,[],"### Expected behavior
When click on the name of an account, should go to the folders of that account

### Actual behavior
When you click on the name of an account, the applicarion closes

### Steps to reproduce
1. Import settings of an account
2. As always, the import doesnt import the password of the incoming and outgoing servers
3. Click on the folder icon of that account
4. Go to account configuration
5. Include passwords for incoming and outgoing servers
6. Go to k9mail principal screen (where the accounts are listed)
7. Click on the name of the account
8. The application closes
9. If you click on the folder icon, then it works right

### Environment
K-9 Mail version: 5.208

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): doesnt matter
"
k9mail/k-9,closed,[RFC] Still open provided remote folders,[],"This might solve #2765 and seems like the right thing to do.
"
k9mail/k-9,closed,Improve the message we get when we reach the end of stream,[],"It's hard to know what's going on here (though it might just be disconnection) - we can improve the logging a bit to diagnose these.

See #2766 "
k9mail/k-9,closed,OpenPGP Encryption dialog: Internationalise title and fix for dark theme,[],Noticed while browsing through OpenPGP code.
k9mail/k-9,closed,Remove K9mail-errors folder,[],:skull_and_crossbones: 
k9mail/k-9,open,End of stream reached while trying to read IDLE request response,"[Label(name=""bug"")]","I often get this error in the ""K9mail-errors"" folder.

K9-Mail version: 5.208
Device make: LGE
Device model: Nexus 4
Android version: 7.1.2

```
java.io.IOException: readStringUntil(): end of stream reached
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readStringUntil(ImapResponseParser.java:447)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.parseTaggedResponse(ImapResponseParser.java:287)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readTaggedResponse(ImapResponseParser.java:75)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readResponse(ImapResponseParser.java:44)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readResponse(ImapResponseParser.java:30)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readStatusResponse(ImapResponseParser.java:88)
	at com.fsck.k9.mail.store.imap.ImapConnection.readStatusResponse(ImapConnection.java:643)
	at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.sendIdle(ImapFolderPusher.java:310)
	at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.run(ImapFolderPusher.java:188)
	at java.lang.Thread.run(Thread.java:761)
```"
k9mail/k-9,open,Message count -1 for folder ...,"[Label(name=""bug"")]","I often get this error in the ""K9mail-errors"" folder.

K9-Mail version: 5.208
Device make: LGE
Device model: Nexus 4
Android version: 7.1.2

```
java.lang.Exception: Message count -1 for folder Entwürfe
 at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:913)
 at com.fsck.k9.controller.MessagingController$9.run(MessagingController.java:739)
 at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
 at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
 at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
 at java.lang.Thread.run(Thread.java:761)
```"
k9mail/k-9,closed,"Do want ""show only unread"" so I can easily browse folders with mails like reports",[],"### Expected behavior
Good solution would be enabling filtering all <-> unread/starred via pinching/zooming. As a BlackBerry user I like how it's done on BlackBerry Hub — you are just pinching mail list and all unread messages are hidden, you zoom to get them all back.

Same can be done for folders all <-> have unread/1st class/except 2nd class. You know, I have a few dozens of 'em…

### Actual behavior
I can't find how I can select only unread messages and how can I switch between them easily. There's a sorting, but when you page through emails you can't be sure that you ain't already in the ""read"" space.

### Environment
K-9 Mail version:
5.208

Android version:
4.3

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Improve crypto structure detection,[],"This PR does three things:
- makes the detection of crypto structures more rigid: multipart/encrypted and multipart/signed will only be considered valid if they have a matching protocol parameter and part structure. This fixes #2758
- improves naming of methods for working on crypto part structure, and more clearly splits up responsibilities. in particular, multipart/* detection now happens independently from openpgp. also the historically named ""MessageDecryptVerifier"" has been renamed to ""MessageCryptoStructureDetector"", actually describing what the class does
- nicer test structure for MessageCryptoHelper"
k9mail/k-9,closed,does not replace or update k-9 accounts widget,[],"upgraded from 5.207 to 5.300
does not update or replace my existing k-9 accounts widget"
k9mail/k-9,open,saved draft mail looses text on opening again,[],"### Expected behavior
sometimes I write mails in several steps. in between I save this as draft. in the drawer I see the draft including the text, 
![screenshot_2017-09-13-08-30-19](https://user-images.githubusercontent.com/19346144/30365182-392ca5a2-9867-11e7-9da8-b0f828c87124.png)
but when I open it again for editing the text has gone away. 
![screenshot_2017-09-13-08-30-33](https://user-images.githubusercontent.com/19346144/30365181-392bda96-9867-11e7-899d-3e3804440c1a.png)
### Actual behavior
the draft should be loaded completely into the editor again. 
Might be that it is loaded, but not shown?

### Steps to reproduce
1. write a new e-mail
2. safe as draft and check, if it is in the remote draft drawer of the account
3. leave drawer, go into drawer, see mail in list and open to edit.

### Environment
K-9 Mail version: 5.2.0.8

Android version: 4.2.2

Account type (IMAP):
"
k9mail/k-9,open,Problems sending some messages via SMTP,[],"An important customer (my wife!) has an issue when sending some messages from K-9.

She is using a Samsung Tablet with the latest version (no newer version available via the Google Play store) of K-9. (If necessary I can get exact version info. for K-9 / Android when I am back at home - on a business trip.)

Newly composed messages are sent to a Postfix SMTP server. Usually this works perfectly, however occasionally a message remains in the outbox and is not sent. There is no obvious feedback from K-9 as to why.

On investigation it appears that the issue often occurs when the message has a large number of recipients i.e. in the To or Cc fields. Messages that are sent to just a few recipients (e.g. 2 .. 5) are generally sent without any problem.

I don't see any configuration setting (e.g. anti spam/UCE) on the Postfix server side that would cause this. 

What I have noticed in the log messages is that for these failed messages, Postfix considers the SMTP session to have terminated abnormally. When a session ends abnormally, Postfix logs some additional status/statistics information. For example:
`Sep 11 18:28:26 dna postfix/submission/smtpd[14316]: disconnect from p2E545E40.dip0.t-ipconnect.de[46.84.94.64] ehlo=2 starttls=1 auth=1 mail=1 rcpt=17/18 quit=1 unknown=0/1 commands=23/25
Sep 11 18:28:49 dna postfix/submission/smtpd[14316]: disconnect from p2E545E40.dip0.t-ipconnect.de[46.84.94.64] ehlo=2 starttls=1 auth=1 mail=1 rcpt=21/22 quit=1 unknown=0/1 commands=27/29
Sep 11 18:32:43 dna postfix/submission/smtpd[23066]: disconnect from p2E545E40.dip0.t-ipconnect.de[46.84.94.64] ehlo=2 starttls=1 auth=1 mail=1 rcpt=21/22 quit=1 unknown=0/1 commands=27/29
Sep 11 18:34:34 dna postfix/submission/smtpd[19958]: disconnect from p2E545E40.dip0.t-ipconnect.de[46.84.94.64] ehlo=2 starttls=1 auth=1 mail=1 rcpt=21/22 quit=1 unknown=0/1 commands=27/29
`
The ""action=X/Y"" counts indicate something abnormal happened: ""X"" is the count of good commands/actions, while ""Y"" is the total count. I noticed that in each instance there are two bad commands, one bad recipient and one unknown action. Could it be that longer recipient/to/cc lists/arguments are getting truncated or corrupted? Or is it possible that one of the recipient addresses sent by K-9 is misinterpreted as a command by Postfix?

The recipients addresses are selected from the devices contacts database via the K-9 UI and are apparently considered OK by K-9 at the time the message is being composed. 

FYI, normal (successful) sessions are logged as follows:
`Sep 12 00:54:17 dna postfix/submission/smtpd[8327]: disconnect from p2E545E40.dip0.t-ipconnect.de[46.84.94.64] ehlo=2 starttls=1 auth=1 mail=1 rcpt=1 data=1 quit=1 commands=8
Sep 12 09:20:48 dna postfix/submission/smtpd[14362]: disconnect from p2E545FEE.dip0.t-ipconnect.de[46.84.95.238] ehlo=2 starttls=1 auth=1 mail=1 rcpt=16 data=1 quit=1 commands=23
Sep 12 21:13:43 dna postfix/submission/smtpd[27650]: disconnect from p2E545FEE.dip0.t-ipconnect.de[46.84.95.238] ehlo=2 starttls=1 auth=1 mail=1 rcpt=3 data=1 quit=1 commands=10
`
I also use K-9 (on a different device) to the same server and have not had this problem, but I typically  send any individual message to only a limited number of addresses.

I have enabled Postfix debug logging, but the changing client IP address is making it difficult to catch the issue.

I didn't find any similar defects reported in the tracking database.
"
k9mail/k-9,closed,add a config option to control whether or not prompt to include a copy of the message(s) being replied to.,[],"### Expected behavior
add config option akin to what mutt has here:
http://www.mutt.org/doc/manual/#include

### Actual behavior
feature missing

### Steps to reproduce
N/A

### Environment
K-9 Mail version: * versions

Android version: * versions

Account type (IMAP, POP3, WebDAV/Exchange): N/A
"
k9mail/k-9,closed,IndexOutOfBounds with Multipart/Signed with only 1 part,"[Label(name=""bug"")]","### Expected behavior
Should see the Email

### Actual behavior
App crashes

### Steps to reproduce
Open a specific Email (I only have one Email where this happens)
This Email has no attachment

### Environment
K-9 Mail version: 5.208
Android version: 7.1.2 (LineageOS)
Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Log:
```
09-11 17:32:50.135 D/k9      (31893): MessageView displaying message MessageReference{accountUuid='b213f70e-f05f-4d42-b37c-6ccb377537d0', folderName='INBOX', uid='701', flag=null}
09-11 17:32:50.135 D/k9      (31893): Creating new local message loader
09-11 17:32:50.477 E/AndroidRuntime(31893): FATAL EXCEPTION: main
09-11 17:32:50.477 E/AndroidRuntime(31893): Process: com.fsck.k9, PID: 31893
09-11 17:32:50.477 E/AndroidRuntime(31893): java.lang.IndexOutOfBoundsException: Index: 1, Size: 1
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at java.util.ArrayList.get(ArrayList.java:411)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at com.fsck.k9.mail.Multipart.getBodyPart(Multipart.java:24)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at com.fsck.k9.crypto.MessageDecryptVerifier.getSignatureData(MessageDecryptVerifier.java:202)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at com.fsck.k9.ui.crypto.MessageCryptoHelper.callAsyncDetachedVerify(MessageCryptoHelper.java:352)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at com.fsck.k9.ui.crypto.MessageCryptoHelper.decryptVerify(MessageCryptoHelper.java:260)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at com.fsck.k9.ui.crypto.MessageCryptoHelper.decryptOrVerifyPart(MessageCryptoHelper.java:238)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at com.fsck.k9.ui.crypto.MessageCryptoHelper.startDecryptingOrVerifyingPart(MessageCryptoHelper.java:204)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at com.fsck.k9.ui.crypto.MessageCryptoHelper.decryptOrVerifyNextPart(MessageCryptoHelper.java:197)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at com.fsck.k9.ui.crypto.MessageCryptoHelper.access$200(MessageCryptoHelper.java:58)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at com.fsck.k9.ui.crypto.MessageCryptoHelper$1.onBound(MessageCryptoHelper.java:219)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at org.openintents.openpgp.util.OpenPgpServiceConnection$1.onServiceConnected(OpenPgpServiceConnection.java:81)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1453)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1481)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at android.os.Handler.handleCallback(Handler.java:751)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at android.os.Handler.dispatchMessage(Handler.java:95)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at android.os.Looper.loop(Looper.java:154)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at android.app.ActivityThread.main(ActivityThread.java:6186)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at java.lang.reflect.Method.invoke(Native Method)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)
09-11 17:32:50.477 E/AndroidRuntime(31893): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)
```"
k9mail/k-9,closed,use differently colored icon for debug build,[],"Now that the releases have the material icon, it's hard to distinguish. I used my limited inkscape skills to color the icon blue. I'm sure designers would have chosen a different tone of blue, but for me it works as intended :)"
k9mail/k-9,open,NPE while trying to compose email from MessageList,"[Label(name=""bug"")]","    package name: com.fsck.k9
    version: 5.205
    target sdk version: android-18
    java.lang.NullPointerException
        at com.fsck.k9.activity.compose.MessageActions.actionCompose(MessageActions.java:19)
        at com.fsck.k9.activity.MessageList.onCompose(MessageList.java:1265)
        at com.fsck.k9.fragment.MessageListFragment.onCompose(MessageListFragment.java:1016)
        at com.fsck.k9.activity.MessageList.onOptionsItemSelected(MessageList.java:800)
        at android.app.Activity.onMenuItemSelected(Activity.java:2566)
        at com.android.internal.policy.impl.PhoneWindow.onMenuItemSelected(PhoneWindow.java:986)
        at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:742)
         at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:152)
        at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:881)
        at com.android.internal.view.menu.ActionMenuView.invokeItem(ActionMenuView.java:547)
        at com.android.internal.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:115)
        at android.view.View.performClick(View.java:4240)
        at android.view.View.onKeyUp(View.java:7928)
        at android.widget.TextView.onKeyUp(TextView.java:5552)
        at android.view.KeyEvent.dispatch(KeyEvent.java:2647)
        at android.view.View.dispatchKeyEvent(View.java:7343)
        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1393)
        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1393)
        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1393)
        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1393)
        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1393)
        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1393)
        at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchKeyEvent(PhoneWindow.java:1933)
        at com.android.internal.policy.impl.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1408)
        at android.app.Activity.dispatchKeyEvent(Activity.java:2384)
        at com.fsck.k9.activity.MessageList.dispatchKeyEvent(MessageList.java:567)
        at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchKeyEvent(PhoneWindow.java:1860)
        at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent(ViewRootImpl.java:3791)
 	at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:3774)
 	at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3379)
 	at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3429)
 	at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3398)
 	at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3483)
 	at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3406)
 	at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:3540)
 	at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3379)
 	at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3429)
 	at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3398)
 	at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3406)
 	at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3379)
 	at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3429)
 	at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3398)
 	at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3516)
 	at android.view.ViewRootImpl$ImeInputStage.onFinishedInputEvent(ViewRootImpl.java:3666)
 	at android.view.inputmethod.InputMethodManager$PendingEvent.run(InputMethodManager.java:1982)
 	at android.view.inputmethod.InputMethodManager.invokeFinishedInputEventCallback(InputMethodManager.java:1698)
 	at android.view.inputmethod.InputMethodManager.finishedInputEvent(InputMethodManager.java:1689)
 	at android.view.inputmethod.InputMethodManager$ImeInputEventSender.onInputEventFinished(InputMethodManager.java:1959)
 	at android.view.InputEventSender.dispatchInputEventFinished(InputEventSender.java:141)
 	at android.os.MessageQueue.nativePollOnce(Native Method)
 	at android.os.MessageQueue.next(MessageQueue.java:132)
 	at android.os.Looper.loop(Looper.java:124)"
k9mail/k-9,open,RuntimeException: Parcel android.os.Parcel@ad26d578: Unmarshalling unknown type code 2131492893 at offset 1352,[],"//package name: com.fsck.k9
//version: 5.205
//target sdk version: android-18
 java.lang.RuntimeException: Unable to start activity ComponentInfo{com.fsck.k9.debug/com.fsck.k9.activity.setup.AccountSetupBasics}: java.lang.RuntimeException: Parcel android.os.Parcel@ad26d578: Unmarshalling unknown type code 2131492893 at offset 1352
 	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2211)
 	at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2261)
 	at android.app.ActivityThread.access$600(ActivityThread.java:141)
 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1256)
 	at android.os.Handler.dispatchMessage(Handler.java:99)
 	at android.os.Looper.loop(Looper.java:137)
 	at android.app.ActivityThread.main(ActivityThread.java:5103)
 	at java.lang.reflect.Method.invokeNative(Native Method)
 	at java.lang.reflect.Method.invoke(Method.java:525)
 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)
 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
 	at dalvik.system.NativeStart.main(Native Method)
 Caused by: java.lang.RuntimeException: Parcel android.os.Parcel@ad26d578: Unmarshalling unknown type code 2131492893 at offset 1352
 	at android.os.Parcel.readValue(Parcel.java:2038)
 	at android.os.Parcel.readSparseArrayInternal(Parcel.java:2284)
 	at android.os.Parcel.readSparseArray(Parcel.java:1693)
 	at android.os.Parcel.readValue(Parcel.java:2028)
 	at android.os.Parcel.readMapInternal(Parcel.java:2255)
 	at android.os.Bundle.unparcel(Bundle.java:223)
 	at android.os.Bundle.getSparseParcelableArray(Bundle.java:1237)
 	at com.android.internal.policy.impl.PhoneWindow.restoreHierarchyState(PhoneWindow.java:1644)
 	at android.app.Activity.onRestoreInstanceState(Activity.java:938)
 	at com.fsck.k9.activity.setup.AccountSetupBasics.onRestoreInstanceState(AccountSetupBasics.java:124)
 	at android.app.Activity.performRestoreInstanceState(Activity.java:910)
 	at android.app.Instrumentation.callActivityOnRestoreInstanceState(Instrumentation.java:1138)
 	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2189)"
k9mail/k-9,closed,NullPointerException,[],"//package name: com.fsck.k9
//version: 5.205
//target sdk version: android-18
 java.lang.NullPointerException
 	at com.fsck.k9.activity.compose.MessageActions.actionCompose(MessageActions.java:19)
 	at com.fsck.k9.activity.MessageList.onCompose(MessageList.java:1265)
 	at com.fsck.k9.fragment.MessageListFragment.onCompose(MessageListFragment.java:1016)
 	at com.fsck.k9.activity.MessageList.onOptionsItemSelected(MessageList.java:800)
 	at android.app.Activity.onMenuItemSelected(Activity.java:2566)
 	at com.android.internal.policy.impl.PhoneWindow.onMenuItemSelected(PhoneWindow.java:986)
 	at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:742)
 	at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:152)
 	at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:881)
 	at com.android.internal.view.menu.ActionMenuView.invokeItem(ActionMenuView.java:547)
 	at com.android.internal.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:115)
 	at android.view.View.performClick(View.java:4240)
 	at android.view.View$PerformClick.run(View.java:17721)
 	at android.os.Handler.handleCallback(Handler.java:730)
 	at android.os.Handler.dispatchMessage(Handler.java:92)
 	at android.os.Looper.loop(Looper.java:137)
 	at android.app.ActivityThread.main(ActivityThread.java:5103)
 	at java.lang.reflect.Method.invokeNative(Native Method)
 	at java.lang.reflect.Method.invoke(Method.java:525)
 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)
 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
 	at dalvik.system.NativeStart.main(Native Method)"
k9mail/k-9,closed,Use ProGuard to strip unused code in release builds,"[Label(name=""don't merge"")]","Smaller APKs are nice.

We'll probably want to configure Cloudbees to also test the release build variant. That way we'll hopefully catch cases where ProGuard removes code that is actually needed."
k9mail/k-9,closed,Update changelog for 5.300,[],"Same as before, sans the ""removed language setting"" entry"
k9mail/k-9,closed,Bring back language selection setting,[],Bring back the language setting so we can support languages not supported by Android itself :(
k9mail/k-9,open,Subfolders implementation,"[Label(name=""don't merge"")]","This is the diff against the remoteFolderId branch, which it relies on heavily.

Implements #630

Does not implement checking for \Noinferiors from RFC 2060 or any of RFC3348. Implementing this would improve user experience but is probably not mandatory. 

Unlike the remote folders PR this one's a bit more experimental. A lot of it is hand-wavy design and some investigation into what the ticket requires. When the redesign happens then that will obviously require this feature to be re-written."
k9mail/k-9,closed,Update changelog for 5.300,[],It's possible the inclusion of Esperanto is useless without the language selection setting. Maybe we have to bring it back.
k9mail/k-9,closed,Update translations,[],"Pulled translations from Transifex.

"
k9mail/k-9,closed,Feature Request: native s/mime support,[],"Please add a native support for s/mime certificates, that can be stored within k9."
k9mail/k-9,closed,Feature Request: autocomplete previously used email addresses,[],"I am missing the autocomplete function for email addresses that are not stored in the android addressbook (as the basic android app does). Please add an internal database, that stores such addresses (e.g. after having sent a mail to it). I do not want to save every new address in my addressbook."
k9mail/k-9,closed,Change Tester links to go directly to Google Play,[],"The wiki pages have been deleted but we still have the Google Play test system. So updating the links to point to that.
"
k9mail/k-9,closed,Upgrade MIME4J to latest release,[],"This updates us to the latest (still old) release of Apache MIME4J. It's a pretty minimal change in terms of code. It'll probably need a reasonable amount of testing.

Unfortunately it doesn't add the internationalisation stuff.

See change-list: https://gist.github.com/philipwhiuk/7d4bcf994b3a3247cf7e3819356d7241

"
k9mail/k-9,closed,Fix retrieval of contact photos,[],"Add the PHOTO_URI column to the projection so it's actually there when we come to look for it 

This allows actual fetching of contact photos on my device and stops the:

`Failed to read row 0, column -1 from a CursorWindow` messages in the logs.


"
k9mail/k-9,closed,Reply icon missing in email view,[],"### Expected behavior
In full screen single email view, there should be a reply icon.

### Actual behavior
With so called setting ""display size""  (dpi of screen) set to small (everything gets smaller) there is no reply icon as you can see on the screenshot.
![img_20170908_103803](https://user-images.githubusercontent.com/5803281/30203264-d6517270-9481-11e7-905b-1a5a0948c4dd.jpg)


### Steps to reproduce
1. Set display size to small (possible with lineageos) 
2. view email
3. there is no reply icon
4. set display size to normal, the icon appears

### Environment
K-9 Mail version: 5.208

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,iCal (ICS) support,"[Label(name=""don't merge"")]","So I've improved this PR, rebased it etc etc. I added support for insecure iCal parts (when I originally wrote the PR I didn't understand `extraParts`. I made some slight refactoring to make it clearer what extra parts were). I don't want to show every possible thing in the iCal spec - that's the point of a calendar app. I've just made it usable for the stuff you get in a typical event.

This PR still only supports **reading** the common iCal events. It doesn't support responding to them inside K-9. Outlook has a nice 'Accept / Tentative / Decline' thing which I'm tempted to implement. But that can be a separate PR - this stands up fine on it's own.

You can still download and open the iCal file corresponding to an event in Google if you want to."
k9mail/k-9,closed,Predictive text while entering addresses,"[Label(name=""needs info"")]","Up to a few days ago, when I entered an address in a destination field (such a To:), predictive text was active. Now it no longer works. It is turned on and it works fine when entering the message itself and even the Subject line, but not for addresses. 

### Environment
K-9 Mail version: 5.208

Android version: 7.0 Build NRD90M G930W8VLU2BQH1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Add Kotlin for tests,[],This converts two test classes to Kotlin and introduces the assertion framework [Truth](https://google.github.io/truth/).
k9mail/k-9,closed,Adding folder ID. Considerable refactoring and improvements,"[Label(name=""don't merge""), Label(name=""needs rebase"")]","~~There's still some stuff outstanding, notably settings migration and a tiny bit of DB migration left to do. But this gets the ball rolling.~~ EDIT: If you can think of missing stuff let me know.

There's I guess 5 parts:

1. Reworking a migration class to use less of the store.
2. Rewriting the POP3 store to match IMAP and WebDav design
3. Testing the heck out of the POP3 store
4. Documentation of the stores in more detail (prep work for EWS)
5. Adding the getID() and using it everywhere it ought to be used.  (Biggest piece of work and responsible for most of the commits)."
k9mail/k-9,closed,Disable WebView caching of inline images on API 21+,[],Disable caching of inline images (referenced via `cid:` URI) on Android versions 5.0 and newer. This should avoid the problems described in issue #2699.
k9mail/k-9,open,"[5.207] Sent mail appears in both Sent and Trash folders, sometimes doubled",[],"I was checking 'Sent' folder and I have 2 recently sent mails appearing twice. Also, checked on server (outlook website), and indeed 2 copies of both mail appears.
So it appears that mail has been sent twice, will make sure with recipient and update.
In addition, sent mail also appears in 'Trash' folder.

So, there is a couple of issues with sending mail and drafts.

IMAP: imap-mail.outlook.com 
SMTP: smtp-mail.outlook.com


- All sent mail appears in 'Sent' folder and 'Trash' folder.
Which might mean it saves mail, sends mail, moving/creating a copy in Sent folder, and then deletes a copy which creates a copy in Trash folder?
Sent mail should only be in Sent folder not in both Sent and Trash folder.
- Some mail are being sent twice, (2 copies in Sent folder, 1 copy in Trash)
This might be linked to Drafts or when switching out of app and back to compose, somewhere along the line 2 links to mail are being created and sent?      

UPDATE:
For some reason I have some sent mail appearing twice in Sent folder and twice in Trash folder.
After refreshing trash folder some of the sent mail now are appearing twice in Trash as well.
Syncing with server issue?
Strange, I never noticed this issue before.
I used to use primarily pop3 and I do not think I came across this.
Now, even drafts appear twice in Trash after being deleted.
- I tested it by creating a mail draft. 
- Refreshing Draft folder
- Deleting mail draft
- refresh Trash folder
- deleted draft now appears twice in Trash folder
So, is it a server syncing issue?
 
I think it is a server syncing issue. After mail is sent, a copy is moved to both Sent folder and Trash folder locally (still an issue). And when you refresh folders, somehow it does not realize message is same locally and server, so downloads recently synced message again?

EDIT:
This issue might be related to #2705

Still happens on latest 5.300 pre-release:
![](https://i.imgur.com/a17XErL.png)"
k9mail/k-9,closed,K9 Mail error: Failed to send some messages - Negative SMTP reply: 553,[],"I recently started getting the following error when trying to send an email on my android device via K9 mail:
Failed to send some messages - Negative SMTP reply: 553

The issue consistently happens on my zoho mail account, and only occasionally on my Gmail account as well.

### Expected behavior
when I send and email, it should be successfully sent and should show up in the sent folder

### Actual behavior
message does not appear in either the ""sent"" folder or the ""outbox"" folder
message shows up in the ""drafts"" folder and then disappears upon refresh of the ""drafts"" folder

### Steps to reproduce
1. compose an email in K9 mail app using Zoho mail account
2. click ""Send""


### Environment
K-9 Mail version: 5.207

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,[Feature] PGP Signature,[],"Hi,

Is it possible to add an option to sign automatically all emails ? 

Actually for each even if I don't want to encrypt it with pgp, we can't tell k9mail to always sign it.

I'm using K9 5.208, with openkeychain.

Thanks"
k9mail/k-9,closed,Pleas support RFC 6186,[],"hi,

please add support for RFC6168 to k9mail for service discovery."
k9mail/k-9,closed,Rich Text Editor,[],"Enhancement Request: Full(er) Rich Text Editing

### Expected behavior
I would love to have a more full-featured Rich-Text editor, ala the paid version of K-@ Mail (which is of course based on K-9, my go to generally). 

### Actual behavior
I can't do much formatting beyond basic text formatting. No lists, headings, blockquote, tables or other such.

### Steps to reproduce
Use the editor and try and cut and past a list or similar. It doesn't hold the formatting. Interestingly the app shows text formatted and sent quite well, just not in the editing section.

### Environment
K-9 Mail version: 5.207 Latest (but in all versions)

Android version: 7.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP and POP3
"
k9mail/k-9,open,Modernise Pop3Store,"[Label(name=""architecture""), Label(name=""enhancement"")]","It's now terribly obvious it doesn't get much time. Nested classes abound and there's no separation between the Folder and the Connection.

Also it should probably be better tested."
k9mail/k-9,open,Migrations should not depend on the Account/LocalStore/Folder/Message classes,"[Label(name=""architecture"")]","`MigrationTo55` (and possibly others) currently uses the `LocalStore` to fetch folders to fetch messages to build the full text search system. This is broken because it means you can't modify the structure of (for example) the folders table - if you do, `MigrationTo55` will fail because the `LocalStore` (which uses the post-migrated structure) will try to run on the pre-migrated structure. 

It's more leg work (and may involve some code duplication), but migrations should really avoid using any `Local` classes. In fact the `MigrationsHelper` probably should be deleted and anything that uses it reworked.

### Expected behavior
I can modify the Local Store SQL statements and add a migration step to update the structure

### Actual behavior
The migration fails on MigrationTo55
"
k9mail/k-9,open,Separate folder name from remote folder ID,"[Label(name=""architecture""), Label(name=""enhancement"")]","I've been looking into various folder related issues recently and I've come to the conclusion we need to introduce the concept of remote folder ID.

This will help in the following circumstances:

1. For #630 we will be able to use the folder name as the actual name (i.e. Computing.K9 will become K9.
2. For #1342 we will be able to uniquely identify folders as to which namespace they are under
3. For #606 we will then be able to support EWS which mostly uses a 'unique ID' to reference folders rather than name.

This will impact the following areas of code:

### Database Structure

The folders table will have a new column, `remoteID`

Existing folders will have their current folderName copied to the remoteID column during migration.

### Stores

All access to folders will be via the ID, not the name. Hence the folder cache will map from ID to `Folder<?>`

When the folder list is refreshed (`getPersonalNamespaces()` [which is by the way a terribly IMAP specific name]) we can update the name of existing folders."
k9mail/k-9,closed,Importance (RFC 2156) and X-Priority support,[],"A reworked and rebased version of #2426 tested against Microsoft Outlook.

See notes on supported headers: https://www.chilkatsoft.com/p/p_471.asp

Given even Microsoft no longer sends `X-MSMail-Priority` I didn't add it.
"
k9mail/k-9,closed,Exclude DS_Store,[],Trivial change to improve life on Mac.
k9mail/k-9,closed,Make folder search hint uppercase,[],"Looks ugly to me lowercase. I never use this feature (I probably should I have loads of folders) so I hadn't seen it before. 

I was tempted to remove 'contains' too.


"
k9mail/k-9,closed,Handling RFC2047 non-compliant splitting of characters ,[],From #2722 
k9mail/k-9,closed,Pipeline support,[],This picks up @YESALAM's smtp pipelining. I made a new PR because I couldn't force-push to his branch directly. See the original PR #2388 for details.
k9mail/k-9,closed,Sending mail fails with Android 8.0 (certificate errors),[],"Attempting to send mail is failing since upgrading my Pixel to Android 8.0 (Oreo).

I get notifications with ""Failed to send some messages SSLHandshakeException: Connection closed by peer"" and ""Certificate error for linux-foundation  Check your server settings"".

I freshly installed K-@ mail and it's doing the same thing.

SMTP server: mail.linuxfoundation.org
Security: STARTTLS
Port: 587
Require Sign-in: Y
Username: ....
Authentication: Normal password

### Environment
K-9 Mail version: 5.207

Android version: 8.0.0

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP (but receive works OK)
"
k9mail/k-9,closed,Handling RFC2047 non-compliant splitting of characters,[],Implementing handling of RFC2047 non-compliant behaviour - from #2719 feedback
k9mail/k-9,closed,Clear cache to prevent images from previous emails from being shown,[],See #2699 
k9mail/k-9,closed,Issue 162 - Local Messages,[],"I'm opening this PR mostly as a reminder of this long abandoned code.

We should try and re-base and re-work this code to match the way we want to work in the modern architecture. Honestly that probably does mean a re-write but it would be nice to get this branch closed off.

"
k9mail/k-9,closed,Some more decoder tests - see #2499,[],"Just a few extra tests to cover some of the behaviour being used here.
"
k9mail/k-9,closed,Add note about UI changes to Pull Request GitHub template,[],Makes it easy to understand what the person making those kind of changes is meaning.
k9mail/k-9,closed,"If From & To ""to long"" it show ""null"" instead of the e-mail/name ","[Label(name=""bug"")]","If From & To string might be ""to long"" it shows ""null"" instead of the e-mail/name.
Also if ""invalid"" e-mail-strings like ""Domains <@info>"" were used.

So far I can see:
From: Length of 75 character shows, with 78 character -> null
To: Total length with 63 characters shows ""null"".

This happens in e-mail overview listing and at the single e-mail view ()

Android 7.0, K9 5.207

### Expected behavior
at least shortened String. of existing From/To

### Actual behavior
If From & To string might be ""to long"" it shows ""null"" instead of the e-mail/name.

So far I can see:
From: Length of 75 character shows, with 78 character -> null
To: Total length with 63 characters shows ""null"".


### Steps to reproduce
Open e-mail in overview and detail.

### Environment
K-9 Mail version: K9 5.207

Android version: Android 7.0 (Samsung)

Account type (IMAP, POP3, WebDAV/Exchange):
Independent from Account Type.

"
k9mail/k-9,closed,"Move save/restore of ""show pictures"" button state into MessageTopView",[],"This is an attempt to fix #2685.

Saving/restoring the visibility state of the ""show pictures"" button in `MessageContainerView` did not work, since restoring happens long before this object is created. This change moves it into `MessageTopView`.

As a side-effect, if the button was clicked before the save/restore cycle, and thus the network data in the `MessageWebView` was unblocked, it will now also be unblocked in the new `MessageWebView` after restoring, like for example after an orientation change. Previously, network data was always initially blocked in `MessageWebView` (depending just on the setting of ""Always show images"") until ""show pictures"" was clicked."
k9mail/k-9,closed,Fix ActivityListener crash due to concurrent modification,[],"`ActivityListener` accesses its field from both background threads and the main thread without locking. That leads to quite a few `NullPointerException`s for our users. This PR adds proper locking.

Fixes #2714"
k9mail/k-9,closed,Crash in ActivityListener.getActionInProgressOperation(),[],"Reported via Google Play

```
java.lang.NullPointerException: 
  at com.fsck.k9.activity.ActivityListener.getActionInProgressOperation (ActivityListener.java:67)
  at com.fsck.k9.activity.ActivityListener.getOperation (ActivityListener.java:39)
  at com.fsck.k9.activity.Accounts$AccountsHandler.setViewTitle (Accounts.java:161)
  at com.fsck.k9.activity.Accounts$AccountsHandler.access$400 (Accounts.java:150)
  at com.fsck.k9.activity.Accounts$AccountsHandler$1.run (Accounts.java:173)
  at android.os.Handler.handleCallback (Handler.java:751)
  at android.os.Handler.dispatchMessage (Handler.java:95)
  at android.os.Looper.loop (Looper.java:154)
  at android.app.ActivityThread.main (ActivityThread.java:6692)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1468)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1358)
```

https://github.com/k9mail/k-9/blob/cd0f48ba05b4885ea820ef566b135865532366b0/k9mail/src/main/java/com/fsck/k9/activity/ActivityListener.java#L66-L67

~This is super odd. `Account.getInboxFolderName()` should never return `null`. Even if `Account` is modified by another thread during the first and second call to `Account.getInboxFolderName()`.~
It's probably `mAccount` that is set to `null`."
k9mail/k-9,open,Improve database structure,"[Label(name=""architecture"")]","Raising from #769 comments

### Expected behavior
Database structure should be documented, logical, split into small, easily maintainable tables.

### Actual behavior
Database structure is hard to follow, hard to maintain and fragile. Classes like the MessageListFragment do a single query to retrieve all their data and it's hard to know how well this is tested (probably badly

### Steps to fix

1. Document current database structure.
2. Test MessageListFragment cursor API and other similar core classes, extracting code where necessary
3. Write improved database structure
4. Write migration step"
k9mail/k-9,closed,Rework check to fix NPE,[],"Fixes #2708 

The Google Code comment is now not very useful as Google Code is dead but it's fairly obvious what should be happening there.
"
k9mail/k-9,closed,add tests for MessageCryptoHelper,[],"This class has been criminally undertested, which came back to bite me in the autocrypt branches once too often. So here's a bunch of tests to check basic functionality. Also includes a bunch of related changes to make testing easier."
k9mail/k-9,open,Add support for MULTIAPPEND,[],"As specified in [RFC 3502](https://tools.ietf.org/html/rfc3502)


"
k9mail/k-9,closed,corrupted mail headers when To/Cc longer than 1024 characters,[],"### Expected behavior
When answering an email with the following `To` line:

    To: test1@broken.k9mail.example.com, test2@broken.k9mail.example.com, test3@broken.k9mail.example.com, test4@broken.k9mail.example.com, test5@broken.k9mail.example.com, test6@broken.k9mail.example.com, test7@broken.k9mail.example.com, test8@broken.k9mail.example.com, test9@broken.k9mail.example.com, test10@broken.k9mail.example.com, test11@broken.k9mail.example.com, test12@broken.k9mail.example.com, test13@broken.k9mail.example.com, test14@broken.k9mail.example.com, test15@broken.k9mail.example.com, test16@broken.k9mail.example.com, test17@broken.k9mail.example.com, test18@broken.k9mail.example.com, test19@broken.k9mail.example.com, test20@broken.k9mail.example.com, test21@broken.k9mail.example.com, test22@broken.k9mail.example.com, test23@broken.k9mail.example.com, test24@broken.k9mail.example.com, test25@broken.k9mail.example.com, test26@broken.k9mail.example.com, test27@broken.k9mail.example.com, test28@broken.k9mail.example.com, test29@broken.k9mail.example.com, test30@broken.k9mail.example.com, test31@broken.k9mail.example.com, test32@broken.k9mail.example.com

I expect that the answer has correctly formatted headers.

### Actual behavior
The mail K9 generates looks like this:

```
<other headers>
To:

test1@broken.k9mail.example.com,test2@broken.k9mail.example.com,test3@broken.k9mail.example.com,test4@broken.k9mail.example.com,test5@broken.k9mail.example.com,test6@broken.k9mail.example.com,test7@broken.k9mail.example.com,test8@broken.k9mail.example.com,test9@broken.k9mail.example.com,test10@broken.k9mail.example.com,test11@broken.k9mail.example.com,test12@broken.k9mail.example.com,test13@broken.k9mail.example.com,test14@broken.k9mail.example.com,test15@broken.k9mail.example.com,test16@broken.k9mail.example.com,test17@broken.k9mail.example.com,test18@broken.k9mail.example.com,test19@broken.k9mail.example.com,test20@broken.k9mail.example.com,test21@broken.k9mail.example.com,test22@broken.k9mail.example.com,test23@broken.k9mail.example.com,test24@broken.k9mail.example.com,test25@broken.k9mail.example.com,test26@broken.k9mail.example.com,test27@broken.k9mail.example.com,test28@broken.k9mail.example.com,test29@broken.k9mail.example.com,test30@broken.k9mail.example.com,test31@broken.k9mail.example.com,test32@broken.k9mail.example.com
From: Evgeni Golov <evgeni@golov.de>
Message-ID: <1ED16679-4CF3-45FF-B55F-F879AB5564BD@golov.de>

<the real message body>
```

Due to the empty line between `To:` and the address list, the addresses and the `From` is not considered to be headers anymore, but message body. Thus the mail looks like it has neither a recipient nor a sender (and that triggers spam filters).

### Steps to reproduce
1. Answer (or write?, did not test that) an E-Mail which has a `To` or `Cc` field longer than 1024 characters

### Environment
K-9 Mail version:
5.207

Android version:
* Android 7.1.1  (OxygenOS 4.1.7) on OnePlus 3
* also observed on other Android versions

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (should not matter)"
k9mail/k-9,closed,Crash when activating an account,"[Label(name=""bug"")]","I updated some weeks ago to a new phone with android nougat (7.0). I 've read up that syncing is not working properly on 7.0 and till a fix is found I can deal with doing manual upgrades.

But I am experiencing another bug. I have 6 email accounts added (imported from a phone with android 6.0). First one on the list works as expected. For the rest if I press on them (A), K-9 closes. Long pressing shows the pop up menu but has Activate (2nd screenshot). Pressing Activate closes K-9.

If I press on the directory icon on the right (B) on one of the not working emails, it enters in the Folders menu and I can access all directories, settings and sync the account just fine.

So firing up K-9 only the 1st account on the top works normally. The rest if I press on them crash K-9 and only work fine if I enter in the Folders menu.


![screenshot_20170827-115206](https://user-images.githubusercontent.com/8713434/29748877-45e2cd72-8b28-11e7-8a22-0af6db769141.png)

![screenshot_20170827-115218](https://user-images.githubusercontent.com/8713434/29748891-955d4b0c-8b28-11e7-9821-45587954c0b5.png)



### Expected behavior
It should be able to enter in the accounts without a force-close

### Actual behavior
K-9 closes.

### Steps to reproduce
1. Open K-9
2. Click on any account except the first.
3. K-9 closes

### Environment
K-9 Mail version: 5.207

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): imap
"
k9mail/k-9,open,WIP : Enable and rewrite full text search,[],"[Related discussion](https://github.com/k9mail/k-9/pull/689)

I have re-enabled full text search and made it so that it downloads messages using the same rules as during synchronization.

Regarding how to load search results into the UI without writing them into the database, I'm not sure what the best way is. Some approaches :

- I was thinking of modifying `MessageListAdapter` so that it accepts either a `Cursor` object or a list of `Message` objects to populate the list with - cursor for the message list and local search and `Message` objects for remote search.

- Valodim suggested making a separate table to store the search results.

@cketti @Valodim @philipwhiuk "
k9mail/k-9,closed,"show progress based on time (after 500ms), not filesize",[],
k9mail/k-9,open,Deleted mail from inbox is doubled in trash directory,"[Label(name=""bug""), Label(name=""needs info"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When deleting one or more mails from inbox, I expect every deleted mail one time in trash directory.

### Actual behavior
When deleting one or more mails from inbox, every deleted mail exist in trash two times.

### Steps to reproduce
1. Wait for incomaing mail  (or send a test mail)
2. Delete a mail from inbox using symbol 'trash can' on left bottom.
3. Change to 'trash' directory. 
    In first moment the deleted mail appears only one time. After short time the deleted mail appears a
    second time in trash directory.
    After manually syncing the doubled mail disappears - the mail is only shown one time.

### Environment
K-9 Mail version: 5.207
I use the same email account with thunderbird on my desktop pc. These problems do not occur
using thunderbird on pc.

Android version: 7.0.0

Account type (IMAP, POP3, WebDAV/Exchange):
It is an IMAP Account.

"
k9mail/k-9,closed,Have option to show both correspondant name and email address in message view,[],"The option at the moment is either one or the other:
![](https://s29.postimg.org/4wbg3x4xj/Screenshot_20170810-163545_01.png)
But as most devices are 5""+ there should be an option to show both, at least when actually reading particular mail, (message view)."
k9mail/k-9,open,Refresh folder list and Folder settings issues,[],"K9mail has issues with setting proper folder lists.
In particular for spam folders.
For example, my outlook account defaults to spam folder when it should be junk.
Even after changing folder settings for spam folder to junk(it appears as an option), and clicking menu/refresh folder settings, the folder does not get updated:

![](https://s29.postimg.org/as5drbk8n/Screenshot_20170825-131208_01_01.png)  "
k9mail/k-9,open,WIP - Add support for IMAP ID command - RFC 2971,"[Label(name=""needs work"")]","

"
k9mail/k-9,closed,Rewrite expunge,[],"This PR rewrites the `expunge()` method in `ImapFolder` to ensure that only messages that were marked with the `\Deleted` flag by K-9 Mail are expunged. This process is described in [section 4.2.4 of RFC 4549](https://tools.ietf.org/html/rfc4549#section-4.2.4)
"
k9mail/k-9,closed,Rewrite IMAP expunge,[],"This PR rewrites the `expunge()` method in `ImapFolder` to ensure that only messages that were marked with the `\Deleted` flag by K-9 Mail are expunged. This process is described in [section 4.2.4 of RFC 4549](https://tools.ietf.org/html/rfc4549#section-4.2.4)


"
k9mail/k-9,open,Problem with opening attach pics and Viewing embedded pics,[],"### Expected behavior
Open pictures to gallery / Show new embedded picture in email instead of some kind of stored picture

### Actual behavior
In the past I have had some file types not open to the correct app from K9 mail, but now even pictures (jpg) will not open with the right app or even give me a choice of app to open with.  I have double checked that the wrong apps are not “default” and have also cleared all defaults with no luck.

Also have an issue where an embedded preview picture is sent by my security cameras, but K9 keeps showing it as the same picture even though the security cam is sending different pictures (maybe with the same name?).

### Steps to reproduce
1. Have security cam auto send different pictures with the same name
2. Send embedded pictures with same name
3.  Try to view and open these pictures

### Environment
K-9 Mail version:  5.207

Android version:  4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):  pop3
"
k9mail/k-9,closed,push new locale to live,"[Label(name=""enhancement""), Label(name=""next stable"")]","I've completed localization to gd-GB, could someone please throw the necessary switches so it's included in the next release? Cheers :)"
k9mail/k-9,open,Allow messages to be moved/copied across accounts,[],Related issue : #760 
k9mail/k-9,open,crash caused by OOM when open an big email with about 2 million characters,"[Label(name=""architecture""), Label(name=""performance"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
open an big email with about 2 million characters

### Actual behavior
crash caused by OOM
log:
`FATAL EXCEPTION: main
                                                                   Process: com.fsck.k9.debug, PID: 10098
                                                                   java.lang.OutOfMemoryError: Failed to allocate a 83877900 byte allocation with 16777216 free bytes and 51MB until OOM
                                                                       at dalvik.system.VMRuntime.newUnpaddedArray(Native Method)
                                                                       at com.android.internal.util.ArrayUtils.newUnpaddedArray(ArrayUtils.java:69)
                                                                       at android.text.StaticLayout.out(StaticLayout.java:525)
                                                                       at android.text.StaticLayout.generate(StaticLayout.java:423)
                                                                       at android.text.DynamicLayout.reflow(DynamicLayout.java:285)
                                                                       at android.text.DynamicLayout.<init>(DynamicLayout.java:171)
                                                                       at android.widget.TextView.makeSingleLayout(TextView.java:6408)
                                                                       at android.widget.TextView.makeNewLayout(TextView.java:6306)
                                                                       at android.widget.TextView.assumeLayout(TextView.java:6207)
                                                                       at android.widget.TextView.onPreDraw(TextView.java:4921)`
### Environment
K-9 Mail version:

Android version:5.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Cleanup smtp transport,[],"cleanup of SmtpTransport

I also moved the uri serialization stuff of ServerSettings into a TransportUris class. The transports themselves really shouldn't care about how their settings objects are serialized in a different part of the codebase. The same goes for `*Store` classes, but that's more and not directly related work.

Related note, check out this gem of our codebase: 
https://github.com/k9mail/k-9/blob/master/k9mail-library/src/main/java/com/fsck/k9/mail/transport/smtp/SmtpTransport.java#L460"
k9mail/k-9,closed,Rewrite LocalFolder.purgeToVisibleLimit,[],"This PR makes the `purgeToVisibleLimit` method in `LocalFolder` more efficient by fetching only the required messages and message fields from the database.


"
k9mail/k-9,closed,Cleanup localstore classes,[],"first three commits are purely IDE powered cleanup of the Local* classes, no semantic changes.

fourth commit renames the `id` field of LocalMessage to `databaseId`, to avoid confusion with `messageId` from the message header. this revealed another gem of our codebase: the base Message object already had the `getId` method, which in MimeMessage returns the message's uid parsed as a long, and is overridden by LocalMessage to return the database id. Luckily, getId is almost exclusively used on LocalMessage, which allows removing the getId method entirely without bigger problems.

fifth commit introduces constants to refer to columns for queries with GET_MESSAGE_COLS projection.

and the last removes the Serializable interface from LocalStore and LocalFolder, which we hopefully don't use anywhere (I couldn't find any)"
k9mail/k-9,closed,move responsibility for destroying messages from LocalMessage to LocalFolder,[],"Quick refactoring PR: This moves the responsibility of `destroy`ing messages from being shared between `LocalMessage` and `LocalFolder` entirely into `LocalFolder`. The parts in `LocalMessage` included stuff like threading, which really isn't something a message itself should worry about.

This also allows a `LocalFolder` to destroy messages given their id, messageId and messagePartId, which should come in handy if we want to delete messages efficiently without loading their content first."
k9mail/k-9,closed,Gmail sign : password error..less secure apps alert,[],"I noted its already reported by peoples

Is there any fix is going to be provided by k9mail dev team other than app pasword enabled in gmail.


Thx.

"
k9mail/k-9,closed,"Enhancement: add ""Mark all messages as read"" to folder context menu",[],Especially for the junk mail folder or trash folder this would be a nice feature to mark all messages in a certain folder as read. This could be added to the folder context menu in the folder view.
k9mail/k-9,closed,Why not providing HTTP and SOCKS proxy implementation?,[],
k9mail/k-9,closed,Error decrypting base64 email,"[Label(name=""needs info"")]","Hello,

As you may know BlackBerry is a popular choice for mobile phones sending PGP email. However K-9 Mail seems unable to decrypt the email from many BlackBerry devices. K-9 Mail can process the email but doesn't detect it as a PGP-encrypted message and simply shows an 'unencrypted' email with the body being a base64-encoded string. When manually decoded the string is revealed to be a properly-formatted ASCII-armored PGP message.

I've posted an example email here demonstrating the problem:

```
Return-Path: <sender@blackberryserver.com>
Delivered-To: recipient@linuxserver.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
        (using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
        (No client certificate requested)
        by linuxserver.com (Postfix) with ESMTPS id 63CF25C0505
        for <recipient@linuxserver.com>; Fri,  4 Mar 2016 13:12:41 -0800 (PST)/
Received: from [127.0.0.1] (localhost [127.0.0.1])
 BESX-MX01.besx.local ([123.123.123.123]) with mapi id
 14.03.0266.001; Fri, 4 Mar 2016 13:11:38 -0800/
From: Sender <sender@blackberryserver.com>
To: ""'recipient@linuxserver.com'"" <recipient@linuxserver.com>
Subject:
Thread-Index: AdF2WnBiFOdwF3uXTvC0LnZSWM9zjQ==
Date: Fri, 4 Mar 2016 21:11:37 +0000
Message-ID: <8D3319D2415C5B4E926FB84072925041527BB61E@BESX-MX01.besx.local>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset=""utf-8""
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQotLS0tLUJFR0lOIFBHUCBNRVNTQUdFLS0tLS0NClZlcnNpb246IFJlc2VhcmNoIEluIE1vdGlv
biAxLjANCg0Kd2NGTUEvT2l3MlV2aEZGR0FSQUFpQzdnaGZHNUIrRXBtNEpOcFpsS1pwbzNjQ3hW
[... base64 encoded message removed for confidentiality .. ]
```

The body of the message I've truncated is a plain-text base64 encoded string that when decoded is a properly formatted ASCII-armored PGP message.

If you have any questions please let me know I'd be happy to help.

Cheers,
Kelaghn"
k9mail/k-9,closed,Draft message disappears on sync if cryptography is set to OpenKeyChain,[],"See caption.

### Expected behavior
The drafted message should appear on the server.

### Actual behavior
The message goes to a better place.

### Steps to reproduce
1. Compose message for IMAP-account which has encryption activated as OpenKeyChain 4.5
2. Save message as draft
3. Sync draft folder

### Workaround
Deactivate encryption for that account.

### Environment
K-9 Mail version: 5.207

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP-account hostet at posteo.de"
k9mail/k-9,closed,Fix screen orientation messages selection issue (Fixing issue #2605),[],"Fix screen orientation issue when messages are selected in ""unified box"" . Fixing issue #2605 "
k9mail/k-9,closed,"""show pictures"" needed again if screen rotates","[Label(name=""enhancement"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
If I touch ""show pictures"" the state should remain if the phone is rotated (portrait to landscape or vice versa).

### Actual behavior
If the phone is rotated the ""show pictures"" button shows again

### Steps to reproduce
1.Display a message in the message list.
2.Touch ""show pictures"".
3.Rotate the phone from portrait to landscape.

### Environment
K-9 Mail version:
5.207

Android version:
5 on TV PC, 7 on ASUS Zenfone 3

Account type (IMAP, POP3, WebDAV/Exchange):
POP3
"
k9mail/k-9,open,sync should be disabled if already performing sync,"[Label(name=""architecture""), Label(name=""enhancement"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
If I refresh the message list, all synchronizing should be final.

### Actual behavior
If I initiate a sync either by touching refresh or pulling down the message list, and if due to latency I see no user interface activity, and if I think the sync has finished when it has not finished, and if I do another sync trigger event, the first sync will finish, then the next sync starts because it has been queued.

### Steps to reproduce
1.Initiate sync by pulling down message list.
2.Pull down message list again, two or three times, during the sync.

### Environment
K-9 Mail version:
5.207

Android version:
5 on TV PC, 7 on ASUS Zenfone 3

Account type (IMAP, POP3, WebDAV/Exchange):
POP3
"
k9mail/k-9,closed,Unwanted notification on Mailreading (Message is not end to end encrypted),[],"### Expected behavior
Click on a mail at the Mainscreen, enter my passpharse and view mail

### Actual behavior
After entering a mail i get this Message displayed every time... Is the a chance to disable that?

### Steps to reproduce
1. Use OpenKeyChain, german mail Provider with Inline PGP Mail enceyption
2. Get a mail :-)
Here is a screenshot: https://cloud.teyro.tech/index.php/s/ZntXAqB3VrICdtn

### Environment
K-9 Mail version: lastest stable 5.207 i think

Android version:

LinaeageOS on OnePlus2 and Stock Android 6.0 on a Samsung Galaxy Tab A 2016


"
k9mail/k-9,closed,Rename Sync Class to Poll Class,[],Fixes #2662 
k9mail/k-9,closed,"Add option to disable ""encrypted but not signed"" warning",[],"I use a mail service that encrypts incoming plaintext mail with my public key. Since this service doesn't sign the mail, I get an annoying ""security warning"" message saying that the email was encrypted but not signed, which I have to manually dismiss. This is bad UI design-- I would much prefer an indicator in the corner that warns against this. Alternatively, an option could be added to disable showing this warning.

![screenshot_20170814-123147](https://user-images.githubusercontent.com/749522/29288382-63d3fbe8-80ed-11e7-93a3-903533c105eb.png)
"
k9mail/k-9,closed,Feature Request: Maillist Widget,[],"I've been using MailListWidget for K-9 on my S3 for years, but it won't work on newer devices.
The other widget (Email Widget) listed on the web site does only work to a certain degree.

I'm not an Android/Java developer so I can't write this myself, but a Maillist Widget should be fairly easy to develop. Why not make it part of K-9?

MailListWidget for K-9 was slick and tremendously useful. I hoped something similar could be part of K-9.
"
k9mail/k-9,open,Perform post-action sync more intelligently,"[Label(name=""architecture"")]","I'm having difficulty figuring out a few things ...

I think this issues is covered under #857, which is unresolved
https://github.com/k9mail/k-9/issues/857#issuecomment-313555123
I'm changing from Samsung Galaxy S5 phone to S8+, and Samsung Galaxy Tab S2 to S3. The S5 uses Android 6, the other 3 are using Android 7. K-9 appears to function as expected on my S5 yet not on the other 3 devices ... I suspect my problems on my old S2 began when it upgraded to Android 7. The basic issue is that I'm not receiving my Push, I don't think Pull is working,  yet periodically I do see my new mail, just not all new mail (some accounts receive updates, other accounts do not, the receive vs do not receive is inconsistent). I see the Synching Disabled status on the 3 devices using Android 7. I have verified the K-9 Global Network setting is set to Sync Always, and I have the Android Battery optimization set to never put K-9 to sleep, and today I enabled all Permissions for K-9 (although the few I enabled did not appear to be permissions which would prevent synching). I'll watch to see if the Permissions makes a difference.

FYI, I exported my settings from my S5 and imported them into the app for my new devices, so I shouldn't have any settings variations. I did notice that my accounts were not in the same order, so that is one setting which did not transfer.

I am tweaking push/poll settings. I also would like to understand Sync and using the Empty Trash command.  Do I understand correctly the following?
- When using the Empty Trash command from the account menu, does this also trigger Poll, Push, or Both? I can see that using Empty Trash refreshes my Inbox, however I would like to avoid triggering Poll as my folders configuration is extensive. I Push about 6 folders per account, most are empty or have little activity, 30 folders total, 5 of which are very active (Inbox). I Poll about 120 folders which contain at least 1,000 emails. I have Refresh Idle set to 24 min, and Poll set to 12 hrs.
- When I use the Sync command, does it trigger Push, Poll, or both? Same issue/goal as mentioned for using the Trash command.
- If I increase the Refresh Idle, how much battery consumption do I reduce, and will this result in not receiving email immediately? It sounds like decreasing Refresh Idle doesnt solve the Android v7 Syncing Disabled issue, plus i am loathe to do this. I did it three years ago and K9 ate up my battery.
- I set my accounts to Poll ALL folders every 12 hours. While I set all my non Push folders to 2nd class, sometimes I forget to set 1st class vs 2nd class on a new folder when I create it. On my old phones I was polling every 1 hour and I am attempting to reduce battery consumption.
- In the folder settings, I see Folder Display Class, Folder Sync Class, and Folder Push Class. However, over in Account Settings for Fetch I only see options to set folder classes for Push and Poll. There is no folder class for Sync, and no explanation whether Sync is only Poll, or if it includes Push.  I would like to be able to  manually sync only Poll folders some times, and only Push folders on other times."
k9mail/k-9,closed,"WIP : Handle Doze entry, exit and maintenance windows",[],"PR #2545 restarts push and poll when exiting from Doze back to either normal functioning or a maintenance window. This PR makes the following changes 

- stops both push and poll when entering Doze mode
- trigger a single poll when entering a maintenance window
- restart push and poll when exiting from Doze

Related discussion - #857 "
k9mail/k-9,open,Show unencrypted pgp messages in notifications,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When I recieve a pgp encrypted mail it displays ""*encrypted*"" in the notification.

### Actual behavior
There should be an option to encrypt the message and show it.

### Environment
K-9 Mail version: 5.207

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Test basic behaviour of executeSimpleCommand,[],"Adding a few more verification tests for `executeSimpleCommand`.

I wrote them while trying to work out the best way to fix #2665 . Still not sure on that.


"
k9mail/k-9,closed,Fix ImapConnectionTest failure,[],"Running tests outside of Android Studio started to fail for me with the following exception.

```
com.fsck.k9.mail.CertificateValidationException: java.security.cert.CertificateException: Certificates does not conform to algorithm constraints
	at com.fsck.k9.mail.store.imap.ImapConnection.handleSslException(ImapConnection.java:153)
	at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:138)
	at com.fsck.k9.mail.store.imap.ImapConnectionTest.open_withStartTlsCapability_shouldIssueStartTlsCommand(ImapConnectionTest.java:669)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:538)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.robolectric.RobolectricTestRunner$2.evaluate(RobolectricTestRunner.java:339)
	at org.robolectric.RobolectricTestRunner.runChild(RobolectricTestRunner.java:259)
	at org.robolectric.RobolectricTestRunner.runChild(RobolectricTestRunner.java:41)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.robolectric.RobolectricTestRunner$1.evaluate(RobolectricTestRunner.java:199)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:114)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:57)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy3.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:377)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)
	at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: Certificates does not conform to algorithm constraints
	at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)
	at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1949)
	at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)
	at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)
	at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1514)
	at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)
	at sun.security.ssl.Handshaker.processLoop(Handshaker.java:1026)
	at sun.security.ssl.Handshaker.process_record(Handshaker.java:961)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)
	at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)
	at sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:747)
	at sun.security.ssl.AppOutputStream.write(AppOutputStream.java:123)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at com.fsck.k9.mail.store.imap.ImapConnection.sendCommand(ImapConnection.java:774)
	at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:727)
	at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:716)
	at com.fsck.k9.mail.store.imap.ImapConnection.requestCapabilities(ImapConnection.java:291)
	at com.fsck.k9.mail.store.imap.ImapConnection.startTLS(ImapConnection.java:334)
	at com.fsck.k9.mail.store.imap.ImapConnection.upgradeToTls(ImapConnection.java:315)
	at com.fsck.k9.mail.store.imap.ImapConnection.upgradeToTlsIfNecessary(ImapConnection.java:299)
	at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:125)
	... 47 more
Caused by: java.security.cert.CertificateException: Certificates does not conform to algorithm constraints
	at sun.security.ssl.AbstractTrustManagerWrapper.checkAlgorithmConstraints(SSLContextImpl.java:1120)
	at sun.security.ssl.AbstractTrustManagerWrapper.checkAdditionalTrust(SSLContextImpl.java:1044)
	at sun.security.ssl.AbstractTrustManagerWrapper.checkServerTrusted(SSLContextImpl.java:986)
	at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1496)
	... 64 more
```

Returning the TLS certificate the mock server is using from `VeryTrustingTrustManager.getAcceptedIssuers()` is fixing this issue for me.
"
k9mail/k-9,closed,App Theme Customization,[],"Hi there. I have this one feature that would make the app experience feel more personal and customizable: the ability to customize the overall colors of the app (i.e. make the app have a more material dark theme by setting a HTML/RUB color code that is specially used for material). Would highly appreciate if this was added, Thanks!"
k9mail/k-9,open,WebDAV should sync starred message status (IMAP's \Flagged),"[Label(name=""enhancement""), Label(name=""needs info"")]","### Expected behavior
After the flag representing the star action in an exchange account is removed on the server, this should be reflected in k9 after the next sync. In IMAP accounts this works flawlessly.

### Actual behavior
In Exchange accounts messages remain stared

### Steps to reproduce
1. Star a message in an exchange account (office 365 in my case) 
2. Remove the star flag with some other mail program or the web mailer 
3. Sync k9 and observe that the star is still there. 

### Environment
K-9 Mail version: 5.207

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): Exchange
"
k9mail/k-9,closed,"""Failed to send"" notification could have ""try again"" button",[],"It would be useful if the ""Failed to send some messages"" notification had a ""try again"" button. In virtually all cases the cause for this notification to appear is a flaky internet connection. It is the quite cumbersome to first tap the notification, which takes one to the account screen, then choose ""send messages"" from the overflow menu. Alternatively one could think of a option to make k9 try at least a given number of times with some delay to send messages and only then show the notification."
k9mail/k-9,open,Rewrite IMAP IDLE,[],"This PR builds upon the changes made to `ImapFolderPusher` in PR #2607 by

- Removing all the code that processes the various IDLE responses 
- Making it not extend `ImapFolder` anymore
- Not sending DONE and IDLE commands whenever a useful response is received through IDLE"
k9mail/k-9,closed,Rewrite IMAP IDLE,[],
k9mail/k-9,open,RFC: Get rid of folder classes,"[Label(name=""architecture""), Label(name=""needs work"")]","The current system of folder classes has proven to be quite confusing to our users. I'd like to replace it with something that is easier to understand/use. How exactly that could look like is up for discussion.

Quick suggestions:
1. Allow users to create ""folder groups"" and have sync and notification settings per folder group.
2. Per folder sync and notification settings and a bulk editing UI to make it easy to change those settings for a bunch of folders at once.

I doubt the display class is used by many people to switch between different views of the folder list. So I'd just get rid of that feature. It can be replaced by a simpler mechanism to hide selected folders."
k9mail/k-9,closed,IMAP Keywords,[],"This is my attempt at issue #769. It started as a rebase of pull request #558. Many thanks to @igoralmeida and all other contributors! However, to avoid surprises: I assume I have turned almost everything upside down.

As of now I'd call this a working prototype. So I don't expect this go into k-9 without further changes. However, now would be a good time for me to get some feedback and guidance for further development.

### Implemented features
* Message list: background shading using color of first tag (""first"" in terms of the order defined in the keyword editor)
* Message view: list of colored tag names; tap for tag choice dialog
* Tag choice dialog: de-/select tags for message; changes are written to the IMAP sever; tap preferences icon for keyword editor
* Keyword editor: change visibility, display name, color, order; add/remove keyword

New keywords found on emails are automatically added to the database, but by default they are hidden. To make them visible open an email, tap the tag list, tap the preferences icon, tap the visibility icon, and then tap the back button.

### Some more things I'd like to add
* Make shading in the message list optional.
* Make tag names in the message view optinal.
* Add optional set of colored tag icons to message list and message view left of the star icon. A tap on any of these icons should also open the tag choice dialog.
* Commands to add default keywords of other popular email clients.
* Single tag mode for tag choice dialog, so that a single tap already closes the dialog.
* Add more commands to context menu in keyword editor, such as hide/show, edit name, etc.
* Add ""Edit tags"" to context menu in message view.
* When editing a keyword name, disable the Ok button while the name is empty.

Well, the list is getting long. It probably makes more sense to focus just on the fundamental functionality for now and leave additional fancy features for further pull requests.

### Major design changes compared to #558 
* I tried to align class names and such with the following terminology (see also the comment in Flag.java):
  * A ""flag"" is either used only internally by k-9, or it is a server flag that additionally has an external code used for representation in external storage.
  * A ""server flag"" is either an (IMAP) system flag (whose external code starts with a backslash ""\\"") or an (IMAP) keyword (whose external code does not start with a backslash ""\\"").
  * A ""keyword"" additionally has properties such as a name for display, a color, a visibility flag, and a position in the ordered list of keywords.
  * A ""tag"" is a keyword assigned to a message.
* Keyword support has been moved from the Flag class into a derived class named Keyword.
* The keyword catalog is now stored in the global preferences database. The old implementation also had just one catalog in memory, but stored it in the account-specific databases.

### Open issues
Now for the open issues, where I am hoping for feedback and possibly some guidance:
1. I roughly tried to follow the coding guidelines. Any feedback is welcome!
2. Is the UI design okay? What should be changed to be bettern in line with k-9?
3. Did I possibly break compatibility with old Android versions? Are there special things I should look for? Special checks to perform?
4. Color shading calculation is currently implemented in the Keyword class. This way it pulls com.android.support:support-v4 into k9mail-library. Is that okay, or should that better go into k9mail (non-library)? Or would is be even preferred to leave out that support lib at all and do the calculation ""manually""?
5. The keyword editor uses @drawable/design_ic_visibility and @drawable/design_ic_visibility_off to indicate visibility of the keywords. This pulls in com.android.support:design. It that okay?
6. The keyword editor currently uses somewhat awkward up/down buttons for ordering. A list layout with drag support would be nice! But before investing additional time, I'd like to ask if this is considered useful, and if there is a preferred way to go. I briefly looked at the following implementations:
  https://github.com/JayH5/drag-sort-listview
  https://github.com/justasm/DragLinearLayout
7. The up/down buttons currently misuse k-9's collapse/expand icons (iconActionCollapse, iconActionExpand). Can this remain until they are replaced with a drag list layout?
8. I wonder whether the in-memory storage and the on-disk storage of the keyword catalog are already good enough in terms of thread-safety. The former is implemented in the class Keyword, the latter in the class Preferences. The catalog is changed by the keyword editor on one hand, and by the IMAP store (store/imap/ImapFolder.java) on the other hand. So I fear that there is a potential for race conditions."
k9mail/k-9,closed,Yahoo folders produced 2 Trash folders on completed set up.,[],"I set up K9
All 4 email populated fine except the 2 - yahoo.ca has 2 Trash folders. Both will show deleted email counts and both will in time clear trash..one at a time.
How do I remove second folder as it does glitch when emptying trash.
"
k9mail/k-9,closed,Delete,[],Delete this
k9mail/k-9,open,IMAP Synchronization breaks when server responds with BYE after timeout.,"[Label(name=""architecture"")]","
Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Synchronizing my Newsletter-Folder

### Actual behavior
Error: IOException: readStringUnti

Sometimes the App stops so that I have to stop
[k9-log4.txt](https://github.com/k9mail/k-9/files/1203039/k9-log4.txt)

it and restart.
The other folders are able to synchronize.

Log-File attached.

### Steps to reproduce
1. See appended Logfile.
2.
3.

### Environment
K-9 Mail version: 5.207


Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange):

IMAP"
k9mail/k-9,closed,Use No Class rather than None,[],"Fixes #2660 


"
k9mail/k-9,closed,Show BCC field in message view if present,[],"Fixes #2643 


"
k9mail/k-9,closed,"UI: clarify ""sync"" vs ""poll""",[],"Currently, it is not at all clear how ""sync"" and ""poll"" relate to each other.  Is ""sync"" just a manual ""poll"", i.e. when the ""check mail"" button is pressed (It [doesn't seem so](https://groups.google.com/d/msg/k-9-mail/mdIvuYMtIlo/B9Oc5zWXM1QJ))?  If not, what is it and when does it happen?  What's the meaning of the ""sync class"" of a folder?  The [documentation](https://k9mail.github.io/documentation/folders.html) tells that it's the ""class for synchronization purposes"" but doesn't say what synchronization is."
k9mail/k-9,closed,"UI: clarify the meaning of class for ""poll folders""",[],"In ""account settings"" -> ""fetching mail"" there is an option ""Poll folders"".  It can take values like ""1st and 2nd Class folders"" but it is not at all clear to which class this applies.  I suppose it must be the ""sync class"", but this is not obvious from the UI, nor from the documentation.
"
k9mail/k-9,closed,"Suggestion: rename ""None"" folder class to ""Default""",[],"In K9 mail, folders can be assigned the following classes: ""None"" (the default), ""1st"" and ""2nd"".  It is then possible to configure whether something (e.g. polling) applies to

* ""All""
* ""Only 1st Class folders""
* ""1st and 2nd Class folders""
* ""All except 2nd CLass folders""
* ""None""

Here, the last choice means not to poll any folders.

This nomenclature is more confusing than necessary, since ""None"" has two meaning: ""no folders"" and ""no class assigned"".  A user could easily think that choosing ""None"" for polling means to poll the folders whose class is ""None"".

This problem could be resolved easily by renaming the ""None"" class to the ""Default"" class.  This would be only an UI text modification that does not change at all how the application behaves.
"
k9mail/k-9,closed,Configurable notification actions,[],"Currently, K9 only shows 2 or 3 actions on notifications:
* Reply
* Mark Read
* Delete (if enabled)

It would be good to also allow to add (as a configuration option) Spam, Archive (and mark read) and move to other folders as per #2635.

### Environment
K-9 Mail version: 5.207

Android version: 7.1.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,Auto reply function,"[Label(name=""enhancement"")]","I dont know if this has already been requested or not, but how about having the auto reply feature? Exchange server(for example) supports it, can we enable using K9?"
k9mail/k-9,closed,All settings gone after update to 5.207,[],"Phone: LG Leon with Android 6.0
In google play store, I manually started the update for K9.
But my phone gave me a message that the update did not work.
But I have 5.207 now installed.
I started K9 mail, but all settings were gone, i.e. my 2 mail accounts are gone, K9 looks like after a fresh install.
"
k9mail/k-9,closed,Mixed Languages when NOT in system default language,[],"### Expected behavior
display e.g. ""Next poll in 3 minutes""

### Actual behavior
displays e.g. ""Next poll in 3 Minuten""
consisting of

- ""Next poll"" as language as set in Global (K-9) configuration (here: English)
- ""in 3 Minuten"" which is the system default language (here: German).

additionally, sometimes information about when the next polling will be executed is replaced by information about when the last polling has been executed, see issue #1141

![screenshot_2017-07-31-22-33-38 1](https://user-images.githubusercontent.com/30443941/28923449-6cf6de3a-785e-11e7-8bf9-db21803a1b05.png)

![screenshot_2017-07-31-22-29-47 1](https://user-images.githubusercontent.com/30443941/28923463-77553570-785e-11e7-9436-69ecdfce4892.png)

Occurs in accounts list + in folders lists (in any of the accounts).

Unlike the ""past next poll issue #1141"", which can temporarily be pseudofixed by closing and re-opening the app, this language-mix-thing is persistent.

### Steps to reproduce
1. Set a different than system language in Global configuration
2. Close and reopen app
3. Look at ""next poll in..."" information at any accounts or folders list view

### Environment
K-9 Mail version: 5.207

Android version: 4.4.2 kitkat

Account type (IMAP, POP3, WebDAV/Exchange): imap
"
k9mail/k-9,closed,Move buttons back to the bottom,[],"I really liked the usability of having the buttons for folders and messages at the bottom of the screen. They're now at the top, and it makes one-handed use a bit harder, I find.

![buttons](https://user-images.githubusercontent.com/195073/28916289-08d5f0e2-7842-11e7-86b0-08b742b3bc40.png)

Would it be possible to make it configurable how the UI is structured?

### Environment
K-9 Mail version: 5.207 (F-Droid)

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"com.movit.platform.mail.util.log.MailException:com.fsck.k9.mail.AuthenticationFailedException: Command: *sensitive*; response: #3# [NO, LOGIN failed.]",[],"com.movit.platform.mail.util.log.MailException:com.fsck.k9.mail.AuthenticationFailedException: Command: *sensitive*; response: #3# [NO, LOGIN failed.]
Android version:
Android 7.0,level 24
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Yahoo Changed there Servers,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
with the current information on the site, should be able to connect to yahoo email

### Actual behavior
Due to yahoo changing there server it fails with current information provided 

### Steps to reproduce
1. go to https://k9mail.github.io/documentation/accounts/providerSettings.html
2. go to Yahoo, Yahoo supports IMAP only for fetching e-mail:
3. Follow instructions

Email not setting up because yahoo changed there server address 

Current information
IMAP Server: imap.mail.yahoo.com
    Port: 993
    Requires SSL: Yes
    Email address: Your full email address (name@domain.com)
    Password: Your account's password

Correct Information

IMAP Server: android.imap.mail.yahoo.com
    Port: 993
    Requires SSL: Yes
    Email address: Your full email address (name@domain.com)
    Password: Your account's password

Current information

SMTP
    Server: smtp.mail.yahoo.com
    Port: 465 or 587
    Requires SSL: Yes
    Requires authentication: Yes
    Same password as incoming: Yes

Correct Information

SMTP
    Server: android.smtp.mail.yahoo.com
    Port: 465 or 587
    Requires SSL: Yes
    Requires authentication: Yes
    Same password as incoming: Yes

### Environment
K-9 Mail version:5.207

Android version:7.0

Account type IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,open,Long read timeout makes it appear that the app has stopped working when the connection is closed,"[Label(name=""architecture"")]","Manual fetching in K-9 Mail should work whenever there is a network connection, regardless of whether there has been in change in the network since last fetch.

What actually happens is that if email is fetched and then there is *any* change in network connection, trying to fetch again just hangs for a long time (indefinitely?).

To reproduce:
1. Start fresh by swiping away K-9 Mail from Recent Applications
2. Make sure you have a network connection (e.g., home wifi)
3. Launch K-9 Mail by clicking on its icon
4. Fetch email. It will work normally.
5. Turn wifi off, then back on. Reconnect to same network you were on before.
6. Click on K-9 Mail icon (or choose it from Recent Applications)
7. Try fetching email. It just hangs and doesn't fetch any email.

My workaround for the time being is to always remove K-9 Mail from Recent Applications whenever I'm done working with it. Wife is not so keen on having to do this. We experience this often because, in order to save battery, wifi shuts off when device sleeps. Therefore, upon waking, the device has to re-connect to wifi...thus triggering this issue.

Is this a bug or is there a simple fix involving a change in settings?

Our environment:
K-9 Mail version: 5.207
Android version: LineageOS 14.1
Account type: IMAP"
k9mail/k-9,closed,Pluralisation of remote search download,[],"Per issue #2649 


"
k9mail/k-9,open,Fallback to login when continuation is refused for AUTH=PLAIN,[],"Fixes #2648 which arises because the mail provider rejects AUTHENTICATE PLAIN immediately, rather than providing the continuation responses.

We can handle this fairly straightforwardly with a slight change to authPlain and to the check for a continuation.

"
k9mail/k-9,open,localization issues,"[Label(name=""translation"")]","Hi. I've just about completed the localization into gd-GB and I've noticed some l10n issues that probably affect other locales too.

dialog_confirm_delete_messages 
dialog_confirm_spam_message
settings_import_accounts
are problematic for translation because English has
Do you really want to delete this message?
Do you really want to delete <xliff:g id=""message_count""> messages?
(or in one case it has the digit 1 as a number in the en-US string)
but Transifex throws a fit when I try to add the message_count placeholder to our ONE (we have 4 plural forms, ONE, TWO, FEW, OTHER) string because the source does not have the placeholder. I cannot even just say ""ok, I'll ignore what happens with 11 (ONE covers 1 and 11)"" because somehow Transifex links English ONE to Gaelic ONE and TWO i.e. I cannot translate TWO with the placeholder either. Transifex just refuses to save the message.
The quickest solution would be to just put the placeholder into en-US ONE as well.

remote_search_downloading 
remote_search_downloading_limited 
use number placeholders but there must be an error because Transifex does not offer the plural fields for translation.

pull_to_refresh_remote_search_from_local_search_pull 
pull_to_refresh_remote_search_from_local_search_release 
are a little opaque and would benefit from a comment as to whether pull/release is a physical action on my device or whether you mean ""perform a pull from a repo"" / ""release to repo"" (I suspect the latter but really not sure)

copy_address_to_clipboard 
settings_import_server_passwords 
settings_import_setting_passwords 
seem to be set up for pluralization but do not have number placeholders and I'm not sure they are meant to be pluralized at all."
k9mail/k-9,open,LOGIN fallback doesn't occur if rejected pre-continuation,"[Label(name=""bug"")]","### Expected behavior

There should be no problem in connecting to the `imap.scarlet.be` server and fetch incoming mails (it works in Thunderbird and in mySecureMail). These are the required settings, from the provider, which seem just normal ([provider's info in Dutch](https://www.scarlet.be/help/faq/591/59/Welke-standaardinstellingen-gebruikt-Scarlet-voor-e-mail) / [provider's info in French](https://www.scarlet.be/help/faq/591/60/Quels-sont-les-parametres-standard-utilises-par-Scarlet-pour-l-39-e-mail)):

_Incoming e-mail (IMAP) : imap.scarlet.be     Port : 993 (SSL enabled)
Outgoing e-mail (SMTP) : smtp.scarlet.be     Port: 465 (SSL and “server requires authentication” enabled)_

### Actual behavior

In K-9 Mail I'm only succesful at sending email, not receiving. The following error pops up at setup:

> **Setup could not finish**
> **Cannot connect to server.**
> **(Command continuation aborted: #2# [NO, AUTHENTICATE mechanism not supported, mate])**

I also get the error when, afterwards, I try small variations in the settings (such as disabling 'autodetect IMAP namespace'), in _account settings > fetching mail > incoming server_.

### Note

I posted this issue on the [community mail group](https://groups.google.com/forum/#!topic/k-9-mail/Fm6njcU8gg8) as well.

### Environment

K-9 Mail version: 5.207

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Last update deleted all my accounts,"[Label(name=""bug""), Label(name=""needs info"")]","This morning I updated K-9 through Google Play: it deleted all my accounts.

### Expected behavior
To see my many accounts set up and running as before

### Actual behavior
K-9 shows as a new install, without any account

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.207

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Play store version stuck at 5.206,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
The Google Play store version should be the latest - 5.207.

### Actual behavior
The Google Play store version appears to be stuck at 5.206 for some users.

### Steps to reproduce
1.  Open https://play.google.com/store/apps/details?id=com.fsck.k9
2. Look in additional info section
3. Version is listed as 5.206. This is the same version installed on my Android devices and I am unable to force an upgrade to 5.207 through the Play Store.

### Environment
K-9 Mail version: 5.206

Android version: 7.0

A quick IRC chat with Khaytsus indicates that they are seeing 5.207.  However, I am not the only person seeing the version stuck at 5.206.  See https://android.stackexchange.com/questions/174070/google-play-store-dont-show-latest-update-for-k-9-mail.

Here is a copy-and-paste from https://play.google.com/store/apps/details?id=com.fsck.k9 on my Mac:

ADDITIONAL INFORMATION

Updated
22 March 2017
 
Installs
5,000,000 - 10,000,000
 
Current Version
5.206"
k9mail/k-9,closed,Autocrypt header attach,[],"This PR implements the sending part of the [autocrypt](https://autocrypt.org) spec. It relies on the minimize feature of the autocrypt PR in OpenKeychain https://github.com/open-keychain/open-keychain/pull/2127, and attaches the user's key in the appropriate format to outgoing messages in the Autocrypt header.

This is a purely technical PR that doesn't touch on UI, see #2608 for the GUI aspect."
k9mail/k-9,closed,Autocrypt parse on display,[],"This PR implements the receiving part of the [autocrypt](https://autocrypt.org) spec, particularly parsing of autocrypt headers and updating the peer state in OpenKeychain. This happens every time a message is displayed. The functionality relies on the autocrypt peer update api call in the autocrypt PR in OpenKeychain https://github.com/open-keychain/open-keychain/pull/2127.

This is a purely technical PR that doesn't touch on UI, see #2608 for the GUI aspect."
k9mail/k-9,closed,BCC not visible in sent folder,"[Label(name=""enhancement"")]","### Expected behavior
BCC recipients should be visible in the sent folder

### Actual behavior
BCC recipients are not visible

### Steps to reproduce
- Send a message with a bcc recipient
- Check the sent message in the sent folder

### Environment
K-9 Mail version: 5.206

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Email order mixed up in all folders,[],"I have a problem which I am not sure it is related. It has happened suddenly after upgrading K9mail a couple of releases back.

The behaviour is extremely annoying and it is putting me off K9mail altogether as it is making it unusable at least for me.

What happens is the following:

a) I send an email
b) I go into the sent folder (which hasn't been syncronized for a while)
c) The email I just sent is at the top of the sent folder (rightly so)
d) I click on the email, but I get a completely different email that was sent perhaps a few days back
e) Even if I force refresh the folder, the problem stays there, the emails are all mixed up.

Phone: Xiaomi Redmi Note 4. Android 6. Running on IMAP

K9 Mail version: 5.206"
k9mail/k-9,closed,Notifications disappear touching 1st notification,[],"> Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

I tried a search but too much opened issues and my english is too bad. 

### Expected behavior
Touching 1st or other notification should not produce different result. 

### Actual behavior
While touching the upper notification they all disappear. 

### Steps to reproduce
1. Send 3 mails to a synchronized account
2. With N (lineage 14.1) (am just discovering it maybe issue is not k9) swipe to 'increase' notifications to get one message per notification instead one notification for all message. 
3. As you sent 3 mail, 3 notification should be displayed, touch the bottom one, k9 open, notification still exist for the 2 other pending mails
4. Do the same steps again but touch the upper notification, 
5. The remaining notifications disappear. 

### Environment
K-9 Mail version: 5.207 (F-Droid)
Android version: lineage-14.1-20170726-nailyk-z3dual
"
k9mail/k-9,open,Choice to View/Edit Drafts & Option to Exit Draft Without Discard/Save,"[Label(name=""enhancement"")]","### Excerpt from the manual
Document/page ""[reading e-mail](https://k9mail.github.io/documentation/reading.html)"", section ""browsing e-mail"":

> ...you can tap on a message in the list to open it for reading, or long-press to get the message’s Context Menu, which contains these options, on a scrolling pop-up menu with the message’s title at its top:
> 
> <ul><li>Open - Open the message for viewing""</li>
> <li>Select - Select the message for group moving, copying or deleting</li>
> </ul>
> ...

### Manual Update Suggestion
Since the feature ""open"" is not shown anymore as a menu option (but still works intuitively by tapping a message in a messages list), this should also be reflected in the documentation.

### Exception with ""drafts""
(Note: i only tried imap operation, so all statements refer to that, while they perhaps might also apply to pop3.)

While non-drafts should be of course opened in a ""view only"" mode, safe from data loss, a user probably will want to open drafts in the ""compose"" mode to (continue) work on them.

K-9 seems now unable to differentiate between non-drafts and drafts based on the message data itself. It opens ANY message in the folder, that is in this moment configured (in: acccount settings > drafts) as the one dedicated for drafts, in the compose mode.

Should for any reason - e.g. after misconfiguration (see above) or after messages were ""Moved"" - be a non-drafts message located in the folder configured as the drafts folder, and the user then taps the message (intuitively), then the non-draft message becomes opened in ""compose"" mode.

If this happens, then there is currently NO WAY for the user to return to the list mode without loss of at least parts of the message:

The originally non-draft message can either (and will be forced automatically after 5 minutes) be saved as a draft, replacing the original non-draft message. LOSS in this case = all header information except the subject; and, if originally contained, any non-plaintext information (embedded illustration, formatting, classic attachments, ...)

Or the compose view can currently be closed, with its message be discarded. LOSS in this case = the complete data of the message.

### Thoughts on Enhancements related to drafts
I assume that there is no standardized header one could insert into each draft, to allow recognition to any client supporting that. And inserting a 'proprietary' header for that reason would neither be prospective (especially in imap context). But perhaps scanning the message (on event: tapping) for existing headers that indicate a done smtp transmission, would be a 'neutral' key for such an automated differentiation? (but then, next problem might be to detect a 'sent message' that does not contain smtp transmission headers.)

If differentiation cannot however be automated (e.g. because that scanning would result in disproportionate resources consumption), then, how about delegating the decision (on whether to open the supposed draft-message - based on the folder containing it, without headers analysis - in compose mode or in view mode) to the user, instead? The app could by default apply, when such a message gets tapped, the (data-safe) 'view' mode, + show* a control element to let the user decide whether 'reading only' is okay in that case, or wheter he wants to edit the message. *The control element must however not pop over the message itself by default.

### Environment
K-9 Mail version: 5.206 & 5.207

Android version: 4.4.2 kitkat

Account type (IMAP, POP3, WebDAV/Exchange): imap.
"
k9mail/k-9,closed,Add Travis CI Badge,[],"

"
k9mail/k-9,open,Timestamp = Sync-Time?,"[Label(name=""needs info"")]","Did not find an exicting issue...

### Expected behavior
On syncing mails all mails should have the date and time they were send / delivered to the server. A mail I recieve on a PC with Thunderbird has its timestamp and keeps it. That should be the same on K9: timestamps should not be altered by the client or the divice's system.

### Actual behavior
In K9 once in a while an old (and read) email - received and read a couple of days or weeks ago - pops up on top of the list sorted by date / time. It now shows the date / time of the last sync! On the PC (Thunderbird) the previous timestamp is not altered. 

### Steps to reproduce
1. No idea - cannot reproduce it
2.
3.

### Environment
K-9 Mail version: 5.206

Android version: 6.01

Account type (IMAP, POP3, WebDAV/Exchange): IMAP on strato.de
"
k9mail/k-9,open,led notification light is not a solid color and is very dim,[],"### Expected behavior
The led notification light should blink using a solid color.

### Actual behavior
The led notification light blinks using a mix of colors despite any color I use from the picker.  It is also very dim.

### Environment
K-9 Mail version: 5.206

Android version: Samsung Galaxy S7 - Version 7.0

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,SettingsExporter.java: add date to export ,[],This is the implementation of #2562.
k9mail/k-9,open,Feature request: more folder buttons,"[Label(name=""enhancement"")]","Hi, 

K-9 has a pretty good feature, it can offer buttons in the mail message and list views to directly move a mail into the archive or spam folder. It also allows to move a mail into an arbitrary folder, but that's slow, compilacated, error prone, and annoying, if there's a long list of folders. 

Would be really useful if K-9 would offer to use more buttons like the archive button, just with different folders, to move mails immediately into the configured folders (e.g. archive, todo, office). "
k9mail/k-9,closed,Impossible to send Gmail mail since 2 days,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Add support for internationalized email,"[Label(name=""enhancement"")]","See 
[RFC 6530 - Overview and Framework for Internationalized Email](https://tools.ietf.org/html/rfc6530)
[RFC 6531 - SMTP Extension for Internationalized Email](https://tools.ietf.org/html/rfc6531)
[RFC 6532 - Internationalized Email Headers](https://tools.ietf.org/html/rfc6532)
[RFC 6533 - Internationalized Delivery Status and Disposition Notifications](https://tools.ietf.org/html/rfc6533)"
k9mail/k-9,closed,Punycode domain zone,[],"Please add the ability to work with domain zones located in the zone "".рф"" (example 
 user@деловые-сети.рф). Now it is impossible to send a letter to a box with such a domain, it is also not possible to configure a program to work with a box in such a zone. See international domain names. https://mothereff.in/punycode"
k9mail/k-9,open,ability to move messages stored locally.,[],"Would love to be able to move messages between the trash and other folders.

I've been using k9 for as long as I can remember but tired of having to constantly look in the trash for messages that get deleted (ALL TOO EASILY...RELOCATE BUTTONS)"
k9mail/k-9,closed,Something should be done about the following two things,[],Those two things are the high amount of Issues and Branches. Please take a look and see if the issues are valid or not and if the stale Branches could be integrated into the main Branch or not.
k9mail/k-9,open,[Feature Request] 3-Pane View,"[Label(name=""enhancement"")]","It would be nice if it had an option to show 3 panes which would consist of the following:

1. The folder list in the left one.
2. The message list of the selected folder in the upper right one.
3. The selected message's content in the lower left one."
k9mail/k-9,closed,Added fr (French) translation,[],"I have translated your application into `fr` (*French*). Here is the xml:
```xml
<!-- File ""strings.xml"" -->
<?xml version='1.0' encoding='UTF-8'?>
<resources xmlns:xliff=""urn:oasis:names:tc:xliff:document:1.2"">
    <!-- === App-specific strings ============================================================= -->

    <!-- This should make it easier for forks to change the branding -->

    <!-- Used in AndroidManifest.xml -->
    <string name=""app_name"">Courriel K-9 Mail</string>

    <string name=""shortcuts_title"">Comptes K-9</string>
    <string name=""unread_widget_label"">K-9 non lus</string>

    <string name=""remote_control_label"">Contrôle à distance de Courriel K-9 Mail</string>
    <string name=""remote_control_desc"">Permet à cette application de contrôler les activités et les paramètres de Courriel K-9 Mail</string>


    <!-- Used in the about dialog -->
    <string name=""app_authors"">Google, The K-9 Dog Walkers.</string>
    <string name=""app_copyright_fmt"">Tous droits réservés 2008-&lt;xliff:g &gt;%s&lt;/xliff:g&gt; The K-9 Dog Walkers. Parties protégées par droits d\'auteur 2006-&lt;xliff:g &gt;%s&lt;/xliff:g&gt; le projet libre Android.</string>
    <string name=""app_license"">Sous licence Apache, version 2.0.</string>


    <!-- Welcome message -->
    <string name=""welcome_message_title"">Bienvenue sur Courriel K-9 Mail</string>
    <string name=""accounts_welcome""><p> Courriel K-9 Mail est un client de courriel puissant et ouvert pour Android. </p><p> Ses fonctions améliorées incluent : </p> <ul>   <li>Courriel poussé utilisant IMAP IDLE</li>   <li>Meilleures performances</li>   <li>Réarchivage des messages</li>   <li>Signatures des courriels</li>   <li>Cci-à-soi</li>   <li>Abonnement aux dossiers</li>   <li>Synchronisation de tous les dossiers </li>   <li>Configuration de l\'adresse de retour</li>   <li>Raccourcis clavier</li>   <li>Meilleure prise en charge IMAP</li>   <li>Enregistrements des pièces jointes sur la carte SD</li>   <li>Vidage de la corbeille</li>   <li>Tri des messages</li>   <li>et plus…</li> </ul> <p> Veuillez noter que K-9 ne prend pas en charge la plupart des comptes  Hotmail gratuits et que, comme pour beaucoup de clients de courriel, la communication avec Microsoft Exchange est capricieuse. </p><p> Veuillez rapporter les bogues, recommander de nouvelles fonctions et poser vos questions sur <a href=\""https://github.com/k9mail/k-9/\"">https://github.com/k9mail/k-9/</a>. </p></string>


    <!-- Default signature -->
    <string name=""default_signature"">-- \n
    Envoyé de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser ma brièveté.</string>


    <!-- General strings that include the app name -->
    <string name=""account_delete_dlg_instructions_fmt"">Le compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0» sera enlevé de Courriel K-9 Mail.</string>
    <string name=""account_recreate_dlg_instructions_fmt"">Toutes les données de  «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0» seront enlevées. Les paramètres du compte seront conservés.</string>
    <string name=""account_clear_dlg_instructions_fmt"">Les copies locales des messages de «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0» seront enlevées. Les paramètres du compte seront conservés.</string>



    <!-- === App Store-specific strings ======================================================= -->

    <string name=""import_dialog_error_message"">Veuillez installer un gestionnaire de fichiers pour continuer cette importation.</string>
    <string name=""open_market"">Ouvrir le Google Play Store</string>



    <!-- === General strings ================================================================== -->

    <string name=""app_authors_fmt"">Auteurs\\u00A0: &lt;xliff:g id=\""app_authors\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""app_revision_fmt"">Informations de révision\\u00A0: %s</string>
    <string name=""app_libraries"">Nous utilisons les bibliothèques tierces suivantes\\u00A0: &lt;xliff:g id=\""app_libraries_list\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""app_emoji_icons"">Icônes Emoji\\u00A0: &lt;xliff:g id=\""app_emoji_icons_link\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""read_attachment_label"">lire les pièces jointes</string>
    <string name=""read_attachment_desc"">Permet à cette application de lire vos pièces jointes.</string>
    <string name=""read_messages_label"">lire les courriels</string>
    <string name=""read_messages_desc"">Permet à cette application de lire vos courriels.</string>
    <string name=""delete_messages_label"">Supprimer les courriels</string>
    <string name=""delete_messages_desc"">Permet à cette application de supprimer vos courriels</string>

    <string name=""about_title_fmt"">À propos de &lt;xliff:g id=\""app_name\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""accounts_title"">Comptes</string>
    <string name=""folders_title"">Dossiers</string>
    <string name=""advanced"">Avancé</string>

    <string name=""message_list_title"">&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""compose_title_compose"">Composer</string>
    <string name=""compose_title_reply"">Répondre</string>
    <string name=""compose_title_reply_all"">Répondre à tous</string>
    <string name=""compose_title_forward"">Transférer</string>

    <string name=""choose_folder_title"">Choisir un dossier</string>

    <string name=""status_loading_account_folder"">Récup. &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_loading_account_folder_headers"">Récup. entêtes &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_sending_account"">Envoi &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_processing_account"">Prép &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""command\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""folder_progress"">\\u0020&lt;xliff:g id=\""completed\"" &gt;%d&lt;/xliff:g&gt;/&lt;xliff:g id=\""total\"" &gt;%d&lt;/xliff:g&gt;</string>

    <string name=""status_next_poll"">Prochaine récup. &lt;xliff:g id=\""nexttime\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_no_network"">Synchronisation désactivée</string>
    <string name=""status_no_background"">Synchronisation désactivée - pas d\'activité d\'arrière-plan</string>
    <string name=""status_poll_and_push_disabled"">Récupération et envoi désactivés</string>
    <string name=""status_syncing_blocked"">Synchronisation bloquée</string>
    <string name=""status_syncing_off"">Synchronisation désactivée</string>

    <string name=""actionbar_selected"">&lt;xliff:g id=\""selection_count\"" &gt;%d&lt;/xliff:g&gt; sélectionné(s)</string>
    <string name=""next_action"">Suivant</string>
    <string name=""previous_action"">Précédent</string>
    <!-- Used to confirm acceptance of dialog boxes, warnings, errors, etc. -->
    <string name=""okay_action"">OK</string>
    <string name=""cancel_action"">Annuler</string>
    <string name=""send_action"">Envoyer</string>
    <string name=""send_again_action"">Renvoyer</string>
    <string name=""empty_subject"">L\'objet est vide. Cliquer de nouveau pour envoyer quand même</string>
    <string name=""select_action"">Sélectionner</string>
    <string name=""deselect_action"">Dessélectionner</string>
    <string name=""reply_action"">Répondre</string>
    <string name=""reply_all_action"">Répondre à tous</string>
    <string name=""delete_action"">Supprimer</string>
    <string name=""archive_action"">Archiver</string>
    <string name=""spam_action"">Pourriel</string>
    <string name=""forward_action"">Transférer</string>
    <string name=""move_action"">Déplacer</string>
    <string name=""single_message_options_action"">Envoyer…</string>
    <string name=""refile_action"">Reclasser…</string>
    <string name=""done_action"">Terminé</string>
    <string name=""discard_action"">Jeter</string>
    <string name=""save_draft_action"">Enregistrer comme brouillon</string>
    <string name=""check_mail_action"">Vérif. courriels</string>
    <string name=""send_messages_action"">Envoyer les messages</string>
    <string name=""refresh_folders_action"">Rafraîchir la liste des dossiers</string>
    <string name=""filter_folders_action"">Trouver un dossier</string>
    <string name=""add_account_action"">Ajouter un compte</string>
    <string name=""compose_action"">Composer</string>
    <string name=""search_action"">Rechercher</string>
    <string name=""search_results"">Résultats de la recherche</string>
    <string name=""preferences_action"">Paramètres</string>
    <string name=""account_settings_action"">Paramètres du compte</string>
    <string name=""folder_settings_action"">Paramètres du dossier</string>
    <string name=""global_settings_action"">Paramètres globaux</string>
    <string name=""remove_account_action"">Enlever le compte</string>
    <string name=""clear_pending_action"">Annuler les actions en attente (danger\\u00A0!)</string>

    <string name=""mark_as_read_action"">Marquer comme lu</string>
    <string name=""send_alternate_action"">Partager</string>
    <string name=""send_alternate_chooser_title"">Choisir l\'expéditeur</string>

    <string name=""flag_action"">Ajouter une étoile</string>
    <string name=""unflag_action"">Enlever l\'étoile</string>
    <string name=""copy_action"">Copier</string>
    <string name=""select_text_action"">Sélection de texte</string>
    <string name=""show_headers_action"">Afficher les entêtes</string>
    <string name=""hide_headers_action"">Masquer les entêtes</string>
    <plurals name=""copy_address_to_clipboard"">
        <item quantity=""one"">Adresse copiée dans le presse-papiers</item>
        <item quantity=""other"">Adresses copiées dans le presse-papiers</item>
    </plurals>

    <string name=""message_view_theme_action_dark"">Basculer vers le thème foncé</string>
    <string name=""message_view_theme_action_light"">Basculer vers le thème clair</string>

    <string name=""mark_as_unread_action"">Marquer comme non lu</string>
    <string name=""read_receipt"">Accusé de lecture</string>
    <string name=""read_receipt_enabled"">Un accusé de lecture sera demandé</string>
    <string name=""read_receipt_disabled"">Un accusé de lecture ne sera pas demandé</string>
    <string name=""add_attachment_action"">Ajouter une pièce jointe</string>
    <string name=""empty_trash_action"">Vidage de la corbeille</string>
    <string name=""expunge_action"">Supprimer</string>
    <string name=""clear_local_folder_action"">Effacer les messages locaux</string>
    <string name=""about_action"">À propos de</string>

    <string name=""prefs_title"">Paramètres</string>
    <string name=""accounts_context_menu_title"">Options du compte</string>

    <!-- Shown in place of the subject when a message has no subject. Showing this in parentheses is customary. -->
    <string name=""general_no_subject"">(Aucun objet)</string>
    <string name=""general_no_sender"">Aucun expéditeur</string>
    <string name=""status_loading"">Récupération</string>
    <string name=""status_loading_more"">Chargement des messages\\u2026</string>
    <string name=""status_network_error"">Erreur de connexion</string>
    <string name=""status_invalid_id_error"">Message introuvable</string>
    <string name=""status_loading_error"">Erreur de chargement de message</string>

    <string name=""status_loading_more_failed"">Réessayer de charger plus de messages</string>

    <string name=""load_more_messages_fmt"">Charger jusqu\'à &lt;xliff:g id=\""messages_to_load\"" &gt;%d&lt;/xliff:g&gt; de plus</string>

    <string name=""abbrev_gigabytes"">Go</string>
    <string name=""abbrev_megabytes"">Mo</string>
    <string name=""abbrev_kilobytes"">ko</string>
    <string name=""abbrev_bytes"">o</string>

    <string name=""account_size_changed"">Compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0» rétréci de &lt;xliff:g id=\""oldSize\"" &gt;%s&lt;/xliff:g&gt; à &lt;xliff:g id=\""newSize\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""compacting_account"">Compactage du compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0»</string>
    <string name=""clearing_account"">Effacement du compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0»</string>
    <string name=""recreating_account"">Recréation du compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0»</string>

    <string name=""notification_new_title"">Nouveau courriel</string>
    <plurals name=""notification_new_messages_title"">
        <item quantity=""one"">&lt;xliff:g id=\""new_message_count\"" &gt;%d&lt;/xliff:g&gt; nouveau message</item>
        <item quantity=""other"">&lt;xliff:g id=\""new_message_count\"" &gt;%d&lt;/xliff:g&gt; nouveaux messages</item>
    </plurals>
    <string name=""notification_new_one_account_fmt"">&lt;xliff:g id=\""unread_message_count\"" &gt;%d&lt;/xliff:g&gt; non lus (&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""notification_additional_messages"">+ &lt;xliff:g id=\""additional_messages\"" &gt;%1$d&lt;/xliff:g&gt; de plus sur &lt;xliff:g id=\""account\"" &gt;%2$s&lt;/xliff:g&gt;</string>

    <string name=""notification_action_reply"">Répondre</string>
    <string name=""notification_action_mark_as_read"">Marquer comme lu</string>
    <string name=""notification_action_mark_all_as_read"">Tout marquer comme lu</string>
    <string name=""notification_action_delete"">Supprimer</string>
    <string name=""notification_action_delete_all"">Tout supprimer</string>
    <string name=""notification_action_archive"">Archiver</string>
    <string name=""notification_action_archive_all"">Tout archiver</string>
    <string name=""notification_action_spam"">Pourriel</string>
    <string name=""notification_certificate_error_title"">Erreur de certificat pour (&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""notification_certificate_error_text"">Vérifier vos paramètres de serveur</string>

    <string name=""notification_authentication_error_title"">Échec d\'authentification</string>
    <string name=""notification_authentication_error_text"">Échec d\'authentification pour &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;. Mettre à jour les paramètres du serveur.</string>

    <string name=""notification_bg_sync_ticker"">Vérification des courriels\\u00A0: &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""notification_bg_sync_title"">Vérification des courriels</string>
    <string name=""notification_bg_send_ticker"">Envoi du courriel\\u00A0: &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""notification_bg_send_title"">Envoi du courriel</string>
    <string name=""notification_bg_title_separator"">:</string>

    <string name=""special_mailbox_name_inbox"">Boîte de réception</string>
    <string name=""special_mailbox_name_outbox"">Boîte d\'envoi</string>
    <string name=""special_mailbox_name_drafts"">Brouillons</string>
    <string name=""special_mailbox_name_trash"">Corbeille</string>
    <string name=""special_mailbox_name_sent"">Envoyés</string>
    <string name=""special_mailbox_name_archive"">Archive</string>
    <string name=""special_mailbox_name_spam"">Pourriel</string>

    <string name=""special_mailbox_name_drafts_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Brouillons)</string>
    <string name=""special_mailbox_name_trash_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Corbeille)</string>
    <string name=""special_mailbox_name_sent_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Envoyés)</string>
    <string name=""special_mailbox_name_archive_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Archive)</string>
    <string name=""special_mailbox_name_spam_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Spam)</string>

    <string name=""send_failure_subject"">Échec lors de l\'envoi de certains messages</string>

    <string name=""debug_version_fmt"">Version\\u00A0: &lt;xliff:g id=\""version\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""debug_enable_debug_logging_title"">Activer le journal de débogage</string>
    <string name=""debug_enable_debug_logging_summary"">Journaliser les informations de diagnostic supplémentaires</string>
    <string name=""debug_enable_sensitive_logging_title"">Journaliser les informations délicates</string>
    <string name=""debug_enable_sensitive_logging_summary"">Pourrait montrer les mots de passe dans les journaux.</string>

    <string name=""message_list_load_more_messages_action"">Charger plus de messages</string>
    <string name=""message_to_fmt"">À\\u00A0: &lt;xliff:g id=\""counterParty\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""message_compose_subject_hint"">Objet</string>
    <string name=""message_compose_content_hint"">Texte du message</string>
    <string name=""message_compose_signature_hint"">Signature</string>
    <string name=""message_compose_quote_header_separator"">-------- Message d\'origine --------</string>
    <string name=""message_compose_quote_header_subject"">Objet\\u00A0:</string>
    <string name=""message_compose_quote_header_send_date"">Envoyé\\u00A0:</string>
    <string name=""message_compose_quote_header_from"">De\\u00A0:</string>
    <string name=""message_compose_quote_header_to"">À\\u00A0:</string>
    <string name=""message_compose_quote_header_cc"">Cc\\u00A0:</string>
    <string name=""message_compose_reply_header_fmt"">&lt;xliff:g id=\""sender\"" &gt;%s&lt;/xliff:g&gt; a écrit\\u00A0:</string>
    <string name=""message_compose_reply_header_fmt_with_date"">Le &lt;xliff:g id=\""sent_date\"" &gt;%1$s&lt;/xliff:g&gt;, &lt;xliff:g id=\""sender\"" &gt;%2$s&lt;/xliff:g&gt; a écrit :</string>
    <string name=""message_compose_error_no_recipients"">Vous devez ajouter au moins un destinataire.</string>
    <string name=""compose_error_incomplete_recipient"">Le champ des destinataires contient une entrée incomplète !</string>
    <string name=""error_contact_address_not_found"">Aucune adresse courriel de trouvée pour ce contact.</string>
    <string name=""message_compose_attachments_skipped_toast"">Certaines pièces jointes ne peuvent pas être transférées car elles n\'ont pas été téléchargées.</string>
    <string name=""message_compose_show_quoted_text_action"">Citer le message</string>
    <string name=""message_compose_description_delete_quoted_text"">Enlever le texte entre guillemets</string>
    <string name=""message_compose_description_edit_quoted_text"">Modifier le texte entre guillemets</string>

    <string name=""message_view_from_format"">De : &lt;xliff:g id=\""name\"" &gt;%s&lt;/xliff:g&gt; &lt;&lt;xliff:g id=\""email\"" &gt;%s&lt;/xliff:g&gt;&gt;</string>
    <string name=""message_to_label"">À\\u00A0:</string>
    <string name=""message_view_cc_label"">Cc\\u00A0:</string>
    <string name=""message_view_attachment_view_action"">Ouvrir</string>
    <string name=""message_view_attachment_download_action"">Enregistrer</string>
    <string name=""message_view_status_attachment_not_saved"">Impossible d\'enregistrer la pièce jointe sur la carte SD.</string>
    <string name=""message_view_status_no_space"">Il n\'y a pas assez d\'espace pour enregistrer le fichier attaché.</string>
    <string name=""message_view_show_pictures_action"">Afficher les images</string>
    <string name=""message_view_no_viewer"">Impossible de trouver un visualiseur pour &lt;xliff:g id=\""mimetype\"" &gt;%s&lt;/xliff:g&gt;.</string>
    <string name=""message_view_download_remainder"">Télécharger le message complet</string>
    <string name=""message_view_toast_unable_to_display_message"">Impossible d\'afficher le message</string>
    <string name=""message_view_sender_label"">via %1$s</string>

    <!-- NOTE: The following message refers to strings with id account_setup_incoming_save_all_headers_label and account_setup_incoming_title -->
    <string name=""message_no_additional_headers_available"">Toutes les entêtes ont été téléchargées, mais il n\'y en a pas d\'autres à montrer.</string>
    <string name=""message_additional_headers_retrieval_failed"">La récupération d\'entêtes supplémentaires de la base de données ou du serveur de courriel a échouée.</string>

    <string name=""from_same_sender"">Plus de cet expéditeur</string>

    <string name=""message_discarded_toast"">Message éliminé</string>
    <string name=""message_saved_toast"">Message enregistré comme brouillon</string>

    <string name=""global_settings_flag_label"">Montrer les étoiles</string>
    <string name=""global_settings_flag_summary"">Les étoiles indiquent des messages suivis</string>
    <string name=""global_settings_checkbox_label"">Cases à cocher à choix multiples</string>
    <string name=""global_settings_checkbox_summary"">Toujours afficher les cases à cocher à choix multiples</string>
    <string name=""global_settings_preview_lines_label"">Lignes dʼaperçu</string>
    <string name=""global_settings_show_correspondent_names_label"">Afficher le nom des correspondants</string>
    <string name=""global_settings_show_correspondent_names_summary"">Afficher le nom des correspondants plutôt que leur adresse courriel</string>

    <string name=""global_settings_sender_above_subject_label"">Correspondants au-dessus de l\'objet</string>
    <string name=""global_settings_sender_above_subject_summary"">Afficher le nom des correspondants au dessus de la ligne d\'objet, plutôt qu\'en dessous</string>

    <string name=""global_settings_show_contact_name_label"">Utiliser les noms des contacts</string>
    <string name=""global_settings_show_contact_name_summary"">Utiliser en priorité les noms du carnet d\'adresses si disponibles</string>
    <string name=""global_settings_registered_name_color_label"">Colorer les contacts</string>
    <string name=""global_settings_registered_name_color_default"">Ne pas colorer les noms dans votre liste de contacts</string>
    <string name=""global_settings_registered_name_color_changed"">Colorer les noms dans votre liste de contacts</string>
    <string name=""global_settings_folderlist_wrap_folder_names_label"">Retour sur les noms de dossier longs</string>
    <string name=""global_settings_folderlist_wrap_folder_names_summary"">Utiliser plusieurs lignes pour afficher les noms de dossier longs</string>

    <string name=""global_settings_messageview_fixedwidth_label"">Police à largeur fixe</string>
    <string name=""global_settings_messageview_fixedwidth_summary"">Utiliser une police à largeur fixe pour les messages en clair</string>
    <string name=""global_settings_messageview_autofit_width_label"">Ajustement auto des messages</string>
    <string name=""global_settings_messageview_autofit_width_summary"">Réduire les messages pour les adapter à l\'écran</string>
    <string name=""global_settings_messageview_return_to_list_label"">Retourner à la liste après suppression</string>
    <string name=""global_settings_messageview_return_to_list_summary"">Retourner à la liste de messages après la suppression d\'un message</string>
    <string name=""global_settings_messageview_show_next_label"">Afficher le message suivant après suppression</string>
    <string name=""global_settings_messageview_show_next_summary"">Afficher le message suivant par défaut après la suppression d\'un message</string>

    <string name=""global_settings_confirm_actions_title"">Confirmer les actions</string>
    <string name=""global_settings_confirm_actions_summary"">Demander une confirmation lors de certaines actions</string>
    <string name=""global_settings_confirm_action_delete"">Supprimer</string>
    <string name=""global_settings_confirm_action_delete_starred"">Supprimer étoilé (en mode lecture)</string>
    <string name=""global_settings_confirm_action_spam"">Pourriel</string>
    <string name=""global_settings_confirm_menu_discard"">Jeter le message</string>
    <string name=""global_settings_confirm_menu_mark_all_read"">Marquer tous les messages comme lus.</string>
    <string name=""global_settings_confirm_action_delete_notif"">Supprimer (depuis notification)</string>

    <string name=""global_settings_privacy_hide_useragent"">Enlever l\'agent utilisateur K-9 des en-têtes de courriels</string>
    <string name=""global_settings_privacy_hide_useragent_detail"">Enlever K-9 User-agent des en-têtes de courriel</string>
    <string name=""global_settings_privacy_hide_timezone"">Utiliser UTC comme fuseau horaire dans les en-têtes de courriels</string>
    <string name=""global_settings_privacy_hide_timezone_detail"">Utiliser l\'heure UTC au lieu de l\'heure locale dans les en-têtes de courriels et de réponses.</string>
    <string name=""global_settings_notification_hide_subject_title"">Masquer l\'ojet dans les notifications</string>
    <string name=""global_settings_notification_hide_subject_never"">Jamais</string>
    <string name=""global_settings_notification_hide_subject_when_locked"">Lorsque l\'appareil est verrouillé</string>
    <string name=""global_settings_notification_hide_subject_always"">Toujours</string>

    <string name=""global_settings_notification_quick_delete_title"">Afficher le bouton «\\u00A0Supprimer\\u00A0»</string>
    <string name=""global_settings_notification_quick_delete_never"">Jamais</string>
    <string name=""global_settings_notification_quick_delete_when_single_msg"">Pour la notification de message unique</string>
    <string name=""global_settings_notification_quick_delete_always"">Toujours</string>
    <string name=""global_settings_notification_quick_delete_description"">Afficher un bouton dans les notification permettant la suppression rapide des messages</string>

    <string name=""global_settings_lock_screen_notification_visibility_title"">Notifications d\'écran verrouillé</string>
    <string name=""global_settings_lock_screen_notification_visibility_nothing"">Notifications d\'écran déverrouillé</string>
    <string name=""global_settings_lock_screen_notification_visibility_app_name"">Nom d\'application</string>
    <string name=""global_settings_lock_screen_notification_visibility_message_count"">Nombre de messages non lus</string>
    <string name=""global_settings_lock_screen_notification_visibility_senders"">Nombre de messages et d\'expéditeurs</string>
    <string name=""global_settings_lock_screen_notification_visibility_everything"">Identiques à celles de l\'écran verrouillé</string>

    <string name=""quiet_time"">Période calme</string>
    <string name=""quiet_time_description"">Désactiver la sonnerie, la vibration et le clignotement pendant la nuit</string>
    <string name=""quiet_time_notification"">Désactiver les notifications</string>
    <string name=""quiet_time_notification_description"">Désactiver complètement les notifications en période calme</string>
    <string name=""quiet_time_starts"">Début de la période calme</string>
    <string name=""quiet_time_ends"">Fin de la période calme</string>

    <string name=""account_setup_basics_title"">Configurer un nouveau compte</string>
    <string name=""account_setup_basics_email_hint"">Adresse courriel</string>
    <string name=""account_setup_basics_password_hint"">Mot de passe</string>
    <string name=""account_setup_basics_show_password"">Montrer le mot de passe</string>
    <string name=""account_setup_basics_manual_setup_action"">Configuration manuelle</string>

    <string name=""account_setup_check_settings_title""/>
    <string name=""account_setup_check_settings_retr_info_msg"">Récupération des informations de compte\\u2026</string>
    <string name=""account_setup_check_settings_check_incoming_msg"">Vérification des paramètres du serveur entrant\\u2026</string>
    <string name=""account_setup_check_settings_check_outgoing_msg"">Vérification des paramètres du serveur sortant\\u2026</string>
    <string name=""account_setup_check_settings_authenticate"">Authentification\\u2026</string>
    <string name=""account_setup_check_settings_fetch"">Récupération des paramètres du compte\\u2026</string>
    <string name=""account_setup_check_settings_canceling_msg"">Annulation\\u2026</string>

    <string name=""account_setup_names_title"">Vous avez presque terminé\\u00A0!</string>
    <string name=""account_setup_names_account_name_label"">Donner un nom à ce compte (facultatif)\\u00A0:</string>
    <string name=""account_setup_names_user_name_label"">Saisissez votre nom (s\'affiche sur les messages sortants)\\u00A0:</string>

    <string name=""account_setup_account_type_title"">Type de compte</string>
    <string name=""account_setup_account_type_instructions"">Quel type de compte est-ce\\u00A0?</string>
    <string name=""account_setup_account_type_pop_action"">POP3</string>
    <string name=""account_setup_account_type_imap_action"">IMAP</string>
    <string name=""account_setup_account_type_webdav_action"">Exchange (WebDAV)</string>

    <string name=""account_setup_auth_type_normal_password"">Mot de passe normal</string>
    <string name=""account_setup_auth_type_insecure_password"">Mot de passe, envoyé sans sécurité</string>
    <string name=""account_setup_auth_type_encrypted_password"">Mot de passe chiffré</string>
    <string name=""account_setup_auth_type_tls_client_certificate"">Certificat client</string>

    <string name=""account_setup_incoming_title"">Paramètres du serveur entrant</string>
    <string name=""account_setup_incoming_username_label"">Nom d\'utilisateur</string>
    <string name=""account_setup_incoming_password_label"">Mot de passe</string>
    <string name=""account_setup_incoming_client_certificate_label"">Certificat client</string>
    <string name=""account_setup_incoming_pop_server_label"">Serveur POP3</string>
    <string name=""account_setup_incoming_imap_server_label"">Serveur IMAP</string>
    <string name=""account_setup_incoming_webdav_server_label"">Serveur Exchange (WebDAV)</string>
    <string name=""account_setup_incoming_port_label"">Port</string>
    <string name=""account_setup_incoming_security_label"">Sécurité</string>
    <string name=""account_setup_incoming_auth_type_label"">Authentification</string>
    <string name=""account_setup_incoming_security_none_label"">Aucun</string>
    <string name=""account_setup_incoming_security_ssl_label"">SSL/TLS</string>
    <string name=""account_setup_incoming_security_tls_label"">STARTTLS</string>
    <string name=""account_setup_incoming_invalid_setting_combo_notice"">« &lt;xliff:g id=\""setting_1_label\"" &gt;%1$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_1_value\"" &gt;%2$s&lt;/xliff:g&gt; » n\'est pas valide avec « &lt;xliff:g id=\""setting_2_label\"" &gt;%3$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_2_value\"" &gt;%4$s&lt;/xliff:g&gt; »</string>

    <string name=""account_setup_incoming_delete_policy_label"">Quand je supprime un message</string>
    <string name=""account_setup_incoming_delete_policy_never_label"">Ne pas effacer sur le serveur</string>
    <string name=""account_setup_incoming_delete_policy_delete_label"">Supprimer du serveur</string>
    <string name=""account_setup_incoming_delete_policy_markread_label"">Marquer comme lu sur le serveur</string>

    <string name=""account_setup_incoming_compression_label"">Utiliser la compression sur le réseau\\u00A0:</string>
    <string name=""account_setup_incoming_mobile_label"">mobile</string>
    <string name=""account_setup_incoming_wifi_label"">Wi-Fi</string>
    <string name=""account_setup_incoming_other_label"">autre</string>

    <string name=""local_storage_provider_external_label"">Stockage externe (carte SD)</string>
    <string name=""local_storage_provider_internal_label"">Stockage interne habituel</string>
    <string name=""local_storage_provider_samsunggalaxy_label"">Stockage interne additionnel %1$s</string>
    <string name=""local_storage_provider_label"">Emplacement du stockage</string>

    <string name=""account_setup_expunge_policy_label"">Effacer les messages supprimés du serveur</string>
    <string name=""account_setup_expunge_policy_immediately"">Immédiatement</string>
    <string name=""account_setup_expunge_policy_on_poll"">Lors de la récupération</string>
    <string name=""account_setup_expunge_policy_manual"">Manuellement</string>

    <string name=""account_setup_incoming_autodetect_namespace_label"">Auto-détection des espaces de nommage IMAP</string>
    <string name=""account_setup_incoming_imap_path_prefix_label"">Préfixe de chemin IMAP</string>

    <string name=""drafts_folder_label"">Dossier des brouillons</string>
    <string name=""sent_folder_label"">Dossier des envois</string>
    <string name=""trash_folder_label"">Dossier de la corbeille</string>
    <string name=""archive_folder_label"">Dossier des archives</string>
    <string name=""spam_folder_label"">Dossier des pourriels</string>

    <string name=""account_setup_incoming_subscribed_folders_only_label"">Afficher seulement les dossiers auxquels je suis abonné</string>
    <string name=""account_setup_auto_expand_folder"">Ouvrir automatiquement le dossier</string>

    <string name=""account_setup_incoming_webdav_path_prefix_label"">Chemin OWA</string>
    <string name=""account_setup_incoming_webdav_path_prefix_hint"">Facultatif</string>

    <string name=""account_setup_incoming_webdav_auth_path_label"">Chemin d\'authentification</string>
    <string name=""account_setup_incoming_webdav_auth_path_hint"">Facultatif</string>
    <string name=""account_setup_incoming_webdav_mailbox_path_label"">Alias de la boîte de courriels</string>
    <string name=""account_setup_incoming_webdav_mailbox_path_hint"">Facultatif</string>

    <string name=""account_setup_outgoing_title"">Paramètres du serveur sortant</string>
    <string name=""account_setup_outgoing_smtp_server_label"">Serveur SMTP</string>
    <string name=""account_setup_outgoing_port_label"">Port</string>
    <string name=""account_setup_outgoing_security_label"">Sécurité</string>
    <string name=""account_setup_outgoing_require_login_label"">Authentification exigée.</string>
    <string name=""account_setup_outgoing_username_label"">Nom d\'utilisateur</string>
    <string name=""account_setup_outgoing_password_label"">Mot de passe</string>
    <string name=""account_setup_outgoing_authentication_label"">Authentification</string>
    <string name=""account_setup_outgoing_invalid_setting_combo_notice"">« &lt;xliff:g id=\""setting_1_label\"" &gt;%1$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_1_value\"" &gt;%2$s&lt;/xliff:g&gt; » n\'est pas valide avec \""&lt;xliff:g id=\""setting_2_label\"" &gt;%3$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_2_value\"" &gt;%4$s&lt;/xliff:g&gt; »</string>

    <string name=""account_setup_bad_uri"">Paramétrage invalide\\u00A0: &lt;xliff:g id=\""err_mess\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""account_setup_options_title"">Options du compte</string>

    <string name=""compact_action"">Compacter le compte</string>
    <string name=""clear_action"">Vider les messages (danger\\u00A0!)</string>
    <string name=""recreate_action"">Recréer les données (dernier recours\\u00A0!)</string>

    <string name=""account_setup_options_mail_check_frequency_label"">Fréquence de récupération du dossier</string>
    <string name=""account_setup_options_mail_check_frequency_never"">Jamais</string>
    <string name=""account_setup_options_mail_check_frequency_1min"">Toutes les minutes</string>
    <string name=""account_setup_options_mail_check_frequency_5min"">Toutes les 5 minutes</string>
    <string name=""account_setup_options_mail_check_frequency_10min"">Toutes les 10 minutes</string>
    <string name=""account_setup_options_mail_check_frequency_15min"">Toutes les 15 minutes</string>
    <string name=""account_setup_options_mail_check_frequency_30min"">Toutes les 30 minutes</string>
    <string name=""account_setup_options_mail_check_frequency_1hour"">Toutes les heures</string>
    <string name=""account_setup_options_mail_check_frequency_2hour"">Toutes les 2 heures</string>
    <string name=""account_setup_options_mail_check_frequency_3hour"">Toutes les 3 heures</string>
    <string name=""account_setup_options_mail_check_frequency_6hour"">Toutes les 6 heures</string>
    <string name=""account_setup_options_mail_check_frequency_12hour"">Toutes les 12 heures</string>
    <string name=""account_setup_options_mail_check_frequency_24hour"">Toutes les 24 heures</string>

    <string name=""push_poll_on_connect_label"">Récupération lors d\'une connexion pour le pousser</string>
    <string name=""account_setup_options_enable_push_label"">Activer le courriel poussé pour ce compte</string>
    <string name=""account_setup_options_enable_push_summary"">Si votre serveur le prend an charge, les nouveaux messages apparaîtront instantanément. Cette option peut considérablement améliorer ou dégrader les performances.</string>
    <string name=""idle_refresh_period_label"">Rafraîchir la connexion IDLE</string>
    <string name=""idle_refresh_period_1min"">Toutes les minutes</string>
    <string name=""idle_refresh_period_2min"">Toutes les 2 minutes</string>
    <string name=""idle_refresh_period_3min"">Toutes les 3 minutes</string>
    <string name=""idle_refresh_period_6min"">Toutes les 6 minutes</string>
    <string name=""idle_refresh_period_12min"">Toutes les 12 minutes</string>
    <string name=""idle_refresh_period_24min"">Toutes les 24 minutes</string>
    <string name=""idle_refresh_period_36min"">Toutes les 36 minutes</string>
    <string name=""idle_refresh_period_48min"">Toutes les 48 minutes</string>
    <string name=""idle_refresh_period_60min"">Toutes les 60 minutes</string>

    <string name=""account_setup_options_notify_label"">M\'avertir lors de l\'arrivée de courriels</string>
    <string name=""account_setup_options_notify_sync_label"">M\'avertir lors de la vérification des courriels</string>

    <string name=""account_setup_options_mail_display_count_label"">Nombre de messages à afficher</string>
    <string name=""account_setup_options_mail_display_count_10"">10 messages</string>
    <string name=""account_setup_options_mail_display_count_25"">25 messages</string>
    <string name=""account_setup_options_mail_display_count_50"">50 messages</string>
    <string name=""account_setup_options_mail_display_count_100"">100 messages</string>
    <string name=""account_setup_options_mail_display_count_250"">250 messages</string>
    <string name=""account_setup_options_mail_display_count_500"">500 messages</string>
    <string name=""account_setup_options_mail_display_count_1000"">1 000 messages</string>
    <string name=""account_setup_options_mail_display_count_2500"">2 500 messages</string>
    <string name=""account_setup_options_mail_display_count_5000"">5 000 messages</string>
    <string name=""account_setup_options_mail_display_count_10000"">10 000 messages</string>
    <string name=""account_setup_options_mail_display_count_all"">tous les messages</string>

    <string name=""move_copy_cannot_copy_unsynced_message"">Impossible de copier ou déplacer un message qui n\'est pas synchronisé avec le serveur</string>

    <string name=""account_setup_failed_dlg_title"">La configuration n\'a pas pu être terminée</string>
    <string name=""account_setup_failed_dlg_auth_message_fmt"">Nom d\'utilisateur ou mot de passe incorrect.\n
    (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_certificate_message_fmt"">Le serveur a présenté un certificat SSL invalide. Ceci est parfois causé par une mauvaise configuration du serveur. Parfois, quelqu\'un essaie de vous attaquer ou d\'attaquer votre serveur de courriel. Si vous n\'êtes pas sûr de ce qu\'il se passe, cliquez sur Rejeter et contactez les gestionnaires du serveur de courriel.\n
    \n
    (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_server_message_fmt"">Impossible de se connecter au serveur.\n
    (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_edit_details_action"">Modifier les détails</string>
    <string name=""account_setup_failed_dlg_continue_action"">Continuer</string>

    <string name=""account_settings_push_advanced_title"">Avancé</string>
    <string name=""account_settings_title_fmt"">Paramètres du compte</string>
    <string name=""account_settings_default_label"">Compte par défaut</string>
    <string name=""account_settings_default_summary"">Envoyer les courriels de ce compte par défaut</string>
    <string name=""account_settings_notify_label"">Notifications de nouveaux courriels</string>

    <string name=""account_settings_folder_notify_new_mail_mode_label"">Dossiers des notifications</string>
    <string name=""account_settings_folder_notify_new_mail_mode_all"">Tous</string>
    <string name=""account_settings_folder_notify_new_mail_mode_first_class"">Seulement les dossiers de 1re classe</string>
    <string name=""account_settings_folder_notify_new_mail_mode_first_and_second_class"">Dossiers de 1re et 2e classes</string>
    <string name=""account_settings_folder_notify_new_mail_mode_not_second_class"">Tous sauf les dossiers de 2e classe</string>
    <string name=""account_settings_folder_notify_new_mail_mode_none"">Aucun</string>

    <string name=""account_settings_notify_sync_label"">Notifications de synchronisation</string>
    <string name=""account_settings_email_label"">Votre adresse courriel</string>
    <string name=""account_settings_notify_summary"">Notification dans la barre d\'état à la réception d\'un courriel</string>
    <string name=""account_settings_notify_sync_summary"">Notification dans la barre d\'état lors de la vérification des courriels</string>
    <string name=""account_settings_notify_self_label"">Inclure les courriels sortants</string>
    <string name=""account_settings_notify_self_summary"">Afficher une notification pour les messages que j\'ai envoyés</string>
    <string name=""account_notify_contacts_mail_only_label"">Contacts seulement</string>
    <string name=""account_notify_contacts_mail_only_summary"">N\'afficher des notifications que pour les messages de contacts connus</string>
    <string name=""account_settings_notification_opens_unread_label"">La notification ouvre les messages non lus</string>
    <string name=""account_settings_notification_opens_unread_summary"">Recherche des messages non lus lors de l\'accès aux notifications</string>
    <string name=""account_settings_mark_message_as_read_on_view_label"">Marquer comme lu à l\'ouverture</string>
    <string name=""account_settings_mark_message_as_read_on_view_summary"">Marquer un message comme lu quand il est ouvert pour être visualisé</string>

    <string name=""account_settings_show_pictures_label"">Toujours afficher les images</string>
    <string name=""account_settings_show_pictures_never"">Non</string>
    <string name=""account_settings_show_pictures_only_from_contacts"">Pour les contacts uniquement</string>
    <string name=""account_settings_show_pictures_always"">Pour tout le monde</string>

    <string name=""account_settings_composition"">Envoi de courriel</string>

    <string name=""account_settings_default_quoted_text_shown_label"">Citer le message lors de la réponse</string>
    <string name=""account_settings_default_quoted_text_shown_summary"">Inclure le message original dans votre réponse.</string>

    <string name=""account_settings_reply_after_quote_label"">Réponse après la citation</string>
    <string name=""account_settings_reply_after_quote_summary"">Le message original apparaîtra en haut de votre réponse.</string>

    <string name=""account_settings_strip_signature_label"">Retirer les signatures lors d\'une réponse</string>
    <string name=""account_settings_strip_signature_summary"">Les signatures seront enlevées des messages cités</string>

    <string name=""account_settings_message_format_label"">Format du message</string>
    <string name=""account_settings_message_format_text"">Texte en clair (enlever les images et formatage)</string>
    <string name=""account_settings_message_format_html"">HTML (garder les images et formatage)</string>
    <string name=""account_settings_message_format_auto"">Automatique</string>

    <string name=""account_settings_always_show_cc_bcc_label"">Toujours afficher Cc/Cci</string>

    <string name=""account_settings_message_read_receipt_label"">Accusé de lecture</string>
    <string name=""account_settings_message_read_receipt_summary"">Toujours demander un accusé de lecture</string>

    <string name=""account_settings_quote_style_label"">Style de citation des réponses</string>
    <string name=""account_settings_quote_style_prefix"">Préfixe (comme Gmail)</string>
    <string name=""account_settings_quote_style_header"">En-tête (comme Outlook)</string>

    <string name=""account_settings_general_title"">Paramètres généraux</string>
    <string name=""account_settings_reading_mail"">Lecture des courriels</string>
    <string name=""account_settings_sync"">Récupération des courriels</string>
    <string name=""account_settings_folders"">Dossiers</string>
    <string name=""account_settings_quote_prefix_label"">Préfixe de citation</string>
    <string name=""account_settings_crypto"">Cryptographie</string>
    <string name=""account_settings_crypto_app"">Appli OpenPGP</string>
    <string name=""account_settings_crypto_key"">Ma clef</string>
    <string name=""account_settings_no_openpgp_provider_configured"">Aucune appli OpenPGP installée</string>

    <string name=""account_settings_mail_check_frequency_label"">Fréquence de vérification du dossier</string>

    <string name=""account_settings_storage_title"">Stockage</string>

    <string name=""account_settings_color_label"">Couleur du compte</string>
    <string name=""account_settings_color_summary"">La note de couleur du compte tel qu\'affichée dans les listes de dossiers ou de comptes</string>

    <string name=""account_settings_led_color_label"">Couleur de la DEL de notification</string>
    <string name=""account_settings_led_color_summary"">La couleur de clignotement de la DEL de votre appareil</string>

    <string name=""account_settings_mail_display_count_label"">Taille du fichier local</string>

    <string name=""account_settings_autodownload_message_size_label"">Récupérer les messages jusqu\'à</string>
    <string name=""account_settings_autodownload_message_size_1"">1\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_2"">2\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_4"">4\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_8"">8\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_16"">16\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_32"">32\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_64"">64\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_128"">128\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_256"">256\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_512"">512\\u00A0ko</string>
    <string name=""account_settings_autodownload_message_size_1024"">1\\u00A0Mo</string>
    <string name=""account_settings_autodownload_message_size_2048"">2\\u00A0Mo</string>
    <string name=""account_settings_autodownload_message_size_5120"">5\\u00A0Mo</string>
    <string name=""account_settings_autodownload_message_size_10240"">10\\u00A0Mo</string>
    <string name=""account_settings_autodownload_message_size_any"">n\'importe quelle taille</string>

    <string name=""account_settings_message_age_label"">Synchroniser les messages</string>
    <string name=""account_settings_message_age_any"">pour toutes les dates</string>
    <string name=""account_settings_message_age_0"">d\'aujourd\'hui</string>
    <string name=""account_settings_message_age_1"">d\'il y a 2 jours</string>
    <string name=""account_settings_message_age_2"">d\'il y a 3 jours</string>
    <string name=""account_settings_message_age_7"">de la dernière semaine</string>
    <string name=""account_settings_message_age_14"">des dernières 2 semaines</string>
    <string name=""account_settings_message_age_21"">des dernières 3 semaines</string>
    <string name=""account_settings_message_age_1_month"">du dernier mois</string>
    <string name=""account_settings_message_age_2_months"">des derniers 2 mois</string>
    <string name=""account_settings_message_age_3_months"">des derniers 3 mois</string>
    <string name=""account_settings_message_age_6_months"">des derniers 6 mois</string>
    <string name=""account_settings_message_age_1_year"">de la dernière année</string>

    <string name=""account_settings_folder_display_mode_label"">Dossiers à afficher</string>
    <string name=""account_settings_folder_display_mode_all"">Tous</string>
    <string name=""account_settings_folder_display_mode_first_class"">Seulement les dossiers de 1re classe</string>
    <string name=""account_settings_folder_display_mode_first_and_second_class"">Les dossiers de 1re et 2e classes</string>
    <string name=""account_settings_folder_display_mode_not_second_class"">Tous sauf les dossiers de 2e classe</string>

    <string name=""account_settings_folder_sync_mode_label"">Dossiers à récupérer</string>
    <string name=""account_settings_folder_sync_mode_all"">Tous</string>
    <string name=""account_settings_folder_sync_mode_first_class"">Seulement les dossiers de 1re classe</string>
    <string name=""account_settings_folder_sync_mode_first_and_second_class"">Les dossiers de 1re et 2e classes</string>
    <string name=""account_settings_folder_sync_mode_not_second_class"">Tous sauf les dossiers de 2e classe</string>
    <string name=""account_settings_folder_sync_mode_none"">Aucun</string>

    <string name=""account_settings_folder_push_mode_label"">Dossiers du pousser</string>
    <string name=""account_settings_folder_push_mode_all"">Tous</string>
    <string name=""account_settings_folder_push_mode_first_class"">Seulement les dossiers de 1re classe</string>
    <string name=""account_settings_folder_push_mode_first_and_second_class"">Les dossiers de 1re et 2e classes</string>
    <string name=""account_settings_folder_push_mode_not_second_class"">Tous sauf les dossiers de 2e classe</string>
    <string name=""account_settings_folder_push_mode_none"">Aucun</string>

    <string name=""account_settings_folder_target_mode_label"">Dossiers de destination déplacer/copier</string>
    <string name=""account_settings_folder_target_mode_all"">Tous</string>
    <string name=""account_settings_folder_target_mode_first_class"">Seulement les dossiers de 1e classe</string>
    <string name=""account_settings_folder_target_mode_first_and_second_class"">Les dossiers de 1e et 2e classes</string>
    <string name=""account_settings_folder_target_mode_not_second_class"">Tous sauf les dossiers de 2e classe</string>

    <string name=""account_settings_sync_remote_deletetions_label"">Synchroniser les suppressions sur le serveur</string>
    <string name=""account_settings_sync_remote_deletetions_summary"">Enlever les messages lorsqu\'ils sont supprimés sur le serveur</string>

    <string name=""folder_settings_title"">Paramètres du dossier</string>

    <string name=""folder_settings_in_top_group_label"">Afficher dans le groupe principal</string>
    <string name=""folder_settings_in_top_group_summary"">Afficher dans le haut de la liste des dossiers</string>

    <string name=""folder_settings_folder_display_mode_label"">Classe d\'affichage du dossier</string>
    <string name=""folder_settings_folder_display_mode_normal"">Aucun</string>
    <string name=""folder_settings_folder_display_mode_first_class"">1re classe</string>
    <string name=""folder_settings_folder_display_mode_second_class"">2e classe</string>

    <string name=""folder_settings_folder_sync_mode_label"">Classe de synchronisation des dossiers</string>
    <string name=""folder_settings_folder_sync_mode_normal"">Aucun</string>
    <string name=""folder_settings_folder_sync_mode_first_class"">1re classe</string>
    <string name=""folder_settings_folder_sync_mode_second_class"">2e classe</string>
    <string name=""folder_settings_folder_sync_mode_inherited"">Identique à la classe d\'affichage</string>

    <string name=""folder_settings_folder_push_mode_label"">Classe de pousser du dossier</string>
    <string name=""folder_settings_folder_push_mode_normal"">Aucun</string>
    <string name=""folder_settings_folder_push_mode_first_class"">1re classe</string>
    <string name=""folder_settings_folder_push_mode_second_class"">2e classe</string>
    <string name=""folder_settings_folder_push_mode_inherited"">Identique à la classe de synchronisation</string>

    <string name=""folder_settings_folder_notify_mode_label"">Classe de notification des dossiers</string>
    <string name=""folder_settings_folder_notify_mode_normal"">Aucun</string>
    <string name=""folder_settings_folder_notify_mode_first_class"">1re classe</string>
    <string name=""folder_settings_folder_notify_mode_second_class"">2e classe</string>
    <string name=""folder_settings_folder_notify_mode_inherited"">Identique à la classe de pousser</string>

    <string name=""account_settings_incoming_label"">Serveur entrant</string>
    <string name=""account_settings_incoming_summary"">Configurer le serveur de courriel entrant</string>
    <string name=""account_settings_outgoing_label"">Serveur sortant</string>
    <string name=""account_settings_outgoing_summary"">Configurer le serveur de courriel (SMTP) sortant</string>
    <string name=""account_settings_description_label"">Nom du compte</string>
    <string name=""account_settings_name_label"">Votre nom</string>
    <string name=""notifications_title"">Notifications</string>
    <string name=""account_settings_vibrate_enable"">Vibration</string>
    <string name=""account_settings_vibrate_summary"">Vibrer à la réception d\'un courriel</string>
    <string name=""account_settings_vibrate_pattern_label"">Modèles de vibration</string>
    <string name=""account_settings_vibrate_pattern_default"">par défaut</string>
    <string name=""account_settings_vibrate_pattern_1"">modèle 1</string>
    <string name=""account_settings_vibrate_pattern_2"">modèle 2</string>
    <string name=""account_settings_vibrate_pattern_3"">modèle 3</string>
    <string name=""account_settings_vibrate_pattern_4"">modèle 4</string>
    <string name=""account_settings_vibrate_pattern_5"">modèle 5</string>
    <string name=""account_settings_vibrate_times"">Nombre de vibrations</string>
    <string name=""account_settings_ringtone"">Sonnerie pour un nouveau courriel</string>
    <string name=""account_settings_led_label"">Clignotement DEL</string>
    <string name=""account_settings_led_summary"">Clignotement de la DEL quand un courriel arrive</string>

    <string name=""account_settings_composition_title"">Options de composition de message</string>
    <string name=""account_settings_composition_label"">Valeurs par défaut pour la composition</string>
    <string name=""account_settings_composition_summary"">Définir les valeurs par défaut pour De, Cci et la signature</string>

    <string name=""account_settings_identities_label"">Gérer les identités</string>
    <string name=""account_settings_identities_summary"">Définir des adresses «\\u00A0De\\u00A0» et des signatures alternatives</string>

    <string name=""manage_identities_title"">Gérer les identités</string>

    <string name=""manage_identities_context_menu_title"">Gérer l\'identité</string>

    <string name=""edit_identity_title"">Modifier l\'identité</string>
    <string name=""new_identity_action"">Nouvelle identité</string>

    <string name=""account_settings_always_bcc_label"">Envoyer une copie CCi de tous les messages à</string>

    <string name=""manage_identities_edit_action"">Modifier</string>
    <string name=""manage_identities_move_up_action"">Monter</string>
    <string name=""manage_identities_move_down_action"">Descendre</string>
    <string name=""manage_identities_move_top_action"">Monter en haut / définir par défaut</string>
    <string name=""manage_identities_remove_action"">Enlever</string>

    <string name=""edit_identity_description_label"">Description de l\'identité</string>
    <string name=""edit_identity_description_hint"">(Facultatif)</string>
    <string name=""edit_identity_name_label"">Votre nom</string>
    <string name=""edit_identity_name_hint"">(Facultatif)</string>
    <string name=""edit_identity_email_label"">Adresse courriel</string>
    <string name=""edit_identity_email_hint"">(Exigée)</string>
    <string name=""edit_identity_reply_to_label"">Adresse de réponse</string>
    <string name=""edit_identity_reply_to_hint"">(Facultative)</string>
    <string name=""edit_identity_signature_label"">Signature</string>
    <string name=""edit_identity_signature_hint"">(Facultative)</string>

    <string name=""account_settings_signature_use_label"">Utiliser la signature</string>
    <string name=""account_settings_signature_label"">Signature</string>

    <string name=""default_identity_description"">Identité initiale</string>
    <string name=""choose_identity_title"">Choisir l\'identité</string>
    <string name=""send_as"">Envoyer en tant que</string>

    <string name=""no_removable_identity"">Vous ne pouvez pas enlever votre seule identité</string>
    <string name=""identity_has_no_email"">Vous ne pouvez pas utiliser une identité sans adresse courriel</string>

    <string name=""sort_earliest_first"">Messages le plus anciens en premier</string>
    <string name=""sort_latest_first"">Messages les plus récents en premier</string>
    <string name=""sort_subject_alpha"">A-Z par objet</string>
    <string name=""sort_subject_re_alpha"">Z-A par objet</string>
    <string name=""sort_sender_alpha"">A-Z par expéditeur</string>
    <string name=""sort_sender_re_alpha"">Z-A par expéditeur</string>
    <string name=""sort_flagged_first"">Messages étoilés en premier</string>
    <string name=""sort_flagged_last"">Messages sans étoiles en premier</string>
    <string name=""sort_unread_first"">Messages non lus en premier</string>
    <string name=""sort_unread_last"">Messages lus en premier</string>
    <string name=""sort_attach_first"">Messages avec des pièces jointes en premier</string>
    <string name=""sort_unattached_first"">Messages sans pièce jointe en premier</string>

    <string name=""sort_by"">Trier par…</string>
    <string name=""sort_by_date"">Date</string>
    <string name=""sort_by_arrival"">Date de réception</string>
    <string name=""sort_by_subject"">Objet</string>
    <string name=""sort_by_sender"">Expéditeur</string>
    <string name=""sort_by_flag"">Étoile</string>
    <string name=""sort_by_unread"">Lu/non lu</string>
    <string name=""sort_by_attach"">Pièces jointes</string>

    <string name=""account_delete_dlg_title"">Enlever le compte</string>

    <string name=""account_recreate_dlg_title"">Recréer le compte</string>

    <string name=""account_clear_dlg_title"">Vider le compte</string>

    <string name=""provider_note_auonejp"">Assurez-vous d\'activer IMAP ou POP3 dans la page des paramètres du courriel au one.</string>
    <string name=""provider_note_naver"">Assurez-vous d\'activer IMAP ou POP3 dans la page des paramètres du courriel Naver.</string>
    <string name=""provider_note_hanmail"">Assurez-vous d\'activer IMAP ou POP3 dans la page des paramètres du courriel Hanmail (Daum).</string>

    <string name=""account_setup_failed_dlg_invalid_certificate_title"">Certificat non reconnu</string>
    <string name=""account_setup_failed_dlg_invalid_certificate_accept"">Accepter la clef</string>
    <string name=""account_setup_failed_dlg_invalid_certificate_reject"">Rejeter la clef</string>

    <string name=""message_list_help_key"">Suppr (ou D) - Supprimer\n
    R - Répondre\n
    A - Répondre à tous\n
    C - Composer\n
    F - Transférer\n
    M - Déplacer\n
    V - Archive\n
    Y - Copier\n
    Z - Marquer lu/non lu\n
    G - Étoile\n
    O - Type de tri\n
    I - Ordre de tri\n
    Q - Retourner aux dossiers\n
    S - Sélectionner/Dessélectionner\n
    J ou P - Message précédent\n
    K ou N - Prochain message</string>

    <string name=""folder_list_help_key"">1 - Afficher seulement les dossiers de 1re classe\n
    2 - Afficher les dossiers de 1re et 2e classe\n
    3 - Afficher tous les dossiers sauf 2e classe\n
    4 - Afficher tous les dossiers\n
    Q - Retourner aux Comptes\n
    S - Modifier les paramètres du compte</string>

    <string name=""folder_list_filter_hint"">le nom de dossier contient</string>

    <string name=""folder_list_display_mode_label"">Afficher les dossiers…</string>
    <string name=""folder_list_display_mode_all"">Tous les dossiers</string>
    <string name=""folder_list_display_mode_first_class"">Les dossiers de 1re classe</string>
    <string name=""folder_list_display_mode_first_and_second_class"">Les dossiers de 1re et 2e classes</string>
    <string name=""folder_list_display_mode_not_second_class"">Masquer les dossiers de 2e classe</string>

    <string name=""account_settings_signature__location_label"">Position de la signature</string>
    <string name=""account_settings_signature__location_before_quoted_text"">Avant le message cité</string>
    <string name=""account_settings_signature__location_after_quoted_text"">Après le message cité</string>
    <string name=""setting_theme_global"">Utiliser le thème de l\'appli</string>
    <string name=""setting_theme_dark"">Foncé</string>
    <string name=""setting_theme_light"">Clair</string>
    <string name=""display_preferences"">Affichage</string>
    <string name=""global_preferences"">Général</string>
    <string name=""debug_preferences"">Déboguage</string>
    <string name=""privacy_preferences"">Confidentialité</string>
    <string name=""network_preferences"">Réseau</string>
    <string name=""interaction_preferences"">Interaction</string>
    <string name=""accountlist_preferences"">Liste des comptes</string>
    <string name=""messagelist_preferences"">Liste des messages</string>
    <string name=""messageview_preferences"">Messages</string>
    <string name=""folderlist_preferences"">Liste des dossiers</string>
    <string name=""settings_theme_label"">Thème</string>
    <string name=""settings_message_theme_label"">Thème de vue des messages</string>
    <string name=""settings_compose_theme_label"">Thème de composition</string>

    <string name=""settings_message_theme_selection_label"">Thème de message fixe</string>
    <string name=""settings_message_theme_selection_summary_off"">Choisir le thème de vue du message en regardant le message</string>
    <string name=""settings_message_theme_selection_summary_on"">Utiliser un thème de vue de message fixe</string>

    <string name=""background_ops_label"">Synchronisation en arrière-plan</string>
    <string name=""background_ops_never"">Jamais</string>
    <string name=""background_ops_always"">Toujours</string>
    <string name=""background_ops_auto_sync_only"">Lorsque «\\u00A0Synchronisation auto\\u00A0» est activée</string>

    <string name=""batch_select_all"">Tout sélectionner</string>

    <string name=""account_setup_push_limit_label"">Maximum de dossiers avec le pousser à vérifier</string>
    <string name=""account_setup_push_limit_10"">10 dossiers</string>
    <string name=""account_setup_push_limit_25"">25 dossiers</string>
    <string name=""account_setup_push_limit_50"">50 dossiers</string>
    <string name=""account_setup_push_limit_100"">100 dossiers</string>
    <string name=""account_setup_push_limit_250"">250 dossiers</string>
    <string name=""account_setup_push_limit_500"">500 dossiers</string>
    <string name=""account_setup_push_limit_1000"">1 000 dossiers</string>

    <string name=""animations_title"">Animation</string>
    <string name=""animations_summary"">Utiliser des effets visuels voyants</string>
    <string name=""gestures_title"">Interface gestuelle</string>
    <string name=""gestures_summary"">Accepter le contrôle par gestes</string>

    <string name=""volume_navigation_title"">Navigation à l\'aide de la touche de volume</string>
    <string name=""volume_navigation_message"">Dans la visualisation des messages</string>
    <string name=""volume_navigation_list"">Dans les vues en liste</string>

    <string name=""start_integrated_inbox_title"">Démarrer dans la boîte de réception unifiée</string>

    <string name=""measure_accounts_title"">Afficher la taille du compte</string>
    <string name=""measure_accounts_summary"">Désactiver pour un affichage plus rapide</string>

    <string name=""count_search_title"">Compter les résultats de recherche</string>
    <string name=""count_search_summary"">Désactiver pour un affichage plus rapide</string>

    <string name=""hide_special_accounts_title"">Masquer les comptes spéciaux</string>
    <string name=""hide_special_accounts_summary"">Masquer la boîte de réception unifiée et tous les comptes de messages</string>

    <string name=""search_title"">&lt;xliff:g id=\""search_name\"" &gt;%s&lt;/xliff:g&gt; &lt;xliff:g id=\""modifier\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""flagged_modifier"">- Étoilés</string>
    <string name=""unread_modifier"">- Non lu</string>

    <string name=""search_all_messages_title"">Tous les messages</string>
    <string name=""search_all_messages_detail"">Tous les messages dans les dossiers pouvant être recherchés</string>

    <string name=""integrated_inbox_title"">Boîte de réception unifiée</string>
    <string name=""integrated_inbox_detail"">Tous les messages dans les dossiers unifiés</string>

    <string name=""tap_hint"">Toucher le cercle ou l\'étoile affiche les messages non lus ou étoilés</string>

    <string name=""folder_settings_include_in_integrated_inbox_label"">Unifier</string>
    <string name=""folder_settings_include_in_integrated_inbox_summary"">Tous les messages sont affichés dans la boîte de réception unifiée</string>

    <string name=""account_settings_searchable_label"">Dossiers dans lesquels chercher</string>
    <string name=""account_settings_searchable_all"">Tous</string>
    <string name=""account_settings_searchable_displayable"">Affichables</string>
    <string name=""account_settings_searchable_none"">Aucun</string>

    <string name=""font_size_settings_title"">Taille de la police</string>
    <string name=""font_size_settings_description"">Configurer la taille de la police</string>

    <string name=""font_size_account_list"">Liste de comptes</string>
    <string name=""font_size_account_name"">Nom du compte</string>
    <string name=""font_size_account_description"">Description du compte</string>

    <string name=""font_size_folder_list"">Listes des dossiers</string>
    <string name=""font_size_folder_name"">Nom du dossier</string>
    <string name=""font_size_folder_status"">État du dossier</string>

    <string name=""font_size_message_list"">Listes de messages</string>
    <string name=""font_size_message_list_subject"">Objet</string>
    <string name=""font_size_message_list_sender"">Expéditeur</string>
    <string name=""font_size_message_list_date"">Date</string>
    <string name=""font_size_message_list_preview"">Aperçu</string>

    <string name=""font_size_message_view"">Messages</string>
    <string name=""font_size_message_view_sender"">Expéditeur</string>
    <string name=""font_size_message_view_to"">À</string>
    <string name=""font_size_message_view_cc"">Cc</string>
    <string name=""font_size_message_view_additional_headers"">Entêtes supplémentaires</string>
    <string name=""font_size_message_view_subject"">Objet</string>
    <string name=""font_size_message_view_date"">Horodatage</string>
    <string name=""font_size_message_view_content"">Corps du message</string>
    <string name=""font_size_message_view_content_summary"">&lt;xliff:g id=\""fontsize\"" &gt;%d&lt;/xliff:g&gt;%%</string>
    <string name=""font_size_message_view_content_dialog_title"">&lt;xliff:g id=\""title\"" &gt;%1$s&lt;/xliff:g&gt;: &lt;xliff:g id=\""summary\"" &gt;%2$s&lt;/xliff:g&gt;</string>

    <string name=""font_size_message_compose"">Composition de message</string>
    <string name=""font_size_message_compose_input"">Champ de saisie de texte</string>

    <string name=""font_size_default"">Par défaut</string>
    <string name=""font_size_tiniest"">Le plus minuscule</string>
    <string name=""font_size_tiny"">Minuscule</string>
    <string name=""font_size_smaller"">Plus petit</string>
    <string name=""font_size_small"">Petit</string>
    <string name=""font_size_medium"">Moyen</string>
    <string name=""font_size_large"">Grand</string>
    <string name=""font_size_larger"">Plus grand</string>

    <string name=""miscellaneous_preferences"">Divers</string>

    <string name=""error_activity_not_found"">Aucune application adéquate n\'a été trouvée pour cette action.</string>
    <string name=""send_failed_reason"">Envoi en échec : %s</string>

    <string name=""save_or_discard_draft_message_dlg_title"">Enregistrer le brouillon\\u00A0?</string>
    <string name=""save_or_discard_draft_message_instructions_fmt"">Enregistrer ou jeter ce message\\u00A0?</string>

    <string name=""confirm_discard_draft_message_title"">Jeter le message\\u00A0?</string>
    <string name=""confirm_discard_draft_message"">Voulez-vous vraiment jeter ce message\\u00A0?</string>

    <string name=""select_text_now"">Sélectionner le texte à copier</string>

    <string name=""dialog_confirm_delete_title"">Confirmer la suppression</string>
    <string name=""dialog_confirm_delete_message"">Voulez-vous supprimer ce message\\u00A0?</string>

    <plurals name=""dialog_confirm_delete_messages"">
        <item quantity=""one"">Voulez-vous vraiment supprimer ce message\\u00A0?</item>
        <item quantity=""other"">Voulez-vous vraiment supprimer les &lt;xliff:g id=\""message_count\"" &gt;%1$d&lt;/xliff:g&gt; messages\\u00A0?</item>
    </plurals>
    <string name=""dialog_confirm_delete_confirm_button"">Oui</string>
    <string name=""dialog_confirm_delete_cancel_button"">Non</string>

    <string name=""dialog_confirm_mark_all_as_read_title"">Confirmer tout marquer comme lu</string>
    <string name=""dialog_confirm_mark_all_as_read_message"">Voulez-vous marquer tous les messages comme lus ?</string>

    <string name=""dialog_confirm_mark_all_as_read_confirm_button"">Oui</string>
    <string name=""dialog_confirm_mark_all_as_read_cancel_button"">Non</string>

    <string name=""dialog_confirm_spam_title"">Confirmer le déplacement vers le dossier des pourriels</string>
    <plurals name=""dialog_confirm_spam_message"">
        <item quantity=""one"">Voulez-vous déplacer ce message vers le dossiers des pourriels\\u00A0?</item>
        <item quantity=""other"">Voulez-vous déplacer les &lt;xliff:g id=\""message_count\"" &gt;%1$d&lt;/xliff:g&gt; messages vers le dossiers des pourriels\\u00A0?</item>
    </plurals>
    <string name=""dialog_confirm_spam_confirm_button"">Oui</string>
    <string name=""dialog_confirm_spam_cancel_button"">Non</string>

    <string name=""dialog_attachment_progress_title"">Téléchargement de la pièce jointe</string>

    <string name=""debug_logging_enabled"">Journalisation du débogage activée</string>

    <string name=""messagelist_sent_to_me_sigil"">»</string>
    <string name=""messagelist_sent_cc_me_sigil"">›</string>

    <string name=""import_export_action"">Paramètres d\'importation &amp; d\'exportation</string>
    <string name=""settings_export_account"">Exporter les paramètres du compte</string>
    <string name=""settings_export_all"">Exporter les paramètres et les comptes</string>
    <string name=""settings_import_dialog_title"">Importation</string>
    <string name=""settings_export_dialog_title"">Exportation</string>
    <string name=""settings_import"">Importer les paramètres</string>
    <string name=""settings_import_selection"">Importer la sélection</string>
    <string name=""settings_import_global_settings"">Paramètres globaux</string>
    <string name=""settings_exporting"">Exportation des paramètres…</string>
    <string name=""settings_importing"">Importation des paramètres…</string>
    <string name=""settings_import_scanning_file"">Analyse du fichier…</string>
    <string name=""settings_export_success"">Paramètres exportés vers &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""settings_export_success_generic"">Configuration exportée avec succès</string>
    <string name=""settings_import_global_settings_success"">Paramètres globaux importés depuis &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""settings_import_success"">Importé &lt;xliff:g id=\""accounts\"" &gt;%s&lt;/xliff:g&gt; depuis &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <plurals name=""settings_import_accounts"">
        <item quantity=""one"">1 compte</item>
        <item quantity=""other"">&lt;xliff:g id=\""numAccounts\"" &gt;%s&lt;/xliff:g&gt; comptes</item>
    </plurals>
    <string name=""settings_export_failure"">Échec lors de l\'exportation des paramètres</string>
    <string name=""settings_import_failure"">Échec lors de l\'importation des paramètres de &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""settings_export_success_header"">Exportation réussie</string>
    <string name=""settings_export_failed_header"">Exportation échouée</string>
    <string name=""settings_import_success_header"">Importation réussie</string>
    <string name=""settings_import_failed_header"">Importation échouée</string>
    <string name=""settings_import_activate_account_header"">Activer le compte</string>
    <string name=""settings_import_activate_account_intro"">Afin de pouvoir utiliser le compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0», vous devez fournir &lt;xliff:g id=\""server_passwords\"" &gt;%s&lt;/xliff:g&gt;.</string>
    <plurals name=""settings_import_server_passwords"">
        <item quantity=""one"">le mot de passe du serveur</item>
        <item quantity=""other"">les mots de passe du serveur</item>
    </plurals>
    <string name=""settings_import_incoming_server"">Serveur entrant (&lt;xliff:g id=\""hostname\"" &gt;%s&lt;/xliff:g&gt;)\\u00A0:</string>
    <string name=""settings_import_outgoing_server"">Serveur sortant (&lt;xliff:g id=\""hostname\"" &gt;%s&lt;/xliff:g&gt;)\\u00A0:</string>
    <plurals name=""settings_import_setting_passwords"">
        <item quantity=""one"">Réglage du mot de passe…</item>
        <item quantity=""other"">Réglages des mots de passe…</item>
    </plurals>
    <string name=""settings_import_use_incoming_server_password"">Utiliser le mot de passe du serveur entrant</string>
    <string name=""activate_account_action"">Activer</string>

    <string name=""account_unavailable"">Le compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0» n\'est pas disponible\\u00A0; veuillez vérifier le stockage</string>

    <string name=""settings_attachment_default_path"">Enregistrer les pièces jointes dans…</string>
    <string name=""attachment_save_title"">Enregistrer les pièces jointes</string>
    <string name=""attachment_save_desc"">Aucun gestionnaire de fichiers trouvé. Où voudriez-vous enregistrer cette pièce jointe\\u00A0?</string>

    <string name=""manage_accounts_move_up_action"">Déplacer vers le haut</string>
    <string name=""manage_accounts_move_down_action"">Déplacer vers le bas</string>
    <string name=""manage_accounts_moving_message"">Déplacement du compte…</string>

    <string name=""unread_widget_select_account"">Afficher le nombre de non lus pour…</string>

    <string name=""import_dialog_error_title"">L\'application de gestion de fichiers est manquante</string>
    <string name=""close"">Fermer</string>

    <string name=""webview_empty_message"">Aucun texte</string>

    <string name=""webview_contextmenu_link_view_action"">Ouvrir le lien</string>
    <string name=""webview_contextmenu_link_share_action"">Partager le lien</string>
    <string name=""webview_contextmenu_link_copy_action"">Copier le lien dans le presse-papiers</string>
    <string name=""webview_contextmenu_link_clipboard_label"">Lien</string>

    <string name=""webview_contextmenu_image_title"">Image</string>
    <string name=""webview_contextmenu_image_view_action"">Afficher l\'image</string>
    <string name=""webview_contextmenu_image_save_action"">Enregistrer l\'image</string>
    <string name=""webview_contextmenu_image_download_action"">Télécharger l\'image</string>
    <string name=""webview_contextmenu_image_copy_action"">Copier l\'URL de l\'image dans le presse-papiers</string>
    <string name=""webview_contextmenu_image_clipboard_label"">URL de l\'image</string>

    <string name=""webview_contextmenu_phone_call_action"">Appeler le numéro</string>
    <string name=""webview_contextmenu_phone_save_action"">Enregistrer dans mes contacts</string>
    <string name=""webview_contextmenu_phone_copy_action"">Copier dans le presse-papiers</string>
    <string name=""webview_contextmenu_phone_clipboard_label"">Numéro de téléphone</string>

    <string name=""webview_contextmenu_email_send_action"">Envoyer un courriel</string>
    <string name=""webview_contextmenu_email_save_action"">Enregistrer dans mes contacts</string>
    <string name=""webview_contextmenu_email_copy_action"">Copier dans le presse-papiers</string>
    <string name=""webview_contextmenu_email_clipboard_label"">Adresse courriel</string>

    <string name=""image_saved_as"">Enregistrer l\'image en tant que «\\u00A0&lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;\\u00A0»</string>
    <string name=""image_saving_failed"">Échec lors de la sauvegarde de l\'image.</string>

    <string name=""account_settings_remote_search_num_results_entries_all"">Tout</string>
    <string name=""account_settings_remote_search_num_results_entries_10"">10</string>
    <string name=""account_settings_remote_search_num_results_entries_25"">25</string>
    <string name=""account_settings_remote_search_num_results_entries_50"">50</string>
    <string name=""account_settings_remote_search_num_results_entries_100"">100</string>
    <string name=""account_settings_remote_search_num_results_entries_250"">250</string>
    <string name=""account_settings_remote_search_num_results_entries_500"">500</string>
    <string name=""account_settings_remote_search_num_results_entries_1000"">1 000</string>
    <string name=""account_settings_remote_search_num_label"">Limite de recherche du serveur</string>
    <string name=""account_settings_remote_search_num_summary"">La recherche s\'arrêtera après &lt;xliff:g id=\""num_results\"" &gt;%s&lt;/xliff:g&gt; résultats.</string>
    <string name=""remote_search_sending_query"">Envoi de la requête au serveur</string>
    <string name=""remote_search_downloading"">Récupération de %d résultats</string>
    <string name=""remote_search_downloading_limited"">Récupération de %1$d résultats sur %2$d</string>
    <string name=""remote_search_error"">Échec lors de la recherche distante</string>

    <string name=""account_settings_search"">Rechercher</string>
    <string name=""account_settings_remote_search_enabled"">Activer la recherche sur le serveur</string>
    <string name=""account_settings_remote_search_enabled_summary"">Rechercher des messages sur le serveur en plus de ceux sur votre appareil</string>
    <string name=""action_remote_search"">Rechercher des messages sur le serveur</string>
    <string name=""pull_to_refresh_remote_search_from_local_search_pull"">Tirer pour rechercher sur le serveur…</string>
    <string name=""pull_to_refresh_remote_search_from_local_search_release"">Relâchez pour rechercher sur le serveur…</string>
    <string name=""remote_search_unavailable_no_network"">Une connexion réseau est exigée pour la recherche sur le serveur.</string>

    <string name=""global_settings_background_as_unread_indicator_label"">Utiliser le fond comme indicateur de lecture</string>
    <string name=""global_settings_background_as_unread_indicator_summary"">Un arrière-plan gris montrera qu\'un message a été lu</string>

    <string name=""global_settings_threaded_view_label"">Vue par fil</string>
    <string name=""global_settings_threaded_view_summary"">Grouper les messages par conversation</string>

    <string name=""upgrade_databases_title"">Mise à niveau des bases de données</string>
    <string name=""upgrade_databases_unspecified"">Mise à niveau des bases de données…</string>
    <string name=""upgrade_database_format"">Mise à niveau de la base de données du compte «\\u00A0&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\\u00A0»</string>

    <string name=""message_list_loading"">Chargement…</string>

    <string name=""global_settings_splitview_mode_label"">Afficher un écran partagé</string>
    <string name=""global_settings_splitview_always"">Toujours</string>
    <string name=""global_settings_splitview_never"">Jamais</string>
    <string name=""global_settings_splitview_when_in_landscape"">En mode paysage</string>

    <string name=""message_view_empty"">Veuillez choisir un message sur la gauche</string>

    <string name=""global_settings_show_contact_picture_label"">Afficher les images des contacts</string>
    <string name=""global_settings_show_contact_picture_summary"">Afficher les images des contacts dans la liste des messages</string>

    <string name=""last_refresh_time_format"">Rafraîchi &lt;xliff:g id=\""formatted_time\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""last_refresh_time_format_with_push"">Rafraîchi &lt;xliff:g id=\""time_with_preposition\"" &gt;%s&lt;/xliff:g&gt; (pousser activé)</string>
    <string name=""preposition_for_date"">le &lt;xliff:g id=\""date\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""mark_all_as_read"">Tout marquer comme lu</string>

    <string name=""global_settings_colorize_missing_contact_pictures_label"">Colorer les images des contacts</string>
    <string name=""global_settings_colorize_missing_contact_pictures_summary"">Colorer les images manquantes des contacts</string>

    <string name=""global_settings_messageview_visible_refile_actions_title"">Actions visibles dans les messages</string>
    <string name=""global_settings_messageview_visible_refile_actions_summary"">Afficher les actions choisies dans le menu de visualisation des messages</string>

    <string name=""loading_attachment"">Chargement de la pièce jointe…</string>
    <string name=""fetching_attachment_dialog_title_send"">Envoi du message</string>
    <string name=""fetching_attachment_dialog_title_save"">Enregistrement du brouillon</string>
    <string name=""fetching_attachment_dialog_message"">Récupération de la pièce jointe…</string>

    <string name=""auth_external_error"">Authentification impossible. Le serveur n\'annonce pas la fonction SASL EXTERNE. Ceci pourrait être causé par un problème avec le certificat client (expiré, autorité de certification inconnue) ou quelque autre problème de configuration.</string>
    
    <!-- === Client certificates specific ================================================================== -->
    <string name=""account_setup_basics_client_certificate"">Utiliser le certificat client</string>
    <string name=""client_certificate_spinner_empty"">Aucun certificat client</string>
    <string name=""client_certificate_spinner_delete"">Enlever le choix de certificat client</string>
    <string name=""client_certificate_retrieval_failure"">Impossible de d\'obtenir le certificat client pour l\'alias \\« &lt;xliff:g id=\""alias\"" &gt;%s&lt;/xliff:g&gt;\\ »</string>
    <string name=""client_certificate_advanced_options"">Options avancées</string>
    <string name=""client_certificate_expired"">Le certificat client \\« &lt;xliff:g id=\""certificate_alias\"" &gt;%1$s&lt;/xliff:g&gt;\\ » est expiré ou n\'est pas encore valide (&lt;xliff:g id=\""exception_message\"" &gt;%2$s&lt;/xliff:g&gt;)</string>

    <!-- Note: This references message_view_download_remainder -->
    <string name=""preview_encrypted"">*Chiffré*</string>
    <string name=""add_from_contacts"">Ajouter à partir des contacts</string>
    <string name=""crypto_settings_cancel"">Annuler</string>
    <string name=""crypto_settings_ok"">Continuer</string>
    <string name=""recipient_cc"">Cc</string>
    <string name=""recipient_bcc"">Cci</string>
    <string name=""recipient_to"">À</string>
    <string name=""recipient_from"">De</string>
    <string name=""unknown_recipient"">&lt;Destinataire inconnu&gt;</string>
    <string name=""address_type_home"">Domicile</string>
    <string name=""address_type_work"">Travail</string>
    <string name=""address_type_other"">Autre</string>
    <string name=""address_type_mobile"">Mobile</string>
    <string name=""compose_error_no_draft_folder"">Aucun dossier Brouillons n\'est configuré pour ce compte !</string>
    <string name=""compose_error_no_signing_key"">Aucune touche de signature n\'est configurée ! Veuillez vérifier vos paramètres.</string>
    <string name=""compose_error_private_missing_keys"">Le mode confidentiel est activé, mais certains destinataires n\'ont pas de  clef !</string>
    <string name=""crypto_mode_disabled"">Ne pas chiffrer</string>
    <string name=""crypto_mode_opportunistic"">Chiffrer si possible</string>
    <string name=""crypto_mode_private"">Chiffrer</string>
    <string name=""error_crypto_provider_connect"">Impossible de se connecter au fournisseur cryptographique, vérifier vos paramètres ou cliquer sur l\'icône Cryptographie pour ressayer !</string>
    <string name=""error_crypto_provider_ui_required"">L\'accès au fournisseur cryptographique est refusé, cliquer sur l\'icône Cryptographie pour ressayer !</string>
    <string name=""error_crypto_inline_attach"">Le mode PGP/INTÉGRÉ ne prend pas en charge les fichiers joints !</string>
    <string name=""enable_inline_pgp"">Activer PGP/INTÉGRÉ</string>
    <string name=""disable_inline_pgp"">Désactiver PGP/INTÉGRÉ</string>
    <string name=""enable_sign_only"">Activer PGP signature-seulement</string>
    <string name=""disable_sign_only"">Désactiver PGP signature-seulement</string>
    <string name=""openpgp_inline_title"">Mode PGP/INTÉGRÉ</string>
    <string name=""openpgp_inline_text"">Ce courriel est envoyé au format PGP/INTÉGRÉ.\n
    Ce format ne devrait être utilisé que pour des raisons de compatibilité :</string>
    <string name=""openpgp_inline_plus_compat"">Certains clients ne prennent que ce format en charge</string>
    <string name=""openpgp_inline_minus_transit"">Les signatures pourraient se briser pendant le transit</string>
    <string name=""openpgp_inline_minus_attach"">Les pièces jointes ne sont pas prises en charge</string>
    <string name=""openpgp_inline_ok"">D\'accord !</string>
    <string name=""openpgp_inline_disable"">Désactiver</string>
    <string name=""openpgp_inline_keep_enabled"">Garder activé</string>
    <string name=""openpgp_sign_only_ok"">Compris !</string>
    <string name=""openpgp_sign_only_disable"">Désactiver</string>
    <string name=""openpgp_sign_only_keep_enabled"">Garder activé</string>
    <string name=""openpgp_dialog_sign_only_title"">Mode PGP signature-seulement</string>
    <string name=""openpgp_dialog_sign_only_text"">Dans ce mode, votre clé PGP sera utilisée pour créer une signature cryptographique d\'un courriel non signé.</string>
    <string name=""openpgp_dialog_sign_only_plus_verified"">Ce mode ne chiffre pas le courriel, mais certifie qu\'il a été envoyé à partir de votre clé.</string>
    <string name=""openpgp_dialog_sign_only_minus_break"">Les signatures pourraient se briser lorsqu\'elles sont envoyées à des listes de diffusion.</string>
    <string name=""openpgp_dialog_sign_only_minus_attach"">Les signatures pourraient être affichées en tant que pièces jointes « signature.asc » dans certains clients.</string>
    <string name=""openpgp_dialog_sign_only_neutral_encsigned"">Les messages chiffrés incluent toujours une signature.</string>

    <string name=""crypto_msg_disabled"">Le message n\'est pas chiffré</string>

    <string name=""crypto_msg_encrypted_error"">Le message est chiffré, mais il y a eu une erreur de déchiffrement.</string>
    <string name=""crypto_msg_encrypted_insecure"">Le message est chiffré mais non sécurisé !</string>
    <string name=""crypto_msg_signed_error"">Le message est signé, mais la signature n\'a pas pu être vérifiée.</string>
    <string name=""crypto_msg_encrypted_no_provider"">Le message est chiffré mais aucune app de chiffrage n\'est configurée.</string>
    <string name=""crypto_msg_unsupported_encrypted"">Le message est chiffré dans un format non pris en charge.</string>
    <string name=""crypto_msg_unsupported_signed"">Le message est signé dans un format non pris en charge.</string>
    <string name=""crypto_msg_incomplete_encrypted"">Le message est chiffré, mais doit être téléchargé en entier pour être déchiffré.</string>
    <string name=""crypto_msg_cancelled"">Le message est chiffré, mais le déchiffrement a été annulé.</string>

    <string name=""crypto_msg_signed_unencrypted"">Le message est signé, mais n\'est pas chiffré.</string>
    <string name=""crypto_msg_encrypted_unsigned"">Le message a été chiffré, mais n\'a pas été signé.</string>

    <string name=""crypto_msg_sign_unknown"">Signé par une clef inconnue.</string>
    <string name=""crypto_msg_sign_verified"">Signé par une clef fiable.</string>
    <string name=""crypto_msg_sign_unverified"">Signé par une clef non fiable !</string>
    <string name=""crypto_msg_sign_error"">La signature contient une erreur.</string>
    <string name=""crypto_msg_sign_mismatch"">Signé avec la mauvaise clef.</string>
    <string name=""crypto_msg_sign_expired"">Signé avec une clef arrivée à expiration.</string>
    <string name=""crypto_msg_sign_revoked"">Signé avec une clef révoquée.</string>
    <string name=""crypto_msg_sign_insecure"">Signé avec une clef peu sûre.</string>
    <string name=""crypto_msg_sign_incomplete"">Le message doit être complètement téléchargé pour en vérifier la signature.</string>

    <string name=""crypto_msg_signed_encrypted"">Le message est signé et chiffré.</string>
    <string name=""crypto_msg_unsigned_encrypted"">Il n\'y a pas de signature. Ce message pourrait avoir été intercepté.</string>


    <string name=""crypto_info_ok"">Ok</string>
    <string name=""crypto_info_view_key"">Voir le signataire</string>
    <string name=""crypto_info_view_security_warning"">Détails</string>
    <string name=""locked_attach_unlock"">Déverrrouiller</string>
    <string name=""locked_attach_unencrypted"">Cette partie n\'a pas été chiffrée et pourrait ne pas être fiable.</string>
    <string name=""locked_attach_title"">Pièce jointe non protégée</string>
    <string name=""message_progress_text"">Chargement...</string>
    <string name=""messageview_decrypt_cancelled"">Le déchiffrement a été annulé.</string>
    <string name=""messageview_decrypt_retry"">Ressayer</string>
    <string name=""messageview_decrypt_incomplete"">Le message chiffré doit être téléchargé pour être déchiffré.</string>
    <string name=""messageview_crypto_error_title"">Erreur de déchiffrement du courriel</string>

    <string name=""messageview_crypto_warning_title"">Avertissement de sécurité</string>
    <string name=""messageview_crypto_warning_revoked"">Ce message a été signé par une <b >clef révoquée !</b></string>
    <string name=""messageview_crypto_warning_expired"">Ce message a été signé par une <b >clef arrivée à expiration !</b></string>
    <string name=""messageview_crypto_warning_insecure"">Ce message a été signé par une <b >clef non fiable !</b></string>
    <string name=""messageview_crypto_warning_error"">Il y a une <b >erreur dans la signature de ce message !</b></string>
    <string name=""messageview_crypto_warning_unsigned"">Le message à été chiffré mais pas signé. &lt;b&gt;Il n\'est pas sûr de bout en bout&lt;b&gt; !</string>
    <string name=""messageview_crypto_warning_show_anyway"">Afficher quand même le message</string>
    <string name=""recipient_error_non_ascii"">Les caractères spéciaux ne sont actuellement pas pris en charge</string>
    <string name=""recipient_error_parse_failed"">Erreur d\'analyse de l\'adresse !</string>
    <string name=""account_settings_crypto_support_sign_only"">Prendre en charge la signature de messages non chiffrés</string>
    <string name=""error_sign_only_no_encryption"">Le chiffrement n\'est pas proposé en mode signature-seulement !</string>
    <string name=""no_crypto_provider_see_global"">Pas d\'app OpenPGP configurée, vérifiez les paramètres globaux !</string>
    <string name=""crypto_no_provider_title"">Ce courriel est chiffré</string>
    <string name=""crypto_no_provider_message"">Le courriel a été chiffré avec OpenPGP. \n
  Pour le lire, vous devez installer et configurer une app compatible avec OpenPGP.</string>
    <string name=""crypto_no_provider_button"">Choisissez l\'app OpenPGP</string>

    <string name=""mail_list_widget_text"">Liste des messages K-9</string>
    <string name=""mail_list_widget_loading"">Chargement des messages...</string>
    <string name=""fetching_folders_failed"">Echec de récupération de la liste des répertoires</string>
    <string name=""messageview_crypto_warning_details"">Montrer les détails</string>
</resources>

<!-- File ""constants.xml"" -->
<?xml version=""1.0"" encoding=""utf-8""?>
<resources xmlns:xliff=""urn:oasis:names:tc:xliff:document:1.2"">
    <string name=""app_revision_url"">https://github.com/k9mail/k-9/wiki/ReleaseNotes</string>
    <string name=""app_webpage_url"">https://k9mail.github.io</string>
    <string name=""message_header_mua"">K-9 Mail pour Android</string>
</resources>

<!-- File ""arrays.xml"" -->
<?xml version=""1.0"" encoding=""utf-8""?>
<!-- Copyright (C) 2008 The Android Open Source Project

     Licensed under the Apache License, Version 2.0 (the ""License"");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an ""AS IS"" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
-->

<resources>




















































    <string-array name=""settings_preview_lines_entries"">
        <item>0</item>
        <item>1</item>
        <item>2</item>
        <item>3</item>
        <item>4</item>
        <item>5</item>
        <item>6</item>
    </string-array>












</resources>

<!-- File ""strings2.xml"" -->
<?xml version=""1.0"" encoding=""utf-8""?>
<resources>

    <string name=""openpgp_list_preference_none"">Aucun</string>
    <string name=""openpgp_install_openkeychain_via"">Installer OpenKeychain par %s</string>
    <string name=""openpgp_no_key_selected"">Aucune clef sélectionnée</string>
    <string name=""openpgp_key_selected"">La clef a été sélectionnée</string>

</resources>


```

---

*Translation made with [Stringlate](https://github.com/LonamiWebs/Stringlate).*"
k9mail/k-9,open,SQLiteDiskIOException: disk I/O error (code 1802) when querying DB from MessageController Thread,"[Label(name=""architecture""), Label(name=""bug"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
K9 should open emails and allow them to be read and change folders to read other emails without suddenly stopping

### Actual behavior
After reading an email, K-9 will occasionally (at least once a day) crash for no apparent reason, and I have to re-start it.

### Steps to reproduce
1. Tap on K-9 icon to open it
2. Navigate to a folder
3. Open an email
4. Use phone's back button to exit email; K-9 may crash at this point.
5. Use phone's back button again to change to another account; K-9 may crash at this point (if not before). This behaviour isn't consistent, unfortunately.


### Environment
K-9 Mail version: 5.206

Android version: 7.0 on Moto G5 phone

Account type (IMAP, POP3, WebDAV/Exchange): pop3 (six accounts in all)

See attached screen shot for more Android info; also see attached debug log.

Thanks for reading this report,
Kind regards,
Roger V.
![about moto g5 phone](https://user-images.githubusercontent.com/28846333/28242315-7f7e1e46-69eb-11e7-8f76-98dbf5c93666.png)
[debug 170716.txt](https://github.com/k9mail/k-9/files/1150587/debug.170716.txt)


"
k9mail/k-9,open,Fails to find messages on first remote search,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
i tried to search on my email server for mails. i use a freenet.de server with imap structure. After starting the search k9 searches and doesn't find anything. When i start the logging and try to search again it finds the mails on the server. i tried this twice, and the behaviour was the same. 

### Actual behavior
Tell us what happens instead
i tried to send the log, but i beg your pardon, i couldn't find it.

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:
5.206
Android version:
5.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
imap"
k9mail/k-9,closed,Auto send time for Outbox messages,[],Which method is getting called when messages are sent to Outbox due to network connectivity issues and K9 tries to send these messages?
k9mail/k-9,open,Failure to send SMTP email,"[Label(name=""needs info"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Recently , I am able to receive emails, but can't send any

### Actual behavior
Sending icon keeps turning, mail is never sent.  I need to kill the app.

### Steps to reproduce
1. my personal mail server uses the following settings : 
     port 587 
     security none
    require sign in
  username/password   
2.  setup is identical to my thunderbird app on my laptop and it has no issues
3.

### Environment
K-9 Mail version:  5.206

Android version:   version 7.1

Account type (IMAP, POP3, WebDAV/Exchange):  POP3  
"
k9mail/k-9,closed,"Per-account customisation of sounds, vibration and LED lighting","[Label(name=""enhancement"")]","Hi there. I notice one major issue about this app that I'd like to add: the ability to customization the vibration patterns, LED settings, and sound settings for each of my inboxes. Particularly the vibration, since I have other apps that have this same vibration pattern. Would appreciate if this was added! Thanks"
k9mail/k-9,closed,"When forwarding an email with a reply-to set, that should be included",[],"### Expected behavior
When I forward an email with a reply-to set that should be included in the email.

### Actual behavior
The reply-to information is lost unless I go into the headers and copy/paste it out, which is frustrating and tricky.

### Steps to reproduce
1. Receive an email from a blogging site which allows reply-via-email using unique reply-to addresses
2. Forward the email to my work email, so I can reply on a computer with a proper keyboard
3. Have to copy/paste the reply-to address into the forwarded email.
4. Sadness

### Environment
K-9 Mail version: 5.206

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Implement ability to pin emails,"[Label(name=""architecture""), Label(name=""enhancement"")]","Right now, when I read a message and need to return to it, I mark it as unread in K9Mail. However, this has the unfortunate effect of increasing my unread count, so that I don't know how many messages are actually unread and how many are just waiting for me to return to them.

Google Inbox solves this quite nicely: instead of ""Mark as unread"", it has a pin feature, which lets one pin messages to return to. It also allows showing only pinned messages and archiving all messages except for pinned messages (for ""inbox zero"").

Please consider replacing ""Mark as unread"" with pinning."
k9mail/k-9,closed,Updated de (German) translation,[],"I have translated your application into `de` (*German*). Here is the xml:
```xml
<!-- File ""constants.xml"" -->
<?xml version=""1.0"" encoding=""utf-8""?>
<resources xmlns:xliff=""urn:oasis:names:tc:xliff:document:1.2"">
    <string name=""app_revision_url"">https://github.com/k9mail/k-9/wiki/ReleaseNotes</string>
    <string name=""app_webpage_url"">https://k9mail.github.io/</string>
    <string name=""message_header_mua"">K-9 Mail für Android</string>
</resources>

<!-- File ""strings.xml"" -->
<?xml version='1.0' encoding='UTF-8'?>
<resources xmlns:xliff=""urn:oasis:names:tc:xliff:document:1.2"">
    <!-- === App-specific strings ============================================================= -->

    <!-- This should make it easier for forks to change the branding -->

    <!-- Used in AndroidManifest.xml -->
    <string name=""app_name"">K-9 Mail</string>

    <string name=""shortcuts_title"">K-9 Konten</string>
    <string name=""unread_widget_label"">K-9 Ungelesen</string>

    <string name=""remote_control_label"">K-9 Mail Fernsteuerung</string>
    <string name=""remote_control_desc"">Erlaubt dieser Anwendung den Ablauf und die Einstellungen von K-9 Mail zu kontrollieren.</string>


    <!-- Used in the about dialog -->
    <string name=""app_authors"">Google, das K-9-Team und viele Weitere.</string>
    <string name=""app_copyright_fmt"">\\u00a9 2008-&lt;xliff:g &gt;%s&lt;/xliff:g&gt; The K-9 Dog Walkers. Teile \\u00a9 2006-&lt;xliff:g &gt;%s&lt;/xliff:g&gt; Android Open Source Project.</string>
    <string name=""app_license"">Lizenziert unter der Apache-Lizenz, Version 2.0.</string>


    <!-- Welcome message -->
    <string name=""welcome_message_title"">Willkommen bei K-9 Mail</string>
    <string name=""accounts_welcome""><p> K-9 Mail ist ein leistungsstarker, freier E-Mail-Client für Android. </p><p> Seine verbesserten Funktionen beinhalten: </p> <ul>   <li>Push-Mail unter Verwendung von IMAP IDLE</li>   <li>Bessere Leistung</li>   <li>Nachrichtenneuordnung</li>   <li>E-Mail-Signaturen</li>   <li>Bcc-to-self</li>   <li>Ordnerabonnements</li>   <li>Synchronisation aller Ordner</li>   <li>Rücksendeadresskonfiguration</li>   <li>Tastaturkürzel</li>   <li>Bessere IMAP-Unterstützung</li>   <li>Speichern von Anhängen auf SD</li>   <li>Papierkorb leeren</li>   <li>Nachrichtensortierung</li>   <li>…und weitere</li> </ul> <p> Bitte beachten Sie, dass K-9 die meisten kostenlosen Hotmail-Konten nicht unterstützt und, wie viele andere E-Mail-Clients, einige Macken bei der Kommunikation mit Microsoft Exchange hat. </p><p> Bitte senden Sie Fehlerberichte, Ideen für neue Funktionen und stellen Sie Fragen an <a href=\""https://github.com/k9mail/k-9/\"">https://github.com/k9mail/k-9/</a>. </p></string>


    <!-- Default signature -->
    <string name=""default_signature"">-- \n
    Diese Nachricht wurde von meinem Android-Gerät mit K-9 Mail gesendet.</string>


    <!-- General strings that include the app name -->
    <string name=""account_delete_dlg_instructions_fmt"">Das Konto \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" wird aus K-9 Mail entfernt.</string>
    <string name=""account_recreate_dlg_instructions_fmt"">Alle lokalen Daten des Kontos \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" werden entfernt. Kontoeinstellungen werden beibehalten.</string>
    <string name=""account_clear_dlg_instructions_fmt"">Lokale Kopien von Nachrichten in \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\"" werden entfernt. Kontoeinstellungen werden beibehalten.</string>



    <!-- === App Store-specific strings ======================================================= -->

    <string name=""import_dialog_error_message"">Es wurde keine geeignete Anwendung gefunden, um den Import durchzuführen. Bitte installieren Sie einen Dateimanager aus dem Play Store.</string>
    <string name=""open_market"">Play Store öffnen</string>



    <!-- === General strings ================================================================== -->

    <string name=""app_authors_fmt"">Autoren: &lt;xliff:g id=\""app_authors\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""app_revision_fmt"">Versionsinformationen: &lt;xliff:g id=\""app_revision_url\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""app_libraries"">Wir verwenden die folgenden externen Bibliotheken: &lt;xliff:g id=\""app_libraries_list\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""app_emoji_icons"">Emoji-Bilder: &lt;xliff:g id=\""app_emoji_icons_link\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""read_attachment_label"">E-Mail-Anhänge lesen</string>
    <string name=""read_attachment_desc"">Der Anwendung erlauben, Ihre E-Mail-Anhänge zu lesen.</string>
    <string name=""read_messages_label"">E-Mails lesen</string>
    <string name=""read_messages_desc"">Der Anwendung erlauben, Ihre E-Mails zu lesen.</string>
    <string name=""delete_messages_label"">E-Mails löschen</string>
    <string name=""delete_messages_desc"">Der Anwendung erlauben, Ihre E-Mails zu löschen.</string>

    <string name=""about_title_fmt"">Über &lt;xliff:g id=\""app_name\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""accounts_title"">Konten</string>
    <string name=""folders_title"">Ordner</string>
    <string name=""advanced"">Erweitert</string>

    <string name=""message_list_title"">&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""compose_title_compose"">Verfassen</string>
    <string name=""compose_title_reply"">Antworten</string>
    <string name=""compose_title_reply_all"">Allen antworten</string>
    <string name=""compose_title_forward"">Weiterleiten</string>

    <string name=""choose_folder_title"">Ordner auswählen</string>

    <string name=""status_loading_account_folder"">Lade &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_loading_account_folder_headers"">Lade Kopfzeilen in &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_sending_account"">Sende &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_processing_account"">Verarbeite &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""command\"" &gt;%s&lt;/xliff:g&gt;&lt;xliff:g id=\""progress\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""folder_progress"">\\u0020&lt;xliff:g id=\""completed\"" &gt;%d&lt;/xliff:g&gt;/&lt;xliff:g id=\""total\"" &gt;%d&lt;/xliff:g&gt;</string>

    <string name=""status_next_poll"">Nächster Abruf &lt;xliff:g id=\""nexttime\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""status_no_network"">Synchronisation deaktiviert - Keine Netzwerkverbindung</string>
    <string name=""status_no_background"">Synchronisation deaktiviert - Keine Hintergrundaktivitäten</string>
    <string name=""status_poll_and_push_disabled"">Polling und Pushing deaktiviert</string>
    <string name=""status_syncing_blocked"">Synchronisation geblockt</string>
    <string name=""status_syncing_off"">Synchronisation deaktiviert</string>

    <string name=""actionbar_selected"">&lt;xliff:g id=\""selection_count\"" &gt;%d&lt;/xliff:g&gt; ausgewählt</string>
    <string name=""next_action"">Weiter</string>
    <string name=""previous_action"">Zurück</string>
    <!-- Used to confirm acceptance of dialog boxes, warnings, errors, etc. -->
    <string name=""okay_action"">OK</string>
    <string name=""cancel_action"">Abbrechen</string>
    <string name=""send_action"">Senden</string>
    <string name=""send_again_action"">Erneut senden</string>
    <string name=""empty_subject"">Betreff ist leer, bitte erneut drücken um trotzdem zu senden</string>
    <string name=""select_action"">Auswählen</string>
    <string name=""deselect_action"">Abwählen</string>
    <string name=""reply_action"">Antworten</string>
    <string name=""reply_all_action"">Allen antworten</string>
    <string name=""delete_action"">Löschen</string>
    <string name=""archive_action"">Archivieren</string>
    <string name=""spam_action"">Spam</string>
    <string name=""forward_action"">Weiterleiten</string>
    <string name=""move_action"">Verschieben</string>
    <string name=""single_message_options_action"">Senden…</string>
    <string name=""refile_action"">Umsortieren…</string>
    <string name=""done_action"">Fertig</string>
    <string name=""discard_action"">Verwerfen</string>
    <string name=""save_draft_action"">Als Entwurf speichern</string>
    <string name=""check_mail_action"">E-Mail abrufen</string>
    <string name=""send_messages_action"">Nachrichten senden</string>
    <string name=""refresh_folders_action"">Ordnerliste aktualisieren</string>
    <string name=""filter_folders_action"">Ordner suchen</string>
    <string name=""add_account_action"">Konto hinzufügen</string>
    <string name=""compose_action"">Verfassen</string>
    <string name=""search_action"">Suchen</string>
    <string name=""search_results"">Suchergebnisse</string>
    <string name=""preferences_action"">Einstellungen</string>
    <string name=""account_settings_action"">Kontoeinstellungen</string>
    <string name=""folder_settings_action"">Ordnereinstellungen</string>
    <string name=""global_settings_action"">Globale Einstellungen</string>
    <string name=""remove_account_action"">Konto entfernen</string>
    <string name=""clear_pending_action"">Ausstehende Aktionen löschen (Achtung!)</string>

    <string name=""mark_as_read_action"">Als gelesen markieren</string>
    <string name=""send_alternate_action"">Teilen</string>
    <string name=""send_alternate_chooser_title"">Anwendung auswählen</string>

    <string name=""flag_action"">Als wichtig markieren</string>
    <string name=""unflag_action"">Wichtig-Markierung entfernen</string>
    <string name=""copy_action"">Kopieren</string>
    <string name=""select_text_action"">Text auswählen</string>
    <string name=""show_headers_action"">Kopfzeilen anzeigen</string>
    <string name=""hide_headers_action"">Kopfzeilen verbergen</string>
    <plurals name=""copy_address_to_clipboard"">
        <item quantity=""one"">Adresse in Zwischenablage kopiert</item>
        <item quantity=""other"">Adressen in Zwischenablage kopiert</item>
    </plurals>

    <string name=""message_view_theme_action_dark"">Dunkles Theme verwenden</string>
    <string name=""message_view_theme_action_light"">Helles Theme verwenden</string>

    <string name=""mark_as_unread_action"">Als ungelesen markieren</string>
    <string name=""read_receipt"">Empfangsbestätigung</string>
    <string name=""read_receipt_enabled"">Eine Empfangsbestätigung wird angefordert</string>
    <string name=""read_receipt_disabled"">Es wird keine Empfangsbestätigung angefordert</string>
    <string name=""add_attachment_action"">Anhang hinzufügen</string>
    <string name=""empty_trash_action"">Papierkorb leeren</string>
    <string name=""expunge_action"">Bereinigen</string>
    <string name=""clear_local_folder_action"">Lokale Nachrichten löschen</string>
    <string name=""about_action"">Über</string>

    <string name=""prefs_title"">Einstellungen</string>
    <string name=""accounts_context_menu_title"">Kontooptionen</string>

    <!-- Shown in place of the subject when a message has no subject. Showing this in parentheses is customary. -->
    <string name=""general_no_subject"">(Kein Betreff)</string>
    <string name=""general_no_sender"">Kein Absender</string>
    <string name=""status_loading"">Lade</string>
    <string name=""status_loading_more"">Nachrichten werden geladen\\u2026</string>
    <string name=""status_network_error"">Verbindungsfehler</string>
    <string name=""status_invalid_id_error"">Nachricht nicht gefunden</string>
    <string name=""status_loading_error"">Nachrichtenladefehler</string>

    <string name=""status_loading_more_failed"">Laden weiterer Nachrichten erneut starten</string>

    <string name=""load_more_messages_fmt"">Bis zu &lt;xliff:g id=\""messages_to_load\"" &gt;%d&lt;/xliff:g&gt; weitere abrufen</string>

    <string name=""abbrev_gigabytes"">GB</string>
    <string name=""abbrev_megabytes"">MB</string>
    <string name=""abbrev_kilobytes"">KB</string>
    <string name=""abbrev_bytes"">B</string>

    <string name=""account_size_changed"">Konto \'&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\' von &lt;xliff:g id=\""oldSize\"" &gt;%s&lt;/xliff:g&gt; auf &lt;xliff:g id=\""newSize\"" &gt;%s&lt;/xliff:g&gt; komprimiert</string>

    <string name=""compacting_account"">Konto \'&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\' wird komprimiert</string>
    <string name=""clearing_account"">Konto \'&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\' wird bereinigt</string>
    <string name=""recreating_account"">Konto \""&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\' wird wiederhergestellt</string>

    <string name=""notification_new_title"">Neue E-Mail</string>
    <plurals name=""notification_new_messages_title"">
        <item quantity=""one"">&lt;xliff:g id=\""new_message_count\"" &gt;%d&lt;/xliff:g&gt; neue Nachricht</item>
        <item quantity=""other"">&lt;xliff:g id=\""new_message_count\"" &gt;%d&lt;/xliff:g&gt; neue Nachrichten</item>
    </plurals>
    <string name=""notification_new_one_account_fmt"">&lt;xliff:g id=\""unread_message_count\"" &gt;%d&lt;/xliff:g&gt; Ungelesen (&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""notification_additional_messages"">+ &lt;xliff:g id=\""additional_messages\"" &gt;%1$d&lt;/xliff:g&gt; weitere auf &lt;xliff:g id=\""account\"" &gt;%2$s&lt;/xliff:g&gt;</string>

    <string name=""notification_action_reply"">Antworten</string>
    <string name=""notification_action_mark_as_read"">Gelesen</string>
    <string name=""notification_action_mark_all_as_read"">Alle als gelesen markieren</string>
    <string name=""notification_action_delete"">Löschen</string>
    <string name=""notification_action_delete_all"">Alle löschen</string>
    <string name=""notification_action_archive"">Archiv</string>
    <string name=""notification_action_archive_all"">Alle archivieren</string>
    <string name=""notification_action_spam"">Spam</string>
    <string name=""notification_certificate_error_title"">Zertifikatsproblem (&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""notification_certificate_error_text"">Überprüfen Sie Ihre Servereinstellungen</string>

    <string name=""notification_authentication_error_title"">Authentifizierung fehlgeschlagen</string>
    <string name=""notification_authentication_error_text"">Authentifizierung fehlgeschlagen für &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;. Überprüfen Sie Ihre Servereinstellungen.</string>

    <string name=""notification_bg_sync_ticker"">Neue E-Mails in &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;:&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; werden abgerufen</string>
    <string name=""notification_bg_sync_title"">E-Mails werden abgerufen</string>
    <string name=""notification_bg_send_ticker"">E-Mail in &lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt; wird gesendet</string>
    <string name=""notification_bg_send_title"">E-Mail wird gesendet</string>
    <string name=""notification_bg_title_separator"">:</string>

    <string name=""special_mailbox_name_inbox"">Posteingang</string>
    <string name=""special_mailbox_name_outbox"">Postausgang</string>
    <string name=""special_mailbox_name_drafts"">Entwürfe</string>
    <string name=""special_mailbox_name_trash"">Papierkorb</string>
    <string name=""special_mailbox_name_sent"">Gesendet</string>
    <string name=""special_mailbox_name_archive"">Archiv</string>
    <string name=""special_mailbox_name_spam"">Spam</string>

    <string name=""special_mailbox_name_drafts_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Entwürfe)</string>
    <string name=""special_mailbox_name_trash_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Papierkorb)</string>
    <string name=""special_mailbox_name_sent_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Gesendet)</string>
    <string name=""special_mailbox_name_archive_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Archiv)</string>
    <string name=""special_mailbox_name_spam_fmt"">&lt;xliff:g id=\""folder\"" &gt;%s&lt;/xliff:g&gt; (Spam)</string>

    <string name=""send_failure_subject"">Nachrichten konnten nicht gesendet werden</string>

    <string name=""debug_version_fmt"">Version: &lt;xliff:g id=\""version\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""debug_enable_debug_logging_title"">Debugprotokollierung aktivieren</string>
    <string name=""debug_enable_debug_logging_summary"">Zusätzliche Diagnose-Informationen protokollieren</string>
    <string name=""debug_enable_sensitive_logging_title"">Vertrauliche Informationen protokollieren</string>
    <string name=""debug_enable_sensitive_logging_summary"">Anmeldepasswörter bei Verbindungsaufbau protokollieren.</string>

    <string name=""message_list_load_more_messages_action"">Weitere Nachrichten laden</string>
    <string name=""message_to_fmt"">An:&lt;xliff:g id=\""counterParty\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""message_compose_subject_hint"">Betreff</string>
    <string name=""message_compose_content_hint"">Nachrichtentext</string>
    <string name=""message_compose_signature_hint"">Signatur</string>
    <string name=""message_compose_quote_header_separator"">-------- Ursprüngliche Nachricht --------</string>
    <string name=""message_compose_quote_header_subject"">Betreff:</string>
    <string name=""message_compose_quote_header_send_date"">Gesendet:</string>
    <string name=""message_compose_quote_header_from"">Von:</string>
    <string name=""message_compose_quote_header_to"">An:</string>
    <string name=""message_compose_quote_header_cc"">CC:</string>
    <string name=""message_compose_reply_header_fmt"">&lt;xliff:g id=\""sender\"" &gt;%s&lt;/xliff:g&gt; schrieb:</string>
    <string name=""message_compose_reply_header_fmt_with_date"">Am &lt;xliff:g id=\""sent_date\"" &gt;%1$s&lt;/xliff:g&gt; schrieb &lt;xliff:g id=\""sender\"" &gt;%2$s&lt;/xliff:g&gt;:</string>
    <string name=""message_compose_error_no_recipients"">Sie müssen mindestens einen Empfänger auswählen.</string>
    <string name=""compose_error_incomplete_recipient"">Empfänger-Feld enthält unvollständigen Inhalt!</string>
    <string name=""error_contact_address_not_found"">Es wurde keine E-Mail-Adresse für diesen Kontakt gefunden.</string>
    <string name=""message_compose_attachments_skipped_toast"">Einige Anhänge können nicht weitergeleitet werden, da diese nicht heruntergeladen wurden.</string>
    <string name=""message_compose_show_quoted_text_action"">Ursprüngliche Nachricht zitieren</string>
    <string name=""message_compose_description_delete_quoted_text"">Zitierten Text entfernen</string>
    <string name=""message_compose_description_edit_quoted_text"">Zitierten Text bearbeiten</string>

    <string name=""message_view_from_format"">Von: &lt;xliff:g id=\""name\"" &gt;%s&lt;/xliff:g&gt; &lt;&lt;xliff:g id=\""email\"" &gt;%s&lt;/xliff:g&gt;&gt;</string>
    <string name=""message_to_label"">An:</string>
    <string name=""message_view_cc_label"">CC:</string>
    <string name=""message_view_attachment_view_action"">Öffnen</string>
    <string name=""message_view_attachment_download_action"">Speichern</string>
    <string name=""message_view_status_attachment_not_saved"">Anhang konnte nicht auf die SD-Karte gespeichert werden.</string>
    <string name=""message_view_status_no_space"">Die Anlage konnte aufgrund mangelnden Speicherplatzes nicht gespeichert werden.</string>
    <string name=""message_view_show_pictures_action"">Bilder anzeigen</string>
    <string name=""message_view_no_viewer"">Es wurde kein Anzeigeprogramm für &lt;xliff:g id=\""mimetype\"" &gt;%s&lt;/xliff:g&gt; gefunden.</string>
    <string name=""message_view_download_remainder"">Gesamte Nachricht herunterladen</string>
    <string name=""message_view_toast_unable_to_display_message"">Nachricht kann nicht angezeigt werden</string>
    <string name=""message_view_sender_label"">mit %1$s</string>

    <!-- NOTE: The following message refers to strings with id account_setup_incoming_save_all_headers_label and account_setup_incoming_title -->
    <string name=""message_no_additional_headers_available"">Alle Kopfzeilen wurden heruntergeladen, es sind allerdings keine neuen Kopfzeilen vorhanden.</string>
    <string name=""message_additional_headers_retrieval_failed"">Die weiteren Kopfzeilen konnten nicht aus der Datenbank oder vom Mailserver geladen werden.</string>

    <string name=""from_same_sender"">Mehr von diesem Absender</string>
    <string name=""debug_delete_local_body"">Debug / Lösche Nachrichtentext</string>

    <string name=""message_discarded_toast"">Nachricht wurde verworfen</string>
    <string name=""message_saved_toast"">Nachricht wurde als Entwurf gespeichert</string>

    <string name=""global_settings_flag_label"">Wichtige Nachrichten</string>
    <string name=""global_settings_flag_summary"">Sterne weisen auf wichtige Nachrichten hin.</string>
    <string name=""global_settings_checkbox_label"">Mehrfachauswahl</string>
    <string name=""global_settings_checkbox_summary"">Immer Mehrfachauswahl-Felder anzeigen</string>
    <string name=""global_settings_preview_lines_label"">Vorschauzeilen</string>
    <string name=""global_settings_show_correspondent_names_label"">Name anzeigen</string>
    <string name=""global_settings_show_correspondent_names_summary"">Name anstatt der E-Mail-Adresse des Korrespondenten anzeigen</string>

    <string name=""global_settings_sender_above_subject_label"">Korrespondent über Betreff</string>
    <string name=""global_settings_sender_above_subject_summary"">Namen der Korrespondenten über anstatt unter der Betreffzeile anzeigen</string>

    <string name=""global_settings_show_contact_name_label"">Namen aus Adressbuch</string>
    <string name=""global_settings_show_contact_name_summary"">Bekannte Namen aus dem Adressbuch (\'Kontakte\') anzeigen</string>
    <string name=""global_settings_registered_name_color_label"">Farbe von bekannten Namen</string>
    <string name=""global_settings_registered_name_color_default"">Standardfarbe</string>
    <string name=""global_settings_registered_name_color_changed"">Farbe wählen</string>
    <string name=""global_settings_folderlist_wrap_folder_names_label"">Lange Namen umbrechen</string>
    <string name=""global_settings_folderlist_wrap_folder_names_summary"">Lange Ordnernamen auf mehreren Zeilen anzeigen</string>

    <string name=""global_settings_messageview_fixedwidth_label"">Monotype-Schriftart</string>
    <string name=""global_settings_messageview_fixedwidth_summary"">Schriftart mit gleicher Zeichenbreite für Nur-Text-Nachrichten verwenden</string>
    <string name=""global_settings_messageview_autofit_width_label"">Nachrichtendarstellung</string>
    <string name=""global_settings_messageview_autofit_width_summary"">Nachrichten auf Displaygröße verkleinern</string>
    <string name=""global_settings_messageview_return_to_list_label"">Nach Löschen zurück</string>
    <string name=""global_settings_messageview_return_to_list_summary"">Nach Löschen zur Nachrichtenliste zurückkehren</string>
    <string name=""global_settings_messageview_show_next_label"">Nach Löschen nächste Nachricht</string>
    <string name=""global_settings_messageview_show_next_summary"">Nach Löschen standardmäßig die nächste Nachricht anzeigen</string>

    <string name=""global_settings_confirm_actions_title"">Bestätigungsdialog</string>
    <string name=""global_settings_confirm_actions_summary"">Bestätigung bei gewissen Aktionen erfordern</string>
    <string name=""global_settings_confirm_action_delete"">Löschen</string>
    <string name=""global_settings_confirm_action_delete_starred"">Sternmarkierte Löschen (nur in Nachrichtenansicht)</string>
    <string name=""global_settings_confirm_action_spam"">Spam</string>
    <string name=""global_settings_confirm_menu_discard"">Nachricht verwerfen</string>
    <string name=""global_settings_confirm_menu_mark_all_read"">Markiere alle Nachrichten als gelesen</string>
    <string name=""global_settings_confirm_action_delete_notif"">Löschen (aus Benachrichtigung)</string>

    <string name=""global_settings_privacy_hide_useragent"">K-9 nicht als Mailprogramm in Kopfzeilen eintragen</string>
    <string name=""global_settings_privacy_hide_useragent_detail"">Entferne K-9 User Agent vom Mailheader</string>
    <string name=""global_settings_privacy_hide_timezone"">UTC als Zeitzone in Kopfzeilen verwenden</string>
    <string name=""global_settings_privacy_hide_timezone_detail"">Benutze UTC anstatt der lokalen Zeitzone im Mailheader und Reply-Header</string>
    <string name=""global_settings_notification_hide_subject_title"">Betreff in Benachrichtigungen verbergen</string>
    <string name=""global_settings_notification_hide_subject_never"">Niemals</string>
    <string name=""global_settings_notification_hide_subject_when_locked"">Wenn der Bildschirm gesperrt ist</string>
    <string name=""global_settings_notification_hide_subject_always"">Immer</string>

    <string name=""global_settings_notification_quick_delete_title"">Löschen erlauben</string>
    <string name=""global_settings_notification_quick_delete_never"">Nie</string>
    <string name=""global_settings_notification_quick_delete_when_single_msg"">Für einzelne Nachricht</string>
    <string name=""global_settings_notification_quick_delete_always"">Immer</string>
    <string name=""global_settings_notification_quick_delete_description"">Der Benachrichtigung eine Schaltfläche zum Löschen der Nachrichten hinzufügen</string>

    <string name=""global_settings_lock_screen_notification_visibility_title"">Sperrbildschirm-Benachrichtigungen</string>
    <string name=""global_settings_lock_screen_notification_visibility_nothing"">Keine Sperrbildschirm-Benachrichtigungen</string>
    <string name=""global_settings_lock_screen_notification_visibility_app_name"">Anwendungsname</string>
    <string name=""global_settings_lock_screen_notification_visibility_message_count"">Anzahl der ungelesenen Nachrichten</string>
    <string name=""global_settings_lock_screen_notification_visibility_senders"">Nachrichtenanzahl und Absender</string>
    <string name=""global_settings_lock_screen_notification_visibility_everything"">Gleiche wie bei entsperrtem Bildschirm</string>

    <string name=""quiet_time"">Ruhezeit</string>
    <string name=""quiet_time_description"">Klingeln, Vibrieren und Leuchten in der Nacht deaktivieren</string>
    <string name=""quiet_time_notification"">Benachrichtigungen deaktivieren</string>
    <string name=""quiet_time_notification_description"">Benachrichtigungen während der Ruhezeit komplett deaktivieren</string>
    <string name=""quiet_time_starts"">Ruhezeit startet</string>
    <string name=""quiet_time_ends"">Ruhezeit endet</string>

    <string name=""account_setup_basics_title"">E-Mail-Konto einrichten</string>
    <string name=""account_setup_basics_email_hint"">E-Mail-Adresse</string>
    <string name=""account_setup_basics_password_hint"">Passwort</string>
    <string name=""account_setup_basics_show_password"">Passwort anzeigen</string>
    <string name=""account_setup_basics_manual_setup_action"">Manuelle Einrichtung</string>

    <string name=""account_setup_check_settings_title""/>
    <string name=""account_setup_check_settings_retr_info_msg"">Kontoinformationen werden abgerufen\\u2026</string>
    <string name=""account_setup_check_settings_check_incoming_msg"">Einstellungen des Empfangsservers werden überprüft\\u2026</string>
    <string name=""account_setup_check_settings_check_outgoing_msg"">Einstellungen des Ausgangsservers werden überprüft\\u2026</string>
    <string name=""account_setup_check_settings_authenticate"">Authentifizierung\\u2026</string>
    <string name=""account_setup_check_settings_fetch"">Kontoeinstellungen werden geladen\\u2026</string>
    <string name=""account_setup_check_settings_canceling_msg"">Aktion wird abgebrochen\\u2026</string>

    <string name=""account_setup_names_title"">Fast fertig!</string>
    <string name=""account_setup_names_account_name_label"">Kontoname (optional):</string>
    <string name=""account_setup_names_user_name_label"">Ihr Name (Anzeige bei ausgehenden Nachrichten):</string>

    <string name=""account_setup_account_type_title"">Kontotyp</string>
    <string name=""account_setup_account_type_instructions"">Art des Kontos?</string>
    <string name=""account_setup_account_type_pop_action"">POP3-Konto</string>
    <string name=""account_setup_account_type_imap_action"">IMAP-Konto</string>
    <string name=""account_setup_account_type_webdav_action"">WebDAV(Exchange)-Konto</string>

    <string name=""account_setup_auth_type_normal_password"">Passwort, normal</string>
    <string name=""account_setup_auth_type_insecure_password"">Passwort, verschlüsselt übermittelt</string>
    <string name=""account_setup_auth_type_encrypted_password"">Verschlüsseltes Passwort</string>
    <string name=""account_setup_auth_type_tls_client_certificate"">Client-Zertifikat</string>

    <string name=""account_setup_incoming_title"">Einstellungen für Posteingangsserver</string>
    <string name=""account_setup_incoming_username_label"">Benutzername</string>
    <string name=""account_setup_incoming_password_label"">Passwort</string>
    <string name=""account_setup_incoming_client_certificate_label"">Client-Zertifikat</string>
    <string name=""account_setup_incoming_pop_server_label"">POP3-Server</string>
    <string name=""account_setup_incoming_imap_server_label"">IMAP-Server</string>
    <string name=""account_setup_incoming_webdav_server_label"">WebDAV(Exchange)-Server</string>
    <string name=""account_setup_incoming_port_label"">Port</string>
    <string name=""account_setup_incoming_security_label"">Sicherheitstyp</string>
    <string name=""account_setup_incoming_auth_type_label"">Authentifizierungstyp</string>
    <string name=""account_setup_incoming_security_none_label"">Keine Verschlüsselung</string>
    <string name=""account_setup_incoming_security_ssl_label"">SSL/TLS</string>
    <string name=""account_setup_incoming_security_tls_label"">STARTTLS</string>
    <string name=""account_setup_incoming_invalid_setting_combo_notice"">""&lt;xliff:g id=\""setting_1_label\"" &gt;%1$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_1_value\"" &gt;%2$s&lt;/xliff:g&gt;\"" ist nicht gültig mit \""&lt;xliff:g id=\""setting_2_label\"" &gt;%3$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_2_value\"" &gt;%4$s&lt;/xliff:g&gt;""</string>

    <string name=""account_setup_incoming_delete_policy_label"">Beim Löschen von Nachrichten</string>
    <string name=""account_setup_incoming_delete_policy_never_label"">Nie von Server löschen</string>
    <string name=""account_setup_incoming_delete_policy_delete_label"">Auch auf Server löschen</string>
    <string name=""account_setup_incoming_delete_policy_markread_label"">Auf Server als gelesen markieren</string>

    <string name=""account_setup_incoming_compression_label"">Komprimierung bei Netzwerk verwenden:</string>
    <string name=""account_setup_incoming_mobile_label"">Mobil</string>
    <string name=""account_setup_incoming_wifi_label"">WLAN</string>
    <string name=""account_setup_incoming_other_label"">Anderes</string>

    <string name=""local_storage_provider_external_label"">Externer Speicher (SD-Karte)</string>
    <string name=""local_storage_provider_internal_label"">Interner Speicher</string>
    <string name=""local_storage_provider_samsunggalaxy_label"">%1$s zusätzlicher interner Speicher</string>
    <string name=""local_storage_provider_label"">Speicherort</string>

    <string name=""account_setup_expunge_policy_label"">Ordner bereinigen (Expunge)</string>
    <string name=""account_setup_expunge_policy_immediately"">Sofort nach Verschieben oder Kopieren</string>
    <string name=""account_setup_expunge_policy_on_poll"">Bei jedem Abrufen</string>
    <string name=""account_setup_expunge_policy_manual"">Nur manuell</string>

    <string name=""account_setup_incoming_autodetect_namespace_label"">IMAP-Namensraum automatisch ermitteln</string>
    <string name=""account_setup_incoming_imap_path_prefix_label"">IMAP-Verzeichnispräfix</string>

    <string name=""drafts_folder_label"">Ordner für Entwürfe</string>
    <string name=""sent_folder_label"">Ordner für gesendete Nachrichten</string>
    <string name=""trash_folder_label"">Ordner für gelöschte Nachrichten</string>
    <string name=""archive_folder_label"">Ordner für archivierte Nachrichten</string>
    <string name=""spam_folder_label"">Ordner für Spam</string>

    <string name=""account_setup_incoming_subscribed_folders_only_label"">Nur ausgewählte Ordner anzeigen</string>
    <string name=""account_setup_auto_expand_folder"">Startordner</string>

    <string name=""account_setup_incoming_webdav_path_prefix_label"">WebDAV-(Exchange-)Pfad</string>
    <string name=""account_setup_incoming_webdav_path_prefix_hint"">Optional</string>

    <string name=""account_setup_incoming_webdav_auth_path_label"">Authentifizierungspfad</string>
    <string name=""account_setup_incoming_webdav_auth_path_hint"">Optional</string>
    <string name=""account_setup_incoming_webdav_mailbox_path_label"">Mailbox-Pfad</string>
    <string name=""account_setup_incoming_webdav_mailbox_path_hint"">Optional</string>

    <string name=""account_setup_outgoing_title"">Einstellungen für Postausgangsserver</string>
    <string name=""account_setup_outgoing_smtp_server_label"">SMTP-Server</string>
    <string name=""account_setup_outgoing_port_label"">Port</string>
    <string name=""account_setup_outgoing_security_label"">Sicherheitstyp</string>
    <string name=""account_setup_outgoing_require_login_label"">Anmeldung erforderlich</string>
    <string name=""account_setup_outgoing_username_label"">Benutzername</string>
    <string name=""account_setup_outgoing_password_label"">Passwort</string>
    <string name=""account_setup_outgoing_authentication_label"">Authentifizierungsmethode</string>
    <string name=""account_setup_outgoing_invalid_setting_combo_notice"">""&lt;xliff:g id=\""setting_1_label\"" &gt;%1$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_1_value\"" &gt;%2$s&lt;/xliff:g&gt;\"" ist nicht gültig mit \""&lt;xliff:g id=\""setting_2_label\"" &gt;%3$s&lt;/xliff:g&gt; = &lt;xliff:g id=\""setting_2_value\"" &gt;%4$s&lt;/xliff:g&gt;""</string>

    <string name=""account_setup_bad_uri"">Ungültige Einstellung: &lt;xliff:g id=\""err_mess\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""account_setup_options_title"">Kontooptionen</string>

    <string name=""compact_action"">Konto komprimieren</string>
    <string name=""clear_action"">Alle Daten löschen (Vorsicht!)</string>
    <string name=""recreate_action"">Daten neu erstellen (Letzter Ausweg!)</string>

    <string name=""account_setup_options_mail_check_frequency_label"">E-Mail-Abfrage</string>
    <string name=""account_setup_options_mail_check_frequency_never"">Nie (nur manuell)</string>
    <string name=""account_setup_options_mail_check_frequency_1min"">Jede Minute</string>
    <string name=""account_setup_options_mail_check_frequency_5min"">Alle 5 Minuten</string>
    <string name=""account_setup_options_mail_check_frequency_10min"">Alle 10 Minuten</string>
    <string name=""account_setup_options_mail_check_frequency_15min"">Alle 15 Minuten</string>
    <string name=""account_setup_options_mail_check_frequency_30min"">Alle 30 Minuten</string>
    <string name=""account_setup_options_mail_check_frequency_1hour"">Jede Stunde</string>
    <string name=""account_setup_options_mail_check_frequency_2hour"">Alle 2 Stunden</string>
    <string name=""account_setup_options_mail_check_frequency_3hour"">Alle 3 Stunden</string>
    <string name=""account_setup_options_mail_check_frequency_6hour"">Alle 6 Stunden</string>
    <string name=""account_setup_options_mail_check_frequency_12hour"">Alle 12 Stunden</string>
    <string name=""account_setup_options_mail_check_frequency_24hour"">Alle 24 Stunden</string>

    <string name=""push_poll_on_connect_label"">Abruf beim Start der Push-Verbindung</string>
    <string name=""account_setup_options_enable_push_label"">Push-Mail für dieses Konto aktivieren</string>
    <string name=""account_setup_options_enable_push_summary"">Neue Nachrichten werden nach dem Eintreffen umgehend abgerufen, falls Ihr Server dies unterstützt. Diese Einstellung kann die Akkulaufzeit des Gerätes stark beeinflussen</string>
    <string name=""idle_refresh_period_label"">Push-Verbindung erneuern</string>
    <string name=""idle_refresh_period_1min"">Jede Minute</string>
    <string name=""idle_refresh_period_2min"">Alle 2 Minuten</string>
    <string name=""idle_refresh_period_3min"">Alle 3 Minuten</string>
    <string name=""idle_refresh_period_6min"">Alle 6 Minuten</string>
    <string name=""idle_refresh_period_12min"">Alle 12 Minuten</string>
    <string name=""idle_refresh_period_24min"">Alle 24 Minuten</string>
    <string name=""idle_refresh_period_36min"">Alle 36 Minuten</string>
    <string name=""idle_refresh_period_48min"">Alle 48 Minuten</string>
    <string name=""idle_refresh_period_60min"">Jede Stunde</string>

    <string name=""account_setup_options_notify_label"">Benachrichtigen, wenn Nachrichten eingehen</string>
    <string name=""account_setup_options_notify_sync_label"">Benachrichtigen, wenn Nachrichten synchronisiert werden</string>

    <string name=""account_setup_options_mail_display_count_label"">Anzahl sichtbarer Nachrichten</string>
    <string name=""account_setup_options_mail_display_count_10"">10 Nachrichten</string>
    <string name=""account_setup_options_mail_display_count_25"">25 Nachrichten</string>
    <string name=""account_setup_options_mail_display_count_50"">50 Nachrichten</string>
    <string name=""account_setup_options_mail_display_count_100"">100 Nachrichten</string>
    <string name=""account_setup_options_mail_display_count_250"">250 Nachrichten</string>
    <string name=""account_setup_options_mail_display_count_500"">500 Nachrichten</string>
    <string name=""account_setup_options_mail_display_count_1000"">1000 Nachrichten</string>
    <string name=""account_setup_options_mail_display_count_2500"">2500 Nachrichten</string>
    <string name=""account_setup_options_mail_display_count_5000"">5000 Nachrichten</string>
    <string name=""account_setup_options_mail_display_count_10000"">10000 Nachrichten</string>
    <string name=""account_setup_options_mail_display_count_all"">Alle Nachrichten</string>

    <string name=""move_copy_cannot_copy_unsynced_message"">Nachrichten, die nicht mit dem Server synchronisiert wurden, können nicht kopiert oder verschoben werden.</string>

    <string name=""account_setup_failed_dlg_title"">Einrichtung konnte nicht abgeschlossen werden</string>
    <string name=""account_setup_failed_dlg_auth_message_fmt"">Benutzername oder Passwort ist falsch.\n
    (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_certificate_message_fmt"">Der Server verwendet ein ungültiges SSL-Zertifikat. Dies könnte daran liegen, dass der Server falsch konfiguriert ist. Allerdings könnte es auch daran liegen, dass jemand versucht Sie oder ihren E-Mail-Server anzugreifen. Falls Sie sich nicht sicher sind was der Grund ist, klicken Sie auf Abbrechen und kontaktieren Sie die Administratoren Ihres E-Mail-Servers. \n
    \n
    (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_server_message_fmt"">Kann nicht mit dem Server verbinden.\n
    (&lt;xliff:g id=\""error\"" &gt;%s&lt;/xliff:g&gt;)</string>
    <string name=""account_setup_failed_dlg_edit_details_action"">Details bearbeiten</string>
    <string name=""account_setup_failed_dlg_continue_action"">Weiter</string>

    <string name=""account_settings_push_advanced_title"">Erweitert</string>
    <string name=""account_settings_title_fmt"">Kontoeinstellungen</string>
    <string name=""account_settings_default_label"">Standardkonto</string>
    <string name=""account_settings_default_summary"">Standardmäßig Nachrichten von diesem Konto aus senden</string>
    <string name=""account_settings_notify_label"">Bei neuen Nachrichten</string>

    <string name=""account_settings_folder_notify_new_mail_mode_label"">Benachrichtigungsordner</string>
    <string name=""account_settings_folder_notify_new_mail_mode_all"">Alle</string>
    <string name=""account_settings_folder_notify_new_mail_mode_first_class"">Nur Hauptordner</string>
    <string name=""account_settings_folder_notify_new_mail_mode_first_and_second_class"">Haupt- und Nebenordner</string>
    <string name=""account_settings_folder_notify_new_mail_mode_not_second_class"">Alle außer Nebenordner</string>
    <string name=""account_settings_folder_notify_new_mail_mode_none"">Kein</string>

    <string name=""account_settings_notify_sync_label"">Benachrichtigung bei Synchronisation</string>
    <string name=""account_settings_email_label"">Ihre E-Mail-Adresse</string>
    <string name=""account_settings_notify_summary"">Benachrichtigung in der Statuszeile anzeigen, wenn eine neue Nachricht empfangen wird</string>
    <string name=""account_settings_notify_sync_summary"">Benachrichtigung in der Statuszeile anzeigen, während nach neuen Nachrichten gesucht wird</string>
    <string name=""account_settings_notify_self_label"">Bei eigenen Nachrichten</string>
    <string name=""account_settings_notify_self_summary"">Benachrichtigungen für Nachrichten, die eine Ihrer eigenen E-Mail-Adressen als Absender tragen</string>
    <string name=""account_notify_contacts_mail_only_label"">Nur Kontakte</string>
    <string name=""account_notify_contacts_mail_only_summary"">Benachrichtigungen nur für Nachrichten von bekannten Kontakten anzeigen</string>
    <string name=""account_settings_notification_opens_unread_label"">Ungelesene Nachrichten öffnen</string>
    <string name=""account_settings_notification_opens_unread_summary"">Beim Öffnen einer Benachrichtigung Liste der ungelesenen Nachrichten anzeigen</string>
    <string name=""account_settings_mark_message_as_read_on_view_label"">Beim Öffnen als gelesen markieren</string>
    <string name=""account_settings_mark_message_as_read_on_view_summary"">Nachricht als gelesen markieren, sobald sie zum Betrachten geöffnet wird</string>

    <string name=""account_settings_show_pictures_label"">Bilder automatisch anzeigen</string>
    <string name=""account_settings_show_pictures_never"">Niemals</string>
    <string name=""account_settings_show_pictures_only_from_contacts"">Nur von Kontakten</string>
    <string name=""account_settings_show_pictures_always"">Immer</string>

    <string name=""account_settings_composition"">Nachrichten verfassen</string>

    <string name=""account_settings_default_quoted_text_shown_label"">Nachricht beim Antworten zitieren</string>
    <string name=""account_settings_default_quoted_text_shown_summary"">Beim Antworten die ursprüngliche Nachricht als Zitat einfügen</string>

    <string name=""account_settings_reply_after_quote_label"">Antwort unter Zitat</string>
    <string name=""account_settings_reply_after_quote_summary"">Die Antwort auf eine Nachricht unterhalb der ursprünglichen Nachricht platzieren</string>

    <string name=""account_settings_strip_signature_label"">Signatur aus Zitat entfernen</string>
    <string name=""account_settings_strip_signature_summary"">Beim Antworten die Signatur aus dem Zitat entfernen</string>

    <string name=""account_settings_message_format_label"">Formatierung</string>
    <string name=""account_settings_message_format_text"">Nur-Text (Bilder und Formatierungen entfernen)</string>
    <string name=""account_settings_message_format_html"">HTML (Bilder und Formatierungen bleiben erhalten)</string>
    <string name=""account_settings_message_format_auto"">Automatisch</string>

    <string name=""account_settings_always_show_cc_bcc_label"">CC/BCC immer anzeigen</string>

    <string name=""account_settings_message_read_receipt_label"">Empfangsbestätigung</string>
    <string name=""account_settings_message_read_receipt_summary"">Immer eine Empfangsbestätigung anfordern</string>

    <string name=""account_settings_quote_style_label"">Antwortkopf</string>
    <string name=""account_settings_quote_style_prefix"">Normal (wie in Gmail, Pine)</string>
    <string name=""account_settings_quote_style_header"">Erweitert (wie in Outlook, Yahoo!, Hotmail)</string>

    <string name=""account_settings_general_title"">Allgemeine Einstellungen</string>
    <string name=""account_settings_reading_mail"">Nachrichten lesen</string>
    <string name=""account_settings_sync"">Nachrichten abrufen</string>
    <string name=""account_settings_folders"">Ordner</string>
    <string name=""account_settings_quote_prefix_label"">Zitat-Präfix</string>
    <string name=""account_settings_crypto"">Kryptographie</string>
    <string name=""account_settings_crypto_app"">OpenPGP App</string>
    <string name=""account_settings_crypto_key"">Mein Schlüssel</string>
    <string name=""account_settings_no_openpgp_provider_configured"">Keine OpenPGP App installiert</string>

    <string name=""account_settings_mail_check_frequency_label"">Häufigkeit der E-Mail-Abfrage</string>

    <string name=""account_settings_storage_title"">Speicher</string>

    <string name=""account_settings_color_label"">Kontofarbe</string>
    <string name=""account_settings_color_summary"">Farbe, in der das Konto in der Konten- und Ordnerliste dargestellt wird</string>

    <string name=""account_settings_led_color_label"">Farbe der Benachrichtigungs-LED</string>
    <string name=""account_settings_led_color_summary"">Farbe, die für die Benachrichtigungs-LED bei Benachrichtigungen für dieses Konto verwendet wird</string>

    <string name=""account_settings_mail_display_count_label"">Anzahl anzuzeigender Nachrichten</string>

    <string name=""account_settings_autodownload_message_size_label"">Nachrichten automatisch laden bis</string>
    <string name=""account_settings_autodownload_message_size_1"">1KB</string>
    <string name=""account_settings_autodownload_message_size_2"">2KB</string>
    <string name=""account_settings_autodownload_message_size_4"">4KB</string>
    <string name=""account_settings_autodownload_message_size_8"">8KB</string>
    <string name=""account_settings_autodownload_message_size_16"">16KB</string>
    <string name=""account_settings_autodownload_message_size_32"">32KB</string>
    <string name=""account_settings_autodownload_message_size_64"">64KB</string>
    <string name=""account_settings_autodownload_message_size_128"">128KB</string>
    <string name=""account_settings_autodownload_message_size_256"">256KB</string>
    <string name=""account_settings_autodownload_message_size_512"">512KB</string>
    <string name=""account_settings_autodownload_message_size_1024"">1MB</string>
    <string name=""account_settings_autodownload_message_size_2048"">2MB</string>
    <string name=""account_settings_autodownload_message_size_5120"">5MB</string>
    <string name=""account_settings_autodownload_message_size_10240"">10MB</string>
    <string name=""account_settings_autodownload_message_size_any"">Keine Beschränkung</string>

    <string name=""account_settings_message_age_label"">Nachrichten synchronisieren</string>
    <string name=""account_settings_message_age_any"">Alle (keine Beschränkung)</string>
    <string name=""account_settings_message_age_0"">von heute</string>
    <string name=""account_settings_message_age_1"">der letzten 2 Tage</string>
    <string name=""account_settings_message_age_2"">der letzten 3 Tage</string>
    <string name=""account_settings_message_age_7"">der letzten Woche</string>
    <string name=""account_settings_message_age_14"">der letzten 2 Wochen</string>
    <string name=""account_settings_message_age_21"">der letzten 3 Wochen</string>
    <string name=""account_settings_message_age_1_month"">des letzten Monats</string>
    <string name=""account_settings_message_age_2_months"">der letzten 2 Monate</string>
    <string name=""account_settings_message_age_3_months"">der letzten 3 Monate</string>
    <string name=""account_settings_message_age_6_months"">der letzten 6 Monate</string>
    <string name=""account_settings_message_age_1_year"">des letzten Jahres</string>

    <string name=""account_settings_folder_display_mode_label"">Angezeigte Ordner</string>
    <string name=""account_settings_folder_display_mode_all"">Alle</string>
    <string name=""account_settings_folder_display_mode_first_class"">Nur Hauptordner</string>
    <string name=""account_settings_folder_display_mode_first_and_second_class"">Haupt- und Nebenordner</string>
    <string name=""account_settings_folder_display_mode_not_second_class"">Alle außer Nebenordner</string>

    <string name=""account_settings_folder_sync_mode_label"">Abzufragende Ordner</string>
    <string name=""account_settings_folder_sync_mode_all"">Alle</string>
    <string name=""account_settings_folder_sync_mode_first_class"">Nur Hauptordner</string>
    <string name=""account_settings_folder_sync_mode_first_and_second_class"">Haupt- und Nebenordner</string>
    <string name=""account_settings_folder_sync_mode_not_second_class"">Alle außer Nebenordner</string>
    <string name=""account_settings_folder_sync_mode_none"">Keine</string>

    <string name=""account_settings_folder_push_mode_label"">Push-Ordner</string>
    <string name=""account_settings_folder_push_mode_all"">Alle Ordner</string>
    <string name=""account_settings_folder_push_mode_first_class"">Nur Hauptordner</string>
    <string name=""account_settings_folder_push_mode_first_and_second_class"">Haupt- und Nebenordner</string>
    <string name=""account_settings_folder_push_mode_not_second_class"">Alle außer Nebenordner</string>
    <string name=""account_settings_folder_push_mode_none"">Keine Ordner</string>

    <string name=""account_settings_folder_target_mode_label"">Zielordner für Kopieren/Verschieben</string>
    <string name=""account_settings_folder_target_mode_all"">Alle</string>
    <string name=""account_settings_folder_target_mode_first_class"">Nur Hauptordner</string>
    <string name=""account_settings_folder_target_mode_first_and_second_class"">Haupt- und Nebenordner</string>
    <string name=""account_settings_folder_target_mode_not_second_class"">Alle außer Nebenordner</string>

    <string name=""account_settings_sync_remote_deletetions_label"">Löschungen vom Server übernehmen</string>
    <string name=""account_settings_sync_remote_deletetions_summary"">Nachrichten löschen, wenn sie vom Server gelöscht wurden</string>

    <string name=""folder_settings_title"">Ordner-Einstellungen</string>

    <string name=""folder_settings_in_top_group_label"">Oben anzeigen</string>
    <string name=""folder_settings_in_top_group_summary"">Ordner am Anfang der Ordnerliste anzeigen</string>

    <string name=""folder_settings_folder_display_mode_label"">Anzeigeklasse</string>
    <string name=""folder_settings_folder_display_mode_normal"">Keine</string>
    <string name=""folder_settings_folder_display_mode_first_class"">Hauptordner</string>
    <string name=""folder_settings_folder_display_mode_second_class"">Nebenordner</string>

    <string name=""folder_settings_folder_sync_mode_label"">Synchronisationsklasse</string>
    <string name=""folder_settings_folder_sync_mode_normal"">Keine</string>
    <string name=""folder_settings_folder_sync_mode_first_class"">Hauptordner</string>
    <string name=""folder_settings_folder_sync_mode_second_class"">Nebenordner</string>
    <string name=""folder_settings_folder_sync_mode_inherited"">Wie Anzeigeklasse</string>

    <string name=""folder_settings_folder_push_mode_label"">Push-Klasse</string>
    <string name=""folder_settings_folder_push_mode_normal"">Keine</string>
    <string name=""folder_settings_folder_push_mode_first_class"">Hauptordner</string>
    <string name=""folder_settings_folder_push_mode_second_class"">Nebenordner</string>
    <string name=""folder_settings_folder_push_mode_inherited"">Wie Synchronisationsklasse</string>

    <string name=""folder_settings_folder_notify_mode_label"">Ordnerbenachrichtigungsklasse</string>
    <string name=""folder_settings_folder_notify_mode_normal"">Kein</string>
    <string name=""folder_settings_folder_notify_mode_first_class"">Hauptordner</string>
    <string name=""folder_settings_folder_notify_mode_second_class"">Nebenordner</string>
    <string name=""folder_settings_folder_notify_mode_inherited"">Wie Push-Klasse</string>

    <string name=""account_settings_incoming_label"">Posteingangs-Einstellungen</string>
    <string name=""account_settings_incoming_summary"">Einstellungen für Posteingangsserver bearbeiten</string>
    <string name=""account_settings_outgoing_label"">Postausgangs-Einstellungen</string>
    <string name=""account_settings_outgoing_summary"">Einstellungen für Postausgangsserver bearbeiten</string>
    <string name=""account_settings_description_label"">Kontoname</string>
    <string name=""account_settings_name_label"">Ihr Name</string>
    <string name=""notifications_title"">Benachrichtigungen</string>
    <string name=""account_settings_vibrate_enable"">Vibration</string>
    <string name=""account_settings_vibrate_summary"">Vibration bei neuer Nachricht</string>
    <string name=""account_settings_vibrate_pattern_label"">Vibrationsrhythmus</string>
    <string name=""account_settings_vibrate_pattern_default"">Standard</string>
    <string name=""account_settings_vibrate_pattern_1"">Rhythmus 1</string>
    <string name=""account_settings_vibrate_pattern_2"">Rhythmus 2</string>
    <string name=""account_settings_vibrate_pattern_3"">Rhythmus 3</string>
    <string name=""account_settings_vibrate_pattern_4"">Rhythmus 4</string>
    <string name=""account_settings_vibrate_pattern_5"">Rhythmus 5</string>
    <string name=""account_settings_vibrate_times"">Anzahl der Vibrationen</string>
    <string name=""account_settings_ringtone"">Klingelton</string>
    <string name=""account_settings_led_label"">LED-Blinken</string>
    <string name=""account_settings_led_summary"">LED blinkt bei neuer Nachricht</string>

    <string name=""account_settings_composition_title"">Verfassen von Nachrichten</string>
    <string name=""account_settings_composition_label"">Verfassen von Nachrichten</string>
    <string name=""account_settings_composition_summary"">Standard-Absender, BCC-Empfänger und Signatur konfigurieren</string>

    <string name=""account_settings_identities_label"">Identitäten verwalten</string>
    <string name=""account_settings_identities_summary"">Alternative Absenderadressen und Signaturen konfigurieren</string>

    <string name=""manage_identities_title"">Identitäten verwalten</string>

    <string name=""manage_identities_context_menu_title"">Identität bearbeiten</string>

    <string name=""edit_identity_title"">Identität bearbeiten</string>
    <string name=""new_identity_action"">Neue Identität erstellen</string>

    <string name=""account_settings_always_bcc_label"">Alle Nachrichten mit BCC an</string>

    <string name=""manage_identities_edit_action"">Bearbeiten</string>
    <string name=""manage_identities_move_up_action"">Nach oben verschieben</string>
    <string name=""manage_identities_move_down_action"">Nach unten verschieben</string>
    <string name=""manage_identities_move_top_action"">Ganz nach oben / Standard</string>
    <string name=""manage_identities_remove_action"">Entfernen</string>

    <string name=""edit_identity_description_label"">Name der Identität</string>
    <string name=""edit_identity_description_hint"">(Optional)</string>
    <string name=""edit_identity_name_label"">Ihr Name</string>
    <string name=""edit_identity_name_hint"">(Optional)</string>
    <string name=""edit_identity_email_label"">E-Mail-Adresse</string>
    <string name=""edit_identity_email_hint"">(Erforderlich)</string>
    <string name=""edit_identity_reply_to_label"">Antwortadresse</string>
    <string name=""edit_identity_reply_to_hint"">(Optional)</string>
    <string name=""edit_identity_signature_label"">Signatur</string>
    <string name=""edit_identity_signature_hint"">(Optional)</string>

    <string name=""account_settings_signature_use_label"">Signatur verwenden</string>
    <string name=""account_settings_signature_label"">Signatur</string>

    <string name=""default_identity_description"">Standard-Identität</string>
    <string name=""choose_identity_title"">Identität auswählen</string>
    <string name=""send_as"">Sende als</string>

    <string name=""no_removable_identity"">Sie können Ihre einzige Identität nicht löschen</string>
    <string name=""identity_has_no_email"">Sie können keine Identität ohne E-Mail-Adresse verwenden</string>

    <string name=""sort_earliest_first"">Älteste Nachrichten zuerst</string>
    <string name=""sort_latest_first"">Neueste Nachrichten zuerst</string>
    <string name=""sort_subject_alpha"">Alphabetisch nach Betreff (A-Z)</string>
    <string name=""sort_subject_re_alpha"">Alphabetisch nach Betreff (Z-A)</string>
    <string name=""sort_sender_alpha"">Alphabetisch nach Absender (A-Z)</string>
    <string name=""sort_sender_re_alpha"">Alphabetisch nach Absender (Z-A)</string>
    <string name=""sort_flagged_first"">Markierte Nachrichten zuerst</string>
    <string name=""sort_flagged_last"">Nicht markierte Nachrichten zuerst</string>
    <string name=""sort_unread_first"">Ungelesene Nachrichten zuerst</string>
    <string name=""sort_unread_last"">Gelesene Nachrichten zuerst</string>
    <string name=""sort_attach_first"">Nachrichten mit Anhängen zuerst</string>
    <string name=""sort_unattached_first"">Nachrichten ohne Anhänge zuerst</string>

    <string name=""sort_by"">Sortieren nach…</string>
    <string name=""sort_by_date"">Datum</string>
    <string name=""sort_by_arrival"">Ankunftsdatum</string>
    <string name=""sort_by_subject"">Betreff</string>
    <string name=""sort_by_sender"">Absender</string>
    <string name=""sort_by_flag"">Wichtigkeit</string>
    <string name=""sort_by_unread"">Gelesen/Ungelesen</string>
    <string name=""sort_by_attach"">Anhang</string>

    <string name=""account_delete_dlg_title"">Konto entfernen</string>

    <string name=""account_recreate_dlg_title"">Konto neu erstellen</string>

    <string name=""account_clear_dlg_title"">Nachrichten löschen</string>

    <string name=""provider_note_auonejp"">Wenn Sie für diesen Anbieter IMAP oder POP3 verwenden möchten, sollten Sie dies auf der \""AU One\""-Einstellungsseite aktivieren.</string>
    <string name=""provider_note_naver"">Wenn Sie für diesen Anbieter IMAP oder POP3 verwenden möchten, sollten Sie dies auf der \""Naver Mail\""-Einstellungsseite aktivieren.</string>
    <string name=""provider_note_hanmail"">Wenn Sie für diesen Anbieter IMAP oder POP3 verwenden möchten, sollten Sie dies auf der \""Hanmail(Daum)\""-Einstellungsseite aktivieren.</string>

    <string name=""account_setup_failed_dlg_invalid_certificate_title"">Ungültiges Zertifikat</string>
    <string name=""account_setup_failed_dlg_invalid_certificate_accept"">Zertifikat akzeptieren</string>
    <string name=""account_setup_failed_dlg_invalid_certificate_reject"">Zertifikat ablehnen</string>

    <string name=""message_list_help_key"">Del (oder D) - Löschen\n
    R - Antworten\n
    A - Allen Antworten\n
    C - Verfassen\n
    F - Weiterleiten\n
    M - Verschieben\n
    V - Archivieren\n
    Y - Kopieren\n
    Z - Als (un)gelesen markieren\n
    G - Markieren\n
    O - Sortierung\n
    I - Sortierungsreihenfolge\n
    Q - Zurück zur Ordnerliste\n
    S - Auswählen/abwählen\n
    J oder P - Vorherige Nachricht\n
    K oder N - Nächste Nachricht</string>

    <string name=""folder_list_help_key"">1 - Nur Hauptordner anzeigen\n
    2 - Haupt- und Nebenordner anzeigen\n
    3 - Alle außer Nebenordner anzeigen\n
    4 - Alle Ordner anzeigen\n
    Q - Zurück zu den Konten\n
    S - Kontoeinstellungen bearbeiten</string>

    <string name=""folder_list_filter_hint"">Ordnername enthält</string>

    <string name=""folder_list_display_mode_label"">Ordner</string>
    <string name=""folder_list_display_mode_all"">Alle Ordner anzeigen</string>
    <string name=""folder_list_display_mode_first_class"">Nur Hauptordner anzeigen</string>
    <string name=""folder_list_display_mode_first_and_second_class"">Haupt- und Nebenordner anzeigen</string>
    <string name=""folder_list_display_mode_not_second_class"">Alle außer Nebenordner anzeigen</string>

    <string name=""account_settings_signature__location_label"">Position der Signatur</string>
    <string name=""account_settings_signature__location_before_quoted_text"">Vor zitierter Nachricht</string>
    <string name=""account_settings_signature__location_after_quoted_text"">Nach zitierter Nachricht</string>
    <string name=""setting_theme_global"">Anwendungsdesign verwenden</string>
    <string name=""setting_theme_dark"">Dunkel</string>
    <string name=""setting_theme_light"">Hell</string>
    <string name=""display_preferences"">Anzeige</string>
    <string name=""global_preferences"">Globale Einstellungen</string>
    <string name=""debug_preferences"">Fehlerdiagnose</string>
    <string name=""privacy_preferences"">Datenschutz</string>
    <string name=""network_preferences"">Netzwerk</string>
    <string name=""interaction_preferences"">Interaktion</string>
    <string name=""accountlist_preferences"">Kontenliste</string>
    <string name=""messagelist_preferences"">Nachrichtenliste</string>
    <string name=""messageview_preferences"">Nachrichten</string>
    <string name=""folderlist_preferences"">Ordnerliste</string>
    <string name=""settings_theme_label"">Design</string>
    <string name=""settings_message_theme_label"">Nachrichten-Design</string>
    <string name=""settings_compose_theme_label"">Editor-Design</string>

    <string name=""settings_message_theme_selection_label"">Festes Nachrichten-Design</string>
    <string name=""settings_message_theme_selection_summary_off"">Nachrichten-Design während des Ansehens der Nachricht auswählen</string>
    <string name=""settings_message_theme_selection_summary_on"">Immer das ausgewählte Nachrichten-Design verwenden</string>

    <string name=""background_ops_label"">Hintergrund-Synchronisierung</string>
    <string name=""background_ops_never"">Nie</string>
    <string name=""background_ops_always"">Immer</string>
    <string name=""background_ops_auto_sync_only"">Wenn \'Automatische Synchronisation\' aktiviert ist</string>

    <string name=""batch_select_all"">Alle auswählen</string>

    <string name=""account_setup_push_limit_label"">Maximale Push-Ordner-Anzahl</string>
    <string name=""account_setup_push_limit_10"">10 Ordner</string>
    <string name=""account_setup_push_limit_25"">25 Ordner</string>
    <string name=""account_setup_push_limit_50"">50 Ordner</string>
    <string name=""account_setup_push_limit_100"">100 Ordner</string>
    <string name=""account_setup_push_limit_250"">250 Ordner</string>
    <string name=""account_setup_push_limit_500"">500 Ordner</string>
    <string name=""account_setup_push_limit_1000"">1000 Ordner</string>

    <string name=""animations_title"">Animationen</string>
    <string name=""animations_summary"">Aufwändige visuelle Effekte benutzen</string>
    <string name=""gestures_title"">Gesten</string>
    <string name=""gestures_summary"">Gesten für vorherige/nächste Nachricht aktivieren</string>

    <string name=""volume_navigation_title"">Lauter/Leiser-Navigation</string>
    <string name=""volume_navigation_message"">Nachrichtenansicht</string>
    <string name=""volume_navigation_list"">Diverse Listenansichten</string>

    <string name=""start_integrated_inbox_title"">Gemeins. Posteingang bei Start</string>

    <string name=""measure_accounts_title"">Kontogröße anzeigen</string>
    <string name=""measure_accounts_summary"">Für schnellere Anzeige deaktivieren</string>

    <string name=""count_search_title"">Suchergebnisse zählen</string>
    <string name=""count_search_summary"">Für schnellere Anzeige deaktivieren</string>

    <string name=""hide_special_accounts_title"">Spezial-Konten verbergen</string>
    <string name=""hide_special_accounts_summary"">\'Gemeinsamen Posteingang\' und \'Alle Nachrichten\' verbergen</string>

    <string name=""search_title"">&lt;xliff:g id=\""search_name\"" &gt;%s&lt;/xliff:g&gt; &lt;xliff:g id=\""modifier\"" &gt;%s&lt;/xliff:g&gt;</string>
    <string name=""flagged_modifier"">- Wichtig</string>
    <string name=""unread_modifier"">- Ungelesen</string>

    <string name=""search_all_messages_title"">Alle Nachrichten</string>
    <string name=""search_all_messages_detail"">Alle Nachrichten in durchsuchbaren Ordnern</string>

    <string name=""integrated_inbox_title"">Gemeinsamer Posteingang</string>
    <string name=""integrated_inbox_detail"">Alle Nachrichten aus integrierten Ordnern</string>

    <string name=""tap_hint"">Für ungelesene oder favorisierte Nachrichten den Kreis oder Stern berühren</string>

    <string name=""folder_settings_include_in_integrated_inbox_label"">In gem. Posteingang integrieren</string>
    <string name=""folder_settings_include_in_integrated_inbox_summary"">Nachrichten im gemeinsamen Posteingang anzeigen</string>

    <string name=""account_settings_searchable_label"">Durchsuchbare Ordner</string>
    <string name=""account_settings_searchable_all"">Alle</string>
    <string name=""account_settings_searchable_displayable"">Angezeigte</string>
    <string name=""account_settings_searchable_none"">Keine</string>

    <string name=""font_size_settings_title"">Schriftgröße</string>
    <string name=""font_size_settings_description"">Schriftgrößen festlegen</string>

    <string name=""font_size_account_list"">Kontenliste</string>
    <string name=""font_size_account_name"">Kontoname</string>
    <string name=""font_size_account_description"">Kontobeschreibung</string>

    <string name=""font_size_folder_list"">Ordner-Liste</string>
    <string name=""font_size_folder_name"">Ordner-Name</string>
    <string name=""font_size_folder_status"">Ordner-Status</string>

    <string name=""font_size_message_list"">Nachrichten-Liste</string>
    <string name=""font_size_message_list_subject"">Betreff</string>
    <string name=""font_size_message_list_sender"">Absender</string>
    <string name=""font_size_message_list_date"">Datum</string>
    <string name=""font_size_message_list_preview"">Vorschau</string>

    <string name=""font_size_message_view"">Nachrichtenanzeige</string>
    <string name=""font_size_message_view_sender"">Absender</string>
    <string name=""font_size_message_view_to"">Empfänger (To)</string>
    <string name=""font_size_message_view_cc"">Empfänger (CC)</string>
    <string name=""font_size_message_view_additional_headers"">Zusätzliche Header</string>
    <string name=""font_size_message_view_subject"">Betreff</string>
    <string name=""font_size_message_view_date"">Uhrzeit und Datum</string>
    <string name=""font_size_message_view_content"">Nachrichtentext</string>
    <string name=""font_size_message_view_content_summary"">&lt;xliff:g id=\""fontsize\"" &gt;%d&lt;/xliff:g&gt;%%</string>
    <string name=""font_size_message_view_content_dialog_title"">&lt;xliff:g id=\""title\"" &gt;%1$s&lt;/xliff:g&gt;: &lt;xliff:g id=\""summary\"" &gt;%2$s&lt;/xliff:g&gt;</string>

    <string name=""font_size_message_compose"">Nachricht verfassen</string>
    <string name=""font_size_message_compose_input"">Texteingabefelder</string>

    <string name=""font_size_default"">Standard</string>
    <string name=""font_size_tiniest"">Winzig</string>
    <string name=""font_size_tiny"">Sehr klein</string>
    <string name=""font_size_smaller"">Kleiner</string>
    <string name=""font_size_small"">Klein</string>
    <string name=""font_size_medium"">Mittel</string>
    <string name=""font_size_large"">Groß</string>
    <string name=""font_size_larger"">Größer</string>

    <string name=""miscellaneous_preferences"">Verschiedenes</string>

    <string name=""error_activity_not_found"">Keine geeignete Anwendung für diese Aktion gefunden.</string>
    <string name=""send_failed_reason"">Senden fehlgeschlagen: %s</string>

    <string name=""save_or_discard_draft_message_dlg_title"">Entwurf speichern?</string>
    <string name=""save_or_discard_draft_message_instructions_fmt"">Entwurf speichern oder verwerfen?</string>

    <string name=""confirm_discard_draft_message_title"">Nachricht verwerfen?</string>
    <string name=""confirm_discard_draft_message"">Sind Sie sicher, dass Sie die Nachricht verwerfen möchten?</string>

    <string name=""select_text_now"">Text auswählen, um ihn zu kopieren.</string>

    <string name=""dialog_confirm_delete_title"">Löschen bestätigen</string>
    <string name=""dialog_confirm_delete_message"">Möchten Sie diese Nachricht löschen?</string>

    <plurals name=""dialog_confirm_delete_messages"">
        <item quantity=""one"">Möchten Sie diese Nachricht wirklich löschen?</item>
        <item quantity=""other"">Möchten Sie wirklich &lt;xliff:g id=\""message_count\"" &gt;%1$d&lt;/xliff:g&gt; Nachrichten löschen?</item>
    </plurals>
    <string name=""dialog_confirm_delete_confirm_button"">Löschen</string>
    <string name=""dialog_confirm_delete_cancel_button"">Nicht löschen</string>

    <string name=""dialog_confirm_mark_all_as_read_title"">Alle als gelesen markieren bestätigen</string>
    <string name=""dialog_confirm_mark_all_as_read_message"">Möchten Sie alle Nachrichten als gelesen markieren?</string>

    <string name=""dialog_confirm_mark_all_as_read_confirm_button"">Ja</string>
    <string name=""dialog_confirm_mark_all_as_read_cancel_button"">Nein</string>

    <string name=""dialog_confirm_spam_title"">Als Spam markieren</string>
    <plurals name=""dialog_confirm_spam_message"">
        <item quantity=""one"">Möchten Sie diese Nachricht in den Spam-Ordner verschieben?</item>
        <item quantity=""other"">Möchten Sie diese Nachrichten in den Spam-Ordner verschieben?</item>
    </plurals>
    <string name=""dialog_confirm_spam_confirm_button"">Ja</string>
    <string name=""dialog_confirm_spam_cancel_button"">Nein</string>

    <string name=""dialog_attachment_progress_title"">Anhang wird heruntergeladen</string>

    <string name=""debug_logging_enabled"">Debug-Meldungen werden mit Hilfe des Android-Logging-Systems aufgezeichnet.</string>

    <string name=""messagelist_sent_to_me_sigil"">»</string>
    <string name=""messagelist_sent_cc_me_sigil"">›</string>

    <string name=""import_export_action"">Einstellungen im- &amp; exportieren</string>
    <string name=""settings_export_account"">Kontoeinstellungen exportieren</string>
    <string name=""settings_export_all"">Einstellungen und Konten exportieren</string>
    <string name=""settings_import_dialog_title"">Importieren</string>
    <string name=""settings_export_dialog_title"">Export</string>
    <string name=""settings_import"">Einstellungen importieren</string>
    <string name=""settings_import_selection"">Zu importierende Einstellungen</string>
    <string name=""settings_import_global_settings"">Globale Einstellungen</string>
    <string name=""settings_exporting"">Einstellungen werden exportiert…</string>
    <string name=""settings_importing"">Einstellungen werden importiert…</string>
    <string name=""settings_import_scanning_file"">Datei wird gelesen…</string>
    <string name=""settings_export_success"">Exportierte Einstellungen wurden erfolgreich nach &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt; gespeichert</string>
    <string name=""settings_export_success_generic"">Einstellungen erfolgreich exportiert</string>
    <string name=""settings_import_global_settings_success"">Globale Einstellungen erfolgreich aus &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt; importiert</string>
    <string name=""settings_import_success"">\'&lt;xliff:g id=\""accounts\"" &gt;%s&lt;/xliff:g&gt;\' erfolgreich aus &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt; importiert</string>
    <plurals name=""settings_import_accounts"">
        <item quantity=""one"">1 Konto</item>
        <item quantity=""other"">&lt;xliff:g id=\""numAccounts\"" &gt;%s&lt;/xliff:g&gt; Konten</item>
    </plurals>
    <string name=""settings_export_failure"">Einstellungen konnten nicht exportiert werden</string>
    <string name=""settings_import_failure"">Einstellungen konnten nicht aus &lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt; importiert werden</string>
    <string name=""settings_export_success_header"">Export erfolgreich</string>
    <string name=""settings_export_failed_header"">Export fehlgeschlagen</string>
    <string name=""settings_import_success_header"">Import erfolgreich</string>
    <string name=""settings_import_failed_header"">Import fehlgeschlagen</string>
    <string name=""settings_import_activate_account_header"">Konto aktivieren</string>
    <string name=""settings_import_activate_account_intro"">Um das Konto \'&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\' benutzen zu können, müssen Sie &lt;xliff:g id=\""server_passwords\"" &gt;%s&lt;/xliff:g&gt; angeben.</string>
    <plurals name=""settings_import_server_passwords"">
        <item quantity=""one"">das Server-Passwort</item>
        <item quantity=""other"">die Server-Passwörter</item>
    </plurals>
    <string name=""settings_import_incoming_server"">Posteingangsserver (&lt;xliff:g id=\""hostname\"" &gt;%s&lt;/xliff:g&gt;):</string>
    <string name=""settings_import_outgoing_server"">Postausgangsserver (&lt;xliff:g id=\""hostname\"" &gt;%s&lt;/xliff:g&gt;):</string>
    <plurals name=""settings_import_setting_passwords"">
        <item quantity=""one"">Passwort setzen...</item>
        <item quantity=""other"">Passwörter setzen…</item>
    </plurals>
    <string name=""settings_import_use_incoming_server_password"">Passwort des Posteingangsservers verwenden</string>
    <string name=""activate_account_action"">Aktivieren</string>

    <string name=""account_unavailable"">Konto \'&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\' ist nicht verfügbar, bitte SD-Karte prüfen.</string>

    <string name=""settings_attachment_default_path"">Speicherort für Anhänge</string>
    <string name=""attachment_save_title"">Anhang speichern</string>
    <string name=""attachment_save_desc"">Es wurde kein Dateimanager gefunden. Wo soll der Anhang abgelegt werden?</string>

    <string name=""manage_accounts_move_up_action"">Nach oben verschieben</string>
    <string name=""manage_accounts_move_down_action"">Nach unten verschieben</string>
    <string name=""manage_accounts_moving_message"">Konto verschieben…</string>

    <string name=""unread_widget_select_account"">Anzahl ungelesener Nachrichten anzeigen für…</string>

    <string name=""import_dialog_error_title"">Kein Dateimanager gefunden!</string>
    <string name=""close"">Schließen</string>

    <string name=""webview_empty_message"">Kein Nachrichtentext</string>

    <string name=""webview_contextmenu_link_view_action"">Öffnen</string>
    <string name=""webview_contextmenu_link_share_action"">Link weitergeben</string>
    <string name=""webview_contextmenu_link_copy_action"">Link kopieren</string>
    <string name=""webview_contextmenu_link_clipboard_label"">Link</string>

    <string name=""webview_contextmenu_image_title"">Bild</string>
    <string name=""webview_contextmenu_image_view_action"">Bild anzeigen</string>
    <string name=""webview_contextmenu_image_save_action"">Bild speichern</string>
    <string name=""webview_contextmenu_image_download_action"">Bild herunterladen</string>
    <string name=""webview_contextmenu_image_copy_action"">Bild-URL kopieren</string>
    <string name=""webview_contextmenu_image_clipboard_label"">Bild-URL</string>

    <string name=""webview_contextmenu_phone_call_action"">Anrufen</string>
    <string name=""webview_contextmenu_phone_save_action"">Im Adressbuch speichern</string>
    <string name=""webview_contextmenu_phone_copy_action"">Telefonnummer kopieren</string>
    <string name=""webview_contextmenu_phone_clipboard_label"">Telefonnummer</string>

    <string name=""webview_contextmenu_email_send_action"">E-Mail senden</string>
    <string name=""webview_contextmenu_email_save_action"">Im Adressbuch speichern</string>
    <string name=""webview_contextmenu_email_copy_action"">E-Mail-Adresse kopieren</string>
    <string name=""webview_contextmenu_email_clipboard_label"">E-Mail-Adresse</string>

    <string name=""image_saved_as"">Bild wurde als \'&lt;xliff:g id=\""filename\"" &gt;%s&lt;/xliff:g&gt;\' gespeichert.</string>
    <string name=""image_saving_failed"">Bild konnte nicht gespeichert werden</string>

    <string name=""account_settings_remote_search_num_results_entries_all"">Alle</string>
    <string name=""account_settings_remote_search_num_results_entries_10"">10</string>
    <string name=""account_settings_remote_search_num_results_entries_25"">25</string>
    <string name=""account_settings_remote_search_num_results_entries_50"">50</string>
    <string name=""account_settings_remote_search_num_results_entries_100"">100</string>
    <string name=""account_settings_remote_search_num_results_entries_250"">250</string>
    <string name=""account_settings_remote_search_num_results_entries_500"">500</string>
    <string name=""account_settings_remote_search_num_results_entries_1000"">1000</string>
    <string name=""account_settings_remote_search_num_label"">Maximale Resultat-Anzahl</string>
    <string name=""account_settings_remote_search_num_summary"">Suche wird nach &lt;xliff:g id=\""num_results\"" &gt;%s&lt;/xliff:g&gt; Resultaten beendet</string>
    <string name=""remote_search_sending_query"">Sende Anfrage an den Server</string>
    <string name=""remote_search_downloading"">Lade %d Resultate</string>
    <string name=""remote_search_downloading_limited"">Lade %1$d von %2$d Resultaten</string>
    <string name=""remote_search_error"">Suche fehlgeschlagen</string>

    <string name=""account_settings_search"">Suche</string>
    <string name=""account_settings_remote_search_enabled"">Serverseitige Suche</string>
    <string name=""account_settings_remote_search_enabled_summary"">Nachrichten nicht nur auf dem Gerät, sondern auch auf dem Server suchen</string>
    <string name=""action_remote_search"">Nachrichten auf Server suchen</string>
    <string name=""pull_to_refresh_remote_search_from_local_search_pull"">Ziehen, um auf dem Server zu suchen…</string>
    <string name=""pull_to_refresh_remote_search_from_local_search_release"">Loslassen, um auf dem Server zu suchen…</string>
    <string name=""remote_search_unavailable_no_network"">Serverseitige Suche kann ohne Netzverbindung nicht durchgeführt werden.</string>

    <string name=""global_settings_background_as_unread_indicator_label"">Hintergrund als Lese-Markierung</string>
    <string name=""global_settings_background_as_unread_indicator_summary"">Gelesene und ungelesene Nachrichten mit verschiedenen Hintergrundfarben anzeigen</string>

    <string name=""global_settings_threaded_view_label"">Nachrichten gruppieren</string>
    <string name=""global_settings_threaded_view_summary"">Nachrichten eines Diskussionsstranges zusammenfassen</string>

    <string name=""upgrade_databases_title"">Datenbankaktualisierung</string>
    <string name=""upgrade_databases_unspecified"">Datenbanken werden aktualisiert…</string>
    <string name=""upgrade_database_format"">Aktualisiere Datenbank für Konto \'&lt;xliff:g id=\""account\"" &gt;%s&lt;/xliff:g&gt;\'</string>

    <string name=""message_list_loading"">Lade…</string>

    <string name=""global_settings_splitview_mode_label"">Geteilte Ansicht</string>
    <string name=""global_settings_splitview_always"">Immer</string>
    <string name=""global_settings_splitview_never"">Nie</string>
    <string name=""global_settings_splitview_when_in_landscape"">Im Querformat</string>

    <string name=""message_view_empty"">Nachricht aus der Liste auswählen, um sie anzuzeigen</string>

    <string name=""global_settings_show_contact_picture_label"">Kontaktbilder anzeigen</string>
    <string name=""global_settings_show_contact_picture_summary"">Kontaktbilder in der Nachrichtenliste anzeigen</string>

    <string name=""last_refresh_time_format"">Zuletzt &lt;xliff:g id=\""formatted_time\"" &gt;%s&lt;/xliff:g&gt; aktualisiert</string>
    <string name=""last_refresh_time_format_with_push"">Zuletzt &lt;xliff:g id=\""time_with_preposition\"" &gt;%s&lt;/xliff:g&gt; aktualisiert (Push aktiv)</string>
    <string name=""preposition_for_date"">am &lt;xliff:g id=\""date\"" &gt;%s&lt;/xliff:g&gt;</string>

    <string name=""mark_all_as_read"">Alle als gelesen markieren</string>

    <string name=""global_settings_colorize_missing_contact_pictures_label"">Kontaktbilder einfärben</string>
    <string name=""global_settings_colorize_missing_contact_pictures_summary"">Fehlende Kontaktbilder einfärben</string>

    <string name=""global_settings_messageview_visible_refile_actions_title"">Sichtbare Nachrichtenaktionen</string>
    <string name=""global_settings_messageview_visible_refile_actions_summary"">Ausgewählte Aktionen im Menü der Nachrichtenanzeige anzeigen</string>

    <string name=""loading_attachment"">Anhang wird geladen…</string>
    <string name=""fetching_attachment_dialog_title_send"">Nachricht senden</string>
    <string name=""fetching_attachment_dialog_title_save"">Entwurf speichern</string>
    <string name=""fetching_attachment_dialog_message"">Anhang wird heruntergeladen…</string>

    <string name=""auth_external_error"">Authentifizierung fehlgeschlagen. Der Server bietet nicht Simple Authentication and Security Layer, kurz SASL, an. Dies könnte durch ein Problem des Client-Zertifikats (Zertifikat abgelaufen, unbekannte Zertifizierungsstelle) oder ein Konfigurationsproblem ausgelöst werden.</string>
    
    <!-- === Client certificates specific ================================================================== -->
    <string name=""account_setup_basics_client_certificate"">Client-Zertifikat verwenden</string>
    <string name=""client_certificate_spinner_empty"">Kein Client-Zertifikat</string>
    <string name=""client_certificate_spinner_delete"">Client-Zertifikatsauswahl entfernen</string>
    <string name=""client_certificate_retrieval_failure"">Das Abrufen des Client-Zertifikats für den Pfad \""&lt;xliff:g id=\""alias\"" &gt;%s&lt;/xliff:g&gt;\"" ist fehlgeschlagen</string>
    <string name=""client_certificate_advanced_options"">Erweiterte Optionen</string>
    <string name=""client_certificate_expired"">Client-Zertifikat \""&lt;xliff:g id=\""certificate_alias\"" &gt;%1$s&lt;/xliff:g&gt;\"" ist abgelaufen oder noch nicht gültig (&lt;xliff:g id=\""exception_message\"" &gt;%2$s&lt;/xliff:g&gt;)</string>

    <!-- Note: This references message_view_download_remainder -->
    <string name=""preview_encrypted"">*Verschlüsselt*</string>
    <string name=""add_from_contacts"">Vom Adressbuch hinzufügen</string>
    <string name=""crypto_settings_cancel"">Abbrechen</string>
    <string name=""crypto_settings_ok"">Fortfahren</string>
    <string name=""recipient_cc"">CC</string>
    <string name=""recipient_bcc"">BCC</string>
    <string name=""recipient_to"">An</string>
    <string name=""recipient_from"">Von</string>
    <string name=""unknown_recipient"">&lt;Unbekannter Empfänger&gt;</string>
    <string name=""address_type_home"">Zuhause</string>
    <string name=""address_type_work"">Arbeit</string>
    <string name=""address_type_other"">Anderes</string>
    <string name=""address_type_mobile"">Mobil</string>
    <string name=""compose_error_no_draft_folder"">Kein Ordner für Entwürfe für dieses Konto festgelegt!</string>
    <string name=""compose_error_no_signing_key"">Kein Schlüssel konfiguriert zum Signieren! Überprüfen Sie die Einstellungen.</string>
    <string name=""compose_error_private_missing_keys"">Privater Modus ist aktiviert, aber einige Empfänger besitzen keine Schlüssel.</string>
    <string name=""crypto_mode_disabled"">Nicht verschlüsseln</string>
    <string name=""crypto_mode_opportunistic"">Verschlüsseln, wenn möglich</string>
    <string name=""crypto_mode_private"">Verschlüsseln</string>
    <string name=""error_crypto_provider_connect"">Verbindung zu Verschlüsselungsdienst fehlgeschlagen. Überprüfen Sie die Einstellungen oder tippen Sie auf das Verschlüsselungs-Symbol um es erneut zu versuchen.</string>
    <string name=""error_crypto_provider_ui_required"">Zugang zu Verschlüsselungsdienst verweigert. Tippen Sie auf das Verschlüsselungs-Symbol um es erneut zu versuchen.</string>
    <string name=""error_crypto_inline_attach"">PGP/INLINE-Modus unterstützt keine Anhänge!</string>
    <string name=""enable_inline_pgp"">PGP/INLINE aktivieren</string>
    <string name=""disable_inline_pgp"">PGP/INLINE deaktivieren</string>
    <string name=""enable_sign_only"">PGP Nur-Signieren aktivieren</string>
    <string name=""disable_sign_only"">PGP Nur-Signieren deaktivieren</string>
    <string name=""openpgp_inline_title"">PGP/INLINE-Modus</string>
    <string name=""openpgp_inline_text"">Die E-Mail wurde im PGP/INLINE-Format gesendet.\n
    Dies sollte nur für die Kompatibilität verwendet werden:</string>
    <string name=""openpgp_inline_plus_compat"">Manche Clients unterstützen nur dieses Format</string>
    <string name=""openpgp_inline_minus_transit"">Signaturen können während dem Versand kaputtgehen</string>
    <string name=""openpgp_inline_minus_attach"">Anhänge werden nicht unterstützt</string>
    <string name=""openpgp_inline_ok"">Verstanden!</string>
    <string name=""openpgp_inline_disable"">Deaktivieren</string>
    <string name=""openpgp_inline_keep_enabled"">Aktiviert lassen</string>
    <string name=""openpgp_sign_only_ok"">Verstanden!</string>
    <string name=""openpgp_sign_only_disable"">Deaktivieren</string>
    <string name=""openpgp_sign_only_keep_enabled"">Aktiviert lassen</string>
    <string name=""openpgp_dialog_sign_only_title"">PGP Nur-Signieren-Modus</string>
    <string name=""openpgp_dialog_sign_only_text"">In diesem Modus wird Ihr PGP-Schlüssel verwendet, um eine kryptografische Signatur einer unverschlüsselten E-Mail zu erstellen.</string>
    <string name=""openpgp_dialog_sign_only_plus_verified"">Dadurch wird die E-Mail nicht verschlüsselt, sondern nachgewiesen, dass sie von Ihrem Schlüssel gesendet wurde.</string>
    <string name=""openpgp_dialog_sign_only_minus_break"">Signaturen können kaputtgehen, wenn sie an Mailinglisten gesendet werden.</string>
    <string name=""openpgp_dialog_sign_only_minus_attach"">Signaturen können als \'signature.asc\'-Anhänge in einigen Clients angezeigt werden.</string>
    <string name=""openpgp_dialog_sign_only_neutral_encsigned"">Verschlüsselte Nachrichten enthalten immer eine Signatur.</string>

    <string name=""crypto_msg_disabled"">Nachricht ist nicht verschlüsselt</string>

    <string name=""crypto_msg_encrypted_error"">Nachricht ist verschlüsselt, aber es gab einen Fehler bei der Entschlüsselung.</string>
    <string name=""crypto_msg_encrypted_insecure"">Die Nachricht ist zwar verschlüsselt aber unsicher!</string>
    <string name=""crypto_msg_signed_error"">Nachricht ist signiert, aber die Signatur konnte nicht verifiziert werden.</string>
    <string name=""crypto_msg_encrypted_no_provider"">Die Nachricht ist verschlüsselt, es ist aber keine App zur Verschlüsselung konfiguriert.</string>
    <string name=""crypto_msg_unsupported_encrypted"">Nachricht ist verschlüsselt, aber in einem nicht unterstützten Format.</string>
    <string name=""crypto_msg_unsupported_signed"">Nachricht ist signiert, aber in einem nicht unterstützten Format.</string>
    <string name=""crypto_msg_incomplete_encrypted"">Nachricht ist verschlüsselt, aber muss zur Entschlüsselung vollständig heruntergeladen werden.</string>
    <string name=""crypto_msg_cancelled"">Nachricht ist verschlüsselt, aber Entschlüsselung wurde abgebrochen.</string>

    <string name=""crypto_msg_signed_unencrypted"">Nachricht ist signiert, aber nicht verschlüsselt.</string>
    <string name=""crypto_msg_encrypted_unsigned"">Nachricht wurde verschlüsselt, aber nicht signiert.</string>

    <string name=""crypto_msg_sign_unknown"">Signatur mit unbekanntem Schlüssel gemacht.</string>
    <string name=""crypto_msg_sign_verified"">Signatur mit vertrauenswürdigem Schlüssel gemacht.</string>
    <string name=""crypto_msg_sign_unverified"">Signatur mit nicht vertrauenswürdigem Schlüssel gemacht.</string>
    <string name=""crypto_msg_sign_error"">Signatur enthielt einen Fehler.</string>
    <string name=""crypto_msg_sign_mismatch"">Signatur mit falschem Schlüssel gemacht.</string>
    <string name=""crypto_msg_sign_expired"">Signatur mit abgelaufenem Schlüssel gemacht.</string>
    <string name=""crypto_msg_sign_revoked"">Signatur mit zurückgezogenem Schlüssel gemacht.</string>
    <string name=""crypto_msg_sign_insecure"">Signatur mit unicherem Schlüssel gemacht.</string>
    <string name=""crypto_msg_sign_incomplete"">Nachricht muss zum Verfizieren der Signatur vollständig heruntergeladen werden.</string>

    <string name=""crypto_msg_signed_encrypted"">Nachricht ist signiert und verschlüsselt.</string>
    <string name=""crypto_msg_unsigned_encrypted"">Es gibt keine Signatur, diese Nachricht könnte abgefangen worden sein.</string>


    <string name=""crypto_info_ok"">OK</string>
    <string name=""crypto_info_view_key"">Signierer anzeigen</string>
    <string name=""crypto_info_view_security_warning"">Details</string>
    <string name=""locked_attach_unlock"">Entsperren</string>
    <string name=""locked_attach_unencrypted"">Dieser Teil wurde nicht verschlüsselt und könnte unsicher sein.</string>
    <string name=""locked_attach_title"">Ungeschützter Anhang</string>
    <string name=""message_progress_text"">Ladevorgang…</string>
    <string name=""messageview_decrypt_cancelled"">Entschlüsselung abgebrochen.</string>
    <string name=""messageview_decrypt_retry"">Wiederholen</string>
    <string name=""messageview_decrypt_incomplete"">Verschlüsselte Nachricht muss für die Entschlüsselung heruntergeladen werden.</string>
    <string name=""messageview_crypto_error_title"">Fehler beim Entschlüsseln der E-Mail</string>

    <string name=""messageview_crypto_warning_title"">Sicherheitswarnung</string>
    <string name=""messageview_crypto_warning_revoked"">Diese Nachricht wurde mit einem <b >zurückgezogenem Schlüssel</b> signiert!</string>
    <string name=""messageview_crypto_warning_expired"">Diese Nachricht wurde mit einem <b >abgelaufenem Schlüssel</b> signiert!</string>
    <string name=""messageview_crypto_warning_insecure"">Diese Nachricht wurde mit einem <b >unsicherem Schlüssel</b> signiert!</string>
    <string name=""messageview_crypto_warning_error"">Es gab einen Fehler in der Signatur dieser Nachricht!</string>
    <string name=""messageview_crypto_warning_unsigned"">Diese Nachricht ist verschlüsselt, aber wurde nicht signiert. Sie ist somit <b >nicht Ende-zu-Ende abgesichert</b>!</string>
    <string name=""messageview_crypto_warning_show_anyway"">Zeige die Nachricht trotzdem</string>
    <string name=""recipient_error_non_ascii"">Sonderzeichen werden derzeit nicht unterstützt!</string>
    <string name=""recipient_error_parse_failed"">Fehler beim Einlesen der Adresse!</string>
    <string name=""account_settings_crypto_support_sign_only"">Signatur von unverschlüsselten Nachrichten unterstützen</string>
    <string name=""error_sign_only_no_encryption"">Verschlüsselung ist im Nur-Signieren-Modus nicht verfügbar!</string>
    <string name=""unsigned_text_divider_label"">Unsignierter Text</string>
    <string name=""apg_deprecated_title"">APG Abkündigung</string>
    <string name=""apg_deprecated_1"">APG wird nicht weiter entwickelt und betreut!</string>
    <string name=""apg_deprecated_2"">Deshalb ist die Unterstützung von APG aus K-9 Mail entfernt worden.</string>
    <string name=""apg_deprecated_bullet_1"">Die Entwicklung ist Anfang 2014 gestoppt worden</string>
    <string name=""apg_deprecated_bullet_2"">Es enthält ungepatchte Sicherheitslücken</string>
    <string name=""apg_learn_more"">Für weitere Informationen bitte <a href=\""https://k9mail.github.io/2017/01/13/Why-APG-is-no-longer-supported.html\"" >hier klicken</a>.</string>
    <string name=""apg_deprecated_ok"">Verstanden!</string>
    <string name=""apg"">APG</string>
    <string name=""no_crypto_provider_see_global"">Keine OpenPGP App konfiguriert, bitte die globalen Einstellungen überprüfen!</string>
    <string name=""crypto_no_provider_title"">Diese Email ist verschlüsselt</string>
    <string name=""crypto_no_provider_message"">Diese Email wurde mit OpenPGP verschlüsselt.\n
  Um sie lesen zu können, müssen Sie eine mit OpenPGP kompatible App installieren.</string>
    <string name=""crypto_no_provider_button"">Wähle OpenPGP App</string>

    <string name=""mail_list_widget_text"">K-9 Nachrichtenliste</string>
    <string name=""mail_list_widget_loading"">Nachrichten werden geladen...</string>
    <string name=""fetching_folders_failed"">Herunterladen der Ordnerliste ist fehlgeschlagen</string>
    <string name=""messageview_crypto_warning_details"">Zeige Details</string>
</resources>

<!-- File ""arrays.xml"" -->
<?xml version=""1.0"" encoding=""utf-8""?>
<!-- Copyright (C) 2008 The Android Open Source Project

     Licensed under the Apache License, Version 2.0 (the ""License"");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an ""AS IS"" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
-->

<resources>




















































    <string-array name=""settings_preview_lines_entries"">
        <item>0</item>
        <item>1</item>
        <item>2</item>
        <item>3</item>
        <item>4</item>
        <item>5</item>
        <item>6</item>
    </string-array>












</resources>

<!-- File ""strings2.xml"" -->
<?xml version=""1.0"" encoding=""utf-8""?>
<resources>

    <string name=""openpgp_list_preference_none"">Keine Auswahl</string>
    <string name=""openpgp_install_openkeychain_via"">Installiere OpenKeychain über %s</string>
    <string name=""openpgp_no_key_selected"">Kein Schlüssel ausgewählt</string>
    <string name=""openpgp_key_selected"">Schlüssel wurde ausgewählt</string>

</resources>


```

---

*Translation made with [Stringlate](https://github.com/LonamiWebs/Stringlate).*"
k9mail/k-9,closed,Add a possibility to configure SOCKS proxy for each one account,"[Label(name=""duplicate"")]","Please add a possibility to configure SOCKS proxy for each one account. Not a common settings for all accounts, but for a each one, like it done in Mozilla Thunderbird, for example."
k9mail/k-9,closed,Syncing stops with Android 7 -- logcat,[],"Sorry, #2357 has been locked. As it might help to have some logcat entries that seem - at least chronologically - be related to the issue I'm opening this one. If not appropriate, please feel free to close and delete.

### Environment
K-9 Mail version: 5.206

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
[logcat_k-9_part.txt](https://github.com/k9mail/k-9/files/1125045/logcat_k-9_part.txt)
"
k9mail/k-9,open,Sync only during specified intervals,"[Label(name=""enhancement"")]","The fetch for the imap accounts configured on k-9 happens 24/7.
Since from the 09:00 to 18:00 I'm in the office, and I have configured the work's email, k-9 fetches them even if I'm reading the email from the pc.
While I'm using the silent notify option I notice that every time I see the phone it is always fetching something.
I'd like to fetch the email in some intervals instead of ""Never/always/when autosync is active""

### Expected behavior
I'd like to fetch the email in some intervals instead of ""Never/always/when autosync is active""
### Actual behavior
It fetches 24/7

### Steps to reproduce
1. Just add an imap account and it will fetch continuously.

### Environment
K-9 Mail version: 5.206

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Drafts are deleted when they cannot be sent,[],"### Expected behavior

After SMTP failures, drafts should still be available to retry sending later.

### Actual behavior

The draft is gone - it's not in the drafts folder, archive, inbox, sent or trash. This has happened twice in the last few weeks.

### Steps to reproduce
1. Wait for your email provider to become unavailable.
2. Compose and try to send an email
3. Wait

### Environment
K-9 Mail version: 5.207

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,"IMAP ""Show only subscribed folders"" doesn't work for ""standard"" (well-known) folders",[],"### Expected behavior
Archive, Drafts Inbox, Sent, Spam and Trash should be hidden if they are unsubscribed and ""Show only subscribed folders"" (Account settings -> Fetching mail -> Incoming server) is set for an IMAP account.

Presumably the non-IMAP K9mail-errors folder would remain but that's a separate issue.

### Actual behavior
These folders are always shown even if they are unsubscribed and ""Show only subscribed folders"" is set. Other unsubscribed IMAP folders are hidden correctly by this setting.

This means that those folders can only be hidden by duplicating folder management effort using K-9's (client-specific, client-side) folder class mechanism.

It also complicates subsequent IMAP folder creation, since folder class display needs to be changed to see the new folder, the new folder classed, and then folder class display changed back again.

### Environment
K-9 Mail version: 5.207

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,Bcc recipients are visible on recipient side,[],"### Expected behavior
When a user receives an email from K9, they shouldn't see the list of bcc recipients

### Actual behavior
The list of bcc recipients is actually visible

### Steps to reproduce
IMPORTANT: The reproducibility of this bug depends on which email provider you're using. I reproduced it when using K9 with an icloud.com email sending a message to yahoo.com recipients.

1. Add an icloud.com account to K9
2. Send a message to yahoo.com recipients (one TO recipient, a CC recipient and a couple of BCC recipients) 
3. When checking the message in the TO recipient mailbox, the list of BCC recipients is visible

### Environment
K-9 Mail version: 5.109

Android version: 7.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

I think this happens because SmtpTransport.sendMessage receives a LocalMessage as a parameter. When the method set the BCC recipients to null, the actual BCC header is not removed because the setRecipients method of LocalMessage doesn't update the headers (as opposed to MimeMessage)
"
k9mail/k-9,open,moto play z can't add account,"[Label(name=""needs info"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
Should be able to tap the icon on the accounts page and add a second account
### Actual behavior
Tell us what happens instead
Tap on icon does not respond
### Steps to reproduce
1. tap the icon on the accounts page and add a second account
2.  no response
3.

### Environment
K-9 Mail version:  5.206

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): N/A
"
k9mail/k-9,closed,Crash on delete,"[Label(name=""needs info"")]","Please search to check for 
### Expected behavior
Email should be deleted and app should be working

### Actual behavior
After click on delete the app close. 

### Steps to reproduce
1. Select an email 
2. Click on basket

3. Alternatively press the mail and from contestual menu click on delete

### Environment
K-9 Mail version:
5.207
Android version:
6.0.1 OxygenOS 3.5.8
Account type (IMAP, POP3, WebDAV/Exchange):
POP3"
k9mail/k-9,open,Rewrite some UI of account setup (WIP),[],"Rewrite some UI of account setup.

And convert four activities, `AccountSetupBasics`, `AccountSetupCheckSettings`, `AccountSetupIncoming`, `AccountSetupOutgoing` to MVP pattern. Other activities about account setup are not modified for the time being.

Model       -- `Account`
View         -- `Activity`
Presenter -- `Presenter` class

I put most logic into `Presenter`. However there are some codes that I have no idea how to deal with. Please give me some advice :)

I also changed the work flow a bit. `AccountSetupBasics` now is only an activity that let users enter email and password. Advanced options, for example client certificate, are only available in `AccountSetupIncoming` and `AccountSetupOutgoing`. `AccountSetupCheckSettings` contains automatic account configuration and incoming/outgoing settings checking.

NOTE: this branch is only about UI changes. So functional code changes(e.g. auto configuration) are not included here."
k9mail/k-9,open,K9 App No Sound when email arrives,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When email arrives, there is no sound notifications to notify the email has arrived. 

### Actual behavior
When an email arrives, it will produce the sound notification once and than any additional emails will continue to arrive but there is no more sound. 

### Steps to reproduce
1. Add a POP3 email account
2. Set Poll to Every minute
3. Go to Account Settings>New mail ringtone>set new mail ringtone
4. Settings>Global Settings>Network>Background Sync>Always

### Environment
K-9 Mail version:

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Authentication failed for xxx@xxx.xxx. Update your server settings,[],"[Running Android 7.0 on a stock unrooted Samsung Galaxy S7 Edge (SM-G935F) with K-9 Mail Version 5.206]

I've been using this app for a couple of years without any issues to run a total of 7 email accounts (six G Suite, one gmail and one Outlook, one hotmail, all IMAP).  In the past couple of days my primary G Suite account has been failing with the notification ""Authentication failed for xxx@xxx.xxx. Update your server settings"".  

When I click on the notification I go through the K-9 password and server settings reconfirmation but the problem recurs after a few minutes.  However, some email does appear to be getting through, so this is an intermittent error.

I've checked and reset the email account password in G Suite and confirmed that I can collect emails via www.gmail.com and on other Android/Windows platforms.  The password is correct and the account settings mirror exactly those in the other G Suite accounts, which are behaving correctly.

I've also removed the account, rebooted the phone and re-added the account and received the same error.  I've also Gone into www.gmail.com and signed out of all other web sessions.  The G Suite settings are enabled for less secure apps.  Oh, and I ran teh Recreate Data option in K-9.

Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
K-9 should collect mail

### Actual behavior
I get an intermittent authentication error on one of my email accounts

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.206

Android version: Android 7.0 on a stock unrooted Samsung Galaxy S7 Edge (SM-G935F)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Autocrypt Compose WIP,[],"This is my working branch for [Autocrypt](https://autocrypt.org) support, particularly the compose aspect of that.

This only works in conjunction with the related development version of OpenKeychain, see https://github.com/open-keychain/open-keychain/pull/2127

See [here](http://valodim.stratum0.net/autocrypt_ui_1.gif) for a gif of the UI in action. I'm struggling a bit with how much compatibility to keep with traditional PGP

Note that this PR does not include sending or receiving of Autocrypt keys, but purely the compose UI related stuff. since actual autocrypt keys won't be added to openkeychain I guess that makes this PR kind of impossible to test...? I'll make PRs for incoming and outgoing autocrypt keys soon, gotta sort out my working branches."
k9mail/k-9,open,Add support for CONDSTORE and QRESYNC,[],"This PR does several things 

- Moves the folder synchronization code from `MessagingController` into separate classes depending on the protocol (`ImapSyncInteractor` for IMAP accounts and `LegacySyncInteractor` for POP3 and WebDAV accounts)
- Modifies the `MessagingControllerPushReceiver` so that a normal synchronization is performed when untagged responses are received through IDLE, instead of response-specific actions. This synchronization is done through a separate connection instead of reusing the connection through which IDLE responses are received.
- Adds support for the CONDSTORE and QRESYNC IMAP extensions  as described in [RFC 7162](https://tools.ietf.org/html/rfc7162).

"
k9mail/k-9,closed,sync is disabled when connected to internet via bluetooth,[],"### Expected behavior
Ability to enable sync when on Internet-via-bluetooth using bluevpn app

### Actual behavior
when on Internet-via-bluetoot using bluevpn app, the manual check for new messages is working, but sync is disabled and there is no way to enable it.

### Steps to reproduce
1. disable wifi and/or mobile internet
2. connect to internet via bluetoot using bluevpn app
3. now the new messages can be manualy checked and downloaded, but automatic sync stays disabled

### Environment
K-9 Mail version: latest

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,List loses selection after rotating display,"[Label(name=""bug"")]","### Expected behavior
When I select (by swiping the elements left) one or more EMails in the ""unified inbox"" or ""all messages"" list view the items should be still selected also when I rotate the display/screen so that I can execute an action.

### Actual behavior
When I select (by swiping the elements left) one or more EMails in the ""unified inbox"" or ""all messages"" list view the selected items are no longer selected when I rotate the device screen from portrait to landscape view. 

### Steps to reproduce
1. Open K9 Mail while holding the device in portrait view
2. In the accounts overview tap on Unified Inbox
3. Select on or more EMails by swiping them to the left
4. Rotate the device into landscape view
5. the selection gets lost

### Environment
K-9 Mail version: 5.206

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP, SMTP 
"
k9mail/k-9,open,K9Mail crash often when I delete a message from threaded messages,"[Label(name=""bug"")]","Hello,

### Expected behavior
K9Mail doesn't crash when I delete a message from threaded messages.

### Actual behavior
K9Mail crash often when I delete a message from threaded messages.

### Steps to reproduce
1. Delete a message from threaded messages.
2. K9Mail crash

### Environment
K-9 Mail version: 5.207

Here is a log : 
[2017-06-27-06-02-44.txt](https://github.com/k9mail/k-9/files/1104182/2017-06-27-06-02-44.txt)


Android version: 4.4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Thanks !"
k9mail/k-9,closed,Feature request: programme a message to be sent in the future,"[Label(name=""duplicate"")]","Let's say I need to notify some contacts at midnight about something, this feature would allow me to set a date and an hour to send this mail automatically, while I can be working on something else or just sleeping."
k9mail/k-9,closed,Beta Tester link on README.md not working,"[Label(name=""bug"")]","Hello,

the ""Beta tester"" and ""Alpha tester"" Links on the github landing page are broken.
Is there a version with the new UI that can be tested?"
k9mail/k-9,open,"Unable to select ""My key"" from openkeychain",[],"I have installed the latest version of K9 mail and OpenKeychain from google play store. I have imported my private key and a few public keys in OpenKeychain.  In K9 mail account settings, in Cryptography,  I chose OpenKeychain as the OpenPGP app. But it still does not allow me to select anything under ""My Key"". Nothing happens when I press that option.


"
k9mail/k-9,closed,Allow quoted replies/forwards to be edited without changing to plain text ,"[Label(name=""duplicate""), Label(name=""enhancement"")]","
### Expected behavior
When I forward an email I would like to edit the quoted portion so that some of the original text is removed. Specifically, the original is an email to me from an email list. I would like to remove the automatic ""Unsubscribe"" button so that some on the forward chain does not mistakenly unsubscribe me. 

Unfortunately, when I select to edit the quoted text, all of the pictures and formatting are removed. That makes sharing the original less useful and less readable. 

For my purposes, simply removing the ""Unsubscribe"" link from the original message would be sufficient. 


### Actual behavior
Unfortunately, when I select to edit the quoted text, all of the pictures and formatting are removed. That makes sharing the original less useful and less readable. 

### Steps to reproduce
1. Select option to forward 
2. Observe Unsubscribe link in original email 
3. Select option to edit original email, then observe that formatting is gone

### Environment
K-9 Mail version: 5.206

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP & POP3 
"
k9mail/k-9,open,Inobx sorted by time mail was fetched to phone and not received on server,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Messages will be displayed in the order they were received by the mail server.

### Actual behavior
I've noticed that thanks to the doze issue that when emails do come in, they all have the same time stamp in the inbox.  Say I do a manual sync at 4PM, all the messages retrieved will say they were received at 4PM regardless of email header data. If I open the message, the proper time is displayed in the header area.

### Steps to reproduce
1.Pause syncing
2. Wait for new mail to arrive
3.Sync

### Environment
K-9 Mail version: latest (sorry don't have phone on me currently)

Android version: Nougat on Samsung Galaxy S7 (vzw)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,SMTP injection via email address,[],"K9 permits the injection of control characters into email addresses such that the SMTP session breaks and the outgoing email is lost.

### Expected behavior

1. Display of the complete server error message via a notification
2. Store the not-yet-send email message in the outbox or draft directory for inspection and fixing.

Or ideally:

Sanitize the email address that is retrieved via 'Add from Contacts'. Especially remove leading/trailing control characters like newline or carriage-return. Otherwise detect characters that are invalid in email addresses and don't insert them verbatim into a SMTP session.

### Actual behavior

1. K9 just displays a truncated server error message.
2. K9 drops the problematic email message. That means the content of a potentially long and important email is lost.

K9 inserts an email address with invalid characters verbatim into a SMTP session.

K9 stacktrace from `adb logcat`:

    06-20 22:44:45.639 18226 18272 E k9      : Failed to send message
    06-20 22:44:45.639 18226 18272 E k9      : com.fsck.k9.mail.transport.SmtpTransport$NegativeSmtpReplyException: Negative SMTP reply: 501 5.1.3 Bad recipient address syntax
    06-20 22:44:45.639 18226 18272 E k9      :      at com.fsck.k9.mail.transport.SmtpTransport.checkLine(SmtpTransport.java:639)
    06-20 22:44:45.639 18226 18272 E k9      :      at com.fsck.k9.mail.transport.SmtpTransport.executeSimpleCommand(SmtpTransport.java:680)
    06-20 22:44:45.639 18226 18272 E k9      :      at com.fsck.k9.mail.transport.SmtpTransport.executeSimpleCommand(SmtpTransport.java:644)
    06-20 22:44:45.639 18226 18272 E k9      :      at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:523)
    06-20 22:44:45.639 18226 18272 E k9      :      at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:496)
    06-20 22:44:45.639 18226 18272 E k9      :      at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3014)
    06-20 22:44:45.639 18226 18272 E k9      :      at com.fsck.k9.controller.MessagingController.access$1700(MessagingController.java:115)
    06-20 22:44:45.639 18226 18272 E k9      :      at com.fsck.k9.controller.MessagingController$21.run(MessagingController.java:2895)
    06-20 22:44:45.639 18226 18272 E k9      :      at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
    06-20 22:44:45.639 18226 18272 E k9      :      at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
    06-20 22:44:45.639 18226 18272 E k9      :      at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
    06-20 22:44:45.639 18226 18272 E k9      :      at java.lang.Thread.run(Thread.java:761)

Truncated K9 notification text (really is truncated, can't be expanded):

    Failed to send some messages
    Negative SMTP reply: 501 5.1.3 Bad recipient address synt..

Snippet from verbose postfix log:

    Jun 20 23:08:32 example.com postfix/smtpd[9010]: < client.example.net: RCPT TO:<juser@example.org
    Jun 20 23:08:32 example.com postfix/smtpd[9010]: > client.example.net: 501 5.1.3 Bad recipient address syntax

Note how the closing `>` character is missing after the email address, because the email-address plus newline characters is inserted as-is into the SMTP session.

### Steps to reproduce

1. Create a contact with an email address that ends with a newline character (i.e. 0xa), e.g.:
2. Create a QR code on a computer: `echo juser@example.org | qrcode` (the QR code contains a trailing newline character)
3. Scan it on android with the ZXing Barcode Scanner app (which automatically copies it into the clipboard - including the trailing newline)
4. Create a new contact in the contact app
5. Paste the email address into the contact (the trailing newline character is pasted, as well)
6. Save the contact
7. Start K9
8. Compose new email
9. Select recipient with problematic email address via 'Add from Contacts'
10. Send the mail (ideally with postfix as outgoing SMTP server)

### Environment
K-9 Mail version: 5.206

Android version: LineageOS 14.1 (Android 7.1.2)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP+SMTP

Postfix Version: 2.10.1
"
k9mail/k-9,open,Data is not synchronized,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When I delete a message in a deleted folder of k9, the web page should also delete the message.

### Actual behavior
But the result is that message not delete

there is some warning log：
Attempt to interrupt null mConnection to stop pushing on folderPusher...


### Environment
K-9 Mail version:The latest version

Android version:Each version exists

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,open,Emails not displaying properly - Only top half!,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
An email should open and display properly!

### Actual behavior
Tell us what happens instead
I get the top half of an email ""wobbling"" then solid, but no bottom half of the email. Sometimes if you close the email then reopen a few times it does display, but mostly not.

### Steps to reproduce
1. Open email, top half wobbles then solid, but no bottom half.
2.
3.

### Environment
K-9 Mail version:
5.206

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Enable multi-window support in the manifest.,[],"This is intended to resolve #2594.

When I run the unit tests locally, the before and after results are the same.  As this is a manifest change only, I don't think that a new unit test is needed, but I would be happy to accept guidance here.

Thank you for your time.

"
k9mail/k-9,closed,Please support Multi-Window mode on Android 7.0 +,[],"### Expected behavior

When in k-9 mail, and performing a long press on the Overview button, then selecting a second application to appear next to k-9 mail (such as Chrome) should result in having k-9 mail and that application side by side with no errors or warnings. 

### Actual behavior

When in k-9 mail, and performing a long press on the Overview button, when the screen splits and the option to select the second applcation appears on the right (as expected), there is a warning that appears on k-9 mail ""App may not work with split-screen"". 

### Steps to reproduce
1. In k-9 mail, built from master (72af527db083327e871d9ef80b02c31ac3b799f1), running on Android 7.0 or newer, perform a long press on the Overview button.
2. See warning appear on k-9 mail.

### Environment
K-9 Mail version: 5.207, also seen in master (72af527db083327e871d9ef80b02c31ac3b799f1)

Android version:7.0 on Nvidia Shield K1, SHIELD tablet software version 5.2 (24.29.303.153)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,Inbox empty after I updated app,[],"I had about one hundred messages ""saved"" in my inbox. I had deleted these messages from the server. When I updated to the latest version of K-9 my inbox is now empty. I didn't expect to loose any messages. All of my settings were saved and K-9 will download new messages. I used play store to install the update.
How do I get these messages back?

### Environment: Living room
K-9 Mail version: Updated from 5.007 to 5.206

Android version: 4.2.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,Change default outgoing security to STARTTLS,[],"Given that SSL/TLS on port 465 is deprecated, it would be nice to change the default security method for outgoing email to STARTTLS on port 587."
k9mail/k-9,closed,improper message order in German localization,[],"### Expected behavior
The messages in the inbox should be sorted by date, the newest ones on the top.

### Actual behavior
The messages are sorted by date, the newest ones on the top, but if there are older messages, they are sorted above the newest ones sometimes. I use a German localization. Example: 

14. Juni
14. Juni
14:58
14:53

### Steps to reproduce
1. Open inbox folder filled with received messages

### Environment
K-9 Mail version: 5.207

Android version: 5.0.1

Account type: IMAP
"
k9mail/k-9,closed,[Feature Request] Parallel IMAP folder sync,"[Label(name=""duplicate"")]",One of the minor issues I have noticed with K9 mail is how when you sync the unified inbox it syncs each email account one at a time. It would be nice to do parallel folder sync similar to how Outlook does things. Many modern android devices have multi-threading support and this should be possible to achieve 
k9mail/k-9,open,Unable to edit failed sent e-mail,[],"### Expected behavior
When sending a e-mail has failed because of mistyping the recipient's address, edit the e-mail to correct the address, or move it to draft to edit it in the draft. The second option should abort to send e-mail.

### Actual behavior
Once in the outbox, an e-mail can only be sent again or deleted.

### Steps to reproduce
1. Write a new e-mail with a non-existent e-mail address as recipient
2. Send it!
3. Go to the outbox to try to move it to draft or edit it on place

### Environment
K-9 Mail version: 5.206

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange): IMAP/SMTP

Thanks."
k9mail/k-9,open,"""List-Post"" header used as default ""reply"" in preference to ""From"".",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When I reply to a message, I expect the reply to go to the ""From:"" header (or the ""Reply-to"" header not the ""List-Post:"" header.

### Actual behavior
I have an email with both a  ""From:"" header and a ""List-Post:"" header. All other email clients that I use when hitting reply create a draft email using the ""From:"" header, while K-9 uses the ""List-Post:"" header. When one does not notice this and hits send, one emails ones whole department (all 500 of them). 

### Steps to reproduce
1. Find an email and add, say, List-Post: <mailto:junk@lists.cam.ac.uk> to the header.
2. ""Reply"" to this email from within K-9, and one gets junk@lists.cam.ac.uk as the auto-filled-in to address.
3.

### Environment
K-9 Mail version: 5.206
Android version: 6.0.1
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,[FR] send mail transport alternative to SMTP: MAPI,"[Label(name=""enhancement""), Label(name=""help wanted""), Label(name=""needs info"")]","I use K-9 for corporate mail. Unfortunately SMTP here is unreliable and main transport is M$ Exchange/Outlook/MAPI :(
I wonder if it's possible to make K-9 send mail using MAPI? A couple of ideas comes to mind:
1. If it's possible trough the ""Exchange account"" of Android.
2. Implement MAPI transport in K-9
3. Maybe some 3rd party adapter like openchange running locally on Android."
k9mail/k-9,closed,K9 mail regularily forgets settings and accounts,"[Label(name=""duplicate"")]","### Expected behavior
Never ever forget accounts and settings.

### Actual behavior
From time to time K9 mail forgets settings and accounts.

### Steps to reproduce
1. Configure k9 mail properly
2. Use it several days and weeks
3. Bam! Data forgotten

### Environment
K-9 Mail version: current from playstore (5.206)

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange):
3 times imap"
k9mail/k-9,open,Message view unexpected scrolls far down the list,[],"Scrolling should move a few messages down when I move my finger downward on messages or using scroll bar on right side.  Instead, without any consistent action on my part, I'm suddenly far down the list (much older dates; my sorting is newest on top).  

Especially noticeable on Unified Inbox displaying 3 accounts. 

K9 version 5.206
Never had this problem with former phone (Galaxy Mega; Android 4.1); have it consistently on new replacement phone (Galaxy S8+; Android 7.0
"
k9mail/k-9,open,Minor issue: redundant new lines while rendering,[],"I see many redundant new lines (""\n"") when copying the content of an email to the clipboard and paste it to somewhere else. This will be annoying when the width of the place I paste is different from that of K-9 Mail, because these new lines are used to render the text to accommodate the width of K-9 Mail.

### Steps to reproduce
1. Open an email (of plain text)
2. Copy the content to the clipboard
3. Paste into another place.

### Environment
K-9 Mail version: 5.207

Android version: Marshmallow

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Randomly unable to authenticate to one of my three IMAP accounts,[],"
### Expected behavior
I should be able to download my emails

### Actual behavior
Randomly I get an authentication error that might last a minute or an hour or sometimes longer
The error message is ""Username or password incorrect. (Command: *sensitive*; response: #3# [NO, LOGIN failed.])
I am not changing the username or password. After a while, the error goes away, but can come back several times a day.
When I get the error, I get no email download.
[k9-log.txt](https://github.com/k9mail/k-9/files/1073043/k9-log.txt)


### Steps to reproduce
Random

### Environment
K-9 Mail version: 5.206

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Refactor IMAP commands,[],"This PR creates separate classes for the UID SEARCH, UID FETCH, UID STORE and UID COPY commands that take the command's parameters as instance variables and create the String representation of the command. They also handle splitting the command if it becomes too long.


"
k9mail/k-9,open,Draft: empty message after reopening,[],"### Expected behavior
I write a mail, save it manually or automatically as a draft. I do some stuff, come back and continue writing the draft with the same text.

### Actual behavior
The draft is existing, but in k9-mail no text shows up in the body. I can recover the text in the web. There it is a html draft, containing all lost text. 

### Steps to reproduce
1. Write a new mail 
2. Save draft
3. Reopen Email

### Environment
K-9 Mail version: newest stable 5.207
No encryption possible (not installed)

Android version: 6.0.1 (Cyanogenmod 13, working fine since months)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP, different providers

### Log file
I would like to add the log, but I don't have a computer to attach and work with adb. Is it possible without that on a rooted Cyanogenmod phone? "
k9mail/k-9,closed,GSoC Account Setup Branch Review,[],"Just opening this so I can provide early feedback.

"
k9mail/k-9,closed,Delete MSG from notification,[],"Hi,

I would really appreciate a button to delete the message in the notifications. There already is 'mark es read' and 'answer', but the most common use cases are:

* Answer later from PC (which is fine by swyping the notification)
* delete the message (eg spam or irrelevant)
* archive (mark as read and move to specific folder)
* for emergencies or short messages: answer (now).

Maybe it would fit best to make it configurable which actions are shown?

Would love it!! Thanks so much for all the good work anyway!"
k9mail/k-9,closed,Tap View signer to search email,[],"When we tap ""View Signer"" in the dialog showing the encryption status, the user is taken to Openkeychain to search for the send using the key id. How can I change it email instead of key id? 

I cant seem to find the intent which sends the extra ""EXTRA_KEY_ID"", as this is the string thats getting sent to Openkeychain"
k9mail/k-9,closed,IOException with exchange2013.df.eu,[],"### Expected behavior
new account with familiar settings should sync with exchange2013.df.eu of popular provider Domainfactory

### Actual behavior
Error:
""Einrichtung konnte nicht abgeschlossen werden
------
Kann nicht mit dem Server verbinden.
(IOException)

### Steps to reproduce
1. Insert credentiasl, adjust settings as usual, ignored extended settings
2. Verified settings with hotline support of Domainfactory, see also https://www.df.eu/de/support/df-faq/e-mail/managedexchange/mobile-endgeraete/

K9 error mail see below. Note; The server name is correct. Adding https:// (like on Blackberrys) is not possible.

### Environment
K-9 Mail version:
5.206

Android version:
Galaxy S8, Android 7

Account type (IMAP, POP3, WebDAV/Exchange):
Exchange

K9-Mail version: 5.206
Device make: samsung
Device model: SM-G950F
Android version: 7.0

com.fsck.k9.mail.MessagingException: IOException
 at com.fsck.k9.mail.store.webdav.WebDavStore.doInitialConnection(WebDavStore.java:732)
 at com.fsck.k9.mail.store.webdav.WebDavStore.authenticate(WebDavStore.java:631)
 at com.fsck.k9.mail.store.webdav.WebDavStore.sendRequest(WebDavStore.java:999)
 at com.fsck.k9.mail.store.webdav.WebDavStore.processRequest(WebDavStore.java:1091)
 at com.fsck.k9.mail.store.webdav.WebDavStore.processRequest(WebDavStore.java:1066)
 at com.fsck.k9.mail.store.webdav.WebDavFolder.getMessageCount(WebDavFolder.java:159)
 at com.fsck.k9.mail.store.webdav.WebDavFolder.getMessageCount(WebDavFolder.java:173)
 at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:855)
 at com.fsck.k9.controller.MessagingController$9.run(MessagingController.java:739)
 at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
 at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
 at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
 at java.lang.Thread.run(Thread.java:762)
Caused by: java.io.IOException: Error with code 404 during request processing: HTTP/1.1 404 Not Found
 at com.fsck.k9.mail.store.webdav.WebDavStore.doInitialConnection(WebDavStore.java:726)
 ... 12 more


"
k9mail/k-9,open,"""Empty trash"" option should be also available from inside bin folder","[Label(name=""enhancement"")]","Right now ""Empty trash"" is only available from ""Folders"" list. It would be good to have it also available from inside bin folder. At the beginning to was confusing for me and I couldn't find this option."
k9mail/k-9,closed,Intermittently slowness for mailbox refreshing,"[Label(name=""performance"")]","Dear developers, 

We are applying our performance diagnosis tool [PerfProbe](https://github.com/perfprobe/PerfProbe) to debug the delay for mailbox refreshing in K9 mail app and observe that sometimes the refreshing time increases by 4~5 seconds (on average around 2 second to refresh in my setup). Through its system-wide profiling and tracing, PerfProbe discovers that the source of extra delay results from longer execution time in com/android/org/conscrypt/NativeCrypto.SSL_read API calls (for example, one invoked by com/fsck/k9/mail/store/imap/ImapFolder.open -> com/fsck/k9/mail/store/imap/ImapConnection.open -> com/fsck/k9/mail/store/imap/ImapConnection.authenticate -> com/fsck/k9/mail/store/imap/ImapConnection.saslAuthPlain), possibly caused by longer waiting time for server-side responses. We validate the root cause by enabling the debug messages in K9 and find that an existing IMAP connection seems to be disconnected occasionally, which results in this extra delay for setting up a new connection with the IMAP server during mailbox refreshing (mainly contributed in the authentication phase).

We hope the findings from our tool can be helpful for your debugging. We are also interested in helping improving the performance of this interaction. To maintain the responsiveness of mailbox refreshing, we are wondering if there is any way to keep the IMAP connection persistent for a long time, which may help maintain consistent responsiveness for mailbox refreshing. Thank you very much for your attention and clarification! 

Related issues: [1839](https://github.com/k9mail/k-9/issues/1839), [2075](https://github.com/k9mail/k-9/issues/2075), [1942](https://github.com/k9mail/k-9/issues/1942)

### Expected behavior
Consistent mailbox refreshing time (~2second)

### Actual behavior
Mailbox refreshing time increases by 4~5 seconds 

### Steps to reproduce
1. Enter a mail box (hotmail in my case)
2. Click the refresh button
3. Wait for the mail syncing to be done

### Environment
K-9 Mail version: 5.206 from Google Play
Android version: Android 4.4.4 
Device: Nexus 4
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
Incoming server settings: 
     IMAP server: map-mail.outlook.com 
     Security: SSL/TLS
     Authentication: Normal password"
k9mail/k-9,closed,Fixes #2538,[]," - Implemented MimeUtility.foldAndEncode according to RFC 2822
   - In case string exceeds 78 characters, split it in two
   - Identified drawbacks:
     - replace horizontal tabs with space as well as contiguous whitespace with only one space
     - header name is not taken into account in 78 characters limit

Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.


"
k9mail/k-9,open,Threads expandable collapsable view ,"[Label(name=""needs info"")]","Hey

I am trying to achieve the thread expandable and collapsible view in the main MessageListView. I have done the basics.
I am stuck where messageLoaderCallbacks give the data after some time and thus is not shown in list but when i scroll the list gets populate with the messageView.

Can you suggest some work around how can i achieve this in one go?"
k9mail/k-9,closed,Wrapped time periods do not work,"[Label(name=""bug"")]","### Expected behavior
Disable notifications checked in settings so notifications should be disabled during Quiet Time

### Actual behavior
Quiet Time set to an inclusive period like 02:00-01:59 (expected 23 hours 59 minutes of quiet time) does not disable notifications during this period

### Steps to reproduce
1. Set Quiet Time between 02:00-01:59

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1
"
k9mail/k-9,closed,socks proxy rebase,[],"
A rebase that brings the socks_proxy branch up to date with the master branch for easier future development. And this time the base is k9mail/master and there are 6 commits, not over 1000.
"
k9mail/k-9,open,"No windowed mode on Galaxy Note (10.1, 2014)","[Label(name=""enhancement""), Label(name=""help wanted"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Being able to create a resizable window in order to share the screen with other apps (multitasking).

### Actual behavior
K9 opens up maximised instead, thus minimising other apps currently on screen

### Steps to reproduce
1. Open up an app
2. Pull up the multitasking panel (long-press the return button)
3. Tap K9 

### Environment
K-9 Mail version: latest

Android version: 5

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,A lot of crashes with android 7.0,"[Label(name=""bug""), Label(name=""needs info"")]","I have k9 installed on some devices, but the only one with android 7.0 suffers of crashes which do not happen in android 4.4.

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:5.206

Android version:7.0

Account type (IMAP, POP3, WebDAV/Exchange):imap
"
k9mail/k-9,open,New email screen stays open (when sharing from another app),"[Label(name=""bug"")]","The new-mail-screen stays open in the background, even when the mail is sent successfully.
But this only happens when creating a new mail from another app, e.g. the photo app (share a picture and select K-9). When the mail is sent and you push the switch-open-apps-button you will see the new-mail-screen is still open and you will not be able to close it until you discard the new mail.

### Expected behavior
The new-mail-screen should close when the mail is sent

### Actual behavior
The new-mail-screen stays open in the ""background"" when pushing the ""switch-open-apps"" button (showing all open apps).

### Steps to reproduce
1. From e.g. Photos select a picture, push ""share it"" and select K-9
2. Insert To, Subject, Body and sent
3. Push the ""switch-open-apps"" button
4. The new-mail-screen did close

### Environment
K-9 Mail version: k.206
Android version: 7.0
Phone: Moto G4 plus (Motorola's Android phones are just as clean as the Nexus)

Account type (IMAP, POP3, WebDAV/Exchange): POP3 setup
"
k9mail/k-9,closed,How to show the attachment download progress？,[],"Hi:
   How to show the attachment download progress？
   tks."
k9mail/k-9,closed,Feature request: Add option to delete messages off server once downloaded,"[Label(name=""duplicate"")]","
### Expected behavior
There should be a way to not leave any messages on the server is one wishes. A check box that could be unchecked that says ""Leave messages on server"" or a check box that says ""delete messages from server once downloaded"" that can be checked.

### Actual behavior
There is no option for this at the moment.

### Environment
K-9 Mail version: 5.207

Android version: 7

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,DNS issue with K9,"[Label(name=""needs info"")]","K-9 seems to be caching DNS lookups, which is causing an issue when I use it on my internal network.

I operate an email server out of my home network.  It is reachable from both outside my network (my router port forwards incoming connections to the email server) and inside my network (by connecting directly to the server's internal IP address).

K-9 is able to access the server when outside my network (e.g., when on my cell carrier's LTE networks).  But when I'm inside my network, K-9 isn't able to access the server - it can not send or receive messages.

The reason has to do with DNS.  I access my server via a DNS name.  I use a dynamic DNS service so that externally my DNS name is associated with the external IP of my router.  Internally, however (i.e., behind my router) I operate my own DNS server, and so in my internal DNS I associate that DNS name to the private IP address of the mail server.

The net effect should be:
* Outside my network the DNS name points to my router, which port forwards to my server.
* Inside my network the DNS name points directly to my server.

So in either case, network access to that DNS name should go to the server.  However, that's not what's happening with K-9.

External access works fine.  But inside my network, K-9 seems to be ignoring my internal DNS server.  Instead it seems to be looking up my DNS name against an external DNS server - or perhaps it's just looking up the DNS name in some internal cache. Whatever the cause may be, the result is that K-9 resolves the DNS name to *external* IP address of my network, and then tries to connect to that external address - even though it is inside my firewall and should be connecting to the internal address.  And since the external IP address is the address of my router, not my mail server, K-9 tries to open connections to my router to send & receive email, and (obviously) fails.  The net result is that K-9 can't send/receive messages to/from my email server when I'm on my home wifi network.

Note that this problem only happens with the K-9 mail app on my phone.  When I use other apps (e.g., the UC Web browser) on my internal network they are able to successfully resolve the DNS name to the internal address, and so can successfully make connections to the server.


### Expected behavior
* When I try to send/receive messages to/from my email server while on my home network, K-9 should do a DNS lookup that gives it the internal address of my home email server, and so it should be able to successfully send or receive.

### Actual behavior
* When I try to send/receive messages to/from my email server while on my home network, K-9 either does a DNS lookup that gives it the *external* address of my home email server, or reads the external address from some DNS cache, and so is not able to successfully send or receive.


### Steps to reproduce
1.  Connect to my home wifi network.
2.  Try to send an email through K-9.  It fails (""cannot connect exception"")
3.  Turn off wifi on my phone, and try again to send.  It succeeds.

### Environment
K-9 Mail version:
5.206

Android version:
7.1.2

Account type (IMAP, POP3, WebDAV/Exchange):
Both IMAP and SMTP
"
k9mail/k-9,closed,French Translation issue,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
Should see "" Vider la corbeille""
### Actual behavior
Tell us what happens instead
Display ""Vidage de la corbeille""
### Steps to reproduce
1. Go to folder list 
2. Select ....
3. 

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,OutOfMemoryError opening emails,"[Label(name=""architecture"")]","Hi !
When I try to open some long html mails (but no attachments, no inline pictures etc... Just text) nothing happens, I just get empty white mails.
So I checked the logs and I saw that reading those mails causes OOM. (log file is attached with this issue)

### Expected behavior
The body of the mail should appear

### Actual behavior
Blank/empty content
OOM.

### Environment
K-9 Mail version: 5.207 

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): gmail IMAP

[k9-log (copy).3.txt](https://github.com/k9mail/k-9/files/1044620/k9-log.copy.3.txt)

Thanks"
k9mail/k-9,closed,Exported Settings: filename should contain additional info (export data),"[Label(name=""enhancement""), Label(name=""good first issue"")]","### Expected behavior
The export file of the k9 settings should contain the export data (should be easy to implement and adds additional helpful info)

Example:
- k9_settings_export_20170520.k9s
- k9_settings_export_20170601.k9s


### Actual behavior
Current export settings are following a numbers name schema if i get it right

Current names:
- settings-5.k9s
- settings-6.k9s

### Steps to reproduce
1. Export settings


### Environment
K-9 Mail version: 5.206

Android version: 7.1.2

Account type: IMAP
"
k9mail/k-9,closed,socks_proxy rebase with master,[],"I'm interested in working on the proxy feature if this rebase is an ok starting point. I noticed proxy support was a potential GSOC project. I don't want to step on any toes, but since I don't see any recent issues mentioning proxies I figured no one was working on it."
k9mail/k-9,closed,Adress Book,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
An inbuilt adressbook would be an advantage.

### Actual behavior
Tell us what happens instead
None available
### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.207

Android version: 6+

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,if supportlists HTML not rendered,[],"This bug relates to the rendering of 
`<p class=3D""MsoNormal"" style=3D""mso-margin-top-alt:0cm;margin-right:0cm;mar=
gin-bottom:0cm;margin-left:72.0pt;margin-bottom:.0001pt;text-indent:-18.0pt=
;mso-list:l1 level1 lfo5"">
<![if !supportLists]><span style=3D""font-family:Symbol;color:#1F497D""><span=
 style=3D""mso-list:Ignore"">-<span style=3D""font:7.0pt &quot;Times New Roman=
&quot;"">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style=3D""color:#1F497D"">List item<o:p=></o:p></span></p>`

### Expected behavior
The display of the HTML message should either display a list or a hyphenated pseudo list, as directed by the HTML.  This is correctly rendered in other clients.

### Actual behavior
The rendering of the above is 
`<![if !supportLists]>-  <![endif]>List item`

### Steps to reproduce
1. Emails received with above encoding

### Environment
K-9 Mail version: 5.206

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Drafts in threads,[],"I want to open drafts messages in thread in MessageCompose activity so is there any way to get a flag as /Draft so that we can directly open that message in messageCompose?

My drafts are getting stored in threads so please suggest a way to do so.
"
k9mail/k-9,closed,Still on F-droid?,[],Is this app still hosted on Fdroid?  It's still listed but will not install on my phone.  Has been like that for about 2 weeks at least.
k9mail/k-9,closed,Add support for ethereum (ERC-67) URIs,[],"see https://github.com/ethereum/EIPs/issues/67

analog to the bitcoin URI support


"
k9mail/k-9,open,Share any email to a new Calendar Invite into Google Calendar app and others,"[Label(name=""needs info"")]","There should be a Share option that takes the whole email including history and all headers and moves it over to a Calendar event, appointment, invite into Google Calendar and other apps that can receive.

Optional, Ideally parsing some date and time from email text/thread, but maybe also google can do that."
k9mail/k-9,open,"Forward, Reply to emails: the cited TO, CC and BCC header should be valid to be copy&paste into new TO, CC and BCC fields",[],"### Expected behavior

When I Reply or Forward and email, K9 puts old email including TO, CC and BCC headers into cited email below.

When I go down there and copy all emails text in the TO section of this cited email header, I should be able to paste into the TO, CC or BCC of the new email and it should become valid email addresses.


### Actual behavior

When I copy the cited header emails and I paste into TO of new emails, K9 does not recognize emails. 

Seems because names and emails are not formatted properly in cited email header for K9 to parse successful when pasted in.

### Steps to reproduce
1. receive and email with a few names and email in TO field
2. Reply to email and ensure old email is cited below with full header
3. copy names and emails from TO section of cited email
4. paste into TO, CC or BCC of new email
5. see that names and emails are not parsed

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,"TO, CC and BCC address fields user experience bad; no copy&paste; no paste of comma seperated emails",[],"### Expected behavior

When I have one or many emails addresses in TO, CC or BCC I should be able to mark them and copy them and paste them to any other text field or other app.

When I have a text file with comma seperated email addresses, I should be able to copy this list from any text edit app and paste into TO, CC or BCC and emails should be parsed and accepted.


### Actual behavior

When I mark, copy and paste from TO, CC or BCC to any text field or other app only some commas get copied, not emails.

When I copy a list of comma seperated emails into TO, CC, BCC then it says email parsing error.

### Steps to reproduce
1. mark emails in TO, CC, BCC and copy
2. paste to any text field or any other app that accepts text

1. create a comma seperated list of emails in any text edit app
2. copy and paste to TO, CC or BCC

### Environment
K-9 Mail version: 5.206

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): does not make any difference, all of them

"
k9mail/k-9,closed,Cannot fetch contents of old mail from IMAP server,"[Label(name=""bug"")]","### Expected behavior
When I search for an older email which is not on my device but on the IMAP server, I'd expect to be able to find and read it.

### Actual behavior
The mail is found, and its subject and other info is shown. But when I open it, then no content is displayed. When I hit reply, there is an animated ""waiting circle"" at the top, and still no contents.

It works with other mail apps and programs, so I doubt it is an issue with my mail provider.

### Steps to reproduce
1. Search for mail.
2. Hit search on server.
3. Click on mail.

### Environment
K-9 Mail version: 5.206

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
[k9-log.txt](https://github.com/k9mail/k-9/files/1032679/k9-log.txt)

"
k9mail/k-9,closed,Icon notification still present after all messages read....,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,feature: Allow sharing to individual K9 contact,"[Label(name=""enhancement"")]","It would be neat if I could share things from other apps as an email to an individual contact in K9. Currently, when I tap the share icon somewhere, I only see the K9 app itself. Other apps, like Signal for example, expose individual contacts, which I can then share directly to (typically displayed in recently-shared-to order, I guess; I'm on Cyanogenmod 12.x, Android 5.x).

I guess this feature should not send the email automatically, but rather pop up K9 with To: (and body) properly filled out, so one can just tap Send."
k9mail/k-9,closed,Rename fragment.getLayoutInflater for Android O+,[],"- This method name is a duplicate of a final method in class
`Landroid/app/Fragment`. Renaming it resolves the conflict and fixes the
crash on my Android O device.

Fixes #2540 

PS - If the name is no good, please let me know an alternative, and I'll update it."
k9mail/k-9,closed,Can't poll or clear Deleted Items,"[Label(name=""performance"")]","

### Expected behavior
Polling Deleted Items should eventually terminate

### Actual behavior
The app is and remains unresponsive. Deleted Items is very large on the device but empty on the server.

### Steps to reproduce
1. Make a big Deleted Items
2.try to sync of clear local messages
3.profit

### Environment
5.206

Android version:
6
Account type (IMAP, POP3, WebDAV/Exchange):
Imap3"
k9mail/k-9,open,Draft loses attachment,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Saving a mail with attachment from KMail, syncing it with K9:
On the overview in the draft-folder the attachment is shown (paper clip symbol), when opening the mail no attachment is in, and when sending the mail there is no attachment either.

### Actual behavior
see the attachment in the mail, download the full attachment, and send draft with attachment

### Steps to reproduce
1. write draft
2. attach file
3. save as draft

### Environment
K-9 Mail version: 5.206

Android version:
7 on Galaxy S7 Edge
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Thank you!,[],"Thank you for working on this amazing software. It is part of my daily life and I wouldn't want to miss it.

Best regards, Oliver."
k9mail/k-9,closed,Doze improvements,[],"This registers a broadcast receiver that listens for `PowerManager.ACTION_DEVICE_IDLE_MODE_CHANGED`. Whenever the device exits doze mode we call `MailService.actionReset()` which should restart pushing/polling.

It's not a great way to deal with Doze. But it should work considerably better than what we currently have."
k9mail/k-9,closed,Continuous syncing,"[Label(name=""needs info"")]","### Expected behavior
All auto sync options I have cleared. So on request new mail is retrieved

### Actual behavior
There is a continuous synchronisation for an account. 
I have the very same settings for the official K-9 Google play mail. 

### Steps to reproduce
1. I forked the k-9 sources, built them and installed them via Android Studio on my mobile Samsung S4. 
2. After exporting the settings of the K-9 Google Play mail, I imported them in the just build version. 
3. All mail is retrieved. There is a continuous synchronisation ... which will not be good for my mobile's battery. I did specify NOT to auto sync 

### Environment
K-9 Mail version: just retrieve and build sources. 

Android version: Cyanogenmod CM13. 

Account type (IMAP, POP3, WebDAV/Exchange): IMAP. 
"
k9mail/k-9,open,Attachment disappears after downloading complete message,[],"### Expected behavior
While viewing a message with an attachment larger than the maximum size of a downloaded message, after clicking the ""Download complete message"" button, the attachment stays visibly listed.

### Actual behavior
The attachment is no longer showing after the message body.

### Steps to reproduce
1. Ensure account settings are set to download, say, up to 32KB of a message
2. Send yourself a message with an attachment larger than 32KB
3. View the message in K-9
4. Observe that if you try to forward the message, you get a toast saying that non-downloaded attachments won't be forwarded - this confirms that the attachment hasn't been downloaded yet
5. Click ""Download complete message""
6. Observe that the attachment disappears

Note: this does not happen every time, so it may be something specific to the message. I have a particular message to which this reproducibly happens, but I don't want to post it in public. If a developer is willing to work on this, I can send it to them.

### Environment
K-9 Mail version: 5.206

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP



"
k9mail/k-9,open,"Support for Global Address List (GAL), possibly via EWS or ActiveSync?","[Label(name=""enhancement"")]","K-9 does not support EWS or ActiveSync, and as a result does not have access to an Exchange Global Address List (GAL).  This can make it very annoying when trying to send email to co-workers.

### Expected behavior
K-9 should be able to look up contacts in the GAL

### Actual behavior
Only local contacts (in a contact database) are accessed

### Steps to reproduce
1. Setup a systemwide exchange account and sync contacts (e.g. office365)
2. Setup K-9 to access that email account (for office365 you must use IMAP)
3. Notice how gmail could access the GAL for office365 but K-9 cannot

### Environment
K-9 Mail version: 5.206

Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange): Technically IMAP, but it's an Exchange Server (Office365)
"
k9mail/k-9,open,widget has to be set up at each reboot,[],"Widget = the one which gives a launcher for all mail accounts.

### Expected behavior
Should remain in a working state through boot and reboot

### Actual behavior
Have to set it all up each time phone is rebooted.

### Steps to reproduce
1. Install widget on your phone screen
2. Set it up, play with it fine, then shut down your phone.
3. On reboot, widget's icon has changed and no longer works.

### Environment
K-9 Mail version: 5.206

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange):
Pop3
"
k9mail/k-9,closed,K-9 crashes at inbox open on Android O,[],"K-9 crashed after clicking on the Inbox. Afterwards, it will crash on every startup.

### Expected behavior
K-9 opens the inbox.

### Actual behavior
K-9 crashes.

### Steps to reproduce
1. Choose the inbox after configuring an account
2. Profit?

### Environment
K-9 Mail version: 5.300-SNAPSHOT (built from current master)

Android version: 8.0 (Android O Developer Preview 2)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

```
05-17 22:55:03.781 E/AndroidRuntime(21282): FATAL EXCEPTION: main
05-17 22:55:03.781 E/AndroidRuntime(21282): Process: com.fsck.k9, PID: 21282
05-17 22:55:03.781 E/AndroidRuntime(21282): java.lang.LinkageError: Method android.view.LayoutInflater com.fsck.k9.fragment.MessageListFragment.getLayoutInflater() overrides final method in class Landroid/app/Fragment; (declaration of 'com.fsck.k9.fragment.MessageListFragment' appears in /data/app/com.fsck.k9-8rLXJQdRANND4GVTfWN6Mg==/base.apk)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at com.fsck.k9.activity.MessageList.actionDisplaySearch(MessageList.java:103)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at com.fsck.k9.activity.Accounts.onOpenAccount(Accounts.java:683)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at com.fsck.k9.activity.Accounts.onItemClick(Accounts.java:1239)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at android.widget.AdapterView.performItemClick(AdapterView.java:317)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at android.widget.AbsListView.performItemClick(AbsListView.java:1165)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at android.widget.AbsListView$PerformClick.run(AbsListView.java:3134)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at android.widget.AbsListView$3.run(AbsListView.java:4049)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at android.os.Handler.handleCallback(Handler.java:769)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at android.os.Handler.dispatchMessage(Handler.java:98)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at android.os.Looper.loop(Looper.java:164)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at android.app.ActivityThread.main(ActivityThread.java:6535)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at java.lang.reflect.Method.invoke(Native Method)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)
05-17 22:55:03.781 E/AndroidRuntime(21282): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)
```"
k9mail/k-9,closed,From field missing in email reading mode,[],"### Expected behavior
I expect to be able to read who I receive my emails like I do before I click on them. The sender is showed on the email list but when I click on them they should also show it like this for example: **From: anyone@anyone.org**

### Actual behavior
The From field is not added as an overview.

### Steps to reproduce
1. Click on any email
2. You'll notice that the Title and To field are showed, but not a From field

### Environment
K-9 Mail version: 5.207

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"Recipient headers (To, CC, BCC) can exceed maximum line length","[Label(name=""bug"")]","It seems that for long CC most servers do not accept messages created by K9. 

I've found two bug reports that probably pertain to the same problem - both closed without solution:
https://github.com/k9mail/k-9/issues/2153 , https://github.com/k9mail/k-9/issues/2090

Gmail returns:
209.85.233.26 failed after I sent the message.
Remote host said: 550-5.7.1 [212.77.101.11      11] Our system has detected that this message is
550-5.7.1 not RFC 5322 compliant:
550-5.7.1 'From' header is missing.

Yahoo:
98.136.216.25 failed after I sent the message.
Remote host said: 554 Message not allowed - [299]

Below is a sample header taken from mailer daemon reply. In addresses I've replaced small letters and numbers with *.
````
Return-Path: <********@**.**>
Received: (wp-smtpd smtp.wp.pl 21731 invoked from network); 9 May 2017 12:39:35 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=wp.pl; s=1024a;
          t=1494326375; bh=GxJNyNAIze0/sLcmzs809CUhriVEk0kSCgvT6Q6V+pY=;
          h=Subject:To:CC:From;
          b=ch4amAgjxkXn+UESSOnoSNjZZoFrKztgbsFVUhGx0RtrtCzePS4z124n+tBz3sgP9
           iBIlARMAKDTf7y4a3eZjBzkB/FDC2X0lPn169X1x9NWvGZwAxjTBJBVPWdVajlSD+D
           j0Ruc3Gug6pCPDfXGT+WIxpP+G6AR/VTrYjJETl4=
Received: from ******-**********.*********.** (HELO [**.***.***.*]) (********@**.**@[**.***.***.***])
          (envelope-sender <********@**.**>)
          by smtp.wp.pl (WP-SMTPD) with ECDHE-RSA-AES256-GCM-SHA384 encrypted SMTP
          for <*******@****************.**>; 9 May 2017 12:39:35 +0200
Date: Tue, 09 May 2017 12:39:23 +0200
User-Agent: K-9 Mail for Android
In-Reply-To: <********-****-****-****-************@****************.**>
References: <**************.********@**.**> <********-****-****-****-************@****************.**>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: =?UTF-8?Q?R*=3A_4*_-_20_***_*=C3=B3=C5=BA****_-?= =?UTF-8?Q?_****_***_*****_**=C4=99***=3A-=29?=
To: A***** <*******@****************.**>,A********* R******** <****-*****@**.**>
CC: Z***** C********** <******.***********@*****.***>,P**** G******** <*.*********@******.***>,=?UTF-8?Q?T*****_=C5=81****?= <******.****@**.**>,J**** M******* <*.********@*********.***.**>,=?UTF-8?Q?D******_=C5=BB*******?= <***@*******.***>,I**** W*********** <*****@**************.**>,******** <********@******.**>,""********.*******"" <********.*******@******.**>,****** <******@****.**>,""*****.*****"" <*****.*****@*******.***>,******* <*******@******.****.**>,""*.******"" <*.******@***.********.**>,**** <****@*****.***.**>,************** <**************@****.**>,M***** G**** <******.*****.****@*****.***>,""******.**********"" <******.**********@*****.***>,""********.*******"" <********.*******@*****.***>,******** <********@*****.***>,*** <***@******.**>,""*.******"" <*.******@*******.**>,***** <*****@**************.***.**>,************** <**************@*****.***>,**** <****@**.**>,************** <**************@*****.***>,********** <**********@*****.***>,""*.*********""
<*.*********@*****.***>
From: K******** G**** <********@**.**>
Message-ID: <********-****-****-****-************@**.**>
X-WP-MailID: ********************************
X-WP-AV: skaner antywirusowy Poczty Wirtualnej Polski
X-WP-SPAM: NO 000000A [ceOE]    
````
### Environment
K-9 Mail version:
5.206

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Failed to export settings,[],"Try to export settings

### Expected behavior
settings are exported to a file in com.fsk.k9

### Actual behavior
Error message:
Export failed
Failed to export settings

### Steps to reproduce
1. tap **Settings Import & Export**
2. tap **Export settings and accounts**

### Environment
K-9 Mail version: 5.206

Android version: 5.0.2

Account type (IMAP): There a 4 different accounts

### Notes

A zero byte file is placed in com.fsk.k9 named settings.k9s

I enabled debugging as per <https://github.com/k9mail/k-9/wiki/LoggingErrors>

k9-log.txt consists of:
--------- beginning of system
--------- beginning of main

I have gone to each accounts incoming server and outgoing server and tapped **Next**
as suggested here: <https://github.com/k9mail/k-9/issues/1100>

"
k9mail/k-9,closed,Adding Information to documentation,[],"Hallo,

I would ask you to insert a short text at

https://k9mail.github.io/documentation/settings/import_export.html

providing this feature:

#2535 

Like this
> Export Info:
>You can add your password by using &lt;password&gt;VALUE&lt;/password&gt; in the &lt;incoming-server&gt; and &lt;outgoing-server&gt; section to import including the passwords.

Thanks in Advance

Also thank you for the great work on K-9 Mail"
k9mail/k-9,closed,Import with password: Password-Tag in the settings.k9s,[],"Hello,

I would ask for a new feature to insert a **XML-Tag** for adding the **passwords** of the mail accounts
in the ""**settings.k9s**"", so that you can insert it manually if you like to risk that everybody can take the password from the setting-file.

### Actual behavior
You allways need to insert your password for each account.

### My workaround
Copying a file with 2 - 6 mail account passwords on my android phone
and than copy pased the passwords to K9-Mail.
So I need to switch between K9 and the text editor for each account.

### Security
I think my workaround is more dangerous for my passwords than 
adding it to the config file you can delete after importing the settings.

If you descripe how to add the password manually in the documentation,
anybody who need this feature can use it.
For all other users, there is no disadvantage.

### New behavior

   `<incoming-server type=""IMAP"">`
        ` <host>xxxxxxxxxxx</host>`
        ` <port>993</port>`
       ` <` **password**` > `**Here my password now**`<` **/password**` >`
        ` <connection-security>SSL_TLS_REQUIRED</connection-security>`
        ` <authentication-type>PLAIN</authentication-type>`
        ` <username>xxxxxxxxxxx</username>`
      `</incoming-server>`
     ` <outgoing-server type=""SMTP"">`
      `  <host>xxxxxxxxxxx</host>`
        ` <port>465</port>`
         ` <` **password**` > `**Here my password now**`<` **/password**` >`
        ` <connection-security>SSL_TLS_REQUIRED</connection-security>`
        ` <authentication-type>PLAIN</authentication-type>`
        ` <username>xxxxxxxxxxx</username>`
      `</outgoing-server>`

### Account type
IMAP and SMTP




## Thanks in Advance"
k9mail/k-9,closed,"Make it compatible with Detla Chat, add an option to disable new mail notification for specific senders",[],"Maybe you have heard of a messenger called [Detla Chat](https://delta.chat/). It does chat over the e-mail infrastructure. I.e. it's like a mail client, but in the form of a messenger application. Lots of people already use it, and it will probably become more and more popular once more features are implemented (like encryption).

Now the problem is the following:
Detla Chat gives me a notification if I received a message form specific senders (white list). This is the desired behavior.
However, at the same time I also get a notification from k-9 mail. 
My request is to add an option to blacklist specific senders so that we don't get a new mail notification for them. That's it.

Would be really cool if you could implement this."
k9mail/k-9,open,Choose automatic CC per identity,[],"Hello everybody, I'm proposing a feature that I know from Thunderbird. There you can choose an automatic CC (not only BCC!) per identity (not only account!). At the moment this is not possible in K-9 Mail.

My use case: I use a mailing list and want to notify the other list members when I reply to a poster. For example: 

1. Poster sends a mail to `list@server.org`
2. I don't want to reply with my standard identity (`me@foo.net`) of my mail account, but with a me@server.org identity.
3. When I select `me@server.org`, K-9 should automatically add a **CC** to `list@server.org`.

It would be great if someone could introduce this feature. I'll be glad to give further information in case I didn't explain myself. :) "
k9mail/k-9,closed,omit /Exchange in mailboxpath,[],"### Expected behavior
i need to connect via activesync over scalixserver instead of exchangeserver. 
which uses root folder instead of /exchange. Setting own Mailbox-path with ""mbpath"" results in requests going to acctivesync.example.com/exchange/mbpath. /Exchange should be ommited.

### Actual behavior
ActiveSync-Account always wants to connect to activesync.example.com/exchange instead of activesync.example.com


### Steps to reproduce
1.create new Exchange Account with mailbox, which has to be connected via activesync.example.com with SSL/TLS.

### Environment
K-9 Mail version:
latest
Android version:
6.01
Account type (IMAP, POP3, WebDAV/Exchange):
WebDAV/Exchange"
k9mail/k-9,closed,K-9 Setup Could Not Finish,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Setting up k9mail should connect to the SMTP server.

### Actual behavior
This message appeared:

Setup could not finish
Cannot connect to server.
(Unable to open connection to SMTP
server.)

I could receive emails, but not send them.
[k9-log.txt](https://github.com/k9mail/k-9/files/991256/k9-log.txt)


### Steps to reproduce
1. Download k9mail from the playstore
2. Open it
3.

### Environment
K-9 Mail version:  5.206

Android version:  7.1.2 on Nexus 6P

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP
"
k9mail/k-9,open,My tasks about improving account setup in GSoC 2017,"[Label(name=""being worked on""), Label(name=""enhancement"")]","This issue is for GSoC 2017. I will work on improving account setup during this summer. The following are roughly what I will do for it.

Most of following are from [Onboarding Re-work](https://github.com/k9mail/k-9/issues/1818), any advise are welcome :D 

I'll update this issue when I make progress.

- [x] Autoconfiguration of email settings
  - [x] SRV
  - [x] Mozilla
  - [ ] Outlook (haven't been tested)
- [x] XOAuth2
  - [x] Google (issue #655)
  - [x] Hotmail
- [ ] Using both client certificates and password auth (issue #793)
- [ ] User friendly certificate error handling
  - [ ] Expired
  - [ ] Self-Signed
- [ ] Certificate viewing and pinning (issue #1798)
- [ ] User friendly TLS / SSL error handling (issue #893)
  - [ ] Only support ssl v3.0 or older
  - [ ] Only support ciphers blacklisted
- [x] Rewrite the UI

It is my honor to take part in the development of K-9 and make K-9 a better modern email client :) I will try my best in this summer."
k9mail/k-9,closed,Feature Request: SMS integration option,[],"The K9 app should allow as a opt-in, to integrate with SMS/messaging.
So it ""replaces the default SMS app on phone"".

Also another feature, related to this, is two options, one to select to:
""Send everything as Email""
""Default""

And following (Both greyed out when ""Default"" is set on above option):
""Suffix to use when sending SMS as Email"" [inputbox]
Account to use for sending SMS: [select popup that lists all IMAP/POP3 accounts configured]

In the inputbox for suffix, you can write anything, that will be added as suffix when sending a message to a receiver that does only contain digits and +.

So if I write "".sms@api.some_sms_corporation.com"" as ""Suffix to use when sending SMS as Email"", and have ""Send everything as Email"" selected.
If I then compose a message to lets say 0707555555, then it would transmit the message to 0707555555.sms@api.some_sms_corporation.com via the selected email account.

(But suffix can also be left blank if your mail provider has builtin SMS functionality, like ""RCPT TO: <0707555555> would send a SMS to 0707555555"")

(If receiver contains anything other than digits and +, it should be considered a email message and be sent as-is)

If ""Default"" is selected, receiver that does only contain digits and + should be considered SMS, and be sent via SIM card. Subject line is then ignored. cc and bcc is considered a multi-receiver SMS.

Regardless of option, if its the default message app, it should receive all SMS messages in a special inbox called ""SMS"". Sent messages should only appear in inbox ""SMS"" if you have ""Default"" selected, else any sent messages should land in the ""Sent"" box of the chosen IMAP/POP3 account."
k9mail/k-9,open,Showing wrong folder when tapping on notification,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Show folder content

### Actual behavior
Sometimes, when I tap on notification in Android bar, K9 opens in some folder like Inbox, and shows messages from an other folder, like Work or any other folder from the account.

### Steps to reproduce
Random.

I would say it happenes more often when notification mentions several messages, than when telling about only one.

NB: I asked K9 to sync several Imap folders.

It seems to happen more frequently if several sync have been done between generation of android notification, and tap on notification; not sure if reading messages from an other MUA impacts.

It's a regression; it started around last christmass; never happened before mid 2016.

### Environment
K-9 Mail version:
5.206

Android version:
4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
Imap
"
k9mail/k-9,open,Improve IMAP related features,"[Label(name=""being worked on"")]","Tasks for my GSoC 2017 project :

- [x] Improve code related to IMAP commands
   - [x] Create classes for each IMAP command
   - [x] Impose a maximum length on IMAP commands
- [x] Add support for the CONDSTORE extension
- [x] Add support for the QRESYNC extension
- [x] Rewrite IMAP IDLE
- [x] Add support for moving messages across IMAP accounts (issue #760)
- [x] Add support for the UID EXPUNGE command
- [ ] Improve search
   - [ ] Add support for full text search (issue #699)
   - [ ] Implement search within search
   - [ ] Add search suggestions
   - [ ] Improve local search code
   - [ ] Add search filters

"
k9mail/k-9,open,"Drafts Not Sync'ing Correctly: ""IOException: readStringUnti""","[Label(name=""needs info"")]","### Expected behavior
New draft should be available in Draft folder on a different email client. 

### Actual behavior
- The draft is visible on other client, but the subject and body are empty. 
- If i sync K9, the subject and body remain empty on other client. 
- In K9 folder list, Drafts and Inbox both say ""IOException: readStringUnti""

### Steps to reproduce
1. Compose email in K9.
2. Save as Draft. 
3. Sync K9. 
4. Navigate to Draft folder on other email client. 

### Environment
K-9 Mail version:
5.206

Android version:
5.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,email removed from server when downloaded on phone,[],"

### Expected behavior
emails should stay on server

### Actual behavior
they are deleted when I fetch

### Steps to reproduce
1.fetch emails
2.
3.

### Environment
K-9 Mail version: I don't know how to tell

Android version:  6.0

Account type (IMAP, POP3, WebDAV/Exchange):  don't know how to tell
"
k9mail/k-9,closed,Don't try fallback authentication for non-authentication error responses,[],"If the server returns a response code like `UNAVAILABLE` there's no point in trying the fallback authentication method or notifying the user of an authentication failure.
Now we'll simply close the connection and throw the original `NegativeImapResponseException`.

See #2523"
k9mail/k-9,closed,"Can't connect to mail.vivaldi.net, never had any problem before I update Android to 7.1.2",[],"### Expected behavior
K9 should work the way it worked (perfectly for me) before I get a new mobile, update Android to 7.1.2 and make a fresh install of K9
Never had any problem with mail.vivaldi.net before

### Actual behavior
Not any problem with some of my e-mail accounts (gmail, me.com)
One is acting really weird with K9 (mail.vivaldi.net)

### Steps to reproduce
1. Import parameters in my fresh installed K9 mail app
2. Can't connect to mail.vivaldi.net
3. Delete account, configure a new vivaldi account
4. Still doesn't work

### Environment
K9-Mail version: 5.207
Device make: LGE
Device model: Nexus 5X
Android version: 7.1.2

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

### K9mail-errors messages:

Objet : Push error for Sent

com.fsck.k9.mail.MessagingException: Unable to get IMAP prefix
	at com.fsck.k9.mail.store.imap.ImapFolder.getPrefixedName(ImapFolder.java:93)
	at com.fsck.k9.mail.store.imap.ImapFolder.internalOpen(ImapFolder.java:142)
	at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.openConnectionIfNecessary(ImapFolderPusher.java:330)
	at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.run(ImapFolderPusher.java:155)
	at java.lang.Thread.run(Thread.java:761)
Caused by: java.io.IOException: readStringUntil(): end of stream reached
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readStringUntil(ImapResponseParser.java:447)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.parseTaggedResponse(ImapResponseParser.java:287)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readTaggedResponse(ImapResponseParser.java:75)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readResponse(ImapResponseParser.java:44)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readResponse(ImapResponseParser.java:30)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readStatusResponse(ImapResponseParser.java:88)
	at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:634)
	at com.fsck.k9.mail.store.imap.ImapConnection.login(ImapConnection.java:435)
	at com.fsck.k9.mail.store.imap.ImapConnection.saslAuthPlainWithLoginFallback(ImapConnection.java:391)
	at com.fsck.k9.mail.store.imap.ImapConnection.authenticate(ImapConnection.java:335)
	at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:121)
	at com.fsck.k9.mail.store.imap.ImapFolder.getPrefixedName(ImapFolder.java:91)

### ~~~

Objet : IOException: readStringUntil(): end of stream reached

com.fsck.k9.mail.MessagingException: Unable to get IMAP prefix
	at com.fsck.k9.mail.store.imap.ImapFolder.getPrefixedName(ImapFolder.java:93)
	at com.fsck.k9.mail.store.imap.ImapFolder.exists(ImapFolder.java:264)
	at com.fsck.k9.controller.MessagingController.processPendingAppend(MessagingController.java:1821)
	at com.fsck.k9.controller.MessagingController.processPendingCommandsSynchronous(MessagingController.java:1742)
	at com.fsck.k9.controller.MessagingController.access$800(MessagingController.java:115)
	at com.fsck.k9.controller.MessagingController$13.run(MessagingController.java:1690)
	at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
	at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
	at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
	at java.lang.Thread.run(Thread.java:761)
Caused by: java.io.IOException: readStringUntil(): end of stream reached
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readStringUntil(ImapResponseParser.java:447)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.parseTaggedResponse(ImapResponseParser.java:287)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readTaggedResponse(ImapResponseParser.java:75)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readResponse(ImapResponseParser.java:44)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readResponse(ImapResponseParser.java:30)
	at com.fsck.k9.mail.store.imap.ImapResponseParser.readStatusResponse(ImapResponseParser.java:88)
	at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:634)
	at com.fsck.k9.mail.store.imap.ImapConnection.login(ImapConnection.java:435)
	at com.fsck.k9.mail.store.imap.ImapConnection.saslAuthPlainWithLoginFallback(ImapConnection.java:391)
	at com.fsck.k9.mail.store.imap.ImapConnection.authenticate(ImapConnection.java:335)
	at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:121)
	at com.fsck.k9.mail.store.imap.ImapFolder.getPrefixedName(ImapFolder.java:91)

### Log File:

[k9-log.txt](https://github.com/k9mail/k-9/files/968937/k9-log.txt)
"
k9mail/k-9,open,Unable to re-sync emails modified by other clients.,"[Label(name=""enhancement"")]","When the header X-Bogosity is set (see https://fossies.org/linux/bogofilter/GETTING.STARTED for exemples), the email is not shown by k9mail.

### Expected behavior
That this header is there or not shouldn't change the fact that my email is visible

### Actual behavior
If the header X-Bogosity is set, the mail cannot be seen in the App

### Environment
K-9 Mail version: 5.206

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Fixed import/export of crypto settings,[],"Fixes #2503, there was a mismatch between 'openpgpSupportSignOnly' in GlobalSettings vs. 'openPgpSupportSignOnly' in K9. 
Since the Crypto-option menu has not arrived at the stable build, I don't think a SettingUpgrader to delete the lowercase-option from setting storages/exported setting files is needed. 

"
k9mail/k-9,closed,Updated with master branch,[],"Not sure if this is helpful or if anyone is interested, but the socks_proxy branch was too far behind the master branch to be automatically merged with it. I resolved the conflicts and combined the socks_proxy features with the newest code from master. 

"
k9mail/k-9,closed,Fix linkify issue with https: and rtsp: URIs,[],😮
k9mail/k-9,closed,Use jsoup to parse and clean HTML,[],"This PR introduces jsoup and gets rid of HtmlCleaner.

Fixes #2148
"
k9mail/k-9,open,Sanitize HTML of original message before using it as quoted text,"[Label(name=""enhancement"")]","Right now the code in `QuotedMessagePresenter` uses the HTML of the original message pretty much as is. But we should clean it before using it as quoted text.
We should also avoid parsing the HTML body multiple times. At the same time we want to abstract from the jsoup classes. So we'll probably want a `HtmlDocument` class that can be used to pass the sanitized document to e.g. `HtmlSignatureRemover` and `HtmlQuoteCreator`."
k9mail/k-9,closed,Security Warnings,[],"This PR adds support for the security warning api improvements from https://github.com/open-keychain/open-keychain/pull/2097, see also there for screenshots.

Besides better error reporting, this also adds an option to suppress errors, i.e. skip displaying the security warning before a message is displayed. This addresses the problem that insecure keys would persistently cause warnings.

This change should be perfectly forward and backward compatible."
k9mail/k-9,open,"Compose Message,select contact icon issue",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When you open a new mail message and select from an existing contact (Android equipment here) you should see any contact photo that is on record, If there is no contact photo you should see either blank or a generic photo.

### Actual behavior
When I create a new e-mail message and type for example WO for WORK, I do see my work contact and a couple of other that pattern match WO.

Now my work contact entry does not have a photo on it, but it shows the same photo as one of the photo as one of the other contacts viewed by the pattern match, this is clearly wrong

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Notifications: content inconsistent (locked vs. unlocked),[],"My setting for  ""Lock Screen Notifications"" used to be ""Same as when screen unlocked"".

### Expected behavior
Show a notification presenting sender, subjects, and content of incoming mails.
The notification should be the SAMe independent if screen is
A) locked or
B) unlocked.

### Actual behavior
Depending on the current state (locked vs. unlocked), the notification _is different_.
In addition, it remains unchanged if unlocking the locked device or vice versa.
A) locked: ""Content hidden""
B) unlocked: preview of the actual e-Mail.

Case A) is unexpected.
In addition, if A) happened (content hidden) and the screen is unlocked, a newly incoming mail leads to a change of the notification presenting a preview of the content.
Locking the device will then show ""XXX new messages.

### Steps to reproduce
1. Lock screen
2. Receive e-Mail (notification: ""content hidden"")
3. Unlock 
-> notification still ""content hidden""

### Environment
K-9 Mail version: 5.207 (Fdroid)

Android version: Lineageos 14.1-20170413

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Poll doesn't work in the latest version,[],"The poll frequency (of my outlook account, IMAP) is set to ""Every 12 hours"". It is always shown that ""Next poll in 11 hours"". This is an issue of latest versions. There weren't similar issues in older versions, but I cannot tell from which version the issue appeared.

I discovered the issue when I access the mailbox and find that the new mails of outlook don't come for a week.
[k9-log.txt](https://github.com/k9mail/k-9/files/962367/k9-log.txt)


### Steps to reproduce
1. Set the poll frequency to be ""Every 12 hours"";
2. Set background sync to be ""Always"".
3.

### Environment
K-9 Mail version:
5.207

Android version:
6.0.1 (cm13.0-SNAPSHOT-ZNH5YAO21N)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,Change Background Color in liststyle,[],"Hi,
when I call the mails list the background is gray for the read mails and white for unread mails.
Can i change that?
Would be much better if the read would be white.
Thanks!
"
k9mail/k-9,open,Refactor recipient drag and drop code,[],"Contains changes as discussed in PR #2451 


"
k9mail/k-9,closed,Cryptography settings are ambigiuous with multiple private keys,[],"I'd  like to propose an improvement for the settings screen inside Settings>Account Settings>Cryptography

### Expected behavior
""My key"" should show the name and email on the chosen key

### Actual behavior
""My key"" only shows ""Key has been selected""

### Steps to reproduce
This is a problem when you happen to have more than one private key.
1. Create two email accounts
2. Create two PGP keys, one for each
3. Choose the appropriate key for each account

It's far too easy to misclick and choose the wrong key, and there is no way to check which key was chosen. This is simultaneously:
- a technical issue(the email will be signed by the wrong key), 
- a privacy issue(allows the recipient to connect purposefully isolated identities and get to know more email addresses of the sender),
- a UX issue(you only get the information on which key was chosen when encrypting the email, and if you chose wrong, it is very confusing).

A patch would include querying Open Keychain to reveal the identity connected with the chosen key(unless K9 already stores that information) and putting the result of this query into ""My key"". If doesn't have to be 100% of the identity, just enough to make different identities distinct, as in ""last 4 digits of the credit card""

### Environment
K-9 Mail version: 5.206

Android version: Used: 5.1.1, but probably all are affected.

Account type (IMAP, POP3, WebDAV/Exchange): Any
label:enhancment
This ties into [https://github.com/k9mail/k-9/issues/942](url)"
k9mail/k-9,open,Unified inbox not working - version 5.206,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

I had 5 emails in K9 and it should have aggregated everything in unified inbox

### Actual behavior
Tell us what happens instead

Many latest emails are omitted in unified inbox, but some of the outdated ones are still on top of unified inbox

### Steps to reproduce
1.check messages universally
2.compare latest msgs from individual inbox to Global inboxes.
3.

### Environment
K-9 Mail version:5.206

Android version: 7.0 (no recent updates between k9 update

Account type (IMAP, POP3, WebDAV/Exchange):
All imap"
k9mail/k-9,closed,Add espiv.net and squat.gr settings,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.


"
k9mail/k-9,closed,IMAP search in Japanese returns Remote Search Failed ,"[Label(name=""bug""), Label(name=""duplicate"")]","### Expected behavior
Searching with Japanese works

### Actual behavior
Remote search failed
```

I/k9      (27782): Running command 'getFolderUnread:XXXX XXXXXXXXXX:INBOX', seq = 24(foregroundpriority)
I/k9      (27782):  Command 'getFolderUnread:XXXX XXXXXXXXXXX:INBOX' completed
I/ActivityManager(  719): START u0 {act=android.intent.action.SEARCH flg=0x10000000 cmp=com.fsck.k9/.activity.Search (has extras)} from uid 10127 on display 0
I/ActivityManager(  719): Displayed com.fsck.k9/.activity.Search: +202ms
I/k9      (27782): searchRemoteMessages (acct=9c5a069f-8738-4ad2-9112-c696f6a77f9d, folderName = INBOX, query = 会員)
V/k9      (27782): conn230882607>>> 18 NOOP
V/k9      (27782): conn230882607<<<#18# [OK, Success]
V/k9      (27782): conn230882607>>> 19 UID SEARCH OR SUBJECT ""会員"" FROM ""会員""
V/k9      (27782): conn230882607<<<#19# [BAD, Could not parse command]
E/k9      (27782): Could not complete remote search
E/k9      (27782): com.fsck.k9.mail.store.imap.NegativeImapResponseException: Command: UID SEARCH OR SUBJECT ""会員"" FROM ""会員""; response: #19# [BAD, Could not parse command]
E/k9      (27782): 	at com.fsck.k9.mail.store.imap.ImapResponseParser.readStatusResponse(ImapResponseParser.java:121)
E/k9      (27782): 	at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:634)
E/k9      (27782): 	at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:620)
E/k9      (27782): 	at com.fsck.k9.mail.store.imap.ImapFolder.executeSimpleCommand(ImapFolder.java:109)
E/k9      (27782): 	at com.fsck.k9.mail.store.imap.ImapFolder.access$000(ImapFolder.java:42)
E/k9      (27782): 	at com.fsck.k9.mail.store.imap.ImapFolder$5.search(ImapFolder.java:1493)
E/k9      (27782): 	at com.fsck.k9.mail.store.imap.ImapFolder.search(ImapFolder.java:621)
E/k9      (27782): 	at com.fsck.k9.mail.store.imap.ImapFolder.search(ImapFolder.java:1503)
E/k9      (27782): 	at com.fsck.k9.controller.MessagingController.searchRemoteMessagesSynchronous(MessagingController.java:610)
E/k9      (27782): 	at com.fsck.k9.controller.MessagingController$7.run(MessagingController.java:581)
E/k9      (27782): 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:423)
E/k9      (27782): 	at java.util.concurrent.FutureTask.run(FutureTask.java:237)
E/k9      (27782): 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
E/k9      (27782): 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
E/k9      (27782): 	at java.lang.Thread.run(Thread.java:818)
V/k9      (27782): LockableDatabase: Transaction ended, took 24ms / 

```
### Steps to reproduce
1. search with Japanese
2. return search failed

### Environment
K-9 Mail version:
5.207
Android version:
6.0.1
Account type:
IMAP
"
k9mail/k-9,closed,Add proper dir and align attributes when using RTL languages,"[Label(name=""enhancement"")]","### Expected behavior
When sending an email with RTL languages (Hebrew, Arabic, etc), the dir and text-align HTML attributes should be ""right"" in the content's element.

### Actual behavior
There is no dir and text-align HTML attributes in the content's element, and the text aligned by the email client default settings. In the composing editor the text appears fine, from right to left, but only on the composer level, and not in the HTML level.

Composing is working as expected in RTL languages:
![screenshot_20170419-193815](https://cloud.githubusercontent.com/assets/4103710/25191681/0f66bb6e-2539-11e7-8fbb-ae9a59b7488a.png)

But when reading content display is wrong:
![screenshot_20170419-194123](https://cloud.githubusercontent.com/assets/4103710/25191819/7bdf1764-2539-11e7-9076-215f5124d642.png)


### Steps to reproduce
1. Compose new email with RTL language content.
2. Send the email.
3. Open the email in any other email client, that the default text alignment and direction is left.

### Environment
K-9 Mail version: 5.207

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Add autoconfig settings for riseup.net,[],Add autoconfig settings for riseup.net
k9mail/k-9,open,UI: Relative Position of Delete/Mark Unread,[],"### (Subjective) Issue
First of all thank you for k-9 mail. I am using it for years and I love it and it just got even more useful with PGP/Mime support.

I always found it suboptimal in the UI that my two most used options in a message's context menu, *Delete* (for spam) and *Mark unread* (after pre-viewing IMAP messages on the go) are just directly above each other. I mismatch them regularly, requiring quite a several-touch-workflow to recover.

### Proposal
Might it be worth considering separating the two a bit further from each other? Or at least showing a little ""undo"" box for a few seconds on the bottom border similar as Firefox does when closing tabs?

In terms of re-ordering the context menu a little, I would suggest to ""guard"" *Mark unread* by less intrusive operations, e.g. the order:

- [...]
- Send Again
- Forward
- Mark Unread
- Copy
- Move
- Spam
- Delete
- Archive
- [...]

Delete would still be on the context without scrolling but would be in a ""group of options"" that are ""more carefully pointed at"" when performed.

Just as an idea. Maybe you also have usage statistics on what operations are performed most and some UI experts have a better proposal. I just always found this could be optimized by re-arranging a bit.

### Environment
K-9 Mail version: 5.206

Android version: 7.1.1
"
k9mail/k-9,closed,Export settings  does not export 'Support signing of unecrypted mail' setting,"[Label(name=""bug"")]","If I set 'Support signing of unecrypted mail' option, then export the settings, then clear K9 mail app. data, then import the settings, the 'Support signing of unecrypted mail' option does not get set."
k9mail/k-9,closed,Add autoconfig settings for systemli.org,[],"Add autoconfig settings for systemli.org


"
k9mail/k-9,closed,K9,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Show progress for attachment downloads,[],"This is a rebased and extended version of PR #2307.

Fixes #999"
k9mail/k-9,closed,Add support for GB-2312 encoding in subject header,"[Label(name=""needs info"")]","
### Expected behavior
K-9 should correctly convert multi-encoded-word GB2312 encoded subjects into decoded text.

### Actual behavior
Does not display properly.

### Steps to reproduce
I have received a mail like this
```
Date: Tue, 11 Apr 2017 11:34:38 +0800
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary=""__=_Part_Boundary_007_006502.007471""
Subject: =?gb2312?B?Obv9t9az6cnu29rHsLqju6rHyLPHSlfN8rrAvsa16qOsuPzT0DIwvNIzOTnU?=
	 =?gb2312?B?qr6r0aG439DHytTLr77Gteq1yMTjwLSjoaOoQUSjqQ?=
```
this application will not display properly
but  i can normal reading on gmail

### Environment
K-9 Mail version:5.206

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Move hidden scroll bar to left in folder view,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

Clicking on unread or starred count next to a folder should display only unread or starred messages. 

### Actual behavior
Tell us what happens instead

List of folders scrolls because super annoying hidden scroll bar activates when clicking near the eight of the screen. 

### Steps to reproduce
1. Try to click on unread messages
2. Express disappointment in Android for not letting me disable the scroll bar that usually doesn't work in the rare instances when I actually want a scroll bar.
3.

### Environment
K-9 Mail version:
5.206
Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
Imap"
k9mail/k-9,open,Auto complete keys from Openkeychain,[],"When composing an email, the default auto complete check for contacts in the phone's contact list and if present shows a autocomplete dropdown of the same.

What if I want to use Openkeychain contacts instead of phone contacts?

I was able to achieve this in the previous version of k9 by using an adapter which was getting contacts from Openkeychain and then setting that adapter to the multiuautocpmpletetextview in compose class.

With the current version, even if I set the adapter in the RecipientSelectView, the autocomplete feature doesnt fire. I did some searching around and saw that the RecipientSelectView class is using an adapter which is not getting any data from a cursor.

How do i got about it?"
k9mail/k-9,closed,persist dialog counters,[],"Simple fix: the counters for displayed warning dialogs (openpgp inline and sign-only) were set, but not persisted. I added a simple fire-and-forget method to persist those."
k9mail/k-9,closed,Crypto status dryrun,[],"This PR changes how the crypto status icon is displayed and most importantly, calls out to OpenKeychain to retrieve information about the state of selected recipients.

This comes with a cost in complexity since that call is made asynchronously, and there is a new ""weird state"" where the status is not yet retrieved and the user presses ""send"". However this should be so rare that it should never come up in practice, which is why I silently abort the user interaction rather than add even more complexity to handle it.

From OpenKeychain's side, the mechanism works as a ""dry run"" for sign+encrypt, following the same codepath as a regular sign+encrypt operation but aborting the process once all metadata is gathered, returning with a status. This requires a development version of OpenKeychain that includes this PR: https://github.com/open-keychain/open-keychain/pull/2088. I will push for a beta release with that included to make this easier to test.

Sadly, it's not possible to be compatible with older openkeychain versions here unless I keep the old crypto status mechanism around, which I really don't want to do. The plan is to release this in OpenKeychain earlier than K-9 and just error out for older versions."
k9mail/k-9,open,Anchor links not working,[],"Hi.

On a daily base I receive Logwatch notifications from my servers. A summary in the top of the mail has anchor links included for quick browsing (see HTML below). I recently installed version 5.206 and since then quick browsing to a header does not work anymore. My old version was several years old and working fine with anchors. I cannot go back to the old version since I removed it from my device.

```
<a name=top><ul>
   <li><a href=""#1"">LOGWATCH Summary</a>
</ul></a>
<hr>
         <h2><a name=""1"">LOGWATCH Summary</a></h2>
```

### Expected behavior
Quick browsing to a header in the same email

### Actual behavior
Nothing happens

### Steps to reproduce
1. Open a mail with anchors
2. Click the link
3. Nothing happens

### Environment
K-9 Mail version: 5.206 

Android version: 4.0.4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Unit tests for MergeCursor were added. Fix #2211.,[],"Change-Id: I7673246b2bcb5c68d638663d16af9695475a9c8c

Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.


"
k9mail/k-9,open,Truncated Notification Sound,[],"New to nougat, coming from KK S3.

Notification Sound often times is clipped to about 1/4 second. Full notification is close to 1 second.

It does this about 75% of the time.

"
k9mail/k-9,closed,Mark All As Read in Notification,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Please show Mark All as Read in Notification when there is more than one email

### Actual behavior
Mark as Read has disappeared.  It was present in previous versions/earlier version of Android

### Steps to reproduce
Receive more than one email on an account
View Notification

### Environment
K-9 Mail version: 5.206

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): POP
"
k9mail/k-9,open,Forwarded messages don't have inline images shown,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
 Some images can show in the text part

### Actual behavior
Some images can't show in the text part

### Steps to reproduce
1. Create a message on PC and add some images in the text part , forward the message  and receive it
2. when I read the text part in  message detail 
3. Those images is not show in the text part

### Environment
K-9 Mail version: 5.206

Android version:Android 6.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,broken,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue
Did the update ysterday on my droid. Now k9 doesnt work...i keep getting authentication errors for every accouny. It claims my passwords are invalid. I msde no othet chhanges except updating.


### Expected behavior
Tell us what should happen
It shiuld bloody wrlm WORK when I log in
### Actual behavior
Tell us what happens instead
It dont WORK
### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Unable to connect to smtp server (SSL problem),[],"K9 is unable to connect to my smtp server:
 - Server runs postfix with an SSL cert from letsencrypt
 - Connection is made over SSL with plain text password via submission port
 - Settings are fine, other MUAs can connect and send mail
 - Imap works, with the same settings (ssl, plaintext password)
 - All I can gather from the log is that the problem is SSL-related, but nothing more that would help

[k9-log.txt](https://github.com/k9mail/k-9/files/907061/k9-log.txt)

K-9 Mail version: 5.206

Android version: 7.0
"
k9mail/k-9,closed,"portrait vs landscape doesn't work right, buttons go missing","[Label(name=""duplicate"")]","[k9_port-vs-land] pic removed

### Expected behavior
Tell us what should happen

Buttons in bottom row (like reply) should remain no matter how you orient phone or device.

### Actual behavior
Tell us what happens instead

Buttons appear when phone is upright (portrait) but not when sideways (landscape).

### Steps to reproduce
1. open K9
2. view an email
3. turn your device from upright to sideways, notice buttons on bottom row disappear and reappear by changing the orientation.

### Environment
K-9 Mail version: 5.206

Android version: Marshmallow 6

Account type (IMAP, POP3, WebDAV/Exchange): several IMAP accts

(works great otherwise, IMAP is awesome)
"
k9mail/k-9,open,"If saving BinaryTempBody fails, check the cache folder structure exists - if it doesn't, recreate and try again","[Label(name=""enhancement"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
New emails should appear in the Inbox until deleted or pushed off the bottom

### Actual behavior
Phone appears to be polling normally, then, recent emails are no longer visible and new emails are not being received.  A Synchronizing Disabled message may appear for in instant.  Under the Inbox, the message: ""ErrnoException: open failed"" remains constant.  To resolve the issue, I use TaskManager to stop K9 and then upon restart, K9 Mail runs normally.  Emails that came and went, now re-appear is if they are new.

### Steps to reproduce
1.  I do a cold start in the morning.  First occurrence of ErrnoException may happen around noon. 
2.  I have the same issue on another identical phone which uses a different Email provider
3.  K9 Mail has been used successfully on this phone for over 3 years with no issues.

### Environment
K-9 Mail version: 5.206

Android version: 4.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
[k9mail.txt](https://github.com/k9mail/k-9/files/900278/k9mail.txt)
![screenshot_2017-04-04-15-56-35](https://cloud.githubusercontent.com/assets/26933838/24718768/365998fc-1a05-11e7-82bb-f9756ccb05f8.png)


"
k9mail/k-9,open,Add ability to discard changes and keep original draft,"[Label(name=""enhancement"")]","**K-9 Mail deletes valuable emails from the Drafts folder**, when you try to leave the editor without saving changes: either by saving them with missing attachment, or by removing them completely from the Drafts folder.

### Expected behavior
When I open a previously drafted email in the k9 Mail Editor and I add some letters to this email, there must be an option to leave the editor without saving the changes. 

### Actual behavior
After pressing on ""Discard"" the unwished changes in the drafted email are either saved to the Drafts, or the email is completely removed from the drafts. I tested it with two different email servers: It happens with both.

### Steps to reproduce
1. Have an IMAP connection. With Firefox login to webmail and create a new testing email, upload a test file to its attachment, and save this email into your drafts folder.
2. Now in K9mail 5.206 go to that drafts folder, refresh the folder (by polling), see the new testing email with paper clip symbol (indicating there is an attachment), and open your drafted testing email in the editing mode.
3. Now you should see the first bug: In K9 Mail 5.206 the drafted email is opened in the editor WITHOUT any attachments.
4. Now edit the text of this email, then try to cancel any change done to the email after you have noticed that the email had been loaded wrongly (namely without the attachments).
5. To leave the editor, K9 Mail 5.206 gives you two options: either ""Discard"" or ""Save as draft"", but not ""Discard changes"" in order to leave the email as it was before.
6. Since there is no clear option to discard the wrong changes, you might press on ""Discard"". 
7. Now watch in Firefox, what happened to the files in that drafts folder: Either that email still exists, but now without any attachments and with your edited text! Or this email is missing completely, because K9 5.206 has deleted of of it against my will.

### Environment
K-9 Mail version: 5.206
Android version: 4.1.2
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
I cannot upload a debug log, because the instruction (link below) is too complicated, because I have no data wire between my Mac and my android phone, and because the available descriptions - how to connect to my android device - apply only to Linux or Windows, but not Mac.
https://github.com/k9mail/k-9/wiki/LoggingErrors
"
k9mail/k-9,closed,Add toast when folder fetch fails,[],"Improve behaviour seen in #2474 - display a Toast when fetching the list of folders fails.

Also, a test for this kind of issue to validate we follow the spec here.

"
k9mail/k-9,closed,use uncorrelated subquery for fts search term,[],"query plan before:

```
0|0|0|SEARCH TABLE messages AS m USING INDEX msg_composite (deleted=? AND empty=?)
0|0|0|EXECUTE CORRELATED SCALAR SUBQUERY 1
1|0|0|SCAN TABLE messages_fulltext VIRTUAL TABLE INDEX 2:
0|1|1|SEARCH TABLE threads AS t USING INDEX threads_message_id (message_id=?)
0|2|2|SEARCH TABLE folders AS f USING INTEGER PRIMARY KEY (rowid=?)
0|0|0|USE TEMP B-TREE FOR ORDER BY
```

query plan after:

```
0|0|0|SEARCH TABLE messages AS m USING INDEX msg_composite (deleted=? AND empty=?)
0|0|0|EXECUTE LIST SUBQUERY 1
1|0|0|SCAN TABLE messages_fulltext VIRTUAL TABLE INDEX 2:
0|1|1|SEARCH TABLE threads AS t USING INDEX threads_message_id (message_id=?)
0|2|2|SEARCH TABLE folders AS f USING INTEGER PRIMARY KEY (rowid=?)
0|0|0|USE TEMP B-TREE FOR ORDER BY
```

When I wrote this I assumed the EXISTS query would be efficiently optimized by way of the `docid = id` clause since the docid candidates should already have some selectivity. Turns out sqlite doesn't do that :(

This method (efficiently) builds a list of all document ids (with slightly worse selectivity) that match the given search term, and then selects from that list in the outer clause.

For two thousand messages in my mailbox, this change makes an empirical difference between ""five seconds for search"" to ""instant search"". Also, MessageListFragment has a quirk that clicking on a message reloads the query, which amplifyied this wait time to affect pretty much every click."
k9mail/k-9,closed,Edit Folderlist,[],Is there a way to edit the folder list and show only the folders you need the user to see?
k9mail/k-9,closed,Attachements not shown correctly for Emails signed with Thunderbird / Enigmail,"[Label(name=""needs info"")]","### Expected behavior
K9 should detect Attachements ""as they are"", not ""merge"" attachment and sig info into one ""corrupted"" attachment

### Actual behavior
K9 does not show/detect attachments correctly  for Emails which are signed by Enigmail from Thunderbird (on Linux). Instead of e.g.  two attachments like ""a.pdf"" and the corresponding "".SIG"" file for this a.pdf, K9 shows an attachment like ""utf-8""%4F%46.......... 
un-openable from android

### Steps to reproduce
1. create email which attachment in Thunderbird, PGP addon Enigmail installed
2. sign email
3. send email
3. view email in ""sent"" imap folder a) from Thunderbird: fine b) Roundcube Webmail: fine c) K9: ""corrupted""

### Environment
K-9 Mail version: 5.206

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (dovecot on Linux)"
k9mail/k-9,closed,recognizing offline state,[],"Currently when I'm offline (ie. in flight mode) and write an email, there is an non-userfriendly message (""Failed to send some Message"" following `GaiException: android_getaddrinfo failed…`).
Additionally the mobile LED will blink nervously in read.

As there are various good reasons to be offline (often explicitely known anyway by the user) it would be more useful to show a note like ""Hey, I can't reach the server at the moment but it will be send when you are online again."".

I mean, beaing offline isn't an error. That's one reason the outbox is for. And k9 mail is a native client that could handle it gracefully anyway.

PS: I love the recent design changes 👍 "
k9mail/k-9,open,Error decrypting email,[],"I received an email which I can decrypt with Thunderbird/Enigmail but K-9 Mail fails saying `error decrypting email`. How to find out what's wrong? The email looks like this.

```
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary=""----=_Part_47_423025285.1491209971352""
X-ASIC-VIRUSCHECKED: YES

------=_Part_47_423025285.1491209971352
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

-----BEGIN PGP MESSAGE-----
Version: Cryptix OpenPGP 0.20050418
```

Some data...

```
-----END PGP MESSAGE-----

------=_Part_47_423025285.1491209971352
Content-Type: application/octet-stream; 
	name=""Some File Name.pdf.pgp""
Content-Transfer-Encoding: base64
Content-Disposition: attachment; 
	filename=""Some File Name.pdf.pgp""
```

A lot of data...

```
------=_Part_47_423025285.1491209971352--
```

### Environment
K-9 Mail version: 5.206
OpenKeychain version: 4.2.4

Android version: 4.2.2

Account type: IMAP
"
k9mail/k-9,open,Add actionbar to Preference Screens,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When we go in the parameter, what ever the correction or change that we made in the setup, we should be able thereafter to go back to the previous screens until we reach our emails.

### Actual behavior
For example, imagine that we select account parameters. From that screen, we have general parameters, emails reading, files, storage and so on.  But we dont have the arrow on the left up conner in order to go back the previous screen.

To exit from this screen i have to restart my cell.  When I select your software, I am back in the email screen.

is it possible to correct this problem

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Add gravatar support,[],"Try to load gravatar as contact's picture as fallback. And a option in settings is added.

However it is hard to get `Account` object in `ContactPictureLoader`, so signatures of many methods are modified for passing the `Account` object to `ContactPictureLoader`. It will be better if there is a way to get `Account` object directly anywhere."
k9mail/k-9,closed,BCC's email is there in the place in drafts option,[],"Well to me there seems no proper issue there .. I downloaded the coded .. built the app and boom there was it all working perfectly... I am for sure can work on the design of it to make it better.

"
k9mail/k-9,closed,Downloading complete message removes star,"[Label(name=""bug"")]","K9 5.205 
If I star message then press the button to download the complete message the star disappears"
k9mail/k-9,closed,Folder list does not get updated anymore,"[Label(name=""invalid"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
If I select Menu > Folders > Refresh Folders, I expect the list of folder to be synced with the server.

### Actual behavior
All ""new"" folders created on the server (I use an IMAP account via TLS) are not synced anymore. I have a folder list in K9 on my Android Samsung S5 device showing all folders created until last year, but new folders are not shown/added anymore. Maybe it has to do with the fact that I have more than 330 folders in this account?! I checked the server session logs and the folder list is sent from the server as expected.

### Steps to reproduce
1. Add a new folder on the IMAP server
2. select Menu > Folders > Refresh Folders

### Environment
K-9 Mail version: 5.206

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP via SSL/TLS
"
k9mail/k-9,closed,Implementing folder tree,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue
DONE

### Expected behavior
Tell us what should happen: browsing through the folder list when moving a mail is really boring and error-prone on a smartphone. Implementing a folder tree would be really useful and many basic file explorers shows the path to follow: 1st level folders as a list, then select one folder display 2nd level folders within, etc.

### Actual behavior
Tell us what happens instead: very, very, very long list of folders when you've fully organized your mailbox!

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: NEXT? ;-)

Android version: ALL

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Thanks in advance!"
k9mail/k-9,closed,Issue #1857 : Fix bcc field hidden in drafts,[],"Please ensure that your pull request meets the following requirements - thanks !

* Follows our existing [codestyle](https://github.com/k9mail/k-9/wiki/CodeStyle).
* Does not break any unit tests.
* Contains a reference to the issue that it fixes.


"
k9mail/k-9,closed,Is there  a way to not enable auto sync?,[],i cant seem to find the option
k9mail/k-9,closed,Huge Issues-Android Client to IMAP,[],"So I use K9 Mail because it is seamless for my Squirrlmail corporate email and my personal GMAIL.  I had issues beginning last night as I got a message that my Authentication failed.  I could not log back in, and deleted/reinstalled the app this morning.  It still took several hours to connect, even though my laptop (windows 10 utilizing Outlook 2010 as the client) had no issues.  After FINALLY getting my phone to connect, it once again stopped connecting and I get this upon a sync ""ErrnoException: open failed.
I use the app a lot because I am on the go quite often, and I am thinking I may have to go to another app for my Corporate email?"
k9mail/k-9,closed,Add option to clear account passwords,[],"Similar to  #677, but much much simpler. Right now, to clear account passwords, you need to

1. click account settings
2. click fetching mail
3. click incoming server
4. click password field
5. delete all the text
6. input a single random character
7. click next
8. wait for authentication failure
9. click ok
10. click back
11. click sending mail
12. repeat steps 4-10.

...

19. Done!

Instead of all these steps, there should be an account option similar to the existing one ""clear messages"", which does ""clear messages & passwords"", or ""clear passwords"", which mostly just automates the steps above.

This would go a long way toward making it easier to use k9 with greater security like webmail: log in, check mail, log out, now mail is securely not stored or accessible from the device.
"
k9mail/k-9,closed,#705 Resolved voice dictation for mail composition,[],"Implemented voice recognition for composing mail.
- Added mic button in message_compose.xml
- Updated MessageCompose.java
- Gave permission in Androidmanifest.xml
- Added xml file named dialog_matches_flag.xml

"
k9mail/k-9,closed,K9 does not reject expired SSL certs / warnings could be more user-friendly.,[],"Hi,

I think k9 is failing to reject expired (self-signed) SSL certificates, **and/or** the warnings have not been clear enough. 

I noticed this when I installed claws-mail on my laptop:

![ssl](https://cloud.githubusercontent.com/assets/604955/24524465/8605edae-158e-11e7-9408-7af770c844cf.png)

At first I didn't believe what I was seeing, as `mbsync` (an IMAP synchroniser I am using) was not complaining, but then I went to the server:

```
$ openssl x509 -text -in dovecotcert.pem -noout
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number: XXX
    Signature Algorithm: sha1WithRSAEncryption
        Issuer: C=XXX, ST=XXX, L=XXX, O=XXX, OU=IMAP server, CN=XXX/emailAddress=XXX
        Validity
            Not Before: Dec 27 00:42:30 2014 GMT
            Not After : Dec 26 00:42:30 2016 GMT
...
```

It has indeed expired! (so we have a side issue for `mbsync` here too, I'll be raising a bug)

I don't recall ever seeing K9 warn me that the certificate has expired. 

I've just deleted the account from K9 and re-added it. This is what I see:

![k9](https://cloud.githubusercontent.com/assets/604955/24525213/642927f2-1591-11e7-8b90-618aec41130a.png)

There's a subtle issue here. I expect to see a warning about the certificate being invalid due to it being self signed. People self sign all the time, and it's generally OK as long as you check the fingerprint matches. However, if the certificate is expired, that's another arguably more severe matter. I wonder if K9 should make a distinction.

A question I can't yet answer is: what happens if the user initially sets up an IMAP account, accepts a self-signed but current (unexpired) SSL cert, then later the cert expires. This must have happened to me at some point, yet I don't recall K9 warning me (that's not to say it didn't but perhaps it wasn't explicit enough)? Does it just accept a cert forever more?

### Expected behavior

When making an account:

 * Explicitly warn the user if the signer is invalid.
 * Give a separate explicit error message if the certificate has expired.
 * If the user dismisses the warning that the cert is expired, warn again later (say once a day)? Maybe too extreme?

After setting up an account:

 * Warn explicitly when a previously accepted certificate expires (sorry if it turns out K9 does do this, but I missed the warning. Arguably, if I missed it, it wasn't clear enough)

### Environment
K-9 Mail version: 5.206

Android version:66.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

The server side is dovecot.

Thanks
"
k9mail/k-9,open,Line wrap of the email content preview,[],Just one line wrap between the corresponded and the email content preview in the message lists would make it so much clearer for the eyes!
k9mail/k-9,closed,inclusion of simple security features,[],"Keeping in view of the interests of the end-users,it would be great to work upon simple tools that would enhance email experience. Like inclusion of a link scanner to scan for potentially harmful links. Another tool will be scanning for malware within archives using signature matching.A string search algorithm may be used to match keywords in mails for unwanted mails (and ask for a permission) before they are opened by end-user. These are simple tools but will be of great help for a better client experience. We may take help from open source antivirus engines such as Clamav to accomplish our task.

### Expected behaviour
Decrease in online frauds.
Decrease in mail bombing like activities and associated attacks by hackers.
Better user experience."
k9mail/k-9,closed,Clean up Timber string format arguments,[],"

"
k9mail/k-9,closed,fix prefilled name in RecipientLoader,[],"I missed a misbehavior in #2264, simple fix in this PR."
k9mail/k-9,open,K9 UI error when sending encrypted email with attachment,"[Label(name=""bug"")]","### Expected behavior
1. Create email in message compose screen, enter recipient, to which encrypted email is to be sent.
2. Chose attachment of bigger file size, i.e. 5 MB, so that encryption takes some time on the device.
3. Hit the ""send"" button.
4. The message compose screen should close and K9 should work in the background sending the email (this is the actual and correct behaviour when an **un**encrypted email with a bigger attachment is sent.)

**However, when encrypting an email with a bigger attachment, the Actual and incorrect behavior
is the following:**
#### Steps to reproduce
1. Create email in message compose screen, enter recipient, to which encrypted email is to be sent.
2. Chose attachment of bigger file size, i.e. 5 MB, so that encryption takes some time on the device.
3. Hit the ""send"" button.
4.  ""Wheel will turn"" and K9 together whith Openkeycheyn will encrypt email. However, the message compose screen remains open, which is confusing for the user, because when sending an **un**encrypted email it ussually closes straight away after hitting send buttonc(see above).
The user is therefore inclined to hit the ""send button"" multiple times to make sure K9 has acknowledged the sending command, which results in the same email to be sent out to the same recipient multiple times.
This is confusing.

### Solution:

The email compose screen should close immediately after hitting  the send button of an encrypted email with a bigger attachment and K9 should process the email in the background, because this is the usual behaviour for unencrypted emails with attachments.
Anyways the message compose screen should not allow any buttons to be still pressed to trigger multiple sending processes of the same email.

### Environment
K-9 Mail version: 5.206
Openkeychain: 4.2.4 (42400)

Android version: 4.4.2 and others

Account type IMAP
"
k9mail/k-9,closed,Unable to connect to SMTP-server,"[Label(name=""enhancement""), Label(name=""security"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
K9 should connect to my smtp server

### Actual behavior
K9 says ""Unable to connect to server ()""

### Steps to reproduce
1. Make an account with type IMAP
2. Choose SMTP server ""smtp.fsdata.se""
3. Choose STARTTLS, port 587, normal login
4. Press Next

### Environment
K-9 Mail version: 5.206

Android version: 6.0.1 (CyanogenMod on Sony Xperia Z5 Compact)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

### Other
The same settings work great in the standard Android app ""Mail""."
k9mail/k-9,closed,Question ,[],"I'm ok to transform some playstore french comment in issue here.
Do you think it's a good idea ? "
k9mail/k-9,closed,Issue with login in,[],"

### Expected behavior
Logging in to the email account

### Actual behavior
Shows a username or password incorrect error
I checked the password for many times. It may be because of spaces in the password too.

### Steps to reproduce
1.Logging to a gmail account with a password with spaces. Through k9


### Environment
K-9 Mail version:

Android version:4.4.2

"
k9mail/k-9,closed,Virgin Media recommends a single set of mail settings for all its domains,[],"Virgin Media now uses a single set of settings for its domains. This is documented on their website:

https://help.virginmedia.com/system/templates/selfservice/vm/help/customer/locale/en-GB/portal/200300000001000/article/HELP-2203/Email-Settings-for-all-Virgin-Media-domains

And announced here:
http://community.virginmedia.com/t5/Email/Email-settings-change/m-p/3369438


"
k9mail/k-9,closed,Auto Synchronization does not work after phone change with export/import of settings,"[Label(name=""needs info"")]","### Expected behavior
New incomming e-mails should be displayed at the notificationbar of the phone, if K9 is running in Background.

### Actual behavior
New eMails are synchronized only if I start the UI of K9


### Steps to reproduce
I changed my phone from S5 mini (same android version) to Huawei Y 6 II compact. Therefore I made a export of the whole K9 Settings and an import to the new phone.
Since this thime the Problem started. 
All Settings are unchanged, synchronization is still activ.
Manual synchronization is running well.

### Environment
K-9 Mail version: 5.206

Android version: 5.1

Account type (2 different IMAP accounts):
"
k9mail/k-9,open,Add option to only the message (structure and viewable parts) leaving attachments on the server,"[Label(name=""enhancement"")]","when click download complete message ,all attachments been downloaded contains large attachments.That will cost a lot of user's network traffic.

### Expected behavior
when click download complete message,only show the complete message include pictures.

"
k9mail/k-9,closed,Fixes to various lint-detected issues,[],"Fixes #2271 
Rebased version of #2376 

"
k9mail/k-9,closed,Auto select identity based X-Original-To / Delivered-To / X-Envelope-To / TO / CC,[],"Rebase #2354 
"
k9mail/k-9,closed,Change title and explanation for read message colour change,[],"Fixes issue #1232

Replaces #2323 

"
k9mail/k-9,open,Update openpgpapi lib,"[Label(name=""enhancement""), Label(name=""third-party integration"")]","The version of openpgpapi is 9, how can I update that to the latest one i.e. 12?"
k9mail/k-9,open,Add drag and drop functionality to the recipient views,[],"


"
k9mail/k-9,closed,Emailing web page doesn't include page title in subject,"[Label(name=""invalid"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When I share a web page through K-9 I expect that the subject header will be populated with the page title.  For instance, emailing this page should have a subject of ""New Issue - k9mail/k-9.""

### Actual behavior
The subject header is blank.

### Steps to reproduce
1. Open web page in Chrome.
2. Share article, select K-9 Mail.
3.

### Environment
K-9 Mail version: 5.206

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Root classes cleanup,"[Label(name=""cleanup"")]","More cleanup, particularly of mFieldNames. This is almost 100% android studio refactoring, and should contain no semantic changes whatsoever."
k9mail/k-9,open,Request: prefered mode pgp/inline or pgp/mime,[],"Many of my friends use the iphone for correspondence. The process of reading pgp/mime causes certain difficulties for them (download the full letter and decipher each attached file one by one). Since our messages rarely include more than a few words, we prefer to use pgp/inline. Now I have to manually switch the mode each time, but I want to do it only once. In some other programs (Claws, Enigmail) the encryption mode is selected automatically, based on the presence of attachments or configured rules for each recipient. This method is the most comfortable for the user, but also the most difficult to implement. Therefore, I want to have a choice in the settings of which mode to use by default."
k9mail/k-9,closed,Move from HtmlCleaner to JSoup for viewing messages,[],Seems to work for most stuff... Testing appreciated.
k9mail/k-9,open,Next-/previous-buttons in E-Mail view no longer work properly (since Update 5.206),[],"### Expected behavior
K-9 Mail should show the next respectively the previous message if the next-/previous-button in the E-Mail view are pressed (as in the previous versions of K-9 Mail).

### Actual behavior
Since the latest update which has been released a few days ago, the next-/previous-buttons on the bottom in an opened E-Mail stopped working correctly.
For example I've got 3 unread messages as well as 2 already read emails in my inbox listed in this order:

Message #1: Unread
Message #2: Unread
Message #3: Unread
Message #4: Read
Message #5: Read

If I open message #2 and press the ""previous"" button, K-9 Mail opens E-Mail #4 instead of E-Mail #1.
If I press ""next"" on message #2, E-Mail #4 is opened instead of E-Mail #3.
In the current version, I have to go back to the overview of all E-Mails and then select the next unread E-Mail manually.
Before the update, I could go through all unread mails comfortably by using the next-/previous-Button.

### Steps to reproduce
1. Mark some E-Mails in your inbox as unread and be sure to have some unread E-Mails.
2. Open up an unread E-Mail and click either the next- or previous-button
3. K-9 Mail jumps to the first already read E-Mail instead of going to the actual next / previous E-Nail.

### Environment
K-9 Mail version:
5.206

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,Edit and copy email to clipboard from address field #2364,[],"Procedure to copy address
1.click on the loaded address in the TO field.
2.Then Click on the headerName on the popup menu. 
3.Toast will arise confirming the copy. 


"
k9mail/k-9,closed,UTC time in quotes (Issue #2403),[],"Before, the time in the quoted message of a reply was always in the
local timezone, even when the ""Hide timezone"" setting was selected. Now,
when the option is enabled, that is changed to UTC just like the time in
headers. I also changed the description for the option in the English
strings.xml to better describe the new behavior.


"
k9mail/k-9,closed,Move GitHub templates into sub-directory,[],Tidy up the root directory a bit - move the GitHub project files into a `.github` directory per https://github.com/blog/2111-issue-and-pull-request-templates
k9mail/k-9,closed,Activity Testing,[],"Right now we have little testing of ""Android code"" (Activities, Fragments, etc). It's hard to justify requesting it in code review for new functionality because it would be far beyond the scope of the issue being fixed.

But we need to add it to prevent regressions and verify fixes people write.

I'm going to start by writing skeleton tests for MessageCompose, Accounts and MessageList. Once that's in place, we can start request testing for new features and fixes and gradually cover off more functionality.


"
k9mail/k-9,closed,sync/push broken with android 7.0,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
i should get notified of new emails

### Actual behavior
k-9 seems to go to sleep. Note that i have used the battery monitor advanced settings to tell it to not monitor k-9

### Steps to reproduce
1. wait for a little while
2. have new emails appear in my inbox
3. notice that k-9 doesn't see them and doesn't alert me

### Environment
K-9 Mail version:
5.206

Android version:
7.0
Account type (IMAP, POP3, WebDAV/Exchange):
imap
"
k9mail/k-9,closed,Fix K9RobolectricTestRunner,[],"As seen in testing, the path for the manifest is wrong.

"
k9mail/k-9,closed,fix: Save As Draft problem Issue #2433,[],"This is the fix for the issue #2433 

This is my first pull request. So if anything is wrong, pls let me know!

* Added and interface AttachmentListener at k9mail/src/main/java/com/fsck/k9/activity/msc/
* MessageCompose.java implements this Listener
* AttachmentPresenter.java calls this listenre after adding the attachment
"
k9mail/k-9,open,Single message notification could use contact avatar,[],"This is a possible fix for #2314 (it should be compatible with #2315 as well)


"
k9mail/k-9,open,include date of release in changelog,[],"please add the date/time of version release for each version in the changelog for a better overview of the dev. process/progress. 

thanks"
k9mail/k-9,closed,how to change helo,[],"i dont see why it is nessesary to include the local ip address of my device into an unencrypted mail header that goes around the world while being monitored by all its *** players, its more an security risc then anything good. Think of the dalec who could kill my sweet robot dog just because its (or hes i am not quite sure) sending its exact locations in all messages ;)... So could you add an option to change the string send as helo by k9mail to something else?

tuan"
k9mail/k-9,closed,Request post AUTH capabilities when not provided with them,[],"Fixes #2431 


"
k9mail/k-9,closed,K9 Syncing disabled or next sync 2 hours AGO,[],"Are they going to fix this issue that I see many others are having?

K9 was just updated today and I hoped the fix was in, but no, left the phone alone for about an hour and upon waking up k9 said next sync 2 hours AGO, tried a little later and the old syncing disabled was back.
I have tried everything, from whitelisting K9 from power savings to completely turning off that feature, no luck. I have tried MacroDroid to do things such as keep awake, turn wifi on and off, terminate the k9 process and after a delay open k9, and others all on a repeating 30 minute schedule, it still goes to sleep and k9 says syncing disabled, close and reopen k9 and it works fine. This started with Android 6.01 and got much much worse in 7.0
Thanks"
k9mail/k-9,closed,Cancelling Compose window not always requesting 'Save As Draft' option,"[Label(name=""bug"")]","THIS IS THE SAME AS #2120 (for v5.203) but that is closed and I dont know how to append/reopen.  This now applies to v5.206.

I confirm that the problem now resides on **5.206** despite supposed fix being 'applied' in 5.204.

""Save As Draft"" offering is inconsistent.

### Expected behavior
When browsing, for example the GALLERY on the device, and choosing a picture to 'share' through K9, a new email is generated with the photo attachment.  If the 'return'/back out button is pressed on the device, K9 prompts ""Save as Draft or Discard"" (allowing saving as draft).

### Actual behavior
If a fresh email is composed **from WITHIN** K9, and the  'return'/back out button is pressed, the email is unceremoniously discarded and no option to Save As Draft is offered.

### Steps to reproduce
As above

### Environment
K-9 Mail version: 5.206

Android version:  4.2.1

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,K9 and Android 7 - syncing disabled,[],"Samsung S7 Phone updated to Android 7.0 yesterday.

K9 v5.206

Following that K9 continues to download when syncing manually, but I am unable to change ""syncing disabled"" even though ""Background sync"" is set to ""Always"" in the global settings and all the accounts are set to poll regularly (between 1 and 30 minutes)
"
k9mail/k-9,closed,Request post-auth capabilities if not provided them in the OK AUTH response,"[Label(name=""enhancement"")]","### Expected behavior
Emails are pushed to my phone, because the IMAP server supports it.

### Actual behavior
Emails aren't pushed to my phone.

When I connect with openssl I see the following:

```
openssl s_client -crlf -connect imap.uni-stuttgart.de:993
* OK [CAPABILITY IMAP4 IMAP4REV1 LITERAL+] perdition ready on mail-proxy.tik.uni-stuttgart.de 00029957
a login ******** *************************
a OK You are so in
a capability
* CAPABILITY IMAP4rev1 LITERAL+ CHILDREN XAOL-OPTION NAMESPACE QUOTA IDLE
a OK CAPABILITY Completed
```

The perdition proxy does not announce IDLE, but after login the capability is announced. Does K9 check for capabilites after login?

### Steps to reproduce
1. Add email account from imap.uni-stuttgart.de
2. Don't receive emails via push

### Environment
K-9 Mail version: 5.206
Android version: 7.1.1
Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,Show contact avatar in single message notification #2314,[],
k9mail/k-9,closed,Added a pull request template,[],"I noticed that a lot of pull requests have code style issues, so I added a pull request template to help new contributors get their code merged faster :)"
k9mail/k-9,closed,"Close AccountSetup activity immediately after cancellation, fixes #2425",[],"A very short request, so I kept it in master. Closes the set up activity with the cancellation code immediately on press. Tested on Android 6.0"
k9mail/k-9,closed,Revert 2 master,[],
k9mail/k-9,closed,"#2329, urgent mail support",[],"A quick addition for urgent mail support, can be toggled from the
button in the overflow menu while composing,
When the message is received by the app on the other side, multiple
vibrations distinct from the normal is observed and the background of
lock screen notification is red.
For GSOC."
k9mail/k-9,closed,Setup should stop if user clicks to Cancel,"[Label(name=""enhancement"")]","**Expected behavior**
The setup wizard should be stopped if the user clicks to Cancel button in the left button corner of the screen.

**Actual behavior**
After clicking it, the setup wizard continues.

**Steps to reproduce**
1. Start to setup an account
2. Click one of IMAP or POP3
3. Cancel ""Checking outgoing server settings"" or ""Checking incoming server settings""

**Environment**
K-9 Mail version: 5.115

Android version: all

Account type (IMAP, POP3, WebDAV/Exchange): POP3, IMAP

**Screenshots**
Screenflow in case of checking incoming settings:
![11](https://cloud.githubusercontent.com/assets/15123875/24225353/4f4f2d18-0f60-11e7-8d27-8d4e919dcd39.png)
![io2](https://cloud.githubusercontent.com/assets/15123875/24225352/4f4f368c-0f60-11e7-8c83-e7ec311e3591.png)
![i2](https://cloud.githubusercontent.com/assets/15123875/24225351/4f4ef492-0f60-11e7-8ad1-44ac3513b13c.png)

Screenflow in case of checking outgoing settings:
![o1](https://cloud.githubusercontent.com/assets/15123875/24225365/5d693ab0-0f60-11e7-94f3-eafde0e5a5e3.png)
![io2](https://cloud.githubusercontent.com/assets/15123875/24225367/5d69e76c-0f60-11e7-9209-572e99d9c869.png)
![o3](https://cloud.githubusercontent.com/assets/15123875/24225366/5d6991f4-0f60-11e7-8945-8e2b3b3b0c5e.png)

"
k9mail/k-9,closed,Setup process should not continue if authentication fails,[],"**Expected behavior**
The setup process should not be able to be continued if the account authentication fails. As the username of password is not correct, there is no point in perfoming the setup because the account would not be working.

**Actual behavior**
The setup process can be made to continue if the authentication fails.

**Steps to reproduce**
1. Start to create a new account
2. Type wrong username or password
3. Click next
4. Choose POP3
5. Click next

**Environment**
K-9 Mail version: 5.115

Android version: all

Account type (IMAP, POP3, WebDAV/Exchange): POP3

**Screenshot**
![1](https://cloud.githubusercontent.com/assets/15123875/24224658/971d4836-0f5c-11e7-962b-12011a40bc23.png)
"
k9mail/k-9,closed,Move k9mail-library to Timber (follow-up),[],follow-up of #2405
k9mail/k-9,open,PGP block sent as HTML is not recognised by K-9 as encrypted data,"[Label(name=""needs info""), Label(name=""security""), Label(name=""third-party integration"")]","When an email encrypted using symantec encryption desktop is send via outlook (by copying and pasting the pgp block), the k-9 client cannot decrypt it because it fails to recognize the data as a pgp block. If we click ""Send as plain text"" in outlook while sending the same pgp block, it is recognised correctly. Please find attached screenshots for same:
![screenshot_20170321-160337](https://cloud.githubusercontent.com/assets/22820969/24174910/a484597c-0e50-11e7-874a-fa057a38dbaa.png)
![screenshot_20170321-160047](https://cloud.githubusercontent.com/assets/22820969/24174911/a49b66d0-0e50-11e7-9c00-48df6219a72a.png)

 "
k9mail/k-9,open,error reporting for invalid keys is bad,"[Label(name=""security""), Label(name=""third-party integration"")]","I want to reply to an encrypted mail (with an encrypted mail), and get this error message popping up. It disappears quite quickly, so I made a screenshot.

Anyone an idea whats happening?
![messageviewer_w14949](https://cloud.githubusercontent.com/assets/5717703/24172590/03252d98-0e89-11e7-8ad3-5fde5e64e318.png)
"
k9mail/k-9,closed,Attach the Attachment to the top instead to the bottom,[],"When opening an encrypted mail - don't know whether this is the same behaviour as normal unencrypted mails - the attachment is at the very bottom of the mail. Uncomely in large mails.
Maybe you can put the attachments to the top?

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Vulnerability in securely logging in and Delay In Incoming Messages,[],"
### Expected behavior
Should Have logged in securely ,
Takes forever to connect to server for incoming messages

### Actual behavior
What happens instead - my gmail id tells me someone else is trying to gain access into my access and also when I select the option that ""I approve "" it tells me that it would leave my account vulnerable .

Inbox displays that there may be up to 25 new messages but none are being showed 

### Steps to reproduce
1. Login in to the app using gmail and then visit your gmail-inbox

1. Logged into the app and went to inbox 
(I am attaching screenshots to show what troubles I have faced)

### Environment
K-9 Mail version:

Android version:6.0.1

Account type : IMAP
![screenshot_2](https://cloud.githubusercontent.com/assets/22681330/24150919/b08d5b64-0e60-11e7-8252-cc8a69835d3d.png)
![screenshot-1](https://cloud.githubusercontent.com/assets/22681330/24150920/b095ba52-0e60-11e7-9609-f0e7a7759d6c.png)


"
k9mail/k-9,closed,Can not place K-9 Mail Unread Widget to the shortcut area of the home screen,[],"### Expected behavior
The shortcut area should allow the Unread Count Widget (envelope) to be placed there, like it works with the K-9 Mail Widget (dog).

### Actual behavior
The shortcut area does never allow the Unread Count Widget to be placed,

### Steps to reproduce
I tried it two ways:
1. Zoom home screen smaller
2. Choose ""widgets""
3. Open the K-9 Mail folder, choose the envelope-widget 
4. Drag it to shortcut area, let it fall
#### Steps to reproduce 2nd option:
After placing the widget on the home screen already:
1. Zoom home screen smaller
2. Choose the widget from home screen
3. Drag it to shortcut area, let it fall

### Environment
K-9 Mail version: 5.203 and 5.206
Samsung Galaxy S5 SM-G900F
Android version: 6.0.1
Account type (IMAP, POP3, WebDAV/Exchange): all IMAP

I have read [Can't place widget on home screen](https://github.com/k9mail/k-9/issues/1051) and [Widget cannot be placed on homescreen in Android 5.1.1](https://github.com/k9mail/k-9/issues/912) 
"
k9mail/k-9,open,Stop treating un-downloaded embedded images as attachments,"[Label(name=""architecture""), Label(name=""enhancement"")]","### Expected behavior
Picture in message body should not been treated as an attachment

### Actual behavior
when the picture in body can't been loaded completely , it will be it will been treated as an attachment.
when click download complete button, the picture in body will been displayed, but this attachment also existed.

### Steps to reproduce
1.Set account the maximum auto download messagesize  32kb; 
2.Send a mail contain pictures with another email account; 
3.Receive the mail in K9 mail;

### Environment
K-9 Mail version: 5.300-SNAPSHOT

Android version: Android 5.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,"""Database upgrading"" Forever!!!",[],"The k9mail client does not go beyond ""Database upgrading"" screen even after a day! This is similar to https://github.com/k9mail/k-9/issues/1947 but still prevalent in v5.205 and also v5.206 after upgrading k9mail from fdroid repo.

### Expected behavior
Should display the email list in the k9mail client

### Actual behavior
After an update of the k9mail client, it stops working with only displaying ""Database updating..."" forever. Screenshot at http://picpaste.com/geeDAaIT.png

### Steps to reproduce
1. Upgrade to v5.205 or v5.206 of k9mail client from fdroid repo

### Environment
K-9 Mail version: v5.205 and v5.206

Android version:

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Changes done with elapsedRealtime(),[],
k9mail/k-9,open,New feature proposal: Show new mail instead of unread mail (notification),"[Label(name=""bug""), Label(name=""enhancement"")]","### Expected behavior
If I have K9mail check for new messages every 60 mins, it comes back every 60 mins saying 100 unread messages. I would have thought the expected/desired behaviour is to say 1 new message (since last sync) or don't notify if 0 new messages since last sync.

### Actual behavior
There is no such button.

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1
"
k9mail/k-9,closed,Used SystemClock.elapsedRealtime() to measure durations,[],Used SystemClock.elapsedRealtime() to measure durations instead of System.currentMillis()
k9mail/k-9,closed,Used SystemClock.elapsedRealtime() to measure durations,[],replaced use of System.currentTimeMillis()  for measuring durations with SystemClock.elapsedRealtime()
k9mail/k-9,closed,Show new mail instead of unread mail (notification),[],"Hello,

If I have K9mail check for new messages every 60 mins, it comes back every 60 mins saying 100 unread messages. I would have thought the expected/desired behaviour is to say 1 new message (since last sync) or don't notify if 0 new messages since last sync.

Is this an option that I'm not seeing in K9 or is it not a feature?"
k9mail/k-9,closed,Fix 2 for drafts getting deleted during IMAP sync,[],"This is the second possible fix for issue #2164 and builds on the work submitted as part of PR #2407 (which I had submitted a couple of days back). This fix expands on the approach used in PR #2407 to also fix the issue of drafts not retaining cryptomode setting across draft editing sessions, described in the following scenario: 
1. User starts composing a message. 
2. User sets the cryptomode setting to one of the non-default ones (i.e., ""do not encrypt"" or ""encrypt"").
3. User saves the draft with the intention of continuing again later.
4. User re-opens the draft in order to continue editing further.
5. The cryptomode setting automatically gets reset to the default setting of ""encrypt if possible"".

I have gone through some of the material about why cryptography features are implemented in a certain way in k-9 (https://goo.gl/2SS2f2) but have not been able to find any reason for automatically resetting the cryptomode setting back to ""encrypt if possible"". It seems to me that, as long as users are given the option to change the cryptomode setting, the setting made by them for a draft should be retained across draft editing sessions (until they decide to change it again for some reason). 
This fix saves cryptomode setting along with the draft and then restores it when the draft is re-opened for further editing (and of course also prevents the deletion of secure message drafts during IMAP sync). Please let me know if any changes are needed. "
k9mail/k-9,closed,New feature proposal: Home button,[],"### Expected behavior
Always have a button that returns you to default home screen (where you see your accounts). I mean when you are seeing inbox/sent..whatever, you always can go back just with one-tap button.

### Actual behavior
There is no such button.


### Environment
K-9 Mail version: 5.203

Android version: 4.2.1 (tablet)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Highlight account you are browsing,"[Label(name=""enhancement"")]","### Expected behavior
Very grounding thing: To see email adress you are seeing (in folders view or inbox)!! There is only color distinction what makes it hard if you have 5+ email accounts to recognise and remember.

### Actual behavior
You open inbox and dont see what you opened..


### Environment
K-9 Mail version: 5.203

Android version: 4.2.1 (tablet)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Fix for drafts getting deleted during IMAP sync,[],"This is a possible fix for issue #2164. Specifically, the following scenario mentioned in that issue:
1. Create a draft email with text in the body.
2. Select ""encrypt"" or ""encrypt if possible"".
3. Save draft by selecting either ""save draft"" or by pressing back and ""save draft"".
4. Draft is gone after server sync.

As per the comment by @Valodim on Jan 7 in issue #1983, the intent, at least until draft encryption is implemented, is to save drafts of secure messages (""encrypt"" / ""encrypt if possible"") locally only and not upload them to the server during IMAP sync. But, as mentioned above, such drafts are getting saved locally initially but then getting deleted during the sync. (As per my testing, the issue of drafts getting deleted during sync seems to have been there for a while. In releases 5.108 to 5.200 (which I tested), drafts of secure messages were getting copied to the server in plain text (issue #711) and normal drafts were getting deleted upon sync (opposite of the #2164 scenario mentioned above)).

Hope my fix addresses the issue adequately. Please let me know if any further changes are required. 
(Note: I am planning to apply to k-9 as part of GSOC)"
k9mail/k-9,open,Enhancement: Quick Move functionality by mail sender,[],"### Enhancement
Hello,

I open a mail for reading. After this, I want to move it to a folder, so that the mail is not within my Inbox anymore. Therefore I created many folders based on the mail sender (people, online shops, newsletter, etc.).

Currently it is possible to move a mail via ... -> Sort -> Move -> Choose Folder. The mails are moved by me, after reading them, to the same folders again and again. Especially choosing the folder takes time, as I have many folders.

What I have in mind is an additional move functionality beside Move, let's call it ""Quick Move"". This Quick Move is based on the sender of the mail. The first time I choose Quick Move, it behaves like Move. I have to choose a target folder, where the mail should be moved to. This decision is automatically saved for the following Quick Move operations. With the help of this, I can quickly move a mail to a certain folder based on the mail sender. In the current Move, I have to choose the target folder again and again.

What needs to be covered in addition:

- Maybe this Quick Move can be placed at the ""..."" menu. This saves an additional tap.
- Administrate Quick Move folders. If I want to change or remove the target folder, I need some kind of menu.
- If a target folder is deleted, Quick Move should behave like Move, so I have to choose the target folder again. Maybe an additional hint comes up for the user (""Saved target folder for Quick Move does not exist anymore"").

### Environment
K-9 Mail version: 5.203

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP


Best Regards,

Mario"
k9mail/k-9,closed,Move k9mail-library to Timber,[],
k9mail/k-9,open,Add feature: only download image via Wi-Fi,[],"Fixes #1502 

Add a feature that only download images via Wi-Fi

Since this option should be parallel with ""Always show images"" (the option ""only download image via Wi-Fi"" should have its own value regardless of the value of ""Always show images""), so a separate checkbox is added."
k9mail/k-9,closed,Add an option to use UTC time in replying quotes,[],"There is already an option that allows using UTC time in headers to avoid metadata leaking, but the time shown in replying quotes are still in local timezone. We should also add an option to change this behavior."
k9mail/k-9,closed,"Mark IMAP messages as ""cache""",[],For the right backup.
k9mail/k-9,closed,[RFH] INBOX Message filters,[],"It would be great to have message filters which perform some basic actions on messages after being synced from the server. 

I use to redirect (move) messages to different folders based on the subject, the sender, the mailing list, etc. In *GNOME Evolution* actions like deleting, flagging, tagging should be performed to. "
k9mail/k-9,closed,Adjust long Privacy settings,[],
k9mail/k-9,open,"Data connections timeout, wifi works correctly",[],"### Expected behavior
Sync works and connects using data connection

### Actual behavior
Socket timeout exceptions when on data connection with recent update(noticed first on 5.203 version on Google Play store, updated to FDroid version 5.205 to see if bug, the app itself is not hitting mail server itself, nor is it hitting router, mail server does support current protocols, and is not using SSLV2/V3. Wifi networks anywhere work correctly, only via data connection does this fail. Other mail apps sync account correctly. 

### Steps to reproduce
1.Disable wifi, attempt to sync via data

### Environment
K-9 Mail version:  5.205

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Long titles in settings screen doesn't show completely,[],"### Expected behavior
Titles in settings screen shows completely

### Actual behavior
Long titles in settings screen doesn't show completely on my Nexus 5. It may confuse users.
![photo6219621937991231426](https://cloud.githubusercontent.com/assets/11607199/24025738/5fed31d6-0a8a-11e7-9b09-140cf19e3055.jpg)


### Steps to reproduce
1. Go to Settings -> Global settings -> Privaxy
2. Notice that long titles don't show completely

### Environment
K-9 Mail version: 5.203

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,Switch to OkHttp for WebDAV,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Currently we are using a deprecated form of the Apache HTTP library. In addition to being fairly cumbersome to test it's hard to use and not maintained in Android.

We should switch to using OkHttp for this. It's an Android standard HTTP library and should reduce much of the work we currently have to do ourselves.

In order to replace it you will need to test the code against a WebDAV server (ideally Exchange) - the unit tests passing is not sufficient for this size of change (and we don't have any true HTTP-based end-to-end tests in the same way we have for IMAP)."
k9mail/k-9,closed,Tidy up checkstyle and similar code quality issues in WebDavStore,[],
k9mail/k-9,closed,Checkstyle fixed for JisSupport,[],
k9mail/k-9,closed,Code style fixes for StatusCodeDetail,[],Just some tiny code style fixes from checkstyle analysis.
k9mail/k-9,closed,Copy email id to clipboard on long press,[],"Added ability to copy an email address from the recipient field to the clipboard if the recipient is long pressed. A toast is also shown to the user for visual confirmation.
For issue #2364 "
k9mail/k-9,closed,Generic uri parsing and fixing trailing slash issue,[],"I wrote a structure for uri parsing to solve #2265 in more elegant way. To supported a new uri type, a class implementing the UriParser interface has to be created. To be applied during HTML generation, this class needs to be ""registered"" in HtmlConverter together with all matching uri schemes.

To fix #1223, I rewrote the parsing of http uris including support for IPv6 addresses. I created a couple tests, but of course I maybe could have missed something. So do not hesitate to comment if you notice something."
k9mail/k-9,closed,Checking case insensitivity only for INBOX ,[],"rfc 3501 specify that you must provide case Insensitivity to INBOX folder and other folder may or may not be case sensitive depending upon the server implementation .
Added tests as provided by @philipwhiuk .

resolve Issue  #632"
k9mail/k-9,closed,Add a way to persist folder settings across device changes,[],"When I'm switching to a new Android device, and have to setup k9-mail again, I haven't yet figured out how to quickly import my per-folder settings, i.e., the display class for imap folders.

Would be nice if those settings could be either included in the settings file you can export, or just somehow put on the imap server?"
k9mail/k-9,closed,Use SystremClock.elapsedRealtime() to measure durations,[],Issue #2318 Used `SystremClock.elapsedRealtime()` to measure time durations between two events instead of `System.currentTimeMillis`
k9mail/k-9,closed, SMTP pipelining support ,[],"Supporting SMTP pipelining .Issue #2338 
As @philipwhiuk described have also implemented the testes except the third one . I need @philipwhiuk  support here to implement that and also improve this commit . "
k9mail/k-9,closed,Make <hr> tags from their plain text equivalents. #2259 including tests.,[],"This is my inelegant attempt at squashing commits from #2301.

Process: (to not quite repeat)
> Somehow that PR got closed, probably something to do with the
> 
> > git push --force
> 
> I issued at around that time, which was probably by now redundant since the branch had been recreated locally at least twice by that time.
> [http://stackoverflow.com/a/5201642](url) was probably best, if I wasn't also inadvertently making more commits in my flow:
> > git reset --soft HEAD~9 &&
> > git commit"
k9mail/k-9,closed,Update build tools,[],Continuation of #2372
k9mail/k-9,closed,Bad UI when No Mails found with Search Query - No option to Edit Query and Re-Search for Mails.,"[Label(name=""duplicate"")]","### Expected behavior
1.While searching for a query to find an Email if we are not getting any results then we should show user that No Results found with this query and at the same we should provide them an option to edit the query and re-search for mail.

2.Suppose a user accidently put a wrong spelling then they should have an option to edit the query in the same page and Re-Search.

### Actual behavior

![whatsapp image 2017-03-13 at 05 08 08 1](https://cloud.githubusercontent.com/assets/18400951/23837262/67b31264-07ab-11e7-93fb-a65dccd74cdc.jpeg)
![whatsapp image 2017-03-13 at 05 08 08](https://cloud.githubusercontent.com/assets/18400951/23837261/67b0a826-07ab-11e7-80f6-476dc960336c.jpeg)

While search if we are not getting any result then we are showing an Empty Page and user only have an option of going back and then selecting Search option again to search for a query with correct Spelling or so.

It involves 3 Steps for Re-Searching -

1. Go back to mail list .
2. Select Search Again
3. Type Query and Search

This can be reduced to a single step - 

Just edit query and Re-Search on Same Fragment.

### Steps to reproduce
1.We Should give Edit text in the Top of Search Fragment to Edit Query or Re-Search if No Results Found.
2.We should show to user via a Png or just text that No Results found for your Query ""TestQuery"".

### Environment
K-9 Mail version:
5.203

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
All"
k9mail/k-9,closed,"No popup and Confirmation while Deleting, Spam any Email",[],"### Expected behavior
When deleting an Email either from list or from inside an Email there should be a popup saying are you sure you want to Delete the Email ??
Asking Delete or Cancle to User will reduce chances of Accidental Deletion of Email.

### Actual behavior
When we are deleting an Email its not asking for Confirmation and its deleting it directly.

### Steps to reproduce

1.Need to check why ConfirmationDialogFragment is not being shown while deleting.
2. Fix the issue that is causing it as its not even shown while moving to Spam.

### Environment
K-9 Mail version:
5.203

Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
All"
k9mail/k-9,closed,Added back button to the account setup start page,[],"Related issue : #1586 
"
k9mail/k-9,closed,Use Storage Access Framework for settings export,[],"On API 19+ devices the Storage Access Framework will be used to allow the user to specify where the settings file will be saved.

This continues the work started by @GoneUp in PR #2256."
k9mail/k-9,closed,login with Gmail failed with unclear message,[],"### Actual behavior
When login with Gmail account I got this error message 
`username or password incorrect (command: *sensitive*; response: #3# [No,[ALERT],Please login via web browser: http://support.google.com/mail/accounts/answer/78754(Failure)])`
 which is not a very useful message.
after searching on google I found the solution is to https://www.google.com/settings/security/lesssecureapps
and enable access for less secure apps.

### Expected behavior
I should log into Gmail without much trouble, I know this might take a lot of time;
so I propose at least in the mean time to show the user more meaningful name with the link to this [page.](https://support.google.com/accounts/answer/6010255) as it's not convenient for first time user to search the web for a solution.

### Steps to reproduce
1. Login with Gmail account with [lesssecureapps](https://www.google.com/settings/security/lesssecureapps) turned off.


### Environment
K-9 Mail version: 5.205

Android version:6.0, 7.0, 7.1

Account type (IMAP, POP3, WebDAV/Exchange): Gmail
"
k9mail/k-9,closed,Continue to support old 'search' extra in MessageList Intent,[],"PR #2169 changed the format of the search extra in the Intent used to start the message list. But when a user had an unread widget on the home screen the system would hold on to a PendingIntent with a search extra in the old format. That's why opening the app using the unread widget would crash.

I re-added support for the old extra. A reboot recreates the PendingIntent for existing unread widgets (then using the new format). That's why there's an expiration date that is not too far in the future.

Fixes #2282"
k9mail/k-9,open,Adding Mail Scheduling,[],"Related issue :  #688 

I added a menu item to the compose screen which leads to a preference screen to allow the user to select the date and time to send the mail. The mail remains in the Outbox like normal until it is sent.

![schedule_mail](https://cloud.githubusercontent.com/assets/17197902/23826268/2d50c3d8-06bf-11e7-812b-0614f887146a.png)
"
k9mail/k-9,closed,Non technical person can't create his/her account,[],"for setting up new account pre req is there should be my account at gmail or ymail or any mail. than that account should link with k-9 mail. the mails that i send from k-9mail are secured.
Let me suppose that i am a person having not enough knowledge about tech things than how i know what type of account i have? is it IMAP or POP3 or WebDAV.
### Expected behavior
when user signup it should signup no details required where his/her account is IMAP POP3 or WebDAV. 
### Actual behavior
If i put my email address and password and try to registered my account not registered even my address and password is correct. than i should enter manual settings. and where i found three types. i don't know what was my account type.?

### Environment
K-9 Mail version: 5.115

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange): all
"
k9mail/k-9,closed,Gmail App Password Fails,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
On entering google app password to K9, account should log in. 

### Actual behavior
Getting 'invalid username or password' alert from K9

### Steps to reproduce
1. In a working K9, that is able to login to gmail, export settings. 
2. In new K9 phone, import K9 settings
3. New K9 asks for gmail password
4. Go to google account and generate new app password
5. Enter new app password to new K9

### Environment
K-9 Mail version: 5.203

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
Gmail Imap"
k9mail/k-9,closed,Fixes to various lint-detected issues,[],"Hi @philipwhiuk, I have made the changes accordingly.

1. As mentioned, this will be fixed by the change to Material Design and I did not make any changes to it.

2. For the fixed on 'android.text.format.Time' is deprecated, I used java.util for GregorianCalendar and Calendar instead of android.icu.util. Using android.icu.util will result in ""Call requires API level 24 (current min is 15)"", hence I believed it would be better for us to use java.util instead of making changes to the API level; which will cause the app to stop working properly on older devices.

3. As for Result of File.delete() is ignored, I have added some logging in the case of failure.

I have also inspected BinaryTempFileBody.java and K9.java with Lint and make some fixed on code style.

4. OutputStream warappedOut = null; has been indicated as redundancy by Lint.

5. Lint - Correctness suggested using ['apply()'](https://developer.android.com/reference/android/content/SharedPreferences.Editor.html#apply()) instead of 'commit()'. As commit writes its data to persistent storage immediately, whereas 'apply' will handle it in background. 

At the current stage, Lint has cleared BinaryTempFileBody.java of any warnings. While there is still some issues flag by Lint in K9.java which I will look into it later on.

Do take a look and give me some feedback as I am new to this and looking for learning opportunities by participating in GSOC this year under K9. Let me know if there are any issues and I will be glad to make any changes.
"
k9mail/k-9,open,Makes PGP sign-only mails very difficult,[],"### Expected behavior
I should have the ability to turn on PGP signatures easily without clicking through a dialog or having to enable an option in the settings, like in earlier versions.

### Actual behavior
I have to enable a per-account setting to even have the ability to enable PGP sign-only, and then I have to click through a dialog for each email I send..

Signing email is company policy, and I can't encrypt emails to a mailing list, so nagging me about why it's bad doesn't help; it only irritates me.  K-9 didn't previously do this, and it's a bad UI and bad UX.

### Steps to reproduce
1. Attempt to sign an email to a mailing list
2. Fumble around for a while
3. Find that there's a new setting in the options that must be enabled
4. Find that the previous checkboxes are no longer present; now a menu is required
5. Enable the option
6. Find that it prompts me with information I already know

### Environment
K-9 Mail version:
5.203

Android version:
7.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Upload emails back to empty server,[],"Hello.

Is there way to upload all messages from K9-Mail 5.203 back to new empty IMAP server?
I lost my IMAP server managed by Dovecot and now left only one copy of all my email — K9-Mail.

I checked flag not to delete local message deleted on server.
I create new folder called BACKUP. And tried to copy(move tried too) message from Inbox to BACKUP folder, but K9-Mail doesn't upload it to server as I expected it.

I'm very want to restore all this messages on server.

Thanks.

p.s. I had some idea to write X_REMOTE_COPY_STARTED flag to ALL messages in my .db and restart K9-Mail (I have root on my phone), but I see that 4 messages in my DB already has this flag but they weren't uploaded to server."
k9mail/k-9,closed,Handling editText hint text in AccountSetupNames activity,[],"Expected behavior:
The hint text information should be readable in case of both mName and mDescription editTexts in landscape and portrait mode, too.

Actual behavior:
In portrait mode, some character of the hint text cannot be shown in case of both mName and mDescription editTexts because it is too long.

Solution idea:
In case of mName, the hint text would be Give the account a name... and the text which is in the brackets (optional) would be the text of a TextView right below the mName EditText. The mDescription EditText would be implemented according to the same logic.

Steps to reproduce
1. Start the setup wizard
2. Reach AccountSetupNames activity

Environment:
K-9 Mail version: 5.115

Android version: all

Account type (IMAP, POP3, WebDAV/Exchange): all
"
k9mail/k-9,closed,"Update buildTools, androidCompileSdk, androidBuildTools and androidSupportLibrary to the latest version:",[]," buildToolsVersion to <25.0.2>
 androidCompileSdkVersion to <25>
 androidBuildToolsVersion to <25.0.2>
 androidSupportLibraryVersion to <25.2.0>

as the previous one were very old"
k9mail/k-9,closed,Reset/lost settings in irregular intervals,"[Label(name=""duplicate"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
K-9 Mail should keep its settings after setup

### Actual behavior
K-9 Mail resets itself/loses its settings in irregular intervals. I have to re-import all settings again and again. 

### Steps to reproduce
1. Install K-9 Mail
2. Setup K-9 Mail with your own settings
3. After some time if you start K-9 Mail it prompts if you want to import settings, after that it works for some time until the setup dialog comes up again.

### Environment
K-9 Mail version: 5.203

Android version: 7.1.1 with update from March 5th, 2017

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Word-wrap long lines in message view,[],"Searched for the issue at https://github.com/k9mail/k-9/issues?q=is%3Aissue and amazingly nothing relevant came up.

### Expected behavior
When viewing messages with long lines they should be forced to word-wrap to screen size no matter what the message formatting might say.

### Actual behavior
On some messages, notably messages from some web clients, one needs to scroll horizontally to read them.

### Steps to reproduce
1. Receive an email with long lines sent from a particularly uncompliant MUA
2. Open it in k9
3. See the lines run over the right border of the phone screen

### Environment
K-9 Mail version: 5.205

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Notification light no longer works after Android 7.0 update,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
As new emails come in the notification light based on the color you choose in the setting should flash even when your phone is in sleep mode (not using it and idle).
### Actual behavior
Tell us what happens instead
After the android 7.0 update new emails do show up but no notification light anymore. If I wake my phone I can see the email icon and a preview of the unread emails but no notification light. the only way I can see if I have new emails is to wake the phone
### Steps to reproduce
1. The notification light no longer flashes when new emails come in. I tried turning off the notification and back on still nothing. before the 7.0 update was working fine.
2.
3.

### Environment
K-9 Mail version:
5.203
Android version:
Android 7.0 - Samsung Galaxy S7
Account type (IMAP, POP3, WebDAV/Exchange):
imap"
k9mail/k-9,closed,Improving the UX in account creation,[],It is a pull request for issue: #2367 and #2373. 
k9mail/k-9,closed,Avoiding editText getting focus automatically when AccountSetupIncoming and AccountSetupOutgoing activities start,[],"Expected behavior:
The activities start without focus on editText. The user is capable of deciding on which editText he/she would like to modify so there is a need any editText to get focus automatically.

Actual behavior:
When the activities start, the first focuable editText gets the focus automatically. The related editTexts are the followings (in case of all acount types): mServerView(id: account_server), mPortView(id: account_port), mUsernameView(id: account_username), mPasswordView(id: account_password). In case of WebDAV/Exchange account type, there are additional ones (occuring in AccountSetupIncoming): mWebdavPathPrefixView (id: webdav_path_prefix), mWebdavAuthPathView(id: webdav_auth_path), mWebdavMailboxPathView(id: webdav_mailbox_path).

Steps to reproduce
1. Start the setup wizard
2. Reach AccountSetupIncoming and/or AccountSetupOutgoing activities 

Environment:
K-9 Mail version: 5.115

Android version: all

Account type (IMAP, POP3, WebDAV/Exchange): all
"
k9mail/k-9,open,Issue #1857 : Bcc recipient doesn't appear in drafts,[],Fixes #1857 
k9mail/k-9,closed,Unexpected behavior while navigating from Folders activity to Accounts activity,[],"While navigating from the Folders activity to the Accounts activity, if we use the button provided on the top-left corner to navigate through the folders activity to accounts activity it will work as expected. But here's the catch. It won't navigate to the accounts activity on tapping the back button of your smartphone. It will kill the application. The back button unexpected behavior happens only when tapping it first before going to Accounts activity. Detailed steps to reproduce this are given below.

### Expected behavior
On tapping back button for first time also it should navigate to the Accounts activity.

### Actual behavior
On tapping back button of your smartphone before using the on screen button provided in the application, it will close the application.

### Steps to reproduce
1. Launch the application and goto folders page.
![Folders activity](https://cloud.githubusercontent.com/assets/10852939/23765194/685b8e62-0526-11e7-9d68-1e303636146a.png)
2. Tap the back button of your smartphone and it will close the application.
3. Now relaunch the application and again follow the step-1 and this time instead press the back button provided on the top-left corner of the screen(Left side of Folders) to goto Accounts activity.
![Accounts activity](https://cloud.githubusercontent.com/assets/10852939/23765248/952c877a-0526-11e7-84da-12f7c185911b.png)
4. Now click on the account and get back to Inbox activity.
![Inbox](https://cloud.githubusercontent.com/assets/10852939/23765275/add4ee7a-0526-11e7-9491-c74bda6c2748.png)
5. Now again follow step 1-2. This time on tapping the back button of your smartphone you will be redirected to the Accounts activity instead of closing the application.
6. Now you can tap back button or click on provided button any number of times from Folders activity, it won't kill the application. Now close the application and relaunch again and tapping back button will close the application again. But if you follow steps 1-3-4 first then this won't happen.

### Environment
K-9 Mail version: 5.115

Android version: 5.1.1"
k9mail/k-9,open,Edit and copy email to clipboard from address field,"[Label(name=""enhancement"")]","
### Expected behavior
if I select an email in the address field and long press on it I want to copy it into my clipboard.

### Actual behavior
Nothing's copied

### Steps to reproduce
1. Long press on an email address

### Environment
K-9 Mail version: 5.205

Android version: all

Account type (IMAP, POP3, WebDAV/Exchange):
All"
k9mail/k-9,closed,failed to send some messages: SocketException,[],"I could not sort out how to search issues on mobile.  

### Expected behavior
check and send email

### Actual behavior
works once then always a socket exception error

### Steps to reproduce
1. k9
2. 2 circle button
3. wait

### Environment
K-9 Mail version: 5.205

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange): tls/ssl, imap


Both imaps accounts live on DreamHost.com 

I do not use android sync, nor do i autopoll folders.  I am starting to wonder if i should find a [new] vps dedicated to email. I am so done with ""free"" webmail
"
k9mail/k-9,closed,New User Login(2 step Verification),[],"With the raise of One time Password(OTP), 2 step Verification is a common thing that many users enable. But k9mail cannot be setup account if the user has enabled 2 step verification.

### Expected behavior
The app should help user login without much fuss.

Or

The app should inform user to check about 2 step verification. 


### Actual behavior
The app displays a Dialog Box saying:

Setup Could Not be finish.
Username or password incorrect.
(Command:*sensitive*;
response:#3#[NO,
[AUTHENTICATIONFAILED], Invalid 
credentials(Failure)])

### Steps to reproduce
1. Enable 2 step verification in your gmail account.
2. Try logging in through k9-Mail.

### Environment
K-9 Mail version:5.115

Android version:6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,open,Drop support for accepting untrusted certificates?,[],"The topic of how to handle untrusted certificates recently came up again, e.g. in #1818.

I was talking to @eighthave about this today. He suggested to simply drop support for accepting untrusted certificates. And the more I think about it the better i like the idea. It'll remove the choice users are most likely unqualified to make anyway and puts the pressure on the people who maintain the server. The server is the place where the problem needs to be fixed.
In the age of Let's Encrypt everybody has the option to use a valid certificate.

So my question: Is there a good reason why we should keep the ability to manually accept bad certificates?"
k9mail/k-9,open,Show text/plain part if text/html alternative hasn't been downloaded yet,"[Label(name=""enhancement"")]","When selecting mail to open, first few lines appear in main inbox:
![](https://s29.postimg.org/tmmk28khz/Screenshot_20170307_180050.png)
Howevet, after selecting it body appears blank unless you click download complete message:
![](https://s10.postimg.org/820jwmg15/20170308_154530.jpg)

### Expected behavior
Show body

### Actual behavior
Blank mail

### Steps to reproduce
1. Check mail
2. Select new mail
3. Body is blank unless download complete message
K9mail used to show parts of the message if message is long or complete message when short.
Now, recently, only shows blank message unless download is selected.

### Environment
K-9 Mail version: 5.205

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): POP
"
k9mail/k-9,closed,FR: Share only email title date from,[],"Hi

I use email sharing (passing content to othr apps) with other apps alot but one issue I have is that it shares the whole body of email and if the whole body is a long email then it is a mess given that it also shares the html code. For instance I share an email to my tasks apps to keep track of it and in most cases the title and the date of email etc is enough information for such tasks. And given that most apps wont be able to render html inside the whole email body looks like a mess in the apps. 

My feature request is for having one more share item where it says ""share basic"" and the other would be ""share all/advanced"" this way the user can decide what kind of email content he wants to share with other apps.

Or the other solution would be some kind of settings that dictaces how much info should be passed to the other apps. 

One solution would be to not to send any html and makse sure only rendered text passed along, if none of the ideas above is implementable.

thanks"
k9mail/k-9,closed,Double tap back button to exit from application,[],"It is a very common feature in many applications that when a user taps back button to exit, a Toast comes up with a message similar to ""Please tap back again to exit"". It is a feature request and I don't see a downside on adding this to the k9mail. Instead if the user tapped the back button by mistake, the user will have a second chance to really exit the application.

### Expected behavior
When user taps back button to exit from application a Toast comes up with a message ""Please tap back again to exit""

### Actual behavior
When user taps the back button the from Messages page (and other pages which will exit the application), the application exits."
k9mail/k-9,open,Syncing stops with Android 7.0,"[Label(name=""architecture""), Label(name=""bug"")]","Since upgrading to Android 7.0 K-9 often does not sync for hours, despite having it set up to sync every 30 minutes and keeping open push connections via IMAP. App power saving is explicitly disabled for K-9.

### Expected behavior
K-9 should sync as configured. It worked on the same phone with the same configuration with Android 6.0.1.

### Actual behavior
No sync for hours, status displays ""Syncing disabled"".

### Steps to reproduce
1. Start K-9
2. wait

### Environment
K-9 Mail version: 5.203

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,pgp/mime decrypt BUT to not show up anything,"[Label(name=""invalid"")]","Problem/Issue: After decryption, no content is shown at all.

The mail is build after this norm [https://tools.ietf.org/html/rfc3156](url)
and looks like:

```
from: address
to: address
subject: test.Multipart
MIME-Version: 1.0
Content-Type: multipart/encrypted; boundary=foo; protocol=""application/pgp-encrypted""

--foo
Content-Type: application/pgp-encrypted

Version: 1

--foo
Content-Type: application/octet-stream

-----BEGIN PGP MESSAGE-----
Version: GnuPG v1

hQGMA/X0t99 ...

-----END PGP MESSAGE-----

--foo--

```
Process of decryption works fine as far I can see 
(It asks for the key and shows red lock after; like in a MIME text/plain message).
But no plain text or html rendering is shown after, just nothing.

I can reproduce this every time. 

Just sending MIME text/plain with encrypted text works fine.

I use:
K-9 Version:5.203
OpenKeychain 4.2.4
Android Version: 6.0.1 

Note: Using Version 5.010 before, the text was shown in OpenKeychain after encryption."
k9mail/k-9,closed,[5.205] CertPathValidatorException,[],"### Expected behavior
Receive Email without error. E.g. Thunderbird on Linux does not throw any exceptions for same imap server.

### Actual behavior
Starting with 5.205, K9 throws an CertPathValidatorException for email provider freenet.de (see screenshot appended)

### Steps to reproduce
1. (create freemail account, if not exist)
2.  add mx.freenet.de as IMAP server, port 143/starttls
3. sync

### Environment
K-9 Mail version: 5.205

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
![screenshot_2017-03-07-13-09-46](https://cloud.githubusercontent.com/assets/15951622/23656058/5cef30aa-0338-11e7-87ac-6493f5032c14.png)
"
k9mail/k-9,closed,Auto select identity based on X-Original-To / Delivered-To / X-Envelope-To / TO / CC,[],As @Valodim suggested here checking for X-Original-To and Delivered-To also before To and Cc which would solve Issue #1407 .
k9mail/k-9,open,Alternative dark theme,"[Label(name=""enhancement"")]","Currently the dark theme uses a Holo grey gradient as a background.

 It would be great for an amoled friendlier option with a true black background to be available "
k9mail/k-9,closed,"Issue #2237 : Support ""delSp"" for format=flowed ",[],"As @Valodim suggested the ""delSp"" support has been implemented ."
k9mail/k-9,closed,"Issue #2237 : Support ""delSp"" for format=flowed ",[],"As @Valodim suggested the ""delSp"" support has been implemented ."
k9mail/k-9,closed,Feature request: Display folders using nested structure,"[Label(name=""duplicate"")]","### Expected behavior
I have a lot of folders in a nested structure. I would like K9 to support this structure in such A way that I can dive into child folders or go back to parent folders without looking at the entire folder list. this makes searching a lot more usefull. Also prevents a lot of elipses in the list of folders.

For example:
- INBOX
- SUBJECT 1
-- SUBSUBJECT 1
--- Even lower 1
--- Even lower 2
-- SUBSUBJECT 2
- SUBJECT 2

### Actual behavior
Currently when you look at the list of folders you get a long list of folders where the entire path is combined to a long string.

INBOX
SUBJECT 1
SUBJECT 1/SUBSUBJECT 1
...1/SUBSUBJECT 1/Even Lower 1
...1/SUBSUBJECT 1/Even Lower 2
...1/SUBSUBJECT 1/Even Lower 3
SUBJECT 1/SUBJECT 2
SUBJECT 2

### Steps to reproduce
Open a IMAP mailbox with a lot of folders and subfolders

### Environment
K-9 Mail version: K-9 Mail v5.205
Android version: 6.0
Account type (IMAP, POP3, WebDAV/Exchange): IMAP/Exchange
"
k9mail/k-9,closed,Cannot decrypt initial email ,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
K9 should decrypt email 

### Actual behavior
When I open this person's email open keychain opens, asks me for my password but the email is not decrypted. 

I have open keychain installed and selected as cryptography. This had been working up until I updated to 5.203.  If he  seems me a reply chain then when it is in part of a conversation it will decrypt but it will give me a red lock with 3 red dots.  I saw comments in another bug report from a month ago where someone else had this same issue. https://github.com/k9mail/k-9/issues/2147
The comment by richfirst sounds like what is happening to me. 

### Steps to reproduce
1. Someone seems an encrypted email 
2. Open email 
3. Enter password for open keychain 
4. No decryption 

### Environment
K-9 Mail version: 5.203

Android version: 
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
Pop account "
k9mail/k-9,open,Remove line wrap,[],"Wraping the line length to 1000 for SMTP is now not needed as
all emails are quoted-printable

quoted-printable has a maximum line length of 76 [rfc 2045](https://www.ietf.org/rfc/rfc2045.txt).
As this function is only called once to shorted it to 1000 characters length it is not needed.

I think this can now be reopened that foldAndEncode is implemented. This means that both the headers and the content is already less than a 1000 characters."
k9mail/k-9,closed,Cleaning MessageListFragment,"[Label(name=""cleanup"")]","MessageListFragment is one of the messiest classes in the code base.

It does way way too much.

* Interacts with EmailProvider, querying columns. To do this it has projection stuff.
* Formats the UI for the message list (so it is writing spans and stuff)
* Much more.

I've not tried to unpick the whole lot in one review. That would a nightmare.

This review is split into two commits:

The first

* Extracts the projection statics into a new class, MLFProjectionInfo
* Extracts some methods with no side-affects into MLFUtils
* Moves code out of the massive MessageListAdapter.bindView method into helper functions

The second:

Pulls the MessageListAdapter and MessageViewHolder out entirely."
k9mail/k-9,closed,Timber format error,[],"considerLastCheckEnd is a boolean.
Timber was trating a boolean as a time which will cause a crash on boot when called."
k9mail/k-9,closed,Can't turn on viewing emails in plain text,"[Label(name=""invalid"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,SMTP Transport improvements,[],"The main focus of this one was to implement #2339 
In the process I found lots of deprecated code and some bad behaviour that needed improvement.

Main changes:

1. All command usage now uses `executeSimpleCommand` which now returns the SMTP reply code and the full response data. Functions which expected a single line now properly handle multi-line responses (e.g. by joining lines together).
2. Failure responses are now interpreted with ENHANCEDSTATUSCODE support if the extension is set.
3. The `try{}catch{}` clean-up has been replaced with the Apache library function.
4. The style of error returned on failure is now better.

Tests cover the new functionality and some old stuff."
k9mail/k-9,closed,Fixed Issue#2136 Global display settings changes are not applied immediately ,[],"After this fix, now when the user changes some of the display settings (hiding the stars, showing the checkboxes, themes) and goes back, the new settings will be applied to the current folder immediately. This is the expected behavior."
k9mail/k-9,closed,Can't edit reply field,"[Label(name=""duplicate"")]",Can't edit email addresses in the reply field. Please fix this. They turn jnto uneditable squares which is a problem when I need to change the domain of the recipient and cannot copy or edit the email address.
k9mail/k-9,closed,Various website internal links point to the wrong URL,[],"The docs is missing https://k9mail.github.io/documentation/settings/account_settings.html is 404, missing. The server is returning a 404 error."
k9mail/k-9,open,Support SMTP CHUNKING extension,"[Label(name=""architecture""), Label(name=""enhancement"")]","Sending large messages over SMTP is often slow due to the need to line-wrap content.

The CHUNKING extension (RFC 3030) allows for a BDAT command to replace the DATA command. This allows for messages to be sent as continual chunks of data rather than line-wrapped.

It is supported by Gmail and other providers.

Implementation of this will need to be aware of the PIPELINE extension (see #2338) and  8BITMIME extension.

We will need to pick an appropriate chunk size. This might involve investigation of what other providers use (the RFC uses 100000 but it's unclear whether this figure was arbitrarily chosen). It seems over-the-top to allow it to be configurable.

Obviously if the extension instead present we will need to use the normal data command. 

Tests should cover use and lack of the extension, as well interaction with PIPELINING"
k9mail/k-9,closed,Support SMTP ENHANCEDSTATUSCODES,"[Label(name=""architecture""), Label(name=""enhancement"")]","The error messages we get back from SMTP are often hard for a user to interpret and analyse.

Gmail (potentially other providers too) supports RFC 2034 which provides enhanced status codes (defined in RFC 1893)

K-9 should detect this extension and better parse the error messages it gets as a result. 

This issue can just be about handling the extension codes and better managing the structured data we send back to the front-end in an exception.

Making better use of that data is a separate issue (likely in concert with the Design Overhaul).

In all likelyhood this probably means converting:

`535-5.7.1 Username and Password not accepted. Learn more at`
`535 5.7.1 http://support.google.com/mail/bin/answer.py?answer=14257 hx9sm5317360pbc.68`

    new SmtpFailureException(
          ResponseType.PermanentFailure,
          SubResponseType.SecurityOrPolicy, 
          Outcome.DeliveryNotAuthorized,
          ""Username and Password not accepted. Learn more at http://support.google.com/mail/bin/answer.py?answer=14257 hx9sm5317360pbc.68"")

The outcome of this individual issue will be the user seeing the proper message:

> Username and Password not accepted. Learn more at http://support.google.com/mail/bin/answer.py?answer=14257 hx9sm5317360pbc.68

Then a future issue can use the ResponseType structured data to display better notifications.

It should be fairly easy to test this given the existing test harness set up for `SmtpTransport`"
k9mail/k-9,closed,Support SMTP Pipelining,"[Label(name=""architecture""), Label(name=""enhancement""), Label(name=""next stable"")]","RFC 2920 - SMTP Pipelining

Many email servers (e.g. gmail, Live) etc support SMTP command pipelining. This allows for optimisation of SMTP network traffic

### Expected behaviour

We should change the behaviour of `sendMessageTo` to use pipelining to reduce round-trip-delay when we receive the PIPELINING extension.

### Actual behaviour

Regardless of PIPELINING extension status we always wait for each response

### Developer notes

The hard part here will be implementing SMTP command handle for asynchronous responses. Likely a queue of outstanding responses will need to be maintained.

There's ample opportunity for testing here - the SmtpTransportTest code allows you to provide dummy responses from an SMTP Server. There should be tests written for:

* Using pipelining when it is enabled
* Ensuring pipelining is not tried when it is not enabled
* Ensuring that we wait for all responses to pipelined operations before considering the message sent
* Ensuring that we handle failures to one or more pipelined operations properly (and still read the remaining pipeline responses)

The RFC contains examples for much of these: https://tools.ietf.org/html/rfc2920

### Steps to reproduce
1. Enable verbose logging
2. Send an email to Gmail or another server that supports PIPELINING
3. Analyse the traffic
"
k9mail/k-9,closed,Contact photo in token doesn't show,"[Label(name=""bug"")]","### Expected behavior
When composing email, the contact photo in token shows

### Actual behavior
The contact photo in token doesn't show at the beginning, but becomes shown if continue to type.

![photo6186176924578064303](https://cloud.githubusercontent.com/assets/11607199/23577281/f1cb2dc2-00f5-11e7-94df-ddfbcee0afb0.jpg)

### Steps to reproduce
1. Create a contact with photo
2. Compose a new email
3. Click the drop down item of the contact with photo
4. No photo shows in the token
5. Continue to type in the input box, the photo shows.

### Environment
K-9 Mail version: 5.203

Android version: 7.1.1, and I reproduced in API 23 emulator

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,"time out on folder sync, due to corrupt content-type header","[Label(name=""bug"")]","Folder synchronization should complete, not time out. (was previously working fine syncing > 400 messages)

### Steps to reproduce
1. synchronize a folder with a large message (>2mb) from SmarterMail.
2. wait for time-out

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type: IMAP on SmarterMail 13.0

K9 displays socket exception time out on my inbox when synchronization is set to 3 weeks back.  Folder sync is set to 64K.  A message approximately 3 weeks back that K9 hasn't sync yet includes a large 2.5mb PDF attachment. Not 100% sure but this message is an oddity as practically all other messages are under 256kb.
"
k9mail/k-9,open,Issue #1758 : Image attachment resize,[],"This PR implements image attachment resize feature. More details here : [#1758](https://github.com/k9mail/k-9/issues/1758)

![Global Settings](https://media.giphy.com/media/3ohzdQpo9vshleqHvy/source.gif)

![Local override](https://media.giphy.com/media/3ohzdP1gxSRVQdLhK0/source.gif)"
k9mail/k-9,open,Toggle between plain text and HTML mode.,[],"Included setting for switching to plain text mode.
Related issue #1397 .
"
k9mail/k-9,closed,No user detail,[],"No proper user profile is here. just sending and recieveing the mails is the main priority.
No proper user interface attraction
### Expected behavior
Proper user detail with profile picture and username and other details that are necessary

### Actual behavior
no detail just give email and password. and with extra difficult things. that a simple non technical user may not understand the things.

### Steps to reproduce
1.creating user profile class which shows at first in the start where user put his/her details.
2.changeing the layouts design and color. focusing the font size.
3.system decide which port is suitable for sending the mail.

### Environment
K-9 Mail version: 5.0.10

Android version: kitkat api level 15 or further

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Remove LineWarpOutputStream,[],"Wraping the line length to 1000 for SMTP is now not needed as
all emails are quoted-printable

quoted-printable has a maximum line length of 76 [rfc 2045](https://www.ietf.org/rfc/rfc2045.txt).
As this function is only called once to shorted it to 1000 characters length it is not needed."
k9mail/k-9,closed,LED blinking is work only when there is sound notification (Android 7.1.1),"[Label(name=""bug""), Label(name=""help wanted"")]","### Expected behavior
There should be LED notification when new mail arrives, even if the ringtone is set to none.

### Actual behavior
There is no LED notification when the ringtone is set to none. If I set it to something, there will be LED notification.

Same settings on Android 6.0.1 work as expected.

### Steps to reproduce
1. Set Blink LED, set Ringtone to None. -> at new mail arrival, no LED notification
2. Set Ringtone to something. -> at new mail arrival, there will be sound and LED notification
3. Set Ringtone back to None -> at new mail arrival, no LED notification

### Environment
K-9 Mail version: 5.203

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Add support for the UIDVALIDITY field in IMAP accounts,[],"Related issue : #1074 

I tested this by creating a new folder in my email account, deleting it and recreating it with the same name. All the emails in the folder were reloaded."
k9mail/k-9,closed,Add support for X-Priority header,"[Label(name=""enhancement"")]","Hi

this is only a feature request, not an issue.

There could be an alert generation. its like if when sender send mail from k-9mail. if thats an important email. so sender may mark it important. This mark activate the alert on the recipent screen. its like recipent may recive the mail but didn't check it. so alert generate after 5 seconds.this alert tells the recipent that there is an important email. you have to seen it. that might be an interesting thing.

K-9 Mail version: 5.010

Android version: Kitkat api 15+ 

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Thanks.

Bilal"
k9mail/k-9,closed,Use SystemClock.elapsedRealtime() to measure durations,[],"I tried to solve this , guide me if i  done any mistakes."
k9mail/k-9,closed,Used SystemClock.elapsedRealtime() to measure durations,[],"Fixed issue https://github.com/k9mail/k-9/issues/2318
"
k9mail/k-9,closed,Use_SystemClock.elapsedRealtime_instead_of_currentTimeMillis,[],Use_SystemClock.elapsedRealtime_instead_of_currentTimeMillis
k9mail/k-9,closed,Use system clock.elapsed realtime instead of current time millis,[],Use SystemClock.elapsedRealtime instead of System.currentTimeMillis
k9mail/k-9,closed,Replace instances of new Date().getTime() with System.currentTimeMillis(),[],Fix issue #2316 
k9mail/k-9,closed,Change title & explanation of 'Dim messages after reading',[],"Changed the string resources for the title and summary of the previously ""Dim messages after reading"" setting. "
k9mail/k-9,closed,Display subject correctly in expanded notifications,[],Fixes #1418 
k9mail/k-9,closed,Use SystemClock.elapsedRealtime instead of currentTimeMillis,[],
k9mail/k-9,closed,Fix issue #1232,[],Removes use of specific colors from the preference string.
k9mail/k-9,closed,Fix remote search use of quantity resource,"[Label(name=""invalid"")]","We were using the quantity resource incorrectly. This causes the search to fail (you get 'Remote search failed' even though the search itself works)

Possible cause of #1140 and #1985"
k9mail/k-9,closed,Use SystemClock.elapsedRealtime() to measure durations,"[Label(name=""being worked on""), Label(name=""good first issue"")]","There are a couple of places where we measure the duration of an operation. In those cases we should use `SystemClock.elapsedRealtime()` rather than `System.currentTimeMillis()` to get accurate numbers.
"
k9mail/k-9,closed,Close SMTP connections that failed to open properly,[],Fixes #1652 
k9mail/k-9,closed,Replace instances of new Date().getTime() with System.currentTimeMillis(),"[Label(name=""good first issue"")]",What the title says. `new Date().getTime()` is just a complicated way of using `System.currentTimeMillis()`.
k9mail/k-9,closed,Load all contact pictures by Glide,[],"For issue #2057 

Sorry for my carelessness on my last PR.

Use the way in [this](http://stackoverflow.com/a/31940058) to load bitmap by Glide (and the cache of Glide still works). So the contact's photo and the fallback pictures are all loaded by Glide now."
k9mail/k-9,open,Single message notification could use contact avatar,"[Label(name=""being worked on""), Label(name=""enhancement""), Label(name=""good first issue"")]","A follow-up to #2239

### Expected behavior
When there is only a single-item notification the icon in the opened notification could use contact avatar (if available) instead of default icon.

### Actual behavior
We see default icon (please see above issue for screenshots)

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): n/a"
k9mail/k-9,closed,Line wrap fix and unit test,[],"Unit test for LineWrapOutputStream.
Also found possible fix where a space causes it to find an earlier word boundary when not needed.

This is issue #2209"
k9mail/k-9,closed,Add folder selection in unread widget,[],For #1813 
k9mail/k-9,closed,fix issue 2057,[],"issue #2057 

I reproduced it and found the reason of this issue. `getView` method in `RecipientAdapter` was called several times. `getView(0, null, parent)` is called firstly (Suppose the view created for position 0 in the first call is view `A`), then `getView(1, A, parent)` and `getView(0, A, parent)` are called. Maybe it's a intended behavior of Android system. In most instances, the information of position 0 will be filled in View `A` again in the third call. But in our app, the contact photo is loaded by Glide asynchronously. So when the photo of position 1 is completely loaded, it will override the photo of position 0, especially when the contact of position 0 doesn't have a photo (the fallback image will be loaded rapidly).

And the reason why the wrong photo is corrected when the input continues is `getView` for view `A` is only called one time then.

The reason why the photo is correct if we see a wrong photo, clear the input, and then type the name again is that Glide has already cached the image and retrieve it more rapidly.

My solution is use a map to map the position to view explicitly :) Could this solution be accepted?"
k9mail/k-9,open,v5.205: sending mail using CRAM-MD5 does not work anymore,"[Label(name=""bug""), Label(name=""needs info"")]","Yesterday i updated my device using the f-droid repo. So i installed the v5.205 version of K9 mail. After the update sending mail on the accounts of my server@home is not working any more on my tablet (the iPhone using the same settings still works). And since i'm on holiday at the other end of the world a change on the server can be excluded. K9 mail reports there is no such auth method:

K9-Mail version: 5.205
Device make: asus
Device model: Nexus 7
Android version: 6.0.1

com.fsck.k9.mail.MessagingException: Authentication method CRAM-MD5 is unavailable.
 at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:340)
 at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:504)
 at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:496)
 at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3014)
 at com.fsck.k9.controller.MessagingController.access$1700(MessagingController.java:115)
 at com.fsck.k9.controller.MessagingController$21.run(MessagingController.java:2895)
 at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
 at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
 at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
 at java.lang.Thread.run(Thread.java:818)K-9 Mail version: v5.205

But this is simply wrong, and i checked it using telnet to port 25 of my server (ok, it's not the ssl port, but i tried to configure K9 mail to use the non ssl 25 port and runned into the same issue).

Android version: android 6.0.1 / Cyanogen 13.0

Account type (IMAP, POP3, WebDAV/Exchange): cyrus imap server, sendmail on ssl port using CRAM-MD5 authentication.

Since i'm on holiday i cannot provide adb debug output by now - sorry.
"
k9mail/k-9,closed,Use Timber for Logging,[],"What it says on the tin :) as discussed in #1732.

Includes only the main source, notably not k9mail-library."
k9mail/k-9,closed,Feature Request: Connect through orbot / tor,"[Label(name=""duplicate"")]","There should be a toggle switch to use k-9 through orbot. When disable my cellular connection and setup the manual proxy settings of my wifi connection to localhost and port 8118, k-9 still refuses to connect through orbot. This feature would make k-9 a much better choice for secure email connections that use .onion server addresses such as riseup.net. 

### Environment
K-9 Mail version: Current

Android version: 7.1

Account type:  POP3
"
k9mail/k-9,closed,Issue #999 : Adds Percentage progress bar for attachment downloads,[],"#This PR implements a percentage progress dialog that is displayed when an attachment is being downloaded.

![GIF](https://media.giphy.com/media/xUPGcGQefrNpGIhs3u/source.gif)"
k9mail/k-9,closed,"Added 20 best pseudonyms for, and the provider itself, mail.com",[],
k9mail/k-9,closed,Send outgoing text/plain as format=flowed,[],"This would mean that anything formatted at text/plan should now be of the format=""flowed"" variety.

This is issue #2302

I would be grateful for any advice as I'm new to the project."
k9mail/k-9,closed,Remove language selection setting,[],Fixes #2262
k9mail/k-9,closed,"Add Up button in account, global and folder settings",[],"I've added the Up Button to the above mentioned activities. They point to inbox now. However, I might need help in adding the Up button to the sub preferences."
k9mail/k-9,closed,Send outgoing text/plain as format=flowed,[],"Outgoing text/plain mail can be formatted as format=flowed according to [rfc2646](https://tools.ietf.org/html/rfc2646).

We already have a method in `FlowedMessageUtils` from an the apache-licensed Apache James project, so this should only be a matter of calling the right method at the right place.

Starting point should be around `MessageBuilder.buildBody`"
k9mail/k-9,closed,Insert <hr> element when converting from text to HTML,[],Hope you don't mind my contribution to testing on this one. Spent many hours improving my regex-fu with this.
k9mail/k-9,closed,Insert <hr> element when converting from text to HTML,[],"Implemented `HorizontalRuleHelper` which take a message body as string input and replaces all possible horizontal rule like ASCII sequences by `<hr />` and `HorizontalRuleHelperTest` which has various unit test showing wanted behaviour.

**What this does?**

`---------------------------` gets replaced to `<hr />`
`===========================` gets replaced to `<hr />`
`-=-=-=-=-=-=-=-=-=-=-=-=-=-` gets replaced to `<hr />`
`-- >8  --` gets replaced to `<hr />`
`- >8 -` gets replaced to `<hr />`
`- - - >8 - - -` gets replaced to `<hr />`
` >8 ` gets replaced to `<hr />` 
`-- 8< --` gets replaced to `<hr />`
`- 8< -` gets replaced to `<hr />`
`- - - 8< - - -` gets replaced to `<hr />`
` 8< ` gets replaced to `<hr />`
`___________________________` gets replaced to `<hr />`
`-=` remains unaffected
`==` remains unaffected
`-- ` remains unaffected
`=-` remains unaffected
`-` remains unaffected
`=` remains unaffected
`_` remains unaffected"
k9mail/k-9,closed,Added up button to MessageCompose Activity,[],"_Added a back button to Action bar which acts as an Up button and open Accounts list Activity._
#2238 
I was conflicted between unified inbox activity and accounts, but current order as now is also confusing, Inbox sends to Folders, Folder sends to Accounts List.

As it was stated all Up buttons should go to the same activity, going to Accounts activity made more sense to me as it acts like the root activity.  "
k9mail/k-9,closed,"LineWrapOutputStream tests, divided into separate methods",[],I forgot to split the tests into meaningfully named methods just before this PR.
k9mail/k-9,closed,LineWrapOutputStream tests,[],This verifies functionality ok.
k9mail/k-9,closed,Added back button which depends on back stack,[],Added ActionBar in MessageCompose.java which depends on the back stack.
k9mail/k-9,open,not concurrent connections during sync/pull,"[Label(name=""enhancement"")]","### Expected behavior
All accounts and mailboxes are checked one-by-one (or at least how it looks like judging from the status in the main window) during Pull (push/idle works differently and it seems that notifications are generated concurrently)

### Actual behavior
They should be checked at the same time

### Steps to reproduce
1. open the app with multiple accounts/mailboxes
2. hit ""sync""

### Environment
K-9 Mail version:5.203

Android version:6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): 3x IMAP
"
k9mail/k-9,closed,Added Back button to Compose. ,[],Added Back button to Compose. Goes to MessageList displaying Inbox. #2238 
k9mail/k-9,closed,Back button was added to composing message screen.,[],#2238 Change-Id: I1a6940991ff6ccffac13da4f276892f815d6a572
k9mail/k-9,closed,Added back button to compose,[],Added the back button to the actionBar to navigate up the stack.
k9mail/k-9,closed,Clean up MessagingListener,[],I started doing this to get rid of the dozens of Checkstyle warnings in `MessagingListener`. But I also found and removed a couple of methods that were never used.
k9mail/k-9,closed,Added back button in MessageCompose.java,[],I have added back button in the MessageCompose.java using ActionBar.
k9mail/k-9,closed,Added back button to Compose,[],"I have made changes in the MessageCompose.java file , where I have added a back button using ActionBar"
k9mail/k-9,open,Enforce encrypted replies to encrypted messages,"[Label(name=""enhancement"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
If I reply to an encrypted message, whether or not it quotes text, the reply should be forced to be encrypted.

### Actual behavior
If for example a key is missing, it is unencrypted by default and I don't even get a warning.

### Environment
K-9 Mail version: 5.205

This also has been requested in this comment: https://github.com/k9mail/k-9/issues/1186#issuecomment-201054369
"
k9mail/k-9,closed,Add back button to compose. Issue #2238.,[],I added a back button to compose and made it behave like the pressing the back key.
k9mail/k-9,closed,"Add option to disable ""end to end"" encryption warning for mails that are encrypted but not signed",[],"Please add an option to disable this message, which must be dismissed every time to be able to view a message that has been encrypted but not signed."
k9mail/k-9,closed,Failed to send some messages ; Negative SMTP reply: 501,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

This issue has been discussed several times though not necessarily recently nor in a way to solve my particular  issue.

### Expected behavior
email should be sent

### Actual behavior
cannot send email.   when trying to send an email, this error comes up Failed to send some messages ; Negative SMTP reply: 501; sometimes with an invalid email address and sometimes with a syntax error.  I have several email accounts and it happens now on two of them only.  I send to the exact same email address, from contacts in all cases. so i cannot be typing the email address wrong.

### Steps to reproduce
1.click new email, enter recipient first few letters then select name (from contacts list)  Also tried manually typing in address not in contacts list 
2.provide a subject, some text
3.send - then error and message is moved to drafts folder.  Outbox

### Environment
K-9 Mail version:5.203

Android version:6

Account type (IMAP, POP3, WebDAV/Exchange):imap
"
k9mail/k-9,closed,Add open source license activity,[],"I added activities to show third party's software license.
Licenses will be shown in the activity only putting a text file to `assets/license`.

(I had made useless diff in the `AndroidManifest.xml` while AndroidStudio's refactoring. It's only added two activities. sorry.)"
k9mail/k-9,closed,Login error,[],"K-9 Mail version:5.203

Android version:7.1 CyanogenMod 14.1

Account type (IMAP, POP3, WebDAV/Exchange): can't login through gmail and ymail
"
k9mail/k-9,closed,Crash in 5.205: Bug in ParcelableUtil.unmarshall()?,"[Label(name=""bug"")]","Crash reported via Google Play.

User messages:
* crash when opening from 1x1 widget
* using inbox icon to start k9 results in crash
* force closes on start from widget


```
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.fsck.k9/com.fsck.k9.activity.MessageList}: java.lang.NullPointerException: Attempt to get length of null array
	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3253)
	at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)
	at android.app.ActivityThread.access$1100(ActivityThread.java:221)
	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)
	at android.os.Handler.dispatchMessage(Handler.java:102)
	at android.os.Looper.loop(Looper.java:158)
	at android.app.ActivityThread.main(ActivityThread.java:7224)
	at java.lang.reflect.Method.invoke(Native Method)
	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)
Caused by: java.lang.NullPointerException: Attempt to get length of null array
	at com.fsck.k9.helper.ParcelableUtil.unmarshall(ParcelableUtil.java:27)
	at com.fsck.k9.helper.ParcelableUtil.unmarshall(ParcelableUtil.java:19)
	at com.fsck.k9.activity.MessageList.decodeExtras(MessageList.java:437)
	at com.fsck.k9.activity.MessageList.onCreate(MessageList.java:225)
	at android.app.Activity.performCreate(Activity.java:6876)
	at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1135)
	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)
	... 9 more
```"
k9mail/k-9,closed,Update existing Configuration instance instead of creating new one,[],"Creating a new Configuration instance lost the system's font size scaling factor. See #2280.
I'm surprised this didn't break more stuff.

Fixes #2280"
k9mail/k-9,closed,Font default size is hardcoded,[],"### Expected behavior
System font size should be respected. 

I see that you even went so far to make possible to customize every single screen then, but sometimes one would just like not to care much about details. 

### Actual behavior
Font default size is hardcoded. 

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1
"
k9mail/k-9,closed,"All messages show ""No message text"" after upgrade to 5.204",[],"### Expected behavior
Message content should be displayed.

### Actual behavior
""No message content"" (German ""Kein Nachrichtentext"") ist displayed.

### Steps to reproduce
1. Upgrade to version 5.204
2. Load any message from before or after the upgrade
3.

### Environment
K-9 Mail version: 5.204

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (Dovecot 2.2.22)"
k9mail/k-9,open,DKIM Validation,"[Label(name=""security"")]","Enhancement request:

DKIM validation.

PGP ensures the identity of the human writing the message, but does not provide proof that the person is contacting you from the address or username from which he or she claims to be contacting you.

Also: DKIM is something I look for in my e-mails (I have DKIM Validator plug-in for Thunderbird). Much like even the most basic TLS cert by Let's Encrypt, the presence of a DKIM signature makes the originating web server a little more legitimate.

Deployment is not universal, but it is very good as a secondary and/or fallback signature on mail so that people can be sure of authorship and so that less than scrupulous politicians with horrible IT opsec cannot disavow everything.

With the robust and fast signatures of Ed25519 I have faith that DKIM will allow, in the near future, EdDSA in place of RSA and they may become more ubiquitous.

Filing this bug so that progress can be tracked.

Thank you all for your amazing work."
k9mail/k-9,open,"PGP/MIME with Protected Headers (""Memory Hole"")","[Label(name=""security"")]","Enhancement request:

Please implement the PGP/MIME Protected Headers known as ""memory hole"" as implemented in Thunderbird's Enigmail plug-in (though it may not yet be widely enabled).

It protects mail from having altered From and Subject fields most importantly.

Filing a bug so as to track its progress."
k9mail/k-9,closed,Show error toast when trying to download attachment when SD card is full,[],For #1476 
k9mail/k-9,closed,Replace QuickContactBadge with custom widget,[],"See #1580, thanks to @madrat-. I only cleaned up a bit, and put a note about the origin of the file instead of the copyright notice.

This is only a cosmetic change, however it prepares round contact pictures, and a gmail-style click-to-select feature."
k9mail/k-9,closed,Allow disable of default encryption,"[Label(name=""don't merge"")]","Picking up #2087, thanks @asdil12. This is rebased on current master, and saves the default mode in an enum to allow for different settings in the future without requiring migration.

*However* I might want to do this with a different mechanism, I'm not sure yet. Please don't merge for now."
k9mail/k-9,closed,Playground draggable,[],"Should work now :)

![drag_and_drop](https://cloud.githubusercontent.com/assets/17197902/23376518/6611fb40-fd52-11e6-8228-1c058613dbea.gif)
"
k9mail/k-9,open,Test for database upgrades from all releases,[],"In #2158, @philipwhiuk introduced a test for the database upgrade path. This was a great idea! However, it tests only the upgrade path from the early version v29 of the database ([k-9 v2.000](https://github.com/k9mail/k-9/releases/tag/2.000)) to the current version. Missing is a test from new installations of intermediate releases.

I think this is important, since some bugs (e.g. #2103) suggest that there may be more problems (see also comment at https://github.com/k9mail/k-9/pull/2219#issue-206539445), i.e. a difference between create database from scratch in a former release and the upgrade of an older version to that release. People who installed that version as their first version may have still a differing (=potential defective) database today.

Therefore, I propose to write a test, that does:

For every release (from 2.000 to latest; the required list can be generated using the git-tags)
1. checkout the respective git-tag
2. create a database from scratch using the checked out code (not trivial)
3. checkout master (or latest release)
4. run upgrade database and compare to freshly created database (like in #2158)

Unfortunately, the second step (create a database from the old version) is not that easy. One problem is that the location of the code for doing that (`LocalStore`/`StoreSchemaDefinition`) has changed multiple times in the past. However, I see two possibilities:

a) Execute the original code. Another problem: the constructors of the respective class `LocalStore` differ in some versions and I don't know if all parameters can be filled with appropriate values in a test environment. Furthermore, the code from different versions has to be executed, which means that the code has to be loaded dynamically.

b) Extract the SQL code from the Java classes and execute it directly. This requires an appropriate parser for analyzing the source code. But this can be done on file basis without executing dynamically loaded code.


What do you think? Any hints on realizing this? I don't know when/if(!) I will have some time for doing this. And I don't know how hard it will be (some details can consume much time, but it could also be done very fast). But I think it's worth it."
k9mail/k-9,closed,Warnings on deprecated APIs and ignored return value can cause unexpected results,"[Label(name=""being worked on""), Label(name=""cleanup""), Label(name=""good first issue"")]","Hi,

I am using Lint to detect warnings that can cause expected results in k-9. And I found the following warnings that are interesting:
1. **'setProgressBarIndeterminateVisibility(boolean)' is deprecated**
Warnings are reported on [line 148 in ChooseFolder.java](https://github.com/k9mail/k-9/blob/master/k9mail/src/main/java/com/fsck/k9/activity/ChooseFolder.java#L148) in and [line 1484 in MessageList.java](https://github.com/k9mail/k-9/blob/master/k9mail/src/main/java/com/fsck/k9/activity/MessageList.java#L1484).
This API has been no longer supported since API 21 and deprecated in API 24 ([doc](https://developer.android.com/reference/android/app/Activity.html#setProgressBarIndeterminateVisibility(boolean))). ProgressDialog may be used as a replacement.

2. **'android.text.format.Time' is deprecated**
The warning is reported [on line 978 in K9.java](https://github.com/k9mail/k-9/blob/master/k9mail/src/main/java/com/fsck/k9/K9.java#L148)
This class has been deprecated since API level 22. Several issues of this class like not thread-safe are specified in the [documentation](https://developer.android.com/reference/android/text/format/Time.html) It is better to use GregorianCalendar instead.

3. **Result of <code>File.delete()</code> is ignored**
[on line 140 in BinaryTempFileBody.java](https://github.com/k9mail/k-9/blob/master/k9mail-library/src/main/java/com/fsck/k9/mail/internet/BinaryTempFileBody.java#L140)
It is possible that File.delete() fails due to unexpected reasons. Ignoring the return value will keep the file always there and consumes additional disc space.

These are the interesting Lint warnings I have found. Hope this can help. :)"
k9mail/k-9,open,IMAP operations get stuck and never time out,"[Label(name=""architecture""), Label(name=""performance"")]","### Expected behavior

1. IMAP operations should work
2. If IMAP operations are having network issues, they should time out in a reasonable time

### Actual behavior

Sometimes when I sync the inbox and when I send mail the operations get stuck. Inbox sync seems to *eventually* time out, although this can take many minutes and very rarely I believe this takes hours. Mail sending is much more prone to not timing out at all, I've just had it sit there trying to send a message for 2.5 hours. The issue is obviously more severe with sending email as my recipient has not received what may well be an important message.

I am running Dovecot on the server end with STARTTLS. I configured Samsung's email client to talk to the same server and it has no network issues - when K-9 gets stuck I open Samsung's email client and it works. I've never had Samsung's client get stuck since I started using it in parallel with K-9 some weeks ago.

### Steps to reproduce

1. Pull down to refresh the inbox

OR 

1. Compose an email
2. Click send

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (Dovecot) with STARTTLS
"
k9mail/k-9,open,ClassCastException on IMAP sync #811,[],"Hi, I see the same problem of issue #811 `classcastexception: com.fsc` on my Inbox folder after a mail server was changed. Other folders look fine but I cannot receive new mail now.

K-9 Mail version: 5.203
Device Model: Samsung Galaxy S4
Android version: 5.0.1

I also found this problem mentioned at

http://grokbase.com/t/gg/k-9-mail/142prrhagm/classcastexception-com-fsc-error-on-some-folders"
k9mail/k-9,open,Add infrastructure for settings migration,"[Label(name=""architecture"")]","Right now we have no proper infrastructure for settings migrations. What we have is scattered all over the place, e.g.

* [K9.java](https://github.com/k9mail/k-9/blob/e70295efec3a62f01933eb7b2a867022b5e73121/k9mail/src/main/java/com/fsck/k9/K9.java#L732-L735)
* [Storage.java](https://github.com/k9mail/k-9/blob/e70295efec3a62f01933eb7b2a867022b5e73121/k9mail/src/main/java/com/fsck/k9/preferences/Storage.java#L55-L120)

This is also a good opportunity to move away from the one key/value store for global settings, account settings and identity settings and towards three separate tables. That'll make it easier to e.g. delete settings belonging to an account or identity that is about to be deleted."
k9mail/k-9,open,"Don't display ""Bcc all messages to"" address in UI",[],"In the past the current behavior has caused some issues, especially when switching accounts in the message composition screen.

When making this change we have to be careful to still consider the ""Bcc all messages to"" addresses of the current account/identity when checking whether the message can be encrypted automatically."
k9mail/k-9,open,Save replies in same folder as original message,"[Label(name=""enhancement""), Label(name=""help wanted"")]","When replying to a message save the sent message in the same folder as the message that was replied to. Same for forwarded messages.
This should be optional and off by default.

For an attempt at an implementation, see PR #1385. "
k9mail/k-9,open,Add support for linkifying more URI schemes,"[Label(name=""enhancement"")]","We currently linkify HTTP URLs and Bitcoin URIs when converting plain text to HTML. It'd be nice to have support for additional URI schemes. See #684.

* `bridge:` - Tor bridge
* `geo:` - Physical location
* `market:` - Link to app in Google Play (previously Android Market)
* `openpgp4fpr:` - OpenPGP key IDs and fingerprints
* `xmpp:` - Identify or interact with entities using XMPP

However, I'm concerned about the performance impact of this. Ideally we'd use something similar to [linkifyjs](https://github.com/SoapBox/linkifyjs) that goes through the text only once to find all URIs.

We might also want to think about linkifying supported URIs in HTML parts. That's bad when e.g. malicious URLs have been left unlinkified intentionally. But I believe in the majority of cases linkifying is what is expected by users."
k9mail/k-9,closed,search nicknames (issue 2240),[],"PR for issue #2240 

According to the [document](https://developer.android.com/guide/topics/providers/contacts-provider.html), nicknames and email addresses are stored separately in different rows. So I query the `CONTACT_ID` at first and query email address according to `CONTACT_ID`"
k9mail/k-9,closed,Added sender field to message view,[],"For #1727 

![screenshot_20170221-023831 1](https://cloud.githubusercontent.com/assets/17197902/23141945/4985fa62-f7df-11e6-8887-06a1633b2ff2.png)
"
k9mail/k-9,closed,Remove language selection feature from K-9,[],"Per comments on #2246 we plan to remove the language selection feature as it was originally designed to solve a problem in Android (lack of support for certain languages).

Right now it's an underused and fairly obscure feature which just makes the app more complex."
k9mail/k-9,open,Remove drafts instead of moving them to the Trash on sending,[],"### Expected behavior
Sending a message that was stored in the Drafts folder should remove the Draft

### Actual behavior
The draft is moved to the Trash folder.

### Developer notes

See #1467 "
k9mail/k-9,closed,Ability to see IMAP keywords in message view,"[Label(name=""duplicate"")]","### Expected behavior
Be able to see IMAP keywords

### Actual behavior
Only specific keywords are handled (e.g. Flagged). Most keywords are only visible in headers.

### Developer notes

See https://github.com/k9mail/k-9/pull/558 for starting work and design discussion. Further design discussion should be had to look at what features are required and how various clients handle these tags."
k9mail/k-9,closed,Insert <hr> element when converting from text to HTML,"[Label(name=""being worked on""), Label(name=""enhancement""), Label(name=""good first issue"")]","When converting text to HTML replace what looks like horizontal lines drawn with ASCII characters with `<hr>`.

Examples:
```
text
---------------------------
some other text
===========================
more text
-=-=-=-=-=-=-=-=-=-=-=-=-=-
scissors below
-- >8 --
other direction
-- 8< --
end
```

I'm not quite happy with the approach in PR #473. But that's the functionality we want."
k9mail/k-9,open,Problems encrypting email to self with Openkeychain.,[],"**Expected Behavior**

When I type in my email address in the to line in k9mail, it should show my contact as a green (has key) and then successfully encrypt to it.

**Current Behavior**

my contacts (both emails for which I have my own keys (public and private) show up as red; when I tell it to encrypt then try to send it says 'no keys found for some of the recipients (or similar)

**Steps to Reproduce (for bugs)**

try to send an encrypted email from yourself to yourself in k9mail, with openkeychain encryption set up.

**Context**

Forgive me if I'm doing something wrong in how this is supposed to work but I can't get it to work for me...any suggestions appreciated.

I've also noticed, that if I do this a different way round - i.e. share some text from another app to openkeychain, encrypt to self, share to k9mail, it then recognises the contact and allows me to encrypt to it it in k-9 mail. However this causes problems as the email is then encrypted twice over (or various other problems which mean it can't be automatically decrypted by email clients).

I get the impression that this problem is related to k-9mails features which stop one's own email coming up in the list of suggested emails - and therefore it can't be properly selected and recognised for openkeychain.

**Your Environment**

Android Version: CyanogenMod 13 / Android 6.0.1
K-9 Mail: F-droid version 5.203
OpenKeychain Version: F-droid version 4.24"
k9mail/k-9,closed,Feature request: show e-mail address next to contact name when viewing sent emails,[],"When viewing sent emails, in the ""To:"" line is showed only the name of the contact but not the email address. It makes it difficult to understand to which email address the email has been sent."
k9mail/k-9,closed,Settings export over storage access framework,[],"Intention:
In the pr for the runtime permission (#2110) it became clear that it is a good idea to move the export to saf to reduce the need for the external storage permission.

Notes;
That works only in android version newer than Kitkat, so I left the old legacy path for those devices. I tested the functionality with the jelly bean emulator.

I'm not sure about the ""no_file_manager"" check in the `onImport` function. Since Android is shipping with the content provider to save at the internal storage/external storage there should always be a provider. Or?

"
k9mail/k-9,closed,Message list widget,[],"Cleaned up version of PR #1848

![message_list_widget_preview](https://cloud.githubusercontent.com/assets/218061/23082743/f3c4d94e-f55a-11e6-85c2-52ad0d0d90c6.png)
"
k9mail/k-9,closed,"Username or password is incorrect. (Command: *sensitive*; response: #3# [NO, ALERT], Too many simultaneous connections. (Failure)]",[],"Hello,

After I upgraded my K-9 mail client to the latest version, 5.203, I have received the following notification:
_""Authentication failed.
Authentication failed for xxx. Update your server settings.""_

I tapped on it to go to the settings screen. Then on the settings screen, I tapped on the ""next"" button.  Then I received the following message:
_""Setup could not finish
Username or password is incorrect. (Command: *sensitive*; response: #3# [NO, ALERT], Too many simultaneous connections. (Failure)]""_

What am I supposed to do? Is there a fix?

### Environment
K-9 Mail version: **5.203**

Android version: **6.0.1**

Account type: **IMAP**

Device: Moto G4
"
k9mail/k-9,closed,Dropped sig np2,[],Seems I have satisfied Cketti's requirement to fix my AS :) ?
k9mail/k-9,open,Add support for circular launcher icons,"[Label(name=""enhancement"")]","See https://developer.android.com/about/versions/nougat/android-7.1.html#circular-icons

We need to target SDK version 25 in order to use that feature. This is blocked by #2110.

An attempt at adding a circular launch icon can be found here: #2247 "
k9mail/k-9,closed,Can I use more than 20 email accounts?,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen
When I make my 21 est email account, it will not receive the mail. 

### Actual behavior
Tell us what happens instead
noting
### Steps to reproduce
1.make a 21 or 22nd email account in K9
2.
3.

### Environment
K-9 Mail version: 5.203

Android version:6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):imap
"
k9mail/k-9,closed,Dropped sig np,[],"Really sorry for all the reformatting AS did, but I had to copy paste from a text file I saved before deleting previous commit attempts.

You should have no problems with this issue now, provided `openPgpApi.executeApiAsync` is safe to not have the ""optional extra"" (see OpenPgpApi#ACTION_DECRYPT_VERIFY) `EXTRA_DETACHED_SIGNATURE` field in its intent. Hopefully this produces an appropriate response."
k9mail/k-9,closed,Tests for LineWrapOutputStream,[],"Probably not my final attempt. I probably want to remove some comments, in light of my new understanding of UTF8."
k9mail/k-9,closed,A new place you can post this to,[],http://androidresourcecentral.cf/ feel free to post your stuff here!
k9mail/k-9,closed,Add round icon,[],Round icon added for Google Pixel devices.
k9mail/k-9,closed,Apply language to context before creating Notifications,[],"Fixes #2245 

If you can think of a better way of doing this, I'm happy to hear ideas. It's quite ugly."
k9mail/k-9,closed,Notifications choosen language issue,[],"Hi, I have a Samsung Galaxy Note 5 with Android 6.0.1, my device language is set to Spanish and k9 mail language is set to English (because in Spanish notification delete button is hidden because ""mark as read"" text, is to long), the thing is that some times notification is shown correctly in English and some times is shown in spanish, I haven't figure out why.

I have a screen video recorded, try to attached here, if I can't please tell me where to send over email.

Thanks.


[tmp_22194-2017_02_16_16_12_05.mp4964100838.zip](https://github.com/k9mail/k-9/files/781786/tmp_22194-2017_02_16_16_12_05.mp4964100838.zip)

"
k9mail/k-9,open,Only one password for in+outgoing connection,"[Label(name=""enhancement"")]","If you create a new account and type the password, you need to enter it for both out- and incomming, Why?
No one have different passwords for that.

Also if you change the password on the provider website you need to change the new password twice in k9 which is realy annoying."
k9mail/k-9,closed,Commented the API for LineWrapOutputStream and provided tests,[],
k9mail/k-9,closed,No push mail under Android 7,[],"Received an OTA update to Android 7 on my S7 edge.
Since then, push mail is not working anymore.
Mail list is only updated if I trigger this manually. 
Took k9 out of the list of apps that are power monitored, but this did not affect push mail
K9 version 5.203"
k9mail/k-9,closed,Formatting issue,"[Label(name=""duplicate"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When an email contains bullets, or numbering, the text that follows those bullets or numbers needs to appear.

### Actual behavior
When an email contains bullets or numbers, sometimes the text after that numbers and/or bullets cannot be seen. 
If the message is replied, that text appears.
If the text had some modification, for example highlighting, the text appears too, but only the highlighted part.

### Steps to reproduce
1. Send using, for example, M$ Outlook, and email containing bullets or numbers, and some text after the bullets or numbers. Maybe to highlight part of the text, but not the numbers or bullets, could be a better first step.
2. Receive the email on the cell phone, using K-9. Check the issue.
3. Reply that email, checking that there the text appears.

### Environment
K-9 Mail version:
5.203

Android version:
4.4.4 (originally I posted 5.1, my mistake! sorry!)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Contact nicknames not searched,"[Label(name=""enhancement""), Label(name=""good first issue"")]","### Expected behavior

When composing email, in the To:, CC:, and BCC: fields, typing in a contact's nickname should reveal contact(s) with matching nickname(s).

### Actual behavior
Typing in a contact's nickname reveals no matches.

### Steps to reproduce
1. Create a contact with a nickname
2. In k-9 email, compose a new email
3. In any of the address lines type the contact's nickname
4. Note that there are no matches

This is kinda important to me because I don't remember/know most of the real names of my Burning Man contacts, only their Playa (nick) names. (volunteer manager so have 150+ of them)  So every time I go to send them email, I have to go to my contacts app, look it up there and then send email. PITA.  There are also other social groups where this is common. (furries, for example)

### Environment
K-9 Mail version: 5.203
Android version: 7.0
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Different notification icons on per account basis,"[Label(name=""enhancement"")]","### Expected behavior
It would be nice if it would be possible to configure accounts to have different icons in the notifications

### Actual behavior
All notifications from all accounts have same icon.

### Steps to reproduce

Motivation: currently I'm using k9mail for my ""work email"" (because it handles imap better and I had some weird issue ages ago with gmail handling) and I'm using +typeApp for my ""personal"" emails (on gmail). The other day I was annoyed with the +type app not respecting synchronisation (and their response that ""we know better and we will ignore system synchronisation setting"") that I decided to switch to k9mail all my accounts and the experience was very positive (archiving works, yay). However I've noticed that I grew accustomed to being able to differentiate with a quick glance to which account email from particular notification arrived (I'm usually on silent mode so different sounds won't work).

I'm not sure if it's technically possible, but would be great!

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): n/a
"
k9mail/k-9,closed,"Add ""Back"" button in Compose",[],"In most of our screens, the k9 icon in the top left is a ""back"" button. This is not the case in the Compose dialog, but it would be nice if it was :)

The particular action depends on the back stack: If the action was called from the message list, just return there. Otherwise, open up the K9 start screen. This can happen e.g. if the compose dialog is opened from some other app.

(@cketti sanity check please, I'm not entirely sure this is in line with android behavior guidelines? if it is, this can be a `beginner` issue)"
k9mail/k-9,closed,"Support ""delSp"" for format=flowed","[Label(name=""being worked on""), Label(name=""good first issue"")]","When I added support for format=flowed in #1835, I missed delSp for some reason. This should be simple to add, see also rfc2646."
k9mail/k-9,closed,"No way to disable empty subject line ""warning""","[Label(name=""duplicate"")]","The newest version of K9 refuses to send messages with an empty subject unless you click send a second time.  There does not appear to be an option to disable this obnoxious behavior.
While some people may desire this warning, it was never present in the past, and if CKETTI refuses to add a setting for this because there are ""too many"" settings already, how did he decide that the people who want this warning should get it, over the people who never wanted it? 
This is absolutely something that should be an OPTION. What is a ""feature"" for some people is an annoyance sufficient to make others stop using it."
k9mail/k-9,closed,Display unread message count on app icon,[],Fixes #2114
k9mail/k-9,closed,MessagingController improvements,[],Trying to cover more of the complex MessagingController.
k9mail/k-9,closed,Unified Inbox list item tap selects aleatory items ,[],"When tapping items in Unified Inbox list, an aleatory item is selected (probably mixed item indexing issue).
This works correctly in individual accound inbox list. And worked correctly in the previous releases.

### Expected behavior
In ""Unified Inbox"" list, when you tap in a list item/message, the item should be selected and message opened. When tap in the checkbox, the related item should be ""checked"".

### Actual behavior
When tapping a list item, it is selecting an aleatory item, not the tapped one. Sometimes selects the previous or the next item of the tapped one.

### Steps to reproduce
1. Open the ""Unified Inbox"" list (that aggregates more than one account, with mixed message dates).
2. Tap an item in the middle of the list.
3. An aleatory item is selected.

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1 (Marshmallow) 
Kernel: 3.4.0-perf-gc14c2d5 / Build: 23.5.A.1.291

Account type (IMAP, POP3, WebDAV/Exchange):
POP3 "
k9mail/k-9,closed,Unit tests for FixedLengthInputStream,[],"#2207 
Add unit tests for FixedLengthInputStream
It's my first time to write unit tests. So please tell me if there is something I could improve :)"
k9mail/k-9,closed,Issue#2210 : Unit Tests for SmtpDataStuffing (2),[],"Implemented feedback from #2228 
Let me know if more tests are needed or if I'm missing something."
k9mail/k-9,closed,"""Mark all as read"" doesn't from ""Unread messages"" when message is in ""Spam"" folder","[Label(name=""duplicate"")]","### Expected behavior
Have two unread messages in your account: one in IMAP folder 'INBOX', one in IMAP folder 'Spam'. Open k-9 ""Accounts"" page, and click on the ""Unread"" count (solid blue circle) of that account to open the ""Unread messages"" view. A list of all unread messages (two, in my case) is displayed. Click the Android menu button, and select ""Mark all as read"". Both unread messages should be marked as read, and hence disappear from this list.

### Actual behavior
Only the message from 'INBOX' is marked as read and disappears. The message in 'Spam' remains unread and hence stays in the list. Only when I select the check box to the left of the unread message in 'Spam', and then use the ""Mark as read"" button in the icon bar at the bottom, it works as expected.

### Steps to reproduce
See ""Expected behavior"". It should be noted that this problem only occurs when the unread message is anywhere else than in the INBOX folder. When it's in INBOX, everything works fine. If it's in ""Spam"", ""Mark all as read"" doesn't work. I have attached a debug log.
[k9-log.txt](https://github.com/k9mail/k-9/files/770862/k9-log.txt)


### Environment
K-9 Mail version: 5.010 (sorry, I can't update due to #1961)

Android version: 4.4.4 (CM 11-20141115-SNAPSHOT-M12-i9100)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,AddressTest - Refactor and test UTF-8 encoding,[],"I wrote some tests for #2222 

It didn't find the issue - because it seems to work. But it's probably worth adding them anyway.

I also cleaned up the test names to match coding standards."
k9mail/k-9,closed,Issue#2210 : Unit Tests for SmtpDataStuffing,[],"#2210 
I've noticed that k-9 mail replaces '.' (char 46) with '=2E' (char byte sequence 61, 50, 69). This eliminates the need for dot stuffing SMTP content (this is good in a way as it allows to stop relying on servers to perform dot removal correctly).
Let me know if more test cases need to be added."
k9mail/k-9,open,request: only care about pgp mail.,"[Label(name=""help wanted"")]","I'd love to see a feature where all messages are checked, but left on the mail host (and ignored) if they aren't either PGP/MIME or contain some inline PGP.  So, If I get a thousand messages, but only 3 are signed or encrypted, I would like K-9 mail to only show me those 3 (since my phone already alerts me with the default mail app every time I get mail).  That way, my K-9 mail inbox is not full of messages that don't need the PGP features of K-9 mail."
k9mail/k-9,closed,Make all keys in global_preferences.xml lowercase,[],Related issue #2213 
k9mail/k-9,open,IndexOutOfBoundsException on opening multipart/signed object with stripped signature,"[Label(name=""bug"")]","I sent a multipart/signed message to a mailing list. The mailing list decided to strip out the MIME part containing the signature. On opening the message in K9, I get a crash with the following backtrace:

```
java.lang.IndexOutOfBoundsException: Invalid index 1, size is 1
	at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)
	at java.util.ArrayList.get(ArrayList.java:308)
	at com.fsck.k9.mail.Multipart.getBodyPart(Multipart.java:24)
	at com.fsck.k9.crypto.MessageDecryptVerifier.getSignatureData(MessageDecryptVerifier.java:155)
	at com.fsck.k9.ui.crypto.MessageCryptoHelper.callAsyncDetachedVerify(MessageCryptoHelper.java:352)
	at com.fsck.k9.ui.crypto.MessageCryptoHelper.decryptVerify(MessageCryptoHelper.java:260)
	at com.fsck.k9.ui.crypto.MessageCryptoHelper.decryptOrVerifyPart(MessageCryptoHelper.java:238)
	at com.fsck.k9.ui.crypto.MessageCryptoHelper.startDecryptingOrVerifyingPart(MessageCryptoHelper.java:204)
	at com.fsck.k9.ui.crypto.MessageCryptoHelper.decryptOrVerifyNextPart(MessageCryptoHelper.java:197)
	at com.fsck.k9.ui.crypto.MessageCryptoHelper.access$200(MessageCryptoHelper.java:58)
	at com.fsck.k9.ui.crypto.MessageCryptoHelper$1.onBound(MessageCryptoHelper.java:219)
	at org.openintents.openpgp.util.OpenPgpServiceConnection$1.onServiceConnected(OpenPgpServiceConnection.java:81)
	at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1224)
	at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1241)
	at android.os.Handler.handleCallback(Handler.java:739)
	at android.os.Handler.dispatchMessage(Handler.java:95)
	at android.os.Looper.loop(Looper.java:148)
	at android.app.ActivityThread.main(ActivityThread.java:5461)
	at java.lang.reflect.Method.invoke(Native Method)
	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
```

The message should obviously not be reported as signed, but it shouldn’t crash the program either.

The MIME structure of the final message is as follows. The content-type of the message as a whole is multipart/mixed. This outer MIME layer has two parts, which I will call parts 1 and 2. Part 1 is of content-type multipart/signed. Part 1’s MIME content has one part, which I will call part 1.1. Part 1.1. is of content-type text/plain and contains my original message. Part 2 is of content-type text/plain and contains a small signature tacked on by the mailing list. All the boundary strings are properly formatted as far as I can tell.

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,Update translations,[],
k9mail/k-9,closed,Dismiss alternate email address popup on typing,[],"issue #979 
"
k9mail/k-9,closed,Non-ASCII sender decoding failed and shown in RAW.,"[Label(name=""bug"")]","### Expected behavior
Show decoded non-ASCII sender in Header section. (Not the [menu/show headers] one.)

### Actual behavior
Shown in RAW.

### Steps to reproduce
1. Send a mail with header formatted in ""From:"" + BODY prefix something other than space, 
like this: 
`From:=?UTF-8?B?WWFob28h44OA44Kk44Os44Kv44OI44Kq44OV44Kh44O8?= <directoffer-master@mail.yahoo.co.jp>`
or this (I'm not sure if this one meets the RFC requirement):
`From: ""=?UTF-8?B?WWFob28h44OA44Kk44Os44Kv44OI44Kq44OV44Kh44O8?= ""<directoffer-master@mail.yahoo.co.jp>`
2. Open mail on K-9

### Environment
K-9 Mail version: 5.203

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
Any"
k9mail/k-9,closed,Test and fix CPL for surrogate pairs,[],"See comments on #2217 

Also, now with testing"
k9mail/k-9,closed,Handle unconfigured OpenPGP provider in MessageView,[],"Building on top of the global-crypto-provider branch (#2130), this PR adds a dialog into message view when an encrypted message is encountered but no crypto provider is configured. This should make configuration seamless enough to mitigate lack of a migration from the account setting to the global setting.

Screenie:
![shot_noprovider](https://cloud.githubusercontent.com/assets/27813/22805128/69b62b84-ef1c-11e6-8cf9-10413c95902d.png)

What's notable is that this PR introduces a dialog activity for choosing a crypto provider that changes this setting while sidestepping the usual `Prefs` dialog. My first attempt was an extra for the Prefs activity to only show the dialog, but that turned out super messy - DialogPreferences just aren't made for the case."
k9mail/k-9,closed,Enhance test for database upgrade process,[],"As proposed in https://github.com/k9mail/k-9/pull/2158#issuecomment-277963119, I've extended the test for the database upgrade process, which was introduced in #2158. There, the test was restricted on the existence of tables, indexes and triggers. Now, the test also checks the structure of these entities using the `sql` column in `sqlite_master`.

Fortunately, I've only found one issue with this new test, and that is minor. It concerns the column `notify_class` of table `folders`. Using the upgrade process, this column is created with `default 'INHERITED'`. However, when the database is created from scratch, the default is missing.

Therefore, I've added the default value to `dbCreateDatabaseFromScratch` to fix the test.

However, this approach show also the lack of current tests: They test only if upgrading from a *virtual* v29 database comes to the same result like creating a new one from scratch (see #2158). But, additionally, a respective test would be nice for **every** release (not only v29)! Because you have to note, that my solution for the `notify_class` column only applies to future new installations. People with a former new installation of a release with database v50 and above will still not have the correct default value. Nevertheless, I've chosen that approach, because the default should not be that important and we would have to re-create the whole table in order to change it. But the message is, that there may be much more problems of this type. They can only be detected with a test of the upgrade-paths of every release! However, that's not that easy, but I have some ideas how to realize this. I will write them down in a new issue in the next days. But for now, this pull request is good enhancement :smile: "
k9mail/k-9,closed,Make Hex.encodeHex returns a String (was char[]),[],"This PR replace the signature of `Hex.encodeHex` to return a `String` instead of a `char[]`.

Related issue: #2208 "
k9mail/k-9,closed,"My first little PR, capture all unicode letters for unknown contact picture",[],"issue #740 
I had a test with the character ""Ł"" and Chinese characters
\p{L} captures all unicode letters and \p{M}* captures all marks on the letter"
k9mail/k-9,open,Decryption of gnupg v1 encrypted emails fails,"[Label(name=""bug"")]","Moto G
Android 5.9
Latest K9 mail with openkeychain

I can decrypt emails from other PGPmail clients such as Mailvelope but we have system generated emails using gnupg v1 that fail to decrypt. It just says ""decryption error"" no further detail.

These worked with APG integration."
k9mail/k-9,closed,WebDAV: Use the proper sendRequest mechanism to append messages,[],"This should fix #1500 

I say should because I don't have a WebDAV set-up any more but the code does roughly the same as it did, only using the proper sendRequest code to handle auth errors - so I think it's fairly safe."
k9mail/k-9,closed,Address: Handle getHostname when mAddress is null,[],Fixes problem found in #1653
k9mail/k-9,closed,Make all keys in global_preferences.xml lowercase,"[Label(name=""enhancement""), Label(name=""good first issue"")]","Some keys in ``global_preferences.xml`` are CamelCase and others are lowercase. We should unify them to lowercase to make it clear that there is no connection to the actual keys inside the preference storage layer.

This difference was confusing me in https://github.com/k9mail/k-9/pull/2130/files/6e982690d24e7de87c2e2eeb104403e6a1e0f082..884b12a48b6d8dc3e0de37f052ae2fe19387bb2a#r100053076"
k9mail/k-9,open,"When 'reply below quoted text' is enabled, show the text field below the quote","[Label(name=""enhancement"")]","It's a per-account setting, but it currently gives no visual feedback about whether it's enabled or not. 

I generally prefer to reply below, but there are some people who aren't savvy enough to know to scroll down (why'd you send me a blank email?) to whom I'll manually top quote.

It'd be nice to have some visual indicator that I am replying below, so I don't accidentally reply below to someone who I mean to reply above. "
k9mail/k-9,closed,Add unit tests for MergeCursor,[],
k9mail/k-9,closed,Add unit tests for SmtpDataStuffing,"[Label(name=""good first issue"")]",
k9mail/k-9,closed,Add unit tests for LineWrapOutputStream,"[Label(name=""being worked on""), Label(name=""good first issue"")]",
k9mail/k-9,closed,Change signature of Hex.encodeHex(),"[Label(name=""good first issue"")]",All callers of `Hex.encodeHex()` convert the returned `char[]` to a `String`. Change the method to return a `String`.
k9mail/k-9,closed,Add unit tests for FixedLengthInputStream,"[Label(name=""good first issue"")]",
k9mail/k-9,closed,Fix consecutive retrying of crypto operations,[],"This PR fixes two small bugs with RetainFragment. Most importantly, a fragment could be returned if cleared and retrieved before FragmentManager had a chance to execute pending actions, leading to inconsistent state."
k9mail/k-9,open,[request] A list of downloaded attachements. ,"[Label(name=""enhancement"")]","There's a similar feature in Microsofts Outlook app, where you get a list of all previously downloaded files. 
It's really helpful when you need a file quickly without going through tons of e-mails. The option to order them by date, name, and size could be a wonderful treat. 
Thanks a lot for you awesome effort."
k9mail/k-9,open,Emails received in incorrect order,"[Label(name=""needs info"")]","

### Expected behavior
Emails in inbox should be in date order. This is true with other email clients including Gmail and outlook. Behaviour seen intermittently for years but now seems to affect every mail. Love k9 mail but it is no use to me if I can't rely on receiving all my messages.

### Actual behavior
New emails from major Uk ISP virgin media are arriving out of sequence or sometimes not shown at all if there are more than 25 ahead of them of varying ages.

### Steps to reproduce
1. Use k9 mail on virgin media Uk with imap
2.
3.

### Environment
K-9 Mail version: latest as of 7/2/17

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

Have a screenshot of required. Happy to send"
k9mail/k-9,closed,Clear folder using the MessagingController instead of on the UI thread,[],"Seems to be mostly legacy that we weren't already doing it. Code was super-easy to port over.

Fixes #2143"
k9mail/k-9,closed,Fix database migration,[],Fix migration as suggested here: https://github.com/k9mail/k-9/pull/2137#discussion_r99778977
k9mail/k-9,closed,New Message notification doesnt refresh after message delete (occasionally),[],"Occasionally (without obvious reason or method to reproduce), tapping on DELETE and deleting messages from the notification area results in the message being deleted but the notification does not refresh or remove from the notification area (leaving it in place and still responsive to processing by further tapping).  The only way to remove it from notification is to swipe it away to clear it.  This happens frequently but not always.  (Ive noticed a frequency with Facebook notifications but I would think thats coincidence rather than cause). 

This behaviour did not occur prior to 5.202.

### Expected behavior
Tap DELETE within notifications, confirm delete (and have the message removed within the app), and the notification is updated accordingly (the messages no longer appear in the notification area).

### Actual behavior
The notification remains and doesnt refresh to reflect the deletion thats been applied.

### Steps to reproduce

This screenshot shows the initial notification of 2x new messages (although in reality there are 5 - but thats another problem and already logged).

![image](https://cloud.githubusercontent.com/assets/15649182/22693315/ac1a2432-ed3a-11e6-9308-f3741b7b74c3.png)


This screen shots shows me actually clicking and confirming DELETE of the 2 messages from the notification 'delete' button:

![image](https://cloud.githubusercontent.com/assets/15649182/22693185/15ab291a-ed3a-11e6-906b-ef383d7bc277.png)

This next shot shows that in the notifications there are the same messages still there (note the time of 7:59 is after I performed the delete for them - they have not been removed from notification area):

![image](https://cloud.githubusercontent.com/assets/15649182/22693368/ebd1519a-ed3a-11e6-93b2-aa7f66175abf.png)

If I tap on the notification to view the messages you see that they are not actually there resulting in :

![image](https://cloud.githubusercontent.com/assets/15649182/22693483/63b8aadc-ed3b-11e6-8fb9-91eab6dcfb2b.png)


And the summary list view of the Inbox indeed shows that they are no longer there (but show the other 3 that should have also been included in the notification - again this relates to the other problem already logged).

![image](https://cloud.githubusercontent.com/assets/15649182/22693603/d6e9a402-ed3b-11e6-8365-99767ab3a66b.png)





### Environment
K-9 Mail version:  5.203

Android version:   4.2.1

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP"
k9mail/k-9,closed,Check for existing archive folders first,"[Label(name=""duplicate"")]","K9 automatically created an IMAP folder called `Archiv` even though there is already a folder called `Archive`.

I expect K9 to use that folder instead of creating a new one."
k9mail/k-9,closed,HTML list not parsed correctly when sender has pasted from MS Word,[],"### Expected behavior
Render text correctly in e-mail message enumerations
1. text1
2. text2
3. text3.

### Actual behavior
Shows only numbers:
1.
2.
3.

### Steps to reproduce
1. Paste numbered list from MS Word in Outlook and send to k9mail

### Environment
K-9 Mail version: 5.203
Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

Message is sent both in
Content-Type: text/plain; charset=""iso-8859-1""
Content-Type: text/html; charset=""iso-8859-1""

Here is the beginning of the ugly MS Word paste code: http://pastebin.com/RY5z0nW8
Maybe a won't fix.

![screenshot_20170206-181942](https://cloud.githubusercontent.com/assets/485723/22659427/e1c0f270-ec9d-11e6-8af3-926cda2e9802.png)
"
k9mail/k-9,closed,Fix two unparsable Javadoc comments,[],"Two Javadoc comments were broken HTML-wise:
* LockableDatabase: missing '>'
* FoldableLinearLayout: unquoted '<' and poor formatting of code example"
k9mail/k-9,closed,Fix a few Javadoc typos,[],I found some Javadoc typos and fixed them
k9mail/k-9,closed,Avoid static reference to AttachmentInfoExtractor,[],#2181 done differently.
k9mail/k-9,closed,Rework ClipboardManager to avoid leaking Context (2),[],#2179 done differently.
k9mail/k-9,closed,Remove trailing new lines from subject,[],Fixes #2188 
k9mail/k-9,closed,"Update robolectric, use Runner class instead of annotations",[],"* updates robolectric to 3.2.2
* uses Runner class to configure Manifest path and SDK instead of repeating the same annotation again and again"
k9mail/k-9,closed,Add encrypted.asc filename to PGP/MIME emails,[],"Following what Thunderbird and GPGTools does, I am naming the encrypted part ""encrypted.asc"".
Fixes https://github.com/k9mail/k-9/issues/2031"
k9mail/k-9,open,With many accounts the default account doesn't check mail,"[Label(name=""needs info"")]","### Expected behavior
All accounts check mail as configured (usually between 15 minutes and twice a day)

### Actual behavior
All 12 accounts check mail as configured, EXCEPT the account defined to be the default account. I can check mail manually ad it updates correctly, but doesn't check automatically.  Problem persists when moving to new phone with different Android version (fresh install, but ported settings)

### Steps to reproduce
1. Set one account to default, assign polling frequency to 15 minutes, wait. 
2.
3.

### Environment
K-9 Mail version: 5.203, the problems tarted with 5.200

Android version: 7.1.1 (problem started with different phone and Android 6.1)

Account type (IMAP, POP3, WebDAV/Exchange):
POP3"
k9mail/k-9,closed,Don't build messages without a format,[],"This doesn't fix #2188 but it will prevent bad messages from being sent and should give a stack trace for why we are not setting the MIME Version (which we do by calling `MimeMessageHelper.setBody(message, body);`

(I'm currently looking at why exactly it happens)."
k9mail/k-9,closed,Improve colours of encryption icons for colour blindness,"[Label(name=""enhancement"")]","### Expected behaviour
The app should be usable by people who are colour blind

### Actual behaviour

The colours are all very similar. The icons do help a little but perhaps not enough

![vc_jny6vg_sim](https://cloud.githubusercontent.com/assets/1316415/22628664/ffa353d8-ebcf-11e6-971a-ba55b902c7eb.jpg)

![vc_hnp2kr_sim](https://cloud.githubusercontent.com/assets/1316415/22628665/00ff0b00-ebd0-11e6-8330-bfadd70d7de3.jpg)


### Steps to reproduce
1. Be colour-blind or use a site like http://www.vischeck.com/vischeck/vischeckImage.php to simulate it.
2. Browse the app and receive e-mail

NB: Ideally a test tool would exist either as an overlay app or in the IDE.

### Environment
K-9 Mail version: 5.204

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): N/A
"
k9mail/k-9,closed,K-9 sometimes does not send a complete MIME header,"[Label(name=""bug"")]","### Expected behavior
K-9 should send a correct MIME email message.

### Actual behavior
The message contains the MIME stuff (boundaries, headers, etc) in the mail content, but _does not_ send the ""MIME-Version"" header nor the ""Content-Type"" header in the email's header part.

### Steps to reproduce
1. Click on the ""New message"" icon
2. Choose a receiver (yourself if you're testing)
3. Paste a text from a web page into the _Subject_ line of the mail that includes formatting (for example, a text from a &lt;h1&gt;...&lt;/h1&gt;); the text will look formatted in the input box (which I doubt it should, subjects cannot contain formatting)
4. Type an arbitrary body text
5. Send the message

### Environment
K-9 Mail version: 5.203

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

### Sent email (source view)
```
Return-Path: <sven@berkvens.net>
X-Original-To: sven@berkvens.net
Delivered-To: sven@localhost
Received: from SvensNote3.dynamic.berkvens.net (whiskers.berkvens.net [80.100.221.128])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by mail.csaw.nl (Postfix) with ESMTPSA id 6C702340136;
	Sun,  5 Feb 2017 14:51:37 +0100 (CET)
Date: Sun, 05 Feb 2017 14:51:35 +0100
Subject: Some formatted text
To: Sven Berkvens-Matthijsse <sven@berkvens.net>
From: Sven Berkvens-Matthijsse <sven@berkvens.net>
Message-ID: <5D3A2FF3-A1C6-45CA-80F6-732C87E04424@berkvens.net>
X-SpamProbe: GOOD 0.0351478 7a76b3a682e10d01f73efc258f2dc661

------2LNBJIVCUUGCF2F3DBHG6IYX800DH3
Content-Type: text/plain;
 charset=utf-8
Content-Transfer-Encoding: quoted-printable

Test
------2LNBJIVCUUGCF2F3DBHG6IYX800DH3
Content-Type: text/html;
 charset=utf-8
Content-Transfer-Encoding: quoted-printable

Test
------2LNBJIVCUUGCF2F3DBHG6IYX800DH3--
```

### Extra information
As you can see above, the email is lacking certain headers that it should have had, as discussed above.

Not sure whether this is related, and I could investigate further if anyone wants me  to, but I use MessagEase as a keyboard. This keyboard allows pasting directly from the keyboard itself. It doesn't matter whether I paste using that function or simply by long-pressing the _Subject_ line and then choosing _PASTE_ from the context menu.

I copied the text from this site: http://www.marktplaats.nl/a/huis-en-inrichting/bureaus-en-bureaustoelen/a1009985199-bureaustoel-bock-burostoel-zwart-verstelbare-armleggers.html . For example, copy the _Bureaustoel Bock_ part of the page."
k9mail/k-9,closed,Support saving to removable storage,"[Label(name=""enhancement""), Label(name=""needs info"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

Upon opening an email with an attachment, notification window should appear with two buttons namely, 'Open' and 'Save'.
Touching the 'Open' button should open after offering a selection of apps that associate to the type of the file to be opened.
Touching 'Save' should result in the file being saved to the storage medium set or chosen through K-9's general and/or account settings.
The above should happen irrespective of the email account type.

### Actual behavior
Tell us what happens instead

Upon opening the email, notification window appeared for an attached video file (MP4 format). In the window were two buttons 'Open' and 'Save'.

Touching 'Open' button offered to play the file which worked fine after selecting the VLC app.

Pressing 'Save' results in a notification of short duration stating ""Unable to save attachment to SD Card""

The above also happened with another example email which had a still picture (JPG format) attachment.

The above happens with an IMAP account yet not with a POP3 account.
[k9-log.txt](https://github.com/k9mail/k-9/files/752889/k9-log.txt)


### Steps to reproduce
1. Opened K-9
2. Opened a mail in an IMAP account with a video attachment (had <5MB)
3. Touched 'Save' button
4. Error message appeared for circa few seconds

### Environment
K-9 Mail version: 5.203

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Use json for serializing pending commands [Rebased],[],"Merging back from master was considerably less complicated.

See #1557 "
k9mail/k-9,closed,"Plus addressing, Subdomain addressing and identities","[Label(name=""duplicate"")]","### Expected behavior
I have currently an account on Fastmail (user@example.com) which allows subdomain addressing (whateveryoulike@user.example.com is automatically forwarded to user@example.com).
Being able to create many emails on the fly is very useful to track how our email is used by companies (for instance I am giving whateveryoulike@user.example.com to the company whateveryoulike).
The same thing can also be achieved through ""Plus Adressing"" (user+whateveryoulike@example.com).

However on K9mail, we have to manually create identities before being able to use them as sender's email (while composing a new email or while replying to).
It would be nice to have a new feature to handle that automatically.
For instance if I received an email addressed to whateveryoulike@user.example.com, if I click Reply, the sender's address can be populate with whateveryoulike@user.example.com as well instead.

### Actual behavior
if I received an email addressed to whateveryoulike@user.example.com, if I click Reply, the sender's address is filled with the default identity.

### Steps to reproduce
1.Send an email whateveryoulike@user.example.com
2.Email is automatically forwarded to user@example.com
3.Reply to the email within K9
4. Sender's address is the default identity user@example.com instead of whateveryoulike@user.example.com

### Environment
K-9 Mail version:
v5.203
Android version:
6.0
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Make base activities abstract,[],
k9mail/k-9,closed,'Whistleblowing' option,"[Label(name=""enhancement""), Label(name=""security""), Label(name=""third-party integration"")]","Either in the encryption options or otherwise, we should add a 'whistleblowing' option. I consider this a 'slider preference' option.

This would configure the app to do the following:

* Request the OpenPGP application to create a key - this may result in an activity for basic details but would automate as much as possible
* Encrypt the email with the key associated with that email address
* Not save the e-mail to Sent Items
* Delete the OpenPGP key once it's been used.

The signing key would only be created and available during the send process.

The aim here is to 

* Support a mid level of plausible deniability. We're not interested in security services here (for that, #2139)  more the corporate case.
* Help retain the link between signing and trust
* Remove the corner case where people request encryption without signing."
k9mail/k-9,closed,Move hardcoded text to string resources,[],More fixes pulled from checking the lint report.
k9mail/k-9,closed,Rework InfoExtractors to avoid leaking Context,[],This one's a bit more involved due to the nesting of classes which have no access to a context.
k9mail/k-9,closed,Rework EmailProvider to avoid leaking Context,"[Label(name=""needs work"")]",
k9mail/k-9,closed,Rework ClipboardManager to avoid leaking Context,[],"Solving a lint warning:

> Do not place Android context classes in static fields (static reference to `ClipboardManager` which has field `mContext` pointing to Context); this is a memory leak (and also breaks Instant Run)"
k9mail/k-9,closed,SliderPreference - Fix lint warning,[],Tiny fix for a lint warning.
k9mail/k-9,closed,email goes to draft on Nexus 7,[],"I forgot to add that everything works fine with my gmail account and same settings


Tell us what should happen
I send eamil

### Actual behavior
Tell us what happens instead
instead of sending email it goes to draft.  I use exact same setting on my phone and it works.
no error message


 

### Environment
K-9 Mail version:  don't know how to find out   downloaded Feb 2

Android version: 6.0.1

Account type  POP3,  "
k9mail/k-9,closed,MessageProvider related fixes and testing,[],Mainly a PR to add tests to MessageProvider plus some tiny tweaks I found while testing. 
k9mail/k-9,open,OpenKeychain complains about signing subkey despite a green icon,"[Label(name=""bug""), Label(name=""third-party integration"")]","### Expected behavior

I should be able to send PGP encrypted email.

### Actual behavior

I can no longer send PGP encryped email.

The new version of K9 that uses OpenKeyChain is simply broken.

I've been using K9 + AGP for years, and it always worked 100%. 

If it was possible to get it working, I should have been able to do so: I have been professionally programming for 20 years, and I understand how PGP ticks at a basic mathematical level. If I failed, how much chance would a beginner have?

### Steps to reproduce

Note: these steps work 100% with K9 + the old APG (which is now deprecated).

1. Import my PGP public key into OpenAGP. I never import my private key, as I want to have one-way communications between my phone, and Outlook running on my PC.
2. Send email using K9 + OpenAGP.
3. K9 throw an error which prevents the email from getting sent:

![ss2](https://cloud.githubusercontent.com/assets/1290916/22621588/1fce2ea0-eb1f-11e6-9c4f-dfa64e8947dc.png) 
![ss3](https://cloud.githubusercontent.com/assets/1290916/22621586/1fce06d2-eb1f-11e6-9275-02eb5d96c0b5.png)
![ss4](https://cloud.githubusercontent.com/assets/1290916/22621589/1fce6b18-eb1f-11e6-9205-0003b11764ab.png)

## Discussion

The error that K9 throws is not very helpful. It gives no real clue that would help solve the issue. I must admit - I'm stuck. I havn't been able to send an encrypted email since OpenKeyChain was introduced into K9.

### Environment

K-9 Mail version: Latest as of 2017-02-04.

Android version: LG G4 + Android 6.0 + Kernel 3.10.84

Account type (IMAP, POP3, WebDAV/Exchange): IMAP.

### Update 1

I think i know what the issue is.
- Imported public key. 
- K9 forced me to generate a temporary signing key. 
- I could then send messages. 
- As an experiment, I deleted the temporary signing key. 
- K9 couldnt send emails. 
- I resigned the public key by generating the temporary signing key again. 
- K9 still couldnt send email. 
- I think deleting and readding the temporary signing key is what caused the issue. 
- I suspect (but havnt tried)  that deleting all keys, then reimporting, will solve the problem. 

### Update 2

I deleted all keys in OpenKeyChain. 

I then imported my public key again, and verified it with a temporary signing only key.

Its still giving the same error. 

### Update 3

Uninstalled OpenKeyChain, reinstalled, and am still getting the same error in K9. 

When I first installed K9/OpenKeyChain, I was able to send PGP email. If unininstalling/reinstalling OpenKeyChain fails to fix the issue, then I would suspect the issue is with K9. "
k9mail/k-9,closed,Add additional debug to diagnose message sync issues,[],In analysing #1422 I saw a couple of places where additional debug could improve the logs.
k9mail/k-9,closed,It stutters on weak cpu,"[Label(name=""performance"")]","
### Expected behavior
Not to stutter

### Actual behavior
version 5.203. It stutters when scrolling the screen in Unified Inbox view or any other email list view.

### Steps to reproduce
 It is about increased cpu requirement in 5.203. I rolled back to version 5.202

### Environment
K-9 Mail version:5.203

Android version: 4.01, 4.2.2 
CPU: 2* 1GHz

Account type (IMAP, POP3, WebDAV/Exchange): imap, pop3."
k9mail/k-9,closed,Tests for EmailHelper,[],
k9mail/k-9,closed,Tests for OpenPgpApiHelper,[],
k9mail/k-9,closed,Basic behavioural tests of the EmailProviderCache,[],
k9mail/k-9,closed,Fix notification actions,[],"Don't use `Parcelable` extras in Intents that are launched from notifications.

Fixes #1822"
k9mail/k-9,closed,crossed rectangles instead of question marks in e-mail preview,[],"Ã�Â�Ã�Â¢Ã�Â�Ã�Â�Ã�Â�Ã�Â¤

I already spotted another issue that might be related. but i want to make thinks clear, because I do not realy understand the issue on #1663 

### Expected behavior
i expect to see the same question marks in the preview like i can see them in the e-mail it self.

### Actual behavior
the mail preview has not the same characters as i see them in the e-mail itself.
all questionmarks from the e-mail content are shown in the preview a crossed rectangle.
Ã�Â�Ã�Â¢Ã�Â�Ã�Â�Ã�Â�Ã�Â¤

### Steps to reproduce
i tried i manually, but it seams that it might be a github specific problem.
so. i just hope that it is reproducable for me, after posting this issue here on github. i just have signed to all notifications in k-9.
i let you know if it is the same. so i posted the line with the wrong encoded output directly at the beginning.

![k-9-issue---2017-02-03-00 02 45](https://cloud.githubusercontent.com/assets/3397868/22575177/46a5f718-e9b4-11e6-819d-076f0d88764f.jpg)


### Environment
K-9 Mail version: 5.203

Android version: 6.0.1 (security patch 01.05.2016)

Account type (IMAP, POP3, WebDAV/Exchange):
gmail IMAP"
k9mail/k-9,closed,Account mailbox size,[],"Hello,

The size of my account mailboxes is not decreasing when I delete messages. I have tried clearing local messages and compacting account but the size of the mailbox does not decrease, they keep getting larger. Removing and re-adding email accounts does not make a difference.

Before recent K-9 Mail updates, clearing local messages in each folder after deleting messages and emptying trash would reduce the size of the account mailbox to around 100KB or less.

There is a thread in the general purpose mailing list that began in early January.
https://groups.google.com/forum/#!topic/k-9-mail/OEpBHFCtxBo

### Environment
K-9 Mail version: 5.203

Android version: 5.0.2

Account type (IMAP, POP3, WebDAV/Exchange): POP 3 and IMAP

Your help will be appreciated.
Regards,
Richard Sakanashi"
k9mail/k-9,closed,locaal,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Bullet text missing  in message body,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
Bullet list should show the text in message body

### Actual behavior
Text is missing for bullets in messages being received after latest upgrade

### Steps to reproduce
1. Login
2. Check messages that hv bullets
3. Encounter text missing for bullets 

### Environment
K-9 Mail version:
5.2.0.3
Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
imap"
k9mail/k-9,closed,Drafts deleted when syncronizing with IMAP server,"[Label(name=""bug"")]","Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When ""Save as Draft"" is selected, draft should be remain saved either locally or on the server for future access. 

### Actual behavior
Either draft is automatically completely deleted and no longer available upon server sync, or the draft remains in the ""drafts"" folder but when opening the compose window, the text is no longer available. It seems this is dependent on the encryption setting; everytime I re-open the draft I have to re-select ""Don't encrypt"" because the default is always ""encrypt if possible"".  The last selection should be remembered. If ""encypt if possible"" or ""encrypt"" is selected, the draft is deleted upon sync.  If not, I can often no longer access the draft text. This happens regardless of account, and only started after upgrading to the latest K9 version and adding my keys to OpenKeychain (I was using a much older version of K9 prior to this, not sure which).

### Steps to reproduce
1. Create a draft email with text in the body.
2. Select ""don't encrypt""
3. Save draft by selecting either ""save draft"" or by pressing back and ""save draft"".
4. Text is gone after server sync.

OR

1. Create a draft email with text in the body.
2. Select ""encrypt"" or ""encrypt if possible"".
3. Save draft by selecting either ""save draft"" or by pressing back and ""save draft"".
4. Draft is gone after server sync. 


### Environment
K-9 Mail version: 5.203

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Exchange (WebDAV),[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior 

Tell us what should happen - I am trying to set up an exchange (WebDaV) email for my work email address but it doesn't work. 

### Actual behavior
Tell us what happens instead -Getting server error messages

### Steps to reproduce
1. Entered server name
2.Entered username
3.tried to connecct to email exchange and got server error message

### Environment
K-9 Mail version:5.202

Android version: 6.01

Account type (IMAP, POP3, WebDAV/Exchange): WebDAV/Exchange
"
k9mail/k-9,closed,Impossible to edit recipient addresses,"[Label(name=""duplicate"")]","### Expected behavior
There should be some way to edit the recipient email address short of deleting and retyping the entire thing.

### Actual behavior
There is no obvious touch or sequence of touches to make the address editable.  The delete button on the softkeyboard is active but deletes the entire address (and in any case there is no way to move point to the position where deletion or insertion is required).

### Steps to reproduce
1. Reply to a message from an RT queue.
2. Try to figure out how to append or remove ""-comment"" from the local-part of the queue's address.
3. Get frustrated and give up on responding to that ticket in K-9.

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,"GMail's Social, Promotions, Updates","[Label(name=""enhancement""), Label(name=""help wanted"")]","I'd like K-9 to use GMail's email types Social, Promotions and Updates. Incoming emails of those types should not trigger a ""You have a new unread email"". This is the default behavior of Gmail. Is that possible?"
k9mail/k-9,open,Notification count incorrect.,"[Label(name=""bug"")]","Whilst running in the background, K9 checks or receives (PUSH) new mail and displays the count in the notification area.  In that area, it used to say the exact number of NEW emails received since the last active user check was performed.

### Expected behavior
Notification shows exact number. 

eg,  It says (for example) 9 NEW MESSAGES and when tapping to display them within K9, 9 new messages would show.

### Actual behavior
This X NEW MESSAGES number often doesnt correspond to the _actual_ number of new messages.  I have noticed this almost every day and carefully applied a test to prove it.  See the following screenshots:

This shows a Thunderbird email client proving how many emails are to be expected on the phone (the test was started at 16:00)

![image](https://cloud.githubusercontent.com/assets/15649182/22480782/8401533a-e7ea-11e6-875d-6b6d6b29bb04.png)


This is the notification as it appears.  Despite there being 9 new messages, it actually says only 5:

![image](https://cloud.githubusercontent.com/assets/15649182/22480860/c5fc9416-e7ea-11e6-832a-3c9c5edf2843.png)

Tapping the notification to display the new messages does show the expected 9 (matching that as reported by Thunderbird):


The first (most recent) 6:

![image](https://cloud.githubusercontent.com/assets/15649182/22480588/d12d42c8-e7e9-11e6-92ec-91bc0a40d8f4.png)


and a scroll down to display the other 3  (below the 17:33 timed email):

![image](https://cloud.githubusercontent.com/assets/15649182/22480900/ee4af52a-e7ea-11e6-8175-0695dfd4b6cc.png)


### Steps to reproduce
1.  Look at k9 - take note of your last email, then leave it alone (running in background/service)
2.  Wait for a number of emails to come in.
3.  After a while, check your phone and see the notifications say X NEW MESSAGES but upon entering you see X+MORE actual new messages have arrived.

NOTE:  This did not happen in version 5.200.


### Environment
K-9 Mail version:  5.203

Android version:  4.2.1

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP
"
k9mail/k-9,closed,Code refactoring in preparation of HtmlCleaner replacement,[],
k9mail/k-9,closed,Test and fix database upgrade process,"[Label(name=""performance"")]","I wrote some tests for DB upgrade.

What I currently test:

* Basic creation of the database works
* Failure throws an ERROR in DEBUG
* Upgrading from V29 produces the same database structure as a fresh install (passes with a new migration step added)

NB: 

1. I basically created a v29 database by deleting stuff until the upgrade worked. I didn't dig through the Git history for an actual v29 database (if it even exists). This isn't why the test breaks though.

2. The tests are still fairly blunt instruments. Basically it's a check that the same named tables, triggers and indexes are created. Should catch most stuff though, especially going forward.



"
k9mail/k-9,closed,Add setting for archive per year/month,[],"### Expected behavior
It would be great if one could use archive folders per year or per month like Thunderbird does, e.g.

Archives/2015
Archives/2016
Archives/2017

K-9 Mail should use the correct folder based on the date of the messages.

### Actual behavior
K-9 Mail uses a single archive folder and has no setting to change this behavior.

### Environment
K-9 Mail version: 5.203

Android version: CM13 / 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Cannot import client p12 certificate when storage location is external storage,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
I expect the decripted certifcate to be imported

### Actual behavior
the chosen certificate is erased
I get a window with the list of remaining certificates 

### Steps to reproduce
in setting up the incoming server i choose 
account setttings->sending mail->outgoing server
flag require sign-in
choose client certificate as authentication
then within the window I choose import
a new window with the list of certificates available on sdcard0 appears
I choose the certificate
I give the certificate pwd
the certificate contain is showed
a message says the import is ok
a window with the certificates on sdcard0 appears. 
The chosen certificate is deleted



### Environment
K-9 Mail version: 5.203

Android version: 4.2.2

Account type (IMAP, POP3, WebDAV/Exchange): imap
"
k9mail/k-9,open,Default sender identity based on current folder,"[Label(name=""enhancement"")]","Based on email/alias/folder. For accounts with single mailbox (as Gmail) but many different addresses inside it and different PGP keys. Please.
"
k9mail/k-9,open,"Number of mails to sync via ""Load up to 25 more""",[],"**Account settings** --> **Fetching mail** --> **Local folder size** sets the number of mails to fetch. Scrolling down in mailbox, you find **Load up to 25 more**, what let you fetch n x 25 more mails than stated in **Local folder size**.

### Expected behavior
When I delete a mail, I expect it to be subtracted from the amount of mails added to **Local folder size**.
Say, I have **Local folder size** == 25. When I extend fetching to 200 mails via **Load up to 25 more** and delete 197 mails, I want the fetching to fall back to 25.

### Actual behavior
Instead it continues the 200 mail synchronization until 197 new mails came in and kind of flushed the old ones out.

### Steps to reproduce
See above.

### Why this is important/annoying to me
I get lots of ""spam"" (not really important feedback of scripts). When I use **Load up to 25 more** several times to extend the fetching up to the last important mail and then delete the junk inbetween, it continues to fetch 200 mails, whats heavy on my data-bill and completely unnecessary since I know the older ones.

### Environment
K-9 Mail version: 5.203

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,K9 mail sends mail with no sender,"[Label(name=""needs info"")]","Hi,

Sometimes K9 mail sends mail with no sender.

In fact the sender informations does not appear in client mail software of recipients.

It is not systematic.

### Environment
K-9 Mail version:
Latest version
5.203

Android version:
6.0.1 Marshmallow

Account type (IMAP, POP3, WebDAV/Exchange):
Pop3 accounts on mutualized web server"
k9mail/k-9,closed,Better handle conditional comment in attribute value,[],See #2148
k9mail/k-9,closed,Address file clean-up,[],Lint check fixes.
k9mail/k-9,closed,Ignore the captures folder - generated by AndroidStudio,[],"See http://stackoverflow.com/questions/16736856/what-should-be-in-my-gitignore-for-an-android-studio-project

It's generated when you do an application capture in AndroidStudio."
k9mail/k-9,closed,Unable to use PosteCert PEC on K9mail,[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Actual behavior
Tell us what happens instead

I try to configure a PEC mail (Poste Cert Mail) and the working configuration on Thinderbird and bluemail is indicated here: http://postecert.poste.it/pec/configurazione.shtml

but K9mail send error message ""Unable to connect"" also Fastweb mail is not working with K9Mail. Fastweb mail configuration available here: https://fastweb.it/myfastpage/assistenza/guide-configurazioni/smartphone/config-android/

### Expected behavior

I expect that all works fine. >In blue mail is working fine, K9 mail is not working with Fastweb and PEC Poste Cert mail.


### Steps to reproduce
Just try to configure PosteCert or Fastweb

### Environment
K-9 Mail version:
5.203

Android version:
Android 6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):

IMAP, POP 3"
k9mail/k-9,closed,"Display of random ""MSO"" formatting text in HTML","[Label(name=""bug"")]","Sorry for the title - I didnt know how best to say it.  I am also guessing at the cause.  The best thing I can do is show you screen shots.

The preface:

I received an email.  On my K9 it looks awful but the same email when view using, for example Thunderbird, it displays all just fine.

I have taken the source of the email, removed non-necessary headers (put there by Yahoo upon delivery), and redacted some links and detail for my privacy (hopefully!).  This attachment, when renamed to being .EML, shows the email as it was received.  (How you get this to display in your K9 test app I dont know but Im sure you have your ways).

[MSOtest.txt](https://github.com/k9mail/k-9/files/737088/MSOtest.txt)


### Expected behavior
Display clean HTML-based email.  As displayed in Thunderbird:

![image](https://cloud.githubusercontent.com/assets/15649182/22399114/0d252c4a-e58e-11e6-8c46-2dd116623912.png)


### Actual behavior
As displayed in K9 Mail:

Part 1:
![image](https://cloud.githubusercontent.com/assets/15649182/22399133/66318aa4-e58e-11e6-8503-e2296677150e.png)


scroll down a bit, part 2:

![image](https://cloud.githubusercontent.com/assets/15649182/22399135/81e76d68-e58e-11e6-9116-56beafbb6549.png)

You can see it is full of .lines such as ""**mso-line-height-rule:exactly;line-height:20px; color:#666666;**""

### Steps to reproduce
1.  Get an email to display on your K9 Mail that contains the same message source as the attachment above.

I make no judgement on the cause - you guys know more than me.

### Environment
K-9 Mail version:  5.203

Android version:  4.2.1

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP"
k9mail/k-9,open,K9mail can't  find public keys of recipients,"[Label(name=""bug"")]","
### Expected behavior
Successfully encrypt messages for recipients with an associated key in Openkeychain (OKC).

### Actual behavior
When I try to send encrypted messages to recipients with a public key in OKC I get this :

`""private mode is enabled but some recipients don't have keys.""` and the dots of the lock icon don't become green anymore.

I've triple-checked the crypto settings of the account and the recipient address of course.

It used to work before but not anymore, I don't know what triggered that behavior.

### Steps to reproduce
1. create a new mail, fill recipient
2. Select Encrypt
3. Tap on the send icon

### Environment
K-9 Mail version: 5.203 from fdroid

Android version: cm-13

Account type : POP3
"
k9mail/k-9,closed,SSLHandshakeException after update to Android 7.0,[],"### Expected behavior
Email should be fetched.

### Actual behavior
Getting SSLHandshakeException and started to get it after updating to Android 7.0 on OnePlus 3, it works using the Gmail client so seems to be related to the k9 client. The cert is also a ECDSA certificate from Let's Encrypt.

    01-27 10:34:22.758 23033-23050/? E/k9: Failed to login, closing connection for conn112983937
    01-27 10:34:22.760 23033-23050/? E/k9: IOException for xxx@example.com:INBOX/MessagingController/conn112983937
                                           javax.net.ssl.SSLHandshakeException: Handshake failed
                                               at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:429)
                                               at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:682)
                                               at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:644)
                                               at com.fsck.k9.mail.store.imap.ImapConnection.setUpStreamsAndParserFromSocket(ImapConnection.java:228)
                                               at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:114)
                                               at com.fsck.k9.mail.store.imap.ImapConnection.sendCommand(ImapConnection.java:640)
                                               at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:623)
                                               at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:612)
                                               at com.fsck.k9.mail.store.imap.ImapFolder.executeSimpleCommand(ImapFolder.java:109)
                                               at com.fsck.k9.mail.store.imap.ImapFolder.internalOpen(ImapFolder.java:145)
                                               at com.fsck.k9.mail.store.imap.ImapFolder.open(ImapFolder.java:114)
                                               at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:845)
                                               at com.fsck.k9.controller.MessagingController$9.run(MessagingController.java:739)
                                               at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
                                               at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
                                               at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
                                               at java.lang.Thread.run(Thread.java:761)
                                            Caused by: javax.net.ssl.SSLProtocolException: SSL handshake terminated: ssl=0x7f32ac49c0: Failure in SSL library, usually a protocol error
                                           error:10000410:SSL routines:OPENSSL_internal:SSLV3_ALERT_HANDSHAKE_FAILURE (external/boringssl/src/ssl/s3_pkt.c:610 0x7f30ff7f80:0x00000001)
                                           error:1000009a:SSL routines:OPENSSL_internal:HANDSHAKE_FAILURE_ON_CLIENT_HELLO (external/boringssl/src/ssl/s3_clnt.c:764 0x7f6acbdf76:0x00000000)
                                               at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
                                               at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)
                                               	... 16 more
    01-27 10:34:22.763 23033-23050/? E/k9: synchronizeMailbox
                                           com.fsck.k9.mail.MessagingException: IO Error
                                               at com.fsck.k9.mail.store.imap.ImapFolder.ioExceptionHandler(ImapFolder.java:1366)
                                               at com.fsck.k9.mail.store.imap.ImapFolder.internalOpen(ImapFolder.java:163)
                                               at com.fsck.k9.mail.store.imap.ImapFolder.open(ImapFolder.java:114)
                                               at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:845)
                                               at com.fsck.k9.controller.MessagingController$9.run(MessagingController.java:739)
                                               at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
                                               at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
                                               at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
                                               at java.lang.Thread.run(Thread.java:761)
                                            Caused by: javax.net.ssl.SSLHandshakeException: Handshake failed
                                               at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:429)
                                               at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:682)
                                               at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:644)
                                               at com.fsck.k9.mail.store.imap.ImapConnection.setUpStreamsAndParserFromSocket(ImapConnection.java:228)
                                               at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:114)
                                               at com.fsck.k9.mail.store.imap.ImapConnection.sendCommand(ImapConnection.java:640)
                                               at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:623)
                                               at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:612)
                                               at com.fsck.k9.mail.store.imap.ImapFolder.executeSimpleCommand(ImapFolder.java:109)
                                               at com.fsck.k9.mail.store.imap.ImapFolder.internalOpen(ImapFolder.java:145)
                                               at com.fsck.k9.mail.store.imap.ImapFolder.open(ImapFolder.java:114) 
                                               at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:845) 
                                               at com.fsck.k9.controller.MessagingController$9.run(MessagingController.java:739) 
                                               at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204) 
                                               at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115) 
                                               at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173) 
                                               at java.lang.Thread.run(Thread.java:761) 
                                            Caused by: javax.net.ssl.SSLProtocolException: SSL handshake terminated: ssl=0x7f32ac49c0: Failure in SSL library, usually a protocol error
                                           error:10000410:SSL routines:OPENSSL_internal:SSLV3_ALERT_HANDSHAKE_FAILURE (external/boringssl/src/ssl/s3_pkt.c:610 0x7f30ff7f80:0x00000001)
                                           error:1000009a:SSL routines:OPENSSL_internal:HANDSHAKE_FAILURE_ON_CLIENT_HELLO (external/boringssl/src/ssl/s3_clnt.c:764 0x7f6acbdf76:0x00000000)
                                               at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
                                               at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)
                                               	... 16 more

I have SSL2/3 disallowed on the IMAP server (Dovecot) and can't find why the connection fails.

![screenshot from 2017-01-27 11-24-03](https://cloud.githubusercontent.com/assets/673720/22367840/fa3f6f1a-e483-11e6-9a60-bc6f4776152d.png)

Pretty much the same result for SMTP except it supports a few more ciphers.

### Steps to reproduce
1. Add account for mail server
2. Connection to server fails

### Environment
K-9 Mail version: 5.203

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (Dovecot)
"
k9mail/k-9,open,Add app shortcut for composing email,"[Label(name=""enhancement"")]","
### Expected behavior
Be able to long-press on the K-9 app for a short-cut to compose an e-mail. 

### Actual behavior
Nothing. We don't have any shortcuts

### Steps to reproduce

1. Long-press on the K-9 app

### Environment

K-9 Mail version: 5.203

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

### Developer Notes

Requires API version 25
"
k9mail/k-9,closed,Handle connection closing after authentication failure,[],Fixes #2134
k9mail/k-9,closed,Clear local messages -> freeze,"[Label(name=""bug""), Label(name=""performance"")]","### Expected behavior
""Clear local messages"" should clear the locally stored messages, allowing one to re-download the messages from the server.

### Actual behavior
Freeze.

### Steps to reproduce
1. Have a folder with some large amount of messages. A few hundred should suffice.
2. Make sure it's NOT up-to-date with the server
3. Clear its local messages.

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Cleanup,[],Clean up some of the top Checkstyle offenders.
k9mail/k-9,closed,MessageCompose cleanup,[],"Cleaning up these classes while we don't have a lot of MessageCompose changes in the queue. This mostly just fixes android studio warnings, cleans up the order of fields and gets rid of the m prefix."
k9mail/k-9,closed,Allow all outgoing email to be signed by default,"[Label(name=""wontfix"")]","Hi,

Prior to 5.2 it was possible for the ""sign outgoing message"" to be selected by default on all new messages in an account. Please can this feature be restored?

### Expected behavior
All outgoing messages are either encrypted if a key exists or signed if no key exists

### Actual behavior
The 'enable PGP sign only' menu option must be selected for each message and reply 

### Steps to reproduce
1. Compose new email in a K-9 instance with open keychain installed and a valid private key set up
2. Verify that there is no ability to automatically sign the message
3. Select 'enable PGP sign only' from the menu
4. Send the message
5. Compose a new message
6. The 'sign only' options must be selected again. 


### Environment
K-9 Mail version: 5.2

Android version: 13

Account type (IMAP, POP3, WebDAV/Exchange): imap
"
k9mail/k-9,open,Implement the DIME protocol,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Lavabit.com has reopened their business and is back with a new e-mail protocol that protects metadata and gives encryption from the get go. 
To really protect the user this needs to be done on the users client.
I therefore would like to see an implementation of https://darkmail.info/spec in k9 eventually"
k9mail/k-9,closed,Move recipient tokens via drag and drop (sort of WIP),"[Label(name=""help wanted""), Label(name=""needs work"")]","I dabbled around with android's drag and drop mechanism a little yesterday. Seems like it's not too difficult to get this to work. But it feels like a lot of poking in the dark to get to a nice user experience and I don't have the time for that.

It would be a nice feature though for moving recipients around between To/Cc/Bcc, so I'll just leave this branch here. Maybe someone else wants to fiddle around with it some more. If not, feel free to close in a while."
k9mail/k-9,closed,Add database migration to clean up orphaned data,[],"Also extend database trigger to remove entries from `messages_fulltext`

Fixes #2103"
k9mail/k-9,open,Global display settings changes are not applied immediately,"[Label(name=""bug"")]","### Expected behavior
When I change some of the display settings (hiding the stars, showing the checkboxes) and go back to the current inbox, I expect the new settings to be applied to the current folder immediately.

### Actual behavior
If I am in a folder and change the global display settings and then go back to the folder, they are not applied.

### Steps to reproduce
1. Open an IMAP folder
2. Click ... > Settings > Global Settings > Display
3. Change an option, for example Hide Stars From the Message List
4. Click the back button on your phone
5. You will go back to the folder, but the stars are not hidden
6. In order to apply the settings you have to exit and folder and enter it again

### Environment
K-9 Mail version:
5.203

Android version:
4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Syncing Disabled,[],"At random times, to which I can't figure out when, K-9 Mail will show Syncing Disabled under my Inbox and notifications will not show up.

### Expected behavior
Notifications should arrive when mail arrives. Inbox should not be showing ""syncing disabled""

### Actual behavior
Under the inbox you will see 'syncing disabled"" and during this time no notifications will show up. A pull to refresh in the window will grab new email but it goes back to syncing disabled. All regular settings to allow syncing and intervals are set up correctly where this should be working.

### Steps to reproduce
1. Possibly not using the app for hours. Do not know the cause.
2. Notice on another device (desktop client) that new mail arrived.
3. Check K-9 Mail (the inbox) and see syncing is disabled

### Environment
K-9 Mail version: 5.203
Android version: 7.0 (Nexus 6)
Account type: IMAP
"
k9mail/k-9,closed,Response to authentication failure due to password,"[Label(name=""bug"")]","### Expected behavior
A user correctly sets up an email account in K9. User changes their password on the email system K9 is connecting to. User has not updated the password set in the K9 account settings.

When an authentication failure occurs due to password, notify the user that the password is incorrect and provide them with a dialog to update the password in K9 account settings.

Don't continually try to authenticate with the server thus potentially triggering account lockouts due to multiple authentication failures in a short span of time.

### Actual behavior
When an authentication failure occurs due to password, no prompt or error is displayed for the user.

Continually attempts to authenticate with server and in our system triggers the account lockout.

### Steps to reproduce
1.Setup an email account in K9
2.Change password in email system
3.Refresh inbox in K9
4.Observe no errors or prompts about incorrect password being displayed
5.Monitor audit log of mail system for authentication failures and lockout

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

[k9-log-extract.txt](https://github.com/k9mail/k-9/files/728243/k9-log-extract.txt)
"
k9mail/k-9,open,Annoying Folder Selection: Should persist selection,"[Label(name=""bug"")]","Hi,
k-9's method to select mail folders by classifying them into 1st and 2nd class folders is excellent and quite usefull. 

However, it is bulky and annoying, that the selection whether to see all, 1st or 1st and 2nd class folders must be done every time. When sorting hundres of mails into some folders (in a mailbox with dozens of folders) you need to open the menu and choose the selection every single time when moving a message, which drives one just crazy. 

It should remember the selection (all, 1st, 1st+2nd,..) and remain it for folder selection menues until changed. Would make life much, much easier and should be just a little detail.


### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Notifications don't disappear,"[Label(name=""duplicate"")]","Notifications for new mails in Android's notification bar (at the top of the screen) do not consistently disappear when checking mail directly, only when following those notifications

### Expected behavior
Android notification bar: one icon per email account for new emails. When following these, the notification disappears. When going into the mail client and checking the accounts individually, the notifications disappear also. 

### Actual behavior
Notifications only disappear when following them from the notification bar, but not when checking and reading new emails directly. This is not consistent.

### Steps to reproduce
1. Get new mail, have notifications in notification bar (top of Android screen)
2. Do not tap on those, but go directly into mail client, check and read emails 
3. Notifications at top may or may not disappear.

### Environment
K-9 Mail version: latest 5.203

Android version: 6.0.1, Google Nexus 5

Account type: POP3"
k9mail/k-9,closed,Settings classes cleanup,[],"The .preferences.* classes have not been touched in a long time and had a lot of warnings, particularly use of the diamond operator, unnecessarily broad visibility, typecasts that can be handled with generics, and unnecessary unboxing.

I also broke down the `upgrade` method into smaller methods because it took me way too long to figure out what was going on.

There should be no semantic changes in this entire PR, besides a checked assertion in `Settings.upgrade`."
k9mail/k-9,closed,Global crypto provider,[],"This PR moves the crypto provider setting and the ""support unsigned"" one from account settings to global.

This is a working state, but it's still an intermediate PR:
- there is now a ""Cryptography"" setting in both account and global settings, which is confusing
- there is no migration, so users have to set the global crypto provider setting anew after the update

To make things a little clearer, a toast is displayed when the account setting is clicked while no crypto provider is configured that informs the user to check their global settings."
k9mail/k-9,open,"Search slowed since ?, even slower when mobile","[Label(name=""needs info""), Label(name=""performance"")]","Been using this on Samsung devices (now T-mobile S5 with droid 6.0.1) for years in same way: on desktop, connected to wifi, letting it work without interacting or using interface.
Can't tell exactly when search got slow, though suspect sometime over last few months.
Otherwise, Love the app!
Thanks

###Expected behavior
When I go mobile, i use the search function to find small number of inbox emails. results used to be immediate (even when using same phone).

### Actual behavior
results take a long time to return the 4-6 messages i'm asking for. the screen will display ""working"" clock, then go blank, sometimes finish if i wait long enough, but i mostly quit waiting after (what seems like) 30-60 seconds.
all other functions seem normal.

### Steps to reproduce
1. have 250 emails in inbox, about 6 of which would return from the 1-word search term found in ""subject"" field
2. be mobile, on cell data, battery-powered, nearly fully charged
3. tap search button, enter 7-character word and ""go""

### Environment
K-9 Mail version:
5.203
Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Editing recipients is broken (starting at least with version 5.203),[],"On the TO, CC, and BCC entry lines, one expects recipients addresses to be editable. Also, one expects recipients addresses to be copy-cut-and-pasteable between the TO, CC, and BCC entry lines. This is broken in recent versions.
Eg.:

1) Enter abd@m.n into any of TO CC or BCC
Now, try to 'correct' abd@m.n into abcd@m.n
This does not work (anymore).
It used to work in earlier versions. 

2) Reply to *all* of an email, formerly addressed to you, and at least also to ab@c.de
Now, try to cut ab@c.de from the TO recipients entry line and paste it into the BCC (or CC) entry line.
This does not work (anymore). Instead the copy action produces a lower quote character.
It used to work in earlier versions. 

### Environment
K-9 Mail version: 5.203
Android version: several
Account type: IMAP

Currently, with this loss of edibility of addresses, recipients management is awkwardly complicated. PLS reintroduce editable recipients addresses.

Thank you!

xaverm"
k9mail/k-9,closed,add missing pgpSignOnlyDialogCounter to GlobalSettings,[],"Forgot to add that one, it seems. The version at that point was 43 (which also added pgpInlineDialogCounter), and this should have been in there from that point on so I didn't increment the version number but just retrofitted it in."
k9mail/k-9,closed,Set appropriate categories for notifications,[],"Per the Android Material design guidelines we ought to be setting categories to tell Android better about what we're notifying: https://material.io/guidelines/patterns/notifications.html#notifications-settings-priority

I've updated all the different types with the most appropriate category."
k9mail/k-9,closed,Better determination of whether a draft needs saving,[],Fix for #2120 
k9mail/k-9,closed,Fix behaviour of summary notifications,[],This should fix #2121 
k9mail/k-9,closed,Allow another identity to be marked as the Sender of emails from an identity,"[Label(name=""enhancement"")]","I have searched for existing issues, some relate to identities (e.g. #1117 or #935), but they are not addressing my problem/need.

### Expected behavior
I would like to be able to use K9 the way I use Outlook user agent on my PC (and then be able to finally get rid off it!): in the from field, write any email address I want and have the mail sent with this address as ""From:"".

### Actual behavior
When I use a K9 identity, the smtp server of my mail host (one.com) rejects the mail (error 554 5.7.1), but again, it works when I use Outlook. Why?

I had a look in the headers of a successfully sent message (from Outlook UA): the From is what I typed, but the Sender is my regular email account with which I authenticate on the SMTP server. I am pretty fine with this. I would suspect K9 maybe puts my 'From' address in the 'Sender' header as well, which would cause the error, or maybe does not set it at all (I tried to see the headers of a rejected email (from K9), I haven't seen the Sender tag, but it had not been sent, so...), which would be treated the same way.
I have also spotted something strange: in the rejected email's headers, the message-ID was built with the domain of the From address, not the one of my actual SMTP account ('Sender'), maybe is it also a possible cause.

Why all this? I own my domains, and I have set up specific sub-domains for emails. I can put anything before the '@', and I will get emails sent to it (kind of catch-all, but with rules behind). That way, I don't have to actually 'create' aliases (cumbersome), I can provide an arbitrary one any time, and it will work (most of the time, name/company/website@...). I can therefore spot when one of these addresses is misused and create a rule to trash all mails received through it if needed.
However, this solution does not allow me to 'send' mails, except with the Outlook UA. I haven't found an Android UA capable of this (and I have tested a lot of them). I would just love if K9 was able to do it, either by default, or as an extra option in the identity settings.

Please confirm how K9 handles the identities: as long as there is no SMTP settings per identity (I am personally not interested in this feature), it would seem logical to me that the Sender header (and message-ID) derive from the SMTP account being used to authenticate, not from the From header coming from the identity From email address, wouldn't it?

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,display warning on encrypted-only messages,[],
k9mail/k-9,closed,"Erroneous ""+0 more"" messages on Notifications.","[Label(name=""bug"")]","### Expected behavior
Since 5.202 occasionally the notifications can show ""+0"".  This never as witnessed in 5.200 and before.

### Actual behavior
Notifications will show a ""+X"" number in the expanded notification where the X is the number of new messages exceeding that of the notification displayed messages.

### Steps to reproduce
Cannot reproduce at will - Ive not actually tried to work out how.  However, see screenshots:

Note it says **6 new messages**, yet only displays 5 and then ""**+0** more"":

![image](https://cloud.githubusercontent.com/assets/15649182/22204164/78efb05a-e168-11e6-87dd-52a601d1e362.png)

![image](https://cloud.githubusercontent.com/assets/15649182/22204193/8d7cba9a-e168-11e6-8d58-bd1a3eb253be.png)


### Environment
K-9 Mail version: 5.203

Android version:  4.2.1

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP"
k9mail/k-9,closed,Cancelling Compose window not always requesting 'Save As Draft' option,"[Label(name=""enhancement"")]","""Save As Draft"" offering is inconsistent.

### Expected behavior
When browsing, for example the GALLERY on the device, and choosing a picture to 'share' through K9, a new email is generated with the photo attachment.  If the 'return'/back out button is pressed on the device, K9 prompts ""Save as Draft or Discard"" (allowing saving as draft).

### Actual behavior
If a fresh email is composed **from WITHIN** K9, and the  'return'/back out button is pressed, the email is unceremoniously discarded and no option to Save As Draft is offered.

### Steps to reproduce
As above

### Environment
K-9 Mail version: 5.203

Android version:  4.2.1

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Feature proposal: delete emails on device only,"[Label(name=""enhancement"")]","It would be nice to have the possibility to choose, when deleting a message, whether to delete it on the device only or on both the device and the server. "
k9mail/k-9,closed,Handle invalid HTML better,[],"Bump the version of HTMLCleaner (not technically required but there's been a few bug fixes) and add another setting - to decode `<!==>` into `&lt;!==&gt;`

Fixes #2074 "
k9mail/k-9,closed,K9 does not delete message from Server,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
deleting a message on K9 shoudld elete the message from the server as is configured in the accounts Fetching mail options

### Actual behavior
messages are not deleted from the server but remain there. the local message is deleted
This occurs only with my google account


### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,"K9 crashes when opening some messages, others open ok",[],"
### Expected behavior
All messages should open without causing app to crash

### Actual behavior
Opening some emails causes the app to crash.  Others open fine. No rhyme or reason to it. Size, date, sender or receiver, HTML or text format, or whether or not it contains an attachment, makes no difference.  No common connection seen between messages that would indicate a possible cause.  Refreshing folders doesn't fix it. Error message ""unfortunately k9 has stopped"" is displayed. Restarting app does not fix. Issue tested on different tablets and phones, and still occurs.

This makes the app untrustworthy and almost useless.

### Steps to reproduce
1. Never know which message the app is going to crash on
2.
3.

### Environment
K-9 Mail version: all recent versions

Android version: all recent versions

Account type (IMAP, POP3, WebDAV/Exchange): pop3
"
k9mail/k-9,closed,Improve behaviour of Address.equals with partial information,[],Arose from #1889 
k9mail/k-9,closed,Unread messages count on app dock icon,"[Label(name=""help wanted""), Label(name=""needs info"")]","I would love to be able to see the unread messages count, not only on the home screen widget already provided, but more importantly on the K9 dock icon. Like the default android app, basically."
k9mail/k-9,closed,K-9 translations not updated,"[Label(name=""next stable"")]","Hello,

It seems that translations from transifex do not get updated. Is transifex still a valid option tu push translations?

### Environment
K-9 Mail version: all from 5.20
"
k9mail/k-9,closed,Support unsigned encrypted emails,"[Label(name=""wontfix"")]","> Please search to check for an existing issue.

I have, and found #1999 and #1743, but neither seem to exactly address what I want, I'm not sure whether #2087 addresses this particular issue, but it doesn't seem to be the case.

### Expected behavior
I want the ability to separately sign and encrypt emails. I like being able to encrypt by default (kuddos you guys for finally supporting opportunistic encryption with OpenKeyChain and PGP/MIME!), but I would like to disable signing by default, even if encrypted.

Being able to encrypt without signing supports confidentiality with plausible deniability, which I think is an important mode of communication.

### Actual behavior
At the moment, it seems that one can
1. Send unencrypted and unsigned emails
2. Send unencrypted and signed emails
3. Send encrypted and signed emails

The option to send encrypted but unsigned emails is missing.

### Steps to reproduce
1. Enable auto encryptions for known keys
2. Send an email for a known key
3. No option to not sign the message (except by disabling crypto entirely)
4. Any encrypted message is sent with a signature.

### Environment
K-9 Mail version: 5.203

Android version: not relevant

Account type (IMAP, POP3, WebDAV/Exchange): not relevant
"
k9mail/k-9,closed,Update labels used for application permissions,[],"I don't know whether the default strings  are best updated here or in Transifex. 

These values are shown to the end user in my version of Android - see screenshot in #2110 "
k9mail/k-9,open,Handle runtime permissions in K-9,"[Label(name=""enhancement"")]","### Expected behaviour
K-9 should:

* Clearly denote why it uses each permission
* Handle loss of permissions without crashing
* Handle loss of non-critical permissions without loss of core functionality
* Properly display information about each of the permissions it exposes.


### Actual behavior

* If you remove the Contacts permission the application crashes.

```
01-21 19:52:43.872 7635-8133/com.fsck.k9.debug E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #2
   Process: com.fsck.k9.debug, PID: 7635
   java.lang.RuntimeException: An error occurred while executing doInBackground()
       at android.os.AsyncTask$3.done(AsyncTask.java:325)
       at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)
       at java.util.concurrent.FutureTask.setException(FutureTask.java:223)
       at java.util.concurrent.FutureTask.run(FutureTask.java:242)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
       at java.lang.Thread.run(Thread.java:761)
    Caused by: java.lang.SecurityException: Permission Denial: opening provider com.android.providers.contacts.ContactsProvider2 from ProcessRecord{9aee797 7635:com.fsck.k9.debug/u0a119} (pid=7635, uid=10119) requires android.permission.READ_CONTACTS or android.permission.WRITE_CONTACTS
       at android.os.Parcel.readException(Parcel.java:1684)
       at android.os.Parcel.readException(Parcel.java:1637)
       at android.app.ActivityManagerProxy.getContentProvider(ActivityManagerNative.java:4199)
       at android.app.ActivityThread.acquireProvider(ActivityThread.java:5476)
       at android.app.ContextImpl$ApplicationContentResolver.acquireUnstableProvider(ContextImpl.java:2239)
       at android.content.ContentResolver.acquireUnstableProvider(ContentResolver.java:1517)
       at android.content.ContentResolver.query(ContentResolver.java:516)
       at android.content.ContentResolver.query(ContentResolver.java:474)
       at com.fsck.k9.activity.compose.RecipientLoader.fillContactDataFromQuery(RecipientLoader.java:188)
       at com.fsck.k9.activity.compose.RecipientLoader.loadInBackground(RecipientLoader.java:110)
```

If you try and save an attachment with no Storage permission

```
01-21 20:32:12.880 12365-12600/com.fsck.k9.debug E/k9: Error saving attachment
java.io.FileNotFoundException: /storage/emulated/0/download.jpeg (Permission denied)
    at java.io.FileOutputStream.open(Native Method)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:221)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:169)
    at com.fsck.k9.ui.messageview.AttachmentController.writeAttachmentToStorage(AttachmentController.java:151)
    at com.fsck.k9.ui.messageview.AttachmentController.saveAttachmentWithUniqueFileName(AttachmentController.java:141)
    at com.fsck.k9.ui.messageview.AttachmentController.access$900(AttachmentController.java:42)
    at com.fsck.k9.ui.messageview.AttachmentController$SaveAttachmentAsyncTask.doInBackground(AttachmentController.java:348)
    at com.fsck.k9.ui.messageview.AttachmentController$SaveAttachmentAsyncTask.doInBackground(AttachmentController.java:337)
    at android.os.AsyncTask$2.call(AsyncTask.java:305)
    at java.util.concurrent.FutureTask.run(FutureTask.java:237)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
    at java.lang.Thread.run(Thread.java:761)
```

* If you view the  'Additional Permissions' screen:

<img src=""https://cloud.githubusercontent.com/assets/1316415/22177620/675e1b1a-e019-11e6-8f93-77d153eab485.png"" width=""400"" />


### Steps to reproduce

1. (Possibly) Run a version of the app targeting SDK version 23 or higher
2. Remove the contacts permission
3. Try to type an email.

### Environment

K-9 Mail version: e238ee543f489cb39333a88a0882485103bda017

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): N/A
"
k9mail/k-9,open,Don't treat parts with unknown Content-Transfer-Encoding as candidates for viewable parts,"[Label(name=""enhancement"")]","From RFC 2045:
> Any entity with an unrecognized Content-Transfer-Encoding must be treated as if it has a Content-Type of ""application/octet-stream"", regardless of what the Content-Type header field actually says.

Currently we treat parts with a content type of `text/plain` or `text/html` as viewable regardless of whether or not `Content-Transfer-Encoding` contains an unknown value."
k9mail/k-9,closed,Update targetSdkVersion to 25,"[Label(name=""needs work""), Label(name=""next stable"")]","Updating to at least 24 will fix #781 
Updating to at least 23 is a necessary pre-requisite of handling #857 

I'd like to see this in a 5.3x beta sooner rather than later because a lot has changed since 22 and so there's room for a lot of unexpected behaviour.

"
k9mail/k-9,open,PGP-encrypt drafts,"[Label(name=""enhancement"")]","Follow-up of https://github.com/k9mail/k-9/issues/711.

The fix not to upload drafts of mails, which could later be sent PGP-encrypted is a good easy fix, but it is not really the best one.

User story: As a user I'd like to begin writing my PGP-encrypted mails in K9 mail and finish in another mail client & vice versa.

To make this work, K9 mail should encrypt (all?) drafts (or at least the drafts of later PGP-encrypted messages) with your own key and do upload them. As they are encrypted this is no issue and a user can easily continue to write the mail."
k9mail/k-9,open,Text in quotation when replying too small,"[Label(name=""needs info"")]","After https://github.com/k9mail/k-9/issues/1930 was fixed, one issue remains: The text is white now, but way too small.
As you can see, all there other text (mail subject, content, signature) has the correct size.

Here a reply to a BugZilla mail:
![textquotationsmall](https://cloud.githubusercontent.com/assets/11966684/22175934/c3824390-dfff-11e6-9ea9-15a5dee7aa34.jpg)

"
k9mail/k-9,closed,Separate WebDAV URI handling into separate classes,[],"Quality of life improvement, copying design from IMAP - store is complex enough without this stuff in."
k9mail/k-9,closed,Fix 'Fetching headers null:Folder',[],"If sync fails while trying to fetch headers (quite typical if it's an auth failure), you'll currently see 'Fetching headers null:Folder' until the next poll. This fixes that by correctly clearing the header folder name as well."
k9mail/k-9,closed,Database size is still increasing,"[Label(name=""bug""), Label(name=""needs info"")]","Unfortunately, the fix #2005 is not sufficient for the issue #1917: After updating from 5.202 to 5.203, the database of my IMAP account decreased only a little bit from 3.5MB to 3.4MB. Compressing the account still doesn't change anything and all local messages were deleted before. In 5.0xx, the database has never gone over 1MB.

### Environment
K-9 Mail version: 5.203
Android version: 6.0.1 (CyanogenOS 13.1.5)
Account type: IMAP"
k9mail/k-9,closed,"Opening a new mail from the notification goes to ""Folders"" of the account",[],"Please search to check for an existing issue (including closed issues, for which the fix may not have yet been released) before opening a new issue: https://github.com/k9mail/k-9/issues?q=is%3Aissue

### Expected behavior
When you receive a new email and the phone is blocked, opening the email from the notification should go to the email.

### Actual behavior
When you receive a new email and the phone is blocked, opening the email from the notification goes to the ""Folders"" list of the correspondant account.

### Steps to reproduce
1. Block the phone.
2. Send an email to one of the accounts you have set up.
3. Open double-touching the email.

### Environment
K-9 Mail version: 5.200, 5.202, 5.203

Android version: LG Nexus 4 7.1.1 (NitrogenOS, but it happens with official Lollipop too).

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Sending email to self sends emails to wrong account or nowhere,[],"Running K9 5.203 from Google Play. Google Pixel with Android 7.1.1.


I Have three accounts on K9, all are accounts on gmail but with non @gmail.com domains.

Call them:

trevor@a.com (personal, gmail with custom domain)
trevor@b.com (corporate with google apps)
trevor@c.com (another business, not used in this example)

Bug #1:

Open trevor@a.com on K9. Send email to self (trevor@a.com). Email never appears as ""new"" mail in either K9 or gmail web UI. Appears in ""sent mail"" only. This used to work on versions of K9 up until recently, suspect broken around 5.2?

Bug #2:

Open trevor@a.com on K9. Send email to self but different account (trevor@b.com). This email appears as ""new"" mail **IN BOTH ACCOUNTS**. It shows as Sent Mail in trevor@a.com but new mail in Inbox of both trevor@a.com and trevor@b.com.



"
k9mail/k-9,closed,New emails not being downloaded,"[Label(name=""needs info"")]","### Expected behavior
When configured to work with a particular email account, the app downloads all emails from supported POP3 services to view in the normal manner.

### Actual behavior
Results vary by email provider.
Some email providers have no problems while other major ones such as Google worked initially and some mail but then subsequently stopped receiving new messages and have not downloaded anything since even though new messages have been sent to effected accounts.  Sending mail has continued to work in all cases.

### Steps to reproduce
Original trigger of the issue unknown...
1. Set up an account in K-9
2. Download new mail
3. Depending on email provider it will either work or only download emails initially.  Sending works fine on all services regardless.

### Environment
K-9 Mail version: 5.203

Android version: 4.4.4

Account type:
Accounts are POP3 mail accounts.
"
k9mail/k-9,closed,"5.203 on F-Droid signed with wrong key, forces uninstall",[],"### Expected behavior
Upgrade should happen without forcing an uninstall.

### Actual behavior
F-Droid prompts user to uninstall K-9 before installing 5.203.

### Steps to reproduce
1. Assuming you have a version before 5.293
2. Open F-Droid and upgrade K-9.
3.

### Environment
K-9 Mail version: from 5.202 to 5.203

Android version: 6, CM 13

Account type (IMAP, POP3, WebDAV/Exchange): n/a
"
k9mail/k-9,closed,deleted,[],deleted...
k9mail/k-9,closed,Clicking notification does not go to inbox,[],"### Expected behavior
Clicking the notification of new mail should automatically open the inbox of the applicable account.

### Actual behavior
Folder list is displayed including drafts and spam.
Might be user error or a missing setting but older versions did not have this issue.

### Steps to reproduce
1. Receive mail
2. Click notification
3. End up at folder list instead of inbox where the new message likely is
4. Click inbox to see new message

### Environment
K-9 Mail version: 5.203

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): GMail
"
k9mail/k-9,closed,Can't encrypt without signing,[],"### Expected behavior
I'd like to encrypt emails to protect them against eavesdropper. I have the pgp key in a yubikey neo, not permanently in the mobile phone.

Choice of encryption and signature must be independent. 

### Actual behavior
Can't send. k-9 demands to sign the message and thus to have a key present, even if I don't have the yubikey with me or don't want to enter the pin because of people around watching. 

### Steps to reproduce
1. Send an email and encrypt it.
2.
3.

### Environment
K-9 Mail version:

Android version: 4.4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"""always show CC/BCC"" doesn't","[Label(name=""duplicate"")]","### Expected behavior
there is a setting under ""sending mail"" for each account's configuration called ""Always show CC/BCC""

this checkbox setting can be toggled on or off

marking this box as checked would give the impression -- quite unambiguously, one would think -- that the CC and BCC fields are always to be shown beneath the TO field when composing a new message.

### Actual behavior
when composing a new message, if the checkbox is marked in the settings, the CC and BCC fields do indeed appear /at first/ beneath the TO field of the new message, however the moment someone begins trying to type in the Subject or Body of the message, these fields collapse away if they are not populated with any data or entries.

""always show"" should mean what it says... ALWAYS show.

### Steps to reproduce
1. under Account Settings, go to Sending Mail settings
2. mark the checkbox for ""Always show CC/BCC""
3. compose a new mail message
4. the TO, CC, and BCC fields will all be present
5. tap anywhere in the subject or body area of the new message that you are composing
6. CC and BCC fields collapse away, in direct defiance of what you wanted
7. tap small down arrow, to cause the CC and BCC fields to appear again
8. tap anywhere else
9. pull your hair out as the CC and BCC fields AGAIN disappear with seemingly no way to make them permanently remain visible.

### Environment
K-9 Mail version: 5.2x

Android version: all versions

Account type (IMAP, POP3, WebDAV/Exchange): any type
"
k9mail/k-9,closed,Search for a string crashes K-9 and returns to Accounts page,"[Label(name=""needs info"")]","
[adb_log.txt](https://github.com/k9mail/k-9/files/717150/adb_log.txt)
### Expected behavior
press the magnifying glass, enter a string, it should find messages with the string (worked in all previous versions except recent updates)

### Actual behavior
blank screen, back to Accounts page

### Steps to reproduce
1. see above
2.
3.

### Environment
K-9 Mail version:  5.203

Android version: 4.2.2

Account type (IMAP, POP3, WebDAV/Exchange):  imap



"
k9mail/k-9,closed,use CHILD_PART_CONTAINS_DATA as data location for multipart,[],"Working with `CHILD_PART_CONTAINS_DATA` is handled in `LocalStore.writeCursorPartsToOutputStream` since 0ecbf441c19434a1280dc05aa335f7ee4b6a4d47. Tested that regular messages, and both inline and attached message/rfc822 still work as expected.

fixes #1899 "
k9mail/k-9,open,Notifications are generated for old mails from time to time,"[Label(name=""bug"")]","### Expected behavior
There should be no new notifications for old mails

### Actual behavior
From time to time I receive notifications for old mails. The only thing they have in common is they are (still) marked unread. The notification shows them as ""just received"". For example, tonight I had a notification for a new mail received at 1:39 am. I cross-checked with the mail, and it was 3 days old, from 8:34 pm.

### Steps to reproduce
I cannot reproduce it. It doesn't happen regularly – but often enough to be annoying. I'm not sure if it always happens for the same account, but AFAIR that's what it is. I have 3 accounts configured with K9, all IMAP. Same (physical) server, but different accounts on different domains.

### Environment
K-9 Mail version: 5.202 (F-Droid)

Android version: 5.1.1 (CyanogenMod)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Mail encoding broken when using PGP,[],"### Expected behavior
The mail text send using PGP should contain special (non-ascii)  characters like Ä ü ß

### Actual behavior
Special char are removed or broken - payload (the conent of the mail) get corrupted

### Steps to reproduce
1. receive a PGP - encoded mail 
2. answer and have non-ASCII chars inside

### Environment
K-9 Mail version:
5.202
Android version:
6.01
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,windows 1252 encoding issue?,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
moving from gmail to k9 v5.202 we expected to and from addresses to render correctly.

### Actual behavior
some addresses in the to and from fields of a given mail are rendered as if they havent been decoded i.e. 
""=?Windows-1252?Q?insertnamehere?...."".
pressing show headers shows what appears to be valid information however when replying to these mails sending fails due to an invalid address.
Connecting to the same IMAP service via gmail does not cause the same issue.
### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:5.202

Android version: various versions of 6

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,How to use Keystorage for storing the username and password for Android,[],
k9mail/k-9,closed,Fix for #1761 : Show a warning if timestamp of email and timestamp of…,[],"… signature are too different.

Fixes #1761 

This prevents a possible replay attack, when using older signed generic messages (eg. ""yes"").

For user friendliness I decided not to show signature-timestamp additionally on the screen because in 99% that is equal to the email-timestamp.

I decided to show an red warning instead of the orange one, because this is actually something that should never happen.

I have set the constant MAX_ACCEPTABLE_TIME_DELTA_OF_SIGNATURE to 48 hours. But there is still an ongoing discussion, of what value is really good here. I could also make this a user-setting, but I have been told, that the long term intention is to reduce the amount of settings.

So for now this solution is working, but it still has to be checked if 48 hours a good or not?!

![screenshot_20170118-210322](https://cloud.githubusercontent.com/assets/6048894/22066265/292f8530-ddc7-11e6-9ea0-5b24e94a2e27.png)
![screenshot_20170118-210333](https://cloud.githubusercontent.com/assets/6048894/22066266/2933ffc0-ddc7-11e6-89ad-26d1a8bf3a0f.png)
"
k9mail/k-9,closed,Make default encryption mode configurable,[],See #1999
k9mail/k-9,closed,Editing receivers is hard with PGP support,[],"### Actual behavior
It's hard to delete and add email addresses from/into the ""To"", ""CC"" and ""BCC"" field when PGP support ist active (OpenPGP installed), because the keyboard hides when moving the curser by hand, arrow keys don't work for navigating to another address, there is not text but ""cards"" for addresses and you can't delete single characters. 

### Expected behavior
I think it would be better to convert the cards into plaintext addresses when tabbing on them.  

### Steps to reproduce
1. ""Reply all"" to a email so that there are multiple addresses in the to field of the new message
2. Try to remove the first recepient

### Environment
K-9 Mail version: `5.002`
Android version: `7.0.1`
Account type (IMAP, POP3, WebDAV/Exchange): `IMAP`"
k9mail/k-9,closed,Apparent Incompatibility with Mailvelope,"[Label(name=""enhancement"")]","### Expected behavior
PGP messages from Mailvelope-enabled gmail addresses should decrypt after authentication.  Mailvelope to Mailvelope works just fine.  

### Actual behavior
After successful authentication challenge, I only see the encrypted PGP block.... no decrypted message

### Steps to reproduce
1.  Encrypt message using Mailvelope extension on Chrome
2.  Email to K9 client email
3.  Authenticate 

### Environment
K-9 Mail version: 5.202

Android version:  6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP
"
k9mail/k-9,closed,Use attribute for delete icon so it works in dark theme,[],Must have missed this one being raised - these are generally really easy to solve. Fixes #2083 
k9mail/k-9,closed,Icon to remove a recipient in compose screen is almost invisible in dark theme,"[Label(name=""bug"")]","Dark theme with ""X"" button almost invisible:
![k9mail_delete_recipient_dark_theme](https://cloud.githubusercontent.com/assets/218061/22044833/e95da528-dd16-11e6-987f-104c4b972b32.png)

Light theme for comparison:
![k9mail_delete_recipient_light_theme](https://cloud.githubusercontent.com/assets/218061/22044832/e95a1d0e-dd16-11e6-8dcd-89682005bb06.png)
"
k9mail/k-9,closed,Replace icon with new material design icon,[],See #1723
k9mail/k-9,closed,Can't delete 1 email in To: after doing Reply All to an email,"[Label(name=""invalid"")]","### Expected behavior
Should be able to edit To: field and delete an email in Reply All

### Actual behavior
Can only delete an email from Reply All if it's the last email listed

### Steps to reproduce
1. Open email with multiple recipients
2. Click reply all
3. Try to delete any email besides the last one listed, you can't

### Environment
K-9 Mail version: 5.202

Android version: Marshmallow 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Add note about searching for existing issues,[],
k9mail/k-9,closed,URLs with localhost aren't converted to links,"[Label(name=""needs info"")]","### Expected behavior
Received emails with ""reset you password"" links. Concrete example for TYPO3, but had the same issue a while ago with a wordpress email. http(s) link in email body is not detected as link.

### Actual behavior
http(s) links are shown as normal text, not as link.

### Steps to reproduce
1. copy the following example text in an empty email, send, receive and open with K9

(start of email body)

Dear <user_name>,

This email was sent in response to your request to reset your password. Please click on the link below.
http://localhost:10080/typo3root/index.php?id=8&L=1&tx_felogin_pi1%5Buser%5D=1&tx_felogin_pi1%5Bforgothash%5D=1484664208%7C6c04ff23fced74b37d9ca4c737ec6a3f

For security reasons, this link is only active until 2017-01-17 14:43. If you do not visit the link before then, you will need to repeat the password reset steps.

(end of email body)


### Environment
K-9 Mail version: 5.201

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange): doesn't matter here
"
k9mail/k-9,closed,5.201: Can't resize email body anymore,[],"### Expected behavior
Before 5.201, i was able to resize the email body for better readability, with the usual two finger gesture.

### Actual behavior
Since 5.201, Double tap (still) resizes email body, to a ""fit in display"" level, leading to unreadable small font size. No chance to resize, gesture ignored. 

Some sort of workaround is to go back to folder level an reopen email. But even then very often font size is too small.

### Steps to reproduce
1. Open Email
2. Try to resize email body with two finger gesture (because of my english I don't know if there's a more specific name for this gesture)

### Environment
K-9 Mail version: 5.201

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange): doesn't matter here
"
k9mail/k-9,closed,Unable to sync folder list,"[Label(name=""needs info"")]","### Expected behavior
Folder sync with server should duplicate/sync all of the folders, as specified in app. I currently have all folders set to sync, instead of specific class folders.

### Actual behavior
The only ones sync'ing are the default; inbox, outbox, sent, spam, and trash. The server has various folders which are not duplicated/sync'd on the phone.

### Steps to reproduce
1. Sync folders between phone and server
2.
3.

### Environment
K-9 mail v. 5.202
Motorola Android 6.0.1 Security Patch 9/1/16

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Don't use default charset to pass the test,[],"This test failed on my windows machine
"
k9mail/k-9,closed,Synchronisation? is very slow,"[Label(name=""performance"")]","### Expected behaviour
Synchronisation should work flawlessly.

### Actual behaviour
K-9 seems to process every email in my INBOX from time to time (maybe when the IMAP IDLE connection was lost? At least it does when going out of airplane mode in the morning, or after killing the app), and is rather slow at it. I would say around 15 emails processed per second. And I have thousands of them in my INBOX (I know, that’s bad), which results in several minutes for the whole things. Also, this is blocking email retrieval for all accounts while doing this scan.

Sorry if duplicate issue, didn’t found one with this. Could be related to #2061/#2069 though.

### Steps to reproduce
1. Have a very large INBOX.
2. Reboot, kill K-9 mail, whatever makes its connection lost.
3. See K-9 starting to spin, and after sometime starting to slowly increase `yyy` in “Récup. <accountname>:Inbox yyy/xxxx” where `yyy` is the number of already processed messages and `xxxx` the number of total messages.

### Environment
K-9 Mail version: 5.201 (I think it started with 5.200)

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,HTML email bodies not always displaying correctly,"[Label(name=""third-party integration"")]","I identified a problem in that this new version is not fully accepting of 'all things HTML'.  My example is this:

### Steps to reproduce

An email body of the following body source:

```
<table border='0'> 
<tr><td><!==><!==>Hmailserver service shutdown:</td><td><!==><!==>Ok</td></tr> 
<tr><td><!==><!==>Spamassassin service shutdown:</td><td><!==><!==>Ok</td></tr> 
<tr><td><font color=""red""><b>Spam Assassin Def Update:</td><td><font color=""red""><b>Failed</td></tr> 
<tr><td><!==><!==>Spam Assassin Service startup: </td><td><!==><!==>Ok</td></tr> 
<tr><td><!==><!==>Hmailserver service startup:</td><td><!==><!==>Ok</td></tr> 
<tr><td><!==><!==>Zip:</td><td><!==><!==>Ok</td></tr> 
<tr><td><!==><!==>Email Cleardown Script: </td><td><!==><!==>Ok</td></tr> 
<tr><td><br></td></tr></table>See attached log file below for details. 
```

### Expected behavior

In the OLD version used to appear correctly as

> 
> Hmailserver service shutdown:	Ok
> Spamassassin service shutdown:	Ok
> **Spam Assassin Def Update:	Failed**
> Spam Assassin Service startup: 	Ok
> Hmailserver service startup:	Ok
> Zip:	Ok
> Email Cleardown Script: 	Ok
> 
> See attached log file below for details. 

(Where the bold is actually in red text)

### Actual behaviour

However, now in the new version it appeared as:

> 
> 
> **Spam Assassin Def Update:	Failed**
> 
> 
> 
> See attached log file below for details. 

Screenshot:

![screenshot_2017-01-06-21-25-55](https://cloud.githubusercontent.com/assets/15649182/22016181/31c1b40a-dc9d-11e6-9e7a-173f449ea042.png)

Note the missing lines (compared to the correct version).

I needed to change the source to replace the **<!==>** tags with  the correct REM tags

`<!--><!-->`

to make it all appear correctly.

ie,
`<tr><td><!--><!-->Hmailserver service shutdown:</td><td><!--><!-->Ok</td></tr>
.....`


Now some could argue that **<!==>** may not be official html tags and that causes the problem (which clearly they do in this new version).  My argument to this is that if they are unofficial HTML tags then they should be ignored and no attempt to interpret them should be made and therefore not alter the display in any way.....which is exactly what happened in previous version.

**So this version is not accepting of certain HTML formatting in some way - they have broken something and I suspect that it is this same change that is causing problems with HTML emails (not necessarily with them containing <!==> tags but who can know what else this version doesnt like rightly or wrongly)**


### Environment
K-9 Mail version:  v5.202

Android version:  4.2.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Key for encryption is case sensitive,"[Label(name=""duplicate""), Label(name=""third-party integration"")]","When I want to send an encrypted  email I have to input the recipient email address exactly the way it is written in the identity of the public key.

K9 Mail/OpenKeychain shouln't treat different casing as different keys.

Example:
Have a key in OpenKeychain with upper and lower case characters.
Input recipient in K9 Mail without upper case characters: Mail wouldn't be encrypted.
Enter recipients address exactly as it is in the identity within the public key: Email would be encrypted. 

### Environment
K-9 Mail version:  5.202
Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP but probably not relevant
"
k9mail/k-9,open,Cannot open a PDF,"[Label(name=""needs info"")]","### Expected behavior
An attached PDF should open in Adobe Reader of installed.

### Actual behavior
Adobe Reader is installed. When tapping ""open"" for a PDF attachment, the reader opens and immediately says it can't find the file. If I save the attachment first and open it them, it works fine.

### Steps to reproduce
1. Get Adobe Reader installed
2. Get an email with PDF attachment
3. Open said attachment directly by tapping ""open"" next to it within K9.

### Environment
K-9 Mail version: 5.202

Android version: 6.0.1 (Galaxy S7)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Server certificate exception not persisted,"[Label(name=""bug""), Label(name=""security"")]","### Expected behavior
Once a certificate exception is accepted, it should remain accepted. 

### Actual behavior
Every server fetch requires re-accepting the certificate as an exception. 

### Steps to reproduce
1. Fetch mail from server using invalid TLS certificate. 
2. Accept the server certificate as an exception. 
3. Fetch mail again. 

### Environment
K-9 Mail version:5.202

Android version:6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
POP"
k9mail/k-9,closed,Avoid NullPointerException,[],"Yet another hacky fix for an exception. This makes me sad. But hopefully we'll get to rewriting the message list/view soon.

Fixes #2010 "
k9mail/k-9,closed,Don't load all local message metadata into memory during synchronize,[],"Issue #2061 rightly remarked that we load all local message metadata from a folder into RAM during MessagingController.synchronizeMailbox`. This is hugely wasteful, since metadata loading is not exactly lightweight (we parse mime headers in there!), and we hardly use this data in the method other than for its uid and comparing whether our date is newer than the remote.

This PR changes the logic to use `Map<Uid, Date>` instead of a full `List<? extends Message>`, loading the messages only as required for `destroyMessage` later on.

HOWEVER

Looking at `LocalMessage.populateFromGetMessageCursor`, the two dates are loaded as `this.setInternalSentDate(new Date(cursor.getLong(2)));` and `this.setInternalDate(new Date(cursor.getLong(11)));`, which looks mighty suspicious to me. These values are never null since they come from a constructor. If the row is null, `cursor.getLong` returns 0L, which is 1970. This screws up the logic in `olderThan`, which compares to the sent date if it is non-null, otherwise the internal date if it is non-null, yet neither of these can be non-null.

It also seems we put as sent date (the non-internal one!) `System.currentTimeMillis` as a default value, if there is no sent date, plus we also accept bogus ones like future dates?

There is really a lot here that doesn't seem right :\"
k9mail/k-9,closed,fix broken referencing of recipient token in RecipientSelectView,[],"Passing through the actual recipient object was broken in a2674efff1155228b31d3a7b966624b2ebed19f7. I changed the code to no longer rely on the actual object being passed through correctly, but just one that fulfills `equals`."
k9mail/k-9,open,Attachment indicator / scroll to bottom button,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Given the amount of feedback we have received about the new placing of attachments, I think it makes sense to do something about it.

The two obvious choices are 1) reverting or 2) ignoring the feedback. Neither of those seem particularly attractive, so I'd like to offer a third choice: Adding a ""scroll to bottom"" indicator, I imagine something like a little indicator on the top or bottom right that shows a clip icon and a little number, in a design that indicates that a click on it will scroll to the bottom of the page.

Thoughts? I would also very much appreciate a design mockup for this indicator, if anything would be up for that (@moctodot maybe?)"
k9mail/k-9,open,Newly made PGP keys are expired (K-9 & Openkeychain),"[Label(name=""third-party integration"")]","### Expected behaviour
It should encrypt the message before sending

### Actual behaviour
It tells me that the key is revoked or expired while checking it on the keyservers there is nothing wrong with the keys.

### Steps to reproduce
1. Configure K-9 mail
2. Create a new key for above mail with Openkeychain, upload it to the servers
3. Get on another mailclient the pubkey and send a mail to the mailaccount signed and encrypted with the pubkey
4. Mail comes into K-9 mail and is saying ""This message was signed by an expired key!""
5. Replying to that mail says ""Send failed: Revoked/Expired key cannot be used for sign or encryption""

### Environment
K-9 Mail version: 5.202

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

**Whole story:**

I have installed K-9 mail and Openkeychain to two of my Nexus devices. Both are using their own email address.

I have setup the mailaccounts on both of them and created for each of their own address a key in Openkeychain. They are all uploaded to 2 keyservers.

After that i have imported the key of the other Nexus device into the other one and vice versa. Both are confirmed.

So i setup an email op phone A and sign it with the public key of phone B. A nice green padlock appears behind my email address and the email address of phone B is green also. So i begin to type my email. When i push send i get the following error

> Send failed: Revoked/Expired key cannot be used for sign or encryption

If i send an email from the phone B with the pub key of phone A, it shows me a green padlock next to the mail address of phone B, but an orange color of the  mail address of phone A. It send the email though, but when i look on phone A it says that

> This message was signed by an expired key!

So, my guess is that phone A has a expired key or something. But it has been newly made by Openkeychain. What can i do to make it valid?
"
k9mail/k-9,closed,Quoted text in reply not visible with dark theme,[],"### Expected behavior
Using the dark theme, the text should be visible within the quoted message.

### Actual behavior
The text appears to be black, as is the background. Only links & email addresses are just about visible as they're dark blue.

### Steps to reproduce
1. Set app to use the dark theme (and ensure composer is set to app-theme) and restart it.
2. Pick a message, and hit reply.
3. Assuming the composer is including the quoted message, the text isn't visible

### Environment
K-9 Mail version: 5.202

Android version: 4.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Work around is to use the light theme, which then has black text on a light background."
k9mail/k-9,closed,Pinch to zoom within email body,[],"Following latest update, pinch to zoom no longer works as expected

### Expected behavior
Should behave as you'd expect in any typical android - any pinch gesture zooming in and out as expected

### Actual behavior
Tell us what happens instead

Pinch to zoom only seems to work when doing a horizontal pinch - if your fingers aren't aligned left to right relative to the screen then it won't zoom.

Also, once zoomed, can't scroll back to the top of the email

### Steps to reproduce
1. Open email
2. Try pinching to zoom
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Add happy message about empty folders and inboxes,[],"K-9 currently looks rather dull if you have no emails in a folder:

<img src=""https://cloud.githubusercontent.com/assets/64280/21976646/1efcda9a-dbd3-11e6-90e1-17808f7a3d89.png"" width=""200"">

I suggest to change this, in order to do two things:

* Indicate to the user that the folder is actually empty and the big white area is not just a rendering bug
* Spread some happiness :)

<img src=""https://cloud.githubusercontent.com/assets/64280/21976433/148916a6-dbd2-11e6-9829-4c7092357b5e.png"" width=""200""> <img src=""https://cloud.githubusercontent.com/assets/64280/21976432/148912fa-dbd2-11e6-98b5-1e007d756b9c.png"" width=""200"">
<img src=""https://cloud.githubusercontent.com/assets/64280/21976434/148acb22-dbd2-11e6-8ff0-34dd90f4bdb7.png"" width=""200""> <img src=""https://cloud.githubusercontent.com/assets/64280/21976435/148bb014-dbd2-11e6-8585-8f840d1aa99d.png"" width=""200"">

I'm still struggling how to recognize the unified inbox as an inbox folder. Any suggestions?"
k9mail/k-9,closed,Stop trying to process flags on messages in the outbox,[],The Outbox is like the Errors folder - we never create the folder remotely and so we never append messages to it. Thus there's no need to try and sync flags either.
k9mail/k-9,closed,"OOM downloading new mail, if the local mailbox is already too big","[Label(name=""performance"")]","I have many messages with attachments that I've already downloaded to my phone, after deleting some messages and compacting the account the app is still using 89MB of storage.  The 5.0 branch coped with this, but after upgrading to 5.202 I get an OOM when trying to retrieve more mail.

This is on a POP3 account, with the phone leaving the email on the server. However, a separate computer is flushing the messages when it downloads them, there aren't many messages on the server itself.

### Expected behavior
The app copes with the unreasonably large amount of local data.

### Actual behavior
After pulling to refresh, the background service notification shows a spinner for about a minute, with no data transferring over the network. ADB shows lots of garbage collector activity, until:
```
D/dalvikvm(14472): GC_FOR_ALLOC freed 4K, 5% free 62794K/65536K, paused 203ms, total 203ms
I/dalvikvm-heap(14472): Forcing collection of SoftReferences for 16400-byte allocation
I/dalvikvm-heap(14472): Clamp target GC heap from 70.648MB to 64.000MB
D/dalvikvm(14472): GC_BEFORE_OOM freed <1K, 5% free 62793K/65536K, paused 218ms, total 218ms
E/dalvikvm-heap(14472): Out of memory on a 16400-byte allocation.
I/dalvikvm(14472): ""MessagingController"" prio=5 tid=11 RUNNABLE
I/dalvikvm(14472):   | group=""main"" sCount=0 dsCount=0 obj=0x42741638 self=0x57a71400
I/dalvikvm(14472):   | sysTid=14499 nice=10 sched=0/0 cgrp=apps/bg_non_interactive handle=1470566272
I/dalvikvm(14472):   | state=R schedstat=( 79651612389 22664743317 10558 ) utm=7758 stm=206 core=0
I/dalvikvm(14472):   at java.util.HashMap.makeTable(HashMap.java:~569)
I/dalvikvm(14472):   at java.util.HashMap.doubleCapacity(HashMap.java:589)
I/dalvikvm(14472):   at java.util.HashMap.put(HashMap.java:419)
I/dalvikvm(14472):   at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:802)
I/dalvikvm(14472):   at com.fsck.k9.controller.MessagingController$36.run(MessagingController.java:4010)
I/dalvikvm(14472):   at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
I/dalvikvm(14472):   at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
I/dalvikvm(14472):   at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
I/dalvikvm(14472):   at java.lang.Thread.run(Thread.java:841)
```

IIUC, MessagingCortroller.java:802 is putting the contents of all local messages in to a HashMap:
```
            List<? extends Message> localMessages = localFolder.getMessages(null);
            Map<String, Message> localUidMap = new HashMap<>();
            for (Message message : localMessages) {
                localUidMap.put(message.getUid(), message);
            }
```

I deleted some of the local messages, emptied the trash and compacted the account.  K-9 then reached MessagingController.java:905 before crashing. Looking at the already-logged bugs #810 and #1241, both occur later in that function, but it seems that the localUidMap would still be in scope and holding on to the memory when both of those two crashes happen.  I think I just have an even more unreasonably large local mailbox than them.

### Steps to reproduce
1. Have a large inbox, including people sending scanned documents
2. Try to download more.

### Environment
K-9 Mail version: 5.202, Fdroid version

Android version: 4.3

Account type (IMAP, POP3, WebDAV/Exchange): POP3"
k9mail/k-9,open,"k-9 send to much copies of the same e-mail, because of 'auto save draft' when composing","[Label(name=""bug"")]","### Expected behavior
k-9 should replace the old draft already saved with the new one, and not just append to a list and send all together

### Actual behavior
I'm composing an e-mail, then when I switch screen orientation or minimize k-9 to grab a link to insert in that e-mail, 'auto save draft is triggered', click in send e-mail, and send many drafts of this e-mail as he created

### Steps to reproduce
1. Create a new e-mail, then switch screen orientation, because keyboard or to read something not fitted in screen -->> 'auto save'
2. Minimize k-9/Switch to another App --> 'auto save'
3. Send the finished e-mail -->> send previous 'auto save' e-mails + the intended one

### Environment
K-9 Mail version:
last available

Android version:
5.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP @ hotmail

I can't find nothing in settings to change this, but's weird don't find here this issue already reported"
k9mail/k-9,closed,Autocomplete fix v2,[],Updated version of #2037 with send changes
k9mail/k-9,closed,Cant send mail - SMTP 550,"[Label(name=""needs info"")]","### Expected behavior
mail should be sent.

### Actual behavior
Mail stays in draft folder
Error message appears: Failed to send some messages Negative SMTP reply:550 information please s..

 I've checked with server, and all settings are correct. This started late December.

### Steps to reproduce
1. write email
2.push send
3.

### Environment
K-9 Mail version: 5.202

Android version: galaxy s6,  android 6.01, Tmobile

Account type (IMAP, POP3, WebDAV/Exchange):imap
"
k9mail/k-9,closed,Add contact to email shows wrong photo,"[Label(name=""bug"")]","### Expected behavior
I click + to add addressee and start typing a name, eg ""GU"". I have multiple contacts whose name contains those letters. 

### Actual behavior
Addressees are matched but ones with no photos are shown with photos taken from other contacts. Appears to be random.

### Steps to reproduce
1. As above
2.
3.

### Environment
K-9 Mail version:
K-9 Mail Version: 5.202

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
Pop3"
k9mail/k-9,closed,Can't zoom messages ,[],"### Expected behavior
Tell us what should happen

When using two fingers to zoom into text or image. Image or text should enlarge making it easy to read. 

### Actual behavior
Tell us what happens instead

Text or image may zoom a small amount,and then sticks, not allowing any more zoom 
This started happening since the last upgrade or last but one. 

### Steps to reproduce
1. Example : daily cartoon email from dilbert.com
2. Download full email and click show images. 
3. Try to zoom into cartoon 

### Environment
K-9 Mail version:
5.202
Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
Pop3
"
k9mail/k-9,closed,Encrypting mail to mail not in address book fails,"[Label(name=""duplicate"")]","**More general example below: https://github.com/k9mail/k-9/issues/2055#issuecomment-274272755**

----

### Expected behavior
Encrypt & send mail to giorgio@maone.net.

### Actual behavior
""Private key could not be found"" is displayed.

### Steps to reproduce
1. Add giorgio@maone.net (`3359 0391 70A3 CD9B 25CF 5A46 231A 83AF DA9C 2434`) to OpenKeychain.
2. Create a mail.
As you can see, the ""To"" indicator sees the PGP key for the mail, but the encryption indicator at the top right indicates that the mail cannot be encrypted (security slider is set to ""always encrypt"" here):
![encryptionerror](https://cloud.githubusercontent.com/assets/11966684/21955286/6a5e3ffe-da68-11e6-9255-21efc2e417c1.png)

I suspect this is an issue with the key (as also other PGP clients failed), but depending on what this is, you might improve the UI/UX of K9 mail as the current claim (in the error message) is proven to be wrong: There is a key for this mail.

### Environment
K-9 Mail version: v5.202

Android version: CM 13/Android 6"
k9mail/k-9,open,Error reporting for unsafe keys isn't very helpful ,"[Label(name=""third-party integration"")]","### Expected behavior
When I open a Mail in the ""Sent Mail"" Folder that was encrypted and signed by my own GPG Key it should be OK and no Warning displayed.

### Actual behavior
Opening an E-Mail that was signed and encrypted by my own GPG Key (with K-9 and OpenKeychain) from the ""Sent E-Mail Folder, I get the message ""Safety Warning: This message was signed by an unsafe Key - Show message anyways""

### Steps to reproduce
1. Send an encrypted E-Mail
2. go the the ""Sent E-Mails Folder and open the Mail you just sent
3. Read the Error Message

### Environment
K-9 Mail version: 5.202

Android version:4.4.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

---

First of all I want to tell you that the new K-9 Version made an enormous improvement in handling encrypted messages.
Great work :-) 

The Bug is merely a little annoying - why is my own Key ""unsafe"" ?
Why  does K-9 not trust my own identity ?

![screenshot_2017-01-14-10-08-23](https://cloud.githubusercontent.com/assets/4195055/21953850/1dc79bfc-da42-11e6-867e-85fbba832b13.png)
"
k9mail/k-9,closed,"App slowned down, attachments at the end","[Label(name=""invalid"")]","After last update, app slowned down a lot. Searching and checking email takes a few seconds, before it was much quicker.

Attachments are placed always at the end of conversation. When conversation has 50 emails I have to slide down to the end to see an attachment from last received email.

I don't like new address area, CC also. When I reply to an email which has 10 contacts, it's not possible to delete single one from the middle.



### Environment
K-9 Mail version: 5.202

Android version: 5.0.2

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Pinch-out stopped working on K-9 probably at the last update.,"[Label(name=""duplicate"")]","### Expected behavior
Mail should expand on pinch-out

### Actual behavior
Nothing happens. Or it moves recognizing the pinch-out as just a swipe.

### Steps to reproduce
1. Open an e-mail
2. Pinch it out.
3. Nothing happens.

### Environment
K-9 Mail version: 5.202

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): Either with IMAP or POP3
"
k9mail/k-9,closed,Pinch zoom not working,"[Label(name=""duplicate"")]","### Expected behavior
Tell us what should happen

Pinch zooming isn't working. It worked fine yesterday but after upgrading to the latest release, I've lost the capability

### Actual behavior
Tell us what happens instead

Nothing

### Steps to reproduce
1. Open an email
2. Try to pinch zoom
3.

### Environment
K-9 Mail version: 5.202

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange): iMap
"
k9mail/k-9,closed,Sent IMAP Not Saved,"[Label(name=""needs info"")]","Click an email address in colornote. 

Compose and send from IMAP account. 

Sent mail is NOT in sent folder. 

Any chance this can be fixed?

Thx"
k9mail/k-9,closed,NullPointerException preventing all new messages being displayed,"[Label(name=""duplicate"")]","### Expected behavior
All new messages should be displayed in my inbox

### Actual behavior
A single ""bad message"" arrived in my inbox on my personal IMAP server (dovecot) and was not displayed by K9.  All messages recevied *after* this bad message were also not displayed.  Going into another email client and deleting the ""bad message"" cause all other new messages (received after the ""bad message"" to now be displayed correctly.

In my folder list, the string ""NullPointerException: attem"" is displayed in whichever folder contains this ""bad message"".

### Steps to reproduce
1. I have attached the ""bad message"" to this issue as a .eml attachment renamed to .txt.  I've had a quick look at the headers and can't see any obvious cause for a NullPointerException.  The only changes I've made is to replace my personal email address with xxxxxxxx's.
2.If you can find a way to get the attached message into a folder on your IMAP server, I expect you will see the same bug I have experienced.
!!! NOTE that this email was SPAM and I don't advise you follow the link within it !!!

### Environment
K-9 Mail version: 5.202
Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
[✈ WARNING:Private Facebook Message 12.01.2017.txt](https://github.com/k9mail/k-9/files/703900/WARNING.Private.Facebook.Message.12.01.2017.txt)


"
k9mail/k-9,closed,Don't crash on unknown content transfer encoding,[],"See #2044 

This avoids the crash. But to properly fix the issue we have to take the `Content-Transfer-Encoding` into account when collecting viewable parts."
k9mail/k-9,closed,show warning about APG being deprecated if still selected,[],"As a first step to OpenKeychain onboarding, this PR shows a warning dialog when the user goes to account settings after the crypto provider was still set to ""apg"".

![apg_screenshot](https://cloud.githubusercontent.com/assets/27813/21906683/7cf69880-d90c-11e6-9bf5-8894322b85c1.png)

This is more or less a WIP. The dialog as is is fine I think, but I'm thinking about re-adding APG to the list of crypto providers, then displaying this dialog when APG is selected, to inform users rather than simply not showing the option. This also does not mention OpenKeychain, I think it's better to keep those workflows separate (""apg no longer works, sorry"" + ""you should use openkeychain as crypto provider!"").

There is a ""click here"" link in the dialog that leads to https://k9mail.github.io/apg_note, which I still have to fill with actual details about why APG has been deprecated."
k9mail/k-9,closed,"Attachment is missing, no delete button in notification","[Label(name=""invalid"")]","Hello,
On the latest version attachments is missing. I can see the clip on the message list but not in the email.
The other bug is that delete button is missing if more then one message received.

Regards,
Alex



### Environment
K-9 Mail version: 5.202

Android version: 7.1.1


Account type (IMAP, POP3, WebDAV/Exchange): imap"
k9mail/k-9,closed,Failure to receive emails,[],"### Expected behavior
Receive emails

### Actual behavior
INBOX in FOLDERS shows message:- SSLProtocolException: SSL h
No emails loaded

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.202

Android version: 6.0.1

Account type POP3"
k9mail/k-9,closed,NPE in HtmlToSpannedConverter (following unsupported transfer encoding) breaks sync,"[Label(name=""bug"")]","I am running K9 on Android 7.1. After the updates to 5.2 I have a problem, that a large number of messages are not displayed in the IMAP inbox.
I tried to remove local data and re-download the inbox, Most messages are downloaded, but the most recent ones are not. Instead I see a Null Pointer Exception in the folder view. With the RC1 package this does not happen.

As I need k9 for daily usage working I switched back to 5.2-RC1 and I do not have a logcat yet.
"
k9mail/k-9,open,Look into publishing beta versions of K-9 to the F-Droid Archive,"[Label(name=""enhancement"")]",We currently only publish beta versions to Google Play. We should look at the process for publishing beta versions to the F-Droid Archive. 
k9mail/k-9,closed,K9 pinch to zoom stopped working.,"[Label(name=""duplicate"")]","
Help help, the pinch to zoom ability when reading emails has stopped working on K9 for Android. I rely on K9 for all my email accounts and pinch to zoom is an absolutely ESSENTIAL feature. Can anyone help???

K-9 Mail version: Latest

Android version: 5


"
k9mail/k-9,open,"PUSH on WiFi only, scheduled poll on mobile data","[Label(name=""enhancement"")]","Hi,

unless I'm missing something in the options, is it possible to implement a switch to allow PUSH exclusively on WiFi and a scheduled poll (with an user selected interval) when on mobile data? I ask this because of the infamous ""Mobile data active"" bug in latest android versions...

Thanks a lot in advance and keep up the good work!"
k9mail/k-9,closed,Permanent notification icon,"[Label(name=""enhancement"")]","Hi,

Would it be possible to implement a permanent icon confirming that background sync is actually active?
It would be just a visual remainder, but I think it could be useful.

Thanks!"
k9mail/k-9,closed,IMAP auth fails for account with dot in name and encrypted password,"[Label(name=""bug"")]","### Expected behavior
K-9 to authenticate and pull down email from IMAP server.

### Actual behavior
Authentication fails. ADB log:
```
01-10 20:42:35.579 E/k9      (12589): com.fsck.k9.mail.AuthenticationFailedException: Command: AUTHENTICATE CRAM-MD5; response: #1# [NO, [AUTHENTICATIONFAILED], Authentication failed.]
01-10 20:42:35.579 E/k9      (12589): 	at com.fsck.k9.mail.store.imap.ImapConnection.authCramMD5(ImapConnection.java:379)
01-10 20:42:35.579 E/k9      (12589): 	at com.fsck.k9.mail.store.imap.ImapConnection.authenticate(ImapConnection.java:327)
01-10 20:42:35.579 E/k9      (12589): 	at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:121)
01-10 20:42:35.579 E/k9      (12589): 	at com.fsck.k9.mail.store.imap.ImapConnection.sendCommand(ImapConnection.java:640)
01-10 20:42:35.579 E/k9      (12589): 	at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:623)
01-10 20:42:35.579 E/k9      (12589): 	at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:612)
01-10 20:42:35.579 E/k9      (12589): 	at com.fsck.k9.mail.store.imap.ImapFolder.executeSimpleCommand(ImapFolder.java:109)
01-10 20:42:35.579 E/k9      (12589): 	at com.fsck.k9.mail.store.imap.ImapFolder.internalOpen(ImapFolder.java:145)
01-10 20:42:35.579 E/k9      (12589): 	at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.openConnectionIfNecessary(ImapFolderPusher.java:330)
01-10 20:42:35.579 E/k9      (12589): 	at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.run(ImapFolderPusher.java:155)
01-10 20:42:35.579 E/k9      (12589): 	at java.lang.Thread.run(Thread.java:761)
```

### Steps to reproduce
1. Set up account
Incoming server:
Security: SSL/TLS
Port: 993
Username: name.withdot
Authentication: Encrypted password

### Environment
K-9 Mail version: v5.202

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Additional info:

1. Another account with identical settings but no dot in the account name at same server works fine.

2. If I turn off password encryption the authentication succeeds."
k9mail/k-9,closed,Preview display is not correct,[],"### Expected behavior
The preview is displayed correctly

### Actual behavior
Preview display is not correct, multiple message preview display is the same, but their message content is not the same

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:The latest version

Android version:5.1

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,Autoselect Fix,[],Fixes #1950 
k9mail/k-9,closed,handle encrypted parts in multipart/alternative,[],"When people paste a pgp/inline encrypted text into MUAs that send html mails by default, that text often ends up as the first part in a `multipart/alternative`. So far we only considered the first part, or the first part of a multipart/mixed as candidates for the displayed root part. This PR now also considers the first part of `multipart/alternative`, if it has pgp/inline content.

fixes #1901 and #1960"
k9mail/k-9,closed,Fixed empty account name at import dialog 2,[],"This PR is fixing a problem with the import settings dialog. In the dialog the name field will be empty if no description is set on the account.
http://i.imgur.com/5dWkfiS.png
The proposed fix is like the main account listing, instead of the name the first identities email is used. For this I had to change the xml parser a bit.

I also made a test for the new behaviour. "
k9mail/k-9,open,Can't get rid of folder with umlaut in folder name,"[Label(name=""bug"")]","### Expected behavior
I have changed the folder for drafts to ""Drafts"" instead of ""Entwürfe"", and have deleted the ""Entwürfe"" folder on the server. I have refreshed the folder list on the phone, The folder should now be gone forever.

### Actual behavior
When re-starting K-9, the old ""Entwürfe"" folder re-appears, and I get sync errors for it (because it does no longer exists on the server). 

`(NegativeImapResponseException: Command: EXAMINE ""Entw&APw-rfe""; response: #4# [NO, Mailbox doesn't exist: EntwÃ¼rfe (0.000 secs).])`

When refreshing the folder list, the folder is gone until I restart K-9 again, and then ""Entwürfe"" is back, etc.

### Steps to reproduce
1. Create folder with umlaut in name
2. Delete folder on server
3. Refresh folder list on phone
4. restart K-9

### Environment
K-9 Mail version: 5.202

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,open,Clicking one contact in To selects all contacts,"[Label(name=""bug"")]","### Steps to reproduce
1. Compose a message.
2. Add several recipients.
3. Click one of the recipients.

### Expected behavior
The full contact info should be shown and cursor should be placed next to the contact. Like this:

![contact-full-info](https://cloud.githubusercontent.com/assets/1716156/21820499/d151d242-d767-11e6-8fd5-657fd1ffe4f0.png)

### Actual behavior
All contacts, i.e. all text in the input box, becomes selected and the the keyboard is shown. The clicked contact's info stays hidden bellow the keyboard.

![keyboard-hides-info](https://cloud.githubusercontent.com/assets/1716156/21820651/776f0d20-d768-11e6-8c63-774710e1a4e8.png)

This bug seems to come from the usage of a text input box. Perhaps that's not the best input box to handle these new contact tokens.
Usually we can select all text in a text input box with a long click. However, here that happens with a simple click, something is odd.

### Environment
K-9 Mail version: 5.202
Android version: 4.2.2
"
k9mail/k-9,closed,Issue when setup IMAP mail account,"[Label(name=""needs info"")]","### Expected behavior
Good result for IMAP setup wizard

### Actual behavior
Unable to connect to server (Command: LIST (SPECIAL-USE) """" ""INBOX/*"";response: #5# [BAD, Missing required argument to List])

### Steps to reproduce
1.Add new email account (the ""+"" symbol on main interface)
2.Set my email address & password
3.Next (button), select IMAP button, settup imap settings (verified & work on PC), click on Next button and the error appear.

### Environment
K-9 Mail version: 5.202

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,use .asc file extension for PGP/MIME,"[Label(name=""enhancement"")]","### Expected behavior
When I receive a PGP/MIME encrypted email from K9 at a client which doesn't support PGP/MIME (mailvelope, inherently), I would like to see files with the attachment .asc because then I can click on them to get a preview, which then can be decrypted my mailvelope. When sending with Thunderbird the encrypted message appears as an attachment with extension .asc.

### Actual behavior
The PGP/MIME attachments don't have a file extension. 

### Environment
K-9 Mail version: 5.202
"
k9mail/k-9,closed,wrong handling of IMAP (virtual) folders on gmail account,[],"I have a number of folders in gmail account, both 'actual' (done e.g. via a MUA like Thunderbird) and 'virtual' (aka labels) defined by filters, thus created on the fly by gmail.
Such are 'custom' folders/labels, beside the 'system' ones.
My gmail UI lang is Italian, if that matters
k9 seems to duplicate both system and custom folders as ""[imap]/label""
 
### Expected behavior
no new folders/labels should appear, and e.g. 
- 'trash can' should move email in gmail's 'trash', 
- 'send' should copy in gmail's 'sent' 
- 'save as draft' should save in gmail's 'drafts'
etc rather than create new folders

### Actual behavior
k9 seems to duplicate both system and custom folders as ""[imap]/label"", e.g. in browser gmail view I get, after using k9:

[Imap]/Bozze
[Imap]/Cestino
[Imap]/Posta inviata
[Imap]/Sent
[Imap]/Trash

beside (below) the 'original' ones, e.g. these 'system' folders:

Posta inviata [= 'sent']
Bozze (67) [= 'drafts']
Cestino [= 'trash']

### Steps to reproduce
just use it - send, receive, trash etc emails 

### Environment
K-9 Mail version: 5.201

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange): gmail
"
k9mail/k-9,closed,Bug since 5.200: Can no longer pinch-zoom in message,"[Label(name=""duplicate"")]","### Expected behavior
Inside message that are larger than the screen, pinch-zoom in and out was easy until last update 

### Actual behavior
Pinch-zoom is no longer possible in most, but not all emails. 

### Steps to reproduce
1. Open message that is wider than screen
2. Try to pinch-zoom out
This is almost consistent, not 100%, some messages still zoom, most do not.

### Environment
K-9 Mail version: 5.200

Android version:
6.0.1, Google Nexus 5

Account type (IMAP, POP3, WebDAV/Exchange):
POP3 "
k9mail/k-9,closed,Bug since 5.200: horizontal scrolling in message is choppy and slow,"[Label(name=""duplicate"")]","### Expected behavior
Horizontal scrolling inside a message used to work just fine with one finger swipe across the entire message 

### Actual behavior
Since last update, horizontal scrolling takes multiple swipes and is very choppy, almost resistant to being scrolled. Very awkward and slow. 
This may be related to the next bug that no longer allows pinch-zoom

### Steps to reproduce
1. Open mail message that exceeds screen width
2. Swipe./scroll horizontally to see the right side of the message
This is consistent

### Environment
K-9 Mail version: 5.200

Android version:
6.0.1, Google Nexus 5

Account type (IMAP, POP3, WebDAV/Exchange):
POP3 "
k9mail/k-9,closed,"Bug since 5.200: New mail opens in folder view, not inbox","[Label(name=""duplicate"")]","### Expected behavior
Following a new mail notification, the app used to go straight to the inbox and show all messages. 

### Actual behavior
Since the latest update, the app opens the folder list and forces me to tap on the inbox to go there. One unnecessary tap and I can't find any options for that behavior

### Steps to reproduce
1. Get new mail
2. Follow the new mail notification
3. App opens in folder view, not inbox
This is almost consistent, not 100%. I tried to make sure to leave the app in Inbox view to be remembered, but to no avail.

### Environment
K-9 Mail version: 5.200

Android version:
6.0.1, Google Nexus 5

Account type (IMAP, POP3, WebDAV/Exchange):
POP3 "
k9mail/k-9,closed,set content-transfer-encoding for RawDataBody in `setBody`,[],"This fixes an issue brought up on the openkeychian tracker: https://github.com/open-keychain/open-keychain/issues/1986

The change is simple and I think it always does the right thing, but it touches `setBody` so it *does* have the potential to subtly change a lot of things."
k9mail/k-9,closed,Extend NonLockingScrollView to support adding/removing views,[],"Our `WebView` is only added to the view hierarchy later. With this change `NonLockingScrollView` listens for view hierarchy changes to find the `WebView`.

Fixes #1908 "
k9mail/k-9,closed,"Latest update is stuck at ""Upgrading Database""","[Label(name=""duplicate"")]",Just down loaded the latest update and it's stuck at upgrading database.   Been stuck there all night.  The account is a IMAP gmail account.  v5.202
k9mail/k-9,closed,Server search only shows message headers and doesn't download them,"[Label(name=""bug"")]","Searching for messages using an IMAP server-side search also yields search results that are older than the ""local folder size"" set in account settings / fetching mail. (e.g. show 1000 messages)

Those messages are shown correctly in the search results list but are not downloaded (shown with a grey background). When selecting such a message, only the headers are displayed, the message body is shown empty.

K-9 Mail version: 5.202

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,Add some useful tools text to the custom actionbar,[],I like to use the preview part of Android Studio to resolve problems. That's easier when there's some sensible boilerplate text.
k9mail/k-9,closed,Call base implementation as per API requirements,[],"The MessageList options menu isn't displaying properly occasionally (#1984). This isn't a guaranteed fix, because it's barely reproducible on my device anyway. However, per the spec for `onPrepareOptionsMenu`

> The default implementation updates the system menu items based on the activity's state. Deriving classes should always call through to the base class implementation.

https://developer.android.com/reference/android/app/Activity.html#onPrepareOptionsMenu(android.view.Menu)

We do for `MessageCompose`, we don't for `MessageList`

I've only seen this bug reported for MessageList so hopefully this fixes it. If not, well we should be calling it anyway."
k9mail/k-9,closed,Zoom in out not working in 5.200,"[Label(name=""duplicate"")]","Anyone more? 

Thanks


### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,search crash,[],"Crash application when search.


### Environment
K-9 Mail version:
5.202
Android version:
5.11
Account type (IMAP, POP3, WebDAV/Exchange):
imap"
k9mail/k-9,open,Notifications sometimes show unread count and sometimes show new count,"[Label(name=""bug"")]","In the past, a notification would always show the number of new mails (I don’t *think* it actually used the IMAP \Recent flag, rather it counted messages that are not \Seen and which K9 had not known about previously). 

Now, sometimes a notification tells me there is 1 new message, and sometimes it tells me there are over 300 (the number that are not \Seen, even if they are very old, I think)."
k9mail/k-9,open,Missing Reply/Reply all/Forward/Share menu in lastest version,"[Label(name=""needs info"")]","### Expected behavior
When reading an email, it should have a menu that gives the options to  Reply/Reply all/Forward/Share.

### Actual behavior
If from an email account I have Visible message actions with Move and Copy Checked, then there is no Reply menu.  

### Steps to reproduce
1.  Within an Inbox (pick one from any, doesn't matter)   - Settings - Global Settings - Display
2.  Tap on ""Visible message actions"" and select Delete - Move - Copy
3.  Read any email and the Reply / Reply all, etc. menu is gone.
4.   Go back to Visible message action and UNCHECK  Move - Copy
5.   Read any email and the reply / reply all, etc. menus is back.

### Environment
K-9 Mail version:5.202

Android version:6.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,open,Clipped message text on view,"[Label(name=""bug"")]","### Expected behavior


### Actual behavior
at the bottom of all(?) text/plain messages and some HTML messages lines get clipped from view, one cannot scroll any further down. 

### Steps to reproduce
1. Install K9-Mail since v5.2 (worked before)
2. few attached messages (taken from Maildir, viewed via IMAP)
3. Compare to screenshots

### Environment
K-9 Mail version: v5.202

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

[clipped_messages.zip](https://github.com/k9mail/k-9/files/692267/clipped_messages.zip)
"
k9mail/k-9,closed,Lists in emails are not displayed properly,"[Label(name=""bug"")]","### Expected behavior
After the last update some emails no longer show the contents of the lists.
The emails come from outlook 2010 client.

### Actual behavior
On k9:
![image](https://cloud.githubusercontent.com/assets/24956557/21750197/ed66f61c-d5ad-11e6-9313-0843687a91a7.png)

on outlook:
![image](https://cloud.githubusercontent.com/assets/24956557/21750240/22a58a36-d5af-11e6-8456-e5eef4e4360a.png)


### Environment
K-9 Mail version:
5.202
Android version:
nexus 5 - 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Rework where we wrap message content,[],Move where we wrap the message content. @Valodim was right in his comment on PR #2004 
k9mail/k-9,closed,Crash with debug info,[],"Gather additional information for issue #1877

`Spinner.setSelection()` is called from `AccountSetupIncoming.onCreate()` and should select the correct item of the security type adapter. Since that's clearly not the case when the app crashes, the argument to the `setSelection()` call probably had the wrong value. This change logs all kind of information when crashing so we have a chance to figure out what's going on exactly."
k9mail/k-9,closed,Dark Text in Reply with Dark Theme ,[],"### White text on black background when replying and using dark theme.

### When replying and using dark theme the normal white text on black background reverts to black text.

### Steps to reproduce
1. Open message and reply. 

### Environment

K-9 Mail version: v5.502 

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP 
"
k9mail/k-9,open,Moto Display lock screen custom indicator remains blank when K-9 notification occurs,"[Label(name=""help wanted"")]","### Expected behavior
A mail icon (an envelope inside of a circle) should appear on the Moto Display lock screen when new mail arrives. 

### Actual behavior
When new mail arrives, the Moto Display lock screen shows an empty circle instead of a mail envelope inside of a circle.  

![img_20170107_174508](https://cloud.githubusercontent.com/assets/24979475/21746265/4e95319c-d504-11e6-9bd2-8b87fbc49e4e.jpg)

All Moto apps (including Moto Display) are up-to-date.

This issue does not exist for other apps that notify in Moto Display (i.e., Calendar, SMS, Voice Mail, Missed Call, etc. all display their respective icons on the Moto Display lock screen).

This issue started within the last two K-9 Mail updates (5.201 I believe).

### Steps to reproduce
1. Lock phone screen (with Moto Display enabled)
2. Send an e-mail message to a K-9 Mail configured account from another device
3. When the new mail arrives on the problem device, notice the lock screen notification icon is just an empty circle.

### Environment
K-9 Mail version:
5.202

Android version:
5.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

Phone version:
Republic Wireless Moto X 1st Gen
All Moto apps, including Moto Display, are up-to-date."
k9mail/k-9,closed,Crash: NPE in MessageTitleView.showSubjectInMessageHeader(),"[Label(name=""bug"")]","Via Play Developer Console
Version: 5.202

```
java.lang.NullPointerException: Attempt to invoke virtual method 'void com.fsck.k9.view.MessageHeader.showSubjectLine()' on a null object reference
	at com.fsck.k9.view.MessageTitleView.showSubjectInMessageHeader(MessageTitleView.java:67)
	at com.fsck.k9.activity.MessageList.displayMessageSubject(MessageList.java:1439)
	at com.fsck.k9.ui.messageview.MessageViewFragment.displayMessageSubject(MessageViewFragment.java:478)
	at com.fsck.k9.ui.messageview.MessageViewFragment.displayHeaderForLoadingMessage(MessageViewFragment.java:249)
	at com.fsck.k9.ui.messageview.MessageViewFragment.access$400(MessageViewFragment.java:55)
	at com.fsck.k9.ui.messageview.MessageViewFragment$5.onMessageDataLoadFinished(MessageViewFragment.java:718)
	at com.fsck.k9.activity.MessageLoaderHelper.onLoadMessageFromDatabaseFinished(MessageLoaderHelper.java:196)
	at com.fsck.k9.activity.MessageLoaderHelper.access$500(MessageLoaderHelper.java:69)
	at com.fsck.k9.activity.MessageLoaderHelper$1.onLoadFinished(MessageLoaderHelper.java:244)
	at com.fsck.k9.activity.MessageLoaderHelper$1.onLoadFinished(MessageLoaderHelper.java:224)
	at android.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:488)
	at android.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:456)
	at android.content.Loader.deliverResult(Loader.java:144)
	at com.fsck.k9.ui.message.LocalMessageLoader.deliverResult(LocalMessageLoader.java:44)
	at com.fsck.k9.ui.message.LocalMessageLoader.deliverResult(LocalMessageLoader.java:16)
	at android.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:265)
	at android.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:92)
	at android.os.AsyncTask.finish(AsyncTask.java:636)
	at android.os.AsyncTask.access$500(AsyncTask.java:177)
	at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:653)
	at android.os.Handler.dispatchMessage(Handler.java:111)
	at android.os.Looper.loop(Looper.java:194)
	at android.app.ActivityThread.main(ActivityThread.java:5624)
	at java.lang.reflect.Method.invoke(Native Method)
	at java.lang.reflect.Method.invoke(Method.java:372)
	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:959)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:754)
```"
k9mail/k-9,open,Feature Request: modify attached image thumbnail display,"[Label(name=""enhancement"")]","I review a ton of security camera footage. The pics come to me by email. This is what attached images are currently displayed like in K9:
![screenshot_20170107-125805](https://cloud.githubusercontent.com/assets/1756255/21745198/8c73fd92-d4da-11e6-85fa-6f1df7218f50.png)

It would be monumentally awesome if you guys simply changed the proportions of the same data, to behave a little more like gmails does, for the sake of being able to see more of the image. This would save folks in my boat a ton of time/clicks/taps :D

![screenshot_20170107-125756](https://cloud.githubusercontent.com/assets/1756255/21745209/df0ed11c-d4da-11e6-8e00-94872798c724.png)


Hopefully this isn't a huge, massive change. And hopefully other users will agree with it! Otherwise, perhaps an option in the settings to change how inline images are displayed?

Thanks in advance!
"
k9mail/k-9,closed,No lock screen notifcation since 5.201 update,"[Label(name=""duplicate"")]","### Expected behavior
A mail icon (an envelope inside of a circle) should appear on the Moto Display lock screen when new mail arrives. It has done this for the years I've been using K-9 Mail.

### Actual behavior
There is no lock screen notification since updating to K-9 Mail 5.201 and it still doesn't work in 5.202. It is now necessary to unlock the screen to see whether there is new e-mail.

The K-9 Mail lock screen notifications began to malfunction after updating to 5.201. When new mail arrived, the Moto Display lock screen would show an empty circle instead of a mail envelope inside of a circle.  I tried uninstalling/reinstalling K-9 Mail, and now there is no Moto Display notification at all when new mail arrives (the Android visual and audio notifications still work, but it is necessary to unlock the screen to see the Android notifications).

ALL other Android apps (e.g., Calender, SMS, Voice Mail, Missed Call, etc.) display their respective notification icons on the Moto Display lock screen, so this issue is definitely related to one of the last two K-9 Mail updates and not a problem with my phone.

Exact same issue on both of our Republic Wireless Moto X 1st Gen phones. Only affects K-9 Mail notifications.

### Steps to reproduce
1. Lock phone screen (with Moto Display enabled)
2. Send an e-mail message to a K-9 Mail configured account from another device
3. When the new mail arrives on the problem device, notice there is no lock screen notification icon

### Environment
K-9 Mail version:
5.202

Android version:
5.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

Phone version:
Republic Wireless Moto X 1st Gen"
k9mail/k-9,closed,Handle no selected ConnectionSecurity,[],Fixes #1877 
k9mail/k-9,closed,Screen redraw regression in 5.202 causes disappearing icons at bottom of message view,[],"### Expected behaviour
When tapping on a message in the list, the message will take full screen and there are icons at the bottom of the screen for left, right, delete, reply, new, and menu.

### Actual behaviour
These icons are not consistently displayed.  When they are not displayed, it is still possible to tap the empty space where they should be and the icon function will happen (for example, tap where the delete icon should be and the message will be deleted).  Sometimes only the right-most fragment of the icon bar is displayed.

I tried to get a screen-shot of this, but as soon as the screen-shot was triggered, the entire icon bar displayed correctly just in time.  So it seems that Android's screen-shot function triggers a redraw first, and screenshots cannot therefore be used to capture examples of insufficient-redraw artefacts.

### Steps to reproduce
1. Send yourself a blank message, or one with very little content
2. Refresh the message list so your new message appears
3. Open the message
4. Sometimes the icons are displayed OK anyway.  This is an intermittent problem.  You may have to send yourself 4 or 5 messages and open each one to reproduce the issue.

### Environment
K-9 Mail version: 5.202

Android version: 4.4 (on a Sony Xperia Z Ultra)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Delete data from Full-Text-Search table,[],"Should fix #1917 

I'm guessing there's other places where we might not be deleting from full-text search (i.e. on deleting messages from the store) but this fixes the problem in the bug report."
k9mail/k-9,closed,Style quoted content,[],This should fix #1930 but I've not actually tested it yet (I left my USB cable at work :/)
k9mail/k-9,closed,Don't hide CC and BCC if 'Always show' enabled,[],Fixes #1965 
k9mail/k-9,closed,Spam filter based on text in summary or body,[],"### Expected behavior
It would be very nice that while reading the e-mails from the email provider that any mail matching spam filter rules are put in a separate folder. 

### Actual behavior
As far as I understand, you can only filter on 

### Steps to reproduce
1. You cannot set an additional filter on texts. OR ... is this possible via a plug-in? 

### Environment
K-9 Mail version: any

Android version: any

Account type (IMAP, POP3, WebDAV/Exchange): any
"
k9mail/k-9,closed,Scrolling on folder list slow and jerky,"[Label(name=""performance"")]","In 5.201, scrolling up and down the folder list is often slow and jerky. Scrolling up and down the message list is quite smooth, now that I disabled getting names from contacts; it’s only the folder list that’s problematic. In versions before 5.200, this only used to happen if I was downloading messages at the same time, while it was smooth if I wasn’t doing anything. In 5.201, on the same device and same server, it’s bad even if I’m not doing anything."
k9mail/k-9,open,Better error handling when authentication fails,"[Label(name=""enhancement"")]","Not all failures to authenticate are ""wrong username or password"" errors. See e.g. #1990

If the server sends an alert text (IMAP) display that to the user."
k9mail/k-9,closed,Add Option to disable encrypting/signing by default,"[Label(name=""enhancement"")]",Currently there is no way to disable encryption other than doing that for each E-Mail that I send separately.
k9mail/k-9,open,POP3 mail synchronization errors,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
Prior to the last 2 updates, K-9 fetched pop3 email with no problem.

### Actual behavior
Now I receive an error.  See bug report below:
K9-Mail version: 5.202
Device make: samsung
Device model: SM-G900P
Android version: 6.0.1

com.fsck.k9.mail.MessagingException: Unable to execute POP3 command
	at com.fsck.k9.mail.store.pop3.Pop3Store$Pop3Folder.executeSimpleCommand(Pop3Store.java:1157)
	at com.fsck.k9.mail.store.pop3.Pop3Store$Pop3Folder.executeSimpleCommand(Pop3Store.java:1127)
	at com.fsck.k9.mail.store.pop3.Pop3Store$Pop3Folder.fetchEnvelope(Pop3Store.java:881)
	at com.fsck.k9.mail.store.pop3.Pop3Store$Pop3Folder.fetch(Pop3Store.java:804)
	at com.fsck.k9.controller.MessagingController.fetchUnsyncedMessages(MessagingController.java:1319)
	at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1164)
	at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:953)
	at com.fsck.k9.controller.MessagingController$36.run(MessagingController.java:4010)
	at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
	at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
	at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
	at java.lang.Thread.run(Thread.java:818)
Caused by: java.io.IOException: End of stream reached while trying to read line.
	at com.fsck.k9.mail.store.pop3.Pop3Store$Pop3Folder.readLine(Pop3Store.java:1030)
	at com.fsck.k9.mail.store.pop3.Pop3Store$Pop3Folder.executeSimpleCommand(Pop3Store.java:1147)
	... 11 more


### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,K-9 Mail not showing inline images since last two updates,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
Inline images should be displayed

### Actual behavior
Inline images are not displayed
![screenshot_20170106-070121](https://cloud.githubusercontent.com/assets/24960837/21721703/56084c2e-d3de-11e6-9c13-8c8680a98799.png)

Should look like this (snip from outlook):
![capture](https://cloud.githubusercontent.com/assets/24960837/21721977/7b0a27b2-d3df-11e6-8022-cd5043e3c11b.JPG)

### Steps to reproduce
1. Download new email
2. View email
3. Scratch head
4. File issue

### Environment
K-9 Mail version:

Android version:
K-9 Mail 5.201 and 5.202 
android 6.0.1, Samsung Note 5.

Account type (IMAP, POP3, WebDAV/Exchange):
POP3
"
k9mail/k-9,closed,migrate fts in batches,[],Fetching messages in batches might help speed things up a little
k9mail/k-9,closed,Allow pgp/inline with sign-only again,[],"While making sign-only a mode of its own I disabled clearsign, to avoid having two ""modes"" at the same time. Clearsign is a legitimate use case though, so this patch readds it.

I'm not *super happy* with the icon as it is now, but then again both sign-only and pgp/inline are out of most users' way so far that I don't really care... :)

Fixes #1974.

\\ edit

Screenshot for reference:
![](https://lh3.googleusercontent.com/Kx9h5bZgqBjmc94bZeSS0U69btYUC4woP-8MqpDZjgh4iK-TjF6EpGz2zlP7KQ51gIvRtHfb9lQT6bOcMGN-eEwfJmqB)"
k9mail/k-9,closed,Can't login securely to incoming email server after recent updates,[],"Previously was able to connect to mail.talktalk.net incoming server using SSL/TLS, 993, Normal p/w (as per provider's recommended settings).  After recent K9 updates, connection to incoming server is only possible using None, 143, Encrypted p/w.  Outgoing server smtp.talktalk.net still connects fine using STARTTLS/587/signin/Normal p/w, as before.  I have asked the provider to confirm what protocols/ciphers they are supporting.


### Expected behavior
Should be able to configure incoming server settings SSL/TLS, 993, Normal p/w, verify, and then connect to retrieve emails

### Actual behavior
Verification of incoming server settings fails with all configurations except None, 143, Encrypted p/w.  Error 'SSLProtocolException: SSL h' results if verification is ignored (ie 'continue' instead of 'edit'.

### Steps to reproduce
1.  enter incoming server config
2.  set any settings (except None, 143, Encrypted p/w)
3.  save - config will fail.
4.  if continue instead; attempting to sync emails results in SSLProtocolException: SSL h

### Environment
K-9 Mail version:
5.202
Android version:
5.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (talktalk.net)"
k9mail/k-9,closed,SSL I/O Error when fetching mail,[],"Ever since updating to 5.201 (or 5.200; all was fine on 5.200-RC anyhow) there's a problem fetching email. It constantly downloads data, takes ages and then says ""SSL exception:write error"" under the inbox. I just installed 5.202 but it seems the problem is still there."
k9mail/k-9,closed,Nothing in main body of Mail since latest update,"[Label(name=""bug""), Label(name=""needs info"")]","Shows subject line and sender but does show anything in the main body see attachment.  This is the same for new emails or old already downloaded emails

### Environment
K-9 Mail version:5.202

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

![screenshot_2017-01-06-09-24-21](https://cloud.githubusercontent.com/assets/17318437/21713563/75e39940-d3f2-11e6-8202-67cb0c27e7be.jpg)

"
k9mail/k-9,open,Cannot cut/copy recipeients from Reply window,"[Label(name=""bug"")]","### Expected behavior
When replying to a message that was received, I long press a the ""TO"" name and it should bring up cut/copy/select menu for the address.  Then I can Cut the address from the TO and paste it into the BCC or CC fields.  This is how it used to be on 5.1

### Actual behavior
Long pressing on the TO in the Reply window does nothing like it used to.  It first brings up the ""user name and email address is a big faded (dark theme) box.  Then you have to tap on the TO line somewhere other than on an email address to finally get the Cut/copy/paste menu.  - bug 1.

Then after a Cut or Copy, I expand the menu and try to Paste it into the BCC field.  The only thing that gets pasted is two commas  { ,,  }  without the brackets

### Steps to reproduce
1.   Read an email that is in your inbox and tap Reply
2.    Long press on a TO address (notice no copy/cut menu - bug 1) then tap anywhere in a blank area of the TO and do a Cut.
3.    Select the BCC menu with a long press and paste (bug 2)

### Environment
K-9 Mail version:5.202

Android version:6.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,Imap.aol.com ,"[Label(name=""needs info"")]","Since update it keeps making me edit server info. It's always been in same,  no security, port 143, password and user name correct. Or I'll put ssl and port 993 which is correct.

It warns me about 10 times..then finally settles in, but if I leave that wifi spot, get the warning notifications over and over to edit my server settings



### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.202

Android version:
SG6

Account type (IMAP, POP3, WebDAV/Exchange):
Imap.aol.com 
"
k9mail/k-9,closed,Fixed empty account name at import dialog,[],"This PR is fixing a poblem with the import settings dialog. In the dialog the name field will be empty if no description is set on the account. 
http://i.imgur.com/5dWkfiS.png
The proposed fix is like the main account listing, instead of the name the first identities email is used. For this I had to change the xml parser a bit."
k9mail/k-9,closed,Lost old emails after update,"[Label(name=""bug"")]","Hi,

I use 5 different email accounts on my K9 app. I have download a copy of my email on my phone since 2013. One in the week I use Outlook on my laptop and download all emails from the server (gmx.de). After the download the emails are not available on the server.

For all email accounts are the localStorageProvider = ExternalStorage. So i can find the files under Android/data/com.fsck.k9/files

This path includes normaly:
5x folder with the account uuid ending "".db_att"" 
5x file with the account uuid ending "".db"" (file size min 85.000 KB max 475.000KB)
5x file with the account uuid ending "".db-journal""
1x file name "".nomedia""

2 of 5 accounts were empty (all old emails not shown) after update. The other 3 accounts updated correct and all old emails available.

I have look at the path after update which included two new folder:
2x account uuid ending "".db_attach-""  and 13 digit number
2 of 5 files with the account uuid ending "".db"" (has a low file size < 17.000KB)
3 of 5 files with the account uuid ending "".db"" (file size > 115.000KB)



### Steps to reproduce
1. Download update via Play Store
2. Start App
3. App show ""database update for emailadress"" (or somthing like that)
4. Wait until the email accounts are shown (takes a lot of time)

### Environment
K-9 Mail version: I'm not sure. Update was yesterday 04. Jan 2017 midday. I installed the new version 5.202 today 

Android version: 6.0.1 (Samsung S7)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP gmx.net accounts 
"
k9mail/k-9,closed,Widget Size Fix,[],"It could fix #1981. I could not reproduce it with my phone, but the minValues did not match google's recommendation. 
https://developer.android.com/guide/practices/ui_guidelines/widget_design.html#anatomy"
k9mail/k-9,closed,PR: Don't limit subject in message view to 3 lines,[],"Fix for #1861 
Question: 
In this xml file several deprecated functions are used (like android:singleLine or android:toLeftOf).
Can I just change them in this PR or should such things happen in a different PR?"
k9mail/k-9,closed,Search fails in past two updates,"[Label(name=""needs info"")]","### Expected behavior
Press the magnifying glass, enter search term

### Actual behavior
App hangs with rotating circle and message Loading

### Steps to reproduce
See above

### Environment
K-9 Mail version:  5.202

Android version:  4.2.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Missing buttons/text,"[Label(name=""bug""), Label(name=""duplicate"")]","### Expected behavior
It should work as in the previous version

### Actual behavior
On some messages the top line (with the back button, K9 icon and subject description) is missing
On some messages the bottom line (with the prev/next, delete,... and More buttons), is missing
On some messages the line with the sender name is missing.

All these problems are message-dependent. If the top line is missing on the message A, it is always missing on the message A and vice versa.
If the top line is missing in portrait then in landscape it is not missing and vice versa.
The buttons are there but are invisible; if the button is pressed then the appropriate action is activated and the button appears. Pressing for example More (three dots) displays three dots and the icon on the left side of More. Moving to the left displays the remaining invisible icons/buttons
Changing setting in Global setting-Display has no effect - except the Fixed font. With this option on, it is much worse and problem is with almost every message.
When the problematic message is displayed, in the beginning everything is OK but in a fraction of a second black rectangles ""cover"" and hide the buttons.
With the Split option on the black rectangles cover part of the left message list.
When the snap of the screen is activated, all the missing items are displayed and the photo is absolutely perfect.
When the screen of the phone is switched off while displaying a message with some missing buttons and then is on again, the problematic message is displayed correctly.

The photos are not very good but illustrative enough:
![jpg-k-9-2](https://cloud.githubusercontent.com/assets/24942865/21693202/5095a970-d380-11e6-891e-4fdb5594ff91.jpg)
![jpg-k-9-3](https://cloud.githubusercontent.com/assets/24942865/21693201/5094f52a-d380-11e6-9624-878adc0922cf.jpg)
![jpg-k-9-1](https://cloud.githubusercontent.com/assets/24942865/21693200/509417b8-d380-11e6-8162-9a791fed98a3.jpg)





### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:
5.201
Android version:
4.4.4.
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Don't upload draft if PgpMessageBuilder is used,[],"also, more tests. Those aren't very pretty I'm afraid, due to the whole callback deal of the OpenPgpApi :("
k9mail/k-9,closed,Update messed up formatting of outgoing emails,[],"### Expected behavior
Tell us what should happen
Utilizing group share for gmail app - sends bcc group to new outgoing email in k-9 and then paste content and send
### Actual behavior
Tell us what happens instead
looks OK but all bcc show up in received email and content is not in sent format but looks like HTML code

I have attached screen shots from web gmail showing what was apparently sent (by k-9) as opposed to what was actually received.

![received](https://cloud.githubusercontent.com/assets/12779456/21687395/5e5918da-d326-11e6-83eb-70f1d66a3b5a.GIF)
![sent](https://cloud.githubusercontent.com/assets/12779456/21687396/5e594c6a-d326-11e6-8425-72f87153eaf4.GIF)


### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:5.201

Android version:7

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,K9 Unread Widget Size is 1x2 or 2x2 instead of 1x1,"[Label(name=""bug""), Label(name=""help wanted"")]","I first noticed this on my wifes klte with CM12 - for some reason (unexplicable to mee), the unread widget has the size 2x2 instead of 1x1 for at least a year now (uninstall and reinstall of k9 didn't help).

Now, since I updated to K9 5.2, it also happened on my klte with CM13.0, but the size is now 1x2 (as you can see in the attached screenshot). The widget is not resizable after added to a homescreen.
![k9widgetsize](https://cloud.githubusercontent.com/assets/1324685/21683079/10683ec6-d358-11e6-8d65-0f01595bc357.png)


### Expected behavior
The widget should always be 1x1 in size, as it was before.

### Actual behavior
On some devices, the size is off - 1x2 or 2x2 on two of my devices.

### Steps to reproduce
Can't reproduce - can get rid of, either, by uninstalling/reinstalling. Also did a wipe of K9 data once on my wifes phone, to no avail.

### Environment
K-9 Mail version: 5.201 currently, was already for some months before on one device.

Android version: 5.0/6.0 (CM 12/13)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Provide a message when a message list is empty,"[Label(name=""enhancement"")]","### Expected behavior

* There should be an indication if zero results are found
* There should be an indication if a folder is actually empty

### Actual behavior
There is no indication when zero results are found - users are left to guess if the search is still going on or if it hasn't found anything

### Steps to reproduce
1. Do a search that finds nothing

### Environment
K-9 Mail version: 5.201

Android version: N/A

Account type (IMAP, POP3, WebDAV/Exchange): N/A
"
k9mail/k-9,closed,attachments in a long email conversation,[],"### Expected behavior
Tell us what should happen

In the previous versions before the 5.201 if we receive a messagge with 25 replies, and an attachment the same can be showed clicking on the button on the right part of top of the message.


### Actual behavior
Tell us what happens instead

if we received the same messages now (25 replies), the attachement is showed only after scroll all messages, at the end. Is not so easy and immediate to see.

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:
5.201 - 5.202
Android version:
6.0 - 6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMA - POP3"
k9mail/k-9,closed,imap - unable to connect,[],"### Expected behavior
Tell us what should happen
Everything is fine in v5.010
### Actual behavior
Tell us what happens instead
In v5.201, messages dont come in inbox at all.
In Settings-Fetching-Incoming svr - ""Setup could not finish, cannot connect to svr (unable to connect), Continue + Edit details"". 
I have IMAP with ssl 993, normal pass.
Smtp sent okay.

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:
5.201
Android version:
4.2.2 and 5 and 6.
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP."
k9mail/k-9,closed,Attachments are shown at the bottom of the email,[],"### Expected behavior
Tell us what should happen

Usually when in an email conversation there is an attachment the button ""show attachment"" appear on the right side on top of the mail.

### Actual behavior
Tell us what happens instead

the attachment is showed at the foot of all conversation

### Steps to reproduce

1.take an email conversation write a reply with attachment
2. send the mail 
3.when the mail is received the attachment is showed at the foot of all conversation

### Environment
K-9 Mail version:
5.201 -5.202
Android version:

6.0 (HUAWEI P8) - 6.0.1 (SAMSUNG S5)

Account type (IMAP, POP3, WebDAV/Exchange):

imap / pop3"
k9mail/k-9,closed,Add support for obsolete header field format,[],"Putting whitespace between header field name and colon is valid in the obsolete syntax.

The check in `Field.newRawField()` was an attempt to prevent users from creating invalid `Field` instances. But right now we only use this method with data coming from the MIME4J parser. So even an updated check has the potential to do more harm than good.

Fixes #1959 "
k9mail/k-9,closed,no longer stretches/shrinks email,"[Label(name=""duplicate"")]","### Expected behavior
when using 2 fingers I should be able to zoom in/out of emails or being able to pan around an email in order to read it better

### Actual behavior
Nothing happens.  This was working fine and yesterday new k9 patch was installed which broke it.

### Steps to reproduce
1. Open email
2. use finger on screen to pan - nothing happens.
3. use 2 fingers on screen to zoom in/out - nothing happens.

### Environment
K-9 Mail version:
5.201

Android version: 
6.0.1
Samsung S6 (SM-G920V)

Account type (IMAP, POP3, WebDAV/Exchange):
pop3

"
k9mail/k-9,closed,Inline PGP Signatures on Non-encrypted mail,"[Label(name=""enhancement"")]","### Expected behavior
I'd like to be able to send and receive non-encrypted emails that use inline PGP signatures. Basically, using OpenKeychain, I don't want to send an attachment called `signature.asc`, I want a message that will look like: 

```
-----BEGIN PGP SIGNATURE-----
my message

-----END PGP SIGNATURE------
<signature>
```

### Actual behavior
You cannot use inline mode with sign-only mode. Not sure why.

### Steps to reproduce
1. Compose a new email
2. Click on the hamburger menu in the top right
3. Enable PGP/INLINE mode
4. Try to enable PGP Sign Only mode as well
5. It is unsupported

### Environment
K-9 Mail version: 5.201

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange): N/A

Why was the decision made to limit the way signatures are added to the message? Is this something OpenKeychain does not support? Because as far as I can tell, K9 can decode _both_ types of email, and show that the signatures are verified, but you cannot compose mail with the above settings."
k9mail/k-9,open,some text disapeared,"[Label(name=""needs info"")]","### Expected behavior
Tell us what should happen
I should be able to read an entire message
### Actual behavior
Tell us what happens instead
about half the text did not show up. Looked at the email with another client and it was fine.
### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 
newest
Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
imap"
k9mail/k-9,closed,IMAP Drafts not saving ,"[Label(name=""duplicate"")]","### Expected behavior
Should save to Drafts folder. 

### Actual behavior
Email is NOT saved to Drafts folder. 

### Steps to reproduce
1. Compose a mail in K9, 
2. Close without sending,
3. Check Drafts folder. 

### Environment
K-9 Mail version:
5.021

Android version: 
Android firnware 4.1.2
Kernel 3.4.0

Account type:
IMAP"
k9mail/k-9,closed,K9 5.201 on FDroid does not request permission to read APG,"[Label(name=""duplicate"")]","### Expected behavior
Cryptography should be enabled on emails. The app should detect APG as the OpenPGP provider in the account settings.

### Actual behavior
I noticed after upgrading to 5.201 on FDroid that cryptography stopped working. Going into the account settings it said ""No OpenPGP provider found."" After uninstalling the app, and reinstalling 5.100 and 5.201 separately (from FDroid), the latter does not ask for a permission to read keys from APG, which is likely why it doesn't detect it.

### Steps to reproduce
See above.

### Environment
K-9 Mail version: 5.201 from FDroid

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange): IMAP, and another IMAP over Exchange account.
"
k9mail/k-9,closed,Addressie name appears instead of email address,[],"### Expected behavior
When composing an email and adding an email address (TO, CC, or BCC) of an email that is in the contact list and I tap the address as it pops up and the address should then be displayed on the TO (or whichever) line I put it on.
This is how it worked in 5.010

### Actual behavior
In the 5.020 it lets you select the found email address associated with the contact, but then the **contact name** is what is placed on the TO line, not the email address. 

### Steps to reproduce
1.   Go to Main menu, Settings, Display;  ensure that ""show Correspondent names"" is UNChecked
2.   Compose an email by typing the email address of at least one contact in your contacts
3.    When it finds the email address, tap it and you'll see only the contact name.

### Environment
K-9 Mail version:5.020

Android version:6.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,Don't hardcode check for version in SettingsExporterTest,[],Otherwise every time we add a setting this test needs to be touched.
k9mail/k-9,closed,Option to disable the mark all as read dialog,[],"This is a fix for #1923 and my first contribution to this project.
I tested it and it looks like it's working. Do I need to add something else? What happens with the translations for the newly added string resource?"
k9mail/k-9,closed,Doesn't works with APG,"[Label(name=""duplicate"")]","### Expected behavior
K9-Mail 5.200 doesn't works with APG  (GPG apk for Android)

### Actual behavior
K9 says : ""no openGPG installed""

### Environment
K-9 Mail version: 5.200

Android version: 5.0.1

Account type : IMAP
"
k9mail/k-9,closed,can't connect to exchange 2003 by imap over ssl,[],"### Expected behavior
since last update I can't connect to our old Exchange 2k3 over ssl

### Actual behavior
check connection gives me error: unable to connect 

### Steps to reproduce
1. upgrade to 5.201
2.
3.

### Environment
K-9 Mail version: 5.201

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): imap

downgrade to 5.1 solved the problem "
k9mail/k-9,closed,CC/BCC Disappear if you tap subject first,"[Label(name=""bug"")]","### Expected behavior
While composing a new email, if I type the subject first, and compose the email, THEN go back and fill out the addresses of BCC and CC.

### Actual behavior
While composing a new email, if I type the subject first,  the BCC and CC address fields disappear (have them configured to show by default).   No way to get them back because the BCC/CC icon is missing (see previous issue)

### Steps to reproduce
1.  Tap to compose a new email
2.   Tap and type a subject
3.    BCC/CC address fields disappear

### Environment
K-9 Mail version:   5.201

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,COMPOSE UI with BCC Missing ,[],"### Expected behavior
In previous android version 5.010; Go to the COMPOSE screen.  at the top there are several ICONs (K-9 (screen name)  --- Compose --- two heads (show BCC/CC address fields) --- PaperClip+  --- Triangle (send)  --- and 3 dots (menu).
In the new version 5.201 the icon with **two heads (show BCC/CC address fields)** is missing.
I expect this two heads (show BCC/CC address fields) to be in the top header menu.


### Actual behavior
In the new version 5.201 the icon with **two heads (show BCC/CC address fields)** is missing.


### Steps to reproduce
1.   tap on compose a new email.
2.   Observe the absence of the icon with **two heads (show BCC/CC address fields)** is missing.
3.

### Environment
K-9 Mail version:  5.201 
Android version:  6.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,Give users a clearer note why the connection fails,[],"After the update to 5.2 many people have connection problems, most likely because their mailservers
only support weak ciphers that are no longer supported.
Some others report problems with Google which can't be weak ciphers.
I would appreciate a note that states clearly why the connection fails and maybe even encourages the user  to go to the mailserver provider and fix the problem at the rooot."
k9mail/k-9,closed,Emails are incorrectly considered case sensitive when looking for matching keys,"[Label(name=""third-party integration"")]","### I did:
I send an encrypted and signer mail to myself.

### Expected behavior
Everything should be fine with the mail and the signature.

### Actual behavior
I got a red lock icon. It said: ""the mail was signed with the wrong key""

### Steps to reproduce
1. create a PGP key for the mailaddress: ""Test@domain.com""
2. configure the mail account in k-9 with ""test@domain.com""
3. send an encrypted mail to yourself.

### Environment
K-9 Mail version: **5.201 (F-Droid)**
Android version: **4.4.4 (CyanogenMod 11)**
Account type (IMAP, POP3, WebDAV/Exchange): **IMAP**

### Suggestion:
Convert every string with mail addresses to lowercase or uppercase and than compare them."
k9mail/k-9,closed,"Can't send PGP message that is encrypted, but not signed, since 5.200",[],"### Expected behavior
Compose new message. Select a recipient whose public PGP key I have. Enter message subject and body. Tap the lock symbol right to the sender (i.e. my) name. Change setting from ""Encrypt if possible"" to ""Encrypt"". Continue.  Send message. Message is sent.

### Actual behavior
Message CANNOT be sent. Popup shows the following text (translated from German): ""No signing key is configured. Verify settings.""

### Steps to reproduce
I use a PGP environment with separate subkeys for signing and encryption. On mobile devices, I only have the encryption subkey, but not the signing subkey and also not the master key. Hence, I can decrypt only, but not sign. That's exactly what I want.

If your interested in the full rationale, German computer magazine c't has an in depth article about it in [issue 27/2015](https://www.heise.de/ct/ausgabe/2015-27-PGP-Schluessel-auf-Mobilgeraeten-sicher-organisieren-3032326.html).

It seems that starting with k-9 5.200, I can only sign **and** encrypt, but not encrypt only. This seems like a regression from 5.010 and earlier. In those versions, there were two separate checkboxes ""Sign"" and ""Encrypt"" in the compose new message dialog, so the ""encrypt only"" use case worked perfectly.

Here's my debug log, in case it helps: [k9-log-2.txt](https://github.com/k9mail/k-9/files/684962/k9-log-2.txt)


### Environment
K-9 Mail version: 5.201 (also 5.200)

Android version: 4.4.4 (CM 11-20141115-SNAPSHOT-M12-i9100)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"PGP message doesn't decrypt in 5.201, but does in 5.010","[Label(name=""bug"")]","### Expected behavior
Open PGP encrypted message in inbox, get prompted for PGP passphrase and enter it, then see the decrypted message text. This is also the actual behavior up to and including 5.010.

### Actual behavior
Open PGP encrypted message in inbox, get prompted for PGP passphrase and enter it, but the text displayed remains the PGP ASCII armor, i.e. the data starting with ""-----BEGIN PGP MESSAGE-----"" and ending with ""-----END PGP MESSAGE-----"". No cleartext message is displayed.

### Steps to reproduce
This seems to be related to the encoding of the incoming PGP message. The messages who cause the issue are MIME messages with two parts: one is the ASCII armor with content type text/plain. The second part is also the ASCII armor, but with some additional HTML markup and content type text/html.

I've attached the full SMTP message, stripped from most headers, for your reference. As you can see from the headers, the user agent of the sender is Thunderbird. I've also attached the k9 debug log.

[message.txt](https://github.com/k9mail/k-9/files/684846/message.txt)
[k9-log.txt](https://github.com/k9mail/k-9/files/684847/k9-log.txt)

### Environment
K-9 Mail version: 5.201

Android version: 4.4.4 (CM 11-20141115-SNAPSHOT-M12-i9100)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Badly formatted MIME prevents email from syncing,"[Label(name=""bug"")]","### Expected behavior
New e-mail should show in Inbox

### Actual behavior
Get an ""IllegalArgumentException"" error

### Steps to reproduce
1. Check Mail
2.
3.

### Environment
K-9 Mail version: 5.201

Android version:  6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3

This happens on all of my accounts after the new K-9 Mail update.
"
k9mail/k-9,closed,ugly support of html signatures; issue #794,[],
k9mail/k-9,closed,important-icon not clickable,"[Label(name=""duplicate"")]","### Expected behavior
In the email list view there is a star icon which appears to be supposed to be clickable. So expectedly, when I click on it the according message should be marked or unmarked (toggle) important. 

### Actual behavior
Instead once I click on the icon the scroll bar appears and I'm immediately taken to the position on the scrollbar I was (unknowingly) clicking. The same obviously happens when clicking on the star icon while the scroll bar is visible already. 

### Steps to reproduce
1. Open the message overview for any email account. 
2. Try to click on the star icon (might possibly work on some phones - doesn't on mine). 

### Environment
K-9 Mail version: 5.201

Android version: 7.1.1 (Cyanogenmod 14.1-20161225-NIGHTLY) 
Phone Model: Oneplus3


Account type (IMAP, POP3, WebDAV/Exchange): IMAP (Though probably not relevant) 
"
k9mail/k-9,open,Search fails to find email when searching by partial address / partial contact name,"[Label(name=""bug"")]","### Expected behavior
Messages should be found, for example by the sender's email address (or part thereof)

### Actual behavior
Messages are often not found

Example: Having received an email from Alice Doe, adoe@example.com, I can find the email manually, but the search function does not find it when I search for ""adoe"" or ""Alice"". The search function does find (some?) emails that contain ""adoe"" or ""Alice"" in the body.

Also, it seems that the search is now slower than before the most recent update.

### Steps to reproduce
1. open a folder
2. search for a string

### Environment
K-9 Mail version: 5.201

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Always show subject in message header when split mode is active,[],"I opted for minimal amount of changes rather than clean code. Hopefully this doesn't live long and we'll get to the UI overhaul soon.

Fixes #1915 "
k9mail/k-9,closed,Fix BCC recipients visible in sent message,[],"Looks like this was broken in all alpha releases since January 2015 -> https://github.com/k9mail/k-9/commit/523ebd0f2afeba538924a5836bc242429c8202ed

This whole mutable `LocalMessage` thing is a mess. I feel dirty :(

Fixes #1938"
k9mail/k-9,closed,K9 no longer sees APG,[],"### Expected behavior
Decrypt button should appear in message to prompt PGP passwd

### Actual behavior
After update, no decrypt button, K9 shows 'No OpenPGP app installed' even though APG is installed and always has been .

### Steps to reproduce
1. Open message
2. No decrypt option
3. ????

### Environment
K-9 Mail version:
5.201

APG version:
1.1.1

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,New messages not downloaded,[],"### Expected behavior
New emails should be shown in the inbox

### Actual behavior
Polling shows 0/1 and the Inbox shows ""SocketTimeoutException: Rea"" 

### Steps to reproduce
1. Mercury Mail server v 4.8
2. Poll for new email
3.

### Environment
K-9 Mail version: 5.201

Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

All emails show up in the browser. Most do not show up in K9. I have had no issues for years until recent upgrade."
k9mail/k-9,open,Cannot view attached image with Gallery app,"[Label(name=""bug"")]","When attempting to view attached images with the default Android gallery app... all I get is a blank screen. I would have to save the attachment first then use the Gallery app externally. Other image viewer apps work just fine & Gallery wasn't having a problem before v5.201.

K-9 Mail version:
5.201
"
k9mail/k-9,closed,Contact auto selecting first item,"[Label(name=""bug"")]","If there are ""FirstUser@example.com"" and ""SecondUser@example.com"" in my Contacts and i type ""User@example.com"" then app selects first entry from contacts and i cannot send email to ""User@example.com"". Previous versions allowed me type address and select one from suggestions if i want. Work around is to end the address with a comma & a space so new address object is created. 

K-9 Mail version:
5.201

"
k9mail/k-9,closed,Don't bother handling an intent in MessageList if we're finishing anyway,[],Should fix #1875 
k9mail/k-9,closed,Hide the entire crypto component for alternate recipients when disabled,[],Should fix #1914. I don't have a physical device right now so I haven't actually tested it.
k9mail/k-9,open,Database upgrade - full text search - takes a very long time process downloaded messages,"[Label(name=""performance"")]","### Expected behavior
""Normal behaviour"" (read mails etc.)

### Actual behavior
After an upgrade to the latest version (5.201) I only see a spinner and a message ""updating database for mailbox xxx"" (see screen shot below). This lasts for hours, even a stop and re-start of the app or the smartphone doesn't make difference.

### Steps to reproduce
Let Android perform the upgrade, then open the app

### Environment
K-9 Mail version: 5.201

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

![screenshot_20170103-210130](https://cloud.githubusercontent.com/assets/456000/21624663/33d0a5a2-d208-11e6-8afb-5b0c6a47f3f1.png)

"
k9mail/k-9,closed,App no longer goes to Inbox after phone notification,"[Label(name=""duplicate"")]","### Expected behavior
After your phone notifies you that you have new mail you tap the notification and it goes to the Inbox so you can read your new messages.

### Actual behavior
After your phone notifies you that you have new mail you tap the notification and it goes to the folder list.  You then have to tap on the Inbox to read your new messages.

### Steps to reproduce
1. Wait for a new mail notification.
2. Tap the notification.
3. Observe the app go to the folder list instead of the Inbox.

### Environment
K-9 Mail version:
5.201
Android version:
6.0
Account type (IMAP, POP3, WebDAV/Exchange):
POP3 and IMAP
"
k9mail/k-9,closed,Get rid of drop down cc: and bcc: and return to + on top,[],"### Expected behavior
Tapping head with + next to it takes care of cc: functions

### Actual behavior
cc: functions are in drop down list under to: field now.  This takes up too much space.  Also drop down list is closed by tapping on message body.  This makes absolutely no sense.  If you must insist on using a drop down list with a down arrow then put an up arrow where the down arrow is to close the list.

### Steps to reproduce
1. Create, reply to or forward a message.
2. If you want to cc: recipients you have to use the down arrow now.
3.

### Environment
K-9 Mail version:
5.201
Android version:
6.0
Account type (IMAP, POP3, WebDAV/Exchange):
POP3 and IMAP
"
k9mail/k-9,closed,No option to disable mail recipients' photo or initial,[],"### Expected behavior
When you create, forward or reply to a message the recipient's name or email address should show.  If there are more than one recipient their names or email addresses should show too, separated by commas.

### Actual behavior
When you create, forward or reply to a message the recipient's photo shows next to their name or email address.  If they do not have a picture in your contacts list or are not in your contacts list a large initial (the first initial of their email address or name) appears next to their email address or name.  This takes up a huge amount of space, especially when you have a drop down list.  There is no option in the settings to turn this behavior off and just show plain text, comma separated with no pictures/initial and no dropdown list.


### Steps to reproduce
1. Go to an email account.
2. Create a new message.
3. Start typing in a name or email address in the To: field.
4. When you are finished with that recipient you will see their picture or a giant initial.

### Environment
K-9 Mail version:
5.201
Android version:
6.0
Account type (IMAP, POP3, WebDAV/Exchange):
POP3 and IMAP
"
k9mail/k-9,closed,App no longer goes straight to Inbox from phone notification,"[Label(name=""duplicate"")]","### Expected behavior
After receiving a notification from your phone that you have new mail you tap the notification and the app goes to the Inbox so you can read your new message(s).

### Actual behavior
After receiving a notification from your phone that you have new mail you tap the notification and the app goes to the folder list for your email account.  You then have to tap the Inbox to read the new messages.

### Steps to reproduce
1. Wait for a new mail notification from your phone.
2. Tap on the notification.
3. Observe that the application does not go to the Inbox.

### Environment
K-9 Mail version:
5.201
Android version:
6.0
Account type (IMAP, POP3, WebDAV/Exchange):
POP3 and IMAP
"
k9mail/k-9,open,Loading messages now extremely slow,"[Label(name=""performance"")]","### Expected behavior
When reading messages by scrolling, deleting, etc. next message should load at a reasonable speed.

### Actual behavior
Message loading has become extremely slow with 5.201 release.

### Steps to reproduce
1. Open Inbox
2. Read a message
3. Scroll to next message
4. Wait

### Environment
K-9 Mail version:
5.201
Android version:
6.0
Account type (IMAP, POP3, WebDAV/Exchange):
POP3 and IMAP
"
k9mail/k-9,open,App crashes while scrolling through messages,"[Label(name=""needs info"")]","### Expected behavior
While going back and forth between messages application should not crash.

### Actual behavior
While going through messages in Sent folder, either just to read and press the next arrow or to delete (maybe other folders as well - I did not test others) before app goes to next message (or while trying to load it) application crashes.

### Steps to reproduce
1. Go to an email account and select the Sent folder either through the folder icon or menu.
2. Open any message to read it.
3. Delete the message or just try to hit the next arrow.
4. It will crash app.  Sometimes not on the first or second message but it will crash eventually.

### Environment
K-9 Mail version:
5.201
Android version:
6.0
Account type (IMAP, POP3, WebDAV/Exchange):
POP3 and IMAP"
k9mail/k-9,closed,K9 5.201 crashing...,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
A nice and stable app is going real unstable and bad. It start crashing, and response slow.
-Update of db is ok with success.
-Normal day use it crash some time when it receive a mail. 
### Environment
K-9 Mail version:
-5.201
Android version:
-6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
-IMAP
-Start crashing after latest update, have runned for years!"
k9mail/k-9,closed,Add support for delimiter value NIL in LIST responses,[],Fixes #1936 
k9mail/k-9,closed,BCC not working as expected,"[Label(name=""bug"")]","### Expected behavior
I wrote the mail with BBC on my Android 6.0.1.
So other people from CC shouldn't know that there are e-mail on BBC

### Actual behavior
All were able to read that there was bbc

### Steps to reproduce
1. Write mail with BBC
2. See their smiling faces when they discovers that boss e-mail is on BBC.

### Environment
K-9 Mail version: 5.201

Android version:6.0.1.

Account type (IMAP, POP3, WebDAV/Exchange): IMAP and SMTP on zoho.com
"
k9mail/k-9,closed,"APG application does not seem to be detected (""no openpgp app installed"" shown)",[],"### Expected behavior
K-9 (latest Play Store version) installed on Nexus 6P (latest OTA firmware) usually detects the presence of the app APG (latest Play Store version) under account settings -> cryptography.

### Actual behavior
Under account settings -> cryptography -> a message ""No OpenPGP app installed"" is shown.

### Steps to reproduce
1. install APG and import key set for account X
2. go to ""account settings"" under account X in K-9
3. in ""cryptography"" -> selector is disabled

### Environment
K-9 Mail version: 5.201

Android version: 7.1.1 (angler-03.78)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,IMAP: Add support for delimiter value NIL in LIST response,[],"### Expected behavior
K9 should list all IMAP folders. This worked OK with version 5.0, so I guess it is a regression.

### Actual behavior
K9 only lists the standard folders and then throws an exception.

### Steps to reproduce
1. IMAP server uw-imap
2. Refresh IMAP folders
3.

### Environment
K-9 Mail version: 5.201

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

IOException: Expected 0022 ("") but got 004e (N)﻿

com.fsck.k9.mail.MessagingException: Unable to get folder list.
at com.fsck.k9.mail.store.imap.ImapStore.getPersonalNamespaces(ImapStore.java:156)
at com.fsck.k9.controller.MessagingController.refreshRemoteSynchronous(MessagingController.java:430)


From the log, it seems that it does get the folders before the error and I also do not see the actual exception in the log:
```
01-03 09:16:11.352 I/k9      (8350): Running command 'doRefreshRemote', seq = 7(foregroundpriority)
01-03 09:16:11.464 D/k9      (8350): Connecting to sidamos.de as sidamos.de/84.162.7.82
01-03 09:16:11.465 I/XiaomiFirewall(3882): firewall pkgName:com.fsck.k9, result:0x0
01-03 09:16:11.749 V/k9      (8350): conn265707776<<<#null# [OK, [CAPABILITY, IMAP4REV1, I18NLEVEL=1, LITERAL+, SASL-IR, LOGIN-REFERRALS, AUTH=PLAIN, AUTH=LOGIN], Backend.fritz.box IMAP4rev1 2007f.404 at Tue, 3 Jan 2017 09:16:08 +0100 (CET)]
01-03 09:16:11.749 D/k9      (8350): Saving [AUTH=LOGIN, LOGIN-REFERRALS, SASL-IR, IMAP4REV1, LITERAL+, I18NLEVEL=1, AUTH=PLAIN] capabilities for conn265707776
01-03 09:16:11.750 V/k9      (8350): conn265707776>>> 1 AUTHENTICATE PLAIN
01-03 09:16:11.807 V/k9      (8350): conn265707776<<<#+# []
01-03 09:16:11.875 V/k9      (8350): conn265707776<<<#1# [OK, [CAPABILITY, IMAP4REV1, I18NLEVEL=1, LITERAL+, IDLE, UIDPLUS, NAMESPACE, CHILDREN, MAILBOX-REFERRALS, BINARY, UNSELECT, ESEARCH, WITHIN, SCAN, SORT, THREAD=REFERENCES, THREAD=ORDEREDSUBJECT, MULTIAPPEND], User thomas authenticated]
01-03 09:16:11.875 D/k9      (8350): Saving [NAMESPACE, SCAN, WITHIN, BINARY, IMAP4REV1, ESEARCH, LITERAL+, MULTIAPPEND, MAILBOX-REFERRALS, IDLE, THREAD=REFERENCES, I18NLEVEL=1, SORT, UNSELECT, THREAD=ORDEREDSUBJECT, UIDPLUS, CHILDREN] capabilities for conn265707776
01-03 09:16:11.876 V/k9      (8350): conn265707776>>> 2 LIST """" ""*""
01-03 09:16:11.945 V/k9      (8350): conn265707776<<<#null# [LIST, [\NoInferiors, \Marked], /, mythtv-dev]
01-03 09:16:11.945 V/k9      (8350): conn265707776<<<#null# [LIST, [\NoInferiors, \UnMarked], /, Entw&APw-rfe]
01-03 09:16:11.945 V/k9      (8350): conn265707776<<<#null# [LIST, [\NoInferiors, \UnMarked], /, eBay]

[...]

01-03 09:16:11.977 V/k9      (8350): LockableDatabase: Transaction ended, took 11ms / com.fsck.k9.mailstore.LocalFolder.appendMessages(LocalFolder.java:1218)
01-03 09:16:11.980 I/k9      (8350):  Command 'doRefreshRemote' completed
```

"
k9mail/k-9,closed,Account Storage Amount Increases Even With All Messages Deleted,"[Label(name=""duplicate"")]","### Expected behavior
Size of account message data storage should decrease with deletion of messages in account folders.

### Actual behavior
Prior to recent update to v. 5.201, size of account data storage was approx. 200kb with all messages deleted. Since update, data storage amount changes only a few KB when all new messages are deleted from inbox and trash folder. Data storage amount now showing over 700kb and rising with every new incoming message that is read and deleted. Compacting the folder has no effect or only reduces amount by 20-30kb.

### Steps to reproduce
1. Account data storage amount at 272kb.
2. New 100kb (example amount) message arrives in inbox.
3. New message read, deleted from inbox, and deleted from Trash folder.
4. Account data storage amount now at 360kb (example amount).
5. Compacting folder does not reduce data storage amount. Notification message indicates amount reduced from 360kb to 360kb.

### Environment
K-9 Mail version: 5.201

Android version: 6.0.1 running on Samsung S7

Account type (IMAP, POP3, WebDAV/Exchange): POP3"
k9mail/k-9,closed,"After v5.201 upgrade, stopped receiving email","[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
Prior to the upgrade, during inbox polling, if new messages exist, a copy of the new messages will down load to my phone.

### Actual behavior
After the upgrade to v5.201, during polling, it just says loading for a very long time and then stops.  No new messages are dowe loaded eventhough 

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Last update (12/30/16) disabled my email,"[Label(name=""bug""), Label(name=""needs info"")]","Hi,

For two days after the last update my email continually said it was updating the database for my account, as though it is stuck in a loop. I had lost all of my email during that time. The screen was blank except for the sentence that my database was being updated.

This morning (1/2/17) my email was suddenly back, however, no emails have been delivered since 12/31/16 at 6:00pm (EST). I've tried synching many times and the system just hangs up. I am also unable to delete the items in my Trash (leading me to believe I've lost all functionality).

In general, since Android issued their marshmallow update about 2 years ago, it has been taking 2-3 minutes to synch my mail (all other email apps take just a few seconds). I assumed it was due to memory, but I've got about 1.2 Gb free.  Would be great if you can fix both of these issues.

I'm using a Galaxy S4 handset.


 ### Actual behavior
Tell us what happens instead
It seems to just continually search (appears to run my battery down) but has received any email.  No ability to delete emails from Trash.

### Environment
K-9 Mail version:
- v5 201

Android version:
- 5.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
- POP3"
k9mail/k-9,closed,Error Decrypting Email,"[Label(name=""bug"")]","### Expected behavior
Expected decrypted email to show in cleartext

### Actual behavior
Error Eecrypting Email message shown with icon from OpenKeyChain

### Steps to reproduce
Send encrypted email to an account handled by K-9
Open email in k-9
Answer password request for decryption Key
See error message

### Environment
K-9 Mail version: 5.201

Android version: Android Version 6.0 - HTC M8 

Account type (IMAP, POP3, WebDAV/Exchange):
Sending Account was IMAP 
Receiving Account IMAP (gmail)

Both Public keys were imported from old AGP into OpenKeyChain.
Intentionally entering a wrong passphrase gives a different message: Wrong password.
Mail sent from either account to the other (encrypted) works in Thunderbird.  
Mail sent from Thunderbird also yields ""Error Decrypting mail"".

Process: com.fsck.k9, PID: 17677   <---- in Log
[k9-log-5.txt](https://github.com/k9mail/k-9/files/681499/k9-log-5.txt)

"
k9mail/k-9,closed,Properly handle exceptions thrown by ImapResponseCallback,[],Fixes #1919
k9mail/k-9,closed,Black text in quotation in replies,"[Label(name=""bug"")]","### Expected behavior
When replying to a mail the quoted part should be shown in white, also when the black design is used.

### Actual behavior
![](https://i.imgur.com/R8hP2I3h.jpg)

### Steps to reproduce
~~Additionally you may need to use a black design in Cyanogenmod.~~
The pre-5.0 version the quote was shown correctly.

### Environment
K-9 Mail version: 5.20

Android version: CM 13"
k9mail/k-9,closed,APG not being detected or used by k9mail after upgrade,[],"### Expected behavior
PGP encryption should be available

### Actual behavior
Client does not offer encryption, claims no PGP software is installed in settings. AGP is installed and configured, and was working before the k9 upgrade with k9.

### Steps to reproduce
1. create message
2. notice there's no encryption
3. look in settings and see APG is not detected

### Environment
K-9 Mail version: 5.201

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,Handling of signatures (contact info at bottom of message),"[Label(name=""enhancement"")]","This is not a major deal. Just a way to cut down on messy text blobs if people use the default settings when making their own signatures.

```
This is how K-9 does signatures.
-- 
signature
```

```
This is how signatures are usually done.

-- 
signature
```

I manually add the ""-- "" in my signatures and pre-pend the line break so my signature in the Sending options look right. ""<CR><LF>--<SP><CR><LF>signature"" If every other client and webmail is adding the line break, K-9 should, too.

```
Dear Person:

Hello. This email has multiple paragraphs.

Therefore, having the signature (by default) come immediately after is a bit messy-looking.

This is especially true if the signature is long.

Thank you.
-- 
Jonathan
jonathan@mail.net
Mobile: +1-500-555-6981

Senior Nitpicker
Room 45
Dept. of Scrutiny
Compulsive Industries

4103 Reice Avenue
Milltown, SX 452709-6395
```

c.f.

```
Dear Person:

Hello. This email has multiple paragraphs.

Therefore, having the signature have a line break is cleaner-looking.

This is especially true if the signature is long.

Thank you.

-- 
Jonathan
jonathan@mail.net
Mobile: +1-500-555-6981

Senior Nitpicker
Room 45
Dept. of Scrutiny
Compulsive Industries

4103 Reice Avenue
Milltown, SX 452709-6395
```

Some people purposely add several <CR><LF> in their signatures to visually separate sections of the signature and to sharply visually separate the signature as a whole from the message content. Others use desktop clients that add liberal (i.e., probably too much) white space.

It probably doesn't bode well for K-9 adoption if people complain about K-9-using correspondents' signatures being stuck to the message text and looking cluttered.

If everyone else is going against IETF RFC's and K-9 is right, then so be it. But it just seems like K-9 Mail is the odd one out from the prevailing convention."
k9mail/k-9,closed,please make a new material design UI,[],"Can you please make a new material design UI or otherwise would you merche my design in to k9mail?

I am an android developer if you will i can help you..."
k9mail/k-9,closed,Encrypted but unsigned e-mail (sender has no keys but friend has encryption key),[],"This is similar to Issue #1683 K-9 Mail should allow sending encrypted but unsigned e-mail.

I am not advocating teaching people to separate signing and encryption as the project contributors wish to avoid.

I am content with the option in settings to sign unencrypted messages (useful for votes or official public announcements).

However, there should be a way to send encrypted but unsigned e-mail. Not the option to do so, mind. I am saying that people who don't care about encrypting stuff for themselves and don't sign or have not yet set up their own private key set should be able to send encrypted unsigned mail.

Here is what I am advocating:

1. If the sender has a private key with signing and is sending to a recipient with encryption keys (and the message is set to encrypt the message with the recipient's public key), then always sign with the sender's private signing key and encrypt with the recipient's public encryption key.

2. If the sender does not have a private key with signing (only an encryption subkey) or if the sender has no private keys at all and is sending to a recipient with encryption keys (and the message is set to encrypt the message with the recipient's public key), then K-9 and OpenKeychain should say ""we can't sign and encrypt because there is no private signing key, but rather than trash this message we should at least encrypt it because we can.""

The current process is this:

1. If the sender has a private key with signing and is sending to a recipient with encryption keys (and the message is set to encrypt the message with the recipient's public key), then always sign with the sender's private signing key and encrypt with the recipient's public encryption key.

2. If the sender does not have a private key with signing (only an encryption subkey) or if the sender has no private keys at all and is sending to a recipient with encryption keys (and the message is set to encrypt the message with the recipient's public key), then sending will fail.

I am an advocate of signing unencrypted mail always and signing encrypted mail always if possible. However, this current situation (preventing someone from sending encrypted e-mail if that person has no key or no signing key) presents hurdles. When teaching someone how to use K-9 Mail to send encrypted mail to me, having that friend practice sending encrypted mail using my encryption public keys is the first step. Use already existing material for practice and demonstrations. Helping that friend get set up with her/his own private key and explain the signing subkey are the second and third steps.

Please bear in mind that this is my suggestion/request and not a demand. I have not contributed code and I applaud and thank your success in reaching 5.200, PGP/MIME, and new UI for cryptography."
k9mail/k-9,open,Ability to edit contact name / email address in reply tokens,"[Label(name=""enhancement"")]","Prior to v5.201, I could edit the contact name after I pulled it from my contact list.  However with this new version I can no longer edit the email (display name or address) once I have selected from my contact list.  Also I cannot copy the email address to my clipboard any longer.

K-9 Mail version: 5.201

"
k9mail/k-9,closed,Can't continue past Open Keychain dialog when recipient has more than one key,"[Label(name=""invalid"")]","### Expected behavior
When a recipient has more than one key in Open Keychain, the correct one can be selected and the message sent.

### Actual behavior
Open Keychain opens and displays the list of keys. (All are pre-selected.) Tapping ""OKAY"" just redisplays the list, regardless of how many keys are selected or deselected.

### Steps to reproduce
1. Configure a user in Open Keychain with more than one key.
2. Compose a message to that user.
3. Tap the send button.
4. Select zero or more keys for the user in Open Keychain and tap ""OKAY"".
5. Observe results.

### Environment
K-9 Mail version: 5.201

Android version: Marshmallow

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,"No way to supress ""mark all as read"" confirmation dialog.","[Label(name=""enhancement""), Label(name=""help wanted"")]","### Expected behavior
Menu > settings > interaction > confirm actions:  should contain ""mark all as read""

### Actual behavior
Irritating dialog shows up every time ""mark all as read"" is selected

### Steps to reproduce
1. Select ""Mark all as read""
2. Get mandatory dialog.
3. Search for new mail app, note many similar complaints on play store
4. Sad face.

### Environment
K-9 Mail version: 5.201

Android version: any

Account type (IMAP, POP3, WebDAV/Exchange): any
"
k9mail/k-9,closed,#753 Added application master password.,[],Implementation of feature requested in issue #753 - password protection.
k9mail/k-9,open,Notification no longer dismissed by opening inbox,"[Label(name=""needs info"")]","### Expected behavior
Previously, opening the inbox cleared the notification icon

### Actual behavior
Notification icon remains, and needs to be manually dismissed

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:
5.201
Android version:
5.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,K9 + Openkeychain = no automatic decryption and encryption as attachment,"[Label(name=""invalid"")]","### Expected behavior
Tell us what should happen
Issue 1: I suppose K9 should automatically decrypt all incoming emails once Openkeychain has been turned on in settings and private key is provided. Decryption works fine if I copy/paste the encrypted text into Openkeychain.

Issue 2: After encryption PGP raw data should come in the body of email, not as an attachment.

### Actual behavior
Tell us what happens instead
Issue 1: K9 does not automatically decrypt incoming emails, I only see raw pgp data + there is an icon in K9 saying email is not encrypted.

Issue 2: When I encrypt emails with K9+Openkeychain, the recipient receives a blank email with two attachments named 'Unknown Name', with my encrypted message inside. 

### Steps to reproduce
Issue 1:
1. Install latest K9
2. Install latest Openkeychain and import my private key + other people's public keys
3. In K9 settings select Openkeychain as pgp provider and also my private key
4. Asked my friend to email me, got encrypted email but K9 did not automatically decrypt it.

Issue 2:

1 and 3. same as above
4. Created a new email, selected the recipient from my contacts, the lock turned green indicating there is a public key for this recipient. I taped send, it asked me to enter my password and this is it


### Environment
K-9 Mail version: 5.201

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): irrelevant, the issue is the same with any account
"
k9mail/k-9,closed,ImapResponseParser.parseLiteral timeout error,"[Label(name=""bug"")]","
[k9-log.txt](https://github.com/k9mail/k-9/files/681130/k9-log.txt)
### Expected behavior
Tell us what should happen
K9 should be able to read IMAP mail
### Actual behavior
Tell us what happens instead
It logs in the IMAP account but doesn't read the mail box.
### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:
5.201
Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

"
k9mail/k-9,closed,SMTP headers not accessible for HTML mail,[],"### Expected behavior
The ""show headers"" option should display the full header data for all emails.

### Actual behavior
For many HTML mails, only the sending client provided headers are shown. As these are the most commonly spoofed details, this is a serious oversight.

### Steps to reproduce
1. Open an HTML formatted email
2. Select the ""show headers"" option
3. Observe complete lack of SMTP conversation details

### Environment
K-9 Mail version:
5.201
Android version:
5.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Database size doesn't decrease,"[Label(name=""bug""), Label(name=""needs info"")]"," Before the update when I would empty the trash the mailbox size would reduce now after the update this is not happening. Even after using the option to clear local Messages the size of the mailbox was only reduced by a very small amount . 

 Before the update the size of my Nina email box after clearing all trash was approximately 92 KB to 127 KB now after deleting all local messages it is still over 1 MB.

 I am using canine mail app for four different email accounts sure the size of the mailboxes is quite excessive .

K-9 Mail version:  5.201

Android version:  6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3 and IMAP

Galaxy Note 5"
k9mail/k-9,closed,SSL not working properly,[],"### Expected behavior
I have an IMAP account set up for a long time now.
It is set to work with SSL/TLS on port 993, with password encryption.
It's always been working fine so far.

### Actual behavior
Since last software update, it is not updating anymore (not receiving new messages).
K9 doesn't give any error message...
...but my server does.

The server is the popular AltN's ""MDAEMON"", on the latest version (16.5.2)
The server says in its log : 
SSL error 0x80090308 The token is not valid [translated from french].
(I understand that the error number belongs to MDAEMON of course)

### Steps to reproduce
I've tried to remove encryption : then, yes, it updates correctly.

### Environment
K-9 Mail version: 5.201

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP with SSL/TLS


Thanks for your great job anyhow !!!

Eric"
k9mail/k-9,closed,message subject no longer shown on message view,"[Label(name=""bug"")]","### Expected behavior
the message subject should be shown in the message view

### Actual behavior
the message view no longer shows the message subject

### Steps to reproduce
1. open a message
2. try to read the message subject in the message view

### Environment
K-9 Mail version: 5.201

Android version: 7.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Crypto indicator displayed in token dropdown when no crypto provider configured,"[Label(name=""bug"")]","See this screenshot provided by someone on the mailing list.

![multi-mail](https://cloud.githubusercontent.com/assets/218061/21590774/ea06ef9e-d0fe-11e6-85bc-b402cccad619.png)

The three dots were mistaken for a broken menu indicator."
k9mail/k-9,closed,Bad key for encryption: %s,[],"### Expected behavior

When sending an email to a contact with an outdated encryption subkey, I should get an error message explaining what failed and on which key.

### Actual behavior

Currently, a toast appears with message ""Bad key for encryption: %s"" which:

- does not tell me which key has a problem
- does not tell me what the problem is

### Steps to reproduce
1. compose an email to a contact with an outdated encryption subkey
2. press the send button
3. you get a toast with ""Bad key for encryption: %s""

### Environment
- K-9 Mail version: 5.200
- Android version: 6.0.1
- OpenKeychain version: 4.1 (41010)

/cc @Valodim "
k9mail/k-9,closed,small context menu after upgrate to Nougat,"[Label(name=""duplicate"")]","### Expected behavior
Before I upgraded my OnePlus 3 to Nougat yesterday, when long-pressing on an email, K9 would open the context menu with the options to reply, forward, archive mail etc. on the full screen.

### Actual behavior
After the upgrade, the context menu is opened only in the lower right part of the screen instead of full screen. 

### Steps to reproduce
1. long-press on an email

### Environment
K-9 Mail version:
5.010

Android version:
7.0 (Nougat)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

![studio_20170102_115119](https://cloud.githubusercontent.com/assets/14359024/21588079/4ce5e8ac-d0e3-11e6-8faf-df96ae964f3d.jpg)
"
k9mail/k-9,closed,Crashes due to OOM while checking incoming messages,[],"I've had K-9 Mail working for years.  With recent update, app not working, even when app is ""closed"", get ""Unfortunately, K-9 Mail Has Stopped"".

So not only does the app not work, I have no email server, the app is draining the battery, causing the smartphone to overheat.

I have uninstalled and reinstalled the app.

Is there a way to uninstall the offensive update?  If not, is there a way to uninstall and reinstall a stable version?"
k9mail/k-9,closed,"After recent update, email doesn't download or delete","[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
Example: emptying the trash should empty the trash

### Actual behavior
Nothing happens, sometimes the app crashes

### Steps to reproduce
1. Click on folder icon next to account
2. Expand menu
3. Click empty trash

### Environment
K-9 Mail version:
5.201
Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
Pop3"
k9mail/k-9,open,"K9 locked up on ""upgrading database""","[Label(name=""needs info"")]","### Expected behavior
I've used K-9 as my email app for several email accounts for several years now with no issues.

### Actual behavior
When I click to open the app, it takes me to a white ""upgrading database"" screen that just continues to work. I can't access any of my emails accounts and it appears to be killing my battery.

### Environment
K-9 Mail version: 5.201

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): 
Multiple accounts both POP3 and IMAP. The account it shows ""upgrading"" is IMAP.
"
k9mail/k-9,closed,Cannot zoom HTML messages properly if at all,"[Label(name=""bug"")]","### Expected behavior
HTML mail should pinch zoom as it always has

### Actual behavior
In 5.201 I tried zooming a few HTML emails. Nether would pinch zoom (though double tapping made them a tiny bit bigger). At least once this led to a crash of the app.

I reverted to 5.010 and zoom works just fine with the same mail - in fact, it never had any such issue so I'm not upgrading until this is fixed.

### Steps to reproduce
Open html email e.g. from Xbox.com
Pinch zoom
Either nothing happens, it moves a tiny bit, or it ends up crashing.

### Environment
K-9 Mail version:
5.201 is broken for this. Works fine in 5.010

Android version:
7.0 on Nexus 6

IMAP
"
k9mail/k-9,closed,Don't create options menu when Activity is finishing anyway,[],Fixes #1898
k9mail/k-9,closed,fix typo in german translation,[],
k9mail/k-9,closed,Special Charakters in Subject,[],"### Expected behavior
Display ä ö or ß in subject

### Actual behavior
In the new Update Special Charakters Like ß or ä ö ü are Not Displayed right in the subject Line. It Display as Questionmark. In Body it Works. Also in old Version it is working.

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:newest

Android version:6.1

Account type (IMAP, POP3, WebDAV/Exchange): Imap
"
k9mail/k-9,closed,Special Charakters in Subjekt,[],"In the new Update Special Charakters Like ß or ä ö ü are Not Displayed right in the subject Line. THX Display as Questionmark. In Body it Works. Also in old Version it is working.


"
k9mail/k-9,open,Fade-in animation when opening message plays even when animations are disabled,[],"### Expected behavior
When disabling the ""Global settings > Display > Animation"" setting, when opening a mail, no animation should play.

### Actual behavior
Opening a mail results in a fade-in animation, with the message contents appearing progressively (the duration is around 0.5s-1s).

### Steps to reproduce
1. Disable the setting ""Global settings > Display > Animation""
2. Open a message
3. Observe a fade-in animation

### Environment
K-9 Mail version: 5.200

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP, if it matters

Other users have complained about this behavior on a mailing-list: https://www.mail-archive.com/k-9-mail@googlegroups.com/msg03953.html

Thanks for your help!"
k9mail/k-9,closed,Check for null in onAccountChosen,[],Fix probable cause of #1898 
k9mail/k-9,closed,"can't decrypt MIME encoded message, error from OpenKeychain","[Label(name=""bug"")]","Sorry, I don't know whether this belongs here, but somewhere I have to begin ...

I have an encrypted mail, in m

ulti-part message MIME format, text, html and an (unencrypted) pdf attachment. 
K9 mail (5.200) tries to decrypt it with OpenKeychain, but fails and displays the MIME text unchanged.
This is what I get from logcat:

```D/k9      (28235): MessageView displaying message MessageReference{accountUuid='941dcfeb-a9f6-49cb-8056-94b66ecba3e1', folderName='INBOX', uid='107910', flag=null}
D/k9      (28235): Creating new local message loader
D/k9      (28235): OpenPGP API decryptVerify result code: 2
D/OpenGLRenderer(27929): Use EGL_SWAP_BEHAVIOR_PRESERVED: true
V/WindowManager( 2638): Adding window Window{10174949 u0 org.sufficientlysecure.keychain/org.sufficientlysecure.keychain.remote.ui.RemotePassphraseDialogActivity} at 13 of 19 (after Window{29f4167a u0 com.fsck.k9/com.fsck.k9.activity.MessageList})
I/OpenGLRenderer(27929): Initialized EGL, version 1.4
D/OpenGLRenderer(27929): Enabling debug mode 0
V/k9      (28235): conn63347625<<<#null# [OK, Still here]
V/k9      (28235): Got async response: #null# [OK, Still here]
V/k9      (28235): conn634925872<<<#null# [OK, Still here]
V/k9      (28235): Got async response: #null# [OK, Still here]
D/k9      (28235): OpenPGP API decryptVerify result code: 1
D/k9      (28235): Creating new decode message loader
D/k9      (28235): No external images.
D/skia    (28235): --- SkImageDecoder::Factory returned null
D/skia    (28235): --- SkImageDecoder::Factory returned null
D/OpenPgp API(28235): Stopped writing due to broken pipe (other end closed pipe?)
D/OpenPgp API(28235): Stopped writing due to broken pipe (other end closed pipe?)
```

Unfortunately, I can't upload a privatized version of that mail. WIll be available at request

### Environment
K-9 Mail Version 5.2.00

Android version:
Fairphone Open Os 5.1 (based on AOSP 5.1)

Account type is IMAP
"
k9mail/k-9,closed,Don't use unchecked input in format string,[],
k9mail/k-9,closed,Crash: NPE in LocalStore.getRawAttachmentInputStream(),"[Label(name=""bug"")]","Via Play Developer Console
Version: 5.200 or 5.201

```
java.lang.NullPointerException: Attempt to get length of null array
	at java.io.ByteArrayInputStream.<init>(ByteArrayInputStream.java:60)
	at com.fsck.k9.mailstore.LocalStore.getRawAttachmentInputStream(LocalStore.java:873)
	at com.fsck.k9.mailstore.LocalStore.writeSimplePartToOutputStream(LocalStore.java:857)
	at com.fsck.k9.mailstore.LocalStore.writeCursorPartsToOutputStream(LocalStore.java:746)
	at com.fsck.k9.mailstore.LocalStore.access$300(LocalStore.java:78)
	at com.fsck.k9.mailstore.LocalStore$16.doDbWork(LocalStore.java:722)
	at com.fsck.k9.mailstore.LocalStore$16.doDbWork(LocalStore.java:714)
	at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
	at com.fsck.k9.mailstore.LocalStore.writeAttachmentDataToOutputStream(LocalStore.java:714)
	at com.fsck.k9.mailstore.LocalStore.access$100(LocalStore.java:78)
	at com.fsck.k9.mailstore.LocalStore$15.writeTo(LocalStore.java:706)
	at org.openintents.openpgp.util.ParcelFileDescriptorUtil$DataSourceTransferThread.run(ParcelFileDescriptorUtil.java:118)
```"
k9mail/k-9,closed,Crash: NPE in MessageCompose.onCreateOptionsMenu(),[],"Via Play Developer Console
Version: 5.201

```
java.lang.NullPointerException: Attempt to invoke virtual method 'boolean com.fsck.k9.Account.hasDraftsFolder()' on a null object reference
	at com.fsck.k9.activity.MessageCompose.onCreateOptionsMenu(MessageCompose.java:1030)
	at android.app.Activity.onCreatePanelMenu(Activity.java:3075)
	at com.android.internal.policy.impl.PhoneWindow.preparePanel(PhoneWindow.java:621)
	at com.android.internal.policy.impl.PhoneWindow.doInvalidatePanelMenu(PhoneWindow.java:998)
	at com.android.internal.policy.impl.PhoneWindow$1.run(PhoneWindow.java:323)
	at android.os.Handler.handleCallback(Handler.java:739)
	at android.os.Handler.dispatchMessage(Handler.java:95)
	at android.os.Looper.loop(Looper.java:145)
	at android.app.ActivityThread.main(ActivityThread.java:6873)
	at java.lang.reflect.Method.invoke(Native Method)
	at java.lang.reflect.Method.invoke(Method.java:372)
	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199)
```"
k9mail/k-9,open,Don't try to encrypt messages if key doesn't support encryption,"[Label(name=""enhancement"")]","### Expected behavior
I should be able to send emails without having a key selected if I want to use PGP support only to check sigs. It kinda works, but not sure if the behaviour is really the one expected.

### Actual behavior
Sending does not work, clicking on the icon returns « Aucune touche de signature n’est configurée ! Veuillez vérifier vos paramètres. », which translates approximately to “No signature key configured! Please check your setting” with a translation error (« touche » does stand for “keyboard key”, not “cryptographic key” which is a « clé »).

It does not depends on whether the “support signed only email” box is ticked or not, however it works if I move the slider in the composition mode to “Do not encrypt” instead of “Encrypt if possible”. Maybe that’s the desired behaviour, but I would have expected every position excepted “Encrypt” to work in this situation (in fact even this one, but I’m aware of your position on encrypt-only, so this last one is OK here since it implies signing too).

### Steps to reproduce
1. Go to Cryptographic settings, select OpenKeyChain as PGP app. Do not select any key.
2. Write an email.
3. Tap “Send”.

### Environment
K-9 Mail version:
5.200

Android version:
CM13.0/6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP here, but not sure that does matter"
k9mail/k-9,closed,5.201 - Email Text not displayed,[],"### Expected behavior
Tell us what should happen

Email Text should be displayed

### Actual behavior
Tell us what happens instead

Content/Text of Email is not being displayed.
Is it of the signaure of the mail?
As it is from a public mailing list, I attach the mail
[[opensuse-factory] updating tumbleweed - best practices.zip](https://github.com/k9mail/k-9/files/679684/opensuse-factory.updating.tumbleweed.-.best.practices.zip)



### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version: 5.201

Android version: 6.01 / S7 Edge

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,attachment are at the bottom of the e-mail instead of the top,[],"### Expected behavior
Tell us what should happen 
email attachments should appear at the top of the email

### Actual behavior
Tell us what happens instead 
since the upgrade released today the attachment are at the bottom of the e-mail. if its a long email trail it's a real pain to have to scroll all the way down! Would it be possible to revert back to having the attachment at the top please?

### Steps to reproduce
1. see above
2.
3.

### Environment
K-9 Mail version: 
v5.201

Android version: 
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): 
imap
"
k9mail/k-9,closed,Use theme-able icon for CC/BCC expander,[],Fixes #1893 
k9mail/k-9,closed,Cc/Bcc expander barely visible in dark theme ,"[Label(name=""bug"")]","### Expected behavior
K-9 Mail version 5.115 used to provide the option of choosing a TO, CC or BCC recipient in the selection field at the very top of the compose an email window. This is no longer available in version 5.2. There should also be the option to choose a To, CC or BCC recipient in the pull down list 

### Actual behavior
When composing an email one can't select a CC nor BCC recipient unless one has checked ""Always show Cc/Bcc"" in the settings for each email account. 

### Steps to reproduce
1. Compose an email 
2. Can't select Cc nor Bcc recipients for the email 

### Environment
K-9 Mail version:
5.2
Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
POP. "
k9mail/k-9,closed,"Bug: contact name shown when ""Show Correspondents Name"" is unchecked in Global settings ",[],"### Expected behavior
When an email is being composed one should see the actual email address and not the correspondent's name when ""Show Correspondents Name"" is unchecked in the Global settings. 

### Actual behavior
The correspondent's name is shown in the To:, CC: and BCC: inputs instead of the email address. 

### Steps to reproduce
1. Global settings, 
2. Uncheck ""Show Correspondents Name"", 
3. Compose an email, 
4. Choose a correspondent in the To:, CC: or BCC: fields. 

### Environment
K-9 Mail version:
5.200
Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
POP"
k9mail/k-9,closed,Fix NPE in MessageCryptoHelper.addCryptoResultAnnotationToMessage(),[],Fixes #1878 
k9mail/k-9,closed,Fix OutOfMemoryError during database migration,[],Fixes #1879
k9mail/k-9,closed,Crash if email address of contacts is malformed,"[Label(name=""bug"")]","### Expected behavior
Maybe a warning.

### Actual behavior
Crash.

### Steps to reproduce
1. Create a contact email with email ""user@domain.tld>"", ""<user@domain.tld"" or ""us<er@domain.tld""... with or without quotes.
2. Touch the email from the contacts application.
3. Crash.

### Environment
K-9 Mail version:
5.200

Android version:
5.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Required to enter password to decrypt email,[],"k-9 5.200
ls-4001/lyf
android 5.1 w/out google play services
openkeychain 4.2 beta1

i have two e-mail, each e-mail has a separate encrypted key can created using openkeychain. i am using both e-mail ids on same device.

what did i do ?
forwarded an encrypted e-mail from v***@gmx.com to KR***@yahoo.com.

what is the outcome ?
when i click the yahoo e-mail it provides me a prompt to enter yahoo encryption password to view e-mail.
if i input yahoo encryption password, i am able to view e-mail.
if i click cancel, it shows error.

what did i except ?
open the e-mail w/out providing password.

what did i do ?
manually refreshed yahoo folder.
even after manually refreshing the issue persists.

other facts:
manually upload keys every week to key servers from openkeychain.
enabled in k-9 settings: support signing of unencrypted messages.

please find the screenshot links.

screenshot links:

[z] error decrypting e-mail http://m.imgur.com/uUVacBy
[x] e-mail in bulk folder http://m.imgur.com/Qt4l7uW
[c] prompts for password http://m.imgur.com/rJEDIwe"
k9mail/k-9,open,Feature request: Chat mode,"[Label(name=""enhancement""), Label(name=""help wanted"")]","### Expected behavior
- When user is reading a message, allow answering in a conversation thread view, same as XMPP or WhatsApp chat.
- In contacts view, allow to begin in conversation chat view.
- 4 preference levels (general and/or per account): Only traditional mail, traditional mail by default, Chat mode by default, only Chat mode.

### Actual behavior
K-9 Mail interface is mature, but is still not adequate to completely replace centralized chat services (such as WhatsApp, Telegram, Hangouts, etc.) with mail protocols as mature standard layer.
"
k9mail/k-9,closed,Pinch and zoom broken,"[Label(name=""duplicate"")]","### Expected behavior
Zoom in on message and scroll around.

### Actual behavior 
Unable to scroll around message after zooming in.

### Steps to reproduce
1. Open email
2. Zoom in on body of message
3. Try to scroll to beginning of message

### Environment
K-9 Mail version: 5.200

Android version: 7.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Opening new mail from lock screen notification goes to folder view,"[Label(name=""bug"")]","### Expected behavior
Double tapping a new mail notification on the lock screen (then unlocking the screen) should open the email that just arrived. Or I guess the new behaviour is to show a list of unread emails if there are multiple unread emails(?).

### Actual behavior
K9-Mail opens but instead of going to a message it opens up the folder listing of the relevant account.

### Steps to reproduce
1. Lock Screen
2. Receive an email
3. Double Tap on Notification
4. Unlock Phone

### Environment
K-9 Mail version: 5.200

Android version: 6.0.1/CM13
Account type: IMAP

This worked as expected before updating to 5.200.
It also works correctly, when clicking on notifications when the phone is unlocked."
k9mail/k-9,closed,"Display recipient address, not name, in compose fields if ""Show correspondent names"" is unchecked","[Label(name=""duplicate"")]","I have ""Show correspondent names"" unchecked in global settings. k-9 should display the email address in the To/CC/BCC fields, not the contact name (e.g. when a recipient is auto-completed from the user's contacts). Instead it displays e.g. Bob (Other).

### Environment
K-9 Mail version: 5.200

Android version: 7"
k9mail/k-9,closed,Avoid NPE in Address.hashCode(),[],Fixes #1874
k9mail/k-9,closed,BB7 key info not detected,[],"

### Expected behavior
K9 should be able to detect the 

### Actual behavior
I am using K9 and openkeychain as my pgp key provider. everything is working fine apart from the fact that all mails sent from a bb7 device show up on k9 as 'Not signed', even when they are signed and encrypted.

### Steps to reproduce
1. send a signed and encrypted mail from a bb7 device
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
imap exchange"
k9mail/k-9,closed,wrong sorting after update to 5.2,"[Label(name=""bug"")]","### Expected behavior
Mail should be sorted by date of receiving

### Actual behavior
Tell us what happens instead
After update: For some mails the receiving time stamp is not correctly interpreted

### Steps to reproduce

This mail is interpreted as 28-Dec-2016 14:34 (might be the time of the update)

```
Return-Path: <SRS0=e639=UU=tr.inxmail-commerce.com=bounce_dpdde+mk7dshqp4winspcjeely56jkku4@rex13.flatbooster.com>
Delivered-To: prefix.something@posteo.de
Received: from proxy01.posteo.de ([127.0.0.1])
	by dovecot03.posteo.local (Dovecot) with LMTP id CWZDO1Qcx1fZyAEA+3EWog
	for <prefix.something@posteo.de>; Wed, 31 Aug 2016 20:36:52 +0200
Received: from proxy01.posteo.de ([127.0.0.1])
	by proxy01.posteo.de (Dovecot) with LMTP id 4raKEEMix1e3aAEAKZGY6Q
	; Wed, 31 Aug 2016 20:36:52 +0200
Received: from mx03.posteo.de (unknown [10.125.125.63])
	by proxy01.posteo.de (Postfix) with ESMTPS id 3sPYyD2Ls3z2xCg
	for <prefix.something@posteo.de>; Wed, 31 Aug 2016 20:36:52 +0200 (CEST)
X-Virus-Scanned: amavisd-new at posteo.de
X-Amavis-Alert: BAD HEADER SECTION, Missing required header field: ""Date""
X-Spam-Flag: NO
X-Spam-Score: 0.978
X-Spam-Level: 
X-Spam-Status: No, score=0.978 tagged_above=-1000 required=8
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HEADER_FROM_DIFFERENT_DOMAINS=0.001, HTML_IMAGE_RATIO_06=0.001,
	HTML_MESSAGE=0.001, MIME_HTML_ONLY=1.105, MISSING_DATE=1.396,
	RP_MATCHES_RCVD=-1.426] autolearn=disabled
Authentication-Results: mailin03.posteo.de (amavisd-new);
	dkim=pass (2048-bit key) header.d=paket.dpd.de
Received: from outbound2.flatbooster.com (outbound2.flatbooster.com [84.200.223.10])
	by mx03.posteo.de (Postfix) with ESMTPS id 3sPYyC5Vmmz10BZ
	for <prefix.something@posteo.de>; Wed, 31 Aug 2016 20:36:51 +0200 (CEST)
Authentication-Results: mx03.posteo.de; dmarc=none header.from=paket.dpd.de
Received: from localhost (outbound2.flatbooster.com [127.0.0.1])
	by outbound2.flatbooster.com (Postfix) with ESMTP id C092E6981512
	for <prefix.something@posteo.de>; Wed, 31 Aug 2016 20:36:50 +0200 (CEST)
X-Amavis-Alert: BAD HEADER SECTION, Missing required header field: ""Date""
Received: from outbound2.flatbooster.com ([127.0.0.1])
	by localhost (outbound2.flatbooster.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FaL8Y3S6ChXy for <prefix.something@posteo.de>;
	Wed, 31 Aug 2016 20:36:50 +0200 (CEST)
Received: from rex13.flatbooster.com (rex13.flatbooster.com [84.200.223.8])
	by outbound2.flatbooster.com (Postfix) with ESMTPS
	for <prefix.something@posteo.de>; Wed, 31 Aug 2016 20:36:50 +0200 (CEST)
Received: from inxmx27.inxserver.de (inxmx27.inxserver.de [93.191.164.59])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by rex13.flatbooster.com (Postfix) with ESMTPS id 062AB48B095E
	for <prefix.something@neusilba.de>; Wed, 31 Aug 2016 20:36:50 +0200 (CEST)
X-Inx-Account: dpdde@mx-auth
From: info@paket.dpd.de
To: prefix.something@neusilba.de
Message-ID: <INXCOM2.dpdde.m.k7dshqp4winspcjeelyq.4isf2y5gnza6rkgknsv7bngbeq@inxmail-commerce.com>
Subject: Bald ist Ihr DPD Paket da
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary=""----=_Part_3620365_1106654262.1472668609838""
List-Help-Link: <http://www.inxmail.de/unternehmen/kontakt>
List-Id: <dpdde.mxmail.tr.inxmail-commerce.com>
X-CSA-Complaints: whitelist-complaints@eco.de
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/simple; t=1472668609;
	s=tx; d=paket.dpd.de;
	h=From:To:Message-ID:Subject:MIME-Version:Content-Type:List-Id;
	bh=PSp1a2DH1ANR2UZ8l3cW1xqOm1MxQWcnWsdl78clq3I=;
	b=Q4RhqocFIo+TbkNCj3UT1vhqrh6d6IVRI8/IS91TE+qXXFjuBp3eDYjnXSJQcWFC
	eYhEus/6saqkTkc+CX5QZwDpxN3su+tvPxfLxJCI1AAwfautQAnQCwkyxrExzL8nKsA
	w6Nb3DOLW+iJ1nwEJmNJreCtlWrrqXmjhBTQ9SjK2HG8UzRfFe5QWCV/+g5ytE7sIwo
	iSPrRzULP+PnKlBnQkEzGCOP+fTE1IGvVeNhcLmp/sScsyuJjOk3cvN7CuDajj2A3k9
	L36PNo73KZsZBCDEZDuWesMXlFBtNWdlUH8G5qjmgkNlD9tfAigDo9I9Wr9Vf/N9CEb
	eKsE9ypNQg==

------=_Part_3620365_1106654262.1472668609838
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<meta http-equiv=3D""Content-Type"" content=3D""text/html; charset=3DUTF-8"">
<meta content=3D""telephone=3Dno"" name=3D""format-detection""/>
<style type=3D""text/css"">
.appleLinksFooter a {color:#b1b2b2 !important; }
.appleLinksAddress a {color:#666666 !important; text-decoration: none;}
div, p, a, li, td { -webkit-text-size-adjust:none; }
a:link, a:visited, a:hover { color: #dc0032; }
</style>
</head>
<body style=3D""background: #fff; margin: 0; padding: 0;"">
<div align=3D""center"">
<table width=3D""600"" border=3D""0"" cellpadding=3D""0"" cellspacing=3D""0"">
<tr>
<td colspan=3D""5"" width=3D""600"" height=3D""8"" style=3D""font-size:1px; line-h=
eight:0px;""><img src=3D""http://pn.dpd.de/iuv/template/internet/images/blank=
.gif"" width=3D""1"" height=3D""8"" alt=3D"""" border=3D""0"" style=3D""display:block=
;""></td>
</tr>
<tr>
<td colspan=3D""5"" width=3D""600"" height=3D""1"" bgcolor=3D""#d9d9d9"" style=3D""f=
ont-size:1px; line-height:0px;""><img src=3D""http://pn.dpd.de/iuv/template/i=
nternet/images/blank.gif"" width=3D""1"" height=3D""1"" alt=3D"""" border=3D""0"" st=
yle=3D""display:block;""></td>
</tr>
</table>
<table width=3D""600"" border=3D""0"" cellpadding=3D""0"" cellspacing=3D""0"">
<tr>
<td width=3D""600"" bgcolor=3D""#d9d9d9"" style=3D""font-size: 13px; line-height=
: 1.5em; font-family: Arial, Helvetica, sans-serif; color: #000000; text-al=
ign:left;""><img width=3D""600"" height=3D""92"" src=3D""http://pn.dpd.de/iuv/tem=
plate/internet/images/header_predict_de.gif"" alt=3D""Predict - ein Service v=
on DPD"" style=3D""display:block;""></td>
</tr>
<tr>
<td width=3D""600"" bgcolor=3D""#d9d9d9"" style=3D""font-size: 13px; line-height=
: 1.5em; font-family: Arial, Helvetica, sans-serif; color: #000000; text-al=
ign:left;""><a href=3D""http://www.dpd.com/extension/ezdpd_design/design/dpd/=
html/dfp_redirect.php?template=3Demail_template_header&sz=3D600x260|600x217=
&c=XXX&t=3DUCID%3do2%26event%3d1""><img width=3D""600"" sr=
c=3D""http://pubads.g.doubleclick.net/gampad/ad?co=3D1&iu=3D/59885020/email_=
template_header&sz=3D600x260|600x217&c=3D334581943201608312036&t=3DUCID%3do=
2%26event%3d1"" alt=3D""Predict Header Image"" style=3D""display:block;""></a></=
td>
</tr>
</table>
<table width=3D""600"" border=3D""0"" cellpadding=3D""0"" cellspacing=3D""0"">
<tr>
<td width=3D""1"" bgcolor=3D""#d9d9d9""><img src=3D""http://pn.dpd.de/iuv/templa=
te/internet/images/blank.gif"" width=3D""1"" height=3D""1"" alt=3D"""" border=3D""0=
"" style=3D""display:block;""></td>
<td width=3D""11"" bgcolor=3D""#ffffff""><img src=3D""http://pn.dpd.de/iuv/templ=
ate/internet/images/blank.gif"" width=3D""11"" height=3D""1"" alt=3D"""" border=3D=
""0"" style=3D""display:block;""></td>
<td width=3D""576"" valign=3D""top"">
<table width=3D""100%"" height=3D""20"" border=3D""0"" cellpadding=3D""0"" cellspac=
ing=3D""0"">
<tr>
<td height=3D""20"" style=3D""font-size:1px; line-height:0px;""><img src=3D""htt=
p://pn.dpd.de/iuv/template/internet/images/blank.gif"" width=3D""1"" height=3D=
""20"" alt=3D"""" border=3D""0"" style=3D""display:block;""></td>
</tr>
</table><table cellpadding=3D""0"" cellspacing=3D""0"" border=3D""0""><tr><td sty=
le=3D""font-size: 13px; line-height:1.4em; color: #666666; font-family: Aria=
l, Helvetica, sans-serif;text-align:left;"">Lieber Paketempf=C3=A4nger,</td>=
</tr><tr><td height=3D""10px"" style=3D""font-size:1px; line-height:10px; mso-=
line-height-rule: exactly;"">=C2=A0</td></tr><tr><td style=3D""font-size: 13p=
x; line-height:1.4em; color: #666666; font-family: Arial, Helvetica, sans-s=
erif; text-align:left;"">Ihre Sendung <a href=3D""http://www.paketnavigator.d=
e/redirect.aspx?action=3D1&parcelno=XXX&zip=3D76133=
&locale=3Dde_DE"" style=3D""color: #666666;"">09445319026219</a> von arvato di=
stribution GmbH stelle ich</td></tr><tr><td height=3D""10px"" style=3D""font-s=
ize:1px; line-height:10px; mso-line-height-rule: exactly;"">=C2=A0</td></tr>=
<tr><td style=3D""font-size: 13px; line-height:1.4em; color: #dc0032; font-f=
amily: Arial, Helvetica, sans-serif;text-align:left;"">am n=C3=A4chsten Werk=
tag</td></tr><tr><td height=3D""10px"" style=3D""font-size:1px; line-height:10=
px; mso-line-height-rule: exactly;"">=C2=A0</td></tr><tr><td style=3D""font-s=
ize: 13px; line-height:1.5em; color: #666666; font-family: Arial, Helvetica=
, sans-serif;text-align:left;""><span class=3D""appleLinksAddress"">an folgend=
e Adresse zu:<br>something, prefix<br>address <br>DE-somePostAddress=
</span></td></tr><tr><td height=3D""10px"" style=3D""font-size:1px; line-heigh=
t:10px; mso-line-height-rule: exactly;"">=C2=A0</td></tr><tr><td style=3D""fo=
nt-size: 13px; line-height:1.5em; color: #666666; font-family: Arial, Helve=
tica, sans-serif;text-align:left;"">In welchem Zeitfenster Sie mit Ihrem Pak=
et rechnen k=C3=B6nnen, teile ich Ihnen am Tag der Zustellung mit.</td></tr=
></table><table width=3D""100%"" border=3D""0"" cellpadding=3D""0"" cellspacing=
=3D""0""><tr><td height=3D""15"" style=3D""font-size:1px; line-height:0px;""><img=
 src=3D""http://www.paketnavigator.de/iuv/template/internet/images/blank.gif=
"" width=3D""1"" height=3D""15"" alt=3D"""" border=3D""0"" style=3D""display:block;"">=
</td></tr><tr><td height=3D""1"" bgcolor=3D""#d9d9d9"" style=3D""font-size:1px; =
line-height:0px;""><img src=3D""http://www.paketnavigator.de/iuv/template/int=
ernet/images/blank.gif"" width=3D""1"" height=3D""1"" alt=3D"""" border=3D""0"" styl=
e=3D""display:block;""></td></tr><tr><td height=3D""13"" style=3D""font-size:1px=
; line-height:0px;""><img src=3D""http://www.paketnavigator.de/iuv/template/i=
nternet/images/blank.gif"" width=3D""1"" height=3D""13"" alt=3D"""" border=3D""0"" s=
tyle=3D""display:block;""></td></tr></table><table border=3D""0"" cellpadding=
=3D""0"" cellspacing=3D""0""><tr><td colspan=3D""3"" style=3D""font-size: 13px; li=
ne-height: 1.4em; font-family: Arial, Helvetica, sans-serif; color: #666666=
; text-align:left;"">Sie k=C3=B6nnen die Sendung nicht entgegennehmen?</td><=
/tr><tr><td colspan=3D""3"" height=3D""10px"" style=3D""font-size:1px; line-heig=
ht:10px; mso-line-height-rule: exactly;"">=C2=A0</td></tr><tr><td colspan=3D=
""3"" style=3D""font-size: 13px; line-height:1.5em; color: #666666; font-famil=
y: Arial, Helvetica, sans-serif;text-align:left;"">=C3=84ndern Sie Ort oder =
Tag Ihrer Zustellung oder geben Sie mir eine Abstellgenehmigung.</td></tr><=
tr><td colspan=3D""3"" height=3D""14px"" style=3D""font-size:1px; line-height:14=
px; mso-line-height-rule: exactly;"">=C2=A0</td></tr><tr><td width=3D""282"" v=
align=3D""top"" bgcolor=3D""#dc0032"" style=3D""font-size: 13px; line-height: 1.=
5em; font-family: Arial, Helvetica, sans-serif; color: #ffffff; text-align:=
left;""><a href=3D""http://www.paketnavigator.de/redirect.aspx?action=3D3&par=
celno=XXX&zip=3D76133&locale=3Dde_DE"" style=3D""colo=
r:#ffffff""><img width=3D""282"" height=3D""104"" src=3D""http://www.paketnavigat=
or.de/iuv/template/internet/images/dpd_actionbutton_1_new.gif"" alt=3D""Wunsc=
hzustellung vereinbaren"" style=3D""display:block; border-style: none;""></a><=
/td><td width=3D""12""><img src=3D""http://www.paketnavigator.de/iuv/template/=
internet/images/blank.gif"" width=3D""12"" height=3D""1"" alt=3D"""" border=3D""0"" =
style=3D""display:block;""></td><td width=3D""282"" valign=3D""top"" bgcolor=3D""#=
a90034"" style=3D""font-size: 13px; line-height: 1.5em; font-family: Arial, H=
elvetica, sans-serif; color: #ffffff; text-align:left;""><a href=3D""http://w=
ww.paketnavigator.de/redirect.aspx?action=3D3&parcelno=XXX=
0160831&zip=3D76133&locale=3Dde_DE"" style=3D""color:#ffffff""><img width=3D""2=
82"" height=3D""104"" src=3D""http://www.paketnavigator.de/iuv/template/interne=
t/images/actionbutton_abstell-okay.gif"" alt=3D""Abstellgenehmigung erteilen""=
 style=3D""display:block; border-style: none;""></a></td></tr><tr><td colspan=
=3D""3"" height=3D""14px"" style=3D""font-size:1px; line-height:14px; mso-line-h=
eight-rule: exactly;"">=C2=A0<a href=3D""http://pn.dpd.de/redirect.aspx?actio=
n=3D3&pknr=XXX&plz=3D76133&auto=3D0""></a></td></tr><tr><td cols=
pan=3D""3"" style=3D""font-size: 13px; line-height:1.5em; color: #666666; font=
-family: Arial, Helvetica, sans-serif;text-align:left;"">Viele Gr=C3=BC=C3=
=9Fe</td></tr><tr><td colspan=3D""3"" align=3D""center""><img src=3D""http://pub=
ads.g.doubleclick.net/gampad/ad?co=3D1&iu=3D/59885020/Fahrerbild&sz=3D398x1=
86&t=3DUCID%3ddpd"" alt=3D""Ihr DPD Zusteller"" width=3D""398"" height=3D""186"" s=
tyle=3D""display:block; border-style: none;""><div style=3D""font-size: 13px; =
line-height:1.5em; color: #666666; font-family: Arial, Helvetica, sans-seri=
f; text-align:left;""><br />Im Auftrag von O2<br /><br /></div><a href=3D""ht=
tp://www.dpd.com/extension/ezdpd_design/design/dpd/html/dfp_redirect.php?te=
mplate=3Demail_template_footer&sz=3D576x162&c=3D334581943201608312036&t=3DU=
CID%3do2""><img src=3D""http://pubads.g.doubleclick.net/gampad/ad?co=3D1&iu=
=3D/59885020/email_template_footer&sz=3D576x162&c=3D334581943201608312036&t=
=3DUCID%3do2"" alt=3D""Predict Footer Image"" style=3D""display:block;""></a></t=
d>
</tr>
</table>
</td>
<td width=3D""11"" bgcolor=3D""#ffffff""><img src=3D""http://www.paketnavigator.=
de/iuv/template/internet/images/blank.gif"" width=3D""11"" height=3D""1"" alt=3D=
"""" border=3D""0"" style=3D""display:block;""></td>
<td width=3D""1"" bgcolor=3D""#d9d9d9""><img src=3D""http://www.paketnavigator.d=
e/iuv/template/internet/images/blank.gif"" width=3D""1"" height=3D""1"" alt=3D""""=
 border=3D""0"" style=3D""display:block;""></td>
</tr>
<tr>
<td colspan=3D""5"" height=3D""1"" bgcolor=3D""#d9d9d9"" style=3D""font-size:1px; =
line-height:0px;""><img src=3D""http://www.paketnavigator.de/iuv/template/int=
ernet/images/blank.gif"" width=3D""1"" height=3D""1"" alt=3D"""" border=3D""0"" styl=
e=3D""display:block;""></td>
</tr>
</table>
<table width=3D""600"" border=3D""0"" cellspacing=3D""0"" cellpadding=3D""0"">
<tr>
<td><img src=3D""http://www.paketnavigator.de/iuv/template/internet/images/b=
lank.gif"" alt=3D"""" width=3D""10"" height=3D""1"" style=3D""display:block"" /></td=
>
<td>
<table width=3D""100%"" border=3D""0"" cellspacing=3D""0"" cellpadding=3D""0"">
<tr><td colspan=3D""2""><img src=3D""http://www.paketnavigator.de/iuv/template=
/internet/images/blank.gif"" alt=3D"""" width=3D""1"" height=3D""32"" style=3D""dis=
play:block"" /></td></tr>
<tr><td colspan=3D""2"">
<font face=3D""arial,helvetica,sans-serif"" size=3D""1"" color=3D""#808285""><spa=
n style=3D""font-family:arial,helvetica,sans-serif; font-size:11px; line-hei=
ght:14px;"">
Sie m=C3=B6chten unsere Paketank=C3=BCndigung abbestellen? Klicken Sie <a h=
ref=3D""https://www.paketnavigator.de/unsubscribe.aspx"" style=3D""color:#dc00=
32"">hier</a>.
</span></font>=20
</td></tr>
<tr><td colspan=3D""2""><img src=3D""http://www.paketnavigator.de/iuv/template=
/internet/images/blank.gif"" alt=3D"""" width=3D""1"" height=3D""32"" style=3D""dis=
play:block"" /></td></tr>
<tr>
<td>
<a href=3D""http://www.dpd.de"" style=3D""color:#dc0032;"">
<font face=3D""arial,helvetica,sans-serif"" size=3D""1"" color=3D""#dc0032""><spa=
n style=3D""font-family:arial,helvetica,sans-serif; font-size:11px; line-hei=
ght:18px;"">
dpd.de</span></font> </a></td>
<td align=3D""right""><img src=3D""http://www.paketnavigator.de/iuv/template/i=
nternet/images/signature_endorsement_dpdg.gif"" alt=3D""dpdgroup"" width=3D""72=
"" height=3D""18"" style=3D""display:block;"" /></td></tr>
<tr><td colspan=3D""2""><img src=3D""http://www.paketnavigator.de/iuv/template=
/internet/images/blank.gif"" alt=3D"""" width=3D""1"" height=3D""16"" style=3D""dis=
play:block"" /></td></tr><tr><td height=3D""1px"" style=3D""line-height:1px; ms=
o-line-height-rule: exactly;"" colspan=3D""2"" bgcolor=3D""#dc0032""><img src=3D=
""http://www.paketnavigator.de/iuv/template/internet/images/blank.gif"" alt=
=3D"""" width=3D""1"" height=3D""1"" style=3D""display:block;"">&nbsp;</td></tr><tr=
><td colspan=3D""2""><img src=3D""http://www.paketnavigator.de/iuv/template/in=
ternet/images/blank.gif"" alt=3D"""" width=3D""1"" height=3D""16"" style=3D""displa=
y:block"" /></td></tr><tr><td colspan=3D""2"">
<font face=3D""arial,helvetica,sans-serif"" size=3D""1"" color=3D""#808285""><spa=
n style=3D""font-family:arial,helvetica,sans-serif; font-size:11px; line-hei=
ght:14px;"">DPD Dynamic Parcel Distribution GmbH & Co. KG, Wailandstra=C3=9F=
e 1, 63741 Aschaffenburg<br/>
Sitze der Gesellschaft: Aschaffenburg | Registergericht: Aschaffenburg HRA =
3340<br/><br/>
Pers=C3=B6nlich haftende Gesellschafterin: DPD Deutscher Paket Dienst Manag=
ement GmbH<br/>
Gesch=C3=A4ftsf=C3=BChrung: Boris Winkelmann (CEO)<br/>
Vorsitzender des Aufsichtsrates: Yves Delmas<br/>
Registergericht: Aschaffenburg HRB 5282<br/><br/>
Auf diese E-Mail k=C3=B6nnen Sie leider nicht antworten. Bei R=C3=BCckfrage=
n stehen wir Ihnen gerne per E-Mail=20
unter empfangen@dpd.de zur Verf=C3=BCgung. Die E-Mail dient lediglich zu Ih=
rer Information. Wir verwenden Ihre=20
E-Mail Adresse ausschlie=C3=9Flich, um Ihr Paket anzuk=C3=BCndigen. Sie wir=
d nicht f=C3=BCr werbliche Zwecke genutzt.<br/><br/><br/>
</span></font>=20
</td></tr>
</table>
</td>
<td><img src=3D""http://www.paketnavigator.de/iuv/template/internet/images/b=
lank.gif"" alt=3D"""" width=3D""10"" height=3D""1"" style=3D""display:block"" /></td=
>
</tr>
</table>
</div>
</body>
</html>
------=_Part_3620365_1106654262.1472668609838--
```


### Environment
K-9 Mail version:
5.200

Android version:
5.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Check recipientPresenter exists before destroying it - #1876,[],
k9mail/k-9,closed,Crash: OOM during migration,"[Label(name=""bug"")]","Via Play Developer Console
App version: 5.200

```
java.lang.OutOfMemoryError: Failed to allocate a 2060 byte allocation with 1974 free bytes and 1974B until OOM
	at org.apache.james.mime4j.stream.MimeEntity.advanceToBoundary(MimeEntity.java:387)
	at org.apache.james.mime4j.stream.MimeEntity.advance(MimeEntity.java:331)
	at org.apache.james.mime4j.stream.MimeTokenStream.next(MimeTokenStream.java:360)
	at org.apache.james.mime4j.parser.MimeStreamParser.parse(MimeStreamParser.java:176)
	at com.fsck.k9.mail.message.MessageHeaderParser.parse(MessageHeaderParser.java:24)
	at com.fsck.k9.mailstore.LocalMessage.populateFromGetMessageCursor(LocalMessage.java:127)
	at com.fsck.k9.mailstore.LocalStore$13.doDbWork(LocalStore.java:638)
	at com.fsck.k9.mailstore.LocalStore$13.doDbWork(LocalStore.java:615)
	at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
	at com.fsck.k9.mailstore.LocalStore.getMessages(LocalStore.java:615)
	at com.fsck.k9.mailstore.LocalFolder$10.doDbWork(LocalFolder.java:880)
	at com.fsck.k9.mailstore.LocalFolder$10.doDbWork(LocalFolder.java:875)
	at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
	at com.fsck.k9.mailstore.LocalFolder.getMessages(LocalFolder.java:875)
	at com.fsck.k9.mailstore.migrations.MigrationTo55.createFtsSearchTable(MigrationTo55.java:36)
	at com.fsck.k9.mailstore.migrations.Migrations.upgradeDatabase(Migrations.java:66)
	at com.fsck.k9.mailstore.StoreSchemaDefinition.upgradeDatabase(StoreSchemaDefinition.java:60)
	at com.fsck.k9.mailstore.StoreSchemaDefinition.doDbUpgrade(StoreSchemaDefinition.java:36)
	at com.fsck.k9.mailstore.LockableDatabase.openOrCreateDataspace(LockableDatabase.java:381)
	at com.fsck.k9.mailstore.LockableDatabase.open(LockableDatabase.java:354)
	at com.fsck.k9.mailstore.LocalStore.<init>(LocalStore.java:210)
	at com.fsck.k9.mailstore.LocalStore.getInstance(LocalStore.java:235)
	at com.fsck.k9.Account.getLocalStore(Account.java:1278)
	at com.fsck.k9.controller.MessagingController.setupPushing(MessagingController.java:4322)
	at com.fsck.k9.service.MailService.setupPushers(MailService.java:349)
	at com.fsck.k9.service.MailService.reschedulePushers(MailService.java:338)
	at com.fsck.k9.service.MailService.access$100(MailService.java:24)
	at com.fsck.k9.service.MailService$1.run(MailService.java:194)
	at com.fsck.k9.service.CoreService$1.run(CoreService.java:315)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
	at java.lang.Thread.run(Thread.java:818)
```"
k9mail/k-9,closed,Crash: NPE in MessageCryptoHelper.addCryptoResultAnnotationToMessage(),"[Label(name=""bug"")]","Via Play Developer Console
App version: 5.200

```
java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=65916, result=0, data=null} to activity {com.fsck.k9/com.fsck.k9.activity.MessageList}: java.lang.NullPointerException: Attempt to read from field 'com.fsck.k9.mail.Part com.fsck.k9.ui.crypto.MessageCryptoHelper$CryptoPart.part' on a null object reference
	at android.app.ActivityThread.deliverResults(ActivityThread.java:3733)
	at android.app.ActivityThread.handleSendResult(ActivityThread.java:3776)
	at android.app.ActivityThread.-wrap16(ActivityThread.java)
	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1412)
	at android.os.Handler.dispatchMessage(Handler.java:102)
	at android.os.Looper.loop(Looper.java:148)
	at android.app.ActivityThread.main(ActivityThread.java:5461)
	at java.lang.reflect.Method.invoke(Native Method)
	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
Caused by: java.lang.NullPointerException: Attempt to read from field 'com.fsck.k9.mail.Part com.fsck.k9.ui.crypto.MessageCryptoHelper$CryptoPart.part' on a null object reference
	at com.fsck.k9.ui.crypto.MessageCryptoHelper.addCryptoResultAnnotationToMessage(MessageCryptoHelper.java:575)
	at com.fsck.k9.ui.crypto.MessageCryptoHelper.onCryptoOperationCanceled(MessageCryptoHelper.java:558)
	at com.fsck.k9.ui.crypto.MessageCryptoHelper.onActivityResult(MessageCryptoHelper.java:536)
	at com.fsck.k9.activity.MessageLoaderHelper.onActivityResult(MessageLoaderHelper.java:168)
	at com.fsck.k9.ui.messageview.MessageViewFragment.onPendingIntentResult(MessageViewFragment.java:393)
	at com.fsck.k9.activity.MessageList.onActivityResult(MessageList.java:1600)
	at android.app.Activity.dispatchActivityResult(Activity.java:6456)
	at android.app.ActivityThread.deliverResults(ActivityThread.java:3729)
	... 9 more
```"
k9mail/k-9,open,Crash: NPE in AccountSetupIncoming.getSelectedSecurity(),"[Label(name=""bug"")]","Via Play Developer Console
App version: 5.200

```
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.fsck.k9/com.fsck.k9.activity.setup.AccountSetupIncoming}: java.lang.NullPointerException: Attempt to read from field 'com.fsck.k9.mail.ConnectionSecurity com.fsck.k9.activity.setup.ConnectionSecurityHolder.connectionSecurity' on a null object reference
	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)
	at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)
	at android.app.ActivityThread.-wrap11(ActivityThread.java)
	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)
	at android.os.Handler.dispatchMessage(Handler.java:102)
	at android.os.Looper.loop(Looper.java:148)
	at android.app.ActivityThread.main(ActivityThread.java:5417)
	at java.lang.reflect.Method.invoke(Native Method)
	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
Caused by: java.lang.NullPointerException: Attempt to read from field 'com.fsck.k9.mail.ConnectionSecurity com.fsck.k9.activity.setup.ConnectionSecurityHolder.connectionSecurity' on a null object reference
	at com.fsck.k9.activity.setup.AccountSetupIncoming.getSelectedSecurity(AccountSetupIncoming.java:645)
	at com.fsck.k9.activity.setup.AccountSetupIncoming.validateFields(AccountSetupIncoming.java:414)
	at com.fsck.k9.activity.setup.AccountSetupIncoming.onPostCreate(AccountSetupIncoming.java:378)
	at android.app.Instrumentation.callActivityOnPostCreate(Instrumentation.java:1188)
	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2398)
	... 9 more
```"
k9mail/k-9,closed,Crash: NPE in MessageCompose.onDestroy(),[],"Via Play Developer Console
App version: 5.200

```
java.lang.RuntimeException: Unable to destroy activity {com.fsck.k9/com.fsck.k9.activity.MessageCompose}: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.fsck.k9.activity.compose.RecipientPresenter.onActivityDestroy()' on a null object reference
	at android.app.ActivityThread.performDestroyActivity(ActivityThread.java:3865)
	at android.app.ActivityThread.handleDestroyActivity(ActivityThread.java:3883)
	at android.app.ActivityThread.-wrap5(ActivityThread.java)
	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1417)
	at android.os.Handler.dispatchMessage(Handler.java:102)
	at android.os.Looper.loop(Looper.java:148)
	at android.app.ActivityThread.main(ActivityThread.java:5461)
	at java.lang.reflect.Method.invoke(Native Method)
	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.fsck.k9.activity.compose.RecipientPresenter.onActivityDestroy()' on a null object reference
	at com.fsck.k9.activity.MessageCompose.onDestroy(MessageCompose.java:536)
	at android.app.Activity.performDestroy(Activity.java:6422)
	at android.app.Instrumentation.callActivityOnDestroy(Instrumentation.java:1143)
	at android.app.ActivityThread.performDestroyActivity(ActivityThread.java:3852)
	... 9 more
```"
k9mail/k-9,closed,Crash: NPE in MessageList.decodeExtras(),"[Label(name=""bug"")]","Via Play Developer Console
App version: 5.200

```
java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setVisibility(int)' on a null object reference
	at com.fsck.k9.activity.MessageList.decodeExtras(MessageList.java:485)
	at com.fsck.k9.activity.MessageList.onNewIntent(MessageList.java:258)
	at android.app.Instrumentation.callActivityOnNewIntent(Instrumentation.java:1212)
	at android.app.Instrumentation.callActivityOnNewIntent(Instrumentation.java:1224)
	at android.app.ActivityThread.deliverNewIntents(ActivityThread.java:2545)
	at android.app.ActivityThread.performNewIntents(ActivityThread.java:2557)
	at android.app.ActivityThread.handleNewIntent(ActivityThread.java:2566)
	at android.app.ActivityThread.-wrap12(ActivityThread.java)
	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1416)
	at android.os.Handler.dispatchMessage(Handler.java:102)
	at android.os.Looper.loop(Looper.java:148)
	at android.app.ActivityThread.main(ActivityThread.java:5417)
	at java.lang.reflect.Method.invoke(Native Method)
	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
```"
k9mail/k-9,closed,Crash: NPE in Address.hashCode(),"[Label(name=""bug"")]","Via Play Developer Console
App version: 5.200

```
java.lang.NullPointerException: Attempt to invoke virtual method 'int java.lang.String.hashCode()' on a null object reference
	at com.fsck.k9.mail.Address.hashCode(Address.java:176)
	at java.util.Collections.secondaryHash(Collections.java:3405)
	at java.util.LinkedHashMap.get(LinkedHashMap.java:250)
	at android.support.v4.util.LruCache.get(LruCache.java:84)
	at com.fsck.k9.activity.misc.ContactPictureLoader.getBitmapFromCache(ContactPictureLoader.java:213)
	at com.fsck.k9.activity.misc.ContactPictureLoader.loadContactPicture(ContactPictureLoader.java:133)
	at com.fsck.k9.activity.compose.RecipientAdapter.setContactPhotoOrPlaceholder(RecipientAdapter.java:137)
	at com.fsck.k9.view.RecipientSelectView.bindObjectView(RecipientSelectView.java:128)
	at com.fsck.k9.view.RecipientSelectView.getViewForObject(RecipientSelectView.java:112)
	at com.fsck.k9.view.RecipientSelectView.buildSpanForObject(RecipientSelectView.java:437)
	at com.fsck.k9.view.RecipientSelectView.buildSpanForObject(RecipientSelectView.java:47)
	at com.tokenautocomplete.TokenCompleteTextView.insertSpan(TokenCompleteTextView.java:1031)
	at com.tokenautocomplete.TokenCompleteTextView.access$700(TokenCompleteTextView.java:54)
	at com.tokenautocomplete.TokenCompleteTextView$3.run(TokenCompleteTextView.java:924)
	at android.os.Handler.handleCallback(Handler.java:739)
	at android.os.Handler.dispatchMessage(Handler.java:95)
	at android.os.Looper.loop(Looper.java:135)
	at android.app.ActivityThread.main(ActivityThread.java:5930)
	at java.lang.reflect.Method.invoke(Native Method)
	at java.lang.reflect.Method.invoke(Method.java:372)
	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1405)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1200)
```"
k9mail/k-9,closed,Cannot connect to outgoing SMTP server for Gmail,[],"### Expected behavior
K-9 Mail should connect to the outgoing SMTP Server (Port 465, smtp.gmail.com) for Gmail.
### Actual behavior
When connecting my Gmail Account to K-9 Mail I get an error when checking outgoing SMTP Server Settings. (Port 465, smtp.gmail.com)

### Steps to reproduce
1.Open K-9 Mail
2.Add a Gmail account to K-9 Mail

### Environment
K-9 Mail version: v5.200-RC2

Android version: 6.0.1, ZTE ZMAX PRO

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (Gmail)

PS: I checked my router and Port 465 is not being blocked. I can log into my Gmail perfectly using any other app, but K-9 Mail. 
"
k9mail/k-9,closed,SMTP - STARTTLS before AUTH,"[Label(name=""invalid"")]","### Expected behavior
Use STARTTLS when is available before login, not after

> 220 smtp.xxxx Ready
< EHLO User
> 250-OK Ready
   250-STARTTLS
   250-AUTH LOGIN
   250 AUTH=LOGIN
< STARTTLS
> 250-OK Ready
   250-AUTH LOGIN
   250 AUTH=LOGIN
< AUTH LOGIN
.....

### Actual behavior
> 220 smtp.xxxx Ready
< EHLO User
> 250-OK Ready
   250-STARTTLS
   250-AUTH LOGIN
   250 AUTH=LOGIN
< AUTH LOGIN
> 538 Encryption required


### Steps to reproduce


### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
SMTP
"
k9mail/k-9,closed,"""Signing subkey not found"" error while sending ecnrypted mail",[],"### Expected behavior
After adding a secret subkey for signing and encryption in OpenKeychain, I should be able to send encrypted email 

### Actual behavior
When I hit the ""Send"" button, I get a toast message ""signing subkey not found"".

### Steps to reproduce
1. Generate a key with the GPG command line tool.
2. Add two subkeys, one for encryption and one for signature.
3. Export using `--export-secret-subkeys` or `--export-secret-keys` (I tried both).
3. Import them to OpenKeychain.
4. Try to send encrypted email.

### Environment
K-9 Mail version: 5.200-RC2

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Remote Sent Not Syncing,[],"### Expected behavior
In K9,  mail sent on Mac should be in the K9 Sent folder. 

### Actual behavior
In K9, the mail is not in the Sent folder. 

### Steps to reproduce
1. On Mac
2. send email. 
3. Check K9

### Environment
K-9 Mail version:
5.10

Android version:
Android firmware 4.1.2, kernel 3.4.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,PGP,"[Label(name=""duplicate"")]","
Cryptographic protection of correspondence does not work correctly. E-mail attachments are not protected
"
k9mail/k-9,open,Unable to Open Single Part Encoded Binary Message,"[Label(name=""bug"")]","The v5.200-RC2 seems still not work well with a single part
encoded binary message with message header

```
 | MIME-version: 1.0 (1.0)
 | Content-type: image/jpeg; name=image1.JPG;
 |  x-apple-part-url=********-B62E-46C8-A0CB-************
 | Content-disposition: inline; filename=image1.JPG
 | Content-transfer-encoding: base64
```

reached me recently via

```
 | X-Mailer: iPhone Mail (14A456).
```

The stable v5.010 does try to open it with a viewer (e.g., Photo) but 
shows nothing (a black screen), while the v5.200-RC2 just keeps showing
  ""Opening the attachment""
without proceeding after touched ""Open"" or ""Saving"".
My Android is a 4.4.2 with security patch level 2016-02-01.

The same message shows picture ""image1.JPG"" normally with my MUA ""Mew""
on Windows PC."
k9mail/k-9,closed,Fix for #1866 - Added settings to turn on/off each type of notification,[],"This fixes #1866

Added 6 new settings - one for each of the 6 notification types. Using the new settings in the Notification Controller before spawning new notifications. As for the code style: I have taken all existing formatting/pattern from ""notificationDuringQuietTimeEnabled"" . 

I've tested it and I'm using this branch on my own phone ""productively"", becasue I need it, as state in #1866  

Adding a screenshot here of how it looks now.
![screenshot_20161223-163413](https://cloud.githubusercontent.com/assets/6048894/21450307/c2e11fa0-c930-11e6-89f1-974b56b7b9b8.png)"
k9mail/k-9,closed,add possibility to disable progress-notifications,[],"### Expected behavior
There must be an option to deactivate the progress notifications when fetching from an IMAP server.

### Actual behavior
Progress notifications cannot be deactivated.

### Steps to reproduce
1. Don't use push
2. Update all IMAP folders every 20 minutes
3. Get notifications every 20 minutes

### Environment
K-9 Mail version: Latest trunk

Android version: all

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

### Extended reason / Explanation

I'm syncing my Phone notification to a watch. There are only 2 ways to filter the notifications to the watch. 1. In Android: Notification can be blocked per app. 2. In the watch-app that syncs the notifications to the watch. Also here I can only filter by application, but not by notification type. So there must be a way to disable specific notification types in K9 (like ""fetching new emails""). Obviously, the notifications ABOUT NEW EMAILS of K9 are very important to be sent to the watch, so they should not be blocked.

When using IMAP PUSH it is all good. But push has only limited support with some IMAP servers. So sometimes it is necessary to set the timer, to fetch IMAP messages every 20 minutes. Problem : **That causes the smart watch to ring and vibrate every 20 minutes several times (for each IMAP folder) with a new notification (""updating folder XXX"").**"
k9mail/k-9,open,Unread messages on the message list not displayed in bold (when using non-default system font),"[Label(name=""bug""), Label(name=""help wanted"")]","### Expected behavior
Tell us what should happen
Unread messages on the message list should be displayed using bold font. 


### Actual behavior
Tell us what happens instead
Unread messages on the message list are not shown using bold font. The font used is the same as for read messages 

### Steps to reproduce
1. Syncronise
2. Enter the message list view
3. Verify the font used for unread messages 

### Environment
K-9 Mail version:
5.200 RC2

Android version:
6.01

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,Forwarded icon disappeared,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior
Forwarded icon not disappeared

### Actual behavior
Forwarded icon disappeared,but the reply signs are always in

### Steps to reproduce
1.Forward a mail and the forwarded Icon is displayed
2.Pull To refresh
3.Forwarded icon disappeared

### Environment
K-9 Mail version:Latest version

Android version:5.0

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,Attachment not encrypted with PGP,[],"When writing new email, attachment is not encrypted, only the text. This is a security issue."
k9mail/k-9,closed,Seeing Poor Performance When Connected to WIFI,[],"### Expected behavior
Tell us what should happen
When my Verizon Droid Turbo phone or my  Nexus 7 is connected to a 1 GB AT& T WIFI connection any new emails arriving in my Gmail inbox should show up in my K-9 mail inbox and if a new message has arrived between polling intervals I should be able to perform a manual update and see the new email in my inbox almost immediately.

### Actual behavior
Tell us what happens instead
Frequently, new mail simply will not show up if I'm connected to WIFI despite the fact that the Gmail app from Google shows the new email in my inbox.  I can manually attempt to update my inbox and K-9 takes forever to query my inbox on the Google Server and it looks like it may be simply timing out and not connecting to the server but I have no proof of the timeout.  On the other hand, if I turn WIFI on my phone off and use my Verizon 4G connection K-9 immediately updates my mailbox with new mail.
### Steps to reproduce
1.  Turn WIFI On
2.  Send myself mail from a non-Gmail Web Email account I have and wait for email to show up in my Gmail App
3.  See if the email is also in my  K-9 Mail inbox and if not, attempt a manually update and see if the email does or does not show up.
4.  If and when the email does not show up in my K-9 Mail inbox after a manual update, turn WIFI off and switch to my Verizon 4G connection and  perform a manual update if K-9 mail does not immediately update my inbox automatically on it's own.

### Environment
K-9 Mail version:
5.010
Android version:
5.1 on my Droid Turbo and 4.4.4 on my Nexus 7
Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Don't limit subject in message view to 3 lines,"[Label(name=""enhancement""), Label(name=""good first issue"")]","5.200-rc2
ls-4001/lyf
android 5.1 aosp

if the subject is more than 3 lines occupying almost 50% of screen area, please find screenshot [z].

please implement any one of the following:

[q] remove subject on top of the e-mail.
[w] reduce the size of the subject.
[e] if you intend to keep both [ subject on top & subject w/ to & from e-mail address], please try not to occupy not more than 25% of screen area. i mean message body occupies nearly or almost 75% of screen area.
[r] introduce a button to increase the text size of e-mail body.

[z] http://m.imgur.com/TzujsMS
"
k9mail/k-9,closed,Request for READ_EXTERNAL_STORAGE permission on import settings,[],"On android 7 (and 6?) importing settings always fails because k9 has no
permission to read files. This asks for permission as proposed here:
https://developer.android.com/training/permissions/requesting.html

There are more other things where we have to request for permission, but I didn't know how to do it:
- [ ] loading contact pictures fails silently
- [ ] exporting settings
- [ ] storing attachements"
k9mail/k-9,open,Concept: Material Redesign,"[Label(name=""enhancement"")]","![playstore_banner](https://cloud.githubusercontent.com/assets/22890589/21393141/6ed03110-c793-11e6-8801-dfd42e76fc3f.png)

**Design**:
After trying out a new icon (#1723) I gave redesigning some parts of the app a try. I tried to stick as close to the old design as possible in terms of structure and layout to keep the apps branding recognizable.  It's the first concept I've done so there may be some stuff that's a off a little ; )

![concept_inbox_and_email_mobile](https://cloud.githubusercontent.com/assets/22890589/22260218/aef666e8-e268-11e6-8824-52f3be1933e8.png)

**Inbox:**
This Screen is very similar to the old implementation just alingned with with Material Design metrics and some adjusted colors. Also the unread count moved down from the toolbar to make space for actions like search and sort as well as compact account and expunge in the overflow menu. The e-mails are now grouped by date so it's easier to quickly find the one you're looking for (only ""today"" and ""yesterday""). Also the compose action is  now a FAB in the bottom right corner.

**E-Mail**
The email screen itself is like an extra layer ontop of the resting UI. Ist fairly minimal to leave room for  attachments  and quoted text. You can still archive, delete mark as read/unread and share with the Actions now in the toolbar. The two main actions reply and forward are located at the bottom for 
maximum visibility (and can be expanded with a reply all option).

![concept_compose_and_nav_drawer_mobile](https://cloud.githubusercontent.com/assets/22890589/22267155/ffc1f64a-e282-11e6-89fb-87e299acb749.png)

**Compose**
Composing an e-mail is more straight forward than before thanks to the use of full bleed text fields and contact chips. Also multiple attachments can stack to save space.

**Navigation Drawer**
In the nav drawer you can directly switch between accounts and view the unified inbox, this saves the user a couple of taps. The expandable menu also makes it possible to add and remove accounts. Also adding the settings to the bottom unclutters other menus.

![color_palette](https://cloud.githubusercontent.com/assets/22890589/21393046/05143fe6-c793-11e6-9b00-460096a79da2.png)

**Color**
The rather blank light/dark color palette is supposed to keep the attention on the content instead of distracting the user (e.g. with a bright green toolbar). The primary high contrast accent color is used only in places that are important to the current state of the UI. The secondary a bit toned down accent color highlights elements without being to dominant. 

I'd really like to hear some feedback and could also do a dark/tablet version of these concepts, redesign other areas of the app or design some smaller more specific features (only if there's even interest).

If you want to look up some metrics or just play around with the source files, they're based on a 360*640 screen with xxhdpi density so 1px equals 1dp (updated everytime I add new stuff): [concepts.zip](https://github.com/k9mail/k-9/files/727550/concepts.zip)"
k9mail/k-9,closed,Imap access to outlook365 does not work properly,[],"### Expected behavior
I am trying to access an outlook365 account (I have to because my work decided to outsource their IT infrastructure to the Microsoft Cloud) with K-9 via IMAP. The server settings are as follows:
server: outlook.office365.com
security: SSL/TLS
port: 993
authentication: normal password
auto detect IMAP namespace true IMAP path prefix  

I expect messages that I have marked as read to stay read and messages that I have stared to stay stared and messages whose star I have removed to remain ""unstared""

### Actual behavior
Unfortunately, when I do any of the above operations (mark read, star, unstar) then the message is displayed as read, stared, unstared for a while but during one next few hours (or sometimes just minutes), read messages come back as unread, and stars disappear or reappear.

I also see the following errors for various sub-folders of the account in question:
```
K9-Mail version: 5.200-RC2
Device make: samsung
Device model: GT-I9195
Android version: 4.4.2

com.fsck.k9.mail.store.imap.NegativeImapResponseException: Command: EXAMINE ""INBOX/Drafts""; response: #3# [BAD, User is authenticated but not connected.]
        at com.fsck.k9.mail.store.imap.ImapResponseParser.readStatusResponse(ImapResponseParser.java:122)
        at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:626)
        at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:612)
        at com.fsck.k9.mail.store.imap.ImapFolder.executeSimpleCommand(ImapFolder.java:109)
        at com.fsck.k9.mail.store.imap.ImapFolder.internalOpen(ImapFolder.java:145)
        at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.openConnectionIfNecessary(ImapFolderPusher.java:330)
        at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.run(ImapFolderPusher.java:155)
        at java.lang.Thread.run(Thread.java:841)
```
[Here](https://github.com/mscdex/node-imap/issues/523) a similar problem was reported and a workaround could be to ""limit the number of connections"" as is discussed there. Would you at K-9 be willing to work on such a workaround? If not, is there anything else I could try to make outlook365 via IMAP work?

### Steps to reproduce
1. Set up an outlook365 accoun
2. Mark an unread message as read
3. Wait for it to come back as unread

### Further background
I have also tried to setup the account as an Exchange account together with the people from our IT without success.

Sending email via SMTP works without problems.

### Environment
K-9 Mail version: 5.200-RC2 (but problem already present in previous versions)

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Bcc recipient doesn't appear in drafts,"[Label(name=""being worked on""), Label(name=""bug""), Label(name=""good first issue"")]","### Expected behavior
When opening a draft, the user should be able to see the emails of the bcc field

### Actual behavior
Only the big letter with a coloured background appears instead of the email. Also the cursor position is wrong ( under the background of the letter)

### Steps to reproduce
1. Create a new message
2. Add a bcc address
3. Save as a draft
4. Open the draft and check the bcc field

### Environment
K-9 Mail version: 5.115

Android version:
4.4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,[Feature Request] HTTP & SOCKS proxy configurations,"[Label(name=""duplicate"")]",A simple option for http and socks proxy is deeply needed in this age.
k9mail/k-9,closed,K9 no longer works well on Amazon Fire,[],"### Expected behavior
Deleted items should delete and stay deleted; items saved to Drafts should show up in Drafts; e-mails should open immediately, delete immediately, and return to Inbox immediately.

When I first got my Fire tablet, I recommended K9 to my cousin who has a Fire tablet, and she loved it.  Today, I mentioned losing the K9 draft, and she said she started having trouble with K9 ""a long time ago"" and stopped using it.  So it isn't just me nor my limited storage Fire.

### Actual behavior
I have to delete items dozens of times to get them to stay deleted; they reappear as read in both the Inbox and the Trash folders.  When I save an e-mail in progress to Drafts, it just disappears, and I have to start over.  It has started taking longer and longer for K9 to respond to anything I try to do with it, often going to black screen, returning to the Folders menu because it got stuck doing whatever I tried to get it to do, showing only the top half of the accounts screen or Inbox screen, or message screen.

### Steps to reproduce
1. Do anything on the Fire tablet.
2. Do anything on the Fire tablet.
3. Do anything on the Fire tablet.

### Environment
K-9 Mail version: 5.000 (upgrades don't seem to be available for Amazon Fire's K9)

Android version: Fire OS 5.3.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP and POP3
"
k9mail/k-9,closed,Fix switch case for signature handling,[],yeaahh.. :hurtrealbad: 
k9mail/k-9,closed,IMAP authentication fails on new Yahoo! Mail secure sign in method,"[Label(name=""duplicate"")]","### Expected behavior
As per this article:
https://help.yahoo.com/kb/account/SLN27791.html
Once enabled, K-9 cannot be used to check Yahoo! Mail.

### Actual behavior
You receive the following error:
""Server doesn't support encrypted passwords using CRAM-MD5.""

### Steps to reproduce
1. Turn on secure sign in on Yahoo! Mail (which will become the norm soon, apparently).
2. Attempt to sign in with ""Encrypted password"".
3. Error.

### Environment
K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,How to delete messages permanently/disable trash folder,[],"### Expected behavior
Tell us what should happen

### Actual behavior
Tell us what happens instead

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,search hangs the app,[],"### Expected behavior
Searching emails should be pretty fast and snappy. It used to be like this.

### Actual behavior
Search takes several minutes and often just hangs the app. System says ""app isn't responding"". 

I'm running K9 on Android 7.1 (Nitrogen OS). My phone is Oneplus 
### Environment
K-9 Mail version:5.115

Android version: 7.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Remove unused resources,[],
k9mail/k-9,closed,"Added ""Remind me"" / ""Snooze"" feature",[],"I love this app; been using it for years. Wanted to finally contribute something that I find pretty useful. This allows you to add a reminder for any message. Just click ""Remind me"" in the context menu or the action bar, choose a time, and K-9 will pop up a notification at the chosen time linking to the message. 

Let me know what you think and keep up the great work!"
k9mail/k-9,closed,[WIP] Mail folder widget,"[Label(name=""needs rebase""), Label(name=""needs work"")]",
k9mail/k-9,closed,handle attachments with CHILD_PART_CONTAINS_DATA data location,[],"There is not really a very nice way to do this because writing out the data depends on the message strucutre, which we only really have after loading the message. I opted for loading the whole message and writing it with the regular `writeTo()` routines, but also had to change the `getInputStream` logic to `writeToOutputStream`.

fixes #1826 "
k9mail/k-9,closed,Display empty preview when we couldn't extract preview text,[],Fixes #1845
k9mail/k-9,closed,Crash: AssertionError: Unknown preview type: ERROR,[],"Reported via Google Play for 5.200-RC1

```
java.lang.AssertionError: Unknown preview type: ERROR
	at com.fsck.k9.fragment.MessageListFragment$MessageListAdapter.getPreview(MessageListFragment.java:1968)
	at com.fsck.k9.fragment.MessageListFragment$MessageListAdapter.bindView(MessageListFragment.java:1886)
	at android.widget.CursorAdapter.getView(CursorAdapter.java:289)
	at android.widget.HeaderViewListAdapter.getView(HeaderViewListAdapter.java:220)
	at android.widget.AbsListView.obtainView(AbsListView.java:2363)
	at android.widget.ListView.makeAndAddView(ListView.java:1970)
	at android.widget.ListView.fillDown(ListView.java:704)
	at android.widget.ListView.fillFromTop(ListView.java:765)
	at android.widget.ListView.layoutChildren(ListView.java:1716)
	at android.widget.AbsListView.onLayout(AbsListView.java:2162)
	at android.view.View.layout(View.java:17639)
	at android.view.ViewGroup.layout(ViewGroup.java:5612)
	at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)
	at android.widget.FrameLayout.onLayout(FrameLayout.java:261)
	at android.view.View.layout(View.java:17639)
	at android.view.ViewGroup.layout(ViewGroup.java:5612)
	at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1741)
	at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1585)
	at android.widget.LinearLayout.onLayout(LinearLayout.java:1494)
	at android.view.View.layout(View.java:17639)
	at android.view.ViewGroup.layout(ViewGroup.java:5612)
	at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)
	at android.widget.FrameLayout.onLayout(FrameLayout.java:261)
	at android.view.View.layout(View.java:17639)
	at android.view.ViewGroup.layout(ViewGroup.java:5612)
	at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)
	at android.widget.FrameLayout.onLayout(FrameLayout.java:261)
	at android.view.View.layout(View.java:17639)
	at android.view.ViewGroup.layout(ViewGroup.java:5612)
	at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)
	at android.widget.FrameLayout.onLayout(FrameLayout.java:261)
	at android.view.View.layout(View.java:17639)
	at android.view.ViewGroup.layout(ViewGroup.java:5612)
	at com.android.internal.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:493)
	at android.view.View.layout(View.java:17639)
	at android.view.ViewGroup.layout(ViewGroup.java:5612)
	at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)
	at android.widget.FrameLayout.onLayout(FrameLayout.java:261)
	at com.android.internal.policy.DecorView.onLayout(DecorView.java:726)
	at android.view.View.layout(View.java:17639)
	at android.view.ViewGroup.layout(ViewGroup.java:5612)
	at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2341)
	at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2068)
	at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1254)
	at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6300)
	at android.view.Choreographer$CallbackRecord.run(Choreographer.java:874)
	at android.view.Choreographer.doCallbacks(Choreographer.java:686)
	at android.view.Choreographer.doFrame(Choreographer.java:621)
	at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:860)
	at android.os.Handler.handleCallback(Handler.java:751)
	at android.os.Handler.dispatchMessage(Handler.java:95)
	at android.os.Looper.loop(Looper.java:154)
	at android.app.ActivityThread.main(ActivityThread.java:6088)
	at java.lang.reflect.Method.invoke(Native Method)
	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)
```"
k9mail/k-9,closed,"Added config for fairnatics.net, a soon upcoming service.",[],"Hi,

we are about to startup a new service focusing on fair and private principles.
One key component will be k9, so we would like to have our mail configuration supported.

Thanks!"
k9mail/k-9,closed,Avoid crashing with NPE when creating exception message,[],On Android `Object.toString()` invokes `hashCode()` which potentially throws a `NullPointerException` for `Message` instances.
k9mail/k-9,closed,Snooze Feature like in Google Inbox,"[Label(name=""enhancement"")]","### Expected behavior

I would like to have the ""snooze"" feature like google inbox has.


### Actual behavior

not possible in current k9 app.

### What is ""snooze""?

You can move the mail out, and make it reappear N days later.

It's a great productivity tool. Just google for ""zero inbox"" or ""43folders"".

"
k9mail/k-9,open,Choose which folders affect unread number,"[Label(name=""enhancement"")]","I'm using Nova Launcher and Tesla Unread in conjuction with K9. I have folders these folders set up via Rackspace email and they are in K9 on my phone. A, B, C, and D are just folders I created and use to organize my emails, but sometimes I like to leave them unread for later viewing. However, I would like those emails in those particular four folders to not impact the unread message count. I have tried changing the folder settings so that they were 2nd Class or none in the display, sync, push, and notification class as well as changing the notification setting to 1st class folders only, but that did not help. An unread message in the Spam folder does not affect the unread badge count. Does anyone know how I can get the unread count to reflect just the unread messages in the Inbox?
Inbox
Sent
Deleted Messages
Drafts
Spam
Folder A
Folder B
Folder C
Folder D


K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP via Rackspace"
k9mail/k-9,closed,"Mark deleted mails as ""read""","[Label(name=""enhancement"")]","This is a suggestion.

### Expected behavior
Move mail to trash **and** mark as ""read"".

This is how it is done by many mail programs.

### Actual behavior
Move mail to trash.

Often other programs afterwards show mails in the trash as ""unread"" when they were deleted by K9 mail.

### Steps to reproduce
1. Delete a mail.

"
k9mail/k-9,open,"Very long time to setup connection at ""Load up to 50 messages""","[Label(name=""performance"")]","### Expected behavior
When pushing the button ""Load up to 50 new mails"" it is expected that K9 connects to the IMAP server and loads the messages (if there are new ones).

### Actual behavior
Since a couple of weeks, possibly after an update of all aps incl. K9: Not always but most of the time, K9 seems to struggel to connect to the IMAP server. That means that the circular icon ""loading"" is turning around about two minutes before mails are downloaded. My impression is, that this happens when the smartfone was idle for about one hour. If K-9 is manually shutdown during the connection attempt and then started again, it connects without problems very fast.

Some tests to locate the problem showed:
1. This is not a problem of the mobile phone provider (tested with O2 and Vodafone network cards). No change.
2. This is no general internet connection issue because:
2a. During the time where K9 was loading (circular icon), other internet access (such as weather apps) was possible, that means other apps do not have that problem.
2b. Using the Standard Android Mail app with the same IMAP box, there were no connection errors (not a problem of the Mail provider)
3. This problem seems to occur only with mobile network connection, not with WLAN connection
4. Activating Push with a refreshment period of 1h or 36 mins does not help.

### Steps to reproduce
1. Use K-9 version 5.010 on Galaxy S4 GT-I9505 Android 5.0.1
2. Setup IMAP mailbox with SSL and accept certificate
3. Deactivate all sync functions, let the smartfone be idle and the manually sny inbox after 1 hour
4. If it works the 1st time, please retry a 2nd or 3rd time. I am not sure, if the idle time is the actual problem trigger.

### Environment
K-9 Mail version: 5.010

Android version: 5.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Data Loss: Compose from Other App,[],"### Expected behavior
Drafts started from other apps will be saved when See ""saved as draft"" alert. 

### Actual behavior
Draft is not saved. 

### Steps to reproduce
- In chrome browser, click an email address on a web page. 
- K9 opens compose window
- begin composing
- Switch away from message
- See ""saved as draft"" alert
- open K9 
- go to drafts folder. 

### Environment
K-9 Mail version:
Current as of today. 5.010?

Android version:
Will post

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,closed,Older version request,"[Label(name=""invalid"")]","Hi,

The project has been used as part of an experiment previously for an IEEE paper. We are currently trying to recreate the experiment but would require all the commits of version 3.902 to do so. Is there any possibility to get access to this ? Any help would be much appreciated."
k9mail/k-9,closed,Properly handle multipart/digest content type,"[Label(name=""bug"")]","As per [rfc1341](https://tools.ietf.org/html/rfc1341), the default content-type for sub parts of a multipart/digest part is `message/rfc822` rather than `text/plain` as usual. The mime4j parser handles this correctly and we get a structure of MimeMessage sub-parts, however those don't have an explicit content-type (they have no headers) so they return `text/plain`. This leads to a crash because the text extractor tries to extract the text from a body that considers itself a multipart.

The immediate fix is simple: If a part's parent is `multipart/digest`, return a different default mime type. Though I think we're still dos'able from malformed messages.

This fixes #1794, see the debian digest mail linked there for a real-world test case."
k9mail/k-9,closed,support display of format=flowed (rfc2646),"[Label(name=""enhancement""), Label(name=""next stable"")]","What it says on the tin. This supports [rfc2646](https://tools.ietf.org/html/rfc2646) which specifies format=flowed, but not [rfc3676](https://tools.ietf.org/html/rfc3676) which adds the delsp parameter. That should be simple to add though."
k9mail/k-9,closed,Update Play Store descriptions,[],The app descriptions should probably be rewritten completely. But I currently lack the energy to do so. Concrete suggestions for improvement are very welcome.
k9mail/k-9,closed,"Hide ""Unsigned Text"" divider",[],Fixes #1832 
k9mail/k-9,closed,"""Unsigned Text"" marker displayed when setting ""Support signing of unencrypted messages"" is unchecked",[],"We don't display whether messages are signed when ""Support signing of unencrypted messages"" is unchecked. So we shouldn't display the ""Unsigned Text"" divider between signed message text and unsigned message text either.
"
k9mail/k-9,open,Email lost when moving to different IMAP folder,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior

I have experienced problems moving emails from the inbox folder to a different IMAP folder. 

### Actual behavior

The mail was removed from inbox folder but didn't end up in the selected IMAP folder or any other folder. I was not a able to recover the email.

This has happened to me twice within the past two weeks after installing K9 mail on a new android phone.

### Steps to reproduce

I haven't yet found a way to reliably reproduce this bug. Both times this occurred I did the following:

* The email was open and I pressed the bottom right button  (""..."")
* I selected the move option (""Umsortieren..."" in the German localization)
* I selected the destination IMAP folder

Both times the email was part of an ongoing conversation with someone.

### Environment
K-9 Mail version: 5.010

Android version: 6.0 (with EMUI 4.1)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP"
k9mail/k-9,closed,No IMAP push sync in/after doze in Android 7.1,[],"### Expected behavior
If my smartphone is in doze, I should immediately receive notifications about incoming mails via IMAP and push connection with syncing enabled.

### Actual behavior
Tell us what happens instead
After some time I see the words ""syncing disabled"", although it is ""always enabled"".

### Steps to reproduce
1. use imap with push, syncing enabled
2. close all apps, put phone to doze
3. send yourself an email
4. you don't receive any notifications of incoming mails anymore

I found out, that push syncing in doze mode seems to still work on my newest android 7.1 (cm14.1) if you set your auto email-request interval to say 30 minutes. This seems to keep the push connection open which is a good workaround until this gets fixed. Another thing I tried before is excluding k-9 mail from android battery optimizations, but this unfortunately didn't make a difference.

### Environment
K-9 Mail version:
v5.010

Android version:
Andoid 7.1 on Samsung Galaxy S5 (SM-G900F)
Cyanogenmod 14.1-20161201-NIGHTLY-klte

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP"
k9mail/k-9,open,Huge battery consumption,"[Label(name=""needs info"")]","### Expected behavior
The battery consumption should be a magnitude order below the screen that it is the most battery drying source of a smartphone.
### Actual behavior
K-9 Mail has even more battery consumption that the screen by far, so much that it reduces the battery life from 4:30 h of screen use to around 3:00 hours.
### Steps to reproduce
I don't have done anything special, average usage, move email to IMAP folders, archive, delete,and so on.

### Environment
K-9 Mail version: 5.115

Android version: 6.01

Account type (IMAP, POP3, WebDAV/Exchange): 2 IMAP accounts
"
k9mail/k-9,closed,Nicer NullPointerException fix for database upgrade UI,[],This correctly initializes `mStartIntent` before there's a chance `launchOriginalActivity()` is being called.
k9mail/k-9,closed,use PendingIntent from encapsulated result if available for showing key info,[],"I noticed that the ""View Signer"" button didn't work in these cases... fixed."
k9mail/k-9,closed,K-9 mail crashes when trying to download an attachment,"[Label(name=""bug"")]","I searched for a message containing a train ticket. I entered it and tried to save it. Then the app crashed.
The mail account used here was the same as in #1794 

### Environment
K-9 Mail version: 5.115
Android version: CM13

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

```
12-01 12:57:01.186 11371 11422 E AndroidRuntime: FATAL EXCEPTION: AsyncTask #3
12-01 12:57:01.186 11371 11422 E AndroidRuntime: Process: com.fsck.k9, PID: 11371
12-01 12:57:01.186 11371 11422 E AndroidRuntime: Theme: themes:{default=overlay:system, iconPack:system, fontPkg:system, com.android.systemui=overlay:system, com.android.systemui.navbar=overlay:system}
12-01 12:57:01.186 11371 11422 E AndroidRuntime: java.lang.RuntimeException: An error occurred while executing doInBackground()
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at android.os.AsyncTask$3.done(AsyncTask.java:309)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at java.util.concurrent.FutureTask.setException(FutureTask.java:223)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at java.util.concurrent.FutureTask.run(FutureTask.java:242)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at java.lang.Thread.run(Thread.java:818)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: Caused by: java.lang.IllegalStateException: No attachment data available
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.mailstore.LocalStore.getRawAttachmentInputStream(LocalStore.java:725)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.mailstore.LocalStore.access$100(LocalStore.java:66)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.mailstore.LocalStore$15.doDbWork(LocalStore.java:700)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.mailstore.LocalStore$15.doDbWork(LocalStore.java:684)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.mailstore.LocalStore.getAttachmentInputStream(LocalStore.java:684)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.provider.AttachmentProvider.getAttachmentInputStream(AttachmentProvider.java:186)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.provider.AttachmentProvider.openAttachment(AttachmentProvider.java:167)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.provider.AttachmentProvider.openFile(AttachmentProvider.java:78)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at android.content.ContentProvider.openAssetFile(ContentProvider.java:1374)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at android.content.ContentProvider.openTypedAssetFile(ContentProvider.java:1554)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at android.content.ContentProvider.openTypedAssetFile(ContentProvider.java:1620)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at android.content.ContentProvider$Transport.openTypedAssetFile(ContentProvider.java:419)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1107)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:944)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at android.content.ContentResolver.openInputStream(ContentResolver.java:664)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.ui.messageview.AttachmentController.writeAttachmentToStorage(AttachmentController.java:149)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.ui.messageview.AttachmentController.saveAttachmentWithUniqueFileName(AttachmentController.java:141)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.ui.messageview.AttachmentController.access$900(AttachmentController.java:42)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.ui.messageview.AttachmentController$SaveAttachmentAsyncTask.doInBackground(AttachmentController.java:348)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at com.fsck.k9.ui.messageview.AttachmentController$SaveAttachmentAsyncTask.doInBackground(AttachmentController.java:337)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at android.os.AsyncTask$2.call(AsyncTask.java:295)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	at java.util.concurrent.FutureTask.run(FutureTask.java:237)
12-01 12:57:01.186 11371 11422 E AndroidRuntime: 	... 3 more
12-01 12:57:01.190  1350  1883 W ActivityManager:   Force finishing activity com.fsck.k9/.activity.Search
```
"
k9mail/k-9,open,K-9 hangs while syncing,"[Label(name=""architecture""), Label(name=""performance"")]","### Expected behavior
fetch more messages after scrolling to end of inbox

### Actual behavior
K-9 hangs and won't recover until uninstalled and installed again.

### Steps to reproduce
1. install K-9
2. import settings and set password
3. open inbox
4. scroll down and fetch more messages
5. after two or three fetch more ops K-9 freezes

### Environment
K-9 Mail version:
5.010

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

[k9-log-3.txt](https://github.com/k9mail/k-9/files/619900/k9-log-3.txt)"
k9mail/k-9,closed,ignore leading whitespace for pgp/inline messages,[],"...in MessageDecryptVerifier (fixes #1823)

What it says on the tin, also adding unit tests. I simply added a call to `.trim()` in the right place. Decryption already works, it was just a problem in the detector."
k9mail/k-9,closed,Inline PGP not recognized in mail when sent from Thunderbird on Windows,[],"### Expected behavior
When an user on Windows encrypts an email with Thunderbird (newest version), Enigmail/GPG and sents it as Inline PGP, K9 Mail recognizes this mail as encrypted and opens the passphrase dialog of OpenKeychain to decrypt the message.

### Actual behavior
K9Mail does not recognize that the mail is encrypted and simply shows the encrypted mail body.


### Possible reason
It seems that additionalcharacters  ""=20"" are added after the ""Version"" header which do not appear when using other PGP Clients. K9Mail does not seem to be able to ignore or detect this. I am not sure whether this is a protocol violation on the side of Enigmail or K9Mail. This is what the source code of the encrypted mail body look like:


```
-----BEGIN PGP MESSAGE-----
Charset: utf-8
Version: GnuPG v2
=20
hQIMA0naAJOr8cb2AQ/8CwuirQ23bx4b8Hcn6w67qMOtMsxJt9vPtrGE4kzIwYVl
SbwXJC/YJa/hvaPlzN/wuz0NINTNstMT4RcLqPy6gKqg3bs7wyMSdqKge6CWaUlm
v68hMmwbvfjbJ4KKRd/IcsU4j9rmxw4aH1wh02q+2XBJmQTfdRcbCY3TOf2lUbpH
......
```

### Steps to reproduce
1. User A on Windows/Thunderbird/Enigmail sends encrypted email as inline PGP to User B with K9Mail 
2. K9Mail is unable to recognize the inline PGP in the mail body and does not show the decryption dialog


### Environment
K-9 Mail version: 5.115

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"""Mark as read"" not working from notification","[Label(name=""bug"")]","### Expected behavior
Selecting ""mark as read"" should mark the email as read and dismiss the notification

### Actual behavior
Absolutely nothing!

### Steps to reproduce
1. Send email to self
2. Expand the notification
3. Select ""Mark as read""

### Environment
K-9 Mail version: 5.115

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,How to download only inline attachments,[],"when I press down load total mail button,how to download inline attachment,but do not download real attachment.Or do not press the button to download, as long as you view the message details, it will only automatically download the inline attachment

"
k9mail/k-9,closed,Handle NIL date - per RFC3501 4.5,[],Fixes #1819 
k9mail/k-9,closed,Handle 'NIL' date response,[],"### Expected behavior
Refreshing a folder should make the server contents of that server appear in K-9

### Actual behavior
Synchronization runs for a few seconds, then aborts. The folder stays empty.

### Steps to reproduce
1. Navigate into ""broken"" folder
2. Swipe down
(I assume this problem depends on the IMAP server software. I'll be happy to help with testing.)

### Environment
K-9 Mail version: 5.115

Android version: 6.0.1 (CM13)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
Server Software: Zarafa 7.2.4

### Debug log
[k9-log.txt](https://github.com/k9mail/k-9/files/614218/k9-log.txt)
I removed email addresses and subject lines from all mails except the last one before the crash."
k9mail/k-9,open,Onboarding Re-work,"[Label(name=""architecture""), Label(name=""enhancement"")]","I expect this ticket to be continually updated to cover the bits of onboarding we need to add. It's a meta-ticket for the Onboarding milestone to avoid opening tons of issues on an already busy repository

Future comments will cover design, planning new activities and workflows

### Expected behaviour
Users should be able to easily setup accounts, identities and encryption etc.

The default case should be as simple as possible.

### Actual behaviour
Current setup doesn't support lots of stuff

### Things to support

* [ ] Manual configuration
* [ ] Autoconfiguration of email settings
* [ ] - Mozilla
* [ ] - Outlook
* [ ] Existing provider list
* [ ] Identity setup
* [ ] Client certificates
* [ ] Using both client certificates and password auth #793 
* [ ] Google XOAuth
* [ ] Hotmail & Yahoo XOAuth
* [ ] Read only e-mail
* [ ] Certificate viewing and pinning
* [ ] User friendly certificate error handling
* [ ] - Expired
* [ ] - Self-Signed
* [ ] User friendly TLS / SSL error handling
* [ ] Encryption key set-up
* [ ] Signature
* [ ] Connection testing"
k9mail/k-9,closed,K9 looses connection to APG after update,[],"I updated K9 5.010 to 5.115. I supposed the connection to APG (1.1.1) would stay untouched by the update. I was proven wrong. In the account-settings k9 is telling me now: ""No OpebPGP App installed.""

### Steps to reproduce
1. Install APG 1.1.1.
2. Install K9 5.115
3. Check wether APG is found by k9

### Environment
K-9 Mail version: 5.115

Android version: 6.01

Account type (IMAP, POP3, WebDAV/Exchange): differs (IMAP mostly)
"
k9mail/k-9,closed,GaiException: android_getad,[],"### Expected behavior
See which emails I have in my inbox.

### Actual behavior
It says ""Poll ...@....""  and then again just shows the email (in the header, below Inbox). If I then go back in the overview, below drafts and inbox, both it says ""GaiException: android_getad""

### Environment
K-9 Mail version:
5.010
Android version:
6.0.1 MMB29M
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

My server settings are correct since when I put in different (wrong) settings it says unable to connect to server right away.

My device is a chinese Xiaomi Redmi 3S, which uses a special android version without google in general and google play services in particular which makes using some apps impossible (and installing google play services does not work). maybe it has something to do with that special android version?
![1982731205](https://cloud.githubusercontent.com/assets/10162138/20618253/fcc89914-b328-11e6-9061-541620264c40.jpg)
"
k9mail/k-9,closed,Provide a better explanation as to why sync is disabled,[],'Sync disabled' is very vague. Providing more information about why sync is disabled is a small first step towards fixing synchronisation based issues.
k9mail/k-9,open,"Using xoauth2, not able to send email from Gmail account with error : Negative SMTP reply: 530 5.5.1","[Label(name=""security"")]","I am using latest xoauth2 branch. Gmail account is configured without any issue. I can receive email successfully, but when trying to send email from app, it gives below error :

Failed to send message
```
                                                    com.fsck.k9.mail.transport.SmtpTransport$NegativeSmtpReplyException: Negative SMTP reply: 530 5.5.1  https://support.google.com/mail/?p=WantAuthError i76sm57306224pfk.89 - gsmtp
                                                        at com.fsck.k9.mail.transport.SmtpTransport.checkLine(SmtpTransport.java:657)
                                                        at com.fsck.k9.mail.transport.SmtpTransport.executeSimpleCommand(SmtpTransport.java:698)
                                                        at com.fsck.k9.mail.transport.SmtpTransport.executeSimpleCommand(SmtpTransport.java:662)
                                                        at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:536)
                                                        at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:512)
                                                        at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3143)
                                                        at com.fsck.k9.controller.MessagingController$21.run(MessagingController.java:3022)
                                                        at com.fsck.k9.controller.MessagingController.run(MessagingController.java:260)
                                                        at java.lang.Thread.run(Thread.java:818)
```

Version: xoauth2 branch
Android version : 6.01
Account type : IMAP"
k9mail/k-9,closed,Feature Request: Extend unread widget to choose any folder,"[Label(name=""enhancement"")]","### Expected behavior

When I add a ""K-9 Unread 1x1"" widget I would like to be able to select any folder.

### Actual behavior
The current version can only select an account... resulting in the unread count of the inbox.

### Environment
K-9 Mail version: v5.010

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange): imap

This same behavior would be useful in #1600 which tries to show the contents of a folder in a widget. This issue is about the existing widget that just links to a folder.
"
k9mail/k-9,closed,Pictures in the body of a message are not considered attachments,"[Label(name=""invalid"")]","When I am in the mailing list, how to know the body text there is picture or not?
"
k9mail/k-9,closed,Broken Link in docs,[],"### Expected behavior
I click on the link, and I get to the matching page

### Actual behavior
404: file not found

### Steps to reproduce
1. https://k9mail.github.io/documentation/faq.html#anchor12
1. click on ""developer wiki""
1. 404: file not found.
1. AFAIK this could be the correct link: https://github.com/k9mail/k-9/wiki
The broken link is: https://github.com/k9mail/wiki/
"
k9mail/k-9,open,Recurring errors after sending an email to a non-existing address,"[Label(name=""needs info"")]","### Steps to reproduce
1. Send an email to a non-existing email address
2. See an error message in notification area (`ErrnoException: isConnected failed: ECON...`). // clicking on the notification opens up the ""Folders"" view and does not let me do anything with the failed email
3. Dismiss the notification
4. Notification appears few hours later

### Expected behavior
The errors should stop appearing

### Actual behavior
The error notifications keep appearing, days and days after the failed send attempt

### Environment
K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP/SMTP
"
k9mail/k-9,open,IMAP doesn't sync correctly - BAD 'Command Error' following APPEND,"[Label(name=""bug"")]","### Expected behavior
After setting up an IMAP account in K9 mail I'm having perfect 2-way synchronisation with a Desktop mail client application. Everything I do (read, delete) in either application reflects in the other. I would have expected that it stays this way.

### Actual behavior
After using it for some month perfectly this way, suddenly about 2 weeks ago I got syncing errors and they do not go away. Issues observed:

1. When I read a mail in K9, it is marked as such. But after the next sync, it is marked as unread again. Older messages from before the issue (older than 2 weeks when it started happening) stay marked as read (as they should). It seems the 'read' mail status is not propagated.

2. When I delete a mail in K9, I do not see it anymore in the list, even after a new sync as expected. But if then goto the Desktop mail client, the deleted messages still appear. It seems the deleted messages in K9 are not deleted from the Server. This used to work perfectly.

### Steps to reproduce

For the 'read mail' issue:

1. Read an unread mail in K9 -> it is marked as such
2. Sync mail again -> the mail is marked as unread again
3. Steps 1 and 2 can be repeated...

For the 'delete mail' issue:

1. Delete a mail from K9 -> it is removed from the mail list
2. Sync mail again -> it does not re-appear again (good)
3. Sync mail in Desktop mail client -> deleted mail still appears

### Environment
K-9 Mail version: Latest 5.010

Android version: 6.0.1 on Rooted Samsung GT-N7100

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

### Attached Logs

I have attached 5 logs (filtered from logcat using 'k9' Regex) in chronological order

1. Read Mail.txt -> Read 1 mail on account 'Henk @ Primestream'
2. Sync Mail.txt -> Sync mail directly after that (log might show traces of multiple IMAP account)
3. Sync Mail (Warning Level).txt -> Same as above, but filtered for 'Warning Level' messages
4. Delete Mail.txt -> Delete one mail from account 'Henk @ Primestream'
5. Sync Mail.txt -> Sync mail directly after that

[1. Read Mail.txt](https://github.com/k9mail/k-9/files/605836/1.Read.Mail.txt)
[2. Sync Mail.txt](https://github.com/k9mail/k-9/files/605833/2.Sync.Mail.txt)
[3. Sync Mail (Warning Level).txt](https://github.com/k9mail/k-9/files/605835/3.Sync.Mail.Warning.Level.txt)
[4. Delete Mail.txt](https://github.com/k9mail/k-9/files/605837/4.Delete.Mail.txt)
[5. Sync Mail.txt](https://github.com/k9mail/k-9/files/605834/5.Sync.Mail.txt)

### Errors I see in logs

Looking at the logs, I see at least the following when Syncing mail:

```
com.fsck.k9.mail.MessagingException: Could not find UID for message based on Message-ID
Caused by: java.io.IOException: readStringUntil(): end of stream reached
```

Might it be that the issues start happening when there are too many items in a mail folder: I was experiencing the problems during a holiday, when the number of items in the Inbox folder exceeded a few hundred (now it is around 300). Normally I keep the Inbox 'clean' (around 50 messages or so)."
k9mail/k-9,closed,Testing for settings import and export,[],"Hijacked from work I did while developing XOAUTH2's abandoned front-end.

Would also be nice to get a test or two that validates export, delete, import produces an identical account (less passwords) (possibly using some constrained non-deterministic data)."
k9mail/k-9,closed,add per identity Always Bcc,[],"I'm new to android development, and not sure if this builds all OK.
But if it does, it should close #1648 and add a feature I'd love to see in K9mail."
k9mail/k-9,closed,update OpenPgpSignatureResult to use enums,[],"second attempt (see #1800), no version number bump. This uses enum ordinals, keeping read/write in routines that also support a null value and a fallback one if the parcelled ordinal is out of range.

tested pairwise with dev and stable of openkeychain and k9mail."
k9mail/k-9,closed,Handle e-mails with unsupported encoding better,[],"From this stack-trace:

```
K9-Mail version: 5.115
Device make: samsung
Device model: GT-N5100
Android version: 4.4.4

com.fsck.k9.mailstore.LockableDatabase$WrappedException: com.fsck.k9.mail.MessagingException: Error appending message: Tworzenie stron WWW, urządzenia mobilne - Pozycjonowanie
 at com.fsck.k9.mailstore.LocalFolder$12.doDbWork(LocalFolder.java:1090)
 at com.fsck.k9.mailstore.LocalFolder$12.doDbWork(LocalFolder.java:1078)
 at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
 at com.fsck.k9.mailstore.LocalFolder.storeSmallMessage(LocalFolder.java:1078)
 at com.fsck.k9.controller.MessagingController$12.messageFinished(MessagingController.java:1406)
 at com.fsck.k9.mail.store.imap.ImapFolder.fetch(ImapFolder.java:770)
 at com.fsck.k9.controller.MessagingController.downloadSmallMessages(MessagingController.java:1393)
 at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1196)
 at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:953)
 at com.fsck.k9.controller.MessagingController$36.run(MessagingController.java:4010)
 at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
 at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
 at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
 at java.lang.Thread.run(Thread.java:841)
Caused by: com.fsck.k9.mail.MessagingException: Error appending message: Tworzenie stron WWW, urządzenia mobilne - Pozycjonowanie
 at com.fsck.k9.mailstore.LocalFolder.saveMessage(LocalFolder.java:1326)
 at com.fsck.k9.mailstore.LocalFolder$14.doDbWork(LocalFolder.java:1187)
 at com.fsck.k9.mailstore.LocalFolder$14.doDbWork(LocalFolder.java:1182)
 at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
 at com.fsck.k9.mailstore.LocalFolder.appendMessages(LocalFolder.java:1182)
 at com.fsck.k9.mailstore.LocalFolder.appendMessages(LocalFolder.java:1109)
 at com.fsck.k9.mailstore.LocalFolder$12.doDbWork(LocalFolder.java:1082)
 ... 13 more
Caused by: java.lang.UnsupportedOperationException: Encoding for RawDataBody not supported: utf-8
 at com.fsck.k9.mail.internet.MimeUtility.decodeBody(MimeUtility.java:1047)
 at com.fsck.k9.mail.internet.MessageExtractor.getTextFromTextPart(MessageExtractor.java:105)
 at com.fsck.k9.mail.internet.MessageExtractor.getTextFromPart(MessageExtractor.java:55)
 at com.fsck.k9.crypto.MessageDecryptVerifier.isPartPgpInlineEncrypted(MessageDecryptVerifier.java:207)
 at com.fsck.k9.message.extractors.EncryptionDetector.containsInlinePgpEncryptedText(EncryptionDetector.java:34)
 at com.fsck.k9.message.extractors.EncryptionDetector.isEncrypted(EncryptionDetector.java:25)
 at com.fsck.k9.message.extractors.MessagePreviewCreator.createPreview(MessagePreviewCreator.java:31)
 at com.fsck.k9.mailstore.LocalFolder.saveMessage(LocalFolder.java:1251)
 ... 19 more
```

Now, ""utf-8"" is a charset and not an encoding. So there is no issue in my eyes that K-9 does not display a message.

However we should not break sync either.

Ideally I'd like to add an `ErrorPart` in the future for issues that arise when parsing an individual email. This would give the user an option to 'Re-try download' for I/O errors (moving it from the context menu which is unintuitive) and explain the issue for others..

In the shorter term however it's clearly rubbish that a single badly encoded (and typically (because they don't care) spam) email should break sync.

Hence I propose the commit attached. This will produce a blank e-mail. Not ideal but allows the user to get the rest of their messages."
k9mail/k-9,closed,Replace Android-PullToRefresh with android.support SwipeRefreshLayout,"[Label(name=""next stable"")]","I don't really like the custom ""pull to refresh"" feature but I think `android.support.v4.widget.SwipeRefreshLayout` looks much nicer. And using this standard library helps to make this project more easy by maintaining less libraries I guess :wink: 
Additionally [Android-PullToRefresh](https://github.com/chrisbanes/Android-PullToRefresh) is deprecated and is unmaintained right now.

This is my very first android contribution, so please have mercy with me :smile: 

Now it looks like this:

![swipetorefresh](https://cloud.githubusercontent.com/assets/5571650/20570408/c917de3a-b1a3-11e6-8144-ae1142179fef.gif)
"
k9mail/k-9,closed,App screen does not fill the phone display from top to bottom ,[],"### Expected behavior
That the app would fit in the display top to bottom. 

### Actual behavior
There is a gap at the top and bottom where I can see the desktop behind the app. 

### Steps to reproduce
1.
2.
3.

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Feature request: widget to disable sync,[],"I would really appreciate a widget that can stop sync of one or all accounts.
This shoud be very useful to stop reading work email after my timeshift is finished...
and continue read my friends email!
I immagine a semaphore-like widget to keep in homepage that became red when inactive...

Thanks for this wonderful product!

Diego



"
k9mail/k-9,closed,how to do download total mail at mail list,[],"Before this, there are down load all mail button at mail view.But I want to down load total mail at mail list,what should I do?

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,update OpenPgpSignatureResult to version 4,"[Label(name=""security"")]","See https://github.com/open-keychain/open-keychain/pull/1950

This updates OpenPgpSignatureResult to version 4, which uses an enum for SenderStatusResult instead of int constants. This is much nicer and also consistent with other changes in the pipeline for the tofu trust model info.

This version of the parcelable is backwards compatible (i.e. if OpenKeychain delivers version 3 it's fine) but not forward compatible (if OpenKeychain delivers version 4 while this patch isn't through, K-9 will break), so it's important that K-9 updates *before* OpenKeychain on this one. Version 3 was never deployed outside of K-9 beta, so to reduce compat baggage I'd like to do this while we can. We won't deploy this in OpenKeychain for some time, to further reduce the scenario that someone updates their K-9 from the beta channel but not the OpenKeychain from the stable release channel."
k9mail/k-9,closed,List Title garbled,[],"### Expected behavior
In Inbox,the displayName and reply from text all show as garbled text like image.

### screenshot
![image](https://github.com/zhangxiaofan918/k-9/blob/master/images/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-17%20%E4%B8%8B%E5%8D%885.20.40.png)

### Actual behavior
show normal

### Steps to reproduce
just some user will appear it.

### Environment
K-9 Mail version:

Android version:5.1.1

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,open,Implement SSL certificate pinning,"[Label(name=""security"")]","In many cases mobile devices are frequently used in foreign and thus more or less completely untrusted (wireless) networks. Therefore I would very much appreciate it if K9 would support SSL certificate pinning to prevent against MITM attacks using forged SSL certificates. Preferably, in my opinion, certificate pinning should be active by default. Alternatively it could become an option, activatable by the user."
k9mail/k-9,open,Notification font color does not contrast,"[Label(name=""needs info"")]","Not a real issue because UI normally has white backgrounds on devices that aren't rooted and modified.

### Expected behavior
Tell us what should happen
Font color should contrast with UI notification color on devices that have changed the system UI's background color through means of a theme manager or mod (Xposed or theme flash through recovery)
### Actual behavior
Tell us what happens instead
In android's UI with a black background (not in k9), K9 notifications show the subject line font color that doesn't contrast with notification background color whereas the message contents does that just fine. The subject line remains in black font and cannot be read due to both colors of Android UI and subject line being the same.
### Steps to reproduce
1. Install an Xposed module (notifyclean by defim) that can change color of UI. Or use Substratum with a dark theme installed.
2. Set notifications to a black background. On Substratum, set the system UI and Android system to be applied with a dark theme.
3. Have k9 mail display notification

### Environment
K-9 Mail version:
5.113 f-droid build
Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP personal"
k9mail/k-9,open,Add feature to able to move message(s) from Trash to Inbox if accidentaly deleted it (them),"[Label(name=""enhancement"")]","### Expected behavior
Add feature to able to move message(s) from Trash to Inbox if accidentaly deleted it (them).
Using POP3 account.

### Actual behavior
You are not able to move messages (or chain of messages) from Trash to Inbox back.

### Steps to reproduce
1. POP3 account.
2. Delete one or chaing of messages

### Environment
K-9 Mail version: 5.010
Android version: 6.x
Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Throw instead of returning null when Body.getInputStream() is not supported,[],Inspired by trying to find out what happened in issue #1794
k9mail/k-9,closed,Body of messages not fetched,"[Label(name=""needs info"")]","When using one of my accounts, some messages (which heavily use html) are not correctly fetched. I can see the title and some headers but the body is missing.

This happens only with one mail account.

The cause is probably this exception:
```
11-14 07:55:17.157 23585 23602 E k9      : synchronizeMailbox
11-14 07:55:17.157 23585 23602 E k9      : com.fsck.k9.mailstore.LockableDatabase$WrappedException: com.fsck.k9.mail.MessagingException: Error appending message: debian-devel-digest Digest V2016 #603
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LocalFolder$12.doDbWork(LocalFolder.java:1090)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LocalFolder$12.doDbWork(LocalFolder.java:1078)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LocalFolder.storeSmallMessage(LocalFolder.java:1078)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.controller.MessagingController$12.messageFinished(MessagingController.java:1406)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mail.store.imap.ImapFolder.fetch(ImapFolder.java:770)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.controller.MessagingController.downloadSmallMessages(MessagingController.java:1393)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1196)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:953)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.controller.MessagingController$9.run(MessagingController.java:739)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
11-14 07:55:17.157 23585 23602 E k9      : 	at java.lang.Thread.run(Thread.java:818)
11-14 07:55:17.157 23585 23602 E k9      : Caused by: com.fsck.k9.mail.MessagingException: Error appending message: debian-devel-digest Digest V2016 #603
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LocalFolder.saveMessage(LocalFolder.java:1326)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LocalFolder$14.doDbWork(LocalFolder.java:1187)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LocalFolder$14.doDbWork(LocalFolder.java:1182)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LocalFolder.appendMessages(LocalFolder.java:1182)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LocalFolder.appendMessages(LocalFolder.java:1109)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LocalFolder$12.doDbWork(LocalFolder.java:1082)
11-14 07:55:17.157 23585 23602 E k9      : 	... 13 more
11-14 07:55:17.157 23585 23602 E k9      : Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void java.io.InputStream.close()' on a null object reference
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mail.internet.MimeUtility.closeInputStreamWithoutDeletingTemporaryFiles(MimeUtility.java:1060)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mail.internet.MessageExtractor.getTextFromTextPart(MessageExtractor.java:112)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mail.internet.MessageExtractor.getTextFromPart(MessageExtractor.java:55)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.crypto.MessageDecryptVerifier.isPartPgpInlineEncrypted(MessageDecryptVerifier.java:207)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.message.extractors.EncryptionDetector.containsInlinePgpEncryptedText(EncryptionDetector.java:34)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.message.extractors.EncryptionDetector.isEncrypted(EncryptionDetector.java:25)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.message.extractors.MessagePreviewCreator.createPreview(MessagePreviewCreator.java:31)
11-14 07:55:17.157 23585 23602 E k9      : 	at com.fsck.k9.mailstore.LocalFolder.saveMessage(LocalFolder.java:1251)
11-14 07:55:17.157 23585 23602 E k9      : 	... 19 more
11-14 07:55:17.173 23585 23602 E k9      : Failed synchronizing folder spamowe:INBOX @ Mon Nov 14 07:55:17 GMT+01:00 2016
```

### Environment
K-9 Mail version: 5.114

Android version: CM 13.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,"Change ""Spam"" to ""Not spam"" in the Spam folder.","[Label(name=""enhancement"")]","### Expected behavior
The ""Spam"" command that now appears in the menu of the mailbox view (with some messages marked), should be inverted to to ""Not spam"" when viewing a folder configured as SPAM. The command should move marked messages to either: a folder user chooses every time, configured folder, INBOX (default).

### Actual behavior
The ""Spam"" command appears in every mailbox, also the one configured as SPAM.

### Steps to reproduce
1. Open the folder configured as SPAM
2. Mark some messages
3. Open the menu in the lower right corner.

### Environment
K-9 Mail version: 5.010

Android version: 6.0.1

Account type: IMAP
"
k9mail/k-9,open,High CPU usage,"[Label(name=""needs info""), Label(name=""performance"")]","### Expected behavior
normal CPU usage

### Actual behavior
High CPU usage. I noticed my phone was hot in my pocket. Checked CPU usage. Found K-9 as the culprit.

### Environment
K-9 Mail version: 5.0101

Android version: 5.0.2

Account type (IMAP, POP3, WebDAV/Exchange): 3 IMAP accounts. Two are set to poll every 15 minutes. The other is set to use push.

![_20161111_124859](https://cloud.githubusercontent.com/assets/1230364/20230069/b0c4dfa2-a80e-11e6-889d-f865e9b2714e.JPG)
"
k9mail/k-9,closed,Context menu of emails is too small,"[Label(name=""duplicate"")]","The context menu that is displayed after a long press on an email is sometimes too small.

This happens because the menu is always limited in height based on where the email is. If the email is in the bottom of the screen, the menu is ""rolled"" upwards and fills all available space.

If however the email is in the top part, the menu is also rolled upwards and displays only one single entry. It's more or less unusable this way.

Ideally the menu would always fill the screen (or choose whether to roll up or down based on where the email is located)

I'm using a Nexus 6P, with the latest release from the google playstore.
"
k9mail/k-9,closed,move sign-only into a mode of its own,"[Label(name=""security"")]","Picture's worth a thousand words:

![sign only mode screenshot](https://lh3.googleusercontent.com/dNa0I4zJXFcnYpXAlDHamj7NdiXLN_Lxn7Qf_D8J5l3ESxFECQxZIirZFQesmBrp2CNDaWWBYD7tV0JBbbg87L3v8g) ![sign only menu screenshot](https://lh3.googleusercontent.com/ZiU_UL6e9j_FB79ExII--fI_fhgAeupvrA96OKBgSEe1wnqgwSyD0waOqO34rqJ4P9-BJnySHN2qbZqbCg67sU4giOPA)

I don't believe signing mails by default is useful at all (see #1766), and compared to encryption it's sort of lateral - it just didn't fit anywhere in the slider. Extracting this into a mode of its own, the slider menu is now consistent, regardless of whether ""Support signed only mails"" is enabled. In particular, ""Encrypt if possible"" no longer signs if encryption isn't enabled. It also allows showing a dialog with explanations of what is going on, similar to pgp/inline.

(would be interested in comments & critique, ping @dschuermann @dkg @hpk42)"
k9mail/k-9,open,Insufficient information provided to diagnose configuration and certificate errors,"[Label(name=""security"")]","### Expected behavior
K9 should connect to my email server

### Actual behaviour
K9 gives: Cannot connect to server (Unable to connect)

Initially it worked..although auto sync every minute didn't work. Googling that it at least one user reported that this problem was caused by setting up the account over wifi and was advised to set up with wifi off (yes..really !). So, I tried this, although k9 has no way of editing account settings that i can see, so I reinstalled and tried again with wifi off. Doesn't connect. Reinstall again and try over wifi again. Doesn't connect.. have tried repeatedly and I can't get it to connect. Have spent 2 hours or so with this. Connects using opera from desktop, the same connection is verified by https://www.wormly.com/test_pop3_mail_server as follows:

Resolving hostname...
Connecting...
S:+OK Dovecot ready.
C: CAPA
S:+OK
S:CAPA
S:TOP
S:UIDL
S:RESP-CODES
S:PIPELINING
S:AUTH-RESP-CODE
S:USER
S:SASL PLAIN LOGIN
S:.
C: USER ewan+telesense.co.uk
S:+OK
C: PASS XX_DELETED_XX
S:+OK Logged in.
C: QUIT
S:+OK Logging out.
POP3 test completed successfully.

Debug output:
11-11 12:50:40.085 I/k9      (26759): Loading preferences from DB into Storage
11-11 12:50:40.110 I/k9      (26759): Creating Storage database
11-11 12:50:40.126 I/k9      (26759): Preferences load took 41ms
11-11 12:50:40.126 I/k9      (26759): Preferences storage is zero-size, importing from Android-style preferences
11-11 12:50:40.127 I/k9      (26759): Committing preference changes
11-11 12:50:40.131 I/k9      (26759): Preferences commit took 4ms
11-11 12:50:40.141 I/k9      (26759): Registered: unmount receiver
11-11 12:50:40.141 I/k9      (26759): Registered: shutdown receiver
11-11 12:50:40.143 V/k9      (26759): Registering content resolver notifier
11-11 12:51:21.022 I/k9      (26759): Committing preference changes
11-11 12:51:21.040 I/k9      (26759): Preferences commit took 18ms
11-11 12:53:11.282 E/k9      (26759): Error while testing settings
11-11 12:53:11.282 E/k9      (26759): com.fsck.k9.mail.MessagingException: Unable to connect
11-11 12:53:11.282 E/k9      (26759): 	at com.fsck.k9.mail.store.Pop3Store$Pop3Folder.open(Pop3Store.java:396)
11-11 12:53:11.282 E/k9      (26759): 	at com.fsck.k9.mail.store.Pop3Store.checkSettings(Pop3Store.java:264)
11-11 12:53:11.282 E/k9      (26759): 	at com.fsck.k9.activity.setup.AccountSetupCheckSettings$1.run(AccountSetupCheckSettings.java:125)
11-11 12:53:11.282 E/k9      (26759): Caused by: javax.net.ssl.SSLHandshakeException: Handshake failed
11-11 12:53:11.282 E/k9      (26759): 	at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:429)
11-11 12:53:11.282 E/k9      (26759): 	at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:682)
11-11 12:53:11.282 E/k9      (26759): 	at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:644)
11-11 12:53:11.282 E/k9      (26759): 	at com.fsck.k9.mail.store.Pop3Store$Pop3Folder.open(Pop3Store.java:324)
11-11 12:53:11.282 E/k9      (26759): 	... 2 more
11-11 12:53:11.282 E/k9      (26759): Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x7bed948e40: Failure in SSL library, usually a protocol error
11-11 12:53:11.282 E/k9      (26759): error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER (external/boringssl/src/ssl/tls_record.c:192 0x7be36b9f76:0x00000000)
11-11 12:53:11.282 E/k9      (26759): 	at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
11-11 12:53:11.282 E/k9      (26759): 	at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)
11-11 12:53:11.282 E/k9      (26759): 	... 5 more
11-11 12:54:08.031 E/k9      (26759): Error while testing settings
11-11 12:54:08.031 E/k9      (26759): com.fsck.k9.mail.MessagingException: Unable to connect
11-11 12:54:08.031 E/k9      (26759): 	at com.fsck.k9.mail.store.Pop3Store$Pop3Folder.open(Pop3Store.java:396)
11-11 12:54:08.031 E/k9      (26759): 	at com.fsck.k9.mail.store.Pop3Store.checkSettings(Pop3Store.java:264)
11-11 12:54:08.031 E/k9      (26759): 	at com.fsck.k9.activity.setup.AccountSetupCheckSettings$1.run(AccountSetupCheckSettings.java:125)
11-11 12:54:08.031 E/k9      (26759): Caused by: javax.net.ssl.SSLHandshakeException: Handshake failed
11-11 12:54:08.031 E/k9      (26759): 	at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:429)
11-11 12:54:08.031 E/k9      (26759): 	at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:682)
11-11 12:54:08.031 E/k9      (26759): 	at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:644)
11-11 12:54:08.031 E/k9      (26759): 	at com.fsck.k9.mail.store.Pop3Store$Pop3Folder.open(Pop3Store.java:324)
11-11 12:54:08.031 E/k9      (26759): 	... 2 more
11-11 12:54:08.031 E/k9      (26759): Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x7bd18c38c0: Failure in SSL library, usually a protocol error
11-11 12:54:08.031 E/k9      (26759): error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER (external/boringssl/src/ssl/tls_record.c:192 0x7be36b9f76:0x00000000)
11-11 12:54:08.031 E/k9      (26759): 	at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
11-11 12:54:08.031 E/k9      (26759): 	at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)
11-11 12:54:08.031 E/k9      (26759): 	... 5 more


### Steps to reproduce
1. Enter 'Incoming Server Settings'
2. Click Next

### Environment
K-9 Mail version:

Android version: 7.0

Account type: Pop3
"
k9mail/k-9,closed,specific smtp of alias,"[Label(name=""duplicate"")]","Hi all and thanks very much for this nice app

I have a professionnal address link to a personnal adrdess. Basically the professionnal address forward the email to the personnal one. However to answer to the professionnal address I must go through a specific smtp which is different from the one of the personnal address.
I have created an identity with the personnal account and an alias with the professionnal account. 

Is there a way to specify the smtp of the alias?

Android version: 6.0.1

Account type IMAP:
"
k9mail/k-9,closed,download pic not include attachment,[],"### Expected behavior
there are two pics,one is in the body and the other one is in attachment. 
I want just download only the pictures in the body, not in attachment.

### Actual behavior
download all include attachment

### Steps to reproduce

### Environment
K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Contact autocomplete doesn't work when forwarding email with attachments,"[Label(name=""needs info"")]","### Steps to reproduce
1. Receive email with attachments
2. Download all attachments
3. Forward email
4. Start typing email of a contact
5. Finish typing email and accept
6. Contact name appears, but there was no autocomplete

Before sending email with attachment I sent the same without them and autocomplete worked for two recipients.

### Environment
K-9 Mail version: latest F-Droid

Android version: 4.2.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,WEBDAV is broken on Android Nougat with K-9 Mail v5.010 (stable),"[Label(name=""invalid"")]","Went from Nexus 10 (Android 5.1.1 Build LMY49J) to NEXUS 9 (7.0.0 Build NRD91N, Nov 2016))
Both were routed so I used Titanium Backup and moved K-9 Mail v5.010.
I have 3 mail acounts 2x IMAP and one WEB-DAV using exchange (with a self signed cert)
The IMAP accounts are OK, but the WEBDAV account just reports Java exceptions.
Can't fetch new mails, nor can't change something in the mailserver settings.
Are there any known incompatibilities with Android 7 and webdav support?
Also tried the latest v5.114 (alpha). isn't better at all.

Deleted K9 Data, uninstalled APP, reinstalled app and tried setting up just the webdav account completely new but this also gives the same result.: Can't connect to server.

See attached log:
[k9-log.zip](https://github.com/k9mail/k-9/files/579014/k9-log.zip)
And here's a log with DEBUG Mode ON:
[k9-log_debug.zip](https://github.com/k9mail/k-9/files/579060/k9-log_debug.zip)

BR

Markus
"
k9mail/k-9,closed,WEBDAV is broken on Android Nougat with K-9 Mail v5.010 (stable),[],"Went from Nexus 10 (Android 5.1.1 Build LMY49J) to NEXUS 9 (7.0.0 Build NRD91N, Nov 2016))
Both were routed so I used Titanium Backup and moved K-9 Mail v5.010.
I have 3 mail acounts 2x IMAP and one WEB-DAV using exchange (with a self signed cert)
The IMAP accounts are OK, but the WEBDAV account just reports Java exceptions.
Can't fetch new mails, nor can't change something in the mailserver settings.

Are there any known incompatibilities with Android 7 and webdav support?

Also tried the latest v5.114 (alpha). isn't better at all.
Setting up completely new gives the same result.
So it's not caused by using Titanium Backup. Besides I know that this config is working on Android 5.1.1

BR

Markus"
k9mail/k-9,open,Extract file caching behavior to separate class,"[Label(name=""architecture""), Label(name=""help wanted"")]","Extract the code that handles caching from `DecryptedFileProvider` and `AttachmentTempFileProvider` into a separate class.
Some tests for this would be nice, too."
k9mail/k-9,closed,K-9 Keeps loosing my account settings,[],"This is the second time this has happened. I open K-9 and I'm greeted with the account setup screen. As far as I can tell my account and all settings are gone. I suspect this may have happened during an app update, but I don't know when an update may have occurred or when it broke.

### Environment
K-9 Mail version: 5.010

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP, Dovecot"
k9mail/k-9,closed,MessagingController improvements,[],"This commit is ground work towards mail sync.

First it's a bunch of initial work towards testing pending commands.

Secondly it's making the error that happened in #1765 more explicit (but not fixing it)."
k9mail/k-9,closed,notifications are not being dismissed after hitting delete,[],"### Expected behavior
When tapping on the delete button on a mail in the notification bar it should dismissed the notification. 

### Actual behavior
Notifications are not being dismissed. 

### Steps to reproduce
1 . when notification comes in tap delete on it. 
2.
3.

### Environment
K-9 Mail version:
5.114
Android version:
7.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
imap.

screen cast of what is happening. Link> http://bit.ly/2egaRWu

Would be nice if I could have pasted this link. Firefox might be stopping me from doing so are your site don't allow pasting 
"
k9mail/k-9,closed,"Legacy inline PGP claims ""signature made by wrong key""",[],"### Expected behavior
Inline PGP should be accepted correctly (or not at all).

### Actual behavior
Inline PGP email is encrypted and signed with the same key-pair. This message will be marked with a red lock saying ""signature made by wrong key"". Sending the same message with a current version of K9 and using PGP/MIME and using the same key-pair shows the message green.

### Steps to reproduce
1. Use only 1 key pair. Send [encrypted and] signed email to self using the current stable version, which uses only inline PGP.
2. Use the same key-pair with v5.114 (alpha). Send a message with the same key pair again.
3. The new version marks the email send via Inline PGP (with the old version) as wrong, while only the one with MIME PGP is marked correctly.

### Environment
K-9 Mail version: v5.114 (alpha)

Android version: 4.4.4 Kernel 3.0.101

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Don't reorder TLS ciphers on newer Android versions,"[Label(name=""security"")]","Google uses them in Chrome: https://security.googleblog.com/2014/04/speeding-up-and-strengthening-https.html

Mozilla puts them second but doesn't have to worry about mobile phone devices (which don't have hardware support) as much as we do: https://wiki.mozilla.org/Security/Server_Side_TLS

Related articles: https://www.imperialviolet.org/2013/10/07/chacha20.html
Deployment: https://blog.cloudflare.com/do-the-chacha-better-mobile-performance-with-cryptography/

Development: https://cr.yp.to/mac.html

Fixes #1775 
"
k9mail/k-9,closed,More securing sharing of files in Android via Content Provider,"[Label(name=""next stable""), Label(name=""security"")]","At first, please forgive me if I am asking for a feature, which has already been implemented.

In Android >= 5.0 you can use a more secure way of sharing data by using [Content Providers](https://developer.android.com/guide/topics/providers/content-providers.html). With them you can give the app (& only this app), which receives the file **temporary** access permissions.
Thus this is a security enhancement.

It might however not work for older apps, which do not support these Content Providers (properly). However a quite large commercial app called [Threema](https://threema.ch) uses Content Providers in this way and so it seems that most apps seem to be compatible as otherwise users would complain, which would be very bad for a commercial app."
k9mail/k-9,open,DNSSEC/DANE support,"[Label(name=""security"")]","DNSSEC/DANE are two dns-based technologies for securing the hostname lookup (DNSSEC) and the TLS connection to the server (DANE, using a TLSA record).
Currently mail providers are one of the few large ""websites"" in the internet, which deploy this. (in Germany it is e.g. supported by Web.de, GMX, Posteo, Mailbox.org, …)

It would be awesome if K9 mail would support them, although I admit it may be difficult as K9 mail of course needs access to the DNS data here."
k9mail/k-9,closed,Update cipher list to latest Mozilla recommended cipher suite,"[Label(name=""enhancement""), Label(name=""security"")]","It would be nice if K9 mail could support this recent cipher for TLS (**Edit:** ChaCha20/Poly1305).
See https://timtaubert.de/blog/2016/04/a-fast-constant-time-aead-for-tls/ for an explanation of what this is.

The cipher is especially designed for mobile devices without AES hardware implementation and may therefore be especially good for smartphones."
k9mail/k-9,closed,Rename encryption options,"[Label(name=""security"")]","I keep thinking about this when I'm not actually in a position to change it. I finally remembered it while at a PC.

The 'Always Sign' makes it sound to a user like you're changing a setting. So 'Always Sign, Always Encrypt' sounds like this and future messages will be signed and encrypted. Whereas in practice - it's not a setting it's just for that e-mail (unless my app has been broken).

Instead, use 'Sign' and 'Don't Sign' / 'Encrypt' & 'Don't Encrypt'.

If we want a configurable default, that should be in settings, not on the compose screen.

I'm not expressing an opinion with regard to what settings we support here, just the language we use on the options."
k9mail/k-9,closed,WebDAV: Improve logging when we get an unexpected redirect during sync,[],Allows us to diagnose properly issues like #1772 
k9mail/k-9,open,Exchange mailbox pool: Error with code 302,"[Label(name=""bug"")]","### Expected behavior
I wanted to use my work mailbox with k9-mail.
I guessed it will work following wiki page about this feature.

### Actual behavior
After successful authorization, inbox can't pool anything and fail with error 'IOException: Error with code 302 during request processing: HTTP/1.1 302 Redirect'.
I looked at the code by trace and seems like problem is here https://github.com/k9mail/k-9/blob/78d3b011e658fcddd3c23d284b32a16e49f467e3/k9mail-library/src/main/java/com/fsck/k9/mail/store/webdav/WebDavStore.java#L1026
I don't understand why status 300, 301 & 302 count as error since its just a forward, might be best just follow pages which server offers?

Trace:
```
K9-Mail version: 5.010
Device make: Micromax
Device model: Micromax Q415
Android version: 5.1.1

com.fsck.k9.mail.MessagingException: IOException
	at com.fsck.k9.mail.store.WebDavStore.sendRequest(WebDavStore.java:1125)
	at com.fsck.k9.mail.store.WebDavStore.processRequest(WebDavStore.java:1167)
	at com.fsck.k9.mail.store.WebDavStore.processRequest(WebDavStore.java:1142)
	at com.fsck.k9.mail.store.WebDavStore.access$500(WebDavStore.java:58)
	at com.fsck.k9.mail.store.WebDavStore$WebDavFolder.getMessageCount(WebDavStore.java:1361)
	at com.fsck.k9.mail.store.WebDavStore$WebDavFolder.getMessageCount(WebDavStore.java:1375)
	at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:1053)
	at com.fsck.k9.controller.MessagingController.access$400(MessagingController.java:111)
	at
com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:934)
	at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
	at java.lang.Thread.run(Thread.java:818)
Caused by: java.io.IOException: Error with code 302 during request processing: HTTP/1.1 302 Redirect
	at com.fsck.k9.mail.store.WebDavStore.sendRequest(WebDavStore.java:1113)
	... 10 more
```


### Steps to reproduce
Create account WebDAV follow alternate way as decribes here https://github.com/k9mail/k-9/wiki/K9MailAndExchange
Try to pool inbox.

### Environment
K-9 Mail version: 5.010

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): WebDAV/Exchange
"
k9mail/k-9,closed,CC and BCC button,"[Label(name=""invalid"")]","Hi,
is there a Button in v5.114 to show the CC and the BCC fields when writing an email? If no, please reimplement it as in the 5.0xx series."
k9mail/k-9,closed,make sure bcc is filled out correctly when resending,[],"when using an existing message as a template for a new mail, the bcc was not filled out correctly.
only when editing an actual draft then the bcc shall not be modified.

so we need to check if the message that we edit is a draft.
if not we need to add the bcc."
k9mail/k-9,closed,use AttachmentTempFileProvider to expose file-backed content uris,[],"This PR changes the ""uri"" field in AttachmentViewInfo into an internalUri, which is then turned into an externally accessible, file-backed URI in AttachmentController using AttachmentTempFileProvider

Should fix #1644 "
k9mail/k-9,closed,"Bug/Feature Request: Encrypt, don't Sign.","[Label(name=""security"")]","Brilliant work in 5.1 on PGP/MIME! 

However, on the slider from Never Sign or Encrypt to Always Sign, Always Encrypt, the option to Encrypt but not Sign is not available!!

I'm not sure how many people use this, but I would urge you to implement it at this point for a complete PGP UX."
k9mail/k-9,open,Option: place replies in the folder of the message being replied to,"[Label(name=""enhancement"")]","This is a standard option many email clients, such as Thunderbird and Roundcube. It would be very convenient to have this option in K9 as well.  Thanks for considering it.
"
k9mail/k-9,closed,Turn support for signed-only mails into an opt-in feature,[],"I've been thinking about this one for a bit, and I've come to the conclusion that signed-only emails do more harm than good.

1) It's very difficult to explain to non-technical users what a cryptographic signature is, and unlike encryption there is not really a benefit to signed-only mails unless the users knows what they're all about
2) On the sending side, it's not obvious why even non-encrypted messages require a password entry. I received different feedback about this, but most of it boiled down to the simple fact that people don't want to input their password if they send an unencrypted email
3) On the receiving side, the status icon has too many states (Struck-Through-Lock/Checkmark/Lock in broken/unconfirmed/confirmed each, plus unknown-key, plus error states) which makes it quite unintuitive
4) Even among people who know what a crytographic signature is, an unsigned email from a person who usually signs their emails will rarely raise any eyebrows, and even less often trigger an investigation of what's going on. Even a broken signature will usually be attributed to transport breakage.

All things considered, I've come to the conclusion that signatures on emails are nearly useless even for technical users, and they do increase UI complexity which distracts. Consequently, I moved signing of unencrypted messages, and display of signatures (outside of encrypted emails) into an opt-in setting."
k9mail/k-9,open,Move/Copy emails from local(?) folder,"[Label(name=""bug""), Label(name=""needs work"")]","### Expected behavior

Added IMAP account (freenet.de) to K9. As I didn't change, it seems that K9 has created local folders e.g. ""Sent"", to store sent items. I earliest recognized this ""local"" creation when these folders are not existing e.g. in Thunderbird, where I've added the IMAP account a while later.
To store these sent items in a central place, I tried to copy/move them to a ""real"" IMAP folder (INBOX.sent). 
Expected behaviour is that this move, at least a copy, should work. Workaround would be ok, as this is one time only.
### Actual behavior

After selecting all messages in local folder k9 says (translated from German) ""messages, which are not synced with the server, could not be copied or moved""
### Steps to reproduce

1.add freenet.de account to k9
2.sent some mails
3.try to copy sent items
### Environment

K-9 Mail version:5.010

Android version:4.4.2 kitkat

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (FREENET.DE)
"
k9mail/k-9,closed,try to lookup pgp-keys when *reading* new email,"[Label(name=""enhancement""), Label(name=""security"")]","### Expected behavior

get new email from ""sender"" which is signed with pgp-key
when pgp provider like openkeychains is active, k-9 should ask openkeyschain to lookup ""sender"" and check if there is a key stored online.
if yes -> download key and use it
if no -> just read email normally
### Actual behavior

get new email from ""sender"" which is signed with pgp-key
email is shown, but key is not download and no dialog is shown to let the user download the key
(also a setting to download keys in the background without user interaction should be available to make it easier for ""normal"" users to use pgp with ease)
### Steps to reproduce

see above
### Environment

K-9 Mail version: 5.114 (f-droid)

Android version: 6.x

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Filter of incoming messages,"[Label(name=""duplicate"")]","Hi, 

as recommended by a close friend, being a longtime user of k9mail, I installed the app and currently I am exploring all the possibilities! However, I did not find any option to create filter for incoming messages, being routed into different folders. Is this option missing or hidden somewhere ??

Regards, hitam4450
"
k9mail/k-9,closed,Notification not cleared when deleting message(s) from notification,"[Label(name=""bug"")]","### Expected behavior

When I choose to ""Delete"" a message or messages from a notification, the notification should be cleared afterwards.
### Actual behavior

While the mail is correctly deleted, i. e. moved to trash on server, the notification is still displayed.
### Steps to reproduce
1. Send a test mail to one of the configured accounts.
2. Select ""Delete"" from the notification
### Environment

K-9 Mail version: 5.114

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (self-hosted dovecot as well as mailbox.org)
"
k9mail/k-9,open,Show date and time for GPG signatures,"[Label(name=""enhancement""), Label(name=""security"")]","Hi,
I have k-9 5.114 installed and signing emails with OpenKeychain. If k-9 verifys a signature no date and time is shown, only if it is valid is shown.

Could you please update k-9 to show date and time to?

The problem is if someone is signing a simple ""yes"" than the email can be reused even some years later.
"
k9mail/k-9,open,try to lookup pgp-keys when sending new email,"[Label(name=""enhancement""), Label(name=""security"")]","### Expected behavior

write new email to ""sender""
when pgp provider like openkeychains is active, k-9 should ask openkeyschain to lookup ""sender"" and check if there is a key stored online.
if yes -> download key and use it
if no -> just send email normally
### Actual behavior

write new email to ""sender""
emails is just signed (k-9 does not check if a key for ""sender"" can be found online)
### Steps to reproduce

see above
### Environment

K-9 Mail version: 5.114 (f-droid)

Android version: 6.x

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Improve behavior for broken signatures,[],"This PR improves behavior when signature data is broken, which happens e.g. if there is an error in the ascii-armor CRC. Happened in a mail I received (indirectly, thanks @Emantor) from Airmail. Previously, we didn't show the data in that case because it was treated the same as a decryption error. It's now correctly treated as a signature error.

test case: http://sprunge.us/ffjC
"
k9mail/k-9,open,Feature request - Resize image in k9mail on the fly,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Hello

this is only a feature request, not an issue.

There could be an option to resize an added image on the fly to a lower resolution. In the options or in a dialog when I add a picture (JPG etc.).
There is no way in k9mail to do this.
Some email-clients can do this, not sure if it is easy done in k9mail, but it would be extremely useful. 
At the moment I use an external app to resize pictures and send them to k9mail then.

By the way, what I dream of is a kind of option to use k9mail as Chat Client, e.g. like WhatsApp, Signal, Threema, etc. Could be done I guess and would be very handy on a Smartphone :)
### Environment

K-9 Mail version: 5.010

Android version: CM 13 nightly of 21.10.2016 on Samsung Galaxy S4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Thanks.

frank
"
k9mail/k-9,closed,Office 365 certificate issue,[],"### Expected behavior

Should be able to send email to an account on Office 365
### Actual behavior

```
10-26 12:06:54.231 4972-4990/com.fsck.k9.debug E/k9: Failed to send message
    com.fsck.k9.mail.CertificateValidationException: Handshake failed
        at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:416)
        at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:519)
        at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:512)
        at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3019)
        at com.fsck.k9.controller.MessagingController.access$1700(MessagingController.java:117)
        at com.fsck.k9.controller.MessagingController$21.run(MessagingController.java:2899)
        at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:206)
        at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:117)
        at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:175)
        at java.lang.Thread.run(Thread.java:761)
     Caused by: javax.net.ssl.SSLHandshakeException: Handshake failed
        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:429)
        at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:682)
        at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:644)
        at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:245)
        at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:519) 
        at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:512) 
        at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3019) 
        at com.fsck.k9.controller.MessagingController.access$1700(MessagingController.java:117) 
        at com.fsck.k9.controller.MessagingController$21.run(MessagingController.java:2899) 
        at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:206) 
        at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:117) 
        at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:175) 
        at java.lang.Thread.run(Thread.java:761) 
     Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x72ff3f78c0: Failure in SSL library, usually a protocol error
    error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER (external/boringssl/src/ssl/tls_record.c:192 0x733bf76f76:0x00000000)
        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)
```
### Steps to reproduce
1. Configure the following account settings:

Server: smtp.office365.com
Security: SSL/TLS
Port: 587
Require sign in: Checked
Username: email@company.com
Authentication: Normal password
1. Attempt to send an email
### Environment

K-9 Mail version: master-branch code

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
# Developer notes

Settings are taken from: https://support.office.com/en-gb/article/POP-and-IMAP-settings-for-Outlook-Office-365-for-business-7fc677eb-2491-4cbc-8153-8e7113525f6c?ui=en-US&rs=en-GB&ad=GB

The underlying error is that the SSL version number is wrong. I'm not sure if it is or not.

Here's a test with openssl s_client:

```
Philips-Air:k-9 philip$ openssl s_client -connect smtp.office365.com:587
CONNECTED(00000003)
1474:error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol:/BuildRoot/Library/Caches/com.apple.xbs/Sources/OpenSSL098/OpenSSL098-59.60.1/src/ssl/s23_clnt.c:618:

Philips-Air:k-9 philip$ openssl s_client -connect smtp.office365.com:587 -tls1
CONNECTED(00000003)
1475:error:1408F10B:SSL routines:SSL3_GET_RECORD:wrong version number:/BuildRoot/Library/Caches/com.apple.xbs/Sources/OpenSSL098/OpenSSL098-59.60.1/src/ssl/s3_pkt.c:300:

Philips-Air:k-9 philip$ openssl s_client -connect smtp.office365.com:587 -ssl3
CONNECTED(00000003)
1476:error:1408F10B:SSL routines:SSL3_GET_RECORD:wrong version number:/BuildRoot/Library/Caches/com.apple.xbs/Sources/OpenSSL098/OpenSSL098-59.60.1/src/ssl/s3_pkt.c:300:

Philips-Air:k-9 philip$ openssl s_client -connect smtp.office365.com:587 -ssl2
CONNECTED(00000003)
^C
```

Note that SSLv2 seems to work. The other options fail with a similar error to what we see in K-9.
"
k9mail/k-9,open,"""Send Later"" functionality to schedule the date/time for sending an email.","[Label(name=""enhancement"")]","Please add ""Send Later"" functionality to schedule the date/time for sending an email.
"
k9mail/k-9,closed,"Add notification actions to ""stacked notifications""",[],"On Android 7.0 notifications that previously only showed on Android Wear devices are also displayed on the phone/tablet. To be able to use notification actions there and have a separate set of actions for Wear devices we need to do some extra work.

This change leaves the code in a somewhat ugly state because `WearNotifications` really deals with notifications for individual messages that can be displayed on both Android 7.0+ and Android Wear devices. I created issue #1754 to clean this up later.

Fixes #1741
"
k9mail/k-9,open,Refactor notification code,"[Label(name=""architecture"")]","With Android 7.0 there's no longer a clear distinction between ""device notifications"" (summary) and ""wear notifications"" (individual messages). So we should rename the classes and identifiers we use internally.

I also want to refactor the notification code to make it less awkward to test.
"
k9mail/k-9,open,Hotmail IMAP XOAUTH2,"[Label(name=""enhancement""), Label(name=""security"")]","### Expected behavior

Use the secure method of authenticating, rather than requiring app-specific passwords

See #1698 and #655 for similar
### Actual behavior

App specific password required.
### Implementation notes

**IMAP advertisments:**

CAPABILITY, IMAP4rev1, CHILDREN, ID, NAMESPACE, UIDPLUS, UNSELECT, AUTH=PLAIN, AUTH=XOAUTH2, SASL-IR

**Documentation**

https://msdn.microsoft.com/en-gb/library/dn440163.aspx
### Environment

K-9 Mail version: 5.114

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,K9 is unable to utilize 2FA,"[Label(name=""enhancement""), Label(name=""security"")]","### Expected behavior

Login to email service secured with 2FA prompts 2nd page to input verification code, app password should be used for last emergency resort.
### Actual behavior

K9 fails to recognize there's 2FA enabled and it throws error message instead
### Steps to reproduce
1. Enable 2FA on Gmail/Hotmail
2. Input user/pass on K9
3. Wrong password appears on screen
### Environment

K-9 Mail version: 5.010

Android version: 5/6/7

Account type (IMAP, POP3, WebDAV/Exchange): all types
"
k9mail/k-9,closed,Tor Hidden Service support,"[Label(name=""enhancement""), Label(name=""needs info"")]","### Expected behavior

Tor HS (`.onion` domains) should be usable as SMTP/IMAP/POP3 servers.
### Actual behavior

Upon entering a HS domain in the appropriate setup wizard / account settings field and saving a

> Cannot connect to server. (Unable to connect.)

window appears, though browser opens `.onion` domains fine (for reference, Orbot VPN is used for transparent torification).

I could also provide adb logs if necessary.
### Steps to reproduce
1. Enter a HS domain in setup wizard.
2. Get an error message.

Some email providers offering HSs: https://mailbox.org, http://lelantoss7bcnwbv.onion, https://riseup.net
### Environment

K-9 Mail version: 5.010 and 5.114

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): only tested with IMAP.
"
k9mail/k-9,closed,setup new email account programmatically,[],"I need your help to setup new email account programmatically (map - smtp) ?
"
k9mail/k-9,closed,[BUG] It not always checks email on start,"[Label(name=""invalid"")]","Seldom (about 5% of cases) it doesn't check email on startup
"
k9mail/k-9,open,K9 Mail won't delete messages on the server,"[Label(name=""bug"")]","I've been having issues with K9 Mail deleting messages from the server.  K9 won't delete messages.  After I delete them and perform a refresh, they are re-fetched.  The behavior is not correct.

I have K9 configured to delete the message on the server when I delete the message on the phone.

I have reset my K9 configuration and started from scratch - uninstalled and then re-installed K9, and rewrote all my settings manually.
### Expected behavior

Delete the message on the server when I delete the message on the phone
### Actual behavior

The message is not deleted on the server.  Re-freshing (fetch email) re-downloads the emails I thought I deleted.
### Steps to reproduce
1.  Delete message
2.  Fetch email
3.  Pull hair out
### Environment

K-9 Mail version:
This was happening on v5.010, and again on the latest alpha

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
POP3
"
k9mail/k-9,closed,Back-end changes for Google XOAUTH2,"[Label(name=""security"")]","Splitting out from #1295 
"
k9mail/k-9,closed,Cryptography: No OpenPGP app installed,[],"I just joined beta and now it can't see APG is installed.

If I check an account settings, the cryptography setting is grey and it display ""No OpenPGP app installed"".
In the non-beta version that used to works.
### Steps to reproduce
1. Install and configure APG
2. Install and configure K-9
3. Try to  configure PGP for an account
### Environment

K-9 Mail version: 5.113

Android version: 6.0.1 (CM 13)
"
k9mail/k-9,open,Feature Request: Send HTML formated mails,"[Label(name=""enhancement""), Label(name=""help wanted"")]","### Expected behavior

It would be cool to send mails with **bold**, _italics_, _underlined_ and ~~crossed~~ words, lists, etc. Maybe using MarkDown or a button that showed a ""formating bar"" (maybe at the bottom of the screen?).

Note: a preview button or a live preview would be also very appreciated.
### Actual behavior

There's no way to do it
### Environment

K-9 Mail version: 5.114 (F-droid)

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Undermanned project,[],"At this writing there are 350 issues open, a clear indicator that this project need more pull requests from more people to keep the project stable.
"
k9mail/k-9,closed,no apparent way to set composition crypto default,"[Label(name=""enhancement""), Label(name=""security"")]","### Expected behavior

Ability to set custom default crypto setting, I.e. 'none', 'sign only', etc.
Preferably setting per identity.
### Actual behavior

Always defaults to 'always sign, encrypt if possible'.
### Environment

K-9 Mail version: 5.114

Android version:
Any

Account type (IMAP, POP3, WebDAV/Exchange):
any
"
k9mail/k-9,closed,Signing into yahoo fails,[],"### Expected behavior

Enter/change password and connect to yahoo email
### Actual behavior

Valid user and password configured on fetch and send. Error saying invalid I'd or password.
### Steps to reproduce

1.settings
2.a account settings
3.fetching mail
4. Incoming server
5. Accept all defaults for yahoo
6. Enter password
7. Receive I'd/ password error
Authenticate plain; response#1#no, authenticationfailed,mbr1212
### Environment

K-9 Mail version: 4.3

Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP.

Uninstall k-9 / install k-9, issue remains. Id and password are valid and have been verified on yahoo web page. App works without fail on similar phone, all versions the same.
"
k9mail/k-9,closed,Quick Actions don't get displayed on Android 7.0,"[Label(name=""bug"")]","### Expected behavior

Obviously, when this setting is enabled for ""single"" or ""all"", the delete button should appear for the appropriate number of messages being present.
### Actual behavior

Notification appears, WITHOUT the delete button
### Steps to reproduce
1. Enable notification delete button
2. Exit k9
3. receive an email
### Environment

K-9 Mail version: 5.114

Android version:
7.0 (Nexus 6) or 7.1 (Pixel).

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP / not applicable.
"
k9mail/k-9,open,Lost sent mail,"[Label(name=""next stable"")]","### Expected behavior

Tell us what should happen. Emails in sent mail folder should stay there until deleted.
### Actual behavior

Tell us what happens instead. K-9 Mail started acting erratically last night. When it stabilized and I closed and reopened it, all of the emails in the Sent and Draft folders were gone.
### Steps to reproduce

1.Can't reproduce.
2.
3.
### Environment

K-9 Mail version:5.000

Android version:Fire OS 4.5.5.2

Account type (IMAP, POP3, WebDAV/Exchange):POP3
"
k9mail/k-9,closed,Redirect mail (Resend/redirect/bounce) rfc5322,"[Label(name=""needs work"")]","this is a working proposal for the implementation of rfc5322 
"
k9mail/k-9,closed,"GUI Improvement: (optionally) move ""+"" icon from accounts lists to menu.",[],"### Expected behavior

The users usually do not add new email accounts very often and therefore the ""+"" icon
- takes place on the screen and is prone to tapping by accident.
- is easily confused with ""create message"" icon.

It affects mainly users not using ""merged"" inbox, who prefer to access the e-mail messages separately by account.

The ""+"" icon in the overview of email accounts could be optionally moved to the menu list (three dots). The remaining icons might be spread equally within the given space or some new icon for other often-used function be added.
### Actual behavior

See the attached image for the current status.
![screenshot_20161020-220622](https://cloud.githubusercontent.com/assets/7862150/19576363/033221ee-9713-11e6-9b82-0d6f2742bec7.png)
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1 (Samsung Galaxy S7)
"
k9mail/k-9,closed,Crash when no permission to attachment,"[Label(name=""duplicate"")]","### Expected behavior

K9 displays a toast message that it can't read the attachment
### Actual behavior

K9 crashes
### Steps to reproduce
1. Try sharing a GPX track in OSMAnd
2. Pick k-9
3. Crash

This is due to a [bug in OSMAnd](https://groups.google.com/forum/#!topic/osmand/iIbByH5zUFY), but it wouldn't hurt if k-9 handled this more gracefully
### Environment

K-9 Mail version:
5.010

Android version:
4.4.4

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

Crash log:

```
10-20 10:50:24.665 I/k9      (25481): Committing preference changes
10-20 10:50:24.690 I/k9      (25481): Preferences commit took 28ms
10-20 10:50:24.710 I/k9      (25481): Committing preference changes
10-20 10:50:24.715 I/k9      (25481): Preferences commit took 8ms
10-20 10:51:28.510 I/PackageManager(2311): Adding preferred activity ComponentInfo{com.fsck.k9/com.fsck.k9.activity.MessageCompose} for user 0 :
10-20 10:51:28.555 I/Timeline(27016): Timeline: Activity_launch_request id:com.fsck.k9 time:253834704
10-20 10:51:28.560 I/ActivityManager(2311): START u0 {act=android.intent.action.SEND typ=application/gpx+xml flg=0x3000001 cmp=com.fsck.k9/.activity.MessageCompose (has clip) (has extras)} from pid 27016
10-20 10:51:28.915 V/k9      (25481): /storage/sdcard1/osmand/tracks/rec/2016-02-06_17-52_sob..gpx
10-20 10:51:28.915 V/k9      (25481): new attachment.size: 692
10-20 10:51:29.125 E/AndroidRuntime(25481): Process: com.fsck.k9, PID: 25481
10-20 10:51:29.125 E/AndroidRuntime(25481): Caused by: java.lang.UnsatisfiedLinkError: Couldn't load os-compat from loader dalvik.system.PathClassLoader[DexPathList[[zip file ""/data/app/com.fsck.k9-1.apk""],nativeLibraryDirectories=[/data/app-lib/com.fsck.k9-1, /vendor/lib, /system/lib]]]: findLibrary returned null
10-20 10:51:29.125 E/AndroidRuntime(25481):     at com.fsck.k9.activity.loader.AttachmentContentLoader.loadInBackground(AttachmentContentLoader.java:58)
10-20 10:51:29.125 E/AndroidRuntime(25481):     at com.fsck.k9.activity.loader.AttachmentContentLoader.loadInBackground(AttachmentContentLoader.java:24)
10-20 10:51:29.335 W/ActivityManager(2311):   Force finishing activity com.fsck.k9/.activity.MessageCompose
10-20 10:51:30.885 I/ActivityManager(2311): Process com.fsck.k9 (pid 25481) has died.
10-20 10:51:30.885 W/ActivityManager(2311): Scheduling restart of crashed service com.fsck.k9/.service.PushService in 1000ms
```
"
k9mail/k-9,closed,Report As Spam functionality,"[Label(name=""needs work"")]","Creating a PR so I can review it - author may have more work to do.
"
k9mail/k-9,closed,Inject config from properties file,[],"This decouples the projects slightly and makes it possible to override settings on a per-project basis.

Also removes some config duplication between k9mail / k9mail-library.
"
k9mail/k-9,closed,Clean up ImapFolderTest,[],
k9mail/k-9,closed,HTML messages not displaying,"[Label(name=""bug"")]","### Expected behavior

HTML messages should be rendered, with an option to show external images
### Actual behavior

Email display is blank, with only a ""download complete message"" button... which does nothing
### Steps to reproduce
1. Open HTML email from inbox
2. Email is displayed as blank
3. Press ""download complete message""
4. Email is still blank
### Environment

K-9 Mail version: 5.114

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): Gmail (via IMAP)
### Logcat:

```
10-18 22:53:35.104 D/k9      (28045): MessageView displaying message MessageReference{accountUuid='539ac8f9-8c8d-49be-9ead-7501fa654db4', folderName='INBOX', uid='36065', flag=null}
10-18 22:53:35.109 D/k9      (28045): Creating new local message loader
10-18 22:53:35.139 D/ConnectivityService(  820): notifyType CAP_CHANGED for NetworkAgentInfo [WIFI () - 119]
10-18 22:53:35.406 D/k9      (28045): Creating new decode message loader
10-18 22:53:35.436 V/k9      (28045): LockableDatabase: Transaction ended, took 89ms / com.fsck.k9.mailstore.LocalStore.doBatchSetSelection(LocalStore.java:904)
10-18 22:53:35.502 E/k9      (28045): Unable to getTextFromPart
10-18 22:53:35.502 E/k9      (28045): com.fsck.k9.mail.MessagingException: Provided invalid part: com.fsck.k9.mailstore.LocalBodyPart@86ec7f7
10-18 22:53:35.502 E/k9      (28045):   at com.fsck.k9.mail.internet.MessageExtractor.getTextFromPart(MessageExtractor.java:60)
10-18 22:53:35.502 E/k9      (28045):   at com.fsck.k9.mail.internet.MessageExtractor.getTextFromPart(MessageExtractor.java:42)
10-18 22:53:35.502 E/k9      (28045):   at com.fsck.k9.mailstore.MessageViewInfoExtractor.buildHtml(MessageViewInfoExtractor.java:224)
10-18 22:53:35.502 E/k9      (28045):   at com.fsck.k9.mailstore.MessageViewInfoExtractor.extractTextFromViewables(MessageViewInfoExtractor.java:186)
10-18 22:53:35.502 E/k9      (28045):   at com.fsck.k9.mailstore.MessageViewInfoExtractor.extractViewableAndAttachments(MessageViewInfoExtractor.java:115)
10-18 22:53:35.502 E/k9      (28045):   at com.fsck.k9.mailstore.MessageViewInfoExtractor.extractMessageForView(MessageViewInfoExtractor.java:85)
10-18 22:53:35.502 E/k9      (28045):   at com.fsck.k9.ui.message.LocalMessageExtractorLoader.loadInBackground(LocalMessageExtractorLoader.java:55)
10-18 22:53:35.502 E/k9      (28045):   at com.fsck.k9.ui.message.LocalMessageExtractorLoader.loadInBackground(LocalMessageExtractorLoader.java:18)
10-18 22:53:35.502 E/k9      (28045):   at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)
10-18 22:53:35.502 E/k9      (28045):   at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)
10-18 22:53:35.502 E/k9      (28045):   at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:66)
10-18 22:53:35.502 E/k9      (28045):   at android.os.AsyncTask$2.call(AsyncTask.java:295)
10-18 22:53:35.502 E/k9      (28045):   at java.util.concurrent.FutureTask.run(FutureTask.java:237)
10-18 22:53:35.502 E/k9      (28045):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
10-18 22:53:35.502 E/k9      (28045):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
10-18 22:53:35.502 E/k9      (28045):   at java.lang.Thread.run(Thread.java:818)
10-18 22:53:35.567 I/Xposed  (28045): getWebViewPackageName
10-18 22:53:35.568 I/WebViewFactory(28045): Loading com.google.android.webview version 53.0.2785.124 (code 278512400)
10-18 22:53:35.700 I/art     (28045): Rejecting re-init on previously-failed class java.lang.Class<com.android.webview.chromium.ServiceWorkerControllerAdapter>
10-18 22:53:35.701 I/art     (28045): Rejecting re-init on previously-failed class java.lang.Class<com.android.webview.chromium.ServiceWorkerControllerAdapter>
10-18 22:53:35.704 I/art     (28045): Rejecting re-init on previously-failed class java.lang.Class<com.android.webview.chromium.TokenBindingManagerAdapter>
10-18 22:53:35.705 I/art     (28045): Rejecting re-init on previously-failed class java.lang.Class<com.android.webview.chromium.TokenBindingManagerAdapter>
10-18 22:53:35.746 I/cr_LibraryLoader(28045): Time to load native libraries: 10 ms (timestamps 6710-6720)
10-18 22:53:35.748 I/cr_LibraryLoader(28045): Expected native library version number ""53.0.2785.124"", actual native library version number ""53.0.2785.124""
10-18 22:53:35.797 V/WebViewChromiumFactoryProvider(28045): Binding Chromium to main looper Looper (main, tid 1) {7f6f200}
10-18 22:53:35.797 I/cr_LibraryLoader(28045): Expected native library version number ""53.0.2785.124"", actual native library version number ""53.0.2785.124""
10-18 22:53:35.817 I/chromium(28045): [INFO:library_loader_hooks.cc(151)] Chromium logging enabled: level = 0, default verbosity = 0
10-18 22:53:35.867 I/cr_BrowserStartup(28045): Initializing chromium process, singleProcess=true
10-18 22:53:36.124 W/cr_media(28045): Requires BLUETOOTH permission
10-18 22:53:36.204 D/ConnectivityService(  820): listenForNetwork for Listen from uid/pid:10093/28045 for NetworkRequest [ id=157, legacyType=-1, [ Capabilities: INTERNET&NOT_RESTRICTED&TRUSTED] ]
10-18 22:53:36.233 W/cr_AwContents(28045): onDetachedFromWindow called when already detached. Ignoring
10-18 22:53:36.274 E/SELinux (  232): avc:  denied  { find } for service=batterymanager scontext=u:r:untrusted_app:s0:c512,c768 tcontext=u:object_r:battery_service:s0 tclass=service_manager
10-18 22:53:36.286 I/cr_Ime  (28045): ImeThread is not enabled.
10-18 22:53:36.289 D/k9      (28045): No external images.
10-18 22:53:36.300 I/Choreographer(28045): Skipped 44 frames!  The application may be doing too much work on its main thread.
```
### Original email

Link: https://gist.github.com/anonymous/caa7b4a3ed4d9090882c6e4f30c6e668
"
k9mail/k-9,open,Improving K-9 Logging,"[Label(name=""architecture""), Label(name=""enhancement"")]","### Expected behavior

Users should easily be able to report issues, with enough detail to allow us to debug them.
### Actual behavior

We get issues opened with little to no information. The recommended way to diagnose problems involves (for all recent Android devices) connecting to `adb`. This essentially restricts bug reports to Android developers only.
### Problems arising

In a normal app which is funded by a development team, you'd use something like ACRA which then pumps data to a back-end server.  K-9 doesn't have this option. It's an open source project, there's no hosting or funding available for that kind of solution.

Often the bugs we see are not crashes per see, which are fairly straightforward to solve, but instead Doze / data usage related.
### Possible solution 1 - Save logcat output

The reason we can't recommend aLogCat is because it no longer has access to our logs. Therefore we must read the logs ourselves. Obviously if we crash just reading them is insufficient. So we also have to write them to a file.

One option is to implement a rolling logging solution. This would:
- Run logcat on the device in our process. It turns out this is fairly straightforward, if rather ugly: 

http://www.journal.deviantdev.com/android-log-logcat-to-file-while-runtime/
- Periodically roll the log file. We don't want to take up too much space. This could be a configurable option - users with complex problems could increase the amount stored.
- Allow the user to save logs to external storage

Our issue form would then say:

```
Upload the the latest log file from K-9's directory on your phone.
```

We need to carefully test this to make sure that the background logging itself doesn't cause any issues.
### Possible solution 2 - Stop using `android.util.Log`

The alternative is more drastic. We implement a new logging architecture. This would give us full control - we could flush to disk periodically (and when getting an uncaught exception) rather than all the time.
"
k9mail/k-9,closed,Dual signed+encrypted messages not verifiable signature,[],"### Expected behavior

1) Messages generated by k9mail with both signing and encryption enabled can be decryped, but not verified by roundcube+enigma.
2) Messages generated by roundcube+enigma with both signing and encryption can be decrypted, but not verified by k9mail.
3) In both cases, each is able to validate the signature of self-generated messages.
### Actual behavior

Neither is able to detect the presence of the signature generated by the other.
### Steps to reproduce

In either email client, generate an encrypted and signed message, read it from the other.
### Environment

K-9 Mail version: 1.114

Android version:
7.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,Ability to customise widget icons,"[Label(name=""enhancement"")]","### Expected behavior

Tell us what should happen
Not a problem just a request when using K-9 for multiple accounts. 
### Actual behavior

Tell us what happens instead
I would like to be able to change the Icons when using the K-9 Unread widget for multiple accounts so I can have a different Icon for each account.
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version: v5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Make test expectation more generic,[],"On my system (OSX+Java8) this test fails with a `SocketTimeoutException`
"
k9mail/k-9,closed,forward a message as attachment,"[Label(name=""needs work"")]","enables the user to forward a message as attachment of mime type ""message/rfc822"".
this is often required to avoid the original message headers being changed.
"
k9mail/k-9,closed,Use 'Sender' field to provide on behalf of information,"[Label(name=""enhancement""), Label(name=""good first issue"")]","### Expected behavior

A message with a **Sender** and a **From** field that are different should show in the Message View:

`{Sender} on behalf of {From}`

In the Message List I think just {From} is reasonable (current behaviour) - this is what Outlook does.
### Actual behavior

`{From}`
### Steps to reproduce

The only example I have of this is a meeting forwarded by someone using Outlook. However the fields usage is documented in https://tools.ietf.org/html/rfc4021#page-7
### Environment

K-9 Mail version: 5.114

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Don't use same notification group key for all accounts,[],"I believe this should fix #1660 
"
k9mail/k-9,closed,[WIP] Support for viewing iCal event invitations in K-9,"[Label(name=""needs work"")]","Work in progress solution for #930 Needs unit tests writing.

Features:
- Viewing basic info on attached iCal event
- Retains opening and saving

Testing:
- Tested against ICS files from Microsoft Outlook
- Ongoing daily client usage tests
"
k9mail/k-9,closed,Tracking Security,"[Label(name=""duplicate"")]","### Expected behavior

When reading an email in plain text it should be impossible to track a reader via html.
### Actual behavior

When reading an email in plain text k9mail actually parses/follows html <audio> tags and makes tracking possible.
### Steps to reproduce
1. go to ""https://emailprivacytester.com"" and send yourself a test mail
2. open up the mail in k9mail and watch the html <audio> ""trigger"" instantly 
3. thats it. afaik html audio tags are not importent for text content of an email
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Suggestion: Material Icon,"[Label(name=""enhancement"")]","**Edit:**

New Icon:

![web_res](https://cloud.githubusercontent.com/assets/22890589/21390343/c17adb48-c786-11e6-87bf-c7b271a5054a.png)

Banner:

![playstore_banner](https://cloud.githubusercontent.com/assets/22890589/21390364/d83daaf4-c786-11e6-9a70-69605f53e1fe.png)

Source files: [graphics.zip](https://github.com/k9mail/k-9/files/666390/graphics.zip)

**Old post:**

I saw some pull requests about this recently so I gave it a try:

![k-9_mail_web_res](https://cloud.githubusercontent.com/assets/22890589/19442487/bfd69fa0-9489-11e6-815e-f4cca41a093e.png)

It's kind of tricky to stick with the robot dog design and this is the best I could come up with. I'd also be happy to visualize some other ideas or chnage some aspects of the icon.

If you like it say the word and I'll create a pull request with all the files ; )"
k9mail/k-9,closed,Support for Tutanota (Open Source Mailprovider),[],"I'd like to see k-9 accessing my Tutanota Accounts. (https://tutanota.com)
They do not support IMAP nor POP3 because it would break their end-to-end encryption solution, but fortunately everything they do is Open Source. (https://github.com/tutao/tutanota/)
You will find a short tutorial on their github page with the title ""Building and running your own Tutanota Android app"" which should be really helpful for you guys =)
"
k9mail/k-9,open,Attached xlsx file cannot be opened by Excel,"[Label(name=""bug"")]","### Expected behavior

Attached xlsx file should be opened by Excel
### Actual behavior

Excel refuse to open the file and tells the user that the file is invalid.
### Workaround

Either use another email client (GMail for example) or save the file on the device storage and open it later with Excel
### Steps to reproduce
1. Open the mail
2. Display attached file
3. Download complete message
4. Open the attached xlsx file
### Environment

K-9 Mail version: 5.010

Android version:
Android 6.01
Samsung S6+ Edge / Sony Z3

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (Kerio Connect server)
"
k9mail/k-9,open,Screen rotation should keep position in message,"[Label(name=""enhancement"")]","### Expected behavior

While reading a message any screen rotation should keep the reading position in the message body.
### Actual behavior

Currently the text view jumps to the first line after any screen rotation.
### Steps to reproduce
1. Open text message with more than one screen of text
2. Scroll to the end or any other position in the message body
3. Change screen orientation: vertical to horizontal
4. Scroll to end again
5. Change screen orientation: horizontal to vertical
### Environment

K-9 Mail version: 5.010

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
any
"
k9mail/k-9,closed,encryption of mail attachments,[],"hello,

Currently using k9mail with APG on Android.
The files attached to a mail are not encrypted; only the contents of the mail is encrypted.

In other words, when attaching a file to a mail, and checking the 'encryption' check box, I would expect both the mail and its attachments to be encrypted.

regards,
Damien
### Environment

K-9 Mail version: 5.010
Android version: 5
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
APG v1.1.1
"
k9mail/k-9,closed,Some new icons.,[],"Hey guys! What about [hypercube](http://tardis.wikia.com/wiki/Hypercube) as new logo?
It's timelords mail!
![cube](https://github.com/bergentroll/k-9/blob/hypercube_icon/images/k-9_tesseract1.png?raw=true)
![cube](https://github.com/bergentroll/k-9/blob/hypercube_icon/images/k-9_tesseract2.png?raw=true)
![cube](https://github.com/bergentroll/k-9/blob/hypercube_icon/images/k-9_tesseract3.png?raw=true)
"
k9mail/k-9,closed,Enable directional pads for next/previous message,[],"This should handle item 2 of #1713 
"
k9mail/k-9,closed,Forces sound on,"[Label(name=""needs info"")]","### Expected behavior

Nothing unless there'sa new email. Then only vibrate notice when on vibrate
### Actual behavior

Turns phone sound on frequently, unless I change K9 settings to show no notifications
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:

Android version:
Marshmallow on galaxy s7

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Update translations,[],"Pulled translations from Transifex
"
k9mail/k-9,closed,Added some more coverage to the MessageReferenceTest,[],
k9mail/k-9,open,Browsing a list of messages by HW arrow keys (like in folder list),"[Label(name=""enhancement"")]","### Expected: Browsing a list of messages by HW arrow keys

I have V-construction smartphone LG Wine with numpad and other HW buttons like a normal (smart)phone,
including 4-direction arrow keys and ""ok"" button in the center of them.
#### Three situations (functions), from the most important:

1)
I would like to browse 
a list of conversations/messages inside folder 
or a list of messages inside conversation
by moving a cursor by down/top HW arrows and then pressing HW button ""ok"".

2)
I would like to go to the prev/nex message (when I have displayed one concrete message)
by pressing left/right HW arrow.

3)
It would be also good to go to the next folder by pressing left/right HW arrow when displayed content of one folder.
### Actual behavior: List of folders only

It is possible to browse list of folders by top/down HW arrows and select it by HW ""ok"" button;
but it is not possible to continue by HW buttons deeper into conversations and messages.
"
k9mail/k-9,closed,Fix LICENSE on GitHub,[],"GitHub displays ""BSD-3-Clause"" as K-9 Mail's license in the header above the file listing. This is because the repo contains the file ""HTMLCLEANER_LICENSE"". Adding a ""LICENSE"" file with Apache v2 should solve this issue.
"
k9mail/k-9,closed,"Feature Request: Button ""Folders"" instead of ""Order by"" (Like in native Android app)","[Label(name=""enhancement"")]","I would appreciate possibility to set displaying of ""show folder"" button 
as one of main buttons, visible for one-tap using.

The same way, like it is in native android application.
There is ""order by"" button instead of it in K9mail.

I use K9 mail instead of native android mail app,
because K9 can refresh (download, sync) all folders in account,
and I use lot of folders 
(and filters, which are directing new messages into various sub-folders; 
and I need to read some sent or archived message sometimes).

So, I need to switch view between various folders very often.
And I absolutely do not use another ordering but a default newest top.

So I would like to have button ""folders"", as it is in default android app.
I have not found such possibility in settings.

K9mail is necessary for users with lot of folders,
so more users could appreciate that button, I think.

Thanks.
"
k9mail/k-9,closed,Include sent emails to message chain ,[],"There's a possibility to group messages into message chains and display them as a single entry in a list. When user taps on message chain input messages from selected group are shown. It would be more comfortable if sent messages were displayed too, allowing user to look over the whole conversation. Such behavior is already implemented in TypeApp - another Android mail client. 
### Expected behavior

After tap to message chain all emails with selected subject are displayed independent of folder they are placed to. 
### Actual behavior

After tap to message chain only inbox emails with selected subject are displayed. 
### Steps to reproduce
1. Go to inbox 
2. Tap to any message chain 
3. Look for sent emails 
### Environment

K-9 Mail version:
5.010
Android version:
5.1
Account type (IMAP, POP3, WebDAV/Exchange):
Imap
"
k9mail/k-9,closed,New icon.,[],"I don't like current icon design, cause it does not fit to android design, also dog with letter instead eyes breaks my mind. I believe, that dog should bring you fresh mail in it's jaws.
So, I make new cute icon, I hope, it's near Google's material design conception. And it contains one 
complaisant young canine, of course!
If you refuse to change app icon, may be you'll just add an option to choose design. I believe, many users agree with me about current icons design.
P. S.: thanks for great libre application!
![canine](https://github.com/bergentroll/k-9/blob/material_canine/images/new_feature_graphic.png?raw=true)
![canine](https://github.com/bergentroll/k-9/blob/material_canine/images/K-9_material_512x512.png?raw=true)
"
k9mail/k-9,closed,JavaDoc fix in LocalSearch,[],"Minor JavaDoc fix to get rid of a warning.
"
k9mail/k-9,closed,can not sign or encrypt pgp emails with openkeychains anymore,[],"### Expected behavior

sign or encrypt and outgoing email
### Actual behavior

says ""no keys configured for signing, please check your settings""
i have not changed anything in openkeychains, or my keys!
this version of k9 is totally broken
### Steps to reproduce
1. try to send email, to address with key on file
### Environment

K-9 Mail version: 5.113 f-driod

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Unable to send emails,[],"### Expected behavior

send email
### Actual behavior

i send emails, it should the spinning icon. jetzt nothing is sent, not indication of error is shown.
nothing to see in logcat
### Steps to reproduce
1. send email
### Environment

K-9 Mail version: 5.113 f-driod

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,hide recipient dots if no crypto provider is configured,[],"What it says on the tin.

Also got rid of two noinspection comments in the immediate vicinity of the touched code, using `Compat` classes instead. (tested on api levels 15 and 23)
"
k9mail/k-9,closed,fix NPE in MessageProvider,[],"fixes #1699
"
k9mail/k-9,closed,compose: hide indeterminate progress bar after onCreate (fix for api level 15),[],
k9mail/k-9,closed,avoid indirect call to invalidateOptionsMenu() before recipientPresenter is initialized,[],"Older API levels call `onPrepareOptionsMenu` directly if `invalidateOptionsMenu` is called inside `onCreate`. The constructor of `RecipientPresenter` indirectly does this,  which causes a NPE because recipientPresenter is referenced in `prepareOptionsMenu` but not actually assigned at that point.

```
FATAL EXCEPTION: main
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.fsck.k9.debug/com.fsck.k9.activity.MessageCompose}: java.lang.NullPointerException
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
at android.app.ActivityThread.access$600(ActivityThread.java:130)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4745)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.NullPointerException
at com.fsck.k9.activity.MessageCompose.onPrepareOptionsMenu(MessageCompose.java:1023)
at android.app.Activity.onPreparePanel(Activity.java:2494)
at com.android.internal.policy.impl.PhoneWindow.preparePanel(PhoneWindow.java:421)
at com.android.internal.policy.impl.PhoneWindow.invalidatePanelMenu(PhoneWindow.java:747)
at android.app.Activity.invalidateOptionsMenu(Activity.java:2595)
at com.fsck.k9.activity.compose.RecipientMvpView.showPgpInlineModeIndicator(RecipientMvpView.java:287)
at com.fsck.k9.activity.compose.RecipientPresenter.updateCryptoStatus(RecipientPresenter.java:350)
at com.fsck.k9.activity.compose.RecipientPresenter.<init>(RecipientPresenter.java:92)
at com.fsck.k9.activity.MessageCompose.onCreate(MessageCompose.java:361)
at android.app.Activity.performCreate(Activity.java:5008)
at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
```
"
k9mail/k-9,closed,IMAP IDLE - Closing connection after 30 seconds,"[Label(name=""invalid"")]","### Expected behavior

Expecting to correctly setup a connection for IMAP PUSH/IDLE to work.
### Actual behavior

In the logs I can see an exception is thrown while idling, resulting in the pusher being disabled because of too many errors. I have attached the log file (adb logcat -v time k9:V '*:S' AndroidRuntime:E).
[k9-log2.txt](https://github.com/k9mail/k-9/files/521455/k9-log2.txt)
### Steps to reproduce
1. Setup IMAP account, with polling disabled.
2. Boot phone
3. Watch the logs...
4. Maybe, have my email provider
### Environment

K-9 Mail version: Had it in 5.113, reinstalled 5.010 which also has the problem

Android version: CM 13 nightly bacon

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Doze: inactive timeout = 24h, k-9 mail is in battery optimization ignore
### Question

Could this be the result of a bug in K-9 mail or is this my provider not handling IMAP IDLE connections correctly?

Thank you very much for looking into this.
"
k9mail/k-9,closed,Android 6.0 later Synchronize fail,[],"Android 6.0 later ,background could be kill, so that do not Synchronize email .

Could you use jobscheduler instead service
"
k9mail/k-9,closed,NPE in k9 and empty list when querying messages from 3rd party application (Gadgetbridge),"[Label(name=""bug"")]","### Expected behavior

We should get a list of messages
### Actual behavior

We get an empty list and k9 logs a NPE
`
                                                java.lang.NullPointerException: Attempt to invoke virtual method 'com.fsck.k9.Account com.fsck.k9.mailstore.LocalMessage.getAccount()' on a null object reference
                                                    at com.fsck.k9.provider.MessageProvider$MesssageInfoHolderRetrieverListener.listLocalMessagesAddMessages(MessageProvider.java:939)
                                                    at com.fsck.k9.controller.MessagingController$6.messageFinished(MessagingController.java:534)
                                                    at com.fsck.k9.controller.MessagingController$6.messageFinished(MessagingController.java:520)
                                                    at com.fsck.k9.mailstore.LocalStore$13.doDbWork(LocalStore.java:610)
                                                    at com.fsck.k9.mailstore.LocalStore$13.doDbWork(LocalStore.java:596)
                                                    at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
                                                    at com.fsck.k9.mailstore.LocalStore.getMessages(LocalStore.java:596)
                                                    at com.fsck.k9.mailstore.LocalStore.searchForMessages(LocalStore.java:583)
                                                    at com.fsck.k9.controller.MessagingController.searchLocalMessagesSynchronous(MessagingController.java:548)
                                                    at com.fsck.k9.controller.MessagingController$5.run(MessagingController.java:500)
                                                    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
                                                    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
                                                    at java.lang.Thread.run(Thread.java:818)
`
### Steps to reproduce

`
try (Cursor c = context.getContentResolver().query(Uri.parse(""content://com.fsck.k9.messageprovider/inbox_messages"", messagesProjection, null, null, null)) {

// c.getCount() will be 0

}  
`
### Environment

K-9 Mail version: 5.113

Android version: CM13 (6.0.1)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,XOAUTH2 implementation for Yahoo accounts,"[Label(name=""enhancement""), Label(name=""needs info""), Label(name=""security"")]","### Expected behavior

Yahoo accounts should be able to sign in, without enabling less secure apps.

NB: For POP3 XOAUTH2 isn't available on Yahoo. POP3 is deprecated anyway. We should probably also tell Yahoo users (notification) to migrate from POP3. 
### Actual behavior

Denied.
### Steps to reproduce
1. Configure a Yahoo account on IMAP
2. Try to login
### Environment

K-9 Mail version: master

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
### Developer notes

The work to implement some of the XOAUTH2 code is done in #1295 

However the assumption was made that it would be Google accounts. So much of token refresh code works out of the box. This isn't true for Yahoo accounts. So some work needs to be done in terms of:
1. Writing an XOAUTH2 token refresh tool for Yahoo accounts
2. Making sure we use the right method for each one

I suspect we'll have a hardcoded URL in the app somewhere for Yahoo's endpoint. But I'm speculating until I get my hands dirty again
"
k9mail/k-9,closed,Updating database forever,"[Label(name=""bug""), Label(name=""duplicate""), Label(name=""performance"")]","I updated K-9 to 5.113 and now it is busy updating some database, and has been for the last two hours.

It is draining battery faster than I can recharge and has by now filled up 6 GiB of storage.
"
k9mail/k-9,closed,Old changes,[],
k9mail/k-9,closed,Save state for back stack id in MessageList,[],"One way to trigger this bug:
- Create an ""unread widget"" to an account with atleast one mail thread
- Start K-9 and open a threaded view of mails
- Rotate the phone back and forth (to trigger ""onCreate()"")
- Press the android ""Home"" button
- Press on the K-9 widget
- Press ""Back""
  Voila! Two MessageListFragments are shown at the same time

Yes, I've encountered this bug numerous time. It's present in both the stable version and HEAD.
"
k9mail/k-9,closed,"K9-Mail invokes too many connection when it is set to display ""All Folders""",[],"### Expected behavior

I should be able to see all folders and also use other e-mail clients to access my account.
### Actual behavior

When I use the ""Show all folders"" action, I am being banned by my e-mail server due to ""too many connections"".
### Steps to reproduce

(I am writing this in a generalized way and I am putting specific circumstances in soft brackets.
1. Access/Configure to an IMAP server (Microsoft Server (OWA) at workplace) with K9-Mail.
2. Access/Configure to the same account with Thunderbird.
3. Create some folders under main INBOX in Thunderbird.
4. Change K9 settings to show ""All Folders"" instead of only 1st or 2nd class folders.
5. Try to access e-mails via Thunderbird again and fail due to ""wrong password"".
### Environment

K-9 Mail version: 5.010

Android version: 5.1.1 CyanogenMod 12.1/LG G3 D855

Account type (IMAP, POP3, WebDAV/Exchange): IMAP on Exchange Server.
### Additional Info

The Thunderbird error turns out to be insufficient. The error message ""wrong password"" is not true. Nothing has changed with my password. The problem turns out to be the maximum allowed connections! And the problem always starts with ""Show all folders"" in K9-Mail. By allowing more connections on the server side resolves the issue temporarily/shortly.

I guess, K9-Mail invokes too many connections, presumably one for each folder, without closing these. On a mail server where this number of connections exceeds, other clients cannot access anymore. Same password, which used be working and still is working with K9-Mail and Webmail, stops working for other clients (Thunderbird in this case). But the problem isn't Thunderbird or the password.

I think solution would be to tightly limit outgoing IMAP connections by default. I didn't find any option to this in the settings.
"
k9mail/k-9,closed,Show message when folder is empty,"[Label(name=""needs work"")]","A fixed up version of #1647.
"
k9mail/k-9,closed,Handle download of attachment correctly when saving requested,[],"Call correct method following download of attachment.

Fixed #1629

I tried to write tests for this, but the AsyncTask that gets called made it overly complex to isolate just the change I made.
"
k9mail/k-9,closed,Improve Activity operation text,[],"First commit:
- Set account name when syncing headers
- Use headerFolderName to create `displayName` to show in the text when relevant
- Refactor the generation of the text into smaller chunks
- Add tests that check the correct English activity string is used

Second commit:
- Change %s to %d for some integers being passed in for `folder_progress` - fixes an error showing up in Android Studio.
"
k9mail/k-9,open,5.113 -> strange empty row in inbox,"[Label(name=""bug"")]","### Actual behavior

using dark theme:
when opening the inbox, and there are no emails in the inbox.
then there is an empty horizontal line.
when you pull down, suddenly it says ""loading messages ..."" in the empty row.
when loading is finished, the row is strange emtpy again
### Steps to reproduce

use dark theme
goto inbox with no emails in inbox
### Environment

K-9 Mail version: 5.113 f-driod

Android version: 6
"
k9mail/k-9,closed,convert LF newlines to CRLF before converting to quoted-printable for clearsigned messages,[],"what it says on the tin. fixes #1609
"
k9mail/k-9,closed,limit number of times the pgp inline info dialog is displayed (closes #1595),[],"what it says on the tin. to two.
"
k9mail/k-9,closed,don't cache decoded message over configurations,[],"Since 773600c717f8bf79810b1a3ddd03e3c153a68fcb, the message decoding process might actually depend on theming parameters.  The MessageList activity assumes that the theme will be reapplied during a call to `recreate()`, so we better drop that cache on configuration changes.

This should fix #1666
"
k9mail/k-9,closed,"when moving temporary files, try to copy if rename fails, and throw if that fails too",[],"Fix for #1243, which was way too failslow before. This tries to copy+delete if the rename fails, which should also work over mount boundaries. If this throws, the exception is bubbled up and the whole insertion process fails.

This _may_ be the right thing to do, assuming that write errors are caused by persistent problems (e.g. disk full). I'm not sure if we have exceptions of this kind where we should just skip that file? Not sure.

I based part of this functionality on existing FileHelper methods, and consciously left the exception behavior there untouched.
"
k9mail/k-9,closed,"""Fetching headers null:null 3/3""","[Label(name=""bug"")]","Obviously it shouldn't be null. Also it seems to be stuck like that.
"
k9mail/k-9,closed,k-9 v5.112 from f-droid -> no more dark theme,[],"### Expected behavior

after upgrade theme should stay dark
### Actual behavior

after upgrade suddenly theme is light. even when going to settings and switching to dark and light again. theme stays light
### Environment

K-9 Mail version: k-9 v5.112 from f-droid

Android version: 6
"
k9mail/k-9,closed,K-9 Mail should allow sending encrypted but unsigned e-mail,"[Label(name=""security"")]","Currently, the cryptography levels are:
- never sign or encrypt
- always sign, never encrypt
- always sign, encrypt if possible
- always sign, always encrypt

It's not possible to send and encrypted but unsigned e-mail.
"
k9mail/k-9,closed,Trah Can Problem on k9-5.113,"[Label(name=""duplicate"")]","### Expected behavior

When opening an email the trashcan icon is supposed to show up, too.
### Actual behavior

Several attempts are necessary to detect the trash symbol, and so delete the email.
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version: 513

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): pop
"
k9mail/k-9,closed,5.112 breaks theming,[],"### Expected behavior

Application theme should follow settings
### Actual behavior

Application theme is always ""light""
### Steps to reproduce

Update to 5.112 with dark theme enabled previously, or change to dark theme.

Theme is set to dark, all other theme settings are set to ""use app setting.""
### Environment

K-9 Mail version: 5.112

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): N/A
"
k9mail/k-9,closed,Use a darker grey to highlight the Never Sign/Encrypt as active,[],"Fixed #1597 
"
k9mail/k-9,closed,Move update of crypto settings to submit button and add Cancel,[],"Fixed #1598 
"
k9mail/k-9,closed,Use the correct order for alternatives when building HTML messages,[],"Fixes #1625
"
k9mail/k-9,closed,"On removing notification, mark it's ID no longer in use",[],"Fixes #1662
"
k9mail/k-9,closed,Theme change on K9 5.112 not possible,"[Label(name=""duplicate"")]","### Expected behavior

on 512 a theme change is not possible
### Actual behavior

the theme stays light
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version: 512

Android version: 6.0

 pop
"
k9mail/k-9,closed,Feature request: Metro Port,[],"Any chance of getting a port to the windows metro framework seems like lots of apps now adays are going multi platform. I Love the simplicity of it and have been using it on my S5 for years. I would love to be able to run this on my recently refurbished tablet too cause even with the Windows 10 ""tablet optimizations"" The older hardware starts to smoke every time I try to use a bulky client like outlook or Thunderbird and frankly there aren't any good lightweight email apps for these devices
"
k9mail/k-9,closed,Theme change on K9 5.112 not possible,"[Label(name=""duplicate"")]","### Expected behavior

The View ""Dark/Light""
### Actual behavior

Doesn't work
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:
k9-5.112-release.apk
Android version:
6.0
Account type (IMAP, POP3, WebDAV/Exchange):
pop
"
k9mail/k-9,open,Passwords with Umlaut letters not working,"[Label(name=""bug"")]","### Expected behavior

Client authentication to IMAP (dovecot)/ SMTP (postfix) on new account setup.
### Actual behavior

Client fails to authenticate.
### Steps to reproduce
1. Setup mail account with Umlaut (ä,ö,ü) in password
2. Try to test the server connection
### Environment

K-9 Mail version: 5.111

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

I know this is ugly, but some people actually seem to use Umlaut letters in passwords...
Webmail frontends such as roundcube don't suffer from the issue, but luckily let the account owner reset their password to something more sane (after which the authentication works).
Nonetheless, this might happen.
"
k9mail/k-9,closed,"Update build tools, Gradle version + wrapper, Android plugin",[],
k9mail/k-9,open,Bars disappear,"[Label(name=""bug"")]","### Expected behavior

When I open a mail the action bar, the 'header', the navigation bar at the bottom of the screen and the mail content should be loaded.
### Actual behavior

The header and the content loads but the action bar and the navigation bar are buggy. They disappear and instead, there is some part of the mail content shown. (see picture).
The Buttons are klickable but invisible.
This behavior doesn't appear in every mail I open, but after opening 5-7 mail I got every time one thats buggy. It seems to be independently from the mail content, if I re-open a buggy mail the behavior isn't the same.
Some times it happens instantly after opening the mail, some times after scrolling.
Some times only the action bar disappears.
[Here's the debug log.](http://pastebin.com/PZ0Yfiu1) In my view there is nothing helpful documented. What you can see is, that I try to open some mails, and that's it, actually.
The screenshot is taken from the german version of the ""New twitter ToS"" mail.
### Steps to reproduce
1. Open some mails
2. scroll through them and wait for it.
### Environment

K-9 Mail version: 5.111 (screens from 5.111, logs from 5.112, but behavior exactly the same)

Android version: 7.0 on Nexus 5X

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

![k9 screen](https://cloud.githubusercontent.com/assets/12646813/19125703/5e2e3984-8b38-11e6-976d-e175df2886e7.jpg)
"
k9mail/k-9,closed,Changelogs contain links to Google Code,[],"Links at
https://github.com/k9mail/k-9/wiki/ReleaseNotes
For example:
https://k9mail.github.io/k-9/changelog_master_branch.xml
Contain the link to:
https://code.google.com/p/k9mail/

I suppose this should be changed with
https://k9mail.github.io/k-9/
or
https://github.com/k9mail/k-9
"
k9mail/k-9,closed,K9 Mail Dark Theme ,"[Label(name=""duplicate"")]","### Expected behavior

After setting theme to ""Dark"", I'm expected to see dark theme.
### Actual behavior

Even though theme set to ""Dark"", I'm seeing light theme.
### Steps to reproduce
1. K-9 Mail 5.112 @ Android 7.0 (PL:10/5/16), Nexus 6p
2. Settings -> GLOBAL -> Display - Theme = switch to Dark theme
   3.
### Environment

K-9 Mail version: 5.112

Android version: 7.0 (PL:10/5/16)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Fix dark theme,[],"Fixes #1666
"
k9mail/k-9,open,account sync frequency ignored ,"[Label(name=""bug"")]","### Expected behavior

Several imap accounts defined. Some if them fetch frequency of every 5 minutes. Some of them, e.g. spam ""catch all"" addresses, set to ""fetch every 12 hours"". Expected is to ""respect"" the set frequency.
### Actual behavior

All accounts are refreshed based on the settings if the account with the highest frequency. Every 5 minutes in my case instead if of every 12 hours.
### Steps to reproduce
1. Create at least 2 accounts
2. Refresh frequency set different for both accounts
3. Resulting refresh rate is the higher one.
### Environment

K-9 Mail version: 5.010 F-Droid Version

Android version: 4.4.2 KitKat

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (dovecot)
"
k9mail/k-9,closed,Switching from dark to light theme (or vise versa) inside message doesn't work,"[Label(name=""bug"")]","### Expected behavior

When `fixed message theme` option is disabled, switching the theme when viewing a message should switch the theme immediately.
### Actual behavior

After switching the theme inside the message, the message view reloads but the theme stays the same. I need to leave the message and open it again to get the other theme.
### Steps to reproduce
1. Disable `fixed message theme` option
2. Open message and switch to dark / light theme
### Environment

K-9 Mail version: v5.111 + v5.112 (iirc, before v5.111 I didn't have this problem)
Android version: 6.0.1
Account type : IMAP
"
k9mail/k-9,closed,No dark app / editor theme in v5.112,"[Label(name=""bug""), Label(name=""duplicate"")]","### Expected behavior

App keeps dark theme / black background after upgrading to v5.112
### Actual behavior

After upgrading to v5.112, the app theme is always light.
### Steps to reproduce
1. Upgrade to / install v5.112
2. Try setting the dark app theme

I tried setting the theme to light, restarting the app, setting it back to dark and restarting it again. Doesn't help.

Same problem with editor theme.
### Environment

K-9 Mail version: v5.112
Android version: 6.0.1
Account type: IMAP
"
k9mail/k-9,open,Notifications removed,"[Label(name=""enhancement"")]","### Expected behavior

If there are multiple notifications for mails, the user expands the multiline 'compressed' notification and clicks on one of the mails, this mail should be opened in K-9 and should be removed from the notifications. The other mails should stay in the notifications.
### Actual behavior

If I open one mail from the notification bar, K-9 opens this mail but all mails are removed from the notifications.
### Steps to reproduce
1. Get multiple new mails (=notifications)
2. Expand the summarized notification to get all mails
3. Klick on one mail
### Environment

K-9 Mail version: 5.111

Android version: 7.0 (Nexus 5X)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,All of the preview is same,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior

with different mail and the preview should not same.
### Actual behavior

all of previews is same,but actually they are different.
### Steps to reproduce
1. 
   2.
   3.
### Environment

K-9 Mail version:?

Android version:6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,AssertionError: getNewNotificationId() called with no free notification ID,"[Label(name=""bug"")]","Crash reported via Google Play.

App version: 5.111
Android versions: 6.0, 5.1

```
java.lang.AssertionError: getNewNotificationId() called with no free notification ID
    at com.fsck.k9.notification.NotificationData.getNewNotificationId(NotificationData.java:77)
    at com.fsck.k9.notification.NotificationData.addNotificationContent(NotificationData.java:46)
    at com.fsck.k9.notification.NewMailNotifications.addNewMailNotification(NewMailNotifications.java:56)
    at com.fsck.k9.notification.NotificationController.addNewMailNotification(NotificationController.java:105)
    at com.fsck.k9.controller.MessagingController$12.messageFinished(MessagingController.java:1435)
    at com.fsck.k9.mail.store.pop3.Pop3Store$Pop3Folder.fetch(Pop3Store.java:836)
    at com.fsck.k9.controller.MessagingController.downloadSmallMessages(MessagingController.java:1393)
    at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1196)
    at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:953)
    at com.fsck.k9.controller.MessagingController$9.run(MessagingController.java:739)
    at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
    at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
    at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
    at java.lang.Thread.run(Thread.java:818)
```

```
java.lang.AssertionError: getNewNotificationId() called with no free notification ID
    at com.fsck.k9.notification.NotificationData.getNewNotificationId(NotificationData.java:77)
    at com.fsck.k9.notification.NotificationData.addNotificationContent(NotificationData.java:46)
    at com.fsck.k9.notification.NewMailNotifications.addNewMailNotification(NewMailNotifications.java:56)
    at com.fsck.k9.notification.NotificationController.addNewMailNotification(NotificationController.java:105)
    at com.fsck.k9.controller.MessagingController$12.messageFinished(MessagingController.java:1435)
    at com.fsck.k9.mail.store.imap.ImapFolder.fetch(ImapFolder.java:770)
    at com.fsck.k9.controller.MessagingController.downloadSmallMessages(MessagingController.java:1393)
    at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1196)
    at com.fsck.k9.controller.MessagingController.access$3200(MessagingController.java:115)
    at com.fsck.k9.controller.MessagingController$40.run(MessagingController.java:4440)
    at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
    at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
    at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
    at java.lang.Thread.run(Thread.java:818)
```

```
java.lang.AssertionError: getNewNotificationId() called with no free notification ID
    at com.fsck.k9.notification.NotificationData.getNewNotificationId(NotificationData.java:77)
    at com.fsck.k9.notification.NotificationData.addNotificationContent(NotificationData.java:46)
    at com.fsck.k9.notification.NewMailNotifications.addNewMailNotification(NewMailNotifications.java:56)
    at com.fsck.k9.notification.NotificationController.addNewMailNotification(NotificationController.java:105)
    at com.fsck.k9.controller.MessagingController.downloadLargeMessages(MessagingController.java:1571)
    at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1203)
    at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:953)
    at com.fsck.k9.controller.MessagingController$9.run(MessagingController.java:739)
    at com.fsck.k9.controller.MessagingController.runInBackground(MessagingController.java:204)
    at com.fsck.k9.controller.MessagingController.access$000(MessagingController.java:115)
    at com.fsck.k9.controller.MessagingController$1.run(MessagingController.java:173)
    at java.lang.Thread.run(Thread.java:818)
```
"
k9mail/k-9,closed,"better functionality for iCalendar invites - preview of the invite, automatic parsing and filtering","[Label(name=""duplicate""), Label(name=""enhancement"")]","### Expected behavior

With business email a key functionality is handling calendar invites you get from various organizations/people. Usually they come in form of mail attachments with .ics extension.

So in effect this is tightly coupled to email and it deserves dedicated handling.

Desired features:
- filter inbox by emails containing attachment with *.ics name (sometimes there is more than one attachments in one email, but if at least one of them is calendar invite that we want to highlight this email)
- preview of the invite displaying the basic details of the invite
- automatic parsing - auto-add to built-in calendar, or at least suggest auto-adding with one click confirmation
### Actual behavior

Right now you have to manually open the attachments with *.ICS extension with default MIME handler which is build-in calendar app.
This is time consuming and it easy to miss the invite.
Another downside is that such manual opening of the attachment automatically adds the meeting to calendar which is problematic when you want to reject it or it is added at some distant date making it difficult to locate/identify.
### Steps to reproduce

send to yourself calendar invites from:
- Android calendar
- iPhone/Apple calendar
- Microsoft Exchange calendar
### Environment

K-9 Mail version: 5.1

Android version:
5

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP and POP3
"
k9mail/k-9,closed,Notifications raised incorrectly with multiple accounts,"[Label(name=""bug"")]","If you have multiple accounts for K-9 and you get new email in them you should get one notification per account. 

What actually happens is that new emails are listed under the wrong notification. 

For example if I have account A and account B. 
1. I get an email from A
2. A notification is created for A. This is correct. 
3. I get an email from B.
4. A new notification is created for B. This is also correct. 
5. The notification for A is updated with the email from B turning it into a multi-line notification. This is incorrect.

Seen on: 

K-9: master branch

Android: Nougat (7.0)

Nexus 6P
"
k9mail/k-9,closed,Email messages are truncated after a few lines,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior

Depending on size complete email message should be shown.
### Actual behavior

Currently (behavior changed!) some ""type"" of messages are ""truncated"" after some lines. Android AOSP email client shows correctly. Mozilla Thunderbird also.
### Steps to reproduce
1. Received a email generated by LOGWATCH, Type TEXT or HTML, error happens both.
2. Message Body ""ends"" after some lines. Incomplete
### Environment

K-9 Mail version: 5.010
Android version: KitKat 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (dovecot)
"
k9mail/k-9,closed,Cannot configure an email account,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior

I should be able to enter my username+password and access my emails
### Actual behavior

K9 was installed and working fine. I just ""emptied"" the application's data to save some space.
Now, K9 starts as if it were freshly installed and asks agains for account configuration. Entering username and password results in application crash.
Even when cleaning data again, removing totally the app and reinstalling it, it still crashes.
Entering a false username/password tuple results in a message ""cannot contact server"" with a dialog showing options ""continue/modify configuration"". Both options results in app crash...
### Steps to reproduce
1. clear app data from the android OS menus
2. try to configure an email account
### Environment

K-9 Mail version: latest from PlayStore as of today (2016/10/03)

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
GMail
"
k9mail/k-9,closed,New Feature request: command line to execute before stablishing connections towards the e-mail server,"[Label(name=""enhancement"")]","Hello,
### Expected behavior

For me it would be very useful the application to have the possibility to store, for every account, an optional field (command line to execute before stablishing the connection towards the email server).

This field would contain a command line which would be executed before trying to connect to the email server.

In my case, this would be useful, because I am planning to use fwknop in the linux server where I will have the email server.

The fwknop functionality gives you the possibility to close all ports of your server until the server receives an appropiate combination of tcp messages. In such a case, the fwknop server would create firewall rules to open the port requested for a few seconds.

In these few seconds, the client can connect to the server because the ports are open.

fwknop2 is an application available in Android as open source code.

I suppose this fwknop2 application could be modified to have the possibility of being invoked to send the fwknop messages from the command line, and then, using the new feature just requested for k-9, open the ports before attemting to connect to the email server.
### Actual behavior

```
---------
```
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:           For new versions

Android version:            For all versions

Account type (IMAP, POP3, WebDAV/Exchange):           For all account types

P.D.
I suppose you are very busy with other implementations.
In this case, I could offer my services to try to program this request.
Although I am not very familiar with Android, I have quite experience programming with Java and I think I could succeed with this development.

Please, let me know what do you think about it.

Kind regards,
Fran.        ( frojasg1@hotmail.com )

EDIT: Post formatting changes only (@philipwhiuk)
"
k9mail/k-9,open,Server search slow/unresponsive,"[Label(name=""performance"")]","Searching the server is very slow in my mailbox. Usually, when I search on the server, I get results, but trying to open one is too much and renders K-9 unresponsive.

The mailbox is 200000 messages large, but that should not bother K-9 because server search only lists matching messages. Even a single result triggers the issue.

Other IMAP clients do fine with searching this mailbox.
"
k9mail/k-9,closed,"For OpenPGP encryption, email address must be in Android's contacts","[Label(name=""bug""), Label(name=""security"")]","### Steps to reproduce
1. Create a new mail to some address you have a public key for.
2. Select ""Always encrypt and sign"" in the encryption menu.
3. Click ""Send""
### Expected behavior

Encrypts and sends the mail
### Actual behavior

Says there is not public key for the receiver.
Although there's a public key and everything just works and encrypts if set to ""Encrypt if possible"".

Remember: The choice ""Always encrypt and sign"" is important if you want to be sure to encrypt!
### Environment

K-9 Mail version: 5.111

Android version: 6.0 (Cyanogenmod 13)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,IMAP: Tests for fetchPart and other uncovered areas of code,[],
k9mail/k-9,open,K-9 fails to parse From header and thus sync fails,"[Label(name=""bug"")]","### Expected behavior

All messages in INBOX should be shown in K9-Mail
### Actual behavior

Some mesages are mit shown/hidden. When K9-mail syncs, it says CORRECTLY ""n of m"" messages. But if you e.g. ""Select all"" messages in Inbox, only m-x messages are selected. 
FYI the messages for sure exists. Android AOSP email client shows them, also Mozilla Thunderbird, also Roundcubemal webmail client. 
It's my private mail server, with dovecot.

Error persists even after drop and recreation if the complete account. Always the same msgs missing.
### Steps to reproduce
1. Sync IMAP account.
2. Keep an eye on # of synced msgs
3. Check # of ""select all"" selected msgs
### Environment

K-9 Mail version: 5.010

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP, dovecot running on mail server. Startssl secured.
"
k9mail/k-9,closed,Close SMTP connections properly.,"[Label(name=""architecture""), Label(name=""performance"")]","### Expected behavior

SMTP connections should be properly closed when they are created in an unusable state.
### Actual behavior

I found an issue during SMTP testing. When opening a connection, if authentication fails for some reason, we don't close the connection during clean-up. 

I think this is unlikely to cause an issue, but it's possible that when setting up and testing a connection we'll be creating lots of sockets and not closing them.

I have a potential fix (and set of tests for this).
### Steps to reproduce
1. Run an SMTP server that doesn't support the requested AUTH method.
2. Get K-9 to connect to it.
3. K-9 will send EHLO, get back lack of capability and not close the connection.

See #1649 for a test environment
### Environment

K-9 Mail version: master

Android version: N/A

Account type (IMAP, POP3, WebDAV/Exchange): SMTP
"
k9mail/k-9,open,Server search only works sometimes when using Gmail,"[Label(name=""bug""), Label(name=""needs info"")]","The feature is now working.
"
k9mail/k-9,closed,intermittent problems on Wi-Fi,[],"Occasionally K-9 will not send out mail while connected to wi-fi. I have to disconnect from wi-fi and send over cell data, then turn wi-fi on again. 
I cannot predict when it will happen and it occurs on any wi-fi network. 

Any idea?
 Thanks
"
k9mail/k-9,closed,SMTP: Testing SmtpTransport using new MockSmtpServer,[],"I've written a new MockSmtpServer which works very similarly to the MockImapServer. I've used this to write conformance tests for the existing methods of authentication.

This should help to test any new SMTP functionality (such as the new authentication methods like XOAUTH2) as well as providing a platform to write regression tests for any issues we find.

I pulled the existing helpers from the ImapConnectIonTest to new classes to enable me to re-use them. I also moved the URI decoding stuff to a new class to better reflecting the testing it does (again, parity with IMAP). 
"
k9mail/k-9,open,Feature Request: Per-identity BCC field,"[Label(name=""enhancement"")]","On my work account, I'm using different identities depending on either I send e-mails or respond on behalf of my team or on my own. In both cases I use different BCC addresses, either to send the response to the team's mail alias, or to ensure that the message is signed with my own GPG key so that I could read it in the future.

At the moment K-9 allows only to specify a global BCC address, but not per-identity BCC address (CC is supported). This forces me to either not sent the e-mails from the phone at all, or to write the BCC address manually each time so that I sent it to the correct mailbox. If the BCC field could be set per-identity, that would make this process easier to use.
"
k9mail/k-9,closed,Add Message : no email in this folder when no message in the folder,[],"-When no message is in a folder the view is empty. Show a message ""No email in a folder"".
"
k9mail/k-9,closed,New Feature : Mail service with attachment upload limit,[],"### Expected behavior

Add a mail attachment limit if the server has this limit
### Actual behavior

K9 accept the attachment and upload it.
### Steps to reproduce
1. Add an attachment that excess the limit of size provided by the server
### Environment

K-9 Mail version: 5.111

Android version: All

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Key detection is case sensitive,"[Label(name=""enhancement"")]","I'm not sure if this is a K-9 bug or Openkeychain, but I have a contact who, for some weird reason, has a couple of capital letters on his pgp email id. So when I pick him as recipient K-9 fails to detect the correct key.
"
k9mail/k-9,closed,attached images cannot be displayed (but can be saved),"[Label(name=""bug"")]","### Expected behavior

After receiving a message with an attached image, I see a line for the attached part (jpg) with two buttons: ""Open"" and ""Save"".   Whether or not the image has been downloaded, I expect that pushing ""Open"" leads to seeing the picture full screen.
### Actual behavior

I see a black screen with ""No thumbnail"" in really really small white type in the middle.  The menu shows ""Set picture as"" and ""Print"".

After doing this, or maybe just after downloading, I see a preview in the message.  I have done ""save"" and verified that I can then use gallery to see the image from the sd card.
### Steps to reproduce
1. Set up openkeychain and generate a key
2. get frustrated with clicking on approve for messages signed  by weak keys (but not unsigned messages) and set provider to none  (I have no idea if 1/2 are necessary; still fails with it turned back on)
3. Get an email with an attached image in INBOX.   So far  any sending MUA works, and in all cases other clients view the image fine.
4. Click ""open""
### Environment

K-9 Mail version: 5.111 (git master 5.111-15-gf388fe4
 f388fe41b8992d8f80548e6c8124189895ae81f5)

Android version: CM 13

Account type (IMAP, POP3, WebDAV/Exchange):  IMAP
### adb logcat

```
09-27 19:16:55.377 6264-7884/com.fsck.k9.debug E/OpenPgp API: IOException when writing to out
    java.io.IOException: write failed: EPIPE (Broken pipe)
    at libcore.io.IoBridge.write(IoBridge.java:498)
    at java.io.FileOutputStream.write(FileOutputStream.java:186)
    at org.openintents.openpgp.util.ParcelFileDescriptorUtil$TransferThread.run(ParcelFileDescriptorUtil.java:78)
    Caused by: android.system.ErrnoException: write failed: EPIPE (Broken pipe)
    at libcore.io.Posix.writeBytes(Native Method)
    at libcore.io.Posix.write(Posix.java:271)
    at libcore.io.BlockGuardOs.write(BlockGuardOs.java:313)
    at libcore.io.IoBridge.write(IoBridge.java:493)
    at java.io.FileOutputStream.write(FileOutputStream.java:186)
    at org.openintents.openpgp.util.ParcelFileDescriptorUtil$TransferThread.run(ParcelFileDescriptorUtil.java:78)
p
```
"
k9mail/k-9,closed,Microsoft Exchange support,"[Label(name=""duplicate""), Label(name=""enhancement"")]","### Expected behavior

K9 mail is the best email apps i've ever tried but it doesnt support Exchange version >10 which is my main email account. 
it would be my deepest appreciation if any developer can help on this. 
Thank you very much in advance.
### Actual behavior

Tell us what happens instead
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,IMAP messages retrieved out-of-order,"[Label(name=""needs work"")]","I used another IMAP client (Thunderbird, fwiw) to copy messages into my inbox from another account. To the extent I can verify, none of the date/time metadata changed on those messages but K-9 Mail retrieved these old copied messages as if they were the newest messages. 

Before I copied those messages, my K-9 Mail inbox was correctly populated with at least several dozen recent emails. After the copy, it only contained old copied messages and messages which arrived after I performed the copy. Hitting <kbd>Load up to 25 more</kbd> loaded 25 more _old_ messages, not the 25 most recent inbox messages. 

I tried using 'Clear local messages' on the Inbox folder but the old-message-first behavior remained.

The only solution I found was to keep loading messages until all the old copied ones were present in my K-9 Mail inbox. That's obviously a poor solution since it means I have to haul around hundreds of old emails.
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type: Exchange via IMAP
"
k9mail/k-9,closed,About page still links to Google Code,[],"The About page still links to the old Google Code page, should link to github.
"
k9mail/k-9,closed,Bug TokenSpan unrecognised Android OS <=4.3,[],"Android OS 4.3 and under is unable to reload TokenSpace default class.
"
k9mail/k-9,open,Show pictures button must not be shown when images are already shown,"[Label(name=""enhancement"")]","### Expected behavior

Show pictures button must not be shown when images are already shown in an email
### Actual behavior

The button appears even if the images are already shown
### Steps to reproduce
1. Hide the button when the images are already shown
"
k9mail/k-9,closed,Bug in OS <=4.3 in class RecipientSelectView onTouchEvent,[],"The class TokenImageSpan is unkwon to the systems 4.3 and under.
I fixed the bug changin the function onTouchEvent replacing the line : 
TokenImageSpan[] links = text.getSpans(offset, offset, RecipientTokenSpan.class);
with : 
RecipientTokenSpan[] links = text.getSpans(offset, offset,RecipientTokenSpan.class);
"
k9mail/k-9,closed,"Email adress separator on compose new messages only ',' and ';'",[],"I need to add space as a separator so i change the class RecipientSelectView 
I change the method initView add this line : 

this.setSplitChar(new char[]{',',';',' '});

You can generalize the solution. 
"
k9mail/k-9,closed,The notification buttons don't fit on the screen,[],"### Expected behavior

The whole label are visible or no labels are displayed at all
### Actual behavior

The labels are trimmed: `De...` instead of `Delete`, `Ma...` instead of `Mark as read`, etc.
### Steps to reproduce
1. Enable delete for the notifications
2. Receive a message
### Environment

K-9 Mail version: 5.010
Android version: CM 13.0 (Marshmallow)
Account type: IMAP, gmail
Device: OnePlus 3, screen width: 1080px
"
k9mail/k-9,closed,feature request: switch read mail view from text to html and back,"[Label(name=""duplicate"")]","sometimes the html version of the mail is less good readable then the plaintext version. So it would be nice if you could add a feature to switch between this views. thanks
"
k9mail/k-9,open,Open attachment from compose view,"[Label(name=""enhancement"")]","hi,

when i am writing a mail and attaching a file to it which has not speaking name (like the number of a photo) i would like to check before sending if i have attached the right file to it. Therebye it would be very practical if you would add a feature which opens the file for review in the compose view (just like in Thunderbird)

thanks
"
k9mail/k-9,open,Quoting only selected text on reply/forward,"[Label(name=""enhancement"")]","Hi,

a very useful feature (mostly for mailinglists) would be if there is something selected in the message view when the reply/forward action is activated to get only the selected text quoted. Just like Icedove/Thunderbird dose it (have a look at it). Please implement this.

Thanks
"
k9mail/k-9,closed,K9 is crashing regularly on my tablet,[],"### Expected behavior

It should download new emails as it used to do.
### Actual behavior

It downloads from some of the accounts that are set up, but then puts up a message saying ""Unfortunately, K-9 Mail has stopped.""  It doesn't do it 100% of the time, but most of it.  Then it'll stop crashing for a short while and then start again.
### Steps to reproduce

1.Pull down emails to make it sync.
### Environment

K-9 Mail version: 5.010

Android version:6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): K-9 is configured with 6 POP3 mail accounts all on the same server.

It is my suspicion that I had received a badly crafted email on one of the accounts that gets a lot of SPAM.  This started the problem.  I would guess that it has now corrupted something in K-9 which is causing the ongoing problems.

I have sent a report of the crash several times, including a couple just now, one of which has debugging turned on.

Your advice would be most useful - unless it can be sorted fairly quickly, I will have to switch to a different email app which would be a shame after I've used K-9 for several years and recommended it to other people.
"
k9mail/k-9,closed,The mail has shown without content,"[Label(name=""duplicate"")]","### Expected behavior

Subject display as ""no subject"" and the details of body display as ""no text""
### Actual behavior

Actually this mail I have ever seen it
### Steps to reproduce

1.Open a mail
2.The title and body is all blank
3.Back to message list and find the mail is display as no subject
### Environment

K-9 Mail version:how to view?

Android version:HUAWEI TAG-AL00

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,No period insert after double space,"[Label(name=""invalid"")]","### Expected behavior

Tell us what should happen
At end of sentence double space should insert a period  
### Actual behavior

Tell us what happens instead
At end of sentence double space, no period
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version: 5.0.10 Galaxy Tab2

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Attempting to save an attachment causes K-9 to enter a download loop,"[Label(name=""bug"")]","### Expected behavior

Tell us what should happen
### Actual behavior

A modal for Downloading attachment comes on screen, the background activity darkens, then the dialog closes, the screen goes white, then the dialog reappears, etc:

Log trace:

```
09-23 00:55:51.979 24747-24765/com.fsck.k9.debug I/k9:  Command 'loadAttachment' completed
09-23 00:55:52.000 24747-24765/com.fsck.k9.debug I/k9: Running command 'loadAttachment', seq = 109(foregroundpriority)
09-23 00:55:52.184 24747-24765/com.fsck.k9.debug I/k9:  Command 'loadAttachment' completed
09-23 00:55:52.202 24747-24765/com.fsck.k9.debug I/k9: Running command 'loadAttachment', seq = 110(foregroundpriority)
09-23 00:55:53.193 24747-24765/com.fsck.k9.debug I/k9:  Command 'loadAttachment' completed
09-23 00:55:53.223 24747-24765/com.fsck.k9.debug I/k9: Running command 'loadAttachment', seq = 111(foregroundpriority)
09-23 00:55:55.195 24747-24765/com.fsck.k9.debug I/k9:  Command 'loadAttachment' completed
09-23 00:55:55.214 24747-24765/com.fsck.k9.debug I/k9: Running command 'loadAttachment', seq = 112(foregroundpriority)
09-23 00:55:55.653 24747-24765/com.fsck.k9.debug I/k9:  Command 'loadAttachment' completed
09-23 00:55:55.684 24747-24765/com.fsck.k9.debug I/k9: Running command 'loadAttachment', seq = 113(foregroundpriority)
09-23 00:55:56.201 24747-24765/com.fsck.k9.debug I/k9:  Command 'loadAttachment' completed
....
```

Eventually the app crashed with:

```
09-23 00:58:12.126 24747-24747/? E/AndroidRuntime: FATAL EXCEPTION: main
                                                   Process: com.fsck.k9.debug, PID: 24747
                                                   java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState
                                                       at android.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:1434)
                                                       at android.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:1452)
                                                       at android.app.BackStackRecord.commitInternal(BackStackRecord.java:707)
                                                       at android.app.BackStackRecord.commit(BackStackRecord.java:671)
                                                       at android.app.DialogFragment.dismissInternal(DialogFragment.java:301)
                                                       at android.app.DialogFragment.dismiss(DialogFragment.java:267)
                                                       at com.fsck.k9.ui.messageview.MessageViewFragment.removeDialog(MessageViewFragment.java:551)
                                                       at com.fsck.k9.ui.messageview.MessageViewFragment.access$200(MessageViewFragment.java:55)
                                                       at com.fsck.k9.ui.messageview.MessageViewFragment$3.run(MessageViewFragment.java:648)
```

When the application was opened again, the attachment was saved successfully.
### Steps to reproduce
1. Receive an email with an attachment
2. Try to save it
### Environment

K-9 Mail version: master

Android version: 7.0.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Problems opening an email,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior

Able to read an email
### Actual behavior

It showas up as download entire message enabled but clicking on it shows nothing, no matter how big I make the message size. Can't forward it or reply to it either, k9 mail crashes
### Steps to reproduce

1.open this email
2.
3.
### Environment

K-9 Mail version:
5.111
Android version:
6.0
Account type (IMAP, POP3, WebDAV/Exchange):
Imap
"
k9mail/k-9,open,App crashes after tapping the compose email button,"[Label(name=""bug""), Label(name=""needs info"")]","**I am having the same issue as the one listed here: https://github.com/k9mail/k-9/issues/1112**
### Expected behavior

After tapping the compose button a compose window should appear, so I can type an email to someone.
### Actual behavior

After tapping the compose button the app crashes and a messages pops up saying that K-9 Mail has crashed.
### Steps to reproduce
1. Open K-9 Mail
2. Tap the compose button (plus sign on top of a letter icon)
### Environment

K-9 Mail version: **5.111 (Current Alpha)**

Android version: **Droid Bionic (targa) 4.1.2**

Account type (IMAP, POP3, WebDAV/Exchange): **IMAP**
"
k9mail/k-9,closed,"The button ""Pause-Start"" Auto Scan for the of all configured on this mode mailbox's","[Label(name=""duplicate"")]","### Expected behavior

It should be possible, without closing the program stop the auto-scan all mailboxes and run it back through time. The button ""Pause-Start"".
Необходима возможность, не закрывая программу, остановить авто-проверку всех почтовых ящиков и запустить ее снова через время. Кнопка пауза-пуск.
### Actual behavior

No such possibility
Нет такой возможности
### Environment

K-9 Mail version:
5.010
Android version:
5.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP, POP3
"
k9mail/k-9,closed,Wrong order for multipart/alternative children,"[Label(name=""bug"")]","We create `multipart/alternative` parts with a `text/html` part as first child and `text/plain` as second child. This isn't what other clients do. And it seems to confuse Thunderbird which then only displays the `text/plain` part.

Affected version: 5.111
"
k9mail/k-9,closed,No e-mail send possible,[],"### Expected behavior

New edited e-mails to be sent
### Actual behavior

While SMTP parameters are verified during outgoing server setup, further login attempts to the server are rejected.
""com.fsck.k9.mail.transport.SmtpTransport$NegativeSmtpReplyException: Negative SMTP reply: 550 Sender address is not allowed.""
It seems a wrong username is passed at this stage.
All other apps using SMTP behave correctly.
Fetching e-mails is go.
### Steps to reproduce

Edit a new message and send
### Environment

K-9 Mail version: 5.0.10 default config

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange):
POP3/SMTP with SSL/TLS
"
k9mail/k-9,open,Android 6.01: k9 5.111 does not show emails that arrived during doze,"[Label(name=""bug"")]","### Expected behaviour

the program should show all emails that arrived
### Actual behaviour

the program does not show emails that arrived overnight; a webmail client (or email clients on other devices) however shows them.
### Steps to reproduce
1. K9 is exempted from doze mode (as are two system apps, play services and a samsung app, that are exempted by default)
2. let sit overnight 
3. pick up phone in the morning, check emails - nothing (seemingly) has arrived. Afterwards, k9 performs normally, i.e. emails arriving later are shown. But those that arrived during the doze mode in the night are never shown; they are only seen by desktop email clients or using webmail on the smartphone.
### Environment

K-9 Mail version: 5.111. The problem does not exist with the current 5.010.

Android version: 6.01

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Only message skeleton in folder (race condition?),"[Label(name=""duplicate"")]","### Expected behavior

I want to see the whole message. Not only a skeleton.
### Actual behavior

I guess there is a race condition where only a skeleton of the message gets down loaded.
In rare conditions k9 thinks it has already downloaded the whole message.
### Steps to reproduce

Open the folder, open the first file. Do this in a folder you have not opened since some weeks.

First I thought, k9 will detect this and download the message later. But even on the next day the display is like on the screenshots below. The message is ok in thunderbird.
### Environment

K-9 Mail version: 5.010

Android version: 4.1.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

I attach two screenshots.
![k9-screenshot--message-skeleton](https://cloud.githubusercontent.com/assets/414336/18659110/bdcdafa0-7f08-11e6-8b2e-b10718578740.png)
![k9-screenshot-message-skeleton--folder-view](https://cloud.githubusercontent.com/assets/414336/18659124/d7187260-7f08-11e6-81f4-5aff0ea4131d.png)
"
k9mail/k-9,closed,Improve parsing of headers,"[Label(name=""needs work"")]","Fixes #1619 
"
k9mail/k-9,open,Feature request: auto select default account on startup,"[Label(name=""enhancement"")]","I have two accounts, one of which I want to access 99.9% of the time and the other I want to access 0.1% of the time (haven't measured but that's what it feels like).  It would be nice if I didn't have to go through the account picker when starting K-9 Mail.  A ""go straight to default account"" option would be good.  Then I can go back up through ""Folders"" to ""Accounts"" in the rare occasions when I want to check the other account.

Thanks so much.
"
k9mail/k-9,closed,Bad parsing of attachments with semi-colons in the filename,"[Label(name=""bug"")]","### Expected behavior

Attachment shown with title: `ABCD; EFG.pdf`

This behaviour works as expected on Roundcube
### Actual behavior

Attachment shown with title: `""ABCD`
### Steps to reproduce

Recieve an email with an attachment that has a semi-colon in the name.

```
Content-Type: application/pdf;
    name=""ABCD; EFG.pdf""`
Content-Description: ABCD; EFG.pdf
Content-Disposition: attachment; filename=""ABCD; EFG.pdf""; size=101336;
    creation-date=""Mon, 09 May 2016 15:19:15 GMT"";
    modification-date=""Thu, 05 May 2016 14:59:33 GMT""
```
### Environment

K-9 Mail version: A fairly recent build of `master`

Android version: 6.0.1 (September '16 patches)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,STARTTLS does not work after update to Android 7.0 (K9 tries to use SSLv3),"[Label(name=""security"")]","### Expected behavior

Fetch mail via IMAP
### Actual behavior

Connection fails with ""Connection Refused""
### Details

After updating to Android 7.0, K-9 does not connect to my IMAP server anymore. It seems that K9 is trying to use SSLv3.
#### Logcat:

http://hastebin.com/nisoniwalu.hb
#### Server-Log:

http://hastebin.com/axidinefij.hb
#### Dovecot settings:

`ssl_cipher_list = ECDH+AESGCM:DH+AESGCM:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:ECDH+3DES:DH+3DES:RSA+AES:RSA+3DES:!ADH:!AECDH:!MD5:!DSS`
### Environment

K-9 Mail version: 5.111 as well as latest release.

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Please notice that this works in both thunderbird and gmail.
"
k9mail/k-9,closed,Update TOP_LEVEL_DOMAIN_STR_FOR_WEB_URL to match more new TLDs,[],"new regex produced by https://github.com/irccloud/android/blob/master/make-iana-tld-pattern.py cbe04ae

I had the problem that 'http://example.consultig/' was not shown as link.

This will probably also fix #1497 
"
k9mail/k-9,closed,Not receiving all e-mail from POP3 account,"[Label(name=""needs info"")]","### Expected behavior

Every e-mal on the server should appear in the Inbox.
### Actual behavior

At random, messages do not show up in the Inbox.  I have been using K9 on my Fire tablet for maybe a year or more now; and, for the past several months, I have been using it to screen my e-mail, since Windows Mail takes so much resources and occasionally crashes.  If I see something I want to reply to or click a link on, I go to WLM to open it.  However, recently, I was sent a 911 from someone wondering why I hadn't replied.  The reason: the e-mail didn't was never in my K9 Inbox, Trash, nor any other folder!  Yesterday, I received a notice that my on-line work wouldn't start till Friday at 8 a.m.  When I went in to start, I saw a message saying work had started Thursday at noon.  I opened WLM, waited for it to download dozens of e-mails, searched for the company name, and a notice telling me I could start work at noon Thursday was there.  I went back to the Fire, searched Inbox and Trash, and the message was not there.  That makes K9 mail totally useless for me.  

I don't think this has always been the case; k9 mail has been working slower and slower since one of the past couple of updates, but not downloading mail that can be found by another e-mail client is totally unacceptable.
### Steps to reproduce
1. Check mail.
2. Discover one way or another that an e-mail was never received.
3. Go to WLM and download e-mails to find it.
### Environment

K-9 Mail version: 5.000

Android version: Fire OS 5

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,Add support for Heads Up/Peeking Notification in Android 5+,"[Label(name=""enhancement"")]","As Android 5 made it harder to get the ticker when receiving a notification and Android 6 removed the ticker all together, there's no quick preview in K9 when a new email arrives.

(Note, referred to as Heads Up notification in Android 5 and Peeking Notifications in Android 6)
### Expected behavior

A peeking notification should appear when an email comes in, followed by the notification being left in the notification area as it is now
### Actual behavior

The notification area gains the notification, but no visual indication of its arrival (where as on Android 4 and lower, the ticker would have given a brief display of the subject and sender in the status bar as it raised the notification)
### Steps to reproduce
1. Have notifications turned on
2. Receive email which should trigger a notification
### Environment

K-9 Mail version: 5.111 Alpha

Android version:
Android 5
Android 6 (6.0.1 specifically)

Account type (IMAP, POP3, WebDAV/Exchange):
Any which support notifications of new email
"
k9mail/k-9,closed,Added provider settings for Ziggo and Virgin Media,[],"We (Liberty Global) would like to extend the automatic configuration support with settings for Ziggo (The Netherlands) and Virgin Media (UK). You can validate these settings at:

https://www.ziggo.nl/klantenservice/internet/e-mail/imap/

http://help.virginmedia.com/system/selfservice.controller?CONFIGURATION=1001&PARTITION_ID=1&TIMEZONE_OFFSET=&USERTYPE=1&VM_CUSTOMER_TYPE=Cable&CMD=VIEW_ARTICLE&ARTICLE_ID=2743

Thanks in advance!
"
k9mail/k-9,closed,Use correct message format when replying,[],
k9mail/k-9,closed,Update server settings for Comcast,[],"Fixes #1611 
"
k9mail/k-9,closed,new Comcast accounts use POP instead of IMAP,[],"### Expected behavior

Tell us what should happen

The automatic account settings picks POP instead of IMAP for comcast.net accounts.
### Actual behavior

Tell us what happens instead

When creating a new account and letting k9 figure out the account settings, it picks POP even though IMAP is available.
It should be picking IMAP since comcast.net supports IMAP.
I'm not sure how k9 decides what to use.
The best way is to probe a few combination of things to figure out if IMAP is supported and if it is, use IMAP otherwise try POP and fall back to POP if IMAP doesn't work.

If it is already probing, it may be the way it probes that isn't working.
Comcast uses the full email address as the login name not just the username so the probes might be failing by using the incorrect name.
i.e. login names are user@comcast.net
It is also possible that the server name for IMAP or SMTP is incorrect.
Comcast uses imap.comcast.net and smtp.comcast.net for the server names.

manual IMAP configuration works, but k9 should be smart enough to figure out the IMAP settings and use IMAP.
### Steps to reproduce
1. create a new account for a comcast.net account.

Once completed, account will be using POP instead of IMAP.
### Environment

K-9 Mail version: 5.010

Android version:
Samsung S4 running Android 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange):

NA
"
k9mail/k-9,open,"Implement ""downtime"" for syncing emails","[Label(name=""enhancement"")]","It would be great (specially for work-related email accounts) if one could setup a ""downtime"" option (separately!) for every email account configured, just like Android 5+ does for calls.
(And, of course also enable a [Check email] button, so one can also force syncing the emails if needed.)

For more details, please check the screenshots from the ""downtime"" feature from Android 5+ itself.
http://www.androidpolice.com/2015/03/10/android-5-1-feature-spotlight-downtime-settings-now-allow-you-to-block-all-notifications-instead-of-defaulting-to-priority/
"
k9mail/k-9,closed,Quoted-printable encoding inserts unnecessary line breaks,"[Label(name=""bug"")]","K-9 Mail created a message that contained unnecessary line breaks in the encoded message body.
(v5.111)

```
[...]
Content-Type: text/plain;
 charset=utf-8
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

[...]
-----BEGIN PGP SIGNATURE-----

iQI0BAEBCgAeFxxCZXJuZCA8dGVzdEBja2V0dGkuZGU=
+BQJX1LDSAAoJEG2bO4IG
m2wDJ6YQAIc3oA5JPv122U0IdBWN0c0CPr0bm6e+Z7dlAOCmNdhO/=
WxhMTEI1u4v
AL9AySWQIeek3tWZJSgSfhULXCC1ZUU2tWA/1cpf9PMpdXknJvi8y34osV+0SnU=
/
LhIkMPUK2wGUYmDUvBL2g9Zbx4giknta+2/IbaGMljRHQuDV1XpHEVDKzRE73VID
xn7F7CSI=
xkQGPI6mNOuM70BsaVyCwrTRiSW4rnwe2CgLf+RVSePCnveTjxC6xZyC
Q7z1LBKGNEvw0PRKjM=
1IbNeFSJ3y73RBS4y1cDYECWxKPjDJ5PR9x2QzcTdqKbXp
pVXJEv/8SzurR99V1OvlTS3s2tdS=
fSLpd9uP1hqxK71Dek5fcMUHQqgsIz2mmiEa
dExWc9dItBjgH9dPyBXn9m/G5UnF1E8FbqlS7J=
swgfiW0KNAkYEsFyvjp7q7W6TK
qkYnxJCENCG4Hf+lofDEzHth/uu23Z7cHhjkzZDet0dMGpA+=
B1jH9ZVu4aEoWLGQ
VJ3Lfjqy4ZysAmziR8iKcg3V/q0vmL+zC+3s9U+UaXPbpI2JD/hr89WIkG=
zVnNpG
8hInOIgLOJhui5PFEB7XNdpBJj+O2NYigV76Fvhb4boyCt7VdhRe01C7cohusPHB
/TO=
wbqG+0w+z6eL8tyxZ2HVWFyfgHyarnwGquIxYjxE5OzfS+LN4
=3DS8iC
-----END PGP SIGN=
ATURE-----
```
"
k9mail/k-9,closed,Don't try to show invalid mail addresses in recipient selector,[],"(fixes #1607)
"
k9mail/k-9,closed,Composer crashes when an invalid mail address is about to be shown in recipient selector ,"[Label(name=""bug"")]","### Steps to reproduce
1. create a contact with a name and an invalid mail address, e. g. ""(none)""
2. click '+' to compose new message
3. type first letters of the contact name until it should be shown
### Logcat

```
09-09 22:12:26.740 10531 10531 E AndroidRuntime: FATAL EXCEPTION: main
09-09 22:12:26.740 10531 10531 E AndroidRuntime: Process: com.fsck.k9, PID: 10531
09-09 22:12:26.740 10531 10531 E AndroidRuntime: Theme: themes:{default=overlay:com.brit.swiftdark, fontPkg:com.brit.swiftdark, com.android.systemui=overlay:com.brit.s
wiftdark, com.android.systemui.navbar=overlay:com.brit.swiftdark}
09-09 22:12:26.740 10531 10531 E AndroidRuntime: java.lang.NullPointerException: Attempt to invoke interface method 'int java.lang.CharSequence.length()' on a null obj
ect reference
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.text.SpannableString.<init>(SpannableString.java:30)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.text.Spannable$Factory.newSpannable(Spannable.java:67)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at com.fsck.k9.activity.compose.RecipientAdapter.highlightText(RecipientAdapter.java:182)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at com.fsck.k9.activity.compose.RecipientAdapter.bindView(RecipientAdapter.java:92)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at com.fsck.k9.activity.compose.RecipientAdapter.getView(RecipientAdapter.java:72)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.widget.AbsListView.obtainView(AbsListView.java:2346)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.widget.ListPopupWindow$DropDownListView.obtainView(ListPopupWindow.java:1734)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.widget.ListView.measureHeightOfChildren(ListView.java:1281)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.widget.ListPopupWindow.buildDropDown(ListPopupWindow.java:1209)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.widget.ListPopupWindow.show(ListPopupWindow.java:584)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.widget.AutoCompleteTextView.showDropDown(AutoCompleteTextView.java:1106)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at com.fsck.k9.view.RecipientSelectView.showDropDown(RecipientSelectView.java:226)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.widget.AutoCompleteTextView.updateDropDownForFilter(AutoCompleteTextView.java:975)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.widget.AutoCompleteTextView.-wrap2(AutoCompleteTextView.java)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.widget.AutoCompleteTextView$PopupDataSetObserver$1.run(AutoCompleteTextView.java:1300)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.os.Handler.handleCallback(Handler.java:739)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.os.Handler.dispatchMessage(Handler.java:95)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.os.Looper.loop(Looper.java:148)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at android.app.ActivityThread.main(ActivityThread.java:5463)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at java.lang.reflect.Method.invoke(Native Method)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
09-09 22:12:26.740 10531 10531 E AndroidRuntime:        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
09-09 22:12:26.741  1716  4127 W ActivityManager:   Force finishing activity com.fsck.k9/.activity.MessageCompose
```
### Environment

K-9 Mail version: 5.111 (master)

Android version:
6.0.1
"
k9mail/k-9,open,Feature request: mark all read in Unified folder,"[Label(name=""enhancement"")]","Currently, Mark all read is not available from the Unified folder, and IMO, it's missing here ;-).
"
k9mail/k-9,closed,Feature request: redirect,[],"It would be nice if we could redirect emails (it's a forwarding-like re-sending, that conserves original's sender/from and probably more headers, even).
"
k9mail/k-9,closed,HTML/formatting stripped when forwarding HTML emails,"[Label(name=""bug"")]","**Expected behavior**
Forwarding an HTML email should result in the recipient receiving an HTML email with all contents intact.

**Actual behavior**
Forwarded message is plain-text only

**Steps to reproduce**
1. Receive HTML email
2. Forward HTML email
3. Review email received by recipient

**Environment**
K-9 Mail version: 5.111
Android version: 6.0
Account type: IMAP

I checked a fresh install/setup of 5.010 and this problem did not occur, but a fresh install/setup of 5.111  with the same settings brought it back.
"
k9mail/k-9,open,"Battery, storage and data issues in 5.111","[Label(name=""needs info"")]","### Expected behavior

I presume that as a beta tester, my app was automatically upgraded to version 5.111 on both my phone and my tablet.  My wife still has version 5.010 on her devices.
### Actual behavior

Not only does this new version not work, it is creating a REAL problem on my devices.

The app will only function for a few seconds, and then I get an error message, “Unfortunately K-9 Mail has stopped”.  This happens even when I am not using the app, constantly.  It is even preventing me from syncing my Garmin activity tracker.

It is my largest data drain, 0.02 GB in foreground, 0.43 GB in background.

Largest storage drain at 556 MB.

Largest by far drain on the battery at 59%.

The battery is draining and charging has the phone get incredibly hot.

I uninstalled the app and reinstalled it, which caused many hours of writing down ALL of the customization, then trying to re-enter everything.  Still some custom stuff has not been correctly installed, especially “signature”.

Living without email on the go is not a good situation.

Do you have a newer version moving forward, or a way to go backwards?  Would NOT want to do all of that customization again, but can’t live without email, and especially a phone that has the battery drain, and overheats when charged.

Love the app, want to help, but can we figure out a situation?  Better to text me, 301.325.9995, as my mobile email isn’t working.  Happy to load next version.  Thanks.
### Steps to reproduce
1. Happens all of the time.
   2.
   3.
### Environment

K-9 Mail version: 5.111

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange):  I use Go Daddy, and have an Exchange account.  I understand that I have to use IMAP on my K-9 Mail app, even though the Go Daddy account has gone from POP3, to IMAP, to now Exchange.  I would have to ask Go Daddy about what WebDAV is.
"
k9mail/k-9,open,Cut/copy of recipient address do copy an empty list to the clipboard,"[Label(name=""bug"")]","When copying/cutting one or more addresses from the recipient fields of a compose/reply form to the clipboard, it's an empty list that is copied instead (you get a pair of "",,"" - without the quotes - per address copied).

How to reproduce:
- reply to an email
- long press the To: address, 'select all' then 'copy'.
- go and paste elsewhere: you get for instance "",,"" (if one address copied) or "",, ,, ,,"" (3 addresses copied).

K-9 Mail version:
5.111

Android version:
6.0.1
"
k9mail/k-9,closed,Long press message list menu wrong size on Android N,"[Label(name=""duplicate"")]","If you long press on a message (in a folder's message list view) a pop-up will appear with options like spam, delete, etc. On older versions of Android the menu would have a reasonable size. In android N, the menu is usually tiny, requiring scrolling to find the option you want, but sometimes varies size e.g. after popping it up 5 times it might finally be a reasonable size!
### Expected behavior

Message list long-press pop-up menu is reasonable size.
### Actual behavior

Pop-up menu is vertically tiny so only 1 or 2 options can be seen at once (scrolling is luckily possible to access the others)
### Steps to reproduce
1. Open any folder e.g. Inbox.
2. Long press any message.
3. Look at the size of the pop-up menu.
### Environment

K-9 Mail version: 5.010

Android version: 7.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Feature Request: Mail Folder Widget,"[Label(name=""enhancement"")]","It would be terrific if K9-Mail would incorporate an folder view widget, similar to the one the GMail (and other e-mail apps) have. I came across MailListWidget for K9 (http://maillistwidgetk9.lombardi.mobi/ since the Google Play page no longer seems to work) but it no longer seems to work. Email Widget (https://play.google.com/store/apps/details?id=de.foobarsoft.emailwidget) is also supposed to work, but is apparently limited to the Unified Mailbox and doesn't provide important information like whether the message is read or unread.

Here's an example from GMail (the widget is in the middle of the screenshot on the right side):
![image](https://cloud.githubusercontent.com/assets/3299186/18255812/5c9b2dae-737b-11e6-8fc9-92c2331f540d.png)

Thank you for a terrific app, and your consideration.
"
k9mail/k-9,open,Edit position stays at bottom of current compose window even when cursor moved,"[Label(name=""bug"")]","### Expected behavior

When editing a message, tapping elsewhere in the message should move the edit cursor.
### Actual behavior

While the cursor itself seems to move , when you actually start typing after tapping, say, back up towards the top of your message, the characters appear at the bottom of the compose window.  Effectively, you can't reposition the cursor.  Tapping out to another edit field, eg, the subject, then back, restores cursor control.
### Steps to reproduce

1.compose a message
2.type a sentence
3.try to change the first word of the sentence
### Environment

K-9 Mail version:
5.010
Android version:
6.01
Account type (IMAP, POP3, WebDAV/Exchange):
Imap
"
k9mail/k-9,closed,Don't update crypto mode right away,"[Label(name=""enhancement"")]","![screenshot_k9mail_crypto_dialog_slider_release_changes_preference_immediately](https://cloud.githubusercontent.com/assets/218061/18233762/dd7243a4-72ef-11e6-844f-e0218a9dbb0c.png)

The crypto mode changes the moment the slider is released, not when the ""Proceed"" button is pressed. This makes it impossible to cancel the selection by pressing the back button or dismissing the dialog by clicking somewhere outside of it.
"
k9mail/k-9,closed,"Use active color for ""Never Sign or Encrypt""","[Label(name=""enhancement"")]","![screenshot_k9mail_never_sign_or_encrypt_no_highlight](https://cloud.githubusercontent.com/assets/218061/18233739/6d078a2a-72ef-11e6-9875-ebe823409091.png)

The ""Never Sign or Encrypt"" icon has no active color unlike all the other icons in that dialog. I think a slightly darker grey would work fine.
"
k9mail/k-9,open,Update text in crypto dialog along with icon,"[Label(name=""enhancement""), Label(name=""security"")]","![screenshot_k9mail_text_in_crypto_dialog_only_updates_after_slider_is_released](https://cloud.githubusercontent.com/assets/218061/18233690/2f53fa8e-72ee-11e6-9d51-e455c6d03cd9.png)

While the icons are highlighted while dragging the slider the text is only updated after the slider has been released.
"
k9mail/k-9,closed,"Dialog is shown every time ""Enable PGP/INLINE"" is selected","[Label(name=""enhancement"")]","![screenshot_k9mail_enable_pgp_inline_dialog](https://cloud.githubusercontent.com/assets/218061/18233635/dae152b8-72ec-11e6-8a61-96b3b9d90251.png)

This gets old fast. We should display the dialog maybe 2-3 times and then assume the user knows what it's all about and not show the dialog anymore.

PS: The light area in the background is where the keyboard used to be before the dialog was displayed.
"
k9mail/k-9,closed,"[TLS] SSLv3 is required by device, but blocked by server","[Label(name=""security"")]","### Expected behavior

It should connect to an **IMAP** server which explicitely disabled SSLv3. 
### Actual behavior

It throws this error when connecting:

```
E/k9      (21935): Got exception while closing for exception for test:INBOX/Thread-1860
E/k9      (21935): java.lang.NullPointerException
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.reacquireWakeLockAndCleanUp(ImapFolderPusher.java:252)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.run(ImapFolderPusher.java:202)
E/k9      (21935):  at java.lang.Thread.run(Thread.java:841)
E/k9      (21935): Got exception while idling for test:INBOX/Thread-1860
E/k9      (21935): com.fsck.k9.mail.MessagingException: IO Error
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapFolder.ioExceptionHandler(ImapFolder.java:1366)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapFolder.internalOpen(ImapFolder.java:163)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.openConnectionIfNecessary(ImapFolderPusher.java:330)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapFolderPusher$PushRunnable.run(ImapFolderPusher.java:155)
E/k9      (21935):  at java.lang.Thread.run(Thread.java:841)
E/k9      (21935): Caused by: javax.net.ssl.SSLHandshakeException: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x64fcc4e0: Failure in SSL library, usually a protocol error
E/k9      (21935): error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:744 0x5e5c77e8:0x00000000)
E/k9      (21935):  at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:449)
E/k9      (21935):  at com.android.org.conscrypt.OpenSSLSocketImpl$SSLInputStream.<init>(OpenSSLSocketImpl.java:662)
E/k9      (21935):  at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:633)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapConnection.setUpStreamsAndParserFromSocket(ImapConnection.java:228)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapConnection.startTLS(ImapConnection.java:312)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapConnection.upgradeToTls(ImapConnection.java:300)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapConnection.upgradeToTlsIfNecessary(ImapConnection.java:284)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapConnection.open(ImapConnection.java:119)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapConnection.sendCommand(ImapConnection.java:640)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:623)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:612)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapFolder.executeSimpleCommand(ImapFolder.java:109)
E/k9      (21935):  at com.fsck.k9.mail.store.imap.ImapFolder.internalOpen(ImapFolder.java:145)
E/k9      (21935):  ... 3 more
E/k9      (21935): Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x64fcc4e0: Failure in SSL library, usually a protocol error
E/k9      (21935): error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:744 0x5e5c77e8:0x00000000)
E/k9      (21935):  at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
E/k9      (21935):  at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:406)
E/k9      (21935):  ... 15 more
```
### Steps to reproduce
1. Setup a server which disabled SSLv3 (feel free to try imap.sander-delmenhorst.net:993)
2. Enter settings in K9-Mail
3. When attempting to ""verify"" those settings, it'll fail. 
### Environment

K-9 Mail version:
Latest alpha release (5.111)

Android version: 
4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP with TLS (both SSL/TLS and STARTTLS aren't working, same certificate error). 
### Some other info

A lot of ciphers are supported, including those which are mentioned https://www.ssllabs.com/ssltest/viewClient.html?name=Android&version=4.4.2. On my desktop, I am actually able to connect to the server when explicitely using those certificates. 
"
k9mail/k-9,closed,Custom contextPopupMenuStyle on Android N to fix context menu position,[],"See https://code.google.com/p/android/issues/detail?id=221643

Fixes #1581
"
k9mail/k-9,closed,Hide crypto status icon if no crypto provider is configured,[],"Also, disable crypto status icon when clicking it does nothing.
"
k9mail/k-9,closed,Tries to send again after a 553,[],"### Expected behavior

Should not try to send a mail again, after a 553 error. Well... At least not over 50 times.
### Actual behavior

Tries to send it again. And again... And again... And again... And again... And again... And again... And again... And again... And again... And again... And again... And again... And again... 

Could do this forever
### Steps to reproduce
1. Get a 553 response
2. Wait
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Isn't push notifications from Outlook.com supported?,[],"### Expected behavior

Should immediately notify me of new mail from outlook.com account.
### Actual behavior

Only checks for mail every x minute (folder polling interval)
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type: Outlook.com (not sure what type)
"
k9mail/k-9,closed,"The ""Forward"" and ""Reply"" menu is absent in landscape mode on 5.010",[],"### Expected behavior

I expect the menu to offer at least as many choices in landscape mode as it does in portrait but it does not, these options disappear when flipping the phone (a Moto-X 2nd gen with Android 5.1)
### Actual behavior

The screen rotates and everything else is at it should, but this menu icon disapears
### Steps to reproduce
1. Install v5.010
2. Create account
3. Read mail in portrait, observe the Reply/Forward menu icon, verify it works
4. Rotate the phone in landscape mode, observevtge icon goes away.
### Environment

K-9 Mail version: 5.010

Android version:5.1

I also tried on a Nexus 7 tablet with Android 5.1 and it works normally

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Deleting mail from notification does not dismiss notification,"[Label(name=""needs info"")]","**Expected behavior:** When using the delete button in a new mail notification to delete a message, the the message should be deleted and the notification should disappear.

**Actual behavior:** The message is deleted, but sometimes the notification persists. This only happens infrequently, and I have not yet found a way to reproduce it. I'm not sure if this is related to #1273.

K-9 Mail version: 5.111

Android version: 6.0 (Verizon LG G4, stock)

Account type: IMAP
"
k9mail/k-9,open,Idle Push notification stops after some time in Edge and 3G connectivity in Nexus 5,[]," Imap Idle service stops receiving mails after some with 3G and Edge connectivity in Nexus 5 besides everything works smoothly with Wifi.

K-9 Mail version: v5.010

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): Gmail IMAP account

Lastly, thanks for wonderful mail solutions.
"
k9mail/k-9,open,account creation on startup has no back/cancel,"[Label(name=""enhancement"")]","### Expected behavior

When starting k-9 with no config, even if one clicks the wrong thing, it should be straightforward and intuitive to get to a place where you can import the old config.
### Actual behavior

In upgrading from f-droid build to a local build, I exported my config, deleted the app and installed my build from Android Studio.  On starting, I saw a welcome screen and a next button, and didn't notice the import button in the lower left.  After pushing next, there was no apparently way to cancel out of adding an account.   I killed the app and restarted, and then noticed the import.  (Importing worked fine.)
### Steps to reproduce
1. Export settings
2. Uninstall
3. Install
4. Run, and hit next.  Then try to figure out how to import.
### Environment

K-9 Mail version: 5.111
Android version: CM 13
Account type (IMAP, POP3, WebDAV/Exchange): IMAP (but doesn't matter)
"
k9mail/k-9,closed,Integration with Tasker not working,[],"### Expected behavior

If I'm not mistaken, I should have access to some variables in Tasker that are populated from the K9 agent:

%EFROM / %ECC / %ESUBJ / %EDATE / %ETIME
### Actual behavior

None of these variables are populated after mail arrives in K9.
### Steps to reproduce
1. install K9 onto Android (nexus 6p)
2. install tasker, check ""Allow External Access"" in Preferences/MISC
3. create task that's triggered by a K9 notification (ie: new mail notification)
4. interrogate any of the above variables for a value
5. no values observed
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (connected to a gmail account)

Hoping someone can help!  Thanks.
"
k9mail/k-9,closed,fix crash in onActivityResult (fixes #1582),[],"moved the relevant parts closer together and added a comment, since this is rather non-obvious behavior
"
k9mail/k-9,open,Crash when downloading attachment,"[Label(name=""bug"")]","Reported via Google Play:

```
java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState
    at android.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:1328)
    at android.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:1346)
    at android.app.BackStackRecord.commitInternal(BackStackRecord.java:729)
    at android.app.BackStackRecord.commit(BackStackRecord.java:705)
    at android.app.DialogFragment.dismissInternal(DialogFragment.java:292)
    at android.app.DialogFragment.dismiss(DialogFragment.java:258)
    at com.fsck.k9.ui.messageview.MessageViewFragment.removeDialog(MessageViewFragment.java:546)
    at com.fsck.k9.ui.messageview.MessageViewFragment.access$200(MessageViewFragment.java:55)
    at com.fsck.k9.ui.messageview.MessageViewFragment$3.run(MessageViewFragment.java:643)
    at android.os.Handler.handleCallback(Handler.java:739)
    at android.os.Handler.dispatchMessage(Handler.java:95)
    at android.os.Looper.loop(Looper.java:135)
    at android.app.ActivityThread.main(ActivityThread.java:5254)
    at java.lang.reflect.Method.invoke(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:372)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:904)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:699)
```

User messages:
- Was loading an attachment in the background.
- saving Attachments
- downloading complete versions of several photo heavy messages on a weak WiFi link
- crashed trying to get attachment
- keeps hanging then crashing when downliading images attached to emails!
- tried opening a jpeg attachment
- tried to open attatchment
- didn't like a calendar invitation
"
k9mail/k-9,closed,Crash while moving message,"[Label(name=""bug"")]","Reported via Google Play:

```
java.lang.RuntimeException: Failure delivering result ResultInfo{who=android:fragment:1, request=1, result=-1, data=Intent { (has extras) }} to activity {com.fsck.k9/com.fsck.k9.activity.MessageList}: java.lang.IllegalStateException: got an activity result that wasn't meant for us. this is a bug!
    at android.app.ActivityThread.deliverResults(ActivityThread.java:3574)
    at android.app.ActivityThread.handleSendResult(ActivityThread.java:3617)
    at android.app.ActivityThread.access$1300(ActivityThread.java:151)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1352)
    at android.os.Handler.dispatchMessage(Handler.java:102)
    at android.os.Looper.loop(Looper.java:135)
    at android.app.ActivityThread.main(ActivityThread.java:5254)
    at java.lang.reflect.Method.invoke(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:372)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:904)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:699)
    at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:102)
Caused by: java.lang.IllegalStateException: got an activity result that wasn't meant for us. this is a bug!
    at com.fsck.k9.ui.messageview.MessageCryptoPresenter.onActivityResult(MessageCryptoPresenter.java:158)
    at com.fsck.k9.ui.messageview.MessageViewFragment.onActivityResult(MessageViewFragment.java:405)
    at android.app.Activity.dispatchActivityResult(Activity.java:6197)
    at android.app.ActivityThread.deliverResults(ActivityThread.java:3570)
    ... 11 more
```

User messages:
- moved a message that was opened to a different folder.
- Crash on moving opened email to another IMAP folder. Crash after selecting target folder.
- crash at moving message to different folder. is consistent problem
- tried to move a message to another folder, crash. happens wavy time I select move and a folder in the refile menu.
"
k9mail/k-9,closed,Android Nougat: Email Context Menu at Wrong Position,"[Label(name=""bug"")]","### Expected behavior

If I long tap on a message the context menu should appear besides the finger position.
### Actual behavior

The context menu appears at the lower end of the screen and is only 1-2 lines in size.
### Steps to reproduce
1. Select a message
2. Long tap
3. See what happens
### Environment

K-9 Mail version: 5.010

Android version: Nougat (7) Release

Account type (IMAP, POP3, WebDAV/Exchange): All (type independent)
"
k9mail/k-9,closed,Replace QuickContactBadge with custom widget,"[Label(name=""next stable"")]","At black theme QuickContactBadge with dark triangle in corner looks like a dead man's photo with a black stripe.

This patch replaces QuickContactBadge with ImageView and adds also possibilities to move all photo contacts code in one place, also this widget may be modified in the following ways:
- ""visual"" - the photo may be in circle (like another clients), in rounded squares and etc
- ""interface"" - tap on badge - selects mail in mail list and adds email to contacts in mail view.
"
k9mail/k-9,closed,Theme changes for openpgp on dark theme,[],"What it says on the tin.

(A todo I didn't do in this PR is to split up the colors by semantics and use appropriate names)
"
k9mail/k-9,closed,Application crashes when replying to an email,"[Label(name=""needs info"")]","### Expected behavior

New editor should be opened to enter reply message.
### Actual behavior

Application crashes directly after clicking on Reply menu item.
### Steps to reproduce
1. Open arbitrary email message
2. Click on a button with an arrow on the bottom of the screen
3. Select Reply from pop-up menu
### Environment

K-9 Mail version:
5.110 (Beta)

Android version:
6.0.1 (Samsung Galaxy S5 SM-G900FD)

Account type (IMAP, POP3, WebDAV/Exchange):
Gmail IMAP
"
k9mail/k-9,open,Next poll is skipped after a manual sync. Have to wait following poll.,[],"### Expected behavior

Let say I have a 15 minutes poll interval. No push. This was with a Gmail account. 
K9 polls at 2.20
I manually sync at 2.27
I expect K9 to poll at 2.35
### Actual behavior

K9 polls at 2.20
I manually sync at 2.27
(I now make sure I have a new email in my gmail inbox -ie not K9 inbox -, by sending one from a PC)
K9 skips the polling at 2.35 (the K9 inbox is not reflecting this email) and poll at 2.50.

I don't know if the polling is effectively skipped, but for sure the folder which are supposed to be updated via polling are not updated until the next polling scheduled event.
### Steps to reproduce

1.as described above
### Environment

K-9 Mail version: 5.0.10

Android version:CM13 (6.0.1)

Account type (IMAP, POP3, WebDAV/Exchange):GMAIL IMAP POLL 
"
k9mail/k-9,closed,[feature suggestion] transfer mail between account,[],"In the app I can move mail only in the same account between folders.
I thought to add a feature for moving mail between different accounts.

So my question is what are you thinking about it
if it possible because i didn't saw it in any android mail app and it is exists in outlook and ios 
if you think i can make it what do you suggest me to study first for making this feature.

Thanks in advance zafrir.
"
k9mail/k-9,closed,Message text obscured when successful decryption,"[Label(name=""bug"")]","### Expected behavior

Using open keychain with k9 on android, When opening an e-mail thread where I have signed and not encrypted but the replying party has not signed/ encrypted, the entire message thread should be displayed and arguably no confirmation successful decryption and valid signature.
### Actual behavior

The most recent reply from other party is not shown and message regarding decryption is shown.

The most recent contribution to the email thread is not signed and so I question whether decryption/key checking should be activated.

The signature checking seems to cut off any message above the start of the most recent signing block.

An email thread might look something like this:

Unsigned reply

> signed reply enclosed in inline pgp block sent from desktop mail program
> 
> > unsigned reply to original mail
> > 
> > > signed message enclosed in inline pgp block sent from desktop mail program.

What actually happens looks like this:

x unsigned reply (not shown)
Signed reply sent from desktop mail app. Pgp signing block not visible (parsed by k9/open keychain?)

> unsigned reply
> 
> > signed original message with pgp signature block.

Additionally, if I reply all parts of the thread are visible in the quoted reply so the content is still there.
### Steps to reproduce
1. Set up open keychain with k9
2. Send email to someone with inline signature block
3. Get reply with no signature
4. Reply with signature block
5. Get another reply without signature
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1 (Chroma ROM) / was also happening with 5.1.1 stock android.

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,PC app/programs,[],"i am loving the k9 app you have for the android phone. nmy question is do you have any plans for k9 mail access on PC for Linux/other? Sorry if the question has already been asked but i couldn't find it 
"
k9mail/k-9,closed,Read messages keep changing status back to unread (again),[],"Same behaviour as described in:
https://github.com/k9mail/k-9/issues/1130
I posted a comment with logfile attached at the end of #1130 
### Environment

K-9 Mail version: 5.0.10
Android version:5.1
Account type (IMAP, POP3, WebDAV/Exchange): IMAP (Panda/uw)
"
k9mail/k-9,closed,Read messages keep changing status back to unread (again),[],"Same behaviour as described in:
https://github.com/k9mail/k-9/issues/1130
I posted a comment with logfile attached at the end of #1130 
### Environment

K-9 Mail version: 5.0.10
Android version:5.1
Account type (IMAP, POP3, WebDAV/Exchange): IMAP (Panda/uw)
"
k9mail/k-9,open,Mails deleted from folders when first sync,"[Label(name=""needs info"")]","### Expected behavior

When I send a mail, it goes to the local ""Sent"" folder. If this folder is not synced with the server, when I sync it, it should download mails from the server and save the local mails.
### Actual behavior

When I sync the local folder, I get mails from the server, but the local mails are just deleted from my phone, and not uploaded to the server

The same happens when I deleted a mail from my inbox : It went to the Deleted folders, and when I synced the Deleted folders, my mail disappeared from my mobile, and from the server.
### Steps to reproduce
1. Ensure the Sent folders was never synced
2. Send a new mail
3. Sync the Sent folder
4. The sent mail has disappeared
### Environment

K-9 Mail version: 5.010

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Notification stays open when email is read,[],"### Expected behavior

When you read/open a mail, the notification should be cleared.
### Actual behavior

The notification stays.
### Steps to reproduce
1. Receive mail.
2. Open mail via app (not via notification)
3. Profit
### Environment

K-9 Mail version: Latest

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange):
Outlook
"
k9mail/k-9,open,Email with empty text,"[Label(name=""needs info"")]","### Expected behavior

Email coming from orange or sfr app are empty, no text inside.
### Actual behavior

If i open the same email with my webmail, it can be read with the text, without issue.
### Steps to reproduce
1. Ask to a friend to send you an email from orange or sfr app ;)
   2.
   3.
### Environment

K-9 Mail version:last

Android version:
5.0
Account type (IMAP, POP3, WebDAV/Exchange):
Pop3
"
k9mail/k-9,closed,Fix for TextBody.getSize(),[],"`SignSafeOutputStream` was only used in `writeTo()`, not when counting bytes for `getSize()`.
"
k9mail/k-9,open,Unable to sync all messages from hotmail,"[Label(name=""needs info"")]","Hi, since yesterday (15th of August) I've had trouble with k9-mail, when i went to check my mails I was unable to see them all on my hotmail mailbox. Gmail works fine.
I did not do anything particular on the app. I just didn't open it in the couple days before, but I saw the notifications (I had like 11 emails). On the morning of the 15th, I saw one notification for a new message, and when i launched k9 I only got this one, prior to that date mails won't show up.
### Expected behavior

K9 should sync my messages when I press the ""load up to 25 more"" button. My mailbox is full of mails, i've got at least one per day, so the list should be full with my last 25 emails.
### Actual behavior

K9 doesn't sync messages prior to 15-Aug-2016, even though in settings it's set to sync messages from ""the last 2 weeks""
Worth noting: this issue is only with my hotmail account, I've got a gmail one and it works perfectly
### Steps to reproduce
1. Cleared messages from my hotmail account
2. Clicked on my hotmail account and pressed ""load up to 25 more"" to force sync
3. Messages sync, but not all of them

I tried clearing the local data of k-9 mail, so i reconfigured my two account (hotmail and gmail), but the issue is still there, and only still on the hotmail account.
### Environment

K-9 Mail version: 5.010

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange): Hotmail, IMAP
###### 

K9log : http://pastebin.com/HzDvqSbe

I believe the issue is seen in line 2369, the search value should not return that few messages
"
k9mail/k-9,open,Attachment deleted when opening draft from IMAP,"[Label(name=""bug"")]","### Expected behavior

Attachments should be preserved even if not explicitly shown
### Actual behavior

When opening a message from a IMAP draft folder, there is no indication of whether there are attachments. In the event the email does have attachments, those are silently deleted when the draft is saved back to the server.
### Steps to reproduce
1. On PC, create a draft message with an attachment and save to IMAP draft folder
2. In K9, open this draft message then save
3. On PC, reopen the message - attachment is gone
### Environment

K-9 Mail version: 5.010

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Optimize BoundaryGenerator,"[Label(name=""next stable"")]","This change should reduce the number of object allocations quite a bit.
"
k9mail/k-9,closed,Add esPass MIME type,[],"context:
https://github.com/k9mail/k-9/pull/1402
http://www.iana.org/assignments/media-types/application/vnd.espass-espass+zip
"
k9mail/k-9,open,[feature suggestion] possitibility to input any checking account interval in minutes,"[Label(name=""enhancement"")]","In k9mail you can set pop3 account to be checked every 1 or 5 or 10 or 15 ... minutes. That is very large increase. Between 1 min -> 5 minutes is 500% increase. I would like to set it to 2 or 3 minutes since 5 is too much and 1 drains battery and increases network usage too much. There is no option to do this. Please implement option to type in any interval in minutes.
"
k9mail/k-9,closed,customize actions list in notification and message list bottom bar,[],"There's already a 'show delete button' for notifications, and a 'visible message actions' but there's no real way to configure what actions/buttons are present in the notification banners and in the bottom actions panel (message view menu).
About the message list bottom bar, for instance (not in multi-selection mode), I don't care about the search or sort actions, but I do about the mark-all-read, mark-as-spam and delete actions, but K-9 mail doesn't allow customizing this. Same for the notification banners.
"
k9mail/k-9,closed,K9 Mail consistently crashing on email delete,"[Label(name=""bug"")]","### Expected behaviour

Email should be deleted and the next email in the list should be displayed
### Actual behaviour

I have K9 Mail installed on a Android Tablet Samsung Tab A and a Smartphone Moto G 1. I remember having problems with crashes a while back that stopped when I cleaned my trash folder.

Now, around the same day, K9 Mail crashes every time I delete an Email. I can see parts of the next email in the list sometimes, but not always. I cleaned the trash folder (now empty) and restarted the IMAP server. (No other program accessing the server has any trouble). I found a consistent error logging from K9 Mail when deleting emails:

```
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/cr_AwContents(27940): onDetachedFromWindow called when already detached. Ignoring
E/libEGL  (27940): validate_display:255 error 3008 (EGL_BAD_DISPLAY)
W/VideoCapabilities(27940): Unrecognized profile 2130706433 for video/avc
W/AudioCapabilities(27940): Unsupported mime audio/amr-wb-plus
W/VideoCapabilities(27940): Unsupported mime video/mpeg2
W/cr_BindingManager(27940): Cannot call determinedVisibility() - never saw a connection for the pid: 27940
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/cr_BindingManager(27940): Cannot call determinedVisibility() - never saw a connection for the pid: 27940
W/cr_BindingManager(27940): Cannot call determinedVisibility() - never saw a connection for the pid: 27940
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
E/WifiStateMachine(  827): WifiStateMachine CMD_START_SCAN source -2 txSuccessRate=7,84 rxSuccessRate=7,34 targetRoamBSSID=any RSSI=-69
E/WifiStateMachine(  827): startDelayedScan send -> 22742 milli 20000
E/WifiStateMachine(  827): WifiStateMachine CMD_START_SCAN with age=20003 interval=151875 maxinterval=300000
E/WifiStateMachine(  827): WifiStateMachine CMD_START_SCAN full=false
E/WifiStateMachine(  827): WifiStateMachine starting scan for ""WLAN-001C4AA14D4E""WPA_PSK with 2437
E/WifiStateMachine(  827): [1.471.092.449.031 ms] noteScanstart no scan source uid -2
E/WifiStateMachine(  827): [1.471.092.449.093 ms] noteScanEnd no scan source onTime=0
E/WifiStateMachine(  827): wifi setScanResults statecom.android.server.wifi.WifiStateMachine$ConnectedState@c6e54e7 sup_state=COMPLETED debouncing=false mConnectionRequests=1 selection=<none>
E/FastThread(  290): did not receive expected priority boost
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/cr_AwContents(27940): onDetachedFromWindow called when already detached. Ignoring
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/CursorWindow(27940): Window is full: requested allocation 525 bytes, free space 363 bytes, window size 2097152 bytes
W/cr_BindingManager(27940): Cannot call determinedVisibility() - never saw a connection for the pid: 27940
W/CursorWindow(27940): Window is full: requested allocation 270 bytes, free space 261 bytes, window size 2097152 bytes
E/CursorWindow(27940): Failed to read row 927, column 16 from a CursorWindow which has 927 rows, 18 columns.
E/AndroidRuntime(27940): FATAL EXCEPTION: main
E/AndroidRuntime(27940): Process: com.fsck.k9, PID: 27940
E/AndroidRuntime(27940): java.lang.IllegalStateException: Couldn't read row 927, col 16 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.
E/AndroidRuntime(27940):        at android.database.CursorWindow.nativeGetString(Native Method)
E/AndroidRuntime(27940):        at android.database.CursorWindow.getString(CursorWindow.java:438)
E/AndroidRuntime(27940):        at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:51)
E/AndroidRuntime(27940):        at android.database.CursorWrapper.getString(CursorWrapper.java:114)
E/AndroidRuntime(27940):        at android.database.CursorWrapper.getString(CursorWrapper.java:114)
E/AndroidRuntime(27940):        at com.fsck.k9.provider.EmailProvider$SpecialColumnsCursor.getString(EmailProvider.java:796)
E/AndroidRuntime(27940):        at android.database.CursorWrapper.getString(CursorWrapper.java:114)
E/AndroidRuntime(27940):        at android.database.CursorWrapper.getString(CursorWrapper.java:114)
E/AndroidRuntime(27940):        at com.fsck.k9.fragment.MessageListFragment.getReferenceForPosition(MessageListFragment.java:3069)
E/AndroidRuntime(27940):        at com.fsck.k9.fragment.MessageListFragment.isLast(MessageListFragment.java:3062)
E/AndroidRuntime(27940):        at com.fsck.k9.activity.MessageList.configureMenu(MessageList.java:1002)
E/AndroidRuntime(27940):        at com.fsck.k9.activity.MessageList.onPrepareOptionsMenu(MessageList.java:938)
E/AndroidRuntime(27940):        at android.app.Activity.onPreparePanel(Activity.java:2851)
E/AndroidRuntime(27940):        at com.android.internal.policy.impl.PhoneWindow.preparePanel(PhoneWindow.java:577)
E/AndroidRuntime(27940):        at com.android.internal.policy.impl.PhoneWindow.doInvalidatePanelMenu(PhoneWindow.java:921)
E/AndroidRuntime(27940):        at com.android.internal.policy.impl.PhoneWindow$1.run(PhoneWindow.java:259)
E/AndroidRuntime(27940):        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:767)
E/AndroidRuntime(27940):        at android.view.Choreographer.doCallbacks(Choreographer.java:580)
E/AndroidRuntime(27940):        at android.view.Choreographer.doFrame(Choreographer.java:549)
E/AndroidRuntime(27940):        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:753)
E/AndroidRuntime(27940):        at android.os.Handler.handleCallback(Handler.java:739)
E/AndroidRuntime(27940):        at android.os.Handler.dispatchMessage(Handler.java:95)
E/AndroidRuntime(27940):        at android.os.Looper.loop(Looper.java:135)
E/AndroidRuntime(27940):        at android.app.ActivityThread.main(ActivityThread.java:5343)
E/AndroidRuntime(27940):        at java.lang.reflect.Method.invoke(Native Method)
E/AndroidRuntime(27940):        at java.lang.reflect.Method.invoke(Method.java:372)
E/AndroidRuntime(27940):        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:905)
E/AndroidRuntime(27940):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:700)
W/ActivityManager(  827):   Force finishing activity 1 com.fsck.k9/.activity.MessageList
W/ActivityManager(  827): Activity pause timeout for ActivityRecord{dea196 u0 com.fsck.k9/.activity.MessageList t6129 f}
```

### Steps to reproduce
1. Hmm, good question. Have lots of emails in various folders and start deleting?
   2.
   3.
### Environment

K-9 Mail version:
5.010
Android version:
5.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,non uri addressable attachments,"[Label(name=""architecture"")]","We still have a bit of a situation with our handling of attachments. Here is a rough overview of our parsing control flow, to get on the same page:

1) data is loaded from the database into one `LocalMessage` and several `LocalBodyPart`s
2) encrypted message parts are decrypted, recursively parsing the mime structure of the decrypted data. for all further processing, the decrypted `MimeBodyPart`s are substituted for their encrypted `LocalPart`s
3) `MessageExtractor.findViewablesAndAttachments` subdivides all parts of a message into those parts which are displayed inline as part of the message text, and those which are displayed as attachments
4a) Inline parts are parsed into text, and concatenated into `MessageViewInfo.text`
4b) Attachment parts are parsed into `AttachmentViewInfo` objects, which hold info on the attachments including a content-URI (which may be handed to external apps to access the part data)

The problematic bit is that for step 4b), all parts to be displayed as attachments need to be addressable by a URI. This is generally fine for parts loaded from the database. For the decrypted parts from step 2), all leaf parts have a body of class `DeferredFileBody`, for which a URI can be obtained through `DecryptedFileProvider`.

A problem arises if `MessageExtractor` in step 3) decides that any decrypted, non-leaf part should be displayed as an attachment. At the moment, the only situation where this can happen is a `message/rfc822` part with `content-disposition: attachment`.

Possible solutions:
- Don't recursively parse message/rfc822 parts with content-disposition attachment in `MimePartStreamParser`, but treat them as a leaf body. This is a relatively simple solution to the problem, and has good performance because we don't parse a mime structure that is never used later on. However, it breaks separation of concerns, since the decision how a part should be displayed (inline/attachment) is supposed to be made in `MessageExtractor`.
- In `AttachmentInfoExtractor`, write the `MimeBodyPart` back into a file that can be accessed through `DecryptedFileProvider`. Worse for performance since it means we needlessly parse the message structure just to write it down at a later point. This _also_ breaks separation of concerns but in a different way, since it assigns responsibility to `AttachmentInfoExtractor` to not only find a URI to access a part, but to create it in the first place.
"
k9mail/k-9,closed,fix DeferredFileBody,[],"in a surprising turn of events, `DeferredFileBody.writeMemoryToFile()` didn't create a file before trying to write to it, resulting in a NPE when this method was actually called.

I fixed that, and nailed down the behavior of `DeferredFileBody` with a bunch of tests.
"
k9mail/k-9,closed,hide keyboard when message is displayed,[],"...and not only after interaction pending intent. because it never makes sense to have a keyboard on screen when a message is displayed to the user.
"
k9mail/k-9,closed,Use json for serializing pending commands,[],"This PR moves all pending commands from MessagingController, which were previously stored as `String[]`, into strongly typed data structures and extracts the serialization mechanism into its own `PendingCommandSerializer` which is then implemented using moshi to serialize the data into JSON objects.

Comes with with tests for serialization, a migration layer, tests for the migration, and a total of -300/+70 lines for MessagingController. Such a beauty.
"
k9mail/k-9,closed,"Feature request: Add ""Edit as new ..."" to the main menu",[],"### Expected behavior

Add ""Edit as new ..."" 

1) I need re-use and edit  an email every week due to the long distribution list.
2) Once an email has been sent and failed (e.g. typo) I need to compose a new one rather than correcting the old one and send it out again

In both case I prevent the use of the ""reply"" function by intention.
Maybe it's already implemented, but I'm not aware of it.

Root cause ... using an Android tablett with   default settings   by intention.    copy&paste respective text-editing is a challenging procedure without cursor keys.
### Actual behavior

Use ""reply"" and remove manually all what the reply has added to the email.
### Steps to reproduce

Not applicable
### Environment

K-9 Mail version: 5.008

Android version: 4.0.3

Account type (IMAP, POP3, WebDAV/Exchange): unable to recover by the menus what account settings has been made ... it is one of IMAP or POP
"
k9mail/k-9,closed,small fix for alternate recipient adapter,[],"this slightly alters behavior when a non-contact address is picked, to
make sure a crypto status is shown in the alternate dropdown.
"
k9mail/k-9,closed,7 bit message generation instead of reencoding,[],"This is a follow-up to #1553, only the last six commits are actually new, but build on the testing structure from that PR - will rebase as soon as that one is merged.

This PR removes 8bit to 7bit reencoding, and changes MessageBuilder to create 7 bit clean messages right away.
"
k9mail/k-9,closed,MessageBuilder refactorings for tests,[],"couple of refactorings to improve testability of MessageBuilder:
- inject boundary generator
- inject uuid generator (for message ids)
- make send date and hideTimezone builder parameters

also adding a test with an attachment, and adding a check if `writeTo` output matches expected
"
k9mail/k-9,closed,java.net.UnknownHostException: Unable to resolve host (using mobile connection),[],"### Expected behavior

Sending and fetching mail possible when using mobile connection and when using Wi-Fi connection.
### Actual behavior

Sending mail and fetching mail fails when using mobile connection - everything works when using Wi-Fi. K9 is the only app that does not work when using mobile connection. The failure happens all the time so it is not dependent on a particular time or place or on the SMTP server. Background sync is ""Never"" so I manually fetch the mails from a SMTP server. As soon as I switch on Wi-Fi sending and fetching works normally.

K9mail-error:
_K9-Mail version: 5.010
Device make: LGE
Device model: Nexus 5
Android version: 6.0.1_

_com.fsck.k9.mail.MessagingException: Unable to get IMAP prefix
at com.fsck.k9.mail.store.ImapStore$ImapFolder.getPrefixedName(ImapStore.java:844)
at com.fsck.k9.mail.store.ImapStore$ImapFolder.internalOpen(ImapStore.java:902)
at com.fsck.k9.mail.store.ImapStore$ImapFolder.open(ImapStore.java:867)
at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:1041)
at com.fsck.k9.controller.MessagingController.access$400(MessagingController.java:111)
at com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:934)
at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
at java.lang.Thread.run(Thread.java:818)
Caused by: java.net.UnknownHostException: Unable to resolve host ""imap.web.de"": No address associated with hostname
at java.net.InetAddress.lookupHostByName(InetAddress.java:470)
at java.net.InetAddress.getAllByNameImpl(InetAddress.java:252)
at java.net.InetAddress.getAllByName(InetAddress.java:215)
at com.fsck.k9.mail.store.ImapStore$ImapConnection.open(ImapStore.java:2427)
at com.fsck.k9.mail.store.ImapStore$ImapFolder.getPrefixedName(ImapStore.java:842)
... 7 more
Caused by: android.system.GaiException: android_getaddrinfo failed: EAI_NODATA (No address associated with hostname)
at libcore.io.Posix.android_getaddrinfo(Native Method)
at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:55)
at java.net.InetAddress.lookupHostByName(InetAddress.java:451)
... 11 more_
### Steps to reproduce
1. Compose mail
2. Send it
   **OR**
3. (Manual) Fetch mails
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Get rid of EOLConvertingOutputStream,"[Label(name=""enhancement"")]","`EOLConvertingOutputStream` makes sure we consistently use CRLF for line endings when writing out messages. But really, we should never allow the creation of messages (we intend to send) that contain non-CRLF line endings. Once we get there we can get rid of `EOLConvertingOutputStream`.
"
k9mail/k-9,closed,Don't add additional CR LF to the end of a message when sending,[],"This is an alternative version of PR #1371
"
k9mail/k-9,closed,Add ability to 'snooze' or 'postpone' notifications for a given new mail,[],"This enhancement request is inspired by Google Inbox's ""snooze"" feature, where users can choose to snooze a new mail causing the app to hide the mail and then display it as 'new' (as if it were just received) at some user-configurable time in the future. 
"
k9mail/k-9,closed,MessagingController cleanup,[],"Some work on MessagingController. If I did things right, there should be no semantic changes in this PR. The most prominent changes are removal of unused parameters, cleanup of field types and names, minimization of method visibility, and moving MemorizingListener into its own class. I also made the background thread an implementation detail, MessagingController no longer implements Runnable as a public interface.
"
k9mail/k-9,open,Wrong SMTP server when sending mail,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior

k9 should use the SMTP server of the associated account.
### Actual behavior

k9 uses the SMTP server of a different account.
### Steps to reproduce

Unfortunately I'm not exactly sure how to reproduce this.

I have multiple accounts configured in k9. For the sake of simplicity let's assume these are `default@example.com` and `other@example.net`. I composed a new mail and changed the sender from my default account to the other one at the top, wrote the body and pressed send. The sender address was now correctly set to my other account but k9 tried to deliver it using my default account's SMTP server. The mail couldn't be send.

I was able to grab logcat output when the mail was attempted to be re-sent.
Naturally, the SMTP server rejected a mail that's not coming from the associated sender address: 

```
Negative SMTP reply: 553 5.7.1 <other@example.net>: Sender address rejected: not owned by user default@example.com
```

Full trace:

```
I k9      : Committing preference changes
I k9      : Preferences commit took 10ms
E k9      : Failed to send message
E k9      : com.fsck.k9.mail.MessagingException: Unable to send message
E k9      :  at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:539)
E k9      :  at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:495)
E k9      :  at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3563)
E k9      :  at com.fsck.k9.controller.MessagingController$20.run(MessagingController.java:3314)
E k9      :  at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
E k9      :  at java.lang.Thread.run(Thread.java:818)
E k9      : Caused by: com.fsck.k9.mail.transport.SmtpTransport$NegativeSmtpReplyException: Negative SMTP reply: 553 5.7.1 <other@example.net>: Sender address rejected: not owned by user default@example.com
E k9      :  at com.fsck.k9.mail.transport.SmtpTransport.checkLine(SmtpTransport.java:649)
E k9      :  at com.fsck.k9.mail.transport.SmtpTransport.executeSimpleCommand(SmtpTransport.java:690)
E k9      :  at com.fsck.k9.mail.transport.SmtpTransport.executeSimpleCommand(SmtpTransport.java:654)
E k9      :  at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:524)
E k9      :  ... 5 more
```

I later found the mail in the 'Outbox' folder of my default account.
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1, Cyanogenmod 13.0

Account type (IMAP, POP3, WebDAV/Exchange):
Both involved accounts use IMAP and SMTP.
"
k9mail/k-9,closed,Permanent retreive of lails on imap,[],"### Expected behavior

Get mails every 10 minutes After the launch of the smartphone
### Actual behavior

On the top of the screen I can show retrieve of mails in loop even if it is notice next retrieve in x minutes. I have a very big power consumption of the battery due to that bug.
### Environment

K-9 Mail version: 5.010

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Update SafeContentResolver to 0.9.0,[],"This version of SafeContentResolver uses [ReLinker](https://github.com/KeepSafe/ReLinker) to avoid running into `UnsatisfiedLinkError`.

Fixes #1394
"
k9mail/k-9,closed,"Context menu size and location changes, but not for more readability",[],"### Expected behavior

Long-press on message and the menu should appear in a good location and readable.
This is in a non-split screen mailbox view.
### Actual behavior

The messages closer to the top of the screen pop menus further down the screen, until it is almost unusable in the lower-right corner.
### Steps to reproduce

(see screenshots)
1. Long press on a message in the lower part of the screen. The menu appears as you'd expect.
![screenshot_20160804-072344](https://cloud.githubusercontent.com/assets/6990222/17407111/b721e560-5a2b-11e6-8ce4-774351aef63f.png)
2. Long press on a message at the top of the screen. The menu is down in the lower-right corner.
![screenshot_20160804-072405](https://cloud.githubusercontent.com/assets/6990222/17407117/bc79339c-5a2b-11e6-970f-e7c49514a860.png)
3. See the difference in the menu usability
### Environment

K-9 Mail version: 5.010

Android version: Android N Preview 5 on Nexus 5x

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Quick double-tap on Font size settings' sub-items leads to UI inconsistency,"[Label(name=""bug"")]","Double tapping an entry which has subentry in the settings entry should not do anything but what single tapping does. It may not even be allowed.

Currently, doing a quick double tapping on some of the settings show an unexpected behaviour of the UI.

Steps to reproduce:
- Open K-9, enter the global settings. Go in the Display / Font size menu.
- Super-quickly double-tap on Account list or another item in this list. See it's then displayed flickering?
- Now press Back. You're _not_ back to the Font size but you see an empty list.
- Back again and you reach the expected Font size menu.

K-9 Mail version: 5.010

Android version: Marshmallow 6.0.1 on a Samsung Galaxy A3 2016.
"
k9mail/k-9,closed,Crash when reporting issue by email,"[Label(name=""duplicate"")]","### Expected behavior

Should not crash :)
### Actual behavior

Tell us what happens instead
### Steps to reproduce
1. OsmAnd~ crashed and asked me to send report. I selected send by email with k-9, new draft email was created and in a second k9mail crashed. Draft of the OsmAnd bug was saved in remote folder, but incomplete.
### Environment

K-9 Mail version: 5.010 F-droid

Android version: 4.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

```
java.lang.RuntimeException: An error occured while executing doInBackground()
    at android.os.AsyncTask$3.done(AsyncTask.java:299)
    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
    at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
    at java.lang.Thread.run(Thread.java:856)
Caused by: java.lang.ExceptionInInitializerError
    at de.cketti.safecontentresolver.SafeContentResolverApi14.getFileUidOrThrow(SafeContentResolverApi14.java:36)
    at de.cketti.safecontentresolver.SafeContentResolver.openInputStream(SafeContentResolver.java:114)
    at com.fsck.k9.activity.loader.AttachmentContentLoader.loadInBackground(AttachmentContentLoader.java:58)
    at com.fsck.k9.activity.loader.AttachmentContentLoader.loadInBackground(AttachmentContentLoader.java:24)
    at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:301)
    at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:68)
    at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:56)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
    at java.lang.Thread.run(Thread.java:856)
Caused by: java.lang.UnsatisfiedLinkError: Couldn't load os-compat: findLibrary returned null
    at java.lang.Runtime.loadLibrary(Runtime.java:365)
    at java.lang.System.loadLibrary(System.java:535)
    at de.cketti.safecontentresolver.Os.<clinit>(Os.java:21)
    at de.cketti.safecontentresolver.SafeContentResolverApi14.getFileUidOrThrow(SafeContentResolverApi14.java:36)
    at de.cketti.safecontentresolver.SafeContentResolver.openInputStream(SafeContentResolver.java:114)
    at com.fsck.k9.activity.loader.AttachmentContentLoader.loadInBackground(AttachmentContentLoader.java:58)
    at com.fsck.k9.activity.loader.AttachmentContentLoader.loadInBackground(AttachmentContentLoader.java:24)
    at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:301)
    at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:68)
    at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:56)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
    at java.lang.Thread.run(Thread.java:856)
```

I am able to reproduce it by opening file manager, long tap on osmand exception file -> share -> K9 -> opens view -> crashes, not able to reproduce on images.
"
k9mail/k-9,closed,No Subject/No Text,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior

Tell us what should happen

I expect email to properly sync or at the least fix themselves after a new sync.
### Actual behavior

Tell us what happens instead

Today is the first time in a while it's happened, but I ended up with 4 emails in one screenshot getting this error.  They are real emails on the server side I can see fine.  This problem is only corrected by deleting the real emails and then syncing in k-9 to get rid of them.  I can't find a way to get the actual email to sync up.
### Steps to reproduce
1.  Just manual syncing and checking emails since I don't push/force sync.
   2.
   3.
### Environment

K-9 Mail version:

5.010

Android version:

5.0

Account type (IMAP, POP3, WebDAV/Exchange):

IMAP - yahoo

![screenshot_2016-08-03-13-13-16](https://cloud.githubusercontent.com/assets/15825729/17375079/8c498ff4-597d-11e6-93e2-ed9fb4ea9c4a.jpg)

I just enabled debug logging.  When it happens again I'll update with the log.
"
k9mail/k-9,closed,use vector drawables for all openpgp icons,[],"does what it says on the tin. I only tested this on my android 6 device, but checked the .apk file and there are .png files in `drawable-*dpi-v4` folders and the vector drawables themselves in `drawable-anydpi-v21`, as one would expect.
"
k9mail/k-9,open,Introduce foreign keys for database consistency,"[Label(name=""enhancement"")]","At the moment, we don't use foreign keys for database consistency, but use triggers here and there to simulate ON DELETE CASCADE behavior. We should move to foreign keys at some point, and set `PRAGMA foreign_keys = 1`.
"
k9mail/k-9,open,Improve gmail error handling,"[Label(name=""enhancement"")]","### Expected behavior

I should have been able to securely connect to my email.
### Actual behavior

I was shown the following two screens:

![screenshot_20160803-072217](https://cloud.githubusercontent.com/assets/5284470/17364012/b6f3d23c-594b-11e6-839c-0f56f723d086.png)

![screenshot_20160803-072229](https://cloud.githubusercontent.com/assets/5284470/17364019/bd7ed8cc-594b-11e6-8d19-696960d6f98c.png)

I also got an email to said account telling me that an non trusted app was trying to connect to my account. 

By activating 2FA (which everyone should do regardless) and create an app password I was able to add my account. I know neither if this is a good thing, nor if this is supposed to happen. A more descriptive error and a check to see what's going one would be nice! 
### Steps to reproduce
1. Create new Gmail account.
2. Try to add it to K9 using your Google credentials.
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): Default (IMAP I assume)
"
k9mail/k-9,closed,Load attachments from AttachmentViewInfo in AttachmentPresenter,[],"Building on #1392, this PR gets rid of all the remaining part parsing logic in AttachmentPresenter. I also moved the ""is attachment available"" logic into AttachmentInfoExtractor so it can be used in both Compose and MessageView.

This PR should fix #819.
"
k9mail/k-9,closed,compose: try performing recipient completion on send (fixes #1495),[],"This commit performs completion on recipient fields when the send button
is clicked (uncompleted text is usually present if the cursor is on the
recipient field at that time).

If any completion was performed, sending is quietly aborted. This avoids
sending mail to the wrong recipient if the uncompleted text doesn't
resolve to what the user thought.
"
k9mail/k-9,closed,compose: show parse error for non-ascii characters in address,[],"This doesn't fix #1328, but it improves error handling a bit.
"
k9mail/k-9,closed,K-9 mail and letsencrypt,[],"### Expected behavior

K-9 connects with an IMAP or SMTP server with a certificate issued by letsencrypt.org without any problems.
### Actual behavior

K-9 when trying to connect to an IMAP or SMTP server with a certificate issued by letsencrypt.org returns an invalid certificate warning and asks to accept or decline it.
### Steps to reproduce
1. Add any IMAP or SMTP server with a certificate issued by letsencrypt.org and try to connect.
### Environment

K-9 Mail version:
5.010
Android version:
5.1.1 (CM12.1)
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,unable to paste text in email body,[],"### Expected behavior

When text has been copied to the clipboard, long pressing in the email body when composing a mail should show the option to paste.
### Actual behavior

There is no option to paste text when long pressing
### Steps to reproduce
1. Compose mail
2. Copy text either from the mail or from any other app on the device
3. Long press in the mail to paste it, no option to paste
### Environment

K-9 Mail version: 5.110

Android version: CyanogenMod 13, Android 6.01

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

![screenshot_20160731-101408](https://cloud.githubusercontent.com/assets/1474209/17278070/1ccc5444-5708-11e6-85d7-26c45e6fc4dd.png)
"
k9mail/k-9,open,Sync stops after WiFi turned off,[],"I have been having problems with K-9 for several weeks.  It appeared K-9 would randomly stop syncing my email.  I finally figured out what was causing the problem.  I started activating WiFi to help with call quality in my home office a few weeks back.  I turn off WiFi when I no longer need it or when I leave the office.  I started having sync problems around the same time I started using my WiFi.  It took me a little time to put two and two together but I finally did a test and sure enough, it's the WiFi.  When I turn it off, I get a message ""Syncing Off"".  I then have to go into my settings for one of the accounts, and even though nothing has changed, I would have to press a syncing interval and then it would reactivate.  This is a pretty nasty bug in the system that needs to be corrected.

I am using a Samsung Galaxy Note 4.  I have two Pop3 email accounts tied to my phone.  It has a pretty standard configuration and I have it set to check for emails every 5 minutes.  Network background syncing is set to always.

Please fix this.

LSK333
"
k9mail/k-9,closed,ISSUE: Puzzling behavior with creating Yahoo accounts in K-9: v5.010 and Android: v6.0.1,[],"### Expected behavior

I have two Yahoo email accounts:

xxxxxxxxxxxxxxx@yahoo.com
xxxxxxx_xxxxxxxxx@yahoo.com

Both have the same password.

You would expect that both accounts would be created in K9-Mail.
### Actual behavior

xxxxxxxxxxxxxxx@yahoo.com

works and

xxxxxxx_xxxxxxxxx@yahoo.com

fails.
### Steps to reproduce

I created both accounts in K-9 Mail using:

INCOMING:

IMAP server: imap.mail.yahoo.com
Security: SSL/TLS
Port: 993
Username: [email name]@yahoo.com
Authentication: Normal password
Password: ***************
Auto-detect IMAP namespace: Checked
IMAP path prefi: <blank>
Show only subscribed folders: Unchecked
Use compression on network: All checked (Mobile, Wi-Fi, Other)

OUTGOING:

SMTP server: smtp.mail.yahoo.com
Security: SSL/TLS
Port: 465
Required sign-in: Checked
Username: [email name]@yahoo.com
Authentication: Normal password
Password: ***************
### Environment

K-9 Mail version: v5.010

Android version: v6.0.1 on Nexus 6P

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Feature Rquest: Go offline,"[Label(name=""enhancement"")]","Im not too sure if this is already there, but i cannot find it anywhere.

An option for going offline for a specific account should be available for each email account. When holding the email account down to open a menu there should be an option there for ease of use.
Until the user feels that the email account should come online, then he can manually switch it on again.

Any thoughts?
"
k9mail/k-9,closed,don't crash if headers aren't available,[],"it's a LEFT JOIN, so we should check for null~
"
k9mail/k-9,closed,fix logic in MessageLoaderHelper,[],"boolean off by one
"
k9mail/k-9,closed,pass MessageReference instead of LocalMessage to MessagingController operations,[],"Ideally, the UI code should only ever deal with extracted data for display (like MessageViewInfo) and refer to messages by `MessageReference`s otherwise to trigger actions on these messages.

This PR is a first step in that direction, changing the parameters of move, copy and delete operations in `MessagingController` to take `List<MessageReference>` instead of `List<LocalMessage>`. I started changing only one of these methods, but they are all implemented very analogously so doing all of them wasn't much more work.

This is mostly untested, waiting for feedback on the general direction before I proceed.
"
k9mail/k-9,closed,FancyPart (WIP),"[Label(name=""needs work"")]","This PR moves all methods which return metadata based on the headers of a part out of the `Part` class, and into `FancyPart`. Yes this is not a good name, please suggest a better one. Something like `PartMetadataExtractor`? or just `PartMetadata`?
"
k9mail/k-9,closed,Load headers immediately,"[Label(name=""needs rebase"")]","This PR removes the `throws MessagingException` from `getHeader` family of methods in the Part interface. Those were necessary because LocalMessage loaded headers lazily from the database, which might have thrown. This exception was problematic because there was no good way to deal with it, and the relevant error handling code did everything but handle the error correctly.

The lazy loading ""optimization"" itself a remnant of the old database structure, where we had a headers table which kept one row per header, which made this query fairly expensive. At this point, we can just join the header field of the root part in when we load all other data of LocalMessage and be done with it.
"
k9mail/k-9,closed,"Using ""Do not disturb"" disables automatic sync",[],"When I use Android's ""Do not disturb"" feature with the ""Priority only"" option set to the next alarm, after waking up, K-9's automatic syncing is disabled.
### Steps to reproduce
1. Set an alarm for at least 6 hours in the future (please note that I mention 6 hours because I haven't tested it with lower values).
2. Enable ""Do not disturb"" with ""Priority only"" set to ""Until XYZ (next alarm)"".
3. After the alarm rings and do not disturb has been reset, you'll find that automatic syncing has been disabled in K-9.
### Environment

K-9 Mail version: 5.010 (installed using F-Droid)

Android version: 6.0.1
Model: Nexus 6P

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Suggest server name based on server type,[],
k9mail/k-9,closed,"ask for confirmation on ""mark all as read""",[],"does what it says on the tin
"
k9mail/k-9,closed,Set attachment count to zero for encrypted messages,[],"There is no point to having the attachment symbol on encrypted messages, so this PR sets it to zero if EncryptionDetector says the message is encrypted.

I also changed EncryptionDetector to use the encrypted part detection methods in MessageDecryptVerifier (yes I know the name sucks), so what is displayed as encrypted in the message index conforms with the crypto we actually handle.
"
k9mail/k-9,closed,compose: enable long click on recipient select view,[],"This PR enables long-click on RecipientSelectView, to allow pasting.

This leads to some problems: Copying is still broken, and if more than one token is actually parsed. However, for the common use case of parsing a single address, it seems to work just fine, so this hopefully does more good than harm.

see also https://github.com/splitwise/TokenAutoComplete/issues/95
"
k9mail/k-9,closed,inject loader manager to RecipientSelectView via presenter,[],"This PR changes RecipientSelectView to retrieve its the loader manager from the RecipientPresenter on initialization, rather than implicitly acquiring it from the context under the assumption that it's an activity.

After that, it will silently ignore all recipient popup callbacks when loader manager is null. This should fix the crashes from #1251, and there should theoretically be no scenario where a callback is lost when the view is actually displayed.
"
k9mail/k-9,open,Make configurable whether to save message to server,"[Label(name=""enhancement"")]","It would be great if I could uncheck a box while sending a message, resulting in the client not saving the message to the server's sent folder.
"
k9mail/k-9,closed,Add support for message part deletion,[],"At least mutt allows me to delete individual MIME message parts, e.g. large image attachments, and to store the message with a replacement note (""this image has been deleted on yyyy-mm-dd""). It would be cool if K9 let me do this too as I otherwise often have to wait to get back to mutt before I can archive a message with a huge attachment that I do not need to keep.
"
k9mail/k-9,closed,request: support more encryption schemes,[],"k-9 mail can use encrypted authentication with cram-md5. if possible, let users select the encryption scheme so servers that store passwords with sha512-crypt can be accessed without plain passwords
"
k9mail/k-9,closed,"Ditch ""hidden attachments""",[],"- no ""More"" button anymore, attachments are either displayed or they aren't
- all attachments are first class, unless they have content-disposition ""inline"", and have a content-id (i.e. are displayed inline inside html)
- only first class attachments are displayed
"
k9mail/k-9,closed,"don't trust X_DOWNLOADED_FULL flag, consider messages with missing data incomplete (WIP)",[],"This is an experimental fix for #1243 with the following changes, the overall idea is to allow recovery from a state where part files which should be on disk are missing.
- the flag which decides whether a message is complete, and whether the ""Download Complete Message"" button is shown, is moved into MessageViewInfo, the relevant logic into MessageViewInfoExtractor
- if a file-backed part is missing its related file, the `FileBackedBody` won't be created (leaving the part with a null body)
- a message is considered incomplete if either it doesn't have an X_DOWNLOADED_FULL flag, _or_ it is missing the body of any message part
- automatic download of (partial) message content on view is triggered only if neither X_DOWNLOADED_PARTIAL nor X_DOWNLOADED_FULL flags is set, to avoid loops if a message can't be downloaded properly
- loadMessageRemoteSynchronous will always download a message. This is currently only called exactly if the user clicks the ""Download Complete Message"" button, so this seems reasonable?

Feedback welcome
"
k9mail/k-9,closed,couple of broken message fixes,[],"This PR contains three fixes, for the related but separate problems mentioned in #1201:
- the ""text"" mimeType is treated the same as ""text/plain"" in our message parsing
- AttachmetInfoExtractor can now handle LocalMessage parts, which can happen if the message Content-Type isn't something we can display inline and is instead treated as an attachment
- fix delayed crash in AttachmentProvider on missing part

I only noticed #1246 as I was writing this message, which introduced the `text` fix, too. I would argue that [if Thunderbird handles this content-type, who are we to disagree?](https://github.com/mozilla/releases-comm-central/blob/644b5a1487f60d73010dee11fcc6631cf7cc897f/mailnews/mime/src/mimei.cpp#L500)  If we really don't want it, feel free to rebase out the relevant commit.
"
k9mail/k-9,closed,use mimeType and boundary values from BodyDescriptor over header values,[],"We get a BodyDescriptor in `startMultipart`, which gives better values for mimetype and boundary than our `MimeUtility.getHeaderParameter` values. One particular instance where it gives better values is a duplicate Content-Type header where the first one is empty and the second one is valid (see #1333).

We definitely want to use mime4j for all our parsing needs. However, this PR slightly reduces our parsing consistency, since there are other places (i.e. all places where `getContentType` + `MimeUtility.getHeaderParamet` is used to get the mimetype or boundary value) which use the old logic.  It's a little difficult to get that right since those header parsing methods aren't very exposed in mime4j... still, it's an improvement.
"
k9mail/k-9,closed,Sanitize HTML in MessageViewExtractor instead of MessageWebView,[],"This PR moves more data processing, namely the html header construction and sanitization, into extractor classes, saving a bunch of processing time on the ui thread.

It is arguable if addition of the viewport meta tag shouldn't be kept in the MessageWebView, since that bit is about a specific behavior of the WebView. However, if we do that we seperate it from other header pieces like theming and fonts, ripping apart the header creation. So I decided to move all of that into HtmlConverter. I suppose HtmlConverter is slowly approaching a point where it does too much, but we can always split it apart later. 
"
k9mail/k-9,closed,Loader helper fixes,[],"Just two small fixes for MessageLoaderHelper:
- don't leak Context, FragmentManager and LoaderManager after detach (see #782)
- check that callbacks we get actually relate to our MessageReference before processing them
"
k9mail/k-9,closed,'Mark all as read' action cannot be configured as the one that requires confirmation,[],"### Expected behavior

Confirmation dialog pops up.
### Actual behavior

OMG ABSOLUTELY EVERYTHING IS MARKED AS READ MY DAY IS RUUUUINED
### Steps to reproduce
1. Smash 'Mark all as read' by accident
### Environment

K-9 Mail version: 5.010

Android version: any

Account type (IMAP, POP3, WebDAV/Exchange): any
"
k9mail/k-9,open,Add interface to allow Spam filtering by third-party apps,"[Label(name=""enhancement"")]","I don't want to include a Spam filter into the app itself. Instead we could add an interface that allows third-party apps to provide Spam filtering capabilities.
"
k9mail/k-9,closed,Unable to View Messages,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior

When I tap on a message, I should be able to read that message. 
### Actual behavior

The message opens, but the message contents are missing. 
### Steps to reproduce
1. Tap on Google email message.
2. Message opens. 
3. There is no message.
4. Rinse and repeat for each Google email account.
5. Try uninstalling and reinstalling. No change.
### Environment

K-9 Mail version: 5.110

Android version: 5.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Add Globals class so we can avoid passing Context through layers of code,[],"If your class requires a Context instance make it a constructor argument. Then create a static factory method that calls Globals.getContext(). The result can then be passed to the constructor.
This allows testing individual classes using test doubles by directly invoking the constructor and not having to deal with Globals. For integrated tests spanning multiple classes you might have to use Globals.setContext().
"
k9mail/k-9,closed,"Regression: With Office 365, read messages become unread upon next sync","[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior

When configured to use IMAP with Office 365, if I read a message in k-9 mail or mark it as read:
- It should stay ""read""
- It should show as ""read"" in my other email clients.
### Actual behavior

The message stays ""read"" until it syncs again, after which it becomes unread again.
- This is a regression. It used to work perfectly. 
- Changed in the last week or so.
- My Thunderbird client does not exhibit this behavior for the same account.
- My other, non-Office-365, IMAP accounts do not exhibit this behavior in k-9 mail.
### Steps to reproduce
1. Configure k-9 mail as directed under MS Outlook Office 365 Options:Mail:Accounts page:
   
   **IMAP**
   Server name: outlook.office365.com
   Port: 993
   Encryption method: SSL (Using SSL/TLS)
   
   **SMTP**
   Server name: smtp.office365.com
   Port: 587
   Encryption method: TLS (Using STARTTLS)
2. Read an email message (with k-9 configuration set to mark viewed emails as read)
3. Close message - Message appears greyed (read)
4. Re-sync with Office 365
5. Message appears white (unread)
### Environment

K-9 Mail version: 5.010
Battery optimization is disabled for k-9 mail

Android Version: 6.0

Security patch level: May 1, 2016

Configuration version: L14.MOT.XT1585.0

Kernel version: 
3.10.84-perf-g4efa46e
hudsoncm@ilclbld85 #1
Tue Jun 21 12:05:08 CDT 2016

System version:
24.14.16.kinzie_verizon.verizon.en.US

Build number: MCK24.78-13.16

Hardware:
Verizon DROID Turbo2
**Software updated to 24.14.16.en.US
Applied - July 01, 2016 at 13:51   <----------------??**

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"Cannot Paste into ""To"" field","[Label(name=""bug"")]","### Expected behavior

Paste context dialog should come up when long clicking into ""to"" field.
### Actual behavior

Nothing happens
### Steps to reproduce
1. Long click into ""to"" field
### Environment

K-9 Mail version: 5.110

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,show archive & spam actions when all accounts are copy capable,[],"When viewing a message list, added a check to determine if all accounts included in the list are 'copy capable'. This check is then used in the multiple account scenario to determine whether or not to enable the archive and spam operations when multiple items are selected.

This solves a big pain point for me because I use both delete and archive extensively and the lack of the ability to archive multiple items at once in the unified mail list resulted in a poor workflow.

I hope this pull request is up to your standards. I am new to both android and this project, and any feedback on this request would be welcome.

Thanks for your all your hard work on this project!
"
k9mail/k-9,open,Feature request: Enable image download on WiFi ,"[Label(name=""enhancement"")]","### Expected behavior

Provide image download 3 options
Always, only WiFi, 
### Environment

K-9 Mail version:5.010

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Decrypted reply,[],"(based on #1484, only the last six or so commits are actually relevant)

This PR introduces a couple of changes to make reply and forward pgp/mime aware:
- decryption info from message view is passed to the compose dialog, to avoid user interaction (passphrase/yubikey) for decryption
- extraction logic uses the decrypted message root part
"
k9mail/k-9,closed,Webdav (Exchange) sending email is broken since v5.109 (alpha),"[Label(name=""bug""), Label(name=""needs info"")]","Android version: 6.01

Using K-9 Mail v5.010 (stable) i could send emails using my old WEBDAV account.
But never delete emails on the server.
Then Updated to K-9 Mail v5.109 (alpha) / and also to K-9 Mail v5.110 (alpha).
Now I can delete emails on the server, but I can not send emails any more.
They end up on the outgoing folder.
Sorry I can't tell you the error message. The message text is too long so it's truncated...

Then Downgraded (titanium Backup / also the database) and sending emails is working again.
"
k9mail/k-9,closed,Feature request: poll when wifi connection becomes available,[],"### Expected behavior

When a new WiFi connection is made (from a formerly Mobile connection), poll the mailboxes (when 'Poll when connecting for push' is enabled).
### Actual behavior

Now, 'Poll when connecting for push' always polls, also when the connection changes from WiFi to Mobile. This consumes a lot of data when the WiFi connection drop regularly. From Mobile to WiFi, there is no data penalty.
### Steps to reproduce
1. Enable 'Poll when connecting for push'.
2. Connect to WiFi
3. Disable WiFi
4. K9 starts polling
### Environment

K-9 Mail version: 5.010

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,Feature Request: Save to eml file ,"[Label(name=""enhancement"")]","A save to eml file format option would be great 
"
k9mail/k-9,closed,Some TLDs are not converted to links when using plain text,[],"### Expected behavior

when receiving plain text emails with URLs containing TLDs like ""link"" or ""online"" the URL should be converted into a link.
### Actual behavior

www.whatever.link or www.whatever.online are NOT converted into a link. It's just plain text. Not clickable.
### Steps to reproduce
1. receive a plain text email containing an URL with a TLD like ""link"" or ""online""
### Environment

K-9 Mail version: 5.010

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Unified Inbox does not update until individual accounts' inboxes refreshed,"[Label(name=""needs info"")]","### Expected behavior

Unified Inbox should display all accounts' inbox mail
### Actual behavior

Unified Inbox does not update until individual accounts' inboxes refreshed.
### Steps to reproduce
1. Create more than one account, each having mail in its inbox
2. Attempt to refresh Unified Inbox & observe non-updating.
3. Refresh individual accounts' inboxes, return to Unified Inbox and observe it to be updated correctly.
### Environment

K-9 Mail version: 5.010
[k9-log.txt](https://github.com/k9mail/k-9/files/356119/k9-log.txt)

Android version: Android 5.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"""To"" field does not convert typed email addresses to tokens on send","[Label(name=""bug"")]","### Expected behavior

Autocomplete address field ""To"" should convert typed email addresses to tokens when clicking send
### Actual behavior

It does not, shows ""Recipient field contains incomplete input!""
### Steps to reproduce
1. compose mail
2. write body subject and in the last step write email address into ""To"" field without selecting an email address from the dropdown
3. click send
### Environment

K-9 Mail version: 5.110

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Crash when deleting all messages in threaded view,"[Label(name=""bug"")]","### Expected behavior

K9-mail should not crash when deleting all messages in a thread.
### Actual behavior

K9-mail crashes when deleting all messages in a thread. If you delete all but one and then the last one then it goes fine.
### Steps to reproduce
1. Enable threaded view
2. Enter a thread with a bunch (10 or so) of messages
3. Select all messages and delete them
### Environment

K-9 Mail version:5.010

Android version:
6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (dovecot)
### Logcat

```
07-08 21:38:56.122 10519 10519 E AndroidRuntime: java.lang.IllegalStateException: attempt to re-open an already-closed object: SQLiteQuery: SELECT m.id AS id,uid,internal_date,subject,date,sender_list,to_list,cc_list,read,flagged,answered,forwarded,attachment_count,folder_id,preview,root,name FROM threads t JOIN messages m ON (m.id = t.message_id) LEFT JOIN folders f ON (m.folder_id = f.id) WHERE root = ? AND deleted = 0 AND (empty IS NULL OR empty != 1) ORDER BY read ASC, date DESC, m.id DESC
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.database.sqlite.SQLiteClosable.acquireReference(SQLiteClosable.java:55)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:58)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:151)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.database.sqlite.SQLiteCursor.onMove(SQLiteCursor.java:123)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.database.AbstractCursor.moveToPosition(AbstractCursor.java:236)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.database.CursorWrapper.moveToPosition(CursorWrapper.java:197)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.database.CursorWrapper.moveToPosition(CursorWrapper.java:197)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.database.CursorWrapper.moveToPosition(CursorWrapper.java:197)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at com.fsck.k9.cache.EmailProviderCacheCursor.moveToPosition(EmailProviderCacheCursor.java:112)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.database.CursorWrapper.moveToPosition(CursorWrapper.java:197)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.CursorAdapter.getItemId(CursorAdapter.java:258)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.HeaderViewListAdapter.getItemId(HeaderViewListAdapter.java:194)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.AbsListView$RecycleBin.retrieveFromScrap(AbsListView.java:6868)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.AbsListView$RecycleBin.getScrapView(AbsListView.java:6598)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.AbsListView.obtainView(AbsListView.java:2345)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.ListView.makeAndAddView(ListView.java:1876)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.ListView.fillDown(ListView.java:702)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.ListView.fillSpecific(ListView.java:1367)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.ListView.layoutChildren(ListView.java:1663)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.AbsListView.onLayout(AbsListView.java:2148)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.View.layout(View.java:16722)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewGroup.layout(ViewGroup.java:5438)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:336)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.FrameLayout.onLayout(FrameLayout.java:273)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.View.layout(View.java:16722)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewGroup.layout(ViewGroup.java:5438)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1743)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1586)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.LinearLayout.onLayout(LinearLayout.java:1495)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.View.layout(View.java:16722)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewGroup.layout(ViewGroup.java:5438)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:336)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.FrameLayout.onLayout(FrameLayout.java:273)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.View.layout(View.java:16722)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewGroup.layout(ViewGroup.java:5438)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:336)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.FrameLayout.onLayout(FrameLayout.java:273)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.View.layout(View.java:16722)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewGroup.layout(ViewGroup.java:5438)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:336)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.FrameLayout.onLayout(FrameLayout.java:273)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.View.layout(View.java:16722)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewGroup.layout(ViewGroup.java:5438)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at com.android.internal.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:493)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.View.layout(View.java:16722)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewGroup.layout(ViewGroup.java:5438)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:336)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.widget.FrameLayout.onLayout(FrameLayout.java:273)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at com.android.internal.policy.PhoneWindow$DecorView.onLayout(PhoneWindow.java:2685)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.View.layout(View.java:16722)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewGroup.layout(ViewGroup.java:5438)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2175)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1935)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1111)
07-08 21:38:56.122 10519 10519 E AndroidRuntime:    at android.view.ViewRootImpl$TraversalRunnable.
```
"
k9mail/k-9,open,"When moving mail a second time, the folder list scroll position is off by 1","[Label(name=""bug""), Label(name=""help wanted"")]","### Expected behavior

If you're going to move messages to specific folders, the last used destination folder should always be displayed as first entry.
### Actual behavior

If you're going to move messages to specific folders, always the folder which follows the last used destination folder is displayed as first entry.
### Steps to reproduce
1. Beside the Inbox you've create several destination folders in which you want to archive your email.
   Lets assume that these folders are called `a-folder`, `b-folder`, `c-folder` ...
2. Now you mark one or more messages, touch the folder icon and select the folder named `a-folder` as destination folder.
3. Again you mark one or more messages, touch the folder icon and want to select the previously used destination folder named `a-folder`. Unfortunately the first displayed folder on the selection list is now `b-folder` instead of `a-folder`. You have to scroll on folder up to select `a-folder` again.
4. This behavior can be reproduced every time you want to move messages to folders.
### Environment

K-9 Mail version: 5.0.10

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Basic material theme on Android 5.0+ devices,[],"It looks much better and it does not require so much work... More work is needed, of course. But I think even this basic material theme can not hurt anybody.
"
k9mail/k-9,closed, disconnected / android n,"[Label(name=""duplicate"")]","Hi

With 5.010 version, on android n beta4, probably because of doze mode, k9mail is always disconnected.
Push mail do not work anymore.

Thanks
"
k9mail/k-9,closed,[Enhancement] Improve Spam Detection and include more grainular options for spam filtering. ,[],"### Expected behavior

Functional spam filter with reasonable detection rates.
### Actual behavior

Substantial amounts of obvious spam and sexually explicate emails are making it into my unified inbox. 
messages of the type that are easily caught by most desktop email clients. 
marking messages as Spam does not seem to provide any benefit in terms of training or improved recognition.
### Steps to reproduce

Use an IMAP email service that lacks internal server-side spam filtering.
Mark Such Messages as Spam
### Environment

K-9 Mail version: 5.101

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,UX for Import of unknown keys nonuniform,"[Label(name=""enhancement"")]","### Expected behavior

Importing an OpenPGP key if one is missing should be available with one click on the crypto icon in the top right corner
### Actual behavior

For signed emails this works, for signed+encrypted emails a click on the crypto icon first opens the crypto dialog. This should however go directly to the import.
### Steps to reproduce
1. signed+encrypted email
2. click on crypto icon
### Environment

K-9 Mail version: 5.110

Android version:6
"
k9mail/k-9,closed,Disable settings import via VIEW Intent,[],"Importing by URI isn't properly supported. We want to fix this eventually, but for now we just remove the functionality.

Fixes #1483
"
k9mail/k-9,closed,SSL error with IMAP server after upgrading to Cyanogenmod 13,[],"I always used K9 with my work IMAP account. Yesterday I upgraded my phone to Cyanogenmod 13, and K9 to the newest version. Now I get SSL errors when I try to connect to the server. It seems the same in the build in email app, however the ""Outlook"" email apps seems to work fine. I can get mail from the server fine with Thunderbird on Windows also.

Sending seems to work ok. Other email accounts (for example gmail) work fine using IMAP. 
### Environment

K-9 Mail version:
5.010
Android version:
Cyanogenmod 13.0
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP, SSL/TLS, normal password
### Error

K9-Mail version: 5.010
Device make: samsung
Device model: GT-I9300
Android version: 6.0.1

com.fsck.k9.mail.MessagingException: IO Error
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.ioExceptionHandler(ImapStore.java:2208)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.internalOpen(ImapStore.java:947)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.open(ImapStore.java:867)
    at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:1041)
    at com.fsck.k9.controller.MessagingController.access$400(MessagingController.java:111)
    at com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:934)
    at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
    at java.lang.Thread.run(Thread.java:818)
Caused by: javax.net.ssl.SSLHandshakeException: Handshake failed
    at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:396)
    at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:629)
    at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:591)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.open(ImapStore.java:2460)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.sendCommand(ImapStore.java:2872)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.executeSimpleCommand(ImapStore.java:2921)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.executeSimpleCommand(ImapStore.java:2902)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.executeSimpleCommand(ImapStore.java:858)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.internalOpen(ImapStore.java:904)
    ... 6 more
Caused by: javax.net.ssl.SSLProtocolException: SSL handshake terminated: ssl=0x4c52bbe0: Failure in SSL library, usually a protocol error
error:100c5410:SSL routines:ssl3_read_bytes:SSLV3_ALERT_HANDSHAKE_FAILURE (external/boringssl/src/ssl/s3_pkt.c:972 0x4c04ba30:0x00000001)
error:100c009f:SSL routines:ssl3_get_server_hello:HANDSHAKE_FAILURE_ON_CLIENT_HELLO (external/boringssl/src/ssl/s3_clnt.c:750 0x43354757:0x00000000)
    at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
    at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:324)
    ... 14 more
"
k9mail/k-9,open,K9 search failure in folder Sent?,"[Label(name=""enhancement"")]","### Actual and Expected behavior

In the INBOX when I'm looking for more mails from a special sender (option[in German_language]:""Mehr von diesem Absender"") all is like expected.
Example: If I got a mail from Alice - do a long press on this mail and choose the option ""more from this sender"" - I got all mails from Alice. Just fine!
BUT in the folder SENT when I'm looking for more mails send to a special person, I expect that the search function is looking for recipients and not for senders. 
Example: If I answered once a mail from Alice and my name is Bob, I have this mail in the folder SENT. Long press on this mail and choose the option ""more from this sender"" - I got all mails from Bob he was sending what is the whole content of SENT. Corresponding to the name of the option the result is just fine too, BUT not expected! If I have only one mail-address sending mails from, everytime I will search for mails send to Alice or someone else the result is always the same: all messages sent from Bob.

Question: Is there a possibility to at a search option named ""more from this recipient""?
Or give us the freedom of search over a keyword like From:  and To: to specify our search.
There are people who uses more than one mail address getting and sending mails from/to.
So, the option ""more from this recipient"" would be appreciate a lot. THX.
### Steps to reproduce
1. Go to folder SENT
2. Long press to a mail sent to someone, but not you, till options are shown.
3. Choose option ""More from this sender (Mehr von diesem Absender)""
4. Always got the whole content of folder SENT (only if you use one mail address sending mails from)
5. Expected as result are the mails to the recipient.
### Environment

K-9 Mail version:5.010

Android version:4.2.2

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,closed,Setting: only show notifications for messages from contacts,[],"I cleaned up and made minor additions to the work done in PR #1395 
"
k9mail/k-9,closed,decrypted file provider,[],"This PR improves the temporary decrypted part caching situation, with the following changes:
- specialize FileProvider to DecryptedFileProvider. Decrypted parts are sensitive enough that its mechanisms really shouldn't be muddled together with other provided files.
- introduce FileProviderInterface which exposes methods for creating files and retrieving a URI for it, to decouple the FileProvider logic from the place where it is used while also keeping the file management in one place
- decrypted file provider files are deleted on screen off if they are three minues or older by a BroadcastReceiver
- the BroadcastReceiver is started when `createProvidedFile` is called, and unregisters itself when no files are left in the directory
- cleanup is also triggered `onTrimMemory` for `TRIM_MEMORY_COMPLETE` and above, to avoid a situation where the BroadcastReceiver is killed due to low memory

there's also a couple of tests for AttachmentResolver and AttachmentInfoExtractor.

one more loosely related change, I moved the `txt -> text/plain` association up in the list, so the reverse lookup for those files now uses `.txt` instead of `.bas` as default extension for those files

Note that, at the end of the day, this is still a heuristic: if the user opens a mail, waits three minutes, turns off the screen, turns it on again, opening attachments _will_ fail. It would be possible to make a check in `onResume` of the displaying activity, but the error scenario is very rare and bad URIs are usually handled gracefully so I don't think it's worth the complexity.
"
k9mail/k-9,closed,Import file not imported when opened from the internet,[],"### Expected behavior

When opening a k9 settings xml file downloaded from the internet via the web browser (application/x-k9settings, extension k9s), application should open with the import dialogue and ask if you wish to import global/account settings.

Importing the same settings using the import function works fine.
### Actual behavior

Accounts screen opens. No import is triggered.
### Steps to reproduce
1. Download the file from a suitably configured web server (must set the ""Content-Type: application/x-k9settings;"" header)
2. Save file
3. Open (from the web browser - Chrome in this instance)
### Environment

K-9 Mail version: 5.010

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,libos-compat.so,[],"Hi!
I have built K9 from source and it has been very easy since the source is very clean and well organised, thanks to you!
Then I wanted to build libos-compat.so, but its source isn t in K9's, all there is in K9 is an already compiled version.
I downloaded SafeContentResolver-0.1.0 and built it, but the resulting file is much bigger than the one you use in K9 (70 kb whereas yours is only 9 sommething kb). 
The file is built within the SafeContentResolver-v14.aar and that s probably why it s heavier, the README file says that v21 is much lighter. But, impossible to have it to build with v21...
Or maybe your file is smaller because you used only part of it for K9, with the ABI options?
The thing is that I searched and I searched and I could t find anywhere how to build that lib the K9 way.
Would you mind sharing the way you did it?
Thanks in advance!
"
k9mail/k-9,closed,auto-completion of email addresses,[],"this is more a feature request than an issue...

would it be possible to auto complete new-email's TO/CC/BCC fields based on senders/receivers of already pulled and locally stored emails ?

Indeed, I like K9 because it allows me to send/receive emails without requiring to be linked to my device's gmail account, thus saving part of my privacy.

Also, my 'contacts' do contain only minimal infos about my friends (in case the device would be robbed and to protect their privacy against Google).

In such a context, k9 does not provided any auto completion :(
"
k9mail/k-9,closed,Date format not recognized,[],"### Expected behavior

The date of the email header ""Date"" should be displayed.
### Actual behavior

The date when the mail was synced is shown.
### Steps to reproduce

Have a mail which date format is the following:Tue, 01 Dec 09 02:37:10 MET
### Environment

K-9 Mail version: 5.010
Android version:5.1.1
Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Additional informations:
Mails in format Tue, 01 Dec 09 02:37:10 +0100 (MET) are working fine.
Mails on the server can be identified by `grep -LZE ""^Date: .* ((\+)|(\-)){1}[0-9]{4}"" * -r | xargs -0 grep ""Date: ""`
"
k9mail/k-9,closed,Fix extracting alert text from negative IMAP responses,[],"We currently don't use the alert text. But especially for authentication errors we should show the alert text to the user.
This PR fixes the extraction of the alert text from the server response.
"
k9mail/k-9,closed,http-equiv refresh still exploitable in stable,"[Label(name=""duplicate"")]","### Expected behavior

_&lt;meta http-equiv=""refresh"" content=""..."" /&gt;_ tags should not be honored.
### Actual behavior

_&lt;meta http-equiv=""refresh"" content=""..."" /&gt;_ are honored.

This means an email can trigger any uri passed to it.

Note that this is **not limited to http[s]** uri:s but any uri (sms:, tel:, ...) works.

As per #712, this was first reported almost a year ago. I was unable to determine if the fix had propagated from master to stable, but considering the severity of the issue, I cannot imagine it being postponed for over a year.
### Steps to reproduce
1. Send an html email to yourself with the following body:

``` html
<html>
<head>
<meta http-equiv=""refresh"" content=""3;url=https://github.com/k9mail/k-9/"" />
</head>
<body>
foo bar baz
</body>
</html>
```
1. Open the email in k-9.
2. Be redirected.
### Environment

K-9 Mail version: 5.010
Android version: 5.0.2
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Unable to find which email has not been sent,"[Label(name=""enhancement"")]","### Expected behavior

Tell us what should happen
1. disconnect the phone from any internet connection
2. write & send an email
3. K9 will complain about email not being sent
4. Do not resolve the problem by lack of time
5. reconnect & use phone as usual for some time
6. reopen K9 a few days/weeks later and discover that there is still an error
7. try to find what email is the source of the error and fail by lack of information from K9's error messages
### Actual behavior

Tell us what happens instead

K9's error messages should point to the message that is the source of the error (or at least the directory that contains the erroneous message). Or, at least, clicking on the notification should point to the erroneous email
### Environment

K-9 Mail version: 5.010

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,DiskFull problem when saving attached file is not taken into account ,"[Label(name=""bug""), Label(name=""help wanted"")]","### Expected behavior

Tell us what should happen
1. be in an email with attached file
2. ask to saved attached file
3. having no more space on the sd card

K9 should warn that the file could not be saved
### Actual behavior

Tell us what happens instead

K9 just creates an empty file!
### Environment

K-9 Mail version:
Probably latest... I don't see any entry in any K9 menus to get this information...

OK found it in Android's menus: 5.01, but remark above still relevant: this info should be easily accessible from _within_ K9 

Android version: 4.4.2
"
k9mail/k-9,closed,"Selecting multiple emails, then running an action applies the action only on the last email selected...",[],"### Expected behavior

Tell us what should happen
1- be in a ""window"" showing multiple emails
2- long ""clic"" on an email + Select in 'popup' menu
3- long ""clic"" on another email + Select
4- long clic on any email + ""mark as read"" (or any action)

should apply the action (""mark as read"") on all selected emails...
### Actual behavior

Tell us what happens instead
Action is run only email selected at step 3...
### Environment

K-9 Mail version:
Probably latest... I don't see any entry in any K9 menus to get this information...

OK found it in Android's menus: 5.01, but remark above still relevant: this info should be easily accessible from _within_ K9 

Android version: 4.4.2
"
k9mail/k-9,closed,Cannot install K-9 Mail v5.109 (alpha) apk,[],"### Expected behavior

I should be able to install K-9 Mail v5.109 (alpha) apk.
### Actual behavior

I get a generic error: `App not installed.`
### Steps to reproduce
1. Download apk.
2. Attempt to install it.
3. Have it fail… download it a few more times just in case it was corrupted; it still fails.
### Environment

K-9 Mail version: I currently have v5.010 installed, via F-droid.

Android version: 5.1.1 (Cyanogenmod 12.1-20151117-SNAPSHOT-YOG7DAO1KI-d802)

FWIW I'm attempted to upgrade to use PGP/MIME support. The current issues are a bit vague, but there's some suggestion that it's been fixed. However, the more-recent release, 5.010 still doesn't support PGP/MIME. Does the alpha support it?

Further, my current install of K-9 was via F-droid. Do I need to uninstall this version first? I'm worried that my email and settings will be deleted if I do so.
"
k9mail/k-9,closed,[Bug: Regression] Upgrading from K-9 Mail 5.008 to 5.010 breaks its Share functionality under AlienDalvik (AOSP 4.1.2): K-9 always crashes,"[Label(name=""bug""), Label(name=""needs info"")]","Upgrading from K-9 Mail 5.008 to 5.010 breaks its Share functionality when attaching a file to an email under AlienDalvik (based on AOSP 4.1.2) in Jolla's SailfishOS 2.0.1.11 
K-9 always crashes, a pop up window is displayed stating, ""Unfortunately the application com.fsck.k9 has stopped. [OK]"". By clicking on [OK], K-9 restarts, and saves the message in the Drafts folder, but without the file being attached. 

I checked the following: 
- Using the Share functionality between other applications works: I tested between Amaze, OpenKeychain, TurboEditor and a few native SailfishOS applications.  
- Using the Share functionality in other Android applications in order to send a file to K-9 Mail always crashes K-9 in exactly the same way (as described above), no matter if K-9 was running or not. 
- Sharing data (not a file) does not crash K-9 Mail, but seems to exhibit another bug: a handle (?) is inserted into the mail body, not the data sent, e.g. with data sent from BarcodeScanner: 
  [Subject] Barcode Scanner - Plain text
  [Body] market://details?id=com.fsck.k9
  I will file a separate bug report, when sufficiently tested to write up something more comprehensive.
- It also makes no difference, which Android application is picked, when using the Share functionality from within K-9 Mail for attaching a file to an email: K-9 always crashes.  Tested with Amaze file manager and TurboEditor.  
- Only when I pick SailfishOS' native Gallery application (which is the third application offered besides Amaze and TurboEditor when attaching a file in K-9 Mail on my Jolla Phone), K-9 does not crash and the file is indeed attached.  But it is not Android's internal Share mechanism being used here, instead the still somewhat fragile Share functionality between Android and SailfishOS applications provided by Jolla's SailfishOS 2 is utilised.  In this specific case (attaching a file to an email in K-9) it even works consistently stable, but unfortunately SailfishOS' native Gallery app allows to select picture file formats (e.g. jpg, png), only. 
- After downgrading from K-9 Mail 5.010 to 5.008, the Share functionality works fine, again. 

I am sure willing to make further tests, checks and balances, when provided with instructions how to. 
Please do try to fix that, as the inability to attach arbitrary files to emails in K-9 Mail renders the beautiful and feature laden K-9 useless as a generic email client. 

Cheers and Kudos for maintaining and enhancing the best mobile email client I am aware of.  And I am really looking forward to the progress on PGP/MIME. 

P.S.: I suspect the MIME handling changes introduced in K-9 Mail 5.009 to be the cause.  From K-9's changelog on https://k9mail.github.io/k-9/changelog_5.0-MAINT_branch.xml: 

5.010
[...]
5.009
[...]
Improved MIME type handling when other apps share files to K-9 Mail
[...]
"
k9mail/k-9,closed,Fix failing com.fsck.k9.mail.MessageTest,[],"I've just started looking at the K-9 source, and it looks like a recent commit (e3593a1) breaks the class `com.fsck.k9.mail.MessageTest` in k9mail-library/src/androidTest.

Here's my fix, to remove the static modifier on `MimeMultipart.generateBoundary()` that was added in that commit.
"
k9mail/k-9,closed,Special folder icon,[],"I think the special folder name in folder list is verbosely.

```
  Drafts (Drafts)
  Trash (Trash)
  ..
```

This patch adds icon in folder list.
"
k9mail/k-9,closed,No push for outlook account,[],"### Expected behavior

Get a push notification if a new mail arrives in the inbox
### Actual behavior

Nothing. 
### Steps to reproduce
1. Set up an outlook.com account as imap
2. Set up push and checked the foldersetup 
3. Set renew push connection every 6minutes
4. Send an email from another account to my outlook.com account
5. Wait but nothing happens
6. With the gmail account push works fine with same settings.
### Environment

K-9 Mail version: latest 5.010

Android version: 6.0.0

Account type (IMAP, POP3, WebDAV/Exchange): imap
"
k9mail/k-9,closed,"Ability to ""Pin"" important messages so they're always accessible","[Label(name=""enhancement"")]","Sometimes I'll get airline/concert tickets in my email months ahead of time. But since K-9 only keeps a limited number of the most recent messages, when I search for them when it's time to board the airplane, it can't find them. 

I'd love a way to ""Pin"" a message, so that it doesn't get removed when newer messages push it out.
## Possible implementation: 
1. Create a new IMAP folder called ""__PINNED"" or something.
2. Select a message, hit the menu, and choose ""Pin message""
3. It simply copies the message into the ""__PINNED"" folder.
4. Add some special UI to access that folder, or show those messages at the top/bottom of the inbox?

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,K9 crash on delete when full message was not downloaded,"[Label(name=""bug"")]","### Expected behavior

When I press delete, even if the message was not full downloaded, the message get deleted and the program does not crash. Small messages got deleted without crash. Large messages (when there is the option to download it full) crashes k9.
### Actual behavior

The message get deleted on the server but K9 crashes.
### Steps to reproduce
1. open large email that is not full downloaded
2. press delete
3. confirm
4. k9 crashes

Stacktrace:

```
06-20 21:01:03.828 11593-11593/? E/AndroidRuntime: FATAL EXCEPTION: main
                                                   Process: com.fsck.k9, PID: 11593
                                                   java.lang.IllegalStateException: Couldn't read row 829, col 0 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.
                                                       at android.database.CursorWindow.nativeGetLong(Native Method)
                                                       at android.database.CursorWindow.getLong(CursorWindow.java:511)
                                                       at android.database.AbstractWindowedCursor.getLong(AbstractWindowedCursor.java:75)
                                                       at android.database.CursorWrapper.getLong(CursorWrapper.java:127)
                                                       at android.database.CursorWrapper.getLong(CursorWrapper.java:127)
                                                       at com.fsck.k9.provider.EmailProvider$SpecialColumnsCursor.getLong(EmailProvider.java:776)
                                                       at android.database.CursorWrapper.getLong(CursorWrapper.java:127)
                                                       at android.database.CursorWrapper.getLong(CursorWrapper.java:127)
                                                       at com.fsck.k9.helper.MergeCursor.getLong(MergeCursor.java:188)
                                                       at com.fsck.k9.helper.MergeCursorWithUniqueId.getPerCursorId(MergeCursorWithUniqueId.java:81)
                                                       at com.fsck.k9.helper.MergeCursorWithUniqueId.getLong(MergeCursorWithUniqueId.java:56)
                                                       at com.fsck.k9.fragment.MessageListFragment.computeBatchDirection(MessageListFragment.java:2317)
                                                       at com.fsck.k9.fragment.MessageListFragment.onLoadFinished(MessageListFragment.java:3467)
                                                       at com.fsck.k9.fragment.MessageListFragment.onLoadFinished(MessageListFragment.java:108)
                                                       at android.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:483)
                                                       at android.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:451)
                                                       at android.content.Loader.deliverResult(Loader.java:144)
                                                       at android.content.CursorLoader.deliverResult(CursorLoader.java:109)
                                                       at android.content.CursorLoader.deliverResult(CursorLoader.java:97)
                                                       at android.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:265)
                                                       at android.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:92)
                                                       at android.os.AsyncTask.finish(AsyncTask.java:651)
                                                       at android.os.AsyncTask.-wrap1(AsyncTask.java)
                                                       at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:668)
                                                       at android.os.Handler.dispatchMessage(Handler.java:102)
                                                       at android.os.Looper.loop(Looper.java:148)
                                                       at android.app.ActivityThread.main(ActivityThread.java:5422)
                                                       at java.lang.reflect.Method.invoke(Native Method)
                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
```
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Discard draft message always instead of moving to trash folder,"[Label(name=""needs work"")]","If I compose message and save temporaly as draft.
And I send it, this draft message leaves on the trash folder.

I think it is removed completely.
"
k9mail/k-9,closed,Support RFC2231 header values,"[Label(name=""enhancement"")]","I noticed that KMail, and presumably other user-agents, send attachments where we are unable to decode the filename if they contain non-ascii text.

We currently support [rfc2047](https://tools.ietf.org/html/rfc2047) encoded-words in header values. There is an extension to header grammer in [rfc2231](https://tools.ietf.org/html/rfc2231) which adds support for charset, languages, and continuations to header parameters, which we don't support.

There is a [patch for mime4j](https://issues.apache.org/jira/browse/MIME4J-109) which ports this feature from javamail. Unfortunately, javamail is GPL so this was never merged. There is however an apache-licensed version [available](https://svn.apache.org/repos/asf/chemistry/opencmis/trunk/chemistry-opencmis-commons/chemistry-opencmis-commons-impl/src/main/java/org/apache/chemistry/opencmis/commons/impl/MimeHelper.java) from OpenCMIS, so we should be able to use that.
"
k9mail/k-9,closed,Encapsulate attachment resource handling into AttachmentResolver,[],"This commit introduces the AttachmentResourceProvider as a layer of
abstraction between K9WebViewClient and the message Part structure,
which allows getting rid of all ""Part"" logic in it and moves all
K9WebViewClient-related handling into MessageWebView itself (making
the class package-local).

It also fixes display of uncached inline attachments, e.g. in a Forward
operation called from the context menu.
"
k9mail/k-9,closed,Lacking an option about notifications,"[Label(name=""wontfix"")]","### Expected behavior

After clicking a mail notification it should go to a corresponding account of our choice.
Either source or unified.
### Actual behavior

It goes only to source.
It may be useful to have an option in global parameters to choose the target folder once a notification is clicked
### Environment

K-9 Mail version: 5.010

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Lacking an option about notifications,[],"### Expected behavior

After clicking a mail notification it should go to a corresponding account of our choice.
Either specific or unified.
### Actual behavior

Tell us what happens instead
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,renaming (rebranding) the entire package,[],"I've thought about this suggestion and whether it will be offensive to post it here rather than to fork, refactor and push it to f-droid myself. A quick online search revealed that I'm not alone with my thoughts.

This e-mail client is fine, very fine, I love it. My respect to all contributors. But most likely it will never be accepted as a serious application. The reason is an ugly name and the the whole branding (icons). Do you really think that any serious company which is not a lemonade stand would like to see an ugly robo-dog icon on their main launcher? Most people don't even know what K9 means or stands for.

How do you think about to rename the entire package into ""e-mail"" or ""eMail"" or something similar without any fancy names additions and a simple envelope icon?
"
k9mail/k-9,closed,"""Unable to save attachment to SD card"" since Android 6.0.1","[Label(name=""bug""), Label(name=""needs info"")]","### Expected behavior

Attachment should be saved on my extrenal SD Card
### Actual behavior

java.io.FileNotFoundException: /storage/AC6E-B51D/Download/20160530082804967.pdf: open failed: EACCES (Permission denied)

In some other apps like Estrong FileExplorer I believe I got some dialogue like ""chose actual path to SD card to get write access"". Don't remember exactly...
### Steps to reproduce
1. Chose the save attachments to the external SD
2. Receive an email with attachment
3. Choose to save it
### Environment

K-9 Mail version:
5.010
Android version: 
Android 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
Irrelevant
[k9-log-save-attachement.txt](https://github.com/k9mail/k-9/files/314147/k9-log-save-attachement.txt)
"
k9mail/k-9,closed,"I changed gmail to allow only secure logins, & now K-9 cannot login via either ssl/tls or STARTTLS, Thunderbird can login via Oauth..","[Label(name=""duplicate""), Label(name=""security"")]","### Expected behaviour

This is in 5.010
K-9 should have maximally-secure login methods, all of them, and should try them in sequence,
from the hardest to the softest security,

and should never use an insecure login tech without
a) first exhausting all other alternatives, &
b) getting explicit permission from the user to vulnerablize their credentials that way, while logging-in, &
c) ANY change in the security-situation ( ssl becoming unrecommended, as i remember happening a few years ago, eg ), and that module being re-jigged immediately to protect us against violation as much as possible.

( i remember reading that ssl is now untrustworthy and TLS is recommended, but have no idea if the initial setup is secure in TLS, or if the problem is simply Google acting like Microsoft and disallowing standard protocols/methods as a monopoly-pushing means making its apps the only ""secure"" ones users can know/see/have...

I hate the gmail app, and want to use K-9,
 but having my email compromised??
 -shudder- )
### Actual behaviour

_After telling gmail to not allow any insecure logins_,
neither K-9 nor Thunderbird could login
In Thunderbird i discovered setting it to Oauth fixed things, but there are only 2 choices in K-9, neither of which works.
Account Options / Account Settings / Fetching Mail / Incoming Server
STARTTLS produces..
( NOW i discover there is an EncryptedPassword option? It was hidden under the keyboard, and the Next button i used suggested nothing under the keyboard...
..oh, well, that didnt work anyways! )
""Cannot connect to Server.
Unable to Connect""

When i try SSL/TLS, the result is
( again using the _user-set_ option, which should have been automated: Encrypted Password )

Cannot connect to Server.
(Server doesnt support passwords encrypted using CRAM-MD5)
### Steps to reproduce
1. Change gmail acct to disallow insecure apps logging in
2. A few hours later discover K-9 no longer is getting gmail
   3.try diff settings and discover none work.
### Environment

K-9 Mail version: 5.010

Android version: 5.1.1

Account type (IMAP): gmail imap
"
k9mail/k-9,closed,don't rely on cached metadata from database for attachment info,[],"This commit removes use of LocalFolder.MessagePartType as an indication
of part types in AttachmentInfoExtractor. The enum was intended as a
caching mechanism to skip loading unimportant parts from the database,
but only the reading side was implemented. As the expected performance
gain is negligible, I disabled the reading side for now (computing the
data instead) and more explicitly disabled the writing side as well.

What this actually fixes is display of multipart/related parts as both inline
content and attachments.
"
k9mail/k-9,closed,HELP! - EXCESSIVE (!) data usage,[],"K-9 mail has suddenly started using a colossal amount of mobile data and managed to use up ALL of my 1GB monthly allowance in 3 days flat! It never did this before - my average for a whole month has been 250MB across all the apps on my phone. I even set the data settings for the app under system settings to not use mobile data then went out this morning and it had used another 100MB anyway when I got back - even tho I've only had 40 emails! I have 4 accounts, all IMAP (one Apple @mac and 3 gmail) set to sync the last 2 months and only 32k of each email. What on earth is going on? I'm gonna have to ditch the app if I can't resolve this issue. 

Latest v5.010 on a Samsung Galaxy A3FU
"
k9mail/k-9,closed,Duplicate folders,"[Label(name=""duplicate"")]","### Expected behaviour

Tell us what should happen = obvious.
### Actual behaviour

Tell us what happens instead = obvious.
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):

Is there way to remove duplicate folders without losing emails. ?? 

I suspect it may be causing issue of polling this account 10 mins instead of set 60 mins.

camgibb59@gmail.com
"
k9mail/k-9,closed,Unable to SEND email ,[],"### Expected behaviour

After creating new e-mail message or forward or reply to message, it should be SEND (through SMTP server)
### Actual behaviour

Messages remain in Outbox, received notification ""Failed to send some messages."" Detail: Negative SMTP reply: 450 4.1.2

PLEASE NOTE:
Due to my MAIL SERVICE PROVIDER being DIFFERENT from my INTERNET SERVICE PROVIDER, the problem is most probably related to the ""Security Type"" - nothing is working. Similar settings in Microsoft environment is using Security Type = Auto.
### Steps to reproduce
1. Setup POP3 (Receiving Server) mail account xxxxxxx@mtnloaded.co.za - working correctly!
2. Setup SMTP (Sending Server) result in error when trying to send message. SMTP server = smtp.vodamail.co.za; Security = None; Port = 25; Require sign-in = [not ticked]
3. I need to use different service providers for incoming and outgoing mail!!!! Gmail or Yahoo is not an option! I am paying both service providers for their services; I cannot change that due to existing clients.
### Environment

K-9 Mail version:
LATEST
Android version:
4.4.2
Account type (IMAP, POP3, WebDAV/Exchange):
Multiple, both POP3 and IMAP
"
k9mail/k-9,open,Unable to use gmail account - IOException: readStringUnti,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

I've got K9 on several Android devices, all with the same accounts.
On one device, Allview P5Quad, running Android 4.2.1; K9 5.010 I have the following problem: 

I have 2 gmail accounts (via IMAP). One of them fails to update INBOX (load new messages, update read status, update deleted  on server, etc)
Once recreating data restored it into working order. However the problem reappeared and was unable to fix it. 
The problem happens with all folders, not just INBOX.
The problem happens with one account, not the second.
The problem happens on one device, not on 2 other (same K9, different versions of Android, both older and newer)
- one gmail account does not work.
- clearing data does not help
- recreating data does not help
- exporting settings; removing account; importing settings - does not help
- removing account; manually creating the account - does not help (using detected settings for GMail)
- device is rooted, but I've been unable to create/obtain logs with aLogCat or CatLog.
"
k9mail/k-9,open,Previously read messages are re-syncing as unread after deleting another email.,[],"I have an email account synced to K-9 with POP3, and with setting 'Local folder size=100 messages'.   The Inbox is sorted by date, with newest at the top.   I'm not using the Unified Inbox.

When I delete an email or emails, it/they disappears from K-9 account's Inbox.   There are then less than 100 emails in the Inbox.  
On the next sync, K-9 realizes that there are less than 100 emails, and downloads older email(s), previously read and removed from the inbox because of the 100 messages limit, to add to the bottom of the list to bring the number of emails back to 100 messages.
### Expected behaviour

I can think of two possible solutions:

Option 1: these older emails, previously synced and removed because of the 100 message limit, and now re-synced because there is now less than 100 messages, need to be set to the same Read/Unread status as before being removed.   

Option 2: K-9 should recognize that these older emails have been previously removed because of the 100 message limit, and so accept that there should be less than 100 messages rather than re-sync these old emails.   Obviously, any newer emails should to be synced. 

Thinking about this, option 1 would fit in better if it were to also apply when requesting to ""Load up to 100 more"".
### Actual behaviour

What happens now is these older emails, previously synced and removed because of the 100 message limit, and now re-synced because there was less than 100 messages, are marked as ""Unread"".    
### Steps to reproduce
1.  Setup an email account using POP3, and also set  Local folder size=100 messages under account settings > Fetching mail.  Set sorting by date, with newest at the top.
2.  after first sync, ""Mark all as read"" (or at least mark the older emails at the bottom of the list as read).   Check that there are now 100 emails in the Inbox.
3.  send (from another account) one or more emails to this account, and sync K-9 so they appear in the Inbox.   Check the bottom of the Inbox to see that the oldest email(s) (ie those > 100) have now been removed from the Inbox.
4.  delete one or more emails from the Inbox and re-sync (assuming that no more new emails are received)
5.  Notice that the count of Unread emails has increased.   Check the bottom of the Inbox to see emails, previously read and then removed because of the 100 message limit, are now re-synced and are marked as ""Unread"".  
### Environment

K-9 Mail version:  5.010 

Android version:  6.0.1       security patch level:  1 May 2016

Account type (IMAP, POP3, WebDAV/Exchange):  POP3
"
k9mail/k-9,open,"support sent mail (unread, read, read and replied) status icon.",[],"### Expected behaviour

sent mail folder shows emails with icons to know if the email is unread, read, read and replied by the receiver.
### Actual behaviour

Tell us what happens instead
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Crashes on startup and then corrupts/loses accounts and settings,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

I get my inbox
### Actual behaviour

I get a crash, and on trying again to open K-9 e-mail I get the welcome screen asking me whether I want to import my settings from somewhere.
### Steps to reproduce

Sadly I don't know, but it's happened to me twice now. First time I don't have a backtrace of, but this time I caught it in time. There is some similarity with #1272 but that one doesn't happen at startup nor do I see a mention of settings getting lost.

This is the stacktrace, including the second attempt going straight to the welcome screen instead:

```
06-09 12:49:12.611  5440  6985 I ActivityManager: START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.fsck.k9/.activity.Accounts bnds=[13,242][224,495] (has extras)} from uid 10031 on display 0
06-09 12:49:12.736  5440  3544 I ActivityManager: Start proc 1674:com.fsck.k9/u0a121 for activity com.fsck.k9/.activity.MessageList
06-09 12:49:13.057  1674  1674 E AndroidRuntime: FATAL EXCEPTION: main
06-09 12:49:13.057  1674  1674 E AndroidRuntime: Process: com.fsck.k9, PID: 1674
06-09 12:49:13.057  1674  1674 E AndroidRuntime: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.fsck.k9/com.fsck.k9.activity.MessageList}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.fsck.k9.Account.getUuid()' on a null object reference
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.ActivityThread.-wrap11(ActivityThread.java)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.os.Handler.dispatchMessage(Handler.java:102)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.os.Looper.loop(Looper.java:148)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.ActivityThread.main(ActivityThread.java:5422)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at java.lang.reflect.Method.invoke(Native Method)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
06-09 12:49:13.057  1674  1674 E AndroidRuntime: Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.fsck.k9.Account.getUuid()' on a null object reference
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at com.fsck.k9.fragment.MessageListFragment.decodeArguments(MessageListFragment.java:957)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at com.fsck.k9.fragment.MessageListFragment.onCreate(MessageListFragment.java:810)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.Fragment.performCreate(Fragment.java:2198)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:942)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1148)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1130)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.FragmentManagerImpl.dispatchCreate(FragmentManager.java:1948)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.FragmentController.dispatchCreate(FragmentController.java:141)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.Activity.onCreate(Activity.java:921)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at com.fsck.k9.activity.K9FragmentActivity.onCreate(K9FragmentActivity.java:19)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at com.fsck.k9.activity.MessageList.onCreate(MessageList.java:194)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.Activity.performCreate(Activity.java:6251)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)
06-09 12:49:13.057  1674  1674 E AndroidRuntime:        ... 9 more
06-09 12:49:13.060  5440  6985 W ActivityManager:   Force finishing activity com.fsck.k9/.activity.MessageList
06-09 12:49:13.258  5440  6858 D ConnectivityService: updateNetworkScore for NetworkAgentInfo [WIFI () - 561] to 60
06-09 12:49:13.592  5440  5507 W ActivityManager: Activity pause timeout for ActivityRecord{8b20213 u0 com.fsck.k9/.activity.MessageList t2810 f}
06-09 12:49:14.346  5440 10803 W InputMethodManagerService: Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@4ea8042 attribute=null, token = android.os.BinderProxy@10656c8
06-09 12:49:14.367  5440 10979 I ActivityManager: Process com.fsck.k9 (pid 1674) has died
06-09 12:49:14.545  5440  5553 W AppOps  : Finishing op nesting under-run: uid 1000 pkg android code 24 time=0 duration=0 nesting=0
06-09 12:49:14.876  5440  6987 I ActivityManager: START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.fsck.k9/.activity.Accounts bnds=[13,242][224,495] (has extras)} from uid 10031 on display 0
06-09 12:49:14.924  5440  6429 I ActivityManager: Start proc 1705:com.fsck.k9/u0a121 for activity com.fsck.k9/.activity.Accounts
06-09 12:49:15.037  5440  3544 I ActivityManager: START u0 {cmp=com.fsck.k9/.activity.setup.WelcomeMessage} from uid 10121 on display 0
```
### Environment

K-9 Mail version: Version from Play Store which is currently 5.010.

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Ability to attach notes to inbox email,[],"### Expected behaviour

Ability to attach notes to inbox emails, this notes is k9 feature and should not be sent to email servers. All notes should be exportable and importable in one go.

This can help in many ways. a simple scenario is attach a note to existing encrypted email recieved. we can search this email with text in notes.

as a todo process I can use notes to  write what I did and what is my progress etc reminders in the notes area.

I can also use notes as my own keyword or tags space.

I can just use it to enter some notes about client effectively using email as a simple CRM tool.
### Actual behaviour

Tell us what happens instead
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Support search in encrypted messages,"[Label(name=""enhancement"")]","I see a couple of ways to approach this:
- Opportunistically add the decrypted message contents to the fulltext search index
- Use the decrypted message cache proposed in #1449 for searches
- Decrypt messages during search
"
k9mail/k-9,open,Cache decrypted message to improve user experience (optional),"[Label(name=""enhancement"")]","Decrypting messages can be slow, especially if users need to enter their passphrase first. To improve the user experience we want to add a setting to cache the decrypted content.

As an intermediate step we could store the session key and automatically decrypt the message without any user interaction being required.
"
k9mail/k-9,closed,Option to add keywords or tags to encrypted email to make them searcheable locally,[],"### Expected behaviour

I would like to add some text lines to an encrypted email so that I can search and find that email.

These tags or keywords should stay locally within k9 and should be able to export/import to a text file to keep a backup and restore them later ( in case of changing phones etc.. )

users will use this feature where they still want to keep the email encrypted but ok with some metadata locally in k9 so that they can find that email later easily.
### Actual behaviour

Tell us what happens instead
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Button to save decrypted locally inside k9mail on decryption of an email (make mail searcheable),[],"### Expected behaviour

I decrypt email and should be able to decide if I want to keep it that way or save it decrypted locally. when I say save it locally, I mean k9 should show the message unencrypted and should be able to find this email by text search of the content of this email.
### Actual behaviour

I decrypt an email then later time I open this email again I have to decrypt this email again. But I dont have an option to save it decrypted locally as this is not an email that needs to keep decrypted and only needs to reach me encrypted and now I dont need it encrypted anymore.

The advantage is that I can search thru emails and can find this. If this is encrypted I will not be able to search the content to find this email.
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Option to auto save locally decrypted gpg email (make all encrypted mails searcheable),[],"### Expected behaviour

I would like to have one option to auto decrypt mails with APG etc and save locally. (Reason: This should let me search locally all emails for some thing as we have every thing available decrypted.)
This helps secure email during transport from email providers and I don't bother much about my phone and k9 mail client security. This will be a great convenience and should help many adopt this.
### Actual behaviour

Finding to find an email using a text search thru all encrypted emails is difficult.
manually going thru each mail decrypt and see is difficult and inconvenient If I dont bother much about saving unencrypted locally in the sense that K-9 will use a encrypted container for all the mails together but all emails are saved plain text in that container.
### Steps to reproduce
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Missing inbox email,"[Label(name=""needs info"")]","### Expected behaviour

I used k9 for my hotmail account. My inbox should display all new messages( up to 25).
### Actual behaviour

Since a few days there is a gap in my inbox messages (k9 mail). The inbox is showing from today up to 3th June this year, then all the next messages are from October 2008 and older.
### Steps to reproduce

1.I tried removing and installing again. Makes no difference.
2. I tried removing email on the server to make sure my inbox is not oversized.
3. Activated debug logging. Logging file will follow.
### Environment

K-9 Mail version:
V5.010

Android version:
4.4.2 (kitkat)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,"HTML mail displayed as: ""No text"" when Settings > Account Settings > Sending mail > Message Format is set to ""Plain Text (...)""",[],"### Expected behaviour

The email should be displayed ""normally"", the ""Sending mail"" settings should not have any effect on displaying mails.
### Actual behaviour

The mentioned Sending mail setting (Settings > Account Settings > Sending mail > Message Format being set to ""Plain Text (...)"") affects how mails are being displayed.
### Steps to reproduce
1. Set Settings > Account Settings > Sending mail > Message Format to ""Plain Text (...)""
2. View a mail that has no plain text content, but HTML content. This is the email I had trouble with:

```
From - Mon Jun 06 19:42:35 2016
X-Account-Key: account1
X-UIDL: UID82642-1187853579
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
X-Mozilla-Keys: redirected                                                                      
Return-Path: <lidl-connect-kundenbetreuung@vodafone.de>
X-Original-To: xxx@arcor.de
Received: from mail-in-17.arcor-online.net (mail-in-17.arcor-online.net [151.189.21.57])
    by mail-in-16-z2.arcor-online.net (Postfix) with ESMTP id 63F5021E7D6
    for <xxx@arcor.de>; Mon,  6 Jun 2016 16:56:39 +0200 (CEST)
Received: from com188.servicemail24.de (com188.servicemail24.de [84.17.171.188])
    (using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
    (No client certificate requested)
    by mx.arcor.de (Postfix) with ESMTPS id 3rNd7q2LfYzBWVf
    for <xxx@arcor.de>; Mon,  6 Jun 2016 16:56:39 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; s=alpha; d=servicemail24.de;
 h=From:To:Message-ID:Subject:MIME-Version:Content-Type:Date;
 bh=3PAjiI4Y+WQgThopP3ASdiPmZeE=;
 b=mGaPRK69FNs/NxmFFgqTdWz9PnBJj7ATxpVO6o/NF3R6sWrfzNrhan8OXCs1x+yhDg5pXpfsrQA/
   V3w9x8CEE29S6ejLfp5w1re1e/NUsono7Dv9rLHj0r933ZDP6YCLh4o2fLeCpcWMc3lUiLTGijAE
   0TcSwZ47VOBI8mywtF8=
Received: from debmu856.server.arvato-systems.de (145.228.111.56) by com188.servicemail24.de id ham7ie25rjcl for <xxx@arcor.de>; Mon, 6 Jun 2016 16:56:39 +0200 (envelope-from <lidl-connect-kundenbetreuung@vodafone.de>)
From: lidl-connect-kundenbetreuung@vodafone.de
To: xxx@arcor.de
Message-ID: <392227613.592.1465224999018@debmu856>
Subject: Ihr LIDL Connect Startset wurde versendet!
MIME-Version: 1.0
Content-Type: multipart/alternative; 
    boundary=""----=_Part_591_1500719204.1465224999017""
Date: Mon, 6 Jun 2016 16:56:39 +0200

------=_Part_591_1500719204.1465224999017
Content-Type: text/plain; charset=iso-8859-15
Content-Transfer-Encoding: 7bit


------=_Part_591_1500719204.1465224999017
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Transitional//EN"" ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd""><html xmlns=""http://www.w3.org/1999/xhtml"">
<head>
<meta http-equiv=""Content-Type"" content=""text/html; charset=UTF-8"">
<title>Herzlich Willkommen bei LIDL Connect</title>
</head>

<body bgcolor=""#FFFFFF"" leftmargin=""0"" topmargin=""0"" style=""font-size: 1px; line-height: 1px;"" marginheight=""0"" marginwidth=""0""><style type=""text/css""> 

.appleLinks a {color:#00539b; text-decoration: none;}
.appleLinksWhite a {color:#00539b; text-decoration: none;}
.appleLinksGrey a {color:#FFFFFF; text-decoration: none;}

</style>


                <table align=""center"" border=""0"" cellpadding=""0"" cellspacing=""0"" width=""70"">
                    <tbody>
                        <tr>
                            <td colspan=""3"" valign=""middle"" height=""30"">
                        <table border=""0"" cellpadding=""0"" cellspacing=""0"" width=""700"">

                          </td>
                        </tr>

                          <br>


                      </tr>
                       <br>
                     <td style=""font-size:14px; font-family: News Gothic, Arial, Verdana, Helvetica, sans-serif; color: #444852; line-height: 20px; margin:10px 0 0 0; padding:0""></td>
                        <td style=""font-size:14px; font-family: News Gothic, Arial, Verdana, Helvetica, sans-serif; color: #444852; line-height: 20px; margin:10px 0 0 0; padding:0""><strong> 
                          </td>
                         <tr><td style=""font-size:14px; font-family: News Gothic, Arial, Verdana, Helvetica, sans-serif; color: #444852; line-height: 20px; margin:10px 0 0 0; padding:0"">&nbsp;</td></td></tr>
                        <tr>
                          <td colspan=""3"" align=""center"" bgcolor=""#ECECED"" valign=""middle"" height=""20""><table border=""0"" cellpadding=""0"" cellspacing=""0"" width=""640"">
                            <tr bgcolor=""#ECECED"">
                              <td align=""center"" valign=""middle"" height=""15""><table border=""0"" cellpadding=""0"" cellspacing=""0"" width=""620"">
                            <tr bgcolor=""#ECECED"">
                              <td colspan=""2"" align=""left"" valign=""top"" height=""10"">&nbsp;</td>
                              </tr>
                            <tr>                             
                              <td align=""right"" bgcolor=""#ECECED"" valign=""bottom"">&nbsp;</td>
                              </tr>
                            <tr bgcolor=""#ECECED"">
                              <td align=""left"" valign=""top"">&nbsp;</td>
                              <td align=""right"" valign=""bottom"">&nbsp;</td>
                              </tr>
                            <tr bgcolor=""#ECECED"">
                              <td align=""left"" valign=""top"" width=""580""><p style=""font-size:14px; font-family: News Gothic, Arial, Verdana, Helvetica, sans-serif; color: #444852; line-height: 20px; margin:10px 0 0 0; padding:0""><strong>
                               Hallo xyz,</strong></p>
                                <p style=""font-size:14px; font-family: News Gothic, Arial, Verdana, Helvetica, sans-serif; color: #444852; line-height: 20px; margin:10px 0 0 0; padding:0"">wir freuen uns, dass Sie sich f&uuml;r LIDL Connect entschieden haben. Ihre Bestellung wurde versandfertig gemacht und wird Sie in wenigen Tagen erreichen. <br>
                                Alle weiteren Informationen finden Sie dann in den beigef&uuml;gten Unterlagen und unter www.lidl-connect.de. 

<br>Im Falle einer Rufnummernmitnahme wird Ihre Rufnummer am genannten Portierungsdatum umgestellt.

                                  <br> 
                                  <br>
                                  Wir w&uuml;nschen Ihnen viel Spa&szlig; mit LIDL Connect!
                                  <br>
                                  <br>
                                  Mit freundlichen Gr&uuml;&szlig;en



                                  <br>
                                  <br>
                                  <br>
                                  <strong>Ihr LIDL Connect Team</strong>&nbsp;</p></td>
                              <td align=""right"" valign=""bottom"">&nbsp;</td>
                              </tr>
                            <tr bgcolor=""#ECECED"">
                              <td align=""left"" valign=""top"">&nbsp;</td>
                              <td align=""right"" valign=""bottom"">&nbsp;</td>
                              </tr>
                            <tr bgcolor=""#ECECED"">
                              <td align=""left"" valign=""top"" width=""580""><p style=""font-size:14px; font-family: News Gothic, Arial, Verdana, Helvetica, sans-serif; color: #00539b; line-height: 20px; margin:10px 0 0 0; padding:0"">&nbsp;</p></td>
                              <td align=""right"" valign=""bottom"">&nbsp;</td>
                              <td align=""right"" valign=""bottom"">&nbsp;</td>
                              </tr>
                              </tbody></table></td>
                            </tr>
                          </tbody></table></td>
                      </tr>
                        <tr>


                                  </tr>
                                  <tr>

                      </tr>
                        <tr>
                          <td colspan=""3"" height=""20"">&nbsp;</td>
                      </tr>
                        <tr>

                        <tr>
                          <td>&nbsp;</td>
                          <td><table border=""0"" cellpadding=""0"" cellspacing=""0"" width=""640"">
                            <tr>
                              <td align=""left"" valign=""middle"" width=""320"" height=""40""><p style=""font-family: News Gothic, Arial, Verdana, Helvetica, sans-serif; color: #444852; line-height: 12px; font-size:12px; margin:0"">Copyright &#169; Lidl Connect 2015</p></td>
                              <td align=""right"" valign=""middle"" width=""320""><span style=""font-family: News Gothic, Arial, Verdana, Helvetica, sans-serif; color: #FFF; line-height: 12px; font-size:12px;""><a style=""color:#444852;"" target=""_blank""   &#183; <a style=""color:#444852;"" target=""_blank""  href=""https://kundenkonto.lidl-connect.de/faq.html"">FAQ im Onlineportal</a> &#183; <a align=right style=""color:#444852;"" target=""_blank"" href=""https://kundenkonto.lidl-connect.de/impressum.html"">Impressum</a> &#183; <a align=right style=""color:#444852;"" target=""_blank""  href=""https://kundenkonto.lidl-connect.de/kontakt.html"">Kontakt</a></span></td>

                              <td> </td>
                            </tr>
                            </table></td>
                          <td>&nbsp;</td>
                      </tr>
                        <tr>
                          <td>&nbsp;</td>
                          <td>&nbsp;</td>
                          <td>&nbsp;</td>
                      </tr>
                        <tr>
                          <td style=""border-top:1px solid #ECECED;"">&nbsp;</td>
                          <td style=""border-top:1px solid #ECECED;"" align=""left"" valign=""middle"" height=""60""><p style=""font-family: News Gothic, Arial, Verdana, Helvetica, sans-serif; color: #444852; line-height: 15px; font-size:12px;""> Nutzen Sie ihr pers&ouml;nliches LIDL Connect Kundenkonto um Ihre pers&ouml;nlichen Einstellungen rund um LIDL Connect bequem online zu verwalten: <a style=""color:#444852;"" target=""_blank"" href=""https://kundenkonto.lidl-connect.de/"" >Mein pers&ouml;nliches LIDL Connect Kundenkonto</a>.                           <td style=""border-top:1px solid #ECECED;"">&nbsp;</td>

                      </tr>

                        <tr>



                      </tr>
                        <tr>
                          <td style=""border-top:1px solid #ECECED;"">&nbsp;</td>
                          <td style=""border-top:1px solid #ECECED;"" align=""left"" valign=""middle"" height=""20"">&nbsp;</td>
                          <td style=""border-top:1px solid #ECECED;"">&nbsp;</td>
                      </tr>

                      </tr>
                        <tr>
                          <td height=""15"">&nbsp;</td>
                          <td height=""15"">&nbsp;</td>
                          <td height=""15"">&nbsp;</td>

                          <tr>
                          <td style="""">&nbsp;</td>
                          <td>&nbsp;</td>
                          <td style="""">&nbsp;</td>


                        <tr>
                          <td>&nbsp;</td>
                          <td>&nbsp;</td>
                          <td>&nbsp;</td>
                      </tr>
                    </tbody>
          </table>
          <h1>&nbsp;</h1></td>
        </tr>
  </tbody>
</table> 
</body></html>
------=_Part_591_1500719204.1465224999017--

```
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Update web page URL to GitHub website,[],"Change URL to point to project website instead of Google Code (fixes #1441)
"
k9mail/k-9,closed,Reply button missing when phone is in portrait mode,[],"### Expected behaviour

When I'm in portrait mode and on the message detail view, I expect to have reply, reply all or forward in a toolbar at the bottom of the screen.  (I do get them under when I press the menu button, and Send...) 
### Actual behaviour

The toolbar disappears in portrait mode. 

(Note: Landscape mode is OK.)
### Steps to reproduce
1. Be in portrait mode.
2. Be in message detail view
3. Let your eyes lazily meander north.  Behold the space where there should be some buttons.
### Environment

K-9 Mail version: 5.010

Android version:
4.3

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

Note:  My phone is rooted, and I have increased my screen resolution to 360 whatevers, using the app LCDDensity.  When I reset the resolution to default, which is an unknown number of whatevers, the 'Next' and 'Previous' buttons, and the Delete, Reply and Compose buttons all appear at the bottom.

When I set it back to 360, the bottom toolbar disappears (so the Delete, Reply and Compose buttons disappear), but the Next, Previous and delete buttons then appear at the top of that screen.

(Someone might reasonably say that if my changing the screen resolution fixes the issue, then that's what I should do.  I still hope, though, that someone is planning a fix.)

Thanks to everyone who's worked on K9.

Cheers,  Richard
"
k9mail/k-9,closed,"""About K-9 Mail "" links to old Google code url",[],"### Expected behaviour

Tell us what should happen
Click link, arrive here at github.com 
### Actual behaviour

Tell us what happens instead
Click link, goes to googlecode, which says to visit github
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:
5.0.10
Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Feature request: switch tp material theme,[],"Great app!
Are you planning to give it a facelift?
"
k9mail/k-9,open,Authentication failed with password which contains _ and -,[],"K-9 Mail Version: 5.008 (installed via F-Droid)

logfile: [k9-log.txt](https://github.com/k9mail/k-9/files/299437/k9-log.txt)

Account creation in k9mail fails for some passwords. The password for the account creation attempt from the attached logfile was ""noYUW2ipsM_sS-7CQQ4-"" without the quotes. If I use a 20 char password without '_' and '-' it works. I also had the same problem with ""RPP-5AwqY5sDWdRo_3C7""
### Steps to reproduce

1.) Setup a mail server with postfix and dovecot. Use ""doveadm pw -V -s SHA512-CRYPT"" and one of the passwords to create hash and add it to your passwords db, reload dovecot. Activate SSL, STARTTLS
2.) Start k9mail on android, create new account, add email adress, imap server, STARTTLS -> Authentication failure
### Environment

K-9 Mail version: 5.008
Android version:4.3.1
Account type IMAP

Please let me know if you need further debugging infos,
Andy
"
k9mail/k-9,closed,"Please allow resizing of ""unread"" widget, or provide 1x1 widget",[],"Hi !

Apparently (at least on my LG G4 5.1 Lollipop with trebuchet as home app), the ""unread"" widget is always 1x2. It doesn't seem to need that much space (1x1 should be fine), and it's not possible to resize it.

It would be nice to have a resizable one, or at least 1x1 widget provided.

Cheers !

nodens
"
k9mail/k-9,open,Have to delete emails twice (IMAP),[],"### Expected behaviour

Tell us what should happen

When I delete an email I do not expect to see it again later.
### Actual behaviour

Tell us what happens instead

I do see the email again next time I check email. Second delete works, though.
### Environment

K-9 Mail version: 5.010

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (dovecot, self-hosted, other clients work)
"
k9mail/k-9,closed,Add counter for new messages (unread) on the application's icon on the desktop,[],"### Expected behaviour

When new messages arrives, or there are unread messages, please show a counter for that messages on the application's icon on the desktop (like do all other apps like SMS, AquaMail, etc).
### Actual behaviour

There is no any counter on application's icon.
### Steps to reproduce
1. Receive any new message or stay some messages unread
2. Switch to desktop and see application's icon
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Make option for notifications (about new mail) without details of the message - just short notification,"[Label(name=""wontfix"")]","### Expected behaviour

Option for notifications (about new mail) to make them without details of the message - just short notification, that new mail arrived. (Short notifications for privacy purposes). (Like in AquaMail).
### Actual behaviour

Currently all details of the message are shown in the notification. I.e. anyone can read the message that I received.
### Steps to reproduce
1. Receive a mail and see notification area.
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,crash when trying to create new mail (marshmallow),"[Label(name=""bug"")]","### Expected behaviour

I would expect to see the ""new mail"" dialogue.
### Actual behaviour

The app crashes.
### Steps to reproduce
1. start k-9 mail
2. select new mail icon
3. crash
### Environment

K-9 Mail version: 5.109

Android version: Android 6.0 marshmallow, huawei style (EMUI)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
### Thoughts on this:

Could this result from a permission problem? K-9 requests access rights for ""contacts"" and ""storage"", which are granted. Four additional permissions show up in a subfolder (read email attachments, read emails, delete emails, k-9 remote control). Everytime I manually grant those, the slider is back to ""off"" when I revisit this tab...

Does k-9 fail in requesting those rights at installation time?
### logcat: generated as described in HOWTO:

```
int logctl_get(): open '/dev/hwlog_switch' fail -1, 13. Permission denied

Note: log switch off, only log_main and log_events will have logs!
--------- beginning of main
06-05 11:30:42.296 I/k9      ( 3371): Committing preference changes
06-05 11:30:42.358 I/k9      ( 3371): Preferences commit took 62ms
06-05 11:30:46.704 I/k9      ( 4596): Loading preferences from DB into Storage
06-05 11:30:46.723 I/k9      ( 4596): Preferences load took 19ms
06-05 11:30:46.768 I/k9      ( 4596): Registered: unmount receiver
06-05 11:30:46.771 I/k9      ( 4596): Registered: shutdown receiver
06-05 11:31:05.784 I/k9      ( 4596): Committing preference changes
06-05 11:31:05.794 I/k9      ( 4596): Preferences commit took 10ms
06-05 11:31:08.781 I/k9      ( 4690): Loading preferences from DB into Storage
06-05 11:31:08.798 I/k9      ( 4690): Preferences load took 17ms
06-05 11:31:08.837 I/k9      ( 4690): Registered: unmount receiver
06-05 11:31:08.839 I/k9      ( 4690): Registered: shutdown receiver
06-05 11:31:16.667 I/k9      ( 4690): Committing preference changes
06-05 11:31:16.710 I/k9      ( 4690): Preferences commit took 43ms
```
"
k9mail/k-9,closed,"Make an option ""Show CC/BCC"" field in options when you editing/composing new message",[],"### Expected behaviour

Make an option ""Show CC/BCC"" field in options when you editing/composing new message. Currently there is only an option ""Request read confirmation"". Add to menu ""Show CC/BCC"" fields. After taping on this, CC/BCC fields must be shown or hidden.
### Actual behaviour

Option: ""Always show CC/BCC [ ]"" - is not enough. Because I have no any methods to see these fields if this option is disabled, but I'm composing a new message or replying on message without CC-field in source message.
### Steps to reproduce
1. Just to create new message while ""Always show CC/BCC [ ]"" option is disabled.
2. Try to see CC/BCC, if you will need.
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,Add support for 'Read receipt',"[Label(name=""enhancement"")]","### Expected behaviour

User may see current status of ""Reading confirmation"" request. Is it set to the currently edited message or not. The best behaviour is to make some icon and show it in a header in right corner (where usually star is shown in view mode; but here in edit mode).
### Actual behaviour

User cannot understand is ""Reading confirmation"" request is setuped or not.
### Steps to reproduce
1. Just try to create message and setup and/or remove ""Reading confirmation"".
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,"Leading signature enters are not converted to ""<br>"" in HTML message, so they are stripped!","[Label(name=""bug""), Label(name=""duplicate"")]","### Expected behaviour

When I configure my signature, I may write a few enters from beginning (leading enters). For example:
"" 

My Signature"" (without quotes).

In the settings editor it shows as written above (i.e. enters are shown).
### Actual behaviour

But after mail composing and sending... leading enters will be stripped in any browser/viewer/mail-browser. Leading signature enters are not converted to ""&lt;br&gt;"" in HTML message, so they are stripped!
### Steps to reproduce
1. Create signature with one, two or more leading enters.
2. Try to create and send an HTML message with such signature.
3. Receive such message and see what you really got.
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,"Signature spaces are not converted to ""& nbsp;"" chars (spaces) in message, so they are stripped!","[Label(name=""bug"")]","### Expected behaviour

When I configure my signature, I may write a few spaces from left (leading spaces). For example:
""   My Signature"" (without quotes).
In the settings editor it shows as written above (i.e. spaces are shown).
### Actual behaviour

But after mail composing and sending... leading spaces will be stripped in any browser/viewer/mail-browser. Leading signature spaces are not converted to ""& nbsp;"" chars (spaces) in message, so they are stripped!
### Steps to reproduce
1. Create signature with one, two or more leading spaces.
2. Try to create and send an HTML message with such signature.
3. Receive such message and see what you really got.
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,Make option to show full correspondent name and address,"[Label(name=""enhancement"")]","### Expected behaviour

I need to see full information in ""From: "" field, like
From: Vasiliy Pupkin &lt;vasilek@pupkin.com&gt;
### Actual behaviour

There are only to ways to see:
1) If option ""Show correspondent names"" is enabled, you will see
From: Vasiliy Pupkin
2) If option ""Show correspondent names"" is disabled, you will see
From: vasilek@pupkin.com

But you will unable to see normal view with all information available:
From: Vasiliy Pupkin &lt;vasilek@pupkin.com&gt;
### Steps to reproduce
1. Just try to see any email message
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Moving account upper make it visible... twice in the list of accounts,[],"### Expected behaviour

When I moving account up it must move up. Not make a copy upper :)
### Actual behaviour

I got a two copies of the same account.

Was before move up:
Account 1
Account 2

After I used ""move up"" on account 2, I got:
Account 2
Account 1
Account 2

I tried to open Account 2 (first) and Account 2 (last) -- opened well.
I fixed the case only by totally closing (in task manager) K-9 mail, and restart it.
### Steps to reproduce
1. Setup two POP3 accounts.
2. Try to move up Account 2.
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,Show counters of new (unread) messages and total (!) messages in the folder and mailbox,"[Label(name=""enhancement"")]","### Expected behaviour

User may see how many new (unread) messages and total count (!) of messages are exists in the folder and/or mailbox. For example:

for mailbox (mailbox list):
GmailBox   15 / 256

for folders (folder list):
Inbox   5 / 15
Sent        3
Trash      21
Drafts     1
### Actual behaviour

There are no total counters (only unread counters are available) for folders and/or mailbox. I cannot see amount of messages inside folder list or mailbox list.
### Steps to reproduce
1. Just try to see mailbox list or folder list.
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,Swipe left/right on message to perform action,"[Label(name=""enhancement"")]","### Expected behaviour

Swipe right on message in the message list may delete message (like in iOS and AquaMail for Android).
### Actual behaviour

Swipe do nothing. There is no such feature.
### Steps to reproduce
1. Just try to swipe on the message in message list. Nothing. Only context menu if you will hold your finger on message.
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,POP3: add authentication by RFC-2095 - MD5 CRAM-HMAC Request/Confirmation,"[Label(name=""security"")]","### Expected behaviour

When I configuring POP3 mailbox there is an option for ""secure"" authentication. I suppose it will support not only RFC-1734, but RFC-2095 too. My mailserver (mailbox) allow only this method of secure authentication. It is mandatory. So, I cannot use mail.
### Actual behaviour

Currently it supports only MD5 APOP Request/Confirmation (RFC-1734). So, I cannot use (receive) my mail using K-9. It's just cannot connect to my POP3 server with such options.
### Steps to reproduce
1. Setup mailserver and mailbox with RFC-2095 authentication method only.
2. Try to receive mail by K-9 using ""secure"" authentication, it will fail, because it will try to send ""APOP"" command, that is unsupported by server (you will receive error: ""unknown command APOP"")
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Add UK variants of Hotmail addresses to providers,[],"Recognises `@hotmail.co.uk` and `@live.co.uk` as Outlook.com addresses.

I suspect there are other countries too, but these are the only ones I've really come across.
"
k9mail/k-9,closed,Share email to other apps doesn't send the header of an email,"[Label(name=""duplicate"")]","### Expected behaviour

When I send an email to my printing app, or to any app, the header is missing.
Only the body is printed, but not the from, to, date and subject headers.
### Actual behaviour

k9mail just prints or sends the body of an email but not the (important) header.
### Steps to reproduce
1. I open any email and press the forward button and here I press the share submenu
2. I select my printer app (Dell Mobile Print), or any other app which can take this content
3. the preview and the print shows only the body of the mail / the shared content is only the body
### Environment

K-9 Mail version: 5.010

Android version: CM 12.1 on a Samsung Galaxy S4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP or POP3 (irrelevant)
"
k9mail/k-9,open,K9 not showing all emails in IMAP folder,[],"### Expected behaviour

It should show all messages in the folder.
### Actual behaviour

I have 6 emails in my inbox but K9 only shows 4 of them.
The two missing mails are mixed in with the others date wise, as in they're not old or last in the list but in the middle. I've tried other email clients and they show all emails (see attached picture).
I've tried telnetting into the IMAP server and the server says EXISTS 6 and UNSEEN 2. The two unseen are the two not shown in K9, but they're perfectly readable by the other clients.

I tried the ""Clear messages"" which cleared the 4 messages, after syncing the 4 came back, still missing the other two.

![k9mail_error](https://cloud.githubusercontent.com/assets/17415202/15718683/e3752c98-282c-11e6-9b17-81b259983591.png)
### Steps to reproduce
1. Have an email account with emails in it, including emails that K9 doesn't like to display.
2. Open account in K9, look at emails, notice missing emails.
3. Refresh account, delete account, redo account, still see missing emails.

No matter what I do K9 refuses to display those 2 emails, why those 2? I have no idea, they're normal emails; not too big, nothing weird with them, valid date, not old, not at the end of the list, etc.
### Environment

K-9 Mail version:
5.010

Android version:
5.1.1 (14.6.A.1.236)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (with SSL/TLS)
"
k9mail/k-9,open,go to next unread message on delete,[],"### Expected behaviour

When I read a message and hit delete I want it to go to the next unread message.
### Actual behaviour

When I hit delete it goes to some set of messages that I have already read.  Changing message thread settings doesn't change anything, and I can see nothing else on this subject
### Steps to reproduce
1. Have many messages in your inbox, some of which are read
2. open a new unread message
3. hit delete
4. k-9 will go to some other message, typically one already read.
### Environment

K-9 Mail version: 5.010

Android version:
6.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Reordering Accounts Leaves Duplicate Entries,[],"### Expected behaviour

Reordering e-mail accounts by moving an entry up or down in the list of all account.
### Actual behaviour

An additonal entry in the list is created at the place where the account was assumed to be moved to. The very same account is also listed at its old place. Seems like both entries in the list refer to the same account because removing one also removes the other.
### Steps to reproduce
1. got to account list
2. choose ""move up"" or ""move down"" via popup menu
   3.
### Environment

K-9 Mail version:
5.007

Android version:
4.2.2 (3.0.64-CM-g9c2e2bc)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Sync fails on Marshmallow,"[Label(name=""duplicate"")]","### Expected behaviour

Periodically K9 should sync folders automatically every x minutes (4 mins in my case)
### Actual behaviour

Sync becomes disabled after a period of time, usually a couple of hours. No notifications of new mail is then received. 

Is this related to Marshmallow Doze feature as some suggest (doze is off for K9 now - still stopps syncing)?
### Steps to reproduce
1. Start Phone as normal
2. Allow K9 to sync for a few hours
3. Notice that sync is disabled
### Environment

K-9 Mail version:
5.010
Android version:
6.0.1
Account type (IMAP, POP3, WebDAV/Exchange):
imap
"
k9mail/k-9,closed,Subject in expanded notifications doesn't take account of dark themes,"[Label(name=""bug""), Label(name=""help wanted"")]","### Expected behaviour

With a dark theme, all text in notifications should be light coloured.
### Actual behaviour

The subject in the expanded notification appears black, whether a light or dark theme.

![image](https://cloud.githubusercontent.com/assets/4025899/15647525/007a97ce-265c-11e6-9a46-88834678f68d.png)

Collapsed notification displays correctly though.

![image](https://cloud.githubusercontent.com/assets/4025899/15647528/0363fb1a-265c-11e6-87ff-aaddfc039af9.png)
### Environment

K-9 Mail version: v5.010 or v5.109
Android version: 6.0.1 (CyanogenMod 13)
"
k9mail/k-9,closed,Import setting using OI File Manager fails on a new device,[],"### Expected behaviour

Expect to see my mail boxes configured
### Actual behaviour

msg: Failed to import any settings form settings.k9s
### Steps to reproduce
1. Export 
2. Import 
   :)
### Environment

K-9 Mail version:
5.0.10 on import side 5.108 on export side
Android version:
5.0.2 on export 6.0 on import
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,fix flicker of subject line in MessageHeader,[],"MessageHeader rendered the subject line by default, and only after
MessageTitleView decided it was large enough to display the entire
subject line, the subject line was hidden again. This caused a noticable
flicker in vertical size during message rendering while navigating with
next/previous message buttons.

This commit flips the logic, only displaying the subject view once the
title view finds it can't display it all.
"
k9mail/k-9,closed,warning on no subject -- make configurable,[],"When an option like: ""#1089 - adding warning on no subject"" is introduced, could a configuration option be included so that the behavior (which changes the existing UX) can be optionally disabled by the user. 
"
k9mail/k-9,closed,Build speed improvements,[],"Put `optimizeForDevelopment=true` into your `gradle.properties` to skip loading the code quality plugins during development.
"
k9mail/k-9,closed,preload WebView widget in K9.onCreate() to avoid loading time later on,[],"During profiling of MessageViewFragment, I noticed there is a long delay when the first message is displayed since the WebView widget needs to load some native libraries. This must be done on the UI thread and takes more than 250ms on my Nexus 5, which is a quite noticable delay, especially since it interferes with the transition animation.

The rationale here is that when K9 is opened, the user will sooner rather than later view a message, so the time to load the library will be spent on the UI thread somewhere regardless. 250ms of app startup time are some more black screen time, which feels a lot less laggy to me than the same time spent in the transition when first viewing a message.

I realize that `Application.onCreate` is not a great position to introduce this delay either, so if anyone has a nicer idea where to place this I'd be happy to hear it. Maybe in `MessageList`?

It might also be a bad idea to do this in the first place, not sure. Either way the fix is simple so I thought I'd bring it up for discussion.
"
k9mail/k-9,open,Multi-touch motionEvent drag-to-pan interferes with pinch-to-zoom in messageView ,[],"### Expected behaviour

Both drag-to-pan and pinch-to-move action should be able to operate simultaneously. See Gmail message view, web view on Android or earlier releases of k9 
### Actual behaviour

With 2-finger touch action, messageView support only drag-to-pan even when user does a pin-to-zoom action
### Steps to reproduce
1. In messageView, touch display with two fingers
2. Perform pin-to-zoom
3. messageView perform a drag-to-pan action instead of text zooming

To perform zoom, user must touch the screen with only one finger first to scroll locked the screen. Then with second finger touch and drag, then zoom can only happen. Both then the drag-to-pan is being disabled.
### Environment

K-9 Mail version: version 5 but probably earlier. Earlier version with database version 43 is working ok. 

Android version: KitKat

Account type (IMAP, POP3, WebDAV/Exchange): All
"
k9mail/k-9,open,Duplicate mails when moving,[],"Hi!
When moving mails to trash or other folders, I see these mails twice until I refresh the mailbox.
"
k9mail/k-9,open,Sieve support,"[Label(name=""enhancement"")]","Please add sieve support to manage the sieve filters on imap servers.
"
k9mail/k-9,closed,Attachment opening,[],"### Expected behaviour

Don't open attachment after press on button ""save""
### Actual behaviour

Attachments open after pressing on button ""save""
### Steps to reproduce
1. 
   2.
   3.
### Environment

K-9 Mail version: 5.010

Android version: 5.0.2

Account type (IMAP, POP3, WebDAV/Exchange):
Exchange
"
k9mail/k-9,closed,Eating outgoing mail (in Android N),"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

mail should be sent, or an error message saying it cannot be sent
### Actual behaviour

mail is not sent, yet disappears from outgoing folder
### Steps to reproduce
1. install Android N
2. install K-9
3. send email
### Environment

K-9 Mail version: 5.010

Android version: Android N

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Auto select identity based on X-Original-To / Delivered-To / X-Envelope-To / To / Cc,"[Label(name=""being worked on""), Label(name=""good first issue"")]","Hi,

I have a catchall domain and I use one address per service, with some I need to reply to. So I configured a few identities in K9Mail. Let's say I have configured default-id@my.domain and id2@my.domain and id1 is the default.

When I reply to a mail sent to id2@my.domain, k9mail selects default-id@my.domain as identity for the reply. I'd expect it to select id2@my.domain since mail was addressed to that email (visible in To/Cc sometimes, and always on X-Original-To in my setup).

There are multiple headers which can define the original email it was adressed to, but K9 could maybe match a few headers against the identity list ? Priority would be X-Original-To / Delivered-To / X-Envelope-To / To / Cc I suppose. Not sure if there are more potential headers doing this job.

Is it already done and I am missing something maybe ?
If not, consider this a feature request ! ^^

Thanks !
### Environment

K-9 Mail version: 5.010
Android version: 4.4.4
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,do not purge messages when downloading missing body for view,[],
k9mail/k-9,closed,Updated crypto logic for message view,[],"For easier review, this PR contains all changes from #1299 in the message extraction logic and communication mechanism with the openpgp api.

What's in here:
- the concept of multiple view roots is ditched, which means that MessageViewInfo now is simple and flat structure with a single root part and a single cryptoannotation
- there is some preliminary work towards detecting non-pgp encrypted/signed parts and displaying them more gracefully in MessageDecryptVerifier
- MessageViewInfo includes non-signed/encrypted parts as 'extraText' and 'extraAttachments' (not displayed yet)
- support for encapsulated encryption format (not displayed yet)
- rewrite of the data flow of OpenPgpApi, moving to -Source and -Sink callback classes. this is a major performance improvement, and MessageCryptoHelper no longer needs to handle any synchronization with the service and streams itself
- support for progress reporting from OpenPgpApi (not displayed yet)
- decrypted text parts up to 4096 bytes are kept in memory instead of files

The UI is left almost entirely unchanged, hence the (not displayed yet) bits.
"
k9mail/k-9,closed,"Delete messages through notification (doesn't work, even if activated in settings)",[],"The current version of K9 (5.010) has several malfunctions/bugs in its notification function.
Could you please have a look into this section of K9 and fix these bugs in a new version?
### Expected behavior

With former versions of K9, it was possible, to delete any incoming mail directly from within its notification in the notification area, without opening K9 itself.
This is managed by

> global settings > notifications > show “delete” button > always.
### Actual behavior

My new device is a Samsung Galaxy S7, running Android 6.0.1 (Marshmallow). Here, independent of which setting I chose (“always” or “for single message notification”), it is no longer possible to directly delete incoming single mails through their notification. 
### Steps to reproduce

After several tests, I found out that the malfunction depends on the K9 **language settings** in

> global settings > display > language.

I put it together with several screenshots in the attached file.
[K9 notifications.docx](https://github.com/k9mail/k-9/files/281363/K9.notifications.docx)

If language of K9 is set to “**German**” (which is my country), there is no option for deleting mails from within their notifications.

Additional bugs when using “German” language setting:
- most often, the notifications even disappear from the notification area within 1 or 2 seconds and I have no chance to get information on incoming mails.
- if more than 1 messages have arrived in the same account, tapping on the notification always takes me to the latest incoming message, instead of going to the list of unread messages
  account settings > notifications > notification opens unread messages (is active)

If language of K9 is set to “**English**”, I will be allowed to delete incoming mails from within their notifications, single mails as well as multiple mails.

Additional bug when using “English” language setting:
- if more than 1 messages have arrived in the same account, tapping on the notification always takes me to the latest incoming message, instead of going to the list of unread messages
  > account settings > notifications > notification opens unread messages (is active)
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Device: Samsung Galaxy S7 (SM-G930F)
"
k9mail/k-9,closed,Feature Request: Dead zone after buttons on bottom of screen,[],"### Expected behaviour

There should be an option for a ""dead space"" underneath the K9 buttons so it's not right next to the bottom of the screen.
### Actual behaviour

My Samsung Galaxy S4 has buttons at the bottom of the screen. Whenever I go to press the ""Back"" button on the phone while in K9, I invariably hit the Create New Message button instead. Then I have to Menu -> Discard to get rid of the message I just accidentally created.
### Steps to reproduce
1. Start K9 and read a mail message
2. Try to hit ""Back"" on a Samsung Galaxy S4 with fat fingers.
3. You've just created a new draft!
### Environment

K-9 Mail version: 5.010

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,Add esPass MIME type,[],"same as with https://github.com/k9mail/k-9/pull/1358 - but for esPass
"
k9mail/k-9,closed,infinite loop in downloadMessageBody,"[Label(name=""bug"")]","(Note to self)

the `if (body == null) startDownloadingMessageBody` logic in MessageViewFragment might result in an infinite loop at the moment, that should probably be fixed to allow only a single pass
"
k9mail/k-9,closed,No Body Text in quoted or forwardet  Mail after decryption,[],"### Expected behaviour

If I reply or forward a decrypted Mail there should be quoted the whole Mail.
### Actual behaviour

It's only quoted Header and subject
In unencrypted Mails it works fine.
### Steps to reproduce
1. Receive a encrypted Mail
2. Decrypt this Mail
3. Press the Reply or Foward Button.

If you forward a decrypted Mail the quoted Mail will sendet as attachement ""encrypted.asc""
### Environment

K-9 Mail version:
5.109
Android version:
5.0
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,SMTP handshake failed,[],"### Expected behaviour

SMTP helo handshake should succeed. In particular, when the current Android hostname is not a valid public ip address, some mechanism should be used to retrieve the public ip address the device is sending from.
### Actual behaviour

Because K-9 Mail doesn't use a publicly resolvable hostname when identifying itself, some SMTP server might reject the connection.
### Steps to reproduce
1. SMTP server (e.g. postfix):

smtpd_helo_restrictions =
    reject_invalid_helo_hostname
    reject_non_fqdn_helo_hostname
    reject_unknown_helo_hostname
1. Send an email from K-9 mail on a local-area-network such as a wifi.
2. SMTP server will send back:

550 5.7.1 <SOMELOCALHOSTNAME>: Helo command rejected: Host not found;
### Environment

K-9 Mail version: 5.010

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange): IMAP+SMTP
"
k9mail/k-9,closed,Authentication failed after update to 5.109,[],"### Expected behaviour

Tell us what should happen

login to imap google account 
### Actual behaviour

Tell us what happens instead
After update from 5.108 to 5.109 authentication is failing on 1 of my 4 accounts  (two web.de and 2 google accounts) 

The one which is failing has a quite long email adress which I am ussing as the login user name.

qwertzui.asdfghj.yxcvbnmasd@gmail.com

with 5.108 it was working.
checked the password already.
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:
5.109

Android version:
4.4
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,Toggle view between plain Text and HTML,"[Label(name=""being worked on""), Label(name=""enhancement""), Label(name=""good first issue"")]","Title says all I hope ;-)

I also hope this issue doesn’t exist yet.
"
k9mail/k-9,closed,Unable to decrypt some messages,[],"### Expected behaviour

Message should be decrypted
### Actual behaviour

K9 Mail can not find OpenPGP Content.
See also the screenshot.
Squiky Mail an Thunderbird (enigmail) do it.

I will send a Mail to philipATwhiuk.com with a CatLog and the Source of one of this Mails.
Please let me know if it helps or if I can do something else.
![screenshot_2016-05-22-12-25-07](https://cloud.githubusercontent.com/assets/6864851/15453557/c31972e8-201a-11e6-9454-1a90a584a4ee.png)
### Steps to reproduce

I have tried to reproduce it but can not find a way to do it
### Environment

K-9 Mail version:
5.108
Android version:
5.0
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,new option: just show notification for contacts,[],"A simplified approach for feature request #1144 and pull request #1188 .

Just a checkbox option to show notifications from contacts only. Thats my ""fraction of the messages"" which are worth notifying. I think its a reasonable limit for others, too.

I prefixed the option field with an ""m"", because it looked wrong in between the otther fields without...
"
k9mail/k-9,closed,K9 crash try attaching files,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

Adding attachment and browising files whit Amaze or other files manager I would like to attach a file
### Actual behaviour

K9 crash when I select the files whit Amaze or other files manager (process ""com.fsck.k9"" stop); if I select files from stock image gallery app or stock audio library app it works fine.
Downgrading K9 to v5.008 everything works fine
### Steps to reproduce

1.Create new email
2.Add attachment
3.Select a file whit Amaze or any other files manager
### Environment

K-9 Mail version:
5.010
Android version:
4.0.4
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,(Long?) links doesn't open when tapping in new-unread message,[],"**What steps will reproduce the problem?** 
1. Get new message(s) from server containing link(s) to phpBB/Buletin Forum 
2. Open unread message (by show all unread integrated) and try tap link(s) to open them in browser

**What do you expect to have happen?** 
Open link in default browser.

**What do you see instead?** 
Nothing happens. Link is visible as url in message body, but can not tap it, and it doesn't open in browser. Must leave this message, go to account folder, enter again into message body and then it's ""tapable"".

**What version of K-9 are you using?** 
5.010 but this happens from 2 years or longer

**What is your device and what version of Android are you using?**
Nexus 4, Anroid 4.4.4 (and earlier), newest (and older) Chrome browser as default

**Is your email account a POP account, Exchange Account or an IMAP account?** 
POP

_This Issue was already reported on Jun 4 2015 in v. 5.005, and as we can see below in Comment #2 it has been fixed in version 5.006 but I still have this issue sometimes. Please check this out one more time._

**Comment #1**
Posted on Jun 9, 2015 by Swift Monkey
Happens to me with Oneplus One on 5.0

**Comment #2**
Posted on Jun 10, 2015 by Swift Monkey
This has been fixed with the newest release 5.006
"
k9mail/k-9,closed,extract AttachmentPresenter from MessageCompose,[],"What the title says: I extracted a presenter for managing attachments in MessageCompose.

I also changed some things with the loader structure, I think it's a lot more reliable and straightforward now. I tested configuration changes and ""Don't keep activities"" behavior in combination with the stalled action mechanism quite thoroughly on my device, everything works nicely.

One thing where I wasn't sure was where to place `performSendAfterChecks`, between keeping a reference to the activity and putting it in the mvp view, I put it in the view for now. If at some point the sending logic is handled by a presenter, handing that presenter to the attachmentPresenter would be a nicer option, but this is fairly minor for now.

(What I really wanted to work on was loadAttachments for #819, but I got a little sidetracked)
"
k9mail/k-9,open,Suggestion: selection taps/marks on contact icons,[],"The setting to always show selection boxes adds a column with them on the left. It uses additional space.

I think that a solution like the one implemented by Total Commander, where the selection marks are located in the icon itself, would be better. After all the sender can be shown above the subject line in the list view and the icon is there only to show the contact picture.

By using check marks on the icons the display of contact information would require the opening of the email. I think however that selection is way more common than displaying contact info.
As long as this behaviour is implemented as replacement of the checkbox column and always active, every user can still be happy.
"
k9mail/k-9,closed,"Fix reply to all, and some refactorings for initFromReplyTo",[],"What the title says, fixes #1369. I also moved more ""who to reply to"" logic into ReplyToParser and added tests for that.
"
k9mail/k-9,open,"Add support for creating, deleting and renaming IMAP folders","[Label(name=""enhancement"")]","### Expected behaviour

A user should be able create, delete and rename IMAP folders
### Actual behaviour

The user has to do it via the web client
### Notes

It doesn't look too complex to implement: https://tools.ietf.org/html/rfc3501#page-34

A similar issue will want to be raised for WebDAV.

This blocks #900 
"
k9mail/k-9,closed,Fix email domain to handle a dotted quad address.,[],
k9mail/k-9,closed,Add debug operation to clear a message locally,[],"While working on #1386 I needed a way to clear messages easily. This adds a menu item to the messagelist context menu which does just that, and which is only shown if `K9.DEBUG`.

I'm not sure if we merge that sort of thing, but thought I'd put it here anyways. Having those options available makes it more easy to test corner cases, increasing the probability that people test them.
"
k9mail/k-9,closed,Fetch message on view if body unavailable,[],"Fix for #1384, getting rid of the not-implemented RuntimeException.

I assumed we don't want to download the entire message on view. The only critical commit in this PR is the first one: There was a `loadPartialForSearch` parameter in `loadMessageForView`, but that was a noop (unless I missed something) so I fixed it. I use `downloadMessages` to load messages, which takes care of the partial message download. 

I have no server to test server-side searching with and no insight about messagingcontroller behavior for that use case, so it would be helpful if someone could test behavior for that.
"
k9mail/k-9,closed,New option: bundle replies and forwards together with original messages,"[Label(name=""needs work"")]","Add new per-account flag for optionally saving replies and forwarded messages to the same folder as the original message, similar to [Thunderbird's behaviour](http://forums.mozillazine.org/viewtopic.php?f=39&t=1870275), allowing for consistent actions between desktop and mobile for those who fancy this particular flow (me included.)

In order to keep it simple, this particular implementation is a best effort - it won't have any effect if a message is sent on an application run other than the one under which it was created, nor if sending using an account different than the one through which we received the original message.

Making it persist between application runs would be nice but, from I was able to gather from the code, it would require significant changes to the way messages are persisted in local folders, as well as mixing in some semantic weirdness: a complexity increase to cover something that will happen rarely in the first place. As for making it work between separate accounts: the potential edge cases made my head hurt, and this is a per-account setting anyway.
"
k9mail/k-9,closed,Download missing message body in MessageView,[],"See here: https://github.com/k9mail/k-9/blob/master/k9mail/src/main/java/com/fsck/k9/ui/messageview/MessageViewFragment.java#L241

The body of a message may be null when it is displayed, e.g. for remote search results. We need to download the message in that case, it's just not implemented yet.
"
k9mail/k-9,closed,fts: more resource friendly migration,[],
k9mail/k-9,open,Fall back to IPv4 if IPv6 connection fails,"[Label(name=""enhancement"")]","### Expected behaviour

POP mail should download on timed intervals or on demand
### Actual behaviour

POP mail does not download - fails immediately. Mail can still be sent and other Internet applications work.
### Steps to reproduce

Problem started only after I switched ISP. Wireless router unchanged. Everything works perfectly until I am out of range of my home WiFi network. F-9 continues to work perfectly using the phone network.

When I return to my home WiFi network, the WiFi network re-connects and it is used preferentially over the phone network, but K-9 no longer fetches mail. K-9 can still send (it uses a different server than for fetching which may or may be relevant) and all other Internet applications are fine.

Neither a Force Stop of K-9 nor an Android reboot fixes the problem. Only solution I have found is to temporarily reconnect my old modem/ISP (which is still working for a few days) and reconnect to the POP server. This resets the problem and it now works when I revert to the new ISP (until I go out of WiFi range again).

Debug logs implies that there is a 30000 MS timeout connecting to port 995, but the error happens almost instantaneously. See log for two consecutive tries 2 seconds apart.

 Debug Logs (3 instances - on cursory inspection, they seem to all be the same) attached
[DebugLog-20160514.txt](https://github.com/k9mail/k-9/files/264781/DebugLog-20160514.txt)
### Environment

K-9 Mail version: 5.010
Android version: 5.1.1
Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,ensure that multipart/* parts always have a non-null boundary field,[],"See #1333. This makes sure that multipart fields always have a boundary field set in the database by generating a new one if the body of such part is null.
"
k9mail/k-9,closed,Different fix for decrpyed part double decode problem,[],"See #1252. This PR simply changes from RawDataBody to a regular Body, implicitly fixing the misbehavior in `MimeUtility.decodeBody`
"
k9mail/k-9,open,Starring a message should happen on the background thread,"[Label(name=""bug"")]","### Expected behaviour

Tell us what should happen

When you set a message to starred via the star in a message view, K9 Mail should keep these.
### Actual behaviour

Tell us what happens instead

If you set a message to starred while syncing, the star will be resettet to what it was before.
### Steps to reproduce
1. Start sync.
2. Open a message and star it.
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP, mail provider is web.de
"
k9mail/k-9,closed,Refactorings for #1299,[],"This PR contains a number of refactorings I made for #1299 and extracted to be independent, to allow easier review.
"
k9mail/k-9,open,"Back button takes view to individual account inbox even though ""start in unified inbox"" is enabled",[],"### Expected behaviour

When viewing a message (e.g. after tapping on the ""new mail"" notification to open it), hitting the back button should display the unified inbox rather than the inbox for the account from which the last-viewed email was sent to.
### Actual behaviour

Hitting the back button displays the inbox for the account which received the email, rather than the unified inbox.
### Steps to reproduce
1. enable ""start in unified inbox""
2. receive new email, tap notification to view it
3. hit back button, and notice that you're not viewing the unified inbox
### Environment

K-9 Mail version:
5.108

Android version:
6.0.1 (Cyanogenmod 13)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,Feature Request: Per-class and/or per-folder notification options?,[],"I would like to be able to control notification options on a per-class basis (different notification sounds per class, etc). Right now, you can only select one set of notification options and whether or not that set of notifications is triggered by a given class.

My use case is that I'd like my 1st class folders to make a sound, but my 2nd class folders to trigger a notification in the status bar without making a sound (the idea being that my 1st class folders are important enough that they should be able to tell me to look at my phone if I'm not looking at it, the 2nd class folders are important enough to tell me to look at my mail client only if I'm already looking at my phone).

This is not a bug request so I dropped the template, hopefully that's not a big issue.
"
k9mail/k-9,closed,No sync,"[Label(name=""needs info"")]","### Expected behaviour

After changing to a new phone, Huawei Mate 8, K9 does not synchonize anymore. Therefore no new mails arrive and no warnings on new mail appear
### Actual behaviour

When opening K9, it states ""next poll 5 hours ago""....! Although polling is set to every hour on all four accounts. Polling does start automatically when K9 is opened
### Environment

K-9 Mail version: Latest

Android version: 6.0

Account type: POP3
"
k9mail/k-9,open,Emails Caching On Server,"[Label(name=""needs info"")]","### Expected behaviour

After Emptying Trash, Emails should Delete from my Web Mail IMAP Server.
### Actual behaviour

In K-9, After Deleting Emails & Emptying the Trash, the Megs/Gigs Calculate Normal, but On my Web Mail IMAP Server, it Calculates as though Emails are Still In the Trash, with Much Higher Megs/Gigs.  There is No Way to Clean Out the Cache.  :--)
### Steps to reproduce
1.  Read Email;
2.  Delete Email;
3.  Empty Trash
### Environment

K-9 Mail version: 5.010

Android version: 5.1.1

Account type (IMAP):
"
k9mail/k-9,closed, Failed to send some messages: RuntimeException: Nope ,[],"This seems to be a duplicate of #1206 and 1218, but it only started happening last night after an update to 5.108.

When trying to send a mail message, nothing is sent and instead I see the error "" Failed to send some messages: RuntimeException: Nope"" in my notifications and the email is placed in my DRAFTS folder.

K9 Log file below.

I am using a 1and1.com Imap server and have had no issues for 2 years until the update to 5.108 last night.

From: K9mail internal <*********>
Sent: May 11, 2016 12:40:24 PM EDT
Subject: Failed to send message
K9-Mail version: 5.108
Device make: samsung
Device model: SM-G900V
Android version: 5.0

java.lang.RuntimeException: nope
at com.fsck.k9.mailstore.BinaryMemoryBody.setEncoding(BinaryMemoryBody.java:36)
at com.fsck.k9.mail.internet.MimeMessage.setEncoding(MimeMessage.java:462)
at com.fsck.k9.mail.internet.MimeMessage.setUsing7bitTransport(MimeMessage.java:701)
at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:499)
at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:488)
at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3113)
at com.fsck.k9.controller.MessagingController$20.run(MessagingController.java:2993)
at com.fsck.k9.controller.MessagingController.run(MessagingController.java:257)
at java.lang.Thread.run(Thread.java:818)
"
k9mail/k-9,closed,Excess IMAP logins,[],"### Expected behaviour

Tell us what should happen
One login per poll
### Actual behaviour

Tell us what happens instead
""more than 5"" logins listed by my yandex.com every few minutes - this tripped Yandex's 'hackers' panic & locked me out
### Steps to reproduce

1.As far as I know normal usage
2.
3.
### Environment

K-9 Mail version: 5.0.1.0 F-Droid 

Android version: Samsung 5.1.1 

Account type (IMAP, POP3, WebDAV/Exchange): IMAP 
"
k9mail/k-9,closed,Do not let output additional CR LF at the end of sent mail,[],"When I send an email, K-9 add an extra newline <CR><LF>.

k9mail-library/src/main/java/com/fsck/k9/mail/transport/SmtpTransport.java

> executeSimpleCommand(""\r\n."");

This patch let K-9 add newline only when an email has no newline at the end of it.
"
k9mail/k-9,closed,Replacing Contact with an email,[],"### Expected behaviour

The contact will be replaced with the email address.
### Actual behaviour

The replacement looks like com.fsck.k9.view.RecipientSelectView$Recipient@6596221

![drawonphoto _1462955567096](https://cloud.githubusercontent.com/assets/6163155/15183362/056175c0-1791-11e6-9bbd-0a700736a0ac.png)
### Steps to reproduce
1. open a recieved mail
2. answer on mail
3. click into the recievers field
4. press return some times
### Environment

K-9 Mail version: v5.108

Android version: 6.0.1; Security Patch: 1. March 2016)

Device: Nexus 5X
"
k9mail/k-9,closed,Answer acts like answer all,"[Label(name=""bug"")]","### Expected behaviour

Only the sender is copied to the reciever field on the compose screen.
### Actual behaviour

All the email addresses in the original email are copied to the reciever fields on the compose screen.
### Steps to reproduce
1. open a recieved mail with multiple recievers
2. Click on the answer icon button and then on answer in the popup
### Environment

K-9 Mail version: v5.108

Android version: 6.0.1; Security Patch: 1. March 2016)

Device: Nexus 5X
"
k9mail/k-9,closed,multipart HTML messages not displaying,"[Label(name=""bug""), Label(name=""needs info"")]","Since updating to the 5.108 prerelease, I can no longer see the body of _some_ multipart HTML emails. The header appears intact, and the messages appear fine in other mail clients. Plain text mail is fine, as are many HTML emails. I think the failing ones all have inline attachments (graphics) but I'm not 100% sure of that. When I turn on debugging and ""adb logcat"" I see the following exception appear each time I try to view a problematic HTML email.

Devices:
 1) Google Nexus 5X, latest Marshmallow 6.0.1
 2) Sony Tablet Z2, Marshmallow 6.0.1, February update.

Perhaps unrelated, I did have to force k-9 to request the IMAP folder list after the update to see all of my folders besides just the INBOX, Trash, etc. I tried ""Clear local messages"" for my Inbox, but that did not change the behavior. I have not yet dared to try ""Clear messages"" or ""Recreate data"" on the account.

  05-10 13:51:34.286 D/k9      ( 9362): MessageView displaying message MessageReference{accountUuid='9f5ff35a-c63f-4071-853b-9c8aec540551', folderName='INBOX', uid='319609', flag=null}
  05-10 13:51:34.362 E/k9      ( 9362): Unable to getTextFromPart
  05-10 13:51:34.362 E/k9      ( 9362): com.fsck.k9.mail.MessagingException: File not found
  05-10 13:51:34.362 E/k9      ( 9362):     at com.fsck.k9.mailstore.FileBackedBody.getInputStream(FileBackedBody.java:32)
  05-10 13:51:34.362 E/k9      ( 9362):     at com.fsck.k9.mail.internet.MimeUtility.decodeBody(MimeUtility.java:1021)
  05-10 13:51:34.362 E/k9      ( 9362):     at com.fsck.k9.mail.internet.MessageExtractor.getTextFromPart(MessageExtractor.java:78)
  05-10 13:51:34.362 E/k9      ( 9362):     at com.fsck.k9.mailstore.LocalMessageExtractor.buildHtml(LocalMessageExtractor.java:153)
  05-10 13:51:34.362 E/k9      ( 9362):     at com.fsck.k9.mailstore.LocalMessageExtractor.extractTextAndAttachments(LocalMessageExtractor.java:117)
  05-10 13:51:34.362 E/k9      ( 9362):     at com.fsck.k9.mailstore.LocalMessageExtractor.decodeMessageForView(LocalMessageExtractor.java:442)
  05-10 13:51:34.362 E/k9      ( 9362):     at com.fsck.k9.ui.message.DecodeMessageLoader.loadInBackground(DecodeMessageLoader.java:46)
  05-10 13:51:34.362 E/k9      ( 9362):     at com.fsck.k9.ui.message.DecodeMessageLoader.loadInBackground(DecodeMessageLoader.java:15)
  05-10 13:51:34.362 E/k9      ( 9362):     at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)
  05-10 13:51:34.362 E/k9      ( 9362):     at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)
  05-10 13:51:34.362 E/k9      ( 9362):     at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:66)
  05-10 13:51:34.362 E/k9      ( 9362):     at android.os.AsyncTask$2.call(AsyncTask.java:295)
  05-10 13:51:34.362 E/k9      ( 9362):     at java.util.concurrent.FutureTask.run(FutureTask.java:237)
  05-10 13:51:34.362 E/k9      ( 9362):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
  05-10 13:51:34.362 E/k9      ( 9362):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
  05-10 13:51:34.362 E/k9      ( 9362):     at java.lang.Thread.run(Thread.java:818)
  05-10 13:51:34.362 E/k9      ( 9362): Caused by: java.io.FileNotFoundException: /storage/emulated/0/Android/data/com.fsck.k9/files/9f5ff35a-c63f-4071-853b-9c8aec540551.db_att/3569: open failed: ENOENT (No such file or directory)
  05-10 13:51:34.362 E/k9      ( 9362):     at libcore.io.IoBridge.open(IoBridge.java:452)
  05-10 13:51:34.362 E/k9      ( 9362):     at java.io.FileInputStream.<init>(FileInputStream.java:76)
  05-10 13:51:34.362 E/k9      ( 9362):     at com.fsck.k9.mailstore.FileBackedBody.getInputStream(FileBackedBody.java:30)
  05-10 13:51:34.362 E/k9      ( 9362):     ... 15 more
  05-10 13:51:34.362 E/k9      ( 9362): Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)
  05-10 13:51:34.362 E/k9      ( 9362):     at libcore.io.Posix.open(Native Method)
  05-10 13:51:34.362 E/k9      ( 9362):     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:186)
  05-10 13:51:34.362 E/k9      ( 9362):     at libcore.io.IoBridge.open(IoBridge.java:438)
  05-10 13:51:34.362 E/k9      ( 9362):     ... 17 more
"
k9mail/k-9,closed,Fewer Navigation Buttons in Tab vis-a-vis Phone,[],"### Expected behaviour

I use K9 in both my phone and tab. In phone, I am able to get more quick navigation buttons, e.g., Previous, Next, Delete, Spam, Reply, and Menu for other options. Surprisingly, I get less options in my tab which has actually got a bigger screen and a more empty space. See the picture for comparison. If I add say, Spam in Tab, the Reply feature completely disappears.
### Actual behaviour

As per the attached picture, there should be an option to add at least two more quick buttons in Tab, e.g., I would like to have quick access to Spam and Move.
### Steps to reproduce
1. Open the Inbox and check. See the attached picture.
### Environment

K-9 Mail version: 5.010

Android version: Lollipop

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
![k9 navigation button issues](https://cloud.githubusercontent.com/assets/18576900/15136861/de7f1a46-16a2-11e6-8951-8b56522cdb3b.jpg)
"
k9mail/k-9,open,High data usage observed,"[Label(name=""needs info"")]","### Expected behaviour

Not sucking my CPU; not downloading 2GB in 2 days without my consent.
### Actual behaviour

Since a week or so, K9 has been eating like over 85% of CPU, handset gets hot. Just received a notice from my cell carrier that K9 has downloaded/uploaded any way transferred like 2 Gigs of data in less than a week, this is totally non sense, never happened before, what the fuck is going on?
### Steps to reproduce

1.Plug the phone while off when waking up in the morning for 2 hours;
2.Unplug the phone when it's fully charged;
3.Just don't really use K9, it's there sitting in the shadow and it will suck my CPU and my data plan.
### Environment

K-9 Mail version:5.010

Android version: Jelly Bean

Account type (IMAP, POP3, WebDAV/Exchange):  Pop + Imap 
"
k9mail/k-9,closed,Feature request: Add email to contacts,[],"Hello!

It would be good to have an easy to use feature that could add the email addresses in  To, Cc, From, etc headers to the contacts list.

It should search for an existing contact (to append the email for that), but give an option to make a new one with that address.

Thanks:)
"
k9mail/k-9,closed,f,[],"### Expected behaviour

Tell us what should happen
### Actual behaviour

Tell us what happens instead
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Mail view context menu UX is a bit disappointing,[],"Hi!

The first time i've used K-9 mail (long long time ago) i remember that i was puzzled, ""How can i reply to this?"". Then I found the ""Send -> Reply"" menu. 

I think that is not really good from the viewpoint of user experience.

I think the most used feature is the reply menu, that should have it's own button on the toolbar, it should not be hidden under a context menu's second option.

So it would be good to think about which features are the most commonly used, and to put them to a higher visibility / easier to be reached point. 

Like:
- i never moved any emails of mine (thunderbird's filters doing that).
- Previous / Next mail should be a swipe to left / right and then it would free up two buttons on the bottom toolbar.
- Reply, Reply all could go to the right top maybe?
- Show headers, copy, move, refile (I'm not  even sure what it does) mark unread could go to somewhere a bit out of sight, but still with the most used features (show headers, move) on the top.

So, i thought i share my ideas with you, thank you for k-9 mail!
"
k9mail/k-9,open,Very bad UX when sent email being rejected by SMTP,[],"### Steps to reproduce
1. Compose a mail to 10 recipients, but forget a comma at the end of it or add some syntax error in to the TO field.
2. Send the email.
### What happens?
- A notification shows up, with the error message's first 100 characters (out of maybe 1000), and you have no way of reading the rest of it as the notification doesn't allow you to do that. (afaik) ""SMTP ERROR INVALID..."" (I don't remember by head what was the message.)
- You may know about the outgoing folder, go there and open it, then you see no way of sending that again with corrected headers, thats frustrating.
- Then by accident you find the ""Send again"" in the outgoing list's long tap context menu and you are happy
  - And it repeats your signature every time you try it again, and you only notice that after you sent your mail to 10 person with 5 signatures under it:)
### Propsed solution
- Send again into the outbox mail view context menu too
- A huge red notification in the outbox mail view with the error that blocked that mail's sending
- Format checking in the composer view on the fields, so that it would not be possible to send an email with incorrect recipients or anything in the first place
### Environment

K-9 Mail version: 5.0.10

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): imap

Thank you for K-9 mail, you are doing a great job out there!
"
k9mail/k-9,open,Support Lemonade extensions for attachment forwarding without download on IMAP,"[Label(name=""enhancement"")]","### Expected behaviour

If an email message in a K9 IMAP account contains attachments, a user should be able to forward the email and its attachments without downloading the attachments. 
See also https://code.google.com/archive/p/k9mail/issues/216
### Actual behaviour

The user has two options: forward the email without attachments; or download the attachments before forwarding the email.

Specifically, this requires the implementation of three Lemonade extensions: CATENATE, URLAUTH and BURL.

I believe that Isode's and Oracle's email servers already support the server side of these. Dovecot supports two and is scheduled to support the final one in its next release (2.3; https://www.ietf.org/mail-archive/web/apps-discuss/current/msg13450.html ), which should make this far more ubiquitous.

Trojita (and therefore Ubuntu Touch's email client) supports this feature:
https://github.com/benkaiser/trojita/blob/master/docs/masters/mobile-imap.tex

Other useful background on this can be found in the Mail in a Box issue about this:
https://github.com/mail-in-a-box/mailinabox/issues/801
"
k9mail/k-9,open,Email with very large body not displayed,[],"I'm using K9Mail: 5.0.10 with Android 6.0.1 on a Samsung Galaxy S7.

When viewing an email with a very large amount of text (A server's backup log for example) and even with account settings to fetch emails of any size, k9mail is showing ""No text"" for the actual email content view although message preview is showing the first few lines of text.  CursorWindow also gets an error in the android log.  I've also tried clearing the local copy of the folder (it's imap account) and re-downloading but still get the same error.
Logcat output:
05-09 09:37:35.266 20962 27193 W CursorWindow: Window is full: requested allocation 1146938 bytes, free space 862497 bytes, window size 2097152 bytes
05-09 09:37:35.276 20962 20962 I InjectionManager: dispatchCreateOptionsMenu :com.fsck.k9.activity.MessageList
05-09 09:37:35.276 20962 20962 I InjectionManager: dispatchCreateOptionsMenu :com.fsck.k9.fragment.MessageViewFragment
05-09 09:37:35.276 20962 20962 I InjectionManager: dispatchPrepareOptionsMenu :com.fsck.k9.activity.MessageList
05-09 09:37:35.276 20962 20962 I InjectionManager: dispatchPrepareOptionsMenu :com.fsck.k9.fragment.MessageViewFragment
05-09 09:37:35.276 20962 27193 W CursorWindow: Window is full: requested allocation 1146938 bytes, free space 862497 bytes, window size 2097152 bytes
05-09 09:37:35.276 20962 27193 E CursorWindow: Failed to read row 0, column 0 from a CursorWindow which has 0 rows, 3 columns.
05-09 09:37:35.286 20962 27193 E k9      : Exception fetching message:
05-09 09:37:35.286 20962 27193 E k9      : java.lang.IllegalStateException: Couldn't read row 0, col 0 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.
05-09 09:37:35.286 20962 27193 E k9      :      at android.database.CursorWindow.nativeGetString(Native Method)
05-09 09:37:35.286 20962 27193 E k9      :      at android.database.CursorWindow.getString(CursorWindow.java:451)
05-09 09:37:35.286 20962 27193 E k9      :      at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:51)
05-09 09:37:35.286 20962 27193 E k9      :      at com.fsck.k9.mail.store.LocalStore$LocalFolder$7.doDbWork(LocalStore.java:1898)
05-09 09:37:35.286 20962 27193 E k9      :      at com.fsck.k9.mail.store.LocalStore$LocalFolder$7.doDbWork(LocalStore.java:1882)
05-09 09:37:35.286 20962 27193 E k9      :      at com.fsck.k9.mail.store.LockableDatabase.execute(LockableDatabase.java:283)
05-09 09:37:35.286 20962 27193 E k9      :      at com.fsck.k9.mail.store.LocalStore$LocalFolder.fetch(LocalStore.java:1882)
05-09 09:37:35.286 20962 27193 E k9      :      at com.fsck.k9.controller.MessagingController$18.run(MessagingController.java:3127)
05-09 09:37:35.286 20962 27193 E k9      :      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
05-09 09:37:35.286 20962 27193 E k9      :      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
05-09 09:37:35.286 20962 27193 E k9      :      at java.lang.Thread.run(Thread.java:818)
"
k9mail/k-9,closed,Sync,[],"I am using this application a few days ago . 
Because I gives help for this application because I want to develop . 
But I could not progress forward. Please help me.

I am currently faced with the problem of synchronization. 
I do not know how to be successful in the synchronization fails. 

This problem had been solved some time , but now the issues have been raised again.
I do not know how to solve. Thank you kindly answer .
"
k9mail/k-9,closed,Add pkpass MIME type,[],"Should fix #1357 I think.
"
k9mail/k-9,closed,Mime-Type is application/octet-stream instead of application/vnd-com.apple.pkpass,[],"### Expected behaviour

When opening a mail with attached pkpass file the mime-type with the intent should be application/vnd-com.apple.pkpass as in gmail
### Actual behaviour

The mime-type is application/octet-stream for the same mail that opens with application/vnd-com.apple.pkpass in gmail
### Steps to reproduce
1. create a mail with attached pkpass file
2. click on the attachment
3. see the mime-type (e.g. with intent-intercept)
### Environment

K-9 Mail version: 5.010

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
"
k9mail/k-9,open,Yet another nonstandard date format,"[Label(name=""enhancement"")]","I spotted in some emails a date in the following format:

```
Date: 06-MAY-2016 19:00:22
```

I think due to the uppercase month, k-9 mail is unable to handle them, and displays them as they were sent at the time they were received. Can you work around this issue?
"
k9mail/k-9,closed,Fetch sub-folders when fetching folder list for WebDAV,[],"Fixes https://code.google.com/archive/p/k9mail/issues/1834

Moves closer to feature parity with the other folder types.

They appear as 'Folder/SubFolder'
"
k9mail/k-9,closed,Bad formatting and word wrap for mail with attachements,[],"K9 seems to not handle mails with attachements correctly. Instead of sending text message it really sends HTML with fixed size font wrapped in `pre` tag with some new lines added in incorrect places.
### Expected behaviour

Send e-mail with any attachement as plain text (in other words multipart/mixed)
### Actual behaviour

The mail is sent as HTML (multipart/alternative). Because of using `pre` tag there is no word wrap and long paragraph is displayed in one line (at least in Thunderbird). Also some extra word wrap in the middle of a word is added without clear reason.
I'm attaching four files - text only message and the same message with one attachement created by K9 and Thunderbird.
### Steps to reproduce
1. Write message with 2-3 paragraphs containing couple sentences
2. Attach any file
3. The mail will be in HTML, despite of looking like plain text. In Thunderbird every paragraph, no matter how long, will be displayed in a single line, because of used `pre` tag.

Below are the samples how the same message is rendered in Thunderbird and K9 and how K9 message is displayed in Thunderbird.

![sample](https://cloud.githubusercontent.com/assets/18569144/15055460/0a0e8032-130d-11e6-8500-f914a7be338d.png)
[K9 - Just text.txt](https://github.com/k9mail/k-9/files/251122/K9.-.Just.text.txt)
[K9 - Text with attachments.txt](https://github.com/k9mail/k-9/files/251123/K9.-.Text.with.attachments.txt)
[ThB - just text.txt](https://github.com/k9mail/k-9/files/251124/ThB.-.just.text.txt)
[ThB - Text with attachements.txt](https://github.com/k9mail/k-9/files/251125/ThB.-.Text.with.attachements.txt)
### Environment

K-9 Mail version: 5.010

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,open,Feature Request: Ignore Threads,"[Label(name=""enhancement"")]","I would like to see a feature to disable notifications for certain threads.
If you are on a mailing list it can be very annoying to get x mails in a row for a topic that you are not interested in. So I would like to long press on such conversations and press ""ignore"" so i don't get any notifications for a new mail for this thread. 
"
k9mail/k-9,closed,Feature Request: Pin when opening app,"[Label(name=""duplicate"")]","I think a feature for setting a pin for opening the app would be really awesome so that when you lose your phone and someone manages to unlock it he can't directly view your e-mails and  e-mail-account related data (e.g. the dropbox app has this feature).
"
k9mail/k-9,open,bold and italic,"[Label(name=""enhancement"")]","### Expected behaviour

How is it possible to write words in emails in bold or italics?
### Actual behaviour

N/A
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Unread Mail Button inaccessible in the folders list,[],"### Expected behaviour

When scrolling the folders list and there is an ""unread mails"" bullet, i want to touch it and open the list of unread mails in that folder / view the unread mail.
### Actual behaviour

I touch it and the previously hidden scrollbar appears and the folder list jumps a bit up/down, but i cannot touch the colord bullet hidden behind the scrollbar
### Steps to reproduce
1. open folders list on an mail account
2. find some folder with unread mails
3. touch button
### Environment

K-9 Mail version: v5.010 (and earlier versions)

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP (probably any type)
"
k9mail/k-9,closed,Please excuse my brevity.,[],"### Expected behaviour

In a written message i would like to know more about the range of brevity.
For example such as less than 25 letters.
### Actual behaviour

In a written message I looked at the letters was a brevity worry about it.
### Environment

K-9 Mail version:5.010

Android version:4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Fix ImapConnection reuse in ImapFolderPusher,[],"Make sure `ImapConnection` is not reused after it has been closed due to an exception. Alternative to #1339 
"
k9mail/k-9,closed,[I'm getting] Failed to send errors lately.,[],"K9-Mail version: 5.010
Device make: samsung
Device model: GT-N7100
Android version: 4.4.2

com.fsck.k9.mail.CertificateValidationException: SSL handshake aborted: ssl=0x6342a9a8: I/O error during system call, Connection reset by peer
    at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:414)
    at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:504)
    at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:495)
    at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3563)
    at com.fsck.k9.controller.MessagingController$20.run(MessagingController.java:3314)
    at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
    at java.lang.Thread.run(Thread.java:841)
Caused by: javax.net.ssl.SSLException: SSL handshake aborted: ssl=0x6342a9a8: I/O error during system call, Connection reset by peer
    at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
    at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:406)
    at com.android.org.conscrypt.OpenSSLSocketImpl$SSLInputStream.<init>(OpenSSLSocketImpl.java:662)
    at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:633)
    at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:247)
    ... 6 more
"
k9mail/k-9,closed,Can't control cryptography auto-sign and auto-encrypt checkboxes,[],"### Expected behaviour

I have two installs of K-9 Mail integrated with Openkeychain as the cryptography backend.

On the first system I generated an initial PGP key using Openkeychain. This key was backed-up and imported onto the second system using Openkeychain.

My problem is with controlling the Auto-sign and Auto-encrypt checkboxes located in Settings|Account|Cryptography.

You should be able to toggle these checkboxes on and off with screen taps.
### Actual behaviour

On both systems I cannot change the state of the Auto-sign and Auto-encrypt checkboxes.

On the first system (on which the key was generated) the checkboxes are greyed-out and inactive (off).
On the second system (on which the key was imported) the checkboxes are greyed-out and active (on).
### Steps to reproduce
1. Install Openkeychain and K-9 Mail
2. Generate an initial key on one Android device
3. Import the key from step (2) onto another Android device
4. Configure K-9 Mail on both devices to use Openkeychain and the key
5. Observe the functioning of the checkboxes is broken
6. In other respects signing and encryption work as expected
### Environment

K-9 Mail version: v5.010 on both systems

Android version:
System #1: Android 5.0.2 (ASUS ZenPad 10 Z300C)
System #2: Android 5.1.1 (Sony Xperia Z3 phone)

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP4 (Cyrus Imap 2.4 running on FreeBSD)
"
k9mail/k-9,closed,Receiving old emails as new ones.,[],"### Expected behaviour

Receive nd notify email only one time.
### Actual behaviour

Receive already readed emails as new. Mark them as not readed and notify about it. Can receive new email two times or re-receive month old email second time. Only that I noted, that it occurs more often when real new email comes. 
### Steps to reproduce
1. Set up account to receive emails once per minute.
### Environment

K-9 Mail version: 5.010

Android version: 4.2.1

Account type (IMAP, POP3, WebDAV/Exchange):POP3 with SSL/TLS
"
k9mail/k-9,closed,unable to open first attachment? (ics),"[Label(name=""invalid""), Label(name=""wontfix"")]","### Expected behaviour

The attachment should open up with associated application
### Actual behaviour

I get this error message: ""Unable to find viewer for application/ics""
### Steps to reproduce
1. Receive attachment from Google Calendar
2. Click Open
### Environment

K-9 Mail version: 5.010 and 5.006

Android version: 6.0.1 and 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

Whenever I get calendar invites from Google Calendar, it comes with two attachments: invite.ics and noname.ics

Whenever I try to open the first invite attachment, K9 says ""Unable to find viewer for application/ics""
I can open the 2nd invite without a problem.

This is weird for two reasons:
1) I can open ics files fine from everywhere else.
2) I can open the 2nd ics file without a problem.

LMK if any more info is needed
"
k9mail/k-9,open,forward as attachment,"[Label(name=""enhancement"")]","As well as forwarding messages inline there should be an option to forward them as an attachment.
### Environment

K-9 Mail version:
5.0.10

Android version:
5.1
"
k9mail/k-9,open,Support for IMAP shared (not under INBOX) folders,[],"In an imap account I can only see folders under the INBOX.
There are several company wide folders that are not under INBOX (they're top level folders) that I cannot see with K-9 Mail
### Environment

K-9 Mail version:
5.010

Android version:
5.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP - server Cyrus imapd
"
k9mail/k-9,open,Order of visible toolbar actions,[],"Under

> Settings > Global settings > Display > Visible message actions

I can choose between the visible message actions.
- If only 'Delete' is checked, a delete button is visible in the Message view.
- If 'Delete' and 'Archive' is checked, a delete button is visible and in the context menu there is an 'Archive' option, which is fine, because there is not enough space in the toolbar.
- If only 'Archive' is checked, there is no 'Archive' button, but still only the 'Archive' option in the context menu though there is enough space in the toolbar this time.

I would like to change this small bit.
I am an Android developer and could fix this myself if this feature would be appreciated.
"
k9mail/k-9,closed,Crash app when migrations fail in debug build,[],"I don't want to change the current behavior of recreating the database in case of an unexpected exception during migration (see #1228).

However, when using debug builds we rather want the app to crash than our database containing the data to trigger the error wiped away.
"
k9mail/k-9,closed,Fix ImapFolderPusher connection reuse behaviour,[],"Should fix stacktrace seen in #1297 following the work done in #1300 
"
k9mail/k-9,closed,Unable to successfully display decrypted plain text emails,[],"### Expected behaviour

Plain text emails, when decrypted, should display the original text.
### Actual behaviour

When decrypted, plain text email display all sorts of crazy symbols. It looks like some data is preserved (i.e. length of message) but the message itself is totally unreadable. 

This does not happen if the email format is html or rich text. This also does not happen with other clients (like mutt), they are able to read the decrypted plain text emails.

The message in the attached screenshot should say ""This is a test! If you can read this in k-9 then something else is wrong!""
![screenshot_4](https://cloud.githubusercontent.com/assets/1474209/14897374/9fb487a8-0d36-11e6-9e5f-4868084ab17f.png)

Here's the email when viewed in mutt:

```
[-- PGP output follows (current time: Thu 28 Apr 2016 11:55:50 AM PDT) --]
[-- End of PGP output --]

[-- The following data is PGP/MIME encrypted --]

[-- Attachment #1 --]
[-- Type: text/plain, Encoding: base64, Size: 0.1K --]

This is a test! If you can read this in k-9 then something else is wrong!


[-- End of PGP/MIME encrypted data --]
```
### Steps to reproduce
1. Compose email in plain text
2. Encrypt with opengpg
3. Decrypt/view in K9
### Environment

K-9 Mail version: 5.108

Android version: 6.0.1 - Cyanogenmod 13.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,WebDav polling fix,[],"Fixes an observed ""50/25"" polling bug - we were actually downloading messages twice as a result because we were adding each message twice to a list.
"
k9mail/k-9,closed,Unable to attach files with intent ACTION_SENDTO,[],"### Expected behaviour

While sending email with intent ACTION_SENDTO, and the attachmentUri is put as extra with key Intent.EXTRA_STREAM, the K9 mail compose activity should have the file attached.
### Actual behaviour

The attachment is missing in the compose activity.
### Steps to reproduce
1. Create an emailIntent with ACTION_SENDTO
2. emailIntent.putExtra(""mailto:john@doe.com"")
3. emailIntent.putExtra(Intent.EXTRA_STREAM, attachmentFileUri)
4. startActivity(Intent.createChooser(emailIntent, ""send mail.."");
### Environment

K-9 Mail version:
5.0.10

Android version:
4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
POP3
"
k9mail/k-9,closed,refactor quoting logic into QuotedMessagePresenter,[],"what the title says.

this PR should introduce no semantic changes. MessageCompose received a whole -940 lines, and is down to four warnings now, woop woop.

this is in preparation for crypted replies - QuotedMessagePresenter will probably have to learn how to decrypt messages somewhere down the road.
"
k9mail/k-9,closed,GPG signature unreadable answers,[],"Hi,

I'm using k9mail version 5.010 and as my OpenPGP provider Openkeychain.

The behaviour:
When I'm signing an email there is no problem, but if I get an answer from another person with my original signed text is quoted, k9mail only displays the signed part (my own email) and doesn't display the answer.

What k9 schould behave:

Display a line of text like
---start of signed part---
Signed text
---end of signed part---

Or to display a button which toggles between the original message and the only signed message.
"
k9mail/k-9,closed,No email content displayed,[],"No content in emails at all

they poll as expected and I will get read/unread counts along with the usual titles and headers with the two line preview (as set in the options)
but when openning the email to read - there is nothing at all present.

Checked this with basic text emails, with/without images, with/without attachments etc but nothing shows.

This has only just started to happen recently and the play store reports that I am using a ""test version"" so am unable to write a review.
Up until this started happening I've always used this app and have got others to use it instead of their normal applications.

The emails are fine using my desktop pc and through other apps but k9 just isnt having any of it, lol

Also tried to bump up the max fetch size to see if that was the issue and also cleared cache out as suggested by a few others, all to no avail.

running latest updated version on android version 5.1.1 samsung s5 trying to access my googlemail account
"
k9mail/k-9,closed,k-9 drains battery? (cf #1290),[],"Re-issuing item #1290:
### Expected behaviour

K-9 Mail should not use more battery than other apps.
### Actual behaviour

K-9 Mail drains more battery than any other app, by a factor of >4. In fact, K-9 Mail uses more battery than the rest of the system combined.
### Steps to reproduce
1. Just wait ...
2. Actions from #857 do NOT help. Whitelisting K-9 Mail still has enormous battery drain.
### Environment

K-9 Mail version:
5.010

Android version:
6.0.1 (CyanogenMod)

Account type (IMAP, POP3, WebDAV/Exchange):
3x IMAP, 1x POP3

As a comparison, I will keep an inofficial port of trojita on one of the IMAP accounts up and running for the next day.
"
k9mail/k-9,closed,PGP/INLINE and build in combined mime format,[],"This PR supersedes both #1198 and #1323.

It adds PGP/INLINE, where the UI has been unchanged since #1198. It also changes PgpMessageBuilder to use combined mime format, adding tests and solving some bugs.
"
k9mail/k-9,closed,Is there a way to read the failed to send errors?  ,[],"Failed to send errors are too ephemeral, lately I have been getting failed to send error notifications, but when I tap on them, to see which recipient didn't get the email, all I see are folders.

Android 4.4.2
"
k9mail/k-9,closed,SMTP protocol synchronization error (input sent without waiting for greeting): rejected connection,"[Label(name=""invalid"")]","### Expected behaviour

SMTP Connection Handshake was not possible
### Actual behaviour

Exim had this error.
SMTP protocol synchronization error (input sent without waiting for greeting): rejected connection
### Steps to reproduce
1. I think K9-Mail SMTP Handshake is not waiting for greeting bevor it try to send the email.
   2.
   3.
### Environment

K-9 Mail version:
5.010
Android version:
5.0
Account type (IMAP, POP3, WebDAV/Exchange):
POP3
"
k9mail/k-9,closed,With email in outbox: Failed to send some messages. Negative SMTP reply 501 5.1.3 Bad recipient address syntax,[],"Failed to send some messages with K9 - Thunderbird/Outlook works fine.
Negative SMTP reply 501 5.1.3 Bad recipient address syntax

k9-Mail version: 5.008
Device make: samsung
Device model: SM-T520
Android version: 5.1.1

com.fsck.k9.mail.MessagingException: Unable to send message
at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:539)
at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:495)
at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3563)
at com.fsck.k9.controller.MessagingController$20.run(MessagingController.java:3314)
at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
at java.lang.Thread.run(Thread.java:818)
Caused by: com.fsck.k9.mail.transport.SmtpTransport$NegativeSmtpReplyException: Negative SMTP reply: 501 5.1.3 Bad recipient address syntax
at com.fsck.k9.mail.transport.SmtpTransport.checkLine(SmtpTransport.java:649)
at com.fsck.k9.mail.transport.SmtpTransport.executeSimpleCommand(SmtpTransport.java:690)
at com.fsck.k9.mail.transport.SmtpTransport.executeSimpleCommand(SmtpTransport.java:654)
at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:524)
... 5 more

I think there's is a problem with german mutated vowel (äöü..) in Email-adress.
Other recipient without mutated vowel work fine.

Also ISP reply that:
""Guten Tag Herr xxx,
leider liegt die Ursache hier doch an K-9. Die eigentliche Ursache ist der Umlaut in der Domain. E-Mailprogramme haben hier Schwierigkeiten, diesen richtig zu interpretieren.""

""Good day Mr. xxx,
Unfortunately, the cause lies here but at K. 9 The root cause is the umlaut in the domain. Email programs have difficulty interpreting this right here. ""
"
k9mail/k-9,open,Load up to 25 more.,[],"### Expected behaviour

i click Maximum Load up to 25 More at the mailbox and looks after the letter.
### Actual behaviour

In the Inbox, click the import menu may call up to 25 further has no effect.
Clicking on it trying to get the email but can not change anything. My email address
is written at the top, even though no changes. 
### Steps to reproduce

1.It enters into my folder.
2.In the Inbox, click get up to 25 more call.
3.
### Environment

K-9 Mail version:5.010

Android version:4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Subject appear twice,[],"### Expected behaviour

In Settings / Global settings / Display, i've plugged ""Correspondent above subject"".
### Actual behaviour

Correspondent disappear, and the subject appear twice. 
### Steps to reproduce
### Environment

K-9 Mail version:
5.010
Android version:
5.1
Account type (IMAP, POP3, WebDAV/Exchange):
Gmail, IMAP

UP: sorry for the last issue in french, i've just made it too fast, was thinking of french dev...
Thanks for anderstanding, nothing against you.
"
k9mail/k-9,closed,"la case afficher les noms des correspondants, double l'affichage du sujet","[Label(name=""invalid"")]","### Expected behaviour

Dans les paramètres globaux / Affichage, je coche ""Correspondants au-dessus de...""
### Actual behaviour

Le visionneur de message m'affiche deux fois le sujet du message, une fois au dessus une fois en dessous!
### Steps to reproduce

Comme indiqué en haut, je pense que ce n'est qu'un oublis.
### Environment

K-9 Mail version:
5.010
Android version:
5.1
Account type (IMAP, POP3, WebDAV/Exchange):
Gmail, IMAP.
"
k9mail/k-9,closed,Synchronization failed,[],"### Expected behaviour

It seems nothing is not synchronized method or synchronized reasons for failure.
I would like to know more information and solutions for synchronization failure.
### Actual behaviour

I was used for the first time k - 9 . It was connected to create an account and become a failed synchronization . Since then, I want to Sync I could not do anything .
### Steps to reproduce
1. enter e-mail address
2. enter passward
3. Click the next button
### Environment

K-9 Mail version: v5.010

Android version: 4.4.2

Account type (IMAP, POP3, WebDAV/Exchange): 
"
k9mail/k-9,closed,switch from encapsulated to combined pgp/mime format,[],"...what the title says.

PgpMessageBuilder got a hundred lines lighter in the process and lost the state machine, the logic should now be a lot easier to read. Pretty happy with that.
"
k9mail/k-9,closed,App won't notify for new emails,[],"### Expected behaviour

My phone should vibrate when a new email incomes in my K9 inbox.
### Actual behaviour

Nothing happens. I have to manually refresh the inbox to see the new emails.
### Environment

K-9 Mail version: 5.0.10

Android version: 3.4.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Use sputnik.ci for code style checks on pull requests,[],"I had to copy and modify `sputnik-ci.py` in order to use our Checkstyle config instead of the default one.
"
k9mail/k-9,closed,Build system updates,[],
k9mail/k-9,closed,[Don't merge] sputnik.ci test,[],
k9mail/k-9,open,Feature request: make a difference between unseen and unread emails.,"[Label(name=""enhancement"")]","I'd like a feature to change the number displayed on the folders and other widgets to be the number on UNSEEN emails and not UNREAD emails.

Maybe something similar to this request:
https://github.com/k9mail/k-9/issues/680

Making a difference between unseen and unread is very important. That's how the WP7 mailbox works, that's how thunderbird\* works, that's how I'm used to things and that's the more logical way to do things when you get a lot of email and that you don't read all of them.

I have a widget on my homepage that tells me that I have 300 unread emails. I don't care about that. Those emails are super old, I've already saw them, but I decided NOT to read them, but of course they still count as unread emails. What I care about is that yesterday I used to have 299 unread emails so it means that I have an unseen email to check.

It means that, right now, I have to do all the work. I have to remember the number of unread email I used to have in order to know if I have new emails. And there is no way to know how many UNSEEN emails I have.

Some application (like the WP7 default email app) chose to count only unseen emails. You can keep a ""unread"" behavior by default if you want, but at least make an opt-in option to switch between a ""unread"" or a ""unseen"" behavior. A lot of people are used to an unseen behavior and when you get a lot of emails that you don't read it gets very quickly annoying.

*: https://i.imgur.com/fVav7Qr.png
"
k9mail/k-9,closed,Tests for MessagingController,[],"MessagingController is central to the app, massive (4900 LOC) and yet almost untested. We don't have a firm grasp on what it's supposed to do, so any changes could easily break stuff. Refactoring is dangerous as a result. 

To alleviate this I've started writing tests to verify existing functionality. In the Controller this means minimal changes to expose methods for testing. In the Test class this means lots and lots of new tests.

I've covered off most of the basic features for a couple of methods in this first commit. There's lots more to do. I suspect I already found a bug - refreshRemote doesn't call `listFoldersStarted` - I think it should be doing so.

NB: If you append ?w=1 you see the diff without whitespace changes, which makes the changes to the Controller easier to understand.
"
k9mail/k-9,closed,WebDAV fixes,[],"From stuff I've had hanging around and some fixes for outstanding comments in the code base.
"
k9mail/k-9,closed,Loses track of folder settings,[],"### Expected behaviour

When folders are set to first class, they should stay that way.
### Actual behaviour

K-9 Mail suddenly decides that folders that were previously explicitly marked 1st class no longer are.
### Steps to reproduce
1. Set folder class and push class to first class and other settings to same as explicitly set settings.
2. Wait.
3. Eventually, at some random later point (sorry, can't be more specific because I don't actually know exactly what the trigger is), observe that the folder is no longer displayed when only first class folders are being displayed.
4. Open the folder's settings and observe that its class is now set to None.
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Need navigation buttons at bottom in tablets,"[Label(name=""wontfix"")]","### Expected behaviour

The navigation buttons (delete, next, previous, spam etc) are placed below the email in phone version of your app. It is very convenient as I can use my thumbs to quickly take actions on my mailbox. 
### Actual behaviour

But in my 8"" tab, these buttons appear on top of the app screen. I hold my tab the same way like my phone, and then I can't manage my emails efficiently. In landscape mode when my tab is placed on my desk, it anyway doesn't matter where the buttons appear. But when holding it in my hands, I would like to use my thumbs like I do on my mobile phone. 
### Steps to reproduce
1. Explained above
### Environment

K-9 Mail version: 5.010

Android version: Lollipop

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Can't MOVE messages across email accounts,"[Label(name=""duplicate"")]","### Expected behaviour

First, congrats for the brilliant App! I have multiple IMAP accounts. Often there is a need to move emails to folders in some other email account. This is a standard feature in Samsung's native email app, Apple's IOS email app, and all desktop email clients. 
### Actual behaviour

Your app does not allow me to Move emails to other accounts. The Move feature is restricted to the folders within the same IMAP account where the incoming message originally lands. 
### Steps to reproduce
1. Create two IMAP accounts. 
2. Try to MOVE email from inbox of one account into the inbox of other account. 
### Environment

K-9 Mail version: 5.010

Android version: Lollipop

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Add quoting test and fix documentation,[],
k9mail/k-9,closed,Pull the comparators out of MessageListFragment,[],"One of the other remaining 3000 LOC classes. Most of it requires major re-factoring. But these comparators can be elsewhere.
"
k9mail/k-9,closed,Move static methods and classes out of MessageCompose,[],"From my comment on PR #1308 
"
k9mail/k-9,closed,Fix Copy and Paste error,[],
k9mail/k-9,closed,Shorten code,[],"Not much shorter - but every line in this >3000 LOC class which is gone is a good line ;-)
Also this way resolveTitle() could be moved outside this class and save a dozen more lines ..
"
k9mail/k-9,closed,Fix duplicate thread bug (take 2),[],"Another attempt at fixing #1275
"
k9mail/k-9,closed,Replace Thread.sleep() with SystemClock.sleep(),[],"Less LOC and correct handling of InterruptedException
"
k9mail/k-9,closed,Changing folder list font size doesn't change height of folder list items,[],"### Expected behaviour

If I make the folder list font size smaller, then the height of the individual items within the folder list should get correspondingly smaller, so that more folder names fit on the screen.
### Actual behaviour

The font gets smaller but it just leaves more whitespace around it -- the height of each entry in the list remains constant.
### Steps to reproduce
1. Observe how many folder list items fit on the screen.
2. Reduce the font size for folder list items.
3. Observe that the same number of folder list items fits on the screen.
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"Export, import config creates new accounts rather than updating config of existing accounts","[Label(name=""wontfix"")]","### Expected behaviour

If I export my config and then re-import the same config, the re-imported config should update the settings in the existing accounts, rather than creating new accounts.
### Actual behaviour

If I export a config with two accounts in it, then re-import the config, it creates two new accounts with ""(1)"" after their names, rather than overlaying the settings in the imported config on top of the existing accounts.
### Steps to reproduce
1. Configure two accounts.
2. Export config.
3. Re-import config.
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Add support for encapsulated PGP/MIME format (WIP),[],"Fix for #576, i.e. https://tools.ietf.org/html/rfc3156#section-6.1

I split the crypto processing into two passes, where the first only handles encrypted parts, the second only signed parts. We can probably simplify this even more because we don't want to handle multiple encrypted/signed parts at all anymore, but I tried to touch as little as possible to get this working.

Still need to profile this, it feels really sluggish. Might just be subjective...

(Note PR is not based on master but on #1299)
"
k9mail/k-9,closed,Feature: Autosync selected folders,[],"### Expected behaviour

I'd like to select folders that get synced automatically just like ""Inbox"", so that when I go to a subfolder the current 50 messages are displayed there at once (reason: I auto-filter mails into folders and always have to manually sync the folder to read current mails there).
### Actual behaviour

(It seems that) Only inboxes sync automatically.
### Environment

K-9 Mail version: 5.105

Android version: 4.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Sorry if this feature is already there, then I just did not find it yet. I searched your issues wit the query ""folders"".
"
k9mail/k-9,closed,Feature: Select folders to display in folder list,[],"### Expected behaviour

I'd like to select the folders that I want to see in the folders list (and so, exclude other folders from my list).
### Actual behaviour

You can select groups like ""All folders"", ""1st class folders"", ...
### Steps to reproduce
1. Go to ""Account settings""/""Folders"" or just ""Folders"" when you're in an account.
### Environment

K-9 Mail version: 5.105

Android version: 4.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Sorry if this feature is already there, then I just did not find it yet. I searched your issues wit the query ""folders"".
"
k9mail/k-9,closed,Prevent ImapConnection reuse,[],"`ImapConnection` should not be reused after is was closed. So `open()` now throws an exception when it is called after `close()` has been called.
This should allow us to find out faster what caused issues like #1297.
"
k9mail/k-9,closed,Simplify crypto status in message view,[],"Fundamental insight: We won't be able to display multiple pieces of content at once with different crypto statuses. Instead, there will always be the primary content of an email, for which we show a crypto status icon in the header.

This is a WIP PR working towards this, ripping out the message container thingies, adding an icon to the message header, and working from there.
"
k9mail/k-9,closed,Support different pre and post auth capabilities,[],"Fixes #1297 
"
k9mail/k-9,open,Solve ImapConnection.java reuse issues,"[Label(name=""bug""), Label(name=""enhancement"")]","### Expected behaviour

Should be able to re-authenticate with Gmail using a supported authentication method
### Actual behaviour

Authentication fails.
### Steps to reproduce
1. Set-up a Gmail IMAP account
2. Timeout the connections
3. See failure to connect
### Environment

K-9 Mail version: 97ea67d

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
### Comments

Gmail returns different capabilities pre and post-auth. Specifically, post-auth it returns a whole bunch of list and compression capabilities and pre-auth it returns a whole bunch of AUTH related capabilities.

Gmail reports different capabilities pre and post-auth and we just replace the capabilities. We only request capabilities if we have none.

```
04-17 20:14:47.614 30316-30353/com.fsck.k9.debug V/k9: conn176319345<<<#null# [CAPABILITY, IMAP4rev1, UNSELECT, IDLE, NAMESPACE, QUOTA, ID, XLIST, CHILDREN, X-GM-EXT-1, XYZZY, SASL-IR, AUTH=XOAUTH2, AUTH=PLAIN, AUTH=PLAIN-CLIENTTOKEN, AUTH=OAUTHBEARER, AUTH=XOAUTH]
04-17 20:14:49.453 30316-30353/com.fsck.k9.debug V/k9: conn176319345<<<#null# [CAPABILITY, IMAP4rev1, UNSELECT, IDLE, NAMESPACE, QUOTA, ID, XLIST, CHILDREN, X-GM-EXT-1, UIDPLUS, COMPRESS=DEFLATE, ENABLE, MOVE, CONDSTORE, ESEARCH, UTF8=ACCEPT, APPENDLIMIT=35882577, LIST-EXTENDED, LIST-STATUS]
```

```
04-17 20:13:59.469 30316-30381/com.fsck.k9.debug E/k9: Failed to login, closing connection for conn207765272
04-17 20:13:59.529 30316-30381/com.fsck.k9.debug E/k9: Got exception while idling for Gmail :Drafts/Thread-3978/conn207765272
                                                       com.fsck.k9.mail.MessagingException: Server doesn't support SASL XOAUTH2
```

Note that in the example I'm using SASL XOAUTH2 (with changes for #1295 )  but I have no reason to believe the behaviour would be different - GMail drops all auth privileges in the post auth capability list.

Because we don't expect this behaviour we just replace our capability listing with the one we get post-auth then if we close the connection when we reconnect we think they don't support the chosen method.

I'm not sure who isn't following the spec yet, them or us. You're allowed to change capability provision after STARTTLS (which we handle). But we don't handle different capabilities pre- and post-auth.

Anyway, even if they are breaking expected behaviour, it's not like we're going to be able to get them to change it. So we should store preTLS, preAuth and postAuth capabilities. We should assume subsequent capabilities are the same as the previous unless replaced.
"
k9mail/k-9,open,Attachment file size miscalculated and file corrupted,[],"### Actual behaviour

I received an email with an attached pdf from a trustworthy source onto one of my IMAP accounts. Upon opening the email in k9 (5.010 from the Play store), going to ""Show attachments"" and then clicking on ""Save"" the file is downloaded to my sd card but can not be opened.and is just 3 byte in size, concretely: ""<1u"".

This is reproducible in the sense that taping ""Save"" again, downloads another file with the same content into the downloads folder with a ""-2"" attached to the name. Also same behavior can be observed on another device that received the same email through another IMAP account with kaitenmail.

The same attachment from the same email can be opened and save just fine on my notebook and I never had problems with other attachments with k9.
The pdf is not encoded and starts with 

```
%PDF-1.4^M%\342\343\317\323^M
294 0 obj^M<</Linearized 1/L 2369362/O 296/E 128475/N 31/T 2363366/H [ 1316 873]>>^Mendobj^M          ^Mxref^M294 51^M0000000016 00000 n^M
0000002361 00000 n^M
0000002511 00000 n^M
0000003041 00000 n^M
0000003304 00000 n^M
0000004132 00000 n^M
0000004223 00000 n^M
0000004548 00000 n^M
...
```

Finally, the displayed file sizes already differ. In k9 the size is displayed as 4.6MB, the actual size (of the non-corrupted file) however is 2369363 bytes.
### Expected behaviour

A file with the correct content is downloaded and the correct file size is displayed in k9.
### Environment

K-9 Mail version: 5.010

Android version: 4.4.2 Samsung galaxy s4 mini

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

I am happy to provide further details if you tell me what would be useful for you.
"
k9mail/k-9,closed,XOAuth2 implementation for Google Accounts,"[Label(name=""next stable"")]","This is probably now in a reasonable position for review. There's still some extended testing to do as I mentioned in the issue. But there's (unless recommended from review) unlikely to be any huge refactoring, just some tweaks round the edges. 

Fixes #655 
"
k9mail/k-9,closed,Close underlying streams,[],"We wrap our InputStreams in a custom PeekableInputStream which extends InputStream

Unfortunately it does not currently implement a close method and the default from InputStream is a no-op

So even though we call close correctly, we don't actually close the underlying stream. So you get this:

```
04-16 19:23:28.848 21614-21622/? E/StrictMode: A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.
                                               java.lang.Throwable: Explicit termination method 'close' not called
                                                   at dalvik.system.CloseGuard.open(CloseGuard.java:180)
                                                   at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:288)
                                                   at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:629)
                                                   at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:591)
                                                   at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:237)
                                                   at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:503)
                                                   at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:495)
                                                   at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3131)
                                                   at com.fsck.k9.controller.MessagingController$20.run(MessagingController.java:3011)
                                                   at com.fsck.k9.controller.MessagingController.run(MessagingController.java:268)
                                                   at java.lang.Thread.run(Thread.java:818)
```

This PR fixes that by closing the underlying/passed InputStream the same way a BufferedInputStream does.
"
k9mail/k-9,closed,Application crash on trying to open message,"[Label(name=""bug"")]","### Expected behaviour

From the MessageView, clicking on a message should the message. Note that there's only one - it's not a threaded message.
### Actual behaviour

""Unfortunately K-9 Mail has stopped""

```
Process: com.fsck.k9.debug, PID: 24168
java.lang.RuntimeException: An error occurred while executing doInBackground()
    at android.os.AsyncTask$3.done(AsyncTask.java:309)
    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)
    at java.util.concurrent.FutureTask.setException(FutureTask.java:223)
    at java.util.concurrent.FutureTask.run(FutureTask.java:242)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
    at java.lang.Thread.run(Thread.java:818)

Caused by: android.database.sqlite.SQLiteException: ambiguous column name: uid (code 1): , while compiling: 

SELECT m.id AS id,uid,a.internal_date AS internal_date,subject,a.date AS date,sender_list,to_list,cc_list,a.read AS read,a.flagged AS flagged,a.answered AS answered,a.forwarded AS forwarded,a.attachment_count AS attachment_count,folder_id,preview_type,preview,root,name,thread_count 
FROM (
    SELECT t.root AS thread_root,MAX(internal_date) AS internal_date,MAX(date) AS date,MIN(read) AS read,MAX(flagged) AS flagged,MIN(answered) AS answered,MIN(forwarded) AS forwarded,SUM(attachment_count) AS attachment_count,COUNT(t.root) AS thread_count 
    FROM messages m 
    JOIN threads t ON (t.message_id = m.id)
    JOIN folders f ON (m.folder_id = f.id) 
    WHERE (t.root IN (
        SELECT DISTINCT t.root 
        FROM messages mf 
        JOIN threads tf ON (tf.message_id = mf.id) 
        JOIN threads t ON (tf.root = t.root) 
        JOIN messages m ON (m.id = t.message_id) 
        WHERE mf.empty = 0 AND mf.deleted = 0 AND m.empty = 0
        AND m.deleted = 0 AND ( (uid = ? AND name = ?) OR (mf.folder_id = ?))
    ) AND deleted = 0 AND empty = 0) 
    GROUP BY t.root
) a 
JOIN threads t ON (t.root = a.thread_root) 
JOIN messages m ON (m.id = t.message_id AND m.empty=0 AND m.deleted=0 AND m.date = a.date) 
JOIN folders f ON (m.folder_id = f.id)  
GROUP BY root ORDER BY a.internal_date DESC, id DESC

    at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)
    at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:887)
    at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:498)
    at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)
    at android.database.sqlite.SQLiteProgram.<init>(SQLiteProgram.java:58)
    at android.database.sqlite.SQLiteQuery.<init>(SQLiteQuery.java:37)
    at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:44)
    at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1316)
    at android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1255)
    at com.fsck.k9.provider.EmailProvider$2.doDbWork(EmailProvider.java:429)
    at com.fsck.k9.provider.EmailProvider$2.doDbWork(EmailProvider.java:370)
    at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
    at com.fsck.k9.provider.EmailProvider.getThreadedMessages(EmailProvider.java:370)
    at com.fsck.k9.provider.EmailProvider.query(EmailProvider.java:242)
    at android.content.ContentProvider.query(ContentProvider.java:1017)
    at android.content.ContentProvider$Transport.query(ContentProvider.java:238)
    at android.content.ContentResolver.query(ContentResolver.java:491)
    at android.content.CursorLoader.loadInBackground(CursorLoader.java:64)
    at android.content.CursorLoader.loadInBackground(CursorLoader.java:56)
    at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)
    at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)
    at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:66)
    at android.os.AsyncTask$2.call(AsyncTask.java:295)
    at java.util.concurrent.FutureTask.run(FutureTask.java:237)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) 
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) 
    at java.lang.Thread.run(Thread.java:818) 
```
### Steps to reproduce
1. Receive a message
2. Try and open it

I believe this is caused by the fix for #1275
### Environment

K-9 Mail version: 6ab90e5 

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Cipher support in Android 4.4.4?,[],"### Expected behaviour

My IMAP server (dovecot) is requiring TLS 1.2, and only exposes these ciphers: ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:DHE-RSA-AES128-SHA256:DHE-RSA-AES256-SHA256.

This is supposed to work on Android 4.4.4, and it works in web browser for instance.
### Actual behaviour

It does not work in K9-Mail, but apart from “Connection failed”, it’s not very helpful. On server side I have this:
`imap-login: Error: SSL: Stacked error: error:1408A0C1:SSL routines:ssl3_get_client_hello:no shared cipher`.

So, no shared cipher, which is strange because a webserver (nginx) with the same configuration does work on this smartphone.

I’m not sure where the issue lies, because it does work on newer version of Android, but this is on a phone I actually can’t upgrade (Geeksphone Revolution).
### Environment

K-9 Mail version: 5.010

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"Can't reply after displaying delete, archive, move, spam buttons",[],"### Expected behaviour

Changing my settings to display the delete, archive, move, and spam buttons at the bottom of each message should not cause me to suddenly be unable to reply to messages.
### Actual behaviour

If I add enable four of those buttons in my settings, then the reply menu button disappears, and the reply, forward, etc. commands do not appear in the menu, so there is no way for me to reply to the message.
### Steps to reproduce
1. Enable delete, archive, move, spam buttons in global display settings.
2. View a message.
3. Try to reply to it.
### Environment

K-9 Mail version: 5.010

Android version: 6.0.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,k-9 drains battery?,[],"After the upgrade to K-9 Mail 5.010, it _seems_ that the software is draining the battery of my Samsung S5 (Cyanogenmod Marshmallow) way more than before (old K-9 version unknown). In fact, K-9 mail is by a factor of >4 largest consumer of battery power (next being Android OS).

I have four accounts configured, 3x IMAP, 1x POP3 (hourly).
"
k9mail/k-9,closed,move from encapsulated to single stage pgp/mime format,[],"We currently encrypt messages in rfc 1847 encapsulated format. We should move to a format where signature and encryption happen in a single step, because 1) that's what other clients do and 2) we don't support the encapsulated support ourselves (#576).
"
k9mail/k-9,closed,TODO: Test new UI elements on API 15 devices,[],"Make sure all the recent UI changes work well on devices with our current minSdkVersion 14.
Test both light and dark theme.
"
k9mail/k-9,closed,K9 wrongly detects disabled Auto-Sync,[],"### Expected behaviour

K9 should sync my mail account every 5 minutes.
### Actual behaviour

During the night and somtimes irregularly during day, my account isn't synced. Instead it tells me that Auto-Sync had been disabled. By googling I found advices to turn Auto-Sync on in Settings > Data usage. I'm using a Samsung Galaxy S6 and there this option has been removed. The only place where I can disable Auto-Sync ist in Settings > Accounts. But this option is not disabled with me, and apart from that you only disable syncing the defined accounts in Android. But K9 is not an account.
Furthermore, there is the setting that I can enable background sync independent of Anroid's Auto-Sync option. But this doesn't work. Even if I set this option to always, it tells me that Auto-Sync had been disabled and refuses to sync my Accounts.
### Environment

K-9 Mail version: 5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,With no email in outbox: Failed to send some messages. Negative SMTP reply 501 5.1.3 Bad recipient address syntax,[],"Persistent error message

Failed to send some messages.
Negative SMTP reply 501 5.1.3 Bad recipient address syntax
### Environment

K-9 Mail version:5.010

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Ex
[k9-log.txt](https://github.com/k9mail/k-9/files/220106/k9-log.txt)
change):Not sure which account has the problem so it could be POP3 or IMAP.
"
k9mail/k-9,closed,Create new Identity from received mail,"[Label(name=""enhancement""), Label(name=""needs info"")]","### Expected behaviour

When reading a received mail, the To: address should be clickable.
Clicking it should offer the user to add it as a new Identity in K-9.
### Environment

K-9 Mail version: 5.008

Android version: 5.1.1 (CyanogenMod 12.1)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,k9mail not synchronize the  sub-folder in my inbox,"[Label(name=""invalid"")]","Hello all
i use k9mail Version 5.008 in my Android 4.1. i use imap protocol in k9mail.
i make filter in my webmail for range my mail in a folder. this folder is in my inbox like this 
![selection_011](https://cloud.githubusercontent.com/assets/15982321/14525604/9353e768-023e-11e6-8dbd-2e8b18af1da9.png)
but i dont have this folder in k9mail.
"
k9mail/k-9,open,ImapFolder.executeSimpleCommand is not synchronized and doesn't check for a connection,"[Label(name=""bug"")]","### Expected behaviour

Should throw an MessagingException if there's no connection available, but should probably actually try and open a new one if connection is null.
### Actual behaviour

```
java.lang.NullPointerException: Attempt to invoke virtual method 'java.util.List com.fsck.k9.mail.store.ImapStore$ImapConnection.executeSimpleCommand(java.lang.String, boolean, com.fsck.k9.mail.store.ImapStore$UntaggedHandler)' on a null object reference
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.executeSimpleCommand(ImapStore.java:862)
    at com.fsck.k9.mail.store.ImapStore$ImapFolderPusher$1.run(ImapStore.java:3151)
    at java.lang.Thread.run(Thread.java:818)
```
### Steps to reproduce

> I Have several IMAP push folders (around 15) and often k9 is not able to send messages.
> One workaround is to shut down data and turn it on after a few seconds.
> I see also in the status a SetFlagBulk 0/1 in the folders status.
> 
> Seems to me stuck trying to do something.
> I do not see any error in catlog.
### Environment

K9-Mail version: 5.010
Device make: LGE
Device model: Nexus 5X
Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Testing for the EmailProvider and verification of fix for #1275,[],"Excluding the MailService changes
"
k9mail/k-9,closed,Configure message actions visible in notification box,"[Label(name=""duplicate"")]","### Feature request

Currently, it’s possible to configure Visible message actions under Display settings, where my personal preference is to show only the Archive action.  Similarly, I would like to be able to configure the action inside new message notifications, and replace Mark read with Archive as well.

Thanks.
### Environment

K-9 Mail version: 5.008, F-Droid build

Android version: 6.0.1

Account type: IMAP
"
k9mail/k-9,closed,Use themable colour for emphasized notifications - fixes #746,[],"My previous comment on the ticket was somewhat wrong (I was looking at the wrong bit). And I don't think referencing material is useful when our entire app is still built round Holo.

This seems to still work for my device and affects the right text.
"
k9mail/k-9,closed,Move recipient token to theme file define for dark theme - fixes #1277,[],
k9mail/k-9,closed,Testing of the threaded_message_list_display_error change,[],"Had to fix a minor CCME. Might not be reproducible in main code. Makes the testing possible though.
"
k9mail/k-9,closed,Recipient box background colour not changed in dark theme when composing.,"[Label(name=""bug"")]","### Expected behaviour

The recipient box with the real name/email in it should be themed to be dark when the user has a dark theme enabled.
### Actual behaviour

The background stays the same colour, but the text is themed to be lighter. This makes the background and foreground very similar, making the box hard to read.
### Steps to reproduce
1. Enable dark theme
2. Enter any recipient in the ""To: "" box
### Environment

K-9 Mail version: 5.108

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Fix duplicate thread bug,[],"Fixes #1275
"
k9mail/k-9,closed,Thread listed multiple times in the message list,"[Label(name=""bug"")]","Sometimes threads are listed more than once in the message list.

This is because of a bug in the query to create the threaded message list in `EmailProvider`. Usually the latest message in a thread is displayed. But when multiple messages have the same timestamp all of them are displayed.
### Environment

K-9 Mail version: 5.108

![k9mail_threaded_list_display_error](https://cloud.githubusercontent.com/assets/218061/14440220/33400930-002f-11e6-9f6c-59a4df444576.png)
"
k9mail/k-9,closed,Spam e-mail causes crash,[],"### Expected behaviour

Tell us what should happen
Spam e-mail seems to crash K9, it should not.

[Calling_all_TV_lovers!_Samsung_product_testers_required.txt](https://github.com/k9mail/k-9/files/213177/Calling_all_TV_lovers._Samsung_product_testers_required.txt)
### Actual behaviour

Tell us what happens instead
Every time K9 tries to get the message summary from the server this spam causes K9 to crash.
Sending the spam to the spam folder by another program, corrects the behaviour, until the next one is sent.
### Steps to reproduce
1. Send the attachment as an e-mail to your provider.
2. Load K9
3. Get message summary
### Environment

K-9 Mail version: 5.010:

Android version: 5.1.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP

Please investigate.
"
k9mail/k-9,open,New mail notification icon sometimes does not disappear,"[Label(name=""bug"")]","### Expected behaviour

After entering the account and/or directory the new mail notification icon should disappear from the Android notification bar. Like it was before the new 5.108 alpha version.
### Actual behaviour

Sometimes it disappears, sometimes not. At the moment on my device the icon stays even after I opened the new mail and also marked to as read by opening it.
### Steps to reproduce

see above
### Environment

K-9 Mail version: 5.108

Android version: CM 12.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,NPE caused by failure to check mAccount is valid in AccountSettings,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

Show the account settings
### Actual behaviour

```
04-11 12:12:27.895 E/AndroidRuntime(29853): java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.fsck.k9.Account.getUuid()' on a null object reference
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.fsck.k9.activity.setup.AccountSettings.actionSettings(AccountSettings.java:203)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.fsck.k9.activity.MessageList.onEditAccount(MessageList.java:760)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.fsck.k9.activity.MessageList.onOptionsItemSelected(MessageList.java:826)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at android.app.Activity.onMenuItemSelected(Activity.java:2914)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.android.internal.policy.PhoneWindow.onMenuItemSelected(PhoneWindow.java:1151)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:761)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.android.internal.view.menu.SubMenuBuilder.dispatchMenuItemSelected(SubMenuBuilder.java:82)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:152)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:904)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:894)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.android.internal.view.menu.MenuPopupHelper.onItemClick(MenuPopupHelper.java:200)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at android.widget.AdapterView.performItemClick(AdapterView.java:310)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at android.widget.AbsListView.performItemClick(AbsListView.java:1145)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at android.widget.AbsListView$PerformClick.run(AbsListView.java:3066)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at android.widget.AbsListView$3.run(AbsListView.java:3903)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at android.os.Handler.handleCallback(Handler.java:739)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at android.os.Handler.dispatchMessage(Handler.java:95)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at android.os.Looper.loop(Looper.java:148)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at android.app.ActivityThread.main(ActivityThread.java:5422)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at java.lang.reflect.Method.invoke(Native Method)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
04-11 12:12:27.895 E/AndroidRuntime(29853):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
```
### Steps to reproduce

May require existing error scenario to occur. Log taken from #1271

Appears that they tapped on the menu item while in the message list
### Environment

K-9 Mail version: 6.108
Android version: unknown / rooted
Account type (IMAP, POP3, WebDAV/Exchange): ?
### Comment

Somehow they are managing to enter the MessageList without checking the state of `mAccount` for null, which we do in `onCreate` and `onResume`
"
k9mail/k-9,closed,Crash viewing an application/pgp message,"[Label(name=""bug"")]","Hi Philip,

as discussed on the mailing list, here a crash log. To repeat: I have a message with

```
Content-Type: application/pgp; format=text; x-action=encrypt
```

where opening the message consistenly crashes K9, version 5.108

Hope the log helps, let me know if you need any testing.

Norbert

[k9-crash-log.txt](https://github.com/k9mail/k-9/files/212533/k9-crash-log.txt)
"
k9mail/k-9,closed,"Once Account Is Created, Cannot Go Back and Alter Its Settings","[Label(name=""invalid"")]","### Expected behavior

I want to go back to my account settings and change the incoming and outgoing servers, so that it'll recognize my E-Mail and start drawing messages in, like it should.
### Actual behavior

I cannot find a means to enter the settings and servers of my E-Mail. To do this, I have to uninstal the K-9 E-Mail App and reinstall it using the setup wizard.
### Steps to reproduce
1. Open K-9
2. Account Settings or Global Settings
3. Notice the lack of E-Mail server settings
### Environment

K-9 Mail version: Newest

Android version: Samsung Android LG GVISTA2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,No menu bar icons on Android TV (Philips),[],"## Expected behaviour

I should be able to see and use the menu buttons
### Actual behaviour

On my Android TV (Philips) no menu buttons are shown, thus I cannot send new mails or replys. On Smartphone and Tablet everything works as expected.
### Steps to reproduce
1. start app and add mail account
2. No menu bar icons are visible
### Environment

K-9 Mail version: 5.010 and 5.108

Android version type (IMAP, POP3, WebDAV/Exchange):
Android TV 5.1 LMY47D
"
k9mail/k-9,closed,K9 deletes Text on Phone Flip,"[Label(name=""bug"")]","I just entered text in the sig area, flipped the phone from horizontal to verticsl, text was gone.

Version? No way to tell, latest from Play.
"
k9mail/k-9,closed,Sync problem since update to 5.010,[],"### Expected behaviour

I'm using k9 since a couple of years, same accounts, but since upgrade to 5.010 Emails dont sync anymore with server
### Actual behaviour

K9 hangs on first folder
### Steps to reproduce
1. restart the app
2. check sync progress
   3.
### Environment

K-9 Mail version:

Android version:
5.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,Unread count in all folders - Would like to exclude some folders like trash etc,"[Label(name=""enhancement"")]","### Expected behaviour

The unread count shall only count unread messages in certain folder
### Actual behaviour

Unread counts all unread messages in all folders even trash and spam
### Steps to reproduce
1. Have two unread messages in the inbox - then unread is 2
2. Delete one without reading it - so 1 unread in inbox and on trash - then unread is still 2
3. An email that is treated as SPAM arrives - then unread is 3
### Environment

K-9 Mail version: 5.010

Android version:6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP and POP3
"
k9mail/k-9,closed, ClassNotFoundException: com.fsck.k9.search.LocalSearch,[],"### Expected behaviour

Referring to issue #1240, it happened again: k-9 crashing and hi bandwitdh usage.
### Actual behaviour

Tell us what happens instead
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version: 5.0010

Android version: 5.0 on a Samsung S5 with original rom. No root, no mods.

Account type (IMAP, POP3, WebDAV/Exchange):IMAP
[k9-log.txt](https://github.com/k9mail/k-9/files/205975/k9-log.txt)
"
k9mail/k-9,closed,Unable to view/read MIME attached forwarded emails,"[Label(name=""enhancement"")]","Today I forwarded myself an email as an attachment, but K9Mail isn't capable of reading it.

That's right, K9Mail is an email application that can't read emails.

The email itself is just a MIME attachment. I can download the file, but the only option available to open it is gmail. Yep, I have to open the attachment with gmail because I can't read it with K9Mail, which doesn't seem to register itself as a mail application with the system.

K-9 Mail version: 5.008

Android version: Cyanogenmod 12.1
"
k9mail/k-9,closed,Better handling of bad MIME messages,[],"WIP: Handling bad MIME messages - e.g. #1261

Part 1. Switch to MimeExceptions which currently get handled as synchronization failures rather than application crashes.

Part 2 should be to mark a message that couldn't be constructed as a bad message, allowing the user to user delete it.
"
k9mail/k-9,closed,Backport updating message reference flags from earlier commit - fixes #1250,[],
k9mail/k-9,open,MessagingException: Invalid MultiPart ,[],"### Expected behaviour

Checking of e-mails without crashing.
### Actual behaviour

Exception and app exit. see attached log.txt & malformed spam email
note: I replaced the user part of my email address for privacy in the malformed spam email.
### Steps to reproduce
1. put the damaged spam mail (attached) in your inbox
2. load k-9 app / check email
3. crash to previous screen, with exception dialog
4. goto 2
### Environment

K-9 Mail version: 5.008 (f-droid)

Android version: 6.0.1 (cm-13)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

[log.txt](https://github.com/k9mail/k-9/files/205346/log.txt)

[Claim_this_exclusive_offer_today!.eml.txt](https://github.com/k9mail/k-9/files/205355/Claim_this_exclusive_offer_today.eml.txt)
"
k9mail/k-9,closed,Size extension parameter is optional - ignore null/empty value,[],"Per the RFC it's perfectly fine to advertise the SIZE capability without giving a value. So just ignore it if it's empty.
"
k9mail/k-9,open,attached OpenPGP key thoughts,"[Label(name=""security"")]","The general idea of attaching an openpgp key to a mail is to inform a
communication partner about one's key, for the purpose of verifying signatures
and possibly to encrypt a reply. this bypasses the need for a keyserver lookup,
but also adds some 10kb to an email which is quite some overhead.

There are a couple of ways to implement the general idea of sticking one's
public key into an email, with varying levels of user involvement, adherence to
standards, among other differences.

To start off the discussion, the first distinction and decision I would like to make
is whether the key should be part of the mime structure, or in the pgp data. In
the mime structure it's a regular old attachment like any other, this is already
used here and there, e.g. in the Web.de App (and I think supported in current
stable?). Putting the key in the pgp block will basically stick it next to the
signature data, where it will only be exposed to the pgp backend. Thoughts:

in the MIME structure:
- more established (because it's not a new idea)
- if the user agent doesn't handle the key itself, the user can still import it
  from the attachment (good for user-involved workflow)
- users who don't have pgp get two weird attachments instead of one (bad for ux)
- the attached key is part of the mime structure, so handing it to the pgp
  implementation leads to more complex data flow (implementation complexity)
- keys meant to establish pgp-communication can't easily be distinguished from
  an attached key for somebody else (bad for implementation complexity)

part of the PGP data:
- both signature and pubkey data are passed to the pgp implementation with no
  further effort
- purpose of key is clear (good for implementation complexity)
- no visible pubkey attachment for the user to open and import (bad for
  user-involved workflow)
- useless unless implementation-supported, unexpected keyblock might produce warning (I tested this: gpg gives a warning, which is shown in mutt but not in enigmail. openkeychain silently ignores the block.)
- only possible for emails which are at least signed

I think for establishing encrypted communication in an opportunistic way, the
second option is the way to go. I would really love to see this working to
allow keyserver-independent, tofu-style pgp encryption between K9 clients.

I'll leave it at this for now, but would love to hear some thoughts. (also ping @dschuermann, @dkg. also probably gonna crosspost to openpgp-email ml)
"
k9mail/k-9,closed,Translation not working,[],"### Expected behaviour

When changing language in settings, it should display in the set language.
### Actual behaviour

K9 Mail is still in English. Even when selecting 'system default', which is German for me.
### Steps to reproduce
1. Open K9-Mail
2. Open Settings
3. Set Language e.g. to 'Deutsch' under Display > Language
### Environment

K-9 Mail version: 5.009

Android version: 4.1.1 (HTC Desire X)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP, but should not matter
"
k9mail/k-9,closed,No archive folder; cannot move emails to other folders.,"[Label(name=""invalid"")]","Hello, I do not have the option of moving emails to a folder nor an archive folder. I jave no errors and all folders are showing.

Samsung Galaxy Note 2 (GT-N7100/Android 4.4.2)
"
k9mail/k-9,closed,attachments opening,[],"### Expected behaviour

saving attachments without opening by click on ""save"" button
### Actual behaviour

only saving attachments by click on ""save"" button without opening
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:5.008

Android version: 5.0.2

Account type (IMAP, POP3, WebDAV/Exchange): Exchange
"
k9mail/k-9,closed,Can't write mail to addresses which contain a slash,[],"### Expected behaviour

Tell us what should happen
Writing mail to addresses in the form of ""a/b@domain.us"" should be possible according to rfc, but is not
### Actual behaviour

Tell us what happens instead
When entering a ""/"" in the address field K-9 crashes.
### Steps to reproduce
1. Open new mail
2. Entering ""a/"" in the address field (to:)
3. Crash: ""Unfortunately K-9 Mail has stopped.""
### Environment

K-9 Mail version: 
5.008

Android version: 
4.4.2

Account type (IMAP, POP3, WebDAV/Exchange):
POP3, IMAP
"
k9mail/k-9,closed,v5.009 does not use default and chosen language,"[Label(name=""bug"")]","I have two Android.
On Android 4.4.4, v5.008 uses **Japanese** as default language. But v5.009 uses **English**.
I try set Japanese explicitly, but no effect.

On Android 4.1.2, v5.009 uses Japanese.
"
k9mail/k-9,closed,App crashed by typing address in the address field when composing a message,[],"### Expected behaviour

Creating new email or answer to an email. Normaly I can look for my contacts by typing the letter one by one to find the desierd contact
### Actual behaviour

in 5.108 K9 is crashing every time I am typing the 2nd letter. Let´s assume i am looking for a contact namend ""Claus""
I type ""c"" than I type ""l"" and K9 is crashing
If the name is ""Hugo""
I type ""h"" than I type ""u"" and K9 is crashing.

To overcome this problem I have uninstalled 5.108 and reinstalled it but no change.
Went back to 5.107 and it is working.
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version: 5.108

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP (web.de and gmail)
"
k9mail/k-9,closed,Some e-mails are unreadable after decryption,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

Mail should be readable
### Actual behaviour

See screenshot
### Steps to reproduce

I don't know when this will happens.
Some mails shown correct, some mails like on screenshot.
![k9](https://cloud.githubusercontent.com/assets/6864851/14231880/3bc1cdec-f994-11e5-987e-d9139e3dd8aa.png)
### Environment

Environment

K-9 Mail version:
5.108 (current alpha)

Android version:
5.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,App crashed by typing address in the address field when composing a message,"[Label(name=""bug"")]","### Expected behaviour

Should be possible typing addresses into the address field.
### Actual behaviour

App crashed by typing address in the address field
### Steps to reproduce
1. Click the compose icon
2. Try to type a address into the ""To:"" field
### Environment

K-9 Mail version: 
5.108 (current alpha)

Android version:
5.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Reply flag is not set anymore when replying to a mail,"[Label(name=""bug"")]","### Expected behaviour

Reply flag is set when replying to a mail.
### Actual behaviour

When replying to a mail I do not see a reply flag for the original mail I replied to. When checking the account with a different client (web/Thunderbird) I do not see a flag, too. So it is no frontend bug, the flag is not set anymore, beginning with 5.108.
### Steps to reproduce

See above.
### Environment

K-9 Mail version: 5.108

Android version: CM 12.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,Put account in 'error mode' after authentication failure,"[Label(name=""enhancement"")]","Pull request #1248 changes the code to display a notification to the user when authentication fails. However, account synchronization is not disabled and will happen as scheduled.

To properly handle the situation we want to switch the account into a special mode where Push is disabled completely and the poll interval is exponentially increased up to maybe once or twice a day.
Keeping up the checks allows us to recover from transient authentication failures without user interaction. It's also an easy way to keep reminding the user that action is required.

Once implemented this mode should probably also be used for certificate errors.
"
k9mail/k-9,closed,Notify user on authentication failure,[],"Display a notification when connecting to incoming or outgoing server fails with an authentication error. Clicking the notification will bring users to the appropriate server settings screen.

Fixes #879 
"
k9mail/k-9,closed,Add call to destroy finished message loader - fixes #1227,[],
k9mail/k-9,closed,Add support for the 'text' MIME type as being equivalent to 'text/plain',[],"Should fix #1201 
"
k9mail/k-9,closed,Application crash: no free notification ID,"[Label(name=""bug"")]","### Expected behaviour

Can view folder having retrieved unread mail.
### Actual behaviour

Application crash (K-9 has stopped)
### Steps to reproduce
1. Find a folder with mail server side that hasn't yet been synced
2. Pull-refresh the folder
3. Application crash reported

```
--------- beginning of crash
04-01 08:48:47.502 9926-9959/com.fsck.k9.debug E/AndroidRuntime: FATAL EXCEPTION: MessagingController
            Process: com.fsck.k9.debug, PID: 9926
            java.lang.AssertionError: getNewNotificationId() called with no free notification ID
                at com.fsck.k9.notification.NotificationData.getNewNotificationId(NotificationData.java:77)
                at com.fsck.k9.notification.NotificationData.addNotificationContent(NotificationData.java:46)
                at com.fsck.k9.notification.NewMailNotifications.addNewMailNotification(NewMailNotifications.java:56)
                at com.fsck.k9.notification.NotificationController.addNewMailNotification(NotificationController.java:95)
                at com.fsck.k9.controller.MessagingController.downloadLargeMessages(MessagingController.java:1584)
                at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1218)
                at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:979)
                at com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:764)
                at com.fsck.k9.controller.MessagingController.run(MessagingController.java:267)
                at java.lang.Thread.run(Thread.java:818)
```
### Environment

K-9 Mail version: 74c6e764338d312dab49bb6e5499ee82d2c86c83

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Improper HTML rendering,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

I get emails chock full of HTML, pictures, and formatting from Home Depot. On my desktop client, Thunderbird, everything renders fine.
### Actual behaviour

I cannot see all of the content in the body of the email in K9. There is also no way to scroll to the right where the information is located.
### Steps to reproduce
1. Get a Home Depot email
2. Notice you cannot pan images to the right and see content
3. See this message:
   [INBOX)42260.txt](https://github.com/k9mail/k-9/files/198946/INBOX.42260.txt)
### Environment

K-9 Mail version:
5.008
Android version:
5.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,FileBackedBody parts are sometimes not saved correctly,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

Tell us what should happen

Content should be displayed 
### Actual behaviour

Tell us what happens instead

Empty view with warnings about the non encryption status. Clicking on reply shows the plain text part of the mail, so it really is just an ui rendering problem. 
### Steps to reproduce
1. Open a multipart mail in k9 
   2.
   3.
### Environment

K-9 Mail version: latest dev release (5.108)

Android version: 6

Account type (IMAP, POP3, WebDAV/Exchange): IMAP 

I guess this behavior was probably already reported, but I couldn't find am issue. Sorry. 
Happy to help debugging this if I am the first reporter. 
"
k9mail/k-9,open,Long-press on e-mail address -> menu (copy address / new e-mail),"[Label(name=""enhancement"")]","When you want to work on with an e-mail address (sender, CC, BCC), it is quite difficult to extract the address first. For example you want to forward somebody the sender's e-mail address (""Can you send me the address of ...?"") or create a new (clean) mail to the guy with the CC address.

It would be great, to be able to open a small menu after a long-press on an e-mail address. The menu should contain the items: 1. ""Add to contacts"" (or ""Open contact"" when already added to contacts), 2. ""Copy to clipobard"", 3. ""Start new e-mail"" (to this address). This behaviour is known for example from the AOSP contact app. A long-press on an address asks you to copy to clipboard, too.

There is workaround I use, but it is rather complicated: options menu of an e-mail, ""Show headers"" and then you can copy parts of the mail header like normal text.

Sincerely
Spectas

PS: I played a bit with Gimp to show a bit, how this could look like:
![k9-screenshot3](https://cloud.githubusercontent.com/assets/3306424/14177844/8015d30a-f758-11e5-9fde-842b833f839f.png)
"
k9mail/k-9,open,OOM during download of large message,[],"### Expected behaviour

We should either refuse to download huge messages or stream them in a way we don't crash.
### Actual behaviour

```
03-31 12:40:35.191 E/AndroidRuntime( 5025): java.lang.OutOfMemoryError: Failed to allocate a 38189038 byte allocation with 16777216 free bytes and 35MB until OOM^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at java.lang.AbstractStringBuilder.enlargeBuffer(AbstractStringBuilder.java:95)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at java.lang.AbstractStringBuilder.append0(AbstractStringBuilder.java:133)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at java.lang.StringBuilder.append(StringBuilder.java:124)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at android.text.TextUtils.htmlEncode(TextUtils.java:1402)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.helper.HtmlConverter.simpleTextToHtml(HtmlConverter.java:147)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.helper.HtmlConverter.textToHtml(HtmlConverter.java:210)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.mail.internet.MimeUtility.buildHtml(MimeUtility.java:1968)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.mail.internet.MimeUtility.extractTextAndAttachments(MimeUtility.java:1407)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.mail.store.LocalStore$LocalFolder$15.doDbWork(LocalStore.java:2575)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.mail.store.LocalStore$LocalFolder$15.doDbWork(LocalStore.java:2507)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.mail.store.LockableDatabase.execute(LockableDatabase.java:283)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.mail.store.LocalStore$LocalFolder.appendMessages(LocalStore.java:2507)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.mail.store.LocalStore$LocalFolder.appendMessages(LocalStore.java:2437)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.controller.MessagingController.downloadLargeMessages(MessagingController.java:1773)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1372)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:1141)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.controller.MessagingController.access$400(MessagingController.java:111)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.controller.MessagingController$35.run(MessagingController.java:4506)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)^M
03-31 12:40:35.191 E/AndroidRuntime( 5025):     at java.lang.Thread.run(Thread.java:818)^M
```
### Steps to reproduce
1. Download a huge message
### Environment

K-9 Mail version:
Android version:
Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,ClassNotFoundException: com.fsck.k9.search.LocalSearch,"[Label(name=""bug"")]","### Expected behaviour

Classes should exist
### Actual behaviour

```
03-31 12:40:23.101 E/Parcel  (  927): Class not found when unmarshalling: com.fsck.k9.search.LocalSearch^M
03-31 12:40:23.101 E/Parcel  (  927): java.lang.ClassNotFoundException: com.fsck.k9.search.LocalSearch^M
03-31 12:40:23.101 E/Parcel  (  927):   at java.lang.Class.classForName(Native Method)^M
03-31 12:40:23.101 E/Parcel  (  927):   at java.lang.Class.forName(Class.java:308)^M
03-31 12:40:23.101 E/Parcel  (  927):   at java.lang.Class.forName(Class.java:272)^M
03-31 12:40:23.101 E/Parcel  (  927):   at android.os.Parcel.readParcelableCreator(Parcel.java:2275)^M
03-31 12:40:23.101 E/Parcel  (  927):   at android.os.Parcel.readParcelable(Parcel.java:2239)^M
03-31 12:40:23.101 E/Parcel  (  927):   at android.os.Parcel.readValue(Parcel.java:2146)^M
03-31 12:40:23.101 E/Parcel  (  927):   at android.os.Parcel.readArrayMapInternal(Parcel.java:2479)^M
03-31 12:40:23.101 E/Parcel  (  927):   at android.os.BaseBundle.unparcel(BaseBundle.java:221)^M
03-31 12:40:23.101 E/Parcel  (  927):   at android.os.BaseBundle.getString(BaseBundle.java:918)^M
03-31 12:40:23.101 E/Parcel  (  927):   at android.content.Intent.getStringExtra(Intent.java:5378)^M
03-31 12:40:23.101 E/Parcel  (  927):   at com.android.server.am.ActivityStackSupervisor.startActivityLocked(ActivityStackSupervisor.java:1759)^M
03-31 12:40:23.101 E/Parcel  (  927):   at com.android.server.am.ActivityStackSupervisor.startActivityMayWait(ActivityStackSupervisor.java:1305)^M
03-31 12:40:23.101 E/Parcel  (  927):   at com.android.server.am.ActivityManagerService.startActivityAsUser(ActivityManagerService.java:4616)^M
03-31 12:40:23.101 E/Parcel  (  927):   at com.android.server.am.ActivityManagerService.startActivity(ActivityManagerService.java:4454)^M
03-31 12:40:23.101 E/Parcel  (  927):   at android.app.ActivityManagerNative.onTransact(ActivityManagerNative.java:142)^M
03-31 12:40:23.101 E/Parcel  (  927):   at com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:3021)^M
03-31 12:40:23.101 E/Parcel  (  927):   at android.os.Binder.execTransact(Binder.java:446)^M
03-31 12:40:23.101 E/Parcel  (  927): Caused by: java.lang.ClassNotFoundException: Didn't find class ""com.fsck.k9.search.LocalSearch"" on path: DexPathList[[directory "".""],nativeLibraryDirectories=[/vendor/lib, /system/lib]]^M
03-31 12:40:23.101 E/Parcel  (  927):   at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)^M
03-31 12:40:23.101 E/Parcel  (  927):   at java.lang.ClassLoader.loadClass(ClassLoader.java:511)^M
03-31 12:40:23.101 E/Parcel  (  927):   at java.lang.ClassLoader.loadClass(ClassLoader.java:469)^M
03-31 12:40:23.101 E/Parcel  (  927):   ... 17 more^M
03-31 12:40:23.101 E/Parcel  (  927):   Suppressed: java.lang.ClassNotFoundException: com.fsck.k9.search.LocalSearch^M
03-31 12:40:23.101 E/Parcel  (  927):           at java.lang.Class.classForName(Native Method)^M
03-31 12:40:23.101 E/Parcel  (  927):           at java.lang.BootClassLoader.findClass(ClassLoader.java:781)^M
03-31 12:40:23.101 E/Parcel  (  927):           at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)^M
03-31 12:40:23.101 E/Parcel  (  927):           at java.lang.ClassLoader.loadClass(ClassLoader.java:504)^M
03-31 12:40:23.101 E/Parcel  (  927):           ... 18 more^M
03-31 12:40:23.101 E/Parcel  (  927):   Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available
```
### Steps to reproduce
1. TBD
### Environment

K-9 Mail version: TBD

Android version: TBD

Account type (IMAP, POP3, WebDAV/Exchange): N/A / TBD
"
k9mail/k-9,closed,Sender name is auto-populated for new contacts,[],"Fixed #1238 
"
k9mail/k-9,closed,Add sender name to contacts,"[Label(name=""enhancement"")]","It would be helpful, if the ""add to contacts"" function would not only pass the e-mail address, but also the real name to a new contact.

Example:
If there is an e-mail in the inbox from
""Dr. Susan Miller (Veterinarian)"" mail@susan-dogs-and-cats.com
K9 mail right now only imports
mail@susan-dogs-and-cats.com
to a new contact. To add the real name to this new contact, you would have to go the complicated way of changing back to k9 mail, copying the real name (that meany opening the mail, ""show headers"", copy the real name out of it), changing back to the new contact and add the real name.

![k9-screenshot](https://cloud.githubusercontent.com/assets/3306424/14171385/f259361c-f732-11e5-9f39-c86714e3b740.png)

This would help a lot,
thanks in advance!
Spectas
### Environment

K-9 Mail version:
5.008
Android version:
5.1.1 (Cyanogenmod 12.1)
Account type: IMAP + CardDAV (DAVdroid)
"
k9mail/k-9,closed,Delayed alarms sent,"[Label(name=""wontfix"")]","Dear k9 developers,

I have found that AlarmManager.set(int type, long triggerAtMillis, PendingIntent operation) is used in com.fsck.k9.helper.K9AlarmManager#set(int,long,android.app.PendingIntent). According to Android API Guide Using this API on devices with SDK higher than 19, the alarm may not be sent at the exact scheduled time.

You may refer to [API guide](http://developer.android.com/intl/zh-cn/reference/android/app/AlarmManager.html#set%28int,%20long,%20android.app.PendingIntent%29) for details.
So I am suggesting if you can change the set method to setExact method, so that the alarm can be sent at the exact scheduled time.

Thank you.
"
k9mail/k-9,closed,"""impossible to send some message"" with no message to send","[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

I expect this message should be generated when I'm sending messages and there is an actual problem with the server.
### Actual behaviour

During a periodic poll, 
Sometimes it shows the following error (truncated because there is no way to read it outside the notification area):
""Unable to send some message
negative SMTP reply 501 5.1.3 invalid ...

Without any message to send.

Also I have two POP3 and one IMAP accounts configured and the message does not say from which of them it generates.
### Steps to reproduce

Wait for new mail polling. It seems not to happen if I ask for a manual update.
### Environment

K-9 Mail version: 5.008 (the problem was not happening with a previous version of K-9, I think was the 4.x serie

Android version: 5.0 (Galaxy Note 3)

Account type (IMAP, POP3, WebDAV/Exchange): See above
"
k9mail/k-9,open,Polls 1 of 3 gmails evry 10 instead of set 60 mins...,[],"### Expected behaviour

Tell us what should happen

Should only poll every hr but polls every 10 mins. 2 gmails and 1 other. Only does this with 1 big use gmail.
### Actual behaviour

Tell us what happens instead

Polls evry 10 mins instead of set hrly.
### Steps to reproduce
1. Disabled in Cell apps settings, cleared cache.
2. Restarted K9, changed polling to 30.
3. Repeated all above, set poll to hr.
### Environment

K-9 Mail version: Latest Googleplay K9 update.

Android version: 4.1.2 Sony Xperia LT28i

Account type (IMAP, POP3, WebDAV/Exchange):

POP3.

Didn't do this before for many mths, until about few mths ago. I suspect after auto-updating via Playstore app.
"
k9mail/k-9,open,Attach public key,[],"### Expected behaviour

User should be able to attach his/her public key when composing a new email.
### Actual behaviour

User has to go to OpenKeychain, (key), advanced, share with, K-9 Mail. (Assuming the key is not uploaded to a keyserver)
### Steps to reproduce

N/A
### Environment

K-9 Mail version: 5.108

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
N/A
"
k9mail/k-9,closed,No longer adding a new account twice to the list of ordered accounts,[],"Fixes #615 
"
k9mail/k-9,closed,Change title & explanation of 'Dim messages after reading' to remove reference to specific colours/shades,"[Label(name=""being worked on""), Label(name=""good first issue"")]","### Expected behaviour

Some better name. For example: ""Grey read messages' background""
### Actual behaviour

Unread messages have black background and read messages have grey background, so the unread messages are actually dimmer in case of dark theme.
### Steps to reproduce
1. Open Settings -> Global Settings -> Display
2. Set the theme to ""Dark""
3. Check the ""Dim messages after reading""
### Environment

K-9 Mail version:
5.108
Android version:
5.1
Account type (IMAP, POP3, WebDAV/Exchange):
N/A
"
k9mail/k-9,open,Add support for SCRAM-SHA1,"[Label(name=""enhancement""), Label(name=""security"")]","### Expected behaviour

User should be able to select SCRAM-SHA1 as a form of authentication for IMAP.
## Rationale

CRAM-MD5 is deprecated. SCRAM-SHA1 is fairly well adopted. If SSL/TLS is deployed we don't gain much security, but SSL/TLS isn't everywhere and CRAM-MD5 is obsolete.
## Issues arising

The algorithm is more complex than others. It involves generating random nonces and the actual schema is quite difficult to follow. Deployment is less common so it's more complex to test but the original requester did offer a temporary test host.

On a UX level we don't actually expose the encryption method. We allow them to select from 'Plain', 'Encrypted' and 'Client certificate'.

According to the code documentation :

> PLAIN and CRAM_MD5 originally referred to specific SASL authentication
>      \* mechanisms. Their meaning has since been broadened to mean authentication
>      \* with unencrypted and encrypted passwords, respectively.

In theory this is nice. In practice it's a white lie - it does translate to that in the UI but we don't support any encryption except CRAM_MD5.
## Source of request:

Google Groups Feedback https://groups.google.com/forum/#!topic/k-9-mail/UHhXyRY74SU
"
k9mail/k-9,closed,Emails to be delivered as signed & encrypted aren't shown as being signed when received,"[Label(name=""duplicate""), Label(name=""enhancement"")]","### Expected behaviour

Mails sent by K-9 as signed and encrypted should be marked as signed and encrypted when received.
### Actual behaviour

E-mail is only marked as encrypted.
### Steps to reproduce
1. Set-up OpenKeychain
2. Send email from account to the same account with Sign & Encrypt set 
3. Open email received in Inbox
### Environment

K-9 Mail version: 5.108

Android version: 
- ??
- 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
- ??
- IMAP
"
k9mail/k-9,closed,ditch crypto status icon animation,[],"The animation of the crypto status icon is not used anymore because the visibility of the icon is static depending on the availability of a crypto provider. It also led problems when the animation was cancelled (#1224). So this PR simply ditches that animation to fix that.

(I also added my ToolableViewAnimator for easier previewing)
"
k9mail/k-9,closed,Make the migration more resilient,[],"If a single mail migration fails, that's no reason to reset the entire database. I added a catch-all, and an upper limit of failed mails before the migration routine gives up.

A fixed limit might not be the best option here, but it's simple and I couldn't think of a very good less-simple solution.
"
k9mail/k-9,closed,Crash on screen rotate with OpenPGP handled message,"[Label(name=""bug"")]","### Expected behaviour

Message should be re-rendered in landscape.
### Actual behaviour

Application crashes with following exception.

```
03-29 08:40:55.041 12045-12045/com.fsck.k9.debug E/AndroidRuntime: FATAL EXCEPTION: main
                                                                   Process: com.fsck.k9.debug, PID: 12045
                                                                   java.util.NoSuchElementException
                                                                       at java.util.ArrayDeque.removeFirst(ArrayDeque.java:248)
                                                                       at com.fsck.k9.ui.crypto.MessageCryptoHelper.onCryptoFinished(MessageCryptoHelper.java:454)
                                                                       at com.fsck.k9.ui.crypto.MessageCryptoHelper.onCryptoSuccess(MessageCryptoHelper.java:438)
                                                                       at com.fsck.k9.ui.crypto.MessageCryptoHelper.handleCryptoOperationSuccess(MessageCryptoHelper.java:420)
                                                                       at com.fsck.k9.ui.crypto.MessageCryptoHelper.handleCryptoOperationResult(MessageCryptoHelper.java:379)
                                                                       at com.fsck.k9.ui.crypto.MessageCryptoHelper.onCryptoOperationReturned(MessageCryptoHelper.java:353)
                                                                       at com.fsck.k9.ui.crypto.MessageCryptoHelper.access$400(MessageCryptoHelper.java:49)
                                                                       at com.fsck.k9.ui.crypto.MessageCryptoHelper$4.onReturn(MessageCryptoHelper.java:250)
                                                                       at org.openintents.openpgp.util.OpenPgpApi$OpenPgpAsyncTask.onPostExecute(OpenPgpApi.java:298)
                                                                       at org.openintents.openpgp.util.OpenPgpApi$OpenPgpAsyncTask.onPostExecute(OpenPgpApi.java:279)
                                                                       at android.os.AsyncTask.finish(AsyncTask.java:651)
                                                                       at android.os.AsyncTask.-wrap1(AsyncTask.java)
                                                                       at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:668)
                                                                       at android.os.Handler.dispatchMessage(Handler.java:102)
                                                                       at android.os.Looper.loop(Looper.java:148)
                                                                       at android.app.ActivityThread.main(ActivityThread.java:5422)
                                                                       at java.lang.reflect.Method.invoke(Native Method)
                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
```

Email available on request.
### Steps to reproduce
1. Receive a message that has been signed
2. Open the message.
3. Rotate the phone to landscape
### Environment

K-9 Mail version: commit 74c6e76 (current master)
OpenKeychain version: 3.9.4
Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Add support for HTML signature,"[Label(name=""enhancement"")]","Will application have support HTML signature? If yes, when? It is a important thing for many users. Thank you.
"
k9mail/k-9,closed,Original encrypted body not quoted in reply,"[Label(name=""enhancement"")]","### Expected behaviour

When replying to an encrypted email the original should be quoted.
### Actual behaviour

When replying to an encrypted email the original is not quoted.
### Steps to reproduce
1. Received an encrypted email
2. Click Reply
3. Examine displayed content.
### Environment

K-9 Mail version: ?

Android version: ?

Account type (IMAP, POP3, WebDAV/Exchange): ?
"
k9mail/k-9,closed,Crypto icon grey on reply,"[Label(name=""bug"")]","When replying to an encrypted email, the crypto Icon in the top right corner is grey, but should instead be orange/green. After clicking on it and closing the dialog it is correct.
"
k9mail/k-9,closed,Incorrect URL detection (final slash),"[Label(name=""bug""), Label(name=""good first issue""), Label(name=""help wanted"")]","### Expected behaviour

URLs automatically converted to links can include a final slash part of the URL.
### Actual behaviour

If the URL contains a final slash, the link generated ignores it, breaking some links:

```
Content-Type: text/html;
 charset=utf-8
Content-Transfer-Encoding: 8bit

<a href=""http://google.com"">http://google.com</a>/<br>
```
### Steps to reproduce
1. Select HTML format in the settings
2. Send a new mail with the following content: `http://google.com`
### Environment

K-9 Mail version: 5.008

Android version: 6.0

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Adding pulldown-to-refresh for all folders,"[Label(name=""enhancement"")]","This is more a feature request and some UX suggestions than an actual bug.
### feature request

When on an account, listing the folders, a ""pull-down"" action on the screen should make all the folders reload.

This behaviour is already present in a single folder view, but not on the account view.
Using this would make the button at the button of the screen for ""refresh"" obsolete.
### UX-suggestions

I use K9 for years now and I love it, but there are still some behaviours that bugs me.

– The search button is not on the same row than the search field (button is at the bottom of the screen and field is at the top).
– not sure is the ""k9-mail"" logo at the left end of the top bar is necessary (it contrasts with the other parts of the app.
– I took a while to understand that the number on the right end of the top bar was the amount of unread messages. IMHO it should have the same font/color/icon as the icon of unreaded-messages on each folders (see linked screenshot 1)
– maybe add a more visible ""write new message"" button (maybe like the one in gmail/google-apps)

Screenshot 1:
![screenshot1](https://cloud.githubusercontent.com/assets/4772201/14076547/d5a013da-f4e2-11e5-9fc2-5c5193501898.png)
### Environment

K-9 Mail version: 5.008
Android version: 4.4.4
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,wrong content-type when sharing image as attachment from whatsapp,[],"### Expected behaviour

I expect to have an email with the correct content-type of the attachment. The image should be viewable.

Snippet from the raw email, for example

```
----_com.android.email_66919854356700
Content-Type: image/jpeg;
 name=""IMG-20160327-WA0004.jpg""
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename=""IMG-20160327-WA0004.jpg"";
 size=144895
```

I checked on another phone with no k9.
### Actual behaviour

wrong content-type

```
------E63KOBT6S2CMWF65RZO58S1RLOK4XK
Content-Type: message/rfc822;
 name=""IMG-20160327-WA0000.jpg""
Content-Disposition: attachment;
 filename=""IMG-20160327-WA0000.jpg"";
 size=270447
Content-Transfer-Encoding: 7bit
```
### Steps to reproduce
1. open image in whatsapp
2. share with k9 (email + send to self)
3. open this email and get offered another email programm for viewing the image
### Environment

K-9 Mail version: 5.008

Android version: 6.0.1

Account type: IMAP/SMTP
"
k9mail/k-9,open,Duplicate folder entries in the database,"[Label(name=""bug"")]","I installed the latest k9 mail version taken from the play store on both my identical phones (two elephone trunks with Android 5.1) but in one of them k9 is showing a very strange behavior:
in fact, there are two trash folders and even if I check on Gmail desktop via web, everything is normal. 
So I don't know what's causing this issue and need your help. 
Thanks and happy Easter! 
"
k9mail/k-9,closed,Synchronization,[],"### Expected behaviour

automatically synchronization 
### Actual behaviour

I use the K-9 Mail App on my Samsung Note 5. All settings are correct. I can send and receive mails.

The synchronization is set to 15 minutes. But every night the synchronization is automatically disabled again. I can´t say exactly, from what time but when I wake up every morning, I see this issue. Then I have to enable the synchronization manually.
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version: 5.008

Android version: 6.0.1 (Samsung Note 5)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Can't send mail: RuntimeException: Nope,[],"### Expected behaviour

Tell us what should happen
Create Mail and send
### Actual behaviour

Tell us what happens instead
RuntimeException: Nope message shown in the system status line
### Steps to reproduce
1. Use Alpha 5.108 built from https://github.com/k9mail/k-9/commit/b586522ca11b190717c24e4abea2583be7ff9043
2. On 5.1.1 Android, try to send mail using gmx.de IMAP account. 
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,open,Client bandwidth usage suddenly surged to hundreds of MBs for no apparent reason,"[Label(name=""needs info""), Label(name=""performance"")]","### Expected behaviour

Tell us what should happen
### Actual behaviour

Tell us what happens instead
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Notificatons not removed after reading mails on 5.1.1 Android,"[Label(name=""duplicate"")]","### Expected behaviour

Tell us what should happen
K9 shows a notification about new mail, user clicks this to read mail, after reading the mail notificaton is removed. 
### Actual behaviour

Tell us what happens instead
Notificatons stay in the system tray. The only way to remove them is to manually swipe them away. 
### Steps to reproduce

Can reproduce with latest K9 version on Galaxy A3 2016. Uses 5.1.1 Android, default Samsung UI.
Can NOT reproduce on Galaxy Tab S2. Uses 5.0.2 Android, default Samsung UI. 
In both cases same settings and same account was used, it is IMAP Gmx.de account. 
### Environment

K-9 Mail version:
5.0.0.8
Android version:
5.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,Display transport security of received email,"[Label(name=""enhancement""), Label(name=""security"")]","### Expected behaviour

An email which was delivered between two servers (i.e. not between a server and itself over a loopback address) should be marked as insecure if it was not done in an encrypted fashion.

An email which was delivered securely in each step should be mark as secure.

Note: This does still apply to PGP/MIME and S/MIME email which otherwise leak information like the subject, to and from address and other headers.
### Steps to test
1. Receive an email sent securely, check the secure indicator is shown.
2. Receive an email sent insecurely, check the insecure indicator is shown.
### Method to implement

Processing of MIME ""Received"" headers.
"
k9mail/k-9,closed,Option to remove negative feedback for encryption and signing,"[Label(name=""enhancement"")]","### Expected behaviour

Not display 'Not encrypted' and 'Not signed' when an OpenPGP provider is configured.
### Actual behaviour

'Not Encrypted' and 'Not Signed' is displayed for the vast majority of email I get
### Steps to reproduce
1. Configure an OpenPGP provider
2. View an email not delivered with PGP
### Environment

K-9 Mail version: Current / 5.108
Android version: All
Account type (IMAP, POP3, WebDAV/Exchange): All
### Notes

Errors with the signing key / encryption should still be displayed.
"
k9mail/k-9,closed,Mark messages as read on delete,[],"Hi,
I create a new PR as I was asked in the PR #1183.
I'm sorry but I don't know why Android Studio make unrelated changes in files and I don't know how to fix it.
"
k9mail/k-9,closed,Add an options for viewing the plain text if available,[],"Probably some bike-shedding to be done regarding the name of the preference in code (displayPreference is what I came up with at the time - there must be better). But at least it gets the ball rolling.

Defaults to HTML preferred because I don't want the default behaviour for new users be an email app that looks like it's only capable of plain text mail.

Will fix #906 
"
k9mail/k-9,closed,Refactor and add tests for MessageExtractor.getTextFromPart,[],"This is a partial replacement for pull request #1173 which was trying to do too much at once. This PR changes the behaviour of MessageExtractor so that it no longer throws MessagingExceptions and instead returns null

It also adds test for the code.
"
k9mail/k-9,closed,Handle preview extraction failures,[],"This is a partial replacement for pull request #1173 which is trying to do too much at once. This PR only fixes `PreviewTextExtractor` and adds the notion of preview extraction errors to `MessagePreviewCreator`.

Failures to extract a message preview are saved in the database. This allows us to later add code to retry the preview extraction after an app update that fixed a preview-related bug.

`MessageExtractor` which definitely needs some love, is left untouched.
"
k9mail/k-9,closed,migration: fix NPE if textContent is null (fixes #1208),[],"if textContent/htmlContent is empty but should be put in the database, the part is marked as DATA_LOCATION__MISSING
"
k9mail/k-9,closed,NPE in migration if textContent is null for a text/plain mail,[],"```
java.lang.NullPointerException: Attempt to invoke virtual method 'byte[] java.lang.String.getBytes()' on a null object reference
    at com.fsck.k9.mailstore.migrations.MigrationTo51.insertTextualPartIntoDatabase(MigrationTo51.java:593)
    at com.fsck.k9.mailstore.migrations.MigrationTo51.migrateSimpleMailContent(MigrationTo51.java:400)
    at com.fsck.k9.mailstore.migrations.MigrationTo51.db51MigrateMessageFormat(MigrationTo51.java:111)
```
"
k9mail/k-9,open,Tokens with pictures / alpha-block placeholders and names shown when composing messages should be optional,[],"### Expected behaviour

general/display correspondent display settings -- email address and pictures -- should be respected.

1 - when composing a message, correspondent email address should be displayed (when the general/display setting for showing correspondent name is unchecked), not their name (from the addressbook)

2 - the correspondent picture (or alpha block placeholder) should not be displayed if the general/display setting ""show contact picture"" is unchecked.
### Actual behaviour

when 
if correspondent is in addressbook, the addressbook name is displayed.

the correspondent's picture (or if one doesn't exist, a placeholder alpha block) is displayed
### Steps to reproduce

1.originate a message
2.enter a correspondent's email address
3.if in addressbook, contact name and picture (or alpha block if no picture or not in addressbook) will be displayed.
### Environment

K-9 Mail version:5.108

Android version:6.0.1 (but this doesn't matter)

Account type (IMAP, POP3, WebDAV/Exchange):imap 

in general/display settings, ""show correspondent names, rather than email addresses"" and ""show contact pictures"" are both unchecked.
"
k9mail/k-9,closed,Unable to send messages to servers that don't support 8-bit encoding,"[Label(name=""bug"")]","### Expected behaviour

Message should be delivered to outgoing mail server
### Actual behaviour

Get a ""failed to send message"" error, message is put in drafts
### Steps to reproduce
1. create message
2. send
### Environment

K-9 Mail version: 5.108

Android version: 6.0.1
Account type (IMAP, POP3, WebDAV/Exchange): imap (but this is only a send issue, retrieving mail works fine).
[fail-to-send.txt](https://github.com/k9mail/k-9/files/186083/fail-to-send.txt)

This is against Rackspace's mail service -- secure.emailsrvr.com -- port 465 - ssl/tls
They only support TLS1.0 and above. 
Picking up mail from their server works fine, as does the outgoing mail server test during setup/configuration. Did an upgrade to the 5.108 alpha on this device, and a re-install on samsung android 5.x devices, encountering the same issue on all. The same K-9 works fine sending to gmail, with basically the same outgoing mail server settings (465 - ssl/tls).
"
k9mail/k-9,closed,Handle unsupported message types - display a toast if we fail create the message,[],"If we get a null response from decoding a message, create an empty MessageViewInfo and display a Toast.

Improves #1201 
Fixes #916 
"
k9mail/k-9,closed,"Issue when deleting recipient ""chip""","[Label(name=""bug"")]","### Expected behaviour

Pressing backspace on (soft) keyboard should remove recipient ""chip"".
### Actual behaviour

Still seeing the `toString()` output  (see PR #1202).
### Steps to reproduce
1. Add two recipients
2. Move focus to different input field
3. Move focus back to ""To"" field
4. Press backspace
5. See `toString()` output for second recipient
### Environment

K-9 Mail version: b586522ca11b190717c24e4abea2583be7ff9043
Android version: 6.0.1
"
k9mail/k-9,closed,Add the ability to mark read on delete,"[Label(name=""needs work"")]","This provides the functionality for #591 as a reimplementation of #579 fixing the issues that were mentioned.

I'm not too sure I understand or entirely get the threading and MessageActor model in this class (which I consider overly long and complex - a bit God-like for a single controller. 

I had some trouble initially with the message being moved before the actual server command to apply the flag was ran meaning it wasn't actually updated. Hence the current design.
"
k9mail/k-9,closed,Compose fixes,[],"two small fixes for recipient view: firstly, fix ""send"" button when the recipient view is collapsed with sort of a hack, and secondly show the keyboard when a recipient view gains focus from a `requestFocus()` call.
"
k9mail/k-9,closed,NPE/Null object reference crash when attempting to decode certain messages,"[Label(name=""bug"")]","### Expected behaviour

Email should be decoded and displayed properly
### Actual behaviour

K-9 mail crashes, due to an NPE
### Steps to reproduce
1. (Attached email in .eml format) Download attached message to K-9 mail
2. Attempt to view the message
### Environment

K-9 Mail version: 5.108 (build from current master as of 2016-03-22)

Android version: 6.0.1

Device: Nexus 6P

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
### Crash logs

```
03-22 11:02:07.340 E/k9      (20726): Error while decoding message
03-22 11:02:07.340 E/k9      (20726): java.lang.RuntimeException: Not supported
03-22 11:02:07.340 E/k9      (20726):   at com.fsck.k9.mailstore.LocalMessageExtractor.extractAttachmentInfo(LocalMessageExtractor.java:529)
03-22 11:02:07.340 E/k9      (20726):   at com.fsck.k9.mailstore.LocalMessageExtractor.extractAttachmentInfos(LocalMessageExtractor.java:502)
03-22 11:02:07.340 E/k9      (20726):   at com.fsck.k9.mailstore.LocalMessageExtractor.decodeMessageForView(LocalMessageExtractor.java:444)
03-22 11:02:07.340 E/k9      (20726):   at com.fsck.k9.ui.message.DecodeMessageLoader.loadInBackground(DecodeMessageLoader.java:46)
03-22 11:02:07.340 E/k9      (20726):   at com.fsck.k9.ui.message.DecodeMessageLoader.loadInBackground(DecodeMessageLoader.java:15)
03-22 11:02:07.340 E/k9      (20726):   at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)
03-22 11:02:07.340 E/k9      (20726):   at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)
03-22 11:02:07.340 E/k9      (20726):   at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:66)
03-22 11:02:07.340 E/k9      (20726):   at android.os.AsyncTask$2.call(AsyncTask.java:295)
03-22 11:02:07.340 E/k9      (20726):   at java.util.concurrent.FutureTask.run(FutureTask.java:237)
03-22 11:02:07.340 E/k9      (20726):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
03-22 11:02:07.340 E/k9      (20726):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
03-22 11:02:07.340 E/k9      (20726):   at java.lang.Thread.run(Thread.java:818)
03-22 11:02:07.357 E/AndroidRuntime(20726): FATAL EXCEPTION: main
03-22 11:02:07.357 E/AndroidRuntime(20726): Process: com.fsck.k9, PID: 20726
03-22 11:02:07.357 E/AndroidRuntime(20726): java.lang.NullPointerException: Attempt to read from field 'com.fsck.k9.mail.Message com.fsck.k9.mailstore.MessageViewInfo.message' on a null object reference
03-22 11:02:07.357 E/AndroidRuntime(20726):     at com.fsck.k9.ui.messageview.MessageTopView.setMessage(MessageTopView.java:90)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at com.fsck.k9.ui.messageview.MessageViewFragment.showMessage(MessageViewFragment.java:281)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at com.fsck.k9.ui.messageview.MessageViewFragment.onDecodeMessageFinished(MessageViewFragment.java:276)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at com.fsck.k9.ui.messageview.MessageViewFragment.access$1200(MessageViewFragment.java:57)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at com.fsck.k9.ui.messageview.MessageViewFragment$DecodeMessageLoaderCallback.onLoadFinished(MessageViewFragment.java:755)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at com.fsck.k9.ui.messageview.MessageViewFragment$DecodeMessageLoaderCallback.onLoadFinished(MessageViewFragment.java:745)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at android.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:483)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at android.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:451)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at android.content.Loader.deliverResult(Loader.java:144)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at com.fsck.k9.ui.message.DecodeMessageLoader.deliverResult(DecodeMessageLoader.java:40)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at com.fsck.k9.ui.message.DecodeMessageLoader.deliverResult(DecodeMessageLoader.java:15)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at android.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:265)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at android.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:92)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at android.os.AsyncTask.finish(AsyncTask.java:651)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at android.os.AsyncTask.-wrap1(AsyncTask.java)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:668)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at android.os.Handler.dispatchMessage(Handler.java:102)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at android.os.Looper.loop(Looper.java:148)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at android.app.ActivityThread.main(ActivityThread.java:5422)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at java.lang.reflect.Method.invoke(Native Method)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
03-22 11:02:07.357 E/AndroidRuntime(20726):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
```

[Your PVWC eBill is Ready - Anonymized.eml.txt](https://github.com/k9mail/k-9/files/184412/Your.PVWC.eBill.is.Ready.-.Anonymized.eml.txt)
"
k9mail/k-9,closed,Request: Save passwords encrypted using Android KeyStore,"[Label(name=""enhancement""), Label(name=""security"")]","Currently all IMAP/POP3/SMTP/WebDAV credentials are stored in the preferences as plain text. I would like to propose to encrypt the password(s) using the Android KeyStore API for devices with Android 4.3 (API level 18) and above.

One ""drawback"" is of course that it will not be possible to include the passwords when importing/exporting the settings.

http://developer.android.com/training/articles/keystore.html
"
k9mail/k-9,closed,Ensure we close transport when checking settings to avoid leak,[],"If this happens:

```
03-22 09:14:40.158 2993-3040/com.fsck.k9.debug E/k9: Error while testing settings
com.fsck.k9.mail.transport.SmtpTransport$NegativeSmtpReplyException: Negative SMTP reply: 451 4.3.2 Internal server error (6530)
    at com.fsck.k9.mail.transport.SmtpTransport.checkLine(SmtpTransport.java:633)
    at com.fsck.k9.mail.transport.SmtpTransport.executeSimpleCommand(SmtpTransport.java:674)
    at com.fsck.k9.mail.transport.SmtpTransport.saslAuthPlain(SmtpTransport.java:718)
    at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:335)
    at com.fsck.k9.activity.setup.AccountSetupCheckSettings$CheckAccountTask.checkOutgoing(AccountSetupCheckSettings.java:481)
    at com.fsck.k9.activity.setup.AccountSetupCheckSettings$CheckAccountTask.checkServerSettings(AccountSetupCheckSettings.java:469)
    at com.fsck.k9.activity.setup.AccountSetupCheckSettings$CheckAccountTask.doInBackground(AccountSetupCheckSettings.java:421)
    at com.fsck.k9.activity.setup.AccountSetupCheckSettings$CheckAccountTask.doInBackground(AccountSetupCheckSettings.java:399)
    at android.os.AsyncTask$2.call(AsyncTask.java:295)
    at java.util.concurrent.FutureTask.run(FutureTask.java:237)
    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
    at java.lang.Thread.run(Thread.java:818)
```

then without this fix, this follows:

```
03-22 09:14:59.113 2993-3002/com.fsck.k9.debug E/StrictMode: A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.
        java.lang.Throwable: Explicit termination method 'close' not called
            at dalvik.system.CloseGuard.open(CloseGuard.java:180)
            at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:288)
            at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:629)
            at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:591)
            at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:237)
            at com.fsck.k9.activity.setup.AccountSetupCheckSettings$CheckAccountTask.checkOutgoing(AccountSetupCheckSettings.java:481)
            at com.fsck.k9.activity.setup.AccountSetupCheckSettings$CheckAccountTask.checkServerSettings(AccountSetupCheckSettings.java:469)
            at com.fsck.k9.activity.setup.AccountSetupCheckSettings$CheckAccountTask.doInBackground(AccountSetupCheckSettings.java:421)
            at com.fsck.k9.activity.setup.AccountSetupCheckSettings$CheckAccountTask.doInBackground(AccountSetupCheckSettings.java:399)
            at android.os.AsyncTask$2.call(AsyncTask.java:295)
            at java.util.concurrent.FutureTask.run(FutureTask.java:237)
            at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234)
            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
            at java.lang.Thread.run(Thread.java:818)
```
"
k9mail/k-9,closed,"Add PGP/INLINE ""compatibility"" mode",[],"Another WIP PR. This adds pgp ""compatibility"" mode, i.e., pgp/inline.

Not happy with the UI at all, still thinking about how to do this better. It _might_ be acceptable with this approach if we use a material style switch and not this ugly old thing, but not sure about that.

I'm thinking about adding another icon next to the crypto one while compat mode is enabled, and move the ""enable compat mode"" to the options. Ideally, use of pgp/inline should be an exceptional state, so it's not a huge problem with screen estate, and if the user clicks it they can be provided with an explanation of why it was enabled automatically (or disable it).
"
k9mail/k-9,closed,Add debugging for when file I/O fails,[],"The Java File I/O libraries love to return false on failure rather than throw an Exception. Hence, adding debug logging for when we were ignoring return values from File I/O.

Probably will help to debug issues like #1164 
"
k9mail/k-9,closed,Testing improvements for various components,[],"Initial testing for POP3, more tests for WebDAV and SMTP. 

The actual fetching of messages for POP3 is still un-tested.

There's some other comments added which note places we should be doing bits better (mostly culled from GitHub issues).
"
k9mail/k-9,closed,Enhancement: schedule email sending of a particular draft,"[Label(name=""enhancement"")]","### Expected behaviour

Type an email, save it in your Drafts folder, with the ability to schedule a ""Send Later"" date and time. (Sometimes I don't want my clients knowing I was up working at 3:30am, so I'd love to go to sleep knowing my email will auto-send at, say, 8:30am.)
### Actual behaviour

This functionality currently does not exist. Must hit ""send"" when you want to send you email. 
### Environment

K-9 Mail version: Current

Android version: Any (Lollipop. 5.1.1)

Account type (IMAP, POP3, WebDAV/Exchange):
All account types, but IMAP is probably easiest
"
k9mail/k-9,open,"""Mark all as read"" in search results acts on current folder","[Label(name=""enhancement"")]","This one is **really** annoying:
When I search for something and get the results I can hit ""Select all"" and only the search results get selected.
But when I hit (almost always accidentally) ""Mark all as read"" the whole folder currently shown gets marked as read.

So while I was sorting my email on my tablet a few minutes ago all my inbox got marked as read…
"
k9mail/k-9,closed,"Problem has returned, please see issue 1130 for previous issue and log. New info below",[],"Expected behaviour

After I open and read an email, the status should remain unread and then sync with settings to poll every 15 minutes

Actual behaviour

After I open and read an email, the status changes to read
But once the imap sync starts the status changes back to unread after polling

Steps to reproduce

1.Launch K9 
2.View list of emails and read one or more by tapping to open fully
3.Exit K9
4. Check K9 later and the previous read emails show as unread

If I read the messages on the server via outlook client on PC, the K9 client shows them as read messages, properly from that point forward

Environment

K-9 Mail version: 5.008

Android version:
Marshmellow
LG G4

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP settings but Activesync is used on servers

Note: This occurred about a week ago.
I exported settings
Deleted K9 from phone
Downloaded new version from Play store
Imported settings
K9 functioned perfectly for about a week but problem returned today.

---

Problem returned on March 18, 2016

I noted in the K9mail-errors folder there are a number of emails showing with ""IOException: readStringUntil(): end of stream reached""   

And 
UnknownHostException: Unable to ""resolve host ""imap-mail.outlook.com"":Unknown error""
"
k9mail/k-9,closed,Apply proxy settings for non-secure sockets.,"[Label(name=""security"")]",
k9mail/k-9,closed,Updated tap_hint message: s/envelope/circle/,[],"The envelope icon was replaced with a circle icon a long time ago.  This
change updates the message to reflect this.
"
k9mail/k-9,closed,Refactoring,[],"Hello,
we try to resolve the issue n°764. After post a comment in this issue, philipwhiuk tell us to refactoring the big method : sendPendingMessagesSynchronous ::  MessagingController. We refactored this method for make maintenance of code easier and cleaning a little bit the catch with code repetitions.
"
k9mail/k-9,closed,How to display <video> with <img> as fallback?,"[Label(name=""wontfix"")]","### Expected behaviour

I am sending out emails to customers with videos inline. And with an image in it as fallback. Unfortunately the latest K-9 Mail app does not display these.

Here is the HTML I use in these emails (in Jade syntax)
https://github.com/binarykitchen/videomail.io/blob/staging/src/views/email/youhavevideomail.jade
### Actual behaviour

When I load that email in the app, I expect the video to be shown. Instead, it is just black, an empty space wasting lots of pixels.
### Steps to reproduce
1. Send yourself that email. It's my videomail service, see www.videomail.io (record something and send it to you)
2. Open K-9 on your android
3. Load that email and you see, just empty space
### Environment

K-9 Mail version: 5.008

Android version: 4.2.2

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Filter for notification #1144,"[Label(name=""needs work"")]","This is the implementation of the filter for notification #1144 . 

Notification rule sets can be setup from account parameters / notifications / rule set.
There is a new rule set menu listing all existing rules. Click on the rule to update it, or on new rule set button to create a new rule set. 
Available fields to define the rule are sender name, sender address, subject and body. You then define if email matching this rule should show a notification or not.

To delete a rule, click on it and put its name to blank.

When a new mail arrives, if more than one rule matches, then only the first rule in the list will apply.
"
k9mail/k-9,closed,Add support for installation on external storage,"[Label(name=""wontfix"")]","Have you considered setting android:installLocation=""auto"" in AndroidManifest.xml to allow installation on external storage?

According to the wiki (https://github.com/k9mail/k-9/wiki/Storage), the reason for not supporting installation on external storage is:

""Since Android 2.2, the system is able to install core application files on the external storage (usually a microSD card). Unfortunately, doing so makes the application unable to work when the external storage is shared, like when your device is USB-plugged. Furthermore, Android does not restart the application when the application is brought back (on USB unplug).""

But recent versions of Android don't unmount the external storage when the storage is shared, they use MTP. 
"
k9mail/k-9,open,Request: Refuse to send plaintext mail.,"[Label(name=""enhancement"")]","Hi. Forgive me if in wrong area but i would like to request a ""refuse to send plaintext email"" feature built into the next update.

Like ""refuse to save draft"" 

There have been many icidents plain texts get sent in error.

Please move to correct area if needed. Thank you
"
k9mail/k-9,open,Empty email when opening K9-Mail (occasionally),"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

When I open K9-Mail, it should display the last message or some folder.
### Actual behaviour

Sometimes I am prompted with an empty email, like this:

![k9-mail](https://cloud.githubusercontent.com/assets/976924/13845287/518cb7e8-ec3f-11e5-9d4b-cab7f27139fd.png)

The date shown is clearly the zero of timestamp in UTC+1. The subject line is `(No subject)` and the text says `no body text`.
### Steps to reproduce

I am not really sure, I think it happens when I open K9-Mail after a long time. Perhaps the garbage collector has moved some stuff out of the way?
### Environment

K-9 Mail version: 5.008
Android version: 5.0.2
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,make attachment download dependent on connection/bandwidth (wifi / mobile data),"[Label(name=""enhancement"")]","Would be great to have options to set the download behaviour concerning attachments. I'd suggest the following options:
- automatic download of every attachment regardless of its size
- manual download of attachments only (user always has to manually start the download)
- allow for a size threshold to be set for each connection type (wifi / mobile data / ...) so that attachments smaller than the threshold will automatically be downloaded whereas attachments greater than the threshold will not be downloaded automatically

It would be useful also if these rules were applied (at each sync) to messages already fetched in past syncs.
"
k9mail/k-9,closed,Mark a message as read before deleting it (Issue #591),[],"Hi,
I made a solution for the issue #591. Now, when we want to delete a message without reading it, the message is not marked as unread in the trash folder. 
But, in the issue, it asked to add an option for this solution and I don't know how to add an option in the settings of the app.
So, I create a first pull request with my solution and, if someone can help me to add it in option, I will changed it.
"
k9mail/k-9,closed,Rework WebDavSocketFactory to use DefaultTrustedSocketFactory,[],"Here we go. I've unpicked the chaos, documented the odd behaviour and reverted the change I made for the reasons I've documented.

I've moved to using the DefaultTrustedSocketFactory directly, which means it's less prone to error. I've also added tests for the expected behaviour.
"
k9mail/k-9,closed,Add support for SOCKS proxy,"[Label(name=""needs work""), Label(name=""security"")]","Rebased pull request #861 on top of current `master`.
Made some additional changes.

The feature is currently disabled for release builds. We don't want to ship with incomplete proxy support because this might have privacy implications for our users.
"
k9mail/k-9,closed,read emails are disappearing,[],"Dear all

I have some recurring hiccups that, after reading an email and returning to the inbox, the email disappears.

I need to leave the inbox, maybe refresh, to bring the hidden emails back.

I have root access and can provide further information if over tells me what is needed.

Device: Nexus 6p
Android: 6.0.1

Thanks
"
k9mail/k-9,closed,FTS-based Fulltext Search,[],"Started implementing fulltext. This is a first working version, but not really polished yet. Feedback welcome.
"
k9mail/k-9,closed,Use strict hostname verification,[],"Short term immediate fix for #1177 

The whole area of code needs a rework. This is just a hot-fix, because I suspect SSL is severely broken in WebDAV right now.
"
k9mail/k-9,open,WebDAV SSL implementation is unintelligible,"[Label(name=""cleanup"")]","### Expected behaviour

Proper validation of SSL certificates similarly to IMAP
### Actual behaviour

One of the two socket factories used disables hostname verification, essentially breaking SSL.

`mSchemeSocketFactory.setHostnameVerifier(org.apache.http.conn.ssl.SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);`

```
 * TODO: find out what's going on here and document it.
 * Using two socket factories looks suspicious.
```

This is terrible. Quoting the Javadoc:

>  The ALLOW_ALL HostnameVerifier essentially turns hostname verification off. This implementation is a no-op, and never throws the SSLException. 

The code was committed in : https://github.com/k9mail/k-9/commit/8f45d76\

I'm not sure why we stopped using the TrustedSocketFactory, which seems to verify certificates correctly. Possibly the use of ALLOW_ALL_HOSTNAME_VERIFIER was a mistake (the SSL libraries are terrible for making opaque code that subtly breaks - see:
- [The Most Dangerous Code In The World](http://crypto.stanford.edu/~dabo/pubs/abstracts/ssl-client-bugs.html)
### Steps to reproduce

Untested. I suspect: 
1. Create an WebDAV account
2. Point to a server with a bad certificate
3. No error thrown
### Environment

K-9 Mail version: master

Android version: N/A
Account type (IMAP, POP3, WebDAV/Exchange): WebDAV
### Mitigation factors

In previous versions WebDAV is broken. Specifically, due to #1143 it will fail to sync at all often.
### Intended resolution

**Short term:** Replace argument with STRICT_HOSTNAME_VERIFIER

This may cause current WebDAV usage to fail due a badly signed certificate that is never the less expected. 

**Long term:** To resolve this I intend to rip out the WebDAVSocketFactory and replace it with non-deprecated APIs, with tests for SSL errors, following best practice as outlined in: http://developer.android.com/training/articles/security-ssl.html
"
k9mail/k-9,closed,Select all is broken,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

Select all in inbox should mark all emails as selected
### Actual behaviour

K-9 mail crashes
### Steps to reproduce
1. Select all
   2.Crash
   3.
### Environment

K-9 Mail version:
5.008
Android version:
6.0
Account type (IMAP, POP3, WebDAV/Exchange):
POP3
"
k9mail/k-9,open,Unusual email addresses are incorrectly parsed,"[Label(name=""bug"")]","### Expected behaviour

The list of valid emails on Wikipedia should be parsed correctly and not adjusted.
### Actual behaviour

Quotes are removed from email addresses.
### Steps to reproduce

Run the following test case.

```
    @Test
    public void testParseUnusualEmails() {
        String[] testEmails = new String [] {
                ""prettyandsimple@example.com"",
                ""very.common@example.com"",
                ""disposable.style.email.with+symbol@example.com"",
                ""other.email-with-dash@example.com"",
                ""\""much.more unusual\""@example.com"",
                ""\""very.unusual.@.unusual.com\""@example.com"",
                //""very.(),:;<>[]\"".VERY.\""very@\\ \""very\"".unusual""@strange.example.com
                ""\""very.(),:;<>[]\\\"".VERY.\\\""very@\\\\ \\\""very\\\"".unusual\""@strange.example.com"",
                ""admin@mailserver1"",
                ""#!$%&'*+-/=?^_`{}|~@example.org"",
                ""\""()<>[]:,;@\\\\\\\""!#$%&'*+-/=?^_`{}| ~.a\""@example.org"",
                ""\"" \""@example.org"",
                ""example@localhost"",
                ""example@s.solutions"",
                ""user@com"",
                ""user@localserver"",
                ""user@[IPv6:2001:db8::1]""
        };
        for(String testEmail: testEmails) {
            Address[] addresses = Address.parse(""Anonymous <""+testEmail+"">"");
            assertEquals(1, addresses.length);
            assertEquals(testEmail, addresses[0].getAddress());
        }
    }
```
### Environment

K-9 Mail version: master

Android version: N/A

Account type (IMAP, POP3, WebDAV/Exchange): N/A
"
k9mail/k-9,closed,Handle synchronizing empty folders,[],"Tested fix for #1139 

Retains the current behaviour for folders with negative message counts.
"
k9mail/k-9,closed,Improve behaviour when an error occurs extracting part of a message,[],"As discussed on IRC - improves behaviour following #1164 (but doesn't fix the underlying issue)
- Change the behaviour of MessageExtractor to no longer absorb MessagingExceptions
- Change the behaviour of MessageExtractor to no longer catch OOM exceptions
- Change the behaviour of MessageExtractor to wrap IOExceptions it generates in a MessagingException instead of absorbing them
- Change the behaviour of MessagePreviewCreator to return a new PreviewType, FAILED_TO_LOAD
- Add corresponding database types

Probably wants more UTs. Also some actual testing. I can infrequently reproduce it on my device, so I'll test it for a few days and see what I find.
"
k9mail/k-9,closed,"push/poll battery saving, wiki inconsistency",[],"Hello,
having some battery consumption issues since I upgraded from Stock/Kit Kat to Cyanogen13/Marshmallow I Googled about it. I read about pushing/polling possibly beeing related to the matter, but I think the wiki here is inconsistent and thus am I somewhat lost.

From this page https://github.com/k9mail/k-9/wiki/Manual-AccountSetup

> Enable push mail for this account: This option is only available for IMAP accounts. When it is enabled a long-lived connection to the IMAP server is established so K-9 Mail can be notified by the server when a new message has arrived. When this is set, you do not need to select a poll frequency, because you do not poll. **_This generally decreases power consumption_** in addition to decreasing delivery notification delay, and is a good enough thing that it can be worth selecting a mailbox on the ground that the provider supports IMAP IDLE. Please note that Push might require multiple connections to the IMAP server which might not be supported or undesired by the server administration.

From this page https://github.com/k9mail/k-9/wiki/FrequentlyAskedQuestions

>  What is the difference between pushing and polling?
> Depending on what type of account you have configured, K-9 may support either push or poll for fetching new mail (see Account settings > Fetching mail). At this time, K-9 only supports push for IMAP accounts. Polling refers to the mail client periodically asking the mail server for new mail, on some configured time increment. Pushing refers to the mail client keeping an open connection to the mail server, so that the server can inform the client of new mail as soon as it is received. **_Pushing typically uses more battery_** for a few reasons. First, when you have any account configured to push, this keeps an Android service running at all times. This service keeps 1 open connection to the mail server for each folder configured to push (which also uses battery power). And lastly, pushing will typically lead to more frequent communications between the client and the server. 

Regards.
"
k9mail/k-9,closed,Issue 1119 - Show contact names and email adresses,[],"Hi, 
has suggested the issue https://github.com/k9mail/k-9/issues/1119 I add an option to show both real name and email address. 
"
k9mail/k-9,closed,AndroidLint fixes,[],"These fixes are derived from running the Android lint tools. Again there's more, some of which might be an issue. These are the low hanging fruit so to speak.
"
k9mail/k-9,closed,Add actually opportunistic behavior to compose,[],"This PR adds a flag to the encryption intent for opportunistic encryption, and handles the error code which occurs if not all keys are available.

I also changed the ""encryption disabled"" icon from ""alarming red"" to ""disabled grey"", leaving the status dot red. I think the attention vs out of the way aspect is better balanced this way.

\\ edit

unlike the other PRs, this one requires a current master build of OpenKeychain to actually work (it works without it, but there is no opportunistic behavior). we'll release that small fix shortly so a stable can be used.
"
k9mail/k-9,closed,Allow translation and formatting on common errors,[],"These are just the errors I've seen in common scenarios (one might be a bug, the others are expected - e.g. attempting to sync when there's no network connection/the server not playing ball).

This doesn't affect what you see in the K-9 errors folder, only the behaviour of the status line below the folder name.
"
k9mail/k-9,closed,Lint fixes,[],"3 separate commits:

First commit: Checkstyle changes. All very minor. Mostly code re-formatting. A few scoped variables introduced to clarify intent.
Second commit: Refactoring the Certificate dialog. This resolved a FindBugs warning.
Third commit: Fix some code in MessagingController. A comment suggested it was fine because of the use of a local variable. All this actually did was meant Eclipse wasn't smart enough to catch it. FindBugs is though.

There's a bunch more FindBugs warnings, but I don't think they are actual issues.
"
k9mail/k-9,closed,"Problems with RTL (Persian,Arabic and Hebrew)",[],"### Expected behaviour

The RTL texts should be aligned from right to left and take this direction (r to l)
### Actual behaviour

The RTL texts aligned from left to right
### Steps to reproduce
1. rtls text must aligned from right to left
2. the direction must sit to: rtl
   3.
### Environment

K-9 Mail version:
5.008
Android version:
5.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Improve layout when both encryption & picture download elements are present,[],"We should adjust the layout when both are present so that the encryption and signing bits are next to the show pictures button instead of below it. This would make better use of the screen space.

![image](https://cloud.githubusercontent.com/assets/1316415/13631754/38004d4c-e5de-11e5-985e-8e96aa4a6bb6.png)

Device make: Huawei
Device model: Nexus 6P
Android version: 6.0.1
K9-Mail version: master
"
k9mail/k-9,closed,Local Save Failure,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

Large messages should always be saved correctly to local storage
### Actual behaviour

Occasionally it appears to fail to create the file.

It doesn't appear to be a persistent failure - it did succeed on retry. Maybe we should retry if we get an ENOENT error?

```
com.fsck.k9.mail.MessagingException: Error appending message: <<SUBJECT>>
at com.fsck.k9.mailstore.LocalFolder.saveMessage(LocalFolder.java:1301)
at com.fsck.k9.mailstore.LocalFolder$15.doDbWork(LocalFolder.java:1174)
at com.fsck.k9.mailstore.LocalFolder$15.doDbWork(LocalFolder.java:1169)
at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
at com.fsck.k9.mailstore.LocalFolder.appendMessages(LocalFolder.java:1169)
at com.fsck.k9.mailstore.LocalFolder.appendMessages(LocalFolder.java:1096)
at com.fsck.k9.controller.MessagingController.downloadLargeMessages(MessagingController.java:1544)
at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1212)
at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:967)
at com.fsck.k9.controller.MessagingController.access$300(MessagingController.java:99)
at com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:754)
at com.fsck.k9.controller.MessagingController.run(MessagingController.java:257)
at java.lang.Thread.run(Thread.java:818)
Caused by: com.fsck.k9.mail.MessagingException: Unable to open body
at com.fsck.k9.mail.internet.BinaryTempFileBody.getInputStream(BinaryTempFileBody.java:102)
at com.fsck.k9.mail.internet.BinaryTempFileBody.writeTo(BinaryTempFileBody.java:107)
at com.fsck.k9.mailstore.LocalFolder.getBodyBytes(LocalFolder.java:1501)
at com.fsck.k9.mailstore.LocalFolder.leafPartToContentValues(LocalFolder.java:1426)
at com.fsck.k9.mailstore.LocalFolder.updateOrInsertMessagePart(LocalFolder.java:1364)
at com.fsck.k9.mailstore.LocalFolder.saveMessagePart(LocalFolder.java:1336)
at com.fsck.k9.mailstore.LocalFolder.saveMessageParts(LocalFolder.java:1306)
at com.fsck.k9.mailstore.LocalFolder.saveMessage(LocalFolder.java:1244)
... 12 more
Caused by: java.io.FileNotFoundException: /data/user/0/com.fsck.k9.debug/cache/body-1246622353.tmp: open failed: ENOENT (No such file or directory)
at libcore.io.IoBridge.open(IoBridge.java:452)
at java.io.FileInputStream.<init>(FileInputStream.java:76)
at com.fsck.k9.mail.internet.BinaryTempFileBody.getInputStream(BinaryTempFileBody.java:100)
... 19 more
Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)
at libcore.io.Posix.open(Native Method)
at libcore.io.BlockGuardOs.open(BlockGuardOs.java:186)
at libcore.io.IoBridge.open(IoBridge.java:438)
... 21 more
```
### Steps to reproduce
1. Receive a large email
2. Wait for/trigger synchronisation
3. Error reported
### Environment

K9-Mail version: Master (+ adding subject of email to debug output)
Device make: Huawei
Device model: Nexus 6P
Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): WebDAV
"
k9mail/k-9,closed,Add the subject of the email to the debug when failing to sync,[],"Should make it slightly easier to figure out which email is breaking synchronisation.
"
k9mail/k-9,closed,"When in AccountSettings, clear the cryptography settings if none are available.",[],"Allows the user to fix #1153 and #1160 by just visiting the AccountSettings to clear the status.
"
k9mail/k-9,closed,can't compose Mails on fairphone2,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

Getting editor to write mail or answer in mail
### Actual behaviour

Get only a white page
### Steps to reproduce
1. click on New mail symbol
2. only white screen to see
### Environment

K-9 Mail version: 5.008

Android version: 

Account type (IMAP, POP3, WebDAV/Exchange): imap
"
k9mail/k-9,closed,Not able to view encrypted/signed messages as is when CryptoProvider is uninstalled,[],"### Expected behaviour

A signed / encrypted message with no CryptoProvider uninstalled should be displayed as is if no Crypto Provider is available.

See also #1153 
### Actual behaviour

The message is not shown at all.

The following exception is printed in the debug:

```
03-08 19:28:36.673 4016-4016/com.fsck.k9.debug E/k9: Couldn't connect to OpenPgpService
                                                     java.lang.Exception: bindService() returned false!
                                                         at org.openintents.openpgp.util.OpenPgpServiceConnection.bindToService(OpenPgpServiceConnection.java:105)
                                                         at com.fsck.k9.ui.crypto.MessageCryptoHelper.connectToCryptoProviderService(MessageCryptoHelper.java:163)
                                                         at com.fsck.k9.ui.crypto.MessageCryptoHelper.startDecryptingOrVerifyingPart(MessageCryptoHelper.java:138)
                                                         at com.fsck.k9.ui.crypto.MessageCryptoHelper.decryptOrVerifyNextPart(MessageCryptoHelper.java:133)
                                                         at com.fsck.k9.ui.crypto.MessageCryptoHelper.decryptOrVerifyMessagePartsIfNecessary(MessageCryptoHelper.java:97)
                                                         at com.fsck.k9.ui.messageview.MessageViewFragment.onLoadMessageFromDatabaseFinished(MessageViewFragment.java:231)
                                                         at com.fsck.k9.ui.messageview.MessageViewFragment.access$1000(MessageViewFragment.java:57)
                                                         at com.fsck.k9.ui.messageview.MessageViewFragment$LocalMessageLoaderCallback.onLoadFinished(MessageViewFragment.java:735)
                                                         at com.fsck.k9.ui.messageview.MessageViewFragment$LocalMessageLoaderCallback.onLoadFinished(MessageViewFragment.java:721)
                                                         at android.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:483)
                                                         at android.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:451)
```
### Steps to reproduce
1. Install a CryptoProvider.
2. Attach an email account to it.
3. Uninstall the CryptoProvider.
### Environment

K-9 Mail version: master

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"Add button ""Get it on F-Droid"" in README.md","[Label(name=""wontfix"")]","Please, add a button ""Get it on F-Droid"" with a PNG file from https://commons.wikimedia.org/wiki/File:Get_it_on_F-Droid.svg in your README.md file with the appropriate link to the page of your app on F-Droid. Perhaps add this button also in files of https://github.com/k9mail/k9mail.github.io
"
k9mail/k-9,closed,OpenPGP provider and status fixes,[],"The two commits in this PR fix #1150 and #1151, respectively
"
k9mail/k-9,closed,bug,"[Label(name=""invalid"")]","### Expected behaviour

Tell us what should happen
### Actual behaviour

Tell us what happens instead
### Steps to reproduce

1.go to inbox
2.click ""load up to 25 more＂  
3.close network
4.wait a minute
5.open network
6.click ""load up to 25 more"" No response
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Add additional TO: email address to contacts #1120,[],"Hi, 

This is a first solution to add contacts by clicking on the _TO:_ email address in a mail.
"
k9mail/k-9,open,Message deletions not synchronized on server,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

When the ""_Sync server deletions_"" setting is checked and the ""_When I delete a message_"" setting is set to ""_Delete from server_"", I would expect messaged that are deleted through K-9 Mail to be also deleted on the server.
### Actual behaviour

Messages deleted through K-9 Mail still appear in the server's inbox.
### Steps to reproduce
1. Create an IMAP account
2. Make sure the  ""Sync server deletions"" setting is active
3. Make sure the ""When I delete a message"" setting is set to ""Delete from server""
4. Delete a message from K-9 Mail
5. Check to verify if it was also removed from the server through another mail client (ie. Thunderbird) or webmail
### Environment

K-9 Mail version:5.008

Android version:6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
### Log message

**SSLException: Write error: ssl=0x977e7680: I/O error during system call, Broken pipe**

K9-Mail version: 5.008
Device make: LGE
Device model: Nexus 5
Android version: 6.0.1

com.fsck.k9.mail.MessagingException: IO Error
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.ioExceptionHandler(ImapStore.java:2208)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.appendMessages(ImapStore.java:2072)
    at com.fsck.k9.controller.MessagingController.processPendingAppend(MessagingController.java:2117)
    at com.fsck.k9.controller.MessagingController.processPendingCommandsSynchronous(MessagingController.java:1987)
    at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:975)
    at com.fsck.k9.controller.MessagingController.access$400(MessagingController.java:111)
    at com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:934)
    at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
    at
java.lang.Thread.run(Thread.java:818)
Caused by: javax.net.ssl.SSLException: Write error: ssl=0x977e7680: I/O error during system call, Broken pipe
    at com.android.org.conscrypt.NativeCrypto.SSL_write(Native Method)
    at com.android.org.conscrypt.OpenSSLSocketImpl$SSLOutputStream.write(OpenSSLSocketImpl.java:771)
    at java.io.BufferedOutputStream.write(BufferedOutputStream.java:174)
    at java.io.FilterOutputStream.write(FilterOutputStream.java:129)
    at com.fsck.k9.mail.filter.EOLConvertingOutputStream.write(EOLConvertingOutputStream.java:21)
    at java.io.FilterOutputStream.write(FilterOutputStream.java:114)
    at com.fsck.k9.mail.filter.Base64OutputStream.flush(Base64OutputStream.java:149)
    at
com.fsck.k9.mail.filter.Base64OutputStream.flush(Base64OutputStream.java:165)
    at com.fsck.k9.mail.filter.Base64OutputStream.close(Base64OutputStream.java:180)
    at com.fsck.k9.mail.store.LocalStore$BinaryAttachmentBody.writeTo(LocalStore.java:4082)
    at com.fsck.k9.mail.internet.MimeBodyPart.writeTo(MimeBodyPart.java:141)
    at com.fsck.k9.mail.internet.MimeMultipart.writeTo(MimeMultipart.java:89)
    at com.fsck.k9.mail.internet.MimeMessage.writeTo(MimeMessage.java:458)
    at com.fsck.k9.mail.store.LocalStore$LocalMessage.writeTo(LocalStore.java:3616)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.appendMessages(ImapStore.java:2016)
    ... 7 more
"
k9mail/k-9,closed,No Notification any more,"[Label(name=""invalid"")]","Hello,

I am using K-9 for a long time.

Since the update to 5.007 there are no notification anymore for new messages. No sound, no vibrations, no LED, no icon at the status bar. Sounds like mp3 or systemsounds tested no reaction. Even when I create a new account. I am using K - 9 with five different accounts IMAP+POP, the widgets on the screen present the right quantity of new mails. I was detecting the notification problem befor x-mas 2015 and I was waiting for the next update but not affect. I am missing the sounds very much.

Rest of the program seems to run perfectly.

Somewhere I read that deleting an account and recreate didn´t work.

I hesitate to delete the complete K-9 app. Do I have to step back to a version of 4.8xx? is it even possible?
### Environment

I am using Samsung Galaxy Note 2 (N-7100),
Android 4.1.2 not rooted,
K-9 (5.007) german language (actually updated 5.008)
Notifications 24/7

Please help.
vy73de Captain-intrepid
"
k9mail/k-9,closed,Uninstalling OpenPGP app should revert ComposeCryptoStatus to uninitialised,[],"### Expected behaviour

When sending email from an account that previously had a cryptography provider, the email should be sent successfully.
### Actual behaviour

""Cannot connect to crypto provider, check your settings or click crypto icon to retry!""
### Steps to reproduce
1. Install K-9
2. Install OpenPGP app
3. Add OpenPGP to an account
4. Uninstall OpenPGP
5. Try to send an email
### Environment

K-9 Mail version:

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,K9 automatically deleting email,"[Label(name=""bug""), Label(name=""needs info"")]","I receive emails, read them, close application, open application…and all my emails are gone. Please help!
### Environment

K-9 Mail version: 5.008

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): POP3
"
k9mail/k-9,closed,State of crypto mode selector lost on configuration change,"[Label(name=""bug"")]","### Expected behaviour

Retain selected state on configuration changes.
### Actual behaviour

Selected state is lost on configuration change.
### Steps to reproduce
1. Use crypto mode selector to change crypto mode
2. Rotate device
3. Observe crypto mode indicator reverting display to default mode.
### Environment

K-9 Mail version: master / 833e1cc4186b6703cef28a9dc825d7d68d24c1b8

Android version: 5.1
"
k9mail/k-9,closed,Can't send message without crypto provider,"[Label(name=""bug"")]","### Expected behaviour

Message should be sent unsigned.
### Actual behaviour

Without an installed crypto provider sending a message fails with the message ""No key configured for signing! Please check your settings.""
### Steps to reproduce
1. Open compose activity
2. Fill in recipient, subject and message text
3. Tap 'send'
### Environment

K-9 Mail version: master / 833e1cc4186b6703cef28a9dc825d7d68d24c1b8

Android version: 5.1
"
k9mail/k-9,closed,Add support for List-Post header,[],"This solves the mailman list behaviour without adding tons of extra code in random places or the complexity of an extra class.

Unless we want to treat lists as a separate Intent (which seems OTT) this seems to do what people want. It certainly does what I want.
"
k9mail/k-9,closed,"Support ""binary"" encoding",[],"Per RFC 1341: https://www.w3.org/Protocols/rfc1341/5_Content-Transfer-Encoding.html

The values ""8bit"", ""7bit"", and ""binary"" all imply that NO encoding has been performed.

This produces the expected output for #1146 
"
k9mail/k-9,closed,Refactoring and fixing bugs in WebDAV code,[],"(Re-opened on a branch I can more easily isolate)

I've started to re-factor the WebDAV code to make it more maintainable and testable.

I've pulled a bunch of the inner classes out of the main Store class and written some tests for the Folder class.

The bugs are mainly minor and mentioned in #1143 but the refactoring should provide a better base going forward to writing testable code to fix the remaining issues.
"
k9mail/k-9,closed,Support binary Content-Type-Encoding,[],"### Expected behaviour

Email content should be retrievable and no exception thrown:

Email (sent to public list, with sensitive headers removed) http://pastie.org/10748818
### Actual behaviour

RuntimeException

```
03-05 14:16:00.509 916-950/com.fsck.k9.debug E/k9: Unable to getTextFromPart
                                                   java.lang.RuntimeException: Encoding for RawDataBody not supported: binary
                                                       at com.fsck.k9.mail.internet.MimeUtility.decodeBody(MimeUtility.java:1041)
                                                       at com.fsck.k9.mail.internet.MessageExtractor.getTextFromPart(MessageExtractor.java:78)
                                                       at com.fsck.k9.message.preview.EncryptionDetector.containsInlinePgpEncryptedText(EncryptionDetector.java:44)
                                                       at com.fsck.k9.message.preview.EncryptionDetector.isEncrypted(EncryptionDetector.java:31)
                                                       at com.fsck.k9.message.preview.MessagePreviewCreator.createPreview(MessagePreviewCreator.java:31)
                                                       at com.fsck.k9.mailstore.LocalFolder.saveMessage(LocalFolder.java:1237)
                                                       at com.fsck.k9.mailstore.LocalFolder$15.doDbWork(LocalFolder.java:1174)
                                                       at com.fsck.k9.mailstore.LocalFolder$15.doDbWork(LocalFolder.java:1169)
                                                       at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
                                                       at com.fsck.k9.mailstore.LocalFolder.appendMessages(LocalFolder.java:1169)
                                                       at com.fsck.k9.mailstore.LocalFolder.appendMessages(LocalFolder.java:1096)
                                                       at com.fsck.k9.mailstore.LocalFolder$13.doDbWork(LocalFolder.java:1069)
                                                       at com.fsck.k9.mailstore.LocalFolder$13.doDbWork(LocalFolder.java:1065)
                                                       at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:275)
                                                       at com.fsck.k9.mailstore.LocalFolder.storeSmallMessage(LocalFolder.java:1065)
                                                       at com.fsck.k9.controller.MessagingController$11.messageFinished(MessagingController.java:1411)
                                                       at com.fsck.k9.mail.store.imap.ImapFolder.fetch(ImapFolder.java:770)
                                                       at com.fsck.k9.controller.MessagingController.downloadSmallMessages(MessagingController.java:1398)
                                                       at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1204)
                                                       at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:967)
                                                       at com.fsck.k9.controller.MessagingController.access$300(MessagingController.java:99)
                                                       at com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:754)
                                                       at com.fsck.k9.controller.MessagingController.run(MessagingController.java:257)
                                                       at java.lang.Thread.run(Thread.java:818)

```
### Steps to reproduce
1. Open email similar to the one above
### Environment

K-9 Mail version: master

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Refactoring and fixing bugs in WebDAV code,[],"I've started to re-factor the WebDAV code to make it more maintainable and testable.

I've pulled a bunch of the inner classes out of the main Store class and written some tests for the Folder class.

The bugs are mainly minor and mentioned in #1143 but the refactoring should provide a better base going forward to writing testable code to fix the remaining issues.
"
k9mail/k-9,open,Filters for Notifications,"[Label(name=""enhancement"")]","### Expected behaviour

Only send notifications for messages that meet specifications in a user defined filter.  Filter options can include Sender name, Sender Address, Subject or Message Body (or any combination thereof).
### Actual behaviour

I receive LOTS of email.  But only a fraction of the messages I receive require that I deal with them right away.
"
k9mail/k-9,closed,K-9 is unable to fetch more than 9 messages from an Exchange server,"[Label(name=""bug"")]","## Expected behaviour

Email headers (and content) should be retrieved
### Actual behaviour

IndexOutOfBoundsException

```
03-05 01:02:12.967    5668-5723/? I/k9﹕ Synchronizing folder Work:Inbox
03-05 01:02:12.974    5668-5723/? I/k9﹕ url = <<REMOVED FOR PRIVACY>>
03-05 01:02:12.974    5668-5723/? I/k9﹕ Requesting gzipped data
03-05 01:02:13.111    5668-5723/? I/k9﹕ url = <<REMOVED FOR PRIVACY>>
03-05 01:02:13.111    5668-5723/? I/k9﹕ Requesting gzipped data
03-05 01:02:13.359    5668-5723/? E/k9﹕ synchronizeMailbox
    java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0
            at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)
            at java.util.ArrayList.set(ArrayList.java:481)
            at com.fsck.k9.mail.store.WebDavStore$WebDavFolder.fetchEnvelope(WebDavStore.java:1735)
            at com.fsck.k9.mail.store.WebDavStore$WebDavFolder.fetch(WebDavStore.java:1512)
            at com.fsck.k9.controller.MessagingController.fetchUnsyncedMessages(MessagingController.java:1475)
            at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1312)
            at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:1124)
            at com.fsck.k9.controller.MessagingController.access$300(MessagingController.java:113)
            at com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:919)
            at com.fsck.k9.controller.MessagingController.run(MessagingController.java:423)
            at java.lang.Thread.run(Thread.java:818)
03-05 01:02:13.412    5668-5723/? E/k9﹕ Failed synchronizing folder Work:Inbox @ Sat Mar 05 01:02:13 GMT+00:00 2016
```
### Steps to reproduce
1. Add an Exchange account
2. Sync emails
### Environment

K-9 Mail version: 5.107, master

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange): Exchange
"
k9mail/k-9,closed,Support for ICS attachments [enhancement],[],"Could you please add a support for creating calendar events from an ICS attachment?
I can currently Open or Save an attached ICS file but I cannot create an event from it.

Google Calendar has this feature so in my particular case, I can work around the lacking K9 functionality by opening the attachment in K9, choosing Google Calendar and creating the event from there.

Thanks
"
k9mail/k-9,open,"""Next Poll"" time is in the past","[Label(name=""bug"")]","### Expected behaviour

I would expect to ignore negative amounts of ""next poll""-time and either repair or set to a reasonable time (default time).
### Actual behaviour

It displays a negative value and does not try to poll in its intervals then.

![screenshot_2016-03-04-14-34-52](https://cloud.githubusercontent.com/assets/2625226/13528873/2b3f0fc6-e219-11e5-9288-64eb2c2e6cc6.png)
### Steps to reproduce
1. Install K-9
2. Setup accounts
3. let it run
### Environment

K-9 Mail version: 5.008

Android version: 6.0 (Marshmallow)

Account type (IMAP, POP3, WebDAV/Exchange): imap
### Thoughts on this

I assume it has to do with ""doze"" (which I thought to have disabled, but somehow is still active ... thanks to Huawei's EMUI and their PhoneManager). With Android 6.0's  ""doze""-function applications get hibernated.
So when K-9 is waking up, it might have a outdated timer (lastPollRealTime + pollIntervall = ""next PollRealTime"") or something similar (I know that this sounds really artificial, but grown code tends to have odd things in it). With such an outdated timer time displays will have good chances to show past times.
#### logcat for manual ""check mails""

```
03-04 14:59:35.862 11295 11317 I k9      : Running Background command 'checkMail', seq = 289
03-04 14:59:35.862 11295 11317 I k9      : Starting mail check
03-04 14:59:35.862 11295 11317 I k9      : Synchronizing account ron@gw
03-04 14:59:35.866 11295 11317 I k9      : Synchronizing account ron@TUC
03-04 14:59:35.867 11295 11317 I k9      : Synchronizing account ron@GMail
03-04 14:59:35.869 11295 11317 I k9      : Background Command 'checkMail' completed
03-04 14:59:35.869 11295 11317 I k9      : Running Background command 'sendPendingMessages', seq = 290
03-04 14:59:35.873 11295 11317 I k9      : Background Command 'sendPendingMessages' completed
03-04 14:59:35.873 11295 11317 I k9      : Running Background command 'syncDrafts', seq = 291
03-04 14:59:35.879 11295 11317 I k9      : Synchronizing folder ron@gw:Drafts
03-04 14:59:36.408 11295 11317 I SendBroadcastPermission: action:com.fsck.k9.intent.action.REFRESH_OBSERVER, mPermissionType:0
03-04 14:59:36.441 11295 11317 I k9      : Done synchronizing folder ron@gw:Drafts
03-04 14:59:36.444 11295 11317 I k9      : Background Command 'syncDrafts' completed
03-04 14:59:36.444 11295 11317 I k9      : Running Background command 'syncPosteingangClean', seq = 292
03-04 14:59:36.454 11295 11317 I k9      : Synchronizing folder ron@gw:PosteingangClean
03-04 14:59:36.734 11295 11317 I SendBroadcastPermission: action:com.fsck.k9.intent.action.REFRESH_OBSERVER, mPermissionType:0
03-04 14:59:36.765 11295 11317 I k9      : Done synchronizing folder ron@gw:PosteingangClean
03-04 14:59:36.765 11295 11317 I k9      : Background Command 'syncPosteingangClean' completed
03-04 14:59:36.766 11295 11317 I k9      : Running Background command 'clear notification flag for ron@gw', seq = 293
03-04 14:59:36.786 11295 11317 I k9      : Background Command 'clear notification flag for ron@gw' completed
03-04 14:59:36.786 11295 11317 I k9      : Running Background command 'sendPendingMessages', seq = 294
03-04 14:59:36.789 11295 11317 I k9      : Background Command 'sendPendingMessages' completed
03-04 14:59:36.790 11295 11317 I k9      : Running Background command 'syncEntwürfe', seq = 295
03-04 14:59:36.795 11295 11317 I k9      : Synchronizing folder ron@TUC:Entwürfe
03-04 14:59:37.384 11295 11317 I k9      : Compression enabled for conn70978259
03-04 14:59:37.481 11295 11317 I SendBroadcastPermission: action:com.fsck.k9.intent.action.REFRESH_OBSERVER, mPermissionType:0
03-04 14:59:37.497  3136  3166 I ActivityManager: Displayed com.fsck.k9/.activity.Accounts: +308ms
03-04 14:59:37.502 11295 11302 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapConnection.open(ImapStore.java:2573)
03-04 14:59:37.502 11295 11302 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapFolder.getPrefixedName(ImapStore.java:842)
03-04 14:59:37.502 11295 11302 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapFolder.internalOpen(ImapStore.java:901)
03-04 14:59:37.502 11295 11302 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapFolder.open(ImapStore.java:867)
03-04 14:59:37.502 11295 11302 E StrictMode:    at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:1041)
03-04 14:59:37.502 11295 11302 E StrictMode:    at com.fsck.k9.controller.MessagingController.access$400(MessagingController.java:111)
03-04 14:59:37.502 11295 11302 E StrictMode:    at com.fsck.k9.controller.MessagingController$35.run(MessagingController.java:4506)
03-04 14:59:37.502 11295 11302 E StrictMode:    at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
03-04 14:59:37.538 11295 11317 I k9      : Done synchronizing folder ron@TUC:Entwürfe
03-04 14:59:37.540 11295 11317 I k9      : Background Command 'syncEntwürfe' completed
03-04 14:59:37.540 11295 11317 I k9      : Running Background command 'syncINBOX', seq = 296
03-04 14:59:37.556 11295 11317 I k9      : Synchronizing folder ron@TUC:INBOX
03-04 14:59:37.884 11295 11317 I SendBroadcastPermission: action:com.fsck.k9.intent.action.REFRESH_OBSERVER, mPermissionType:0
03-04 14:59:37.927 11295 11317 I k9      : Done synchronizing folder ron@TUC:INBOX
03-04 14:59:37.927 11295 11317 I k9      : Background Command 'syncINBOX' completed
03-04 14:59:37.927 11295 11317 I k9      : Running Background command 'clear notification flag for ron@TUC', seq = 297
03-04 14:59:37.950 11295 11317 I k9      : Background Command 'clear notification flag for ron@TUC' completed
03-04 14:59:37.950 11295 11317 I k9      : Running Background command 'sendPendingMessages', seq = 298
03-04 14:59:37.955 11295 11317 I k9      : Background Command 'sendPendingMessages' completed
03-04 14:59:37.955 11295 11317 I k9      : Running Background command 'syncINBOX', seq = 299
03-04 14:59:37.965 11295 11317 I k9      : Synchronizing folder ron@GMail:INBOX
03-04 14:59:38.271 11295 11317 I k9      : Did not get capabilities in banner, requesting CAPABILITY for conn87053025
03-04 14:59:39.138 11295 11317 I k9      : Compression enabled for conn87053025
03-04 14:59:39.565 11295 11317 I SendBroadcastPermission: action:com.fsck.k9.intent.action.REFRESH_OBSERVER, mPermissionType:0
03-04 14:59:39.610 11295 11317 I k9      : Done synchronizing folder ron@GMail:INBOX
03-04 14:59:39.611 11295 11317 I k9      : Background Command 'syncINBOX' completed
03-04 14:59:39.611 11295 11317 I k9      : Running Background command 'sync[Gmail]/Entwürfe', seq = 300
03-04 14:59:39.635 11295 11317 I k9      : Synchronizing folder ron@GMail:[Gmail]/Entwürfe
03-04 14:59:39.946 11295 11317 I SendBroadcastPermission: action:com.fsck.k9.intent.action.REFRESH_OBSERVER, mPermissionType:0
03-04 14:59:40.002 11295 11317 I k9      : Done synchronizing folder ron@GMail:[Gmail]/Entwürfe
03-04 14:59:40.007 11295 11317 I k9      : Background Command 'sync[Gmail]/Entwürfe' completed
03-04 14:59:40.007 11295 11317 I k9      : Running Background command 'clear notification flag for ron@GMail', seq = 301
03-04 14:59:40.041 11295 11317 I k9      : Background Command 'clear notification flag for ron@GMail' completed
03-04 14:59:40.041 11295 11317 I k9      : Running Background command 'finalize sync', seq = 302
03-04 14:59:40.041 11295 11317 I k9      : Finished mail sync
03-04 14:59:40.043 11295 11317 I k9      : Background Command 'finalize sync' completed
```

---

And this is a portion, once I disconnected from wifi:

```
03-04 15:04:03.247 11295 11295 I k9      : CoreReceiver.onReceiveIntent { act=android.net.conn.CONNECTIVITY_CHANGE flg=0x4000010 cmp=com.fsck.k9/.service.BootReceiver (has extras) }
03-04 15:04:03.247 11295 11295 I k9      : BootReceiver.onReceiveIntent { act=android.net.conn.CONNECTIVITY_CHANGE flg=0x4000010 cmp=com.fsck.k9/.service.BootReceiver (has extras) }
03-04 15:04:03.253 11295 11295 I k9      : CoreService: com.fsck.k9.service.MailService.onCreate()
03-04 15:04:03.258 11295 11295 I k9      : CoreService: com.fsck.k9.service.MailService.onStart(Intent { act=com.fsck.k9.intent.action.MAIL_SERVICE_CONNECTIVITY_CHANGE cmp=com.fsck.k9/.service.MailService (has extras) }, 1)
03-04 15:04:03.258 11295 11295 I SendBroadcastPermission: action:com.fsck.k9.service.CoreReceiver.wakeLockRelease, mPermissionType:0
03-04 15:04:03.261 11295 11295 I k9      : MailService.onStart(Intent { act=com.fsck.k9.intent.action.MAIL_SERVICE_CONNECTIVITY_CHANGE cmp=com.fsck.k9/.service.MailService (has extras) }, 1), hasConnectivity = true, doBackground = true
03-04 15:04:03.264 11295 11295 I k9      : Got connectivity action with hasConnectivity = true, doBackground = true
03-04 15:04:03.264 11295 11295 I k9      : MailService.onStart took 5ms
03-04 15:04:03.273 11295 20314 I k9      : Committing preference changes
03-04 15:04:03.284 11295 20314 I k9      : Preferences commit took 11ms
03-04 15:04:03.284 11295 20314 I k9      : previousInterval = 120, shortestInterval = 120, lastCheckEnd = Fri Mar 04 11:57:13 GMT+01:00 2016, considerLastCheckEnd = true
03-04 15:04:03.284 11295 20314 I k9      : Next check for package com.fsck.k9 scheduled for Fri Mar 04 13:57:13 GMT+01:00 2016
```

In the last lines you see that it schedules for something in the past.

---

Shortly after this, k-9 is able to calculates 2hrs plus the current time:

```
03-04 15:04:05.227 11295 11295 I k9      : MailService.onStart(Intent { act=com.fsck.k9.intent.action.MAIL_SERVICE_WAKEUP cmp=com.fsck.k9/.service.MailService (has extras) }, 1), hasConnectivity = true, doBackground = true
03-04 15:04:05.227 11295 11295 I k9      : ***** MailService *****: checking mail
03-04 15:04:05.236 11295 11295 I k9      : MailService.onStart took 10ms
03-04 15:04:05.237 11295 20403 I k9      : Committing preference changes
03-04 15:04:05.240 11295 11295 I k9      : CoreService: com.fsck.k9.service.PollService.onCreate()
03-04 15:04:05.243 11295 11295 I k9      : CoreService: com.fsck.k9.service.PollService.onStart(Intent { act=com.fsck.k9.service.PollService.startService cmp=com.fsck.k9/.service.PollService (has extras) }, 1)
03-04 15:04:05.245 11295 11295 I k9      : PollService started with startId = 1
03-04 15:04:05.245 11295 11295 I k9      : ***** PollService *****: starting new check
03-04 15:04:05.245 11295 20403 I k9      : Preferences commit took 8ms
03-04 15:04:05.245 11295 20403 I k9      : previousInterval = 120, shortestInterval = 120, lastCheckEnd = Fri Mar 04 11:57:13 GMT+01:00 2016, considerLastCheckEnd = false
03-04 15:04:05.245 11295 20403 I k9      : Next check for package com.fsck.k9 scheduled for Fri Mar 04 17:04:05 GMT+01:00 2016
```

Dunno if this is expected to be this way.
"
k9mail/k-9,open,IMAP search with non-ASCII characters returns Remote Search Failed ,"[Label(name=""bug"")]","### Expected behaviour

Tell us what should happen
Search in Russian on IMAP server returns Remote Search Failed 
in English works fine (but should press twice to invoke it, would be better to have one click all mail search option, including old and unsynced) 
### Actual behaviour

Tell us what happens instead
server returns Remote Search Failed 
### Steps to reproduce
1. search in Russian 
   2.
   3.
### Environment

K-9 Mail version:
5.008
Android version:6.0

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Error with message count 0 in imap folders,"[Label(name=""bug"")]","### Expected behaviour

nothing (no error)
### Actual behaviour

```
03-03 11:54:12.420 E/k9      (22700): java.lang.Exception: Message count 0 for folder Drafts
03-03 11:54:12.420 E/k9      (22700):   at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:931)
03-03 11:54:12.420 E/k9      (22700):   at com.fsck.k9.controller.MessagingController.access$300(MessagingController.java:99)
03-03 11:54:12.420 E/k9      (22700):   at com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:754)
03-03 11:54:12.420 E/k9      (22700):   at com.fsck.k9.controller.MessagingController.run(MessagingController.java:257)
03-03 11:54:12.420 E/k9      (22700):   at java.lang.Thread.run(Thread.java:833)
```
### Steps to reproduce
1. build and install revision 150fc822c28dd43cd6667dbf792b3f74372f62cc
2. configure imap account
3. start k-9
### Environment

K-9 Mail version: revision 150fc822c28dd43cd6667dbf792b3f74372f62cc

Android version: 6 (Marshmallow)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Minor OpenPGP related things in compose interface,[],"this PR contains a couple of small changes to the compose ui:
- firstly, I decided against using key referencs after all. e-mail addresses are a perfect identifier, we can simply use those. (also updated in https://github.com/open-keychain/open-keychain/pull/1615 as well)
- I changed the icons a bit, introducing dots to give the user a frame of reference for the crypto status
- very minor fix, clicking the To/Cc/Bcc labels now focuses the respective text fields
- Fixed a small graphics glitch where the crypto status would be hidden if recipient tokens got too large
"
k9mail/k-9,closed,Add option to copy sender/recipient email addresses to clipboard,[],"Hi,
I add an option to copy email addresses from the message header to clipboard.
"
k9mail/k-9,closed,Serbian language not available,[],"Hi.

Serbian language is only available in [K-9 Mail v5.104 (alpha)](https://github.com/k9mail/k-9/releases/tag/5.104) release. No other consecutive alpha or stable releases have support for Serbian (it's not even on the drop-down list of languages in Global options->Display).
"
k9mail/k-9,open,Add support for Reply via voice input on Android Wear,"[Label(name=""enhancement"")]","See http://developer.android.com/training/wearables/notifications/voice-input.html
"
k9mail/k-9,closed,IOException while adding Office365 Exchange Account,"[Label(name=""invalid"")]","### Expected behaviour

When setting up an account for Exchange for an Office365 account, the setup should complete and add the account.
### Actual behaviour

Instead, after tapping ""Next"" at the ""Incoming server settings"" page, a message pops up that says ""Cannot connect to server. (IOException)"".
### Steps to reproduce

Note:  requires a Microsoft Office365 email account; the account that caused this bug in K-9 did not in the default Android email application.
1.  Manual setup when setting up a new email account
2.  Select Exchange (WebDAV)
3. Fill in details, as per the instructions [here](http://help.ic.utoronto.ca/content/85/1931/en/utmail-setup-for-android-4x.html).  In this case, I entered the exchange server to be outlook.office364.com.  It appears that there is no Domain\Username field in K-9, as there is in the tutorial, which may be of use(?)
### Environment

K-9 Mail version: 5.008

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): Exchange
"
k9mail/k-9,closed,Avoid ClassCastException in ImapResponseParser,[],"Explicitly throw with a bit more information.

Fixes #811 
"
k9mail/k-9,closed,"Allow import of ""future"" settings files",[],"We have strict input checking. So unknown/invalid settings will be ignored anyway.

This should make downgrades less painful.
"
k9mail/k-9,open,Add more logging to mail sync code,"[Label(name=""enhancement"")]","Add more logging to find out what could have caused e.g. issue #1124 
"
k9mail/k-9,open,Read messages keep changing status back to unread,"[Label(name=""bug"")]","### Expected behaviour

After I open and read an email, the status should remain unread and then sync with settings to poll every 15 minutes
### Actual behaviour

After I open and read an email, the status changes to read
But once the imap sync starts the status changes back to unread after polling
### Steps to reproduce

1.Launch K9 
2.View list of  emails and read one or more by tapping to open fully
3.Exit K9
4. Check K9 later and the previous read emails show as unread

If I read the messages on the server via outlook client on PC, the K9 client shows them as read messages, properly from that point forward
### Environment

K-9 Mail version:  5.008

Android version:
Marshmellow
LG G4

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP settings but Activesync is used on servers

Note: This occurred about a week ago.
I exported settings
Deleted K9 from phone
Downloaded new version from Play store
Imported settings
K9 functioned perfectly for about a week but problem returned today.
"
k9mail/k-9,closed,does not save attachments to external sd card on sony z5,"[Label(name=""invalid"")]","### Expected behaviour

should save attachment to storage/sdcard1/mail folder
### Actual behaviour

unable to save attacment message appears
### Steps to reproduce
1. settings / miscellaneous / save attachements to 
2. ""storage/sdcard1/mail"" 
3. open mail click save on attachment. error will appear

""storage/sdcard0/mail""  works
### Environment

K-9 Mail version: 5.008

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange):
all
"
k9mail/k-9,closed,Issue 1089 - Adding warning on no subject,[],"Hi, as suggest the issue https://github.com/k9mail/k-9/issues/1089 , I add a unintrusive warning (Toast) on no subject. 
"
k9mail/k-9,open,Support search in recipient addresses,"[Label(name=""enhancement"")]","When I search my inbox for, let's say, `current@freebsd` mails with `current@freebsd.org` in CC won't show up.
With lists were cross-posting is rather common this is a bit annoying.
"
k9mail/k-9,closed,Cancel notification when viewing a message,[],"Fixes #1110 
"
k9mail/k-9,closed,all inbox email suddenly disappeared on multiple devices,"[Label(name=""invalid"")]","### Expected behaviour

Tell us what should happen
Emails should remain on device until deleted
### Actual behaviour

Tell us what happens instead
Emails suddenly disappear
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version: 5.008

Android version: 5.1

Account type (IMAP, POP3, WebDAV/Exchange): POP 3
"
k9mail/k-9,closed,Mails not synching,[],"### Expected behaviour

When new mails arrive in the (IMAP) inbox, they should show up in K-9 Mail.
### Actual behaviour

New Mails do not appear. In this example there is a total of 26 mails in the inbox. Which is correctly detected by K-9 Mail. 3 of the messages are already present (and visible) in the app. However the app does not proceed to fetch the remaining 23 mails.

Debug log:

D/k9      (30364): Got untagged EXISTS with value 26 for snip:INBOX/MessagingController/conn1121390160
V/k9      (30364): SYNC: Remote message count for folder INBOX is 26
V/k9      (30364): SYNC: About to get messages 1 through 26 for folder INBOX
V/k9      (30364): conn1121390160>>> 28 UID SEARCH 1:26 NOT DELETED

V/k9      (30364): conn1121390160<<<#null# [SEARCH, 1, 3968, 5518, 5595, 5938, 5939, 5940, 5941, 5942, 5943, 5944, 5945, 5946, 5947, 5948, 5949, 5950, 5951, 5952, 5953, 5954, 5955, 5956, 5957, 5958, 5959]
V/k9      (30364): conn1121390160<<<#28# [OK, SEARCH done.]
V/k9      (30364): SYNC: Got 26 messages for folder INBOX
V/k9      (30364): LockableDatabase: Transaction ended, took 0ms / com.fsck.k9.mail.store.LocalStore$LocalFolder.destroyMessages(LocalStore.java:2442)
V/k9      (30364): Message with uid 5518 is present in the local store
V/k9      (30364): Message with uid 3968 is present in the local store
V/k9      (30364): Message with uid 1 is present in the local store
D/k9      (30364): SYNC: Have 0 unsynced messages
D/k9      (30364): SYNC: Have 0 large messages and 0 small messages out of 0 unsynced messages
D/k9      (30364): SYNC: Fetching small messages for folder INBOX
D/k9      (30364): SYNC: Done fetching small messages for folder INBOX
D/k9      (30364): SYNC: Fetching large messages for folder INBOX
D/k9      (30364): SYNC: Done fetching large messages for folder INBOX
D/k9      (30364): SYNC: About to sync flags for 3 remote messages for folder INBOX
V/k9      (30364): conn1121390160>>> 29 UID FETCH 5518,3968,1 (UID FLAGS)

V/k9      (30364): conn1121390160<<<#null# [3, FETCH, [UID, 5518, FLAGS, [\Seen]]]
V/k9      (30364): Stored uid '5518' for msgSeq 3 into map 
V/k9      (30364): conn1121390160<<<#null# [2, FETCH, [UID, 3968, FLAGS, [\Seen]]]
V/k9      (30364): Stored uid '3968' for msgSeq 2 into map 
V/k9      (30364): conn1121390160<<<#null# [1, FETCH, [UID, 1, FLAGS, [\Seen]]]
V/k9      (30364): Stored uid '1' for msgSeq 1 into map 
V/k9      (30364): conn1121390160<<<#29# [OK, FETCH completed.]
D/k9      (30364): SYNC: Synced remote messages for folder INBOX, 0 new messages
### Steps to reproduce
1. Receive new mails
2. Delete some mails
3. Try to receive more new mails
### Environment

K-9 Mail version: 5.008

Android version: 4.4.4

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"Feature Request: Add an ""Exit""/close/kill app', function.  For battery current drain, et cetera.","[Label(name=""duplicate"")]","Issues, #1066 & #1086 & possibly others, point to a high battery drain, when in poor signal, no signal, or even in ""Airplane Mode"" with the radios off. 

Until a manual, or automatic method is given, to stop all sync, or ""refresh"" of connections, in poor/no connectivity; there should be a function to down K-9.

It might be otherwise useful, and is a good diagnostic procedure.

It would be far more convenient and quick, from within the app', and conducive to relaunching K-9, when conditions permit.
"
k9mail/k-9,closed,feature request: mutt style alias file,[],"An alias file (not necessarily populated by k9) similar to that used by mutt would be referenced when autocompleting email addresses.

this would be a nice stepping stone to the smarter autocomplete feature requests.

love k9! gave it 5 stars on the play store.
"
k9mail/k-9,closed,Update KolabNow (MyKolab) settings,[],
k9mail/k-9,open,Feature request: Add additional TO: or CC: email addresses to contacts,"[Label(name=""enhancement"")]","In the current version I can only click on the _FROM:_ email or name to get the option to add it to my contacts list. If I get an email starting a conversation with some additional _TO:_ or _CC:_ recipients which are not yet stored in my contacts it would be great if I could add them to my address book as easily as the sender of the email, just by clicking on the names or email addresses.
"
k9mail/k-9,open,Feature request: Show both real name *and* email address,"[Label(name=""enhancement"")]","In the current version you can only configure ti show either a correpondent's real name **or** his email address.
https://github.com/k9mail/k-9/wiki/Manual-GlobalSettings#show-correspondent-names

Many of my contacts use different email addresses. If they write from an email address which is not yet stored in the contact information then a saved contact can't be assigned and displayed, so it would be good to see the email address, and add it to the saved contact. Unless the email address is somehow related to the real name it's not easy to see who has sent the email.

On the other hand, I've recently received a couple of emails with a well-known real name, but a faked email address, If I only see the real name of an email containing a link to a web page I could easily assume this has been sent by a known person, and click on that link. However, if I can see the email address which is obviously not related to real name I can easily identify the email as phishing or spam.

So I'd really prefer to see both the real name **and** email address in the email list view as well as when the individual email is displayed.
"
k9mail/k-9,closed,How to delete suggested addresses when composing new email,"[Label(name=""invalid"")]","### Expected behaviour

Tell us what should happen
When K-9 makes suggestions for email addresses during typing in addressees, old ones should time out or user should be able to delete the ones that show up.
### Actual behaviour

Tell us what happens instead
Out-of-date addresses (even from folks dead several years) show up every time I begin to enter similarly spelled addressees' names
### Steps to reproduce

1.Begin to create a fresh email
2.Type in an address
3.
### Environment

K-9 Mail version:
5.000
Android version:
Kindle Fire HD 8.5.1
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,Feature request: different SMTP for each identity,"[Label(name=""enhancement"")]","Is there any possibility to add a feature to have different SMTP server for each identify in account?
I'm using this in Thunderbird, will be nice to have it also on tablet with K9
"
k9mail/k-9,open,Display *one* notification while refreshing,"[Label(name=""enhancement"")]","### Steps to reproduce
1. IMAP account with multiple folders
2. Pull to refresh messages in ""unified inbox"" or elsewhere
### Actual behaviour

The android notification bar escalates, because there appear notifications and the they dissapear while others appear...
### Expected behaviour

One notification should appear with a progress bar and the text should be adapted to display the folder which is currently updating if possible.
### Environment
- K-9 Mail version: 5.008 (but this issue belongs to every version I used in the recent years)
- Android version: Omnirom 6.0.1
- Account type: 3*IMAP
"
k9mail/k-9,open,"Crash on tabbing ""empty trash""","[Label(name=""needs info"")]","### Expected behaviour

On tabbing ""empty trash"" the app should empty the trash in background and the ui should work fluidly.
### Actual behaviour

The app freezes completely and one have to stop it and restart it
### Steps to reproduce
1. Delete messages
2. Tab ""empty trash""
### Environment
- K-9 Mail version: 5.008 (but I can't remember a version of k9mail which didn't had this issue)
- Android version: Omnirom 6.0.1
- Account type: 3 IMAP accounts
"
k9mail/k-9,open,Unified & All Messages inboxes not updating,"[Label(name=""needs info"")]","### Expected behaviour

When I tap Unified Inbox or All messages, I expect to see recent emails, updating dynamically
### Actual behaviour

As of Feb 19th, around 6 PM PST, I stopped seeing new emails in either Unified Inbox or All messages, and have to go to my individual mailboxes to see new mail. I have 4 mailboxes.
### Steps to reproduce
1. Start K-9 in Unified Inbox
2. Observe that no new emails have appeared, despite their presence in individual mailboxes

I have restarted the app several times. I have restarted the phone several times. I have not uninstalled the app, nor done a hard restart and restore from backup. I'd like to avoid both if possible. I've also deleted emails from all accounts.
### Environment

K-9 Mail version:5.008

Android version: 5.1 on Moto X (2013) system 222.26.7.ghost_verizon.Verizon.en.US

Account type (IMAP, POP3, WebDAV/Exchange): all IMAP
"
k9mail/k-9,closed,It doesn´t recognize the folders created with thunderbird in my email,"[Label(name=""invalid"")]","I have my gmail account organized with different folders manually created in thunderbird. For example, a 2015 folder, with home, travels, ... folders inside it. I move a lot of emails there, and they appear in the gmail.com webpage as labels. 
### Actual behaviour

This folders doesn´t appear in K9 mail, the same as the emails that are inside them are missing even with the search option. 
### Expected behaviour

The folders should appear with the emails that are inside them when you explore the folders, like drafts or sent, and the emails should be reachable when you search them with the search option.
### Environment

K-9 Mail version: 5.008 

Android version: 6.0.1 Cyanogenmod

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,K9 crashes when compose action,"[Label(name=""needs info"")]","### Expected behaviour

switch to MessageCompose Activity
### Actual behaviour

the app can`t work
### Steps to reproduce

click compose_action,then the app broken.
### Environment

K-9 Mail version:
V5.008
Android version:
SAMSUNG GT-I9300 Android 4.1.1
Account type (IMAP, POP3, WebDAV/Exchange):
POP3
[MessageCompose](https://github.com/k9mail/k-9/blob/2a8b8555e70052abceafb4358918ff9aad4c50fc/k9mail/src/main/java/com/fsck/k9/activity/MessageCompose.java#L482)
`FATAL EXCEPTION: main
                                                           java.lang.RuntimeException: Unable to start activity ComponentInfo{com.fsck.k9/com.fsck.k9.activity.MessageCompose}: android.util.AndroidRuntimeException: requestFeature() must be called before adding content
                                                               at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2100)
                                                               at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2125)
                                                               at android.app.ActivityThread.access$600(ActivityThread.java:140)
                                                               at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1227)
                                                               at android.os.Handler.dispatchMessage(Handler.java:99)
                                                               at android.os.Looper.loop(Looper.java:137)
                                                               at android.app.ActivityThread.main(ActivityThread.java:4898)
                                                               at java.lang.reflect.Method.invokeNative(Native Method)
                                                               at java.lang.reflect.Method.invoke(Method.java:511)
                                                               at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1006)
                                                               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:773)
                                                               at dalvik.system.NativeStart.main(Native Method)
                                                            Caused by: android.util.AndroidRuntimeException: requestFeature() must be called before adding content
                                                               at com.android.internal.policy.impl.PhoneWindow.requestFeature(PhoneWindow.java:265)
                                                               at android.app.Activity.requestWindowFeature(Activity.java:3301)
                                                               at com.fsck.k9.activity.MessageCompose.onCreate**(MessageCompose.java:527)**
                                                               at android.app.Activity.performCreate(Activity.java:5184)
                                                               at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1083)
                                                               at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2064)
                                                               at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2125) 
                                                               at android.app.ActivityThread.access$600(ActivityThread.java:140) 
                                                               at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1227) 
                                                               at android.os.Handler.dispatchMessage(Handler.java:99) 
                                                               at android.os.Looper.loop(Looper.java:137) 
                                                               at android.app.ActivityThread.main(ActivityThread.java:4898) 
                                                               at java.lang.reflect.Method.invokeNative(Native Method) 
                                                               at java.lang.reflect.Method.invoke(Method.java:511) 
                                                               at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1006) 
                                                               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:773) 
                                                               at dalvik.system.NativeStart.main(Native Method) `
"
k9mail/k-9,closed,Certificates still broken,"[Label(name=""invalid"")]","Full discussion with patch. This only recently became an issue for me, I guess Dreamhost changed something. Possibly this was fixed but became unfixed. 

https://code.google.com/archive/p/k9mail/issues/3976
"
k9mail/k-9,closed,Notification stays after reading e-mail,"[Label(name=""bug"")]","### Expected behaviour

Notification disappears after reading an e-mail.
### Actual behaviour

The notification stays after reading the e-mail, when the e-mail was received by refreshing the inbox out of the inbox.
### Steps to reproduce
1. Go to the inbox, where you expect to get an e-mail in.
2. Refresh the inbox, so you receive the e-mail.
3. Click on the new e-mail to read it.
4. (optional) Go back to the inbox by any back button. You see the e-mail is definitely marked unread.
5. Press the home button to leave K-9.
### Environment

K-9 Mail version: 5.008

Android version: 5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,"Samsung Galaxy S6 Plus - Messages in ""Sent"" folder only show sender name, who of course always is myself. ","[Label(name=""invalid"")]","### Expected behaviour

Tell us what should happen
### Actual behaviour

Tell us what happens instead
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):
"
k9mail/k-9,closed,Refactor database migrations,[],"Avoid creating another class with 5000+ lines by breaking apart the database migration code.
"
k9mail/k-9,closed,"Attachment lost, body looks strange","[Label(name=""wontfix"")]","### Expected behaviour

See a PDF.
### Actual behaviour

No attachment, incomplete quoted-printable decoding (in the body are few ""=20"").
Google's mailer works with this mail!
### Steps to reproduce

1.
2.
3.
### Environment

K-9 Mail version:
5.008?
Android version:
4?
Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,closed,Added GNU email provider,[],"Provider information: https://www.fsf.org/about/systems/sending-mail-via-fencepost
Don't know how to specify it, but only ""encrypted"" passwords are supported.
"
k9mail/k-9,closed,K-9 not secure enough for gmail ,"[Label(name=""duplicate""), Label(name=""security"")]","When I try to use my G-mail with K-9 Gmail rejects it for not being a secure app and would leave my gmail vulnerable 

https://gyazo.com/371aa633a7efa4be4f705cd61a5c1dd2
K-9 Mail version: 5.008

Android version: 5.0.2

Account type (IMAP, POP3, WebDAV/Exchange): gmail
"
k9mail/k-9,closed,How to include unread count in K9 icon? - unread widget,"[Label(name=""wontfix"")]","I hope you guys can include unread count in K9 icon, like an unread widget but included in k9 mail options, that would be great, please if somebody have any idea how to do this, please let me know
"
k9mail/k-9,open,'more to this recipient' in sent folder,"[Label(name=""enhancement"")]","Being in the 'sent' folder, I would love to have a quick way to list all emails which went to one recipient, just like the 'more from this sender'-button. Something like 'more to this recipient' would come really handy in my eyes.
"
k9mail/k-9,closed,Don't implement SharedPreferences interface to store settings,[],"This is mostly to make Lint happy.
"
k9mail/k-9,closed,Feature Request Tasker integration to fetch email,[],"I would like to see a feature in K-9 to allow me to use ""Tasker"" to check a specific account email.

Scenario is : 
Go to work attach to work wifi, Tasker recognizes we are at work based on Access point and starts periodically checking for email for just the work email account.

Same scenario at home. Let Tasker check for home email while at home.

This is allows better security as it only is trying to check my accounts in the appropriate networks and not just any ole wifi I connect too.

Also this is a great app, thanks for all the work that has been put into it.
"
k9mail/k-9,closed,Failed to export settings,"[Label(name=""bug"")]","### Expected behaviour

Export settings to local file
### Actual behaviour

""Failed to export settings""

02-16 17:18:34.093 I/k9      (10989): Exporting preferences  
02-16 17:18:34.133 W/k9      (10989): Exception during export  
02-16 17:18:34.133 W/k9      (10989): com.fsck.k9.preferences.SettingsImportExportException:  
com.fsck.k9.preferences.SettingsImportExportException: Not a valid transport URI  
02-16 17:18:34.133 W/k9      (10989):   at com.fsck.k9.preferences.SettingsExporter.exportToFile(SettingsExporter.java:99)  
02-16 17:18:34.133 W/k9      (10989):   at com.fsck.k9.activity.Accounts$ExportAsyncTask.doInBackground(Accounts.java:1949)  
02-16 17:18:34.133 W/k9      (10989):   at com.fsck.k9.activity.Accounts$ExportAsyncTask.doInBackground(Accounts.java:1926)  
02-16 17:18:34.133 W/k9      (10989):   at android.os.AsyncTask$2.call(AsyncTask.java:288)  
02-16 17:18:34.133 W/k9      (10989):   at java.util.concurrent.FutureTask.run(FutureTask.java:237)  
02-16 17:18:34.133 W/k9      (10989):   at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)  
02-16 17:18:34.133 W/k9      (10989):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)  
02-16 17:18:34.133 W/k9      (10989):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)  
02-16 17:18:34.133 W/k9      (10989):   at java.lang.Thread.run(Thread.java:841)  
02-16 17:18:34.133 W/k9      (10989): Caused by: com.fsck.k9.preferences.SettingsImportExportException: Not a valid transport URI
02-16 17:18:34.133 W/k9      (10989):   at com.fsck.k9.preferences.SettingsExporter.exportPreferences(SettingsExporter.java:164) 
02-16 17:18:34.133 W/k9      (10989):   at com.fsck.k9.preferences.SettingsExporter.exportToFile(SettingsExporter.java:94)  
02-16 17:18:34.133 W/k9      (10989):   ... 8 more  
02-16 17:18:34.133 W/k9      (10989): Caused by: java.lang.IllegalArgumentException: Not a valid transport URI  
02-16 17:18:34.133 W/k9      (10989):   at com.fsck.k9.mail.Transport.decodeTransportUri(Transport.java:43)  
02-16 17:18:34.133 W/k9      (10989):   at com.fsck.k9.preferences.SettingsExporter.writeAccount(SettingsExporter.java:257)  
02-16 17:18:34.133 W/k9      (10989):   at com.fsck.k9.preferences.SettingsExporter.exportPreferences(SettingsExporter.java:155) 
02-16 17:18:34.133 W/k9      (10989):   ... 9 more                                                                               
### Steps to reproduce
1. Try to export settings
   2.
   3.
### Environment

K-9 Mail version: 5.008
Android version: Nexus 7 2013  v4.4 / rooted
Account type (IMAP, POP3, WebDAV/Exchange): N/A
"
k9mail/k-9,closed,How To Donate?,[],"Hi

K9 is the most awesome email client on Android! Do you seek donations?

thx!
"
k9mail/k-9,closed,Refactor ImapStore,[],"This is a first step to make the IMAP code easier to test.

I know this is a huge pull request. But even cursory glances help. Every bit of feedback is welcome.
"
k9mail/k-9,open,Messages turn blank when opened while doing imap server search,"[Label(name=""bug"")]","When doing a server-side imap search, while search results are being loaded and the search is ongoing, if you click on one of the search resuts, it usually opens a blank screen instead of the message (presumably because the server can't take two connections at the same time while searching?).

Something similar also happens while k9 is downloading new emails from the server and when you click on a message where the header has been retrieved but not the body. 

If you try to open the same un-downloaded message several times, sooner or later the message will turn into a complete blank subject line and sender, that you can never open again from k9 (without flushing the cache, etc), even after all messages have downloaded.

Not sure if this is fixable or simply a problem with IMAP protocols, but thought would flag it here anyway in case it's something easy to fix. 
"
k9mail/k-9,closed,Possible to do a progress bar for attachment downloads?,"[Label(name=""duplicate"")]","I'm not sure if it's technically possible due to IMAP specifications, etc, but is it possible to create a download progress bar in % or so, to enable users to see how far along a large attachment download has come?

Occasionally, when on patchy data connections, you kind of have to guess whether a large attachment is still downloading, or if it's maybe got stuck, since there's no indication if the download is continuing or has stalled. 
"
k9mail/k-9,open,Starred messages filter / feature,"[Label(name=""enhancement"")]","Now this is not technically a bug, but more of a UX issue / feature.

The Global Settings / Show Stars option works as it should, in that it disables or enables 'stars' or 'flags' in the message list pane.

However, it also enables / disables the star icon in the folder list pane, which filters the messages to only show starred messages.

My problem with that functionality is the following: I like being able to see dozens of messages at once in the message list pane, by decreasing font-size and putting sender and subject on one line (and disabling message preview lines to 0). However, if stars are enabled, they always take up 2 lines, irrespective of the other settings.

Either of the following two fixes for this problem would be amazing to me:
1. Always retain the option in the folder list to view only starred items, or
2. Create 2 separate options to allow control of 'view stars' in list, folder view, or both,
3. Reduce the size of the star icon in the message list view so it doesn't take up so much space if message_preview = 0, 

I know it's a small niggle that might not bother many others, but I love k-9 and this would make it even better!

Great work all around in any case, A class email app!
"
k9mail/k-9,closed,Missing folder ,"[Label(name=""invalid"")]","On my IMAP server I have an folder which is missing on my k9mailfolderlist. How can I fix this? 
"
k9mail/k-9,closed,add a per folder option to force which correspondent is displayed in message list,[],"Proposal for this option:
- auto [default]
- sender
- recipient(s) (TO)
- both

Explanation:
I have a custom sent folder configured which i use with different sender addresses and it's quite annoying that the sender is displayed in the sent folder's message list instead of the recipient.
"
k9mail/k-9,closed,Allow import of settings exported by newer version of the app,"[Label(name=""enhancement"")]","Currently we don't import settings files with a settings version number higher than our own. That means users often run into trouble when downgrading.
Since we do strict input validation and discard unknown/invalid settings it shouldn't be a problem to allow the import of settings from a newer K-9 Mail version.
"
k9mail/k-9,closed,Fix/ignore some lint warnings,[],
k9mail/k-9,closed,Add some java doc in first activity opening,[],"Hello i 'm a student from french university. I work for open Dev with
my group. (open dev is a class room for programmation)
I add some java doc in the first activity for more understanding what
arrive when the app was lunch for the first time. Or when we want add a
new mail account.
"
k9mail/k-9,closed,Option to warn on no subject ,"[Label(name=""enhancement"")]","It would be nice to have an option which would pop up a warning if message being sent has no subject.  

While there may be occasions where no subject is what you want,  it is generally considered bad form.  I rarely do it,  but occasionally happens when in a rush to get the email out before I get to my stop when on public transit.  Kinda embarrassing. 
"
k9mail/k-9,open,Feature Request: scheduled synchronization,"[Label(name=""enhancement"")]","I would love the function to set a period for disabling the synchronization of my mails. So for example get no mails at night.
With best regards
Erik
"
k9mail/k-9,closed, error: ssl=0x999293c0:,[],"K9-Mail version: 5.006
Device make: asus
Device model: Nexus 7
Android version: 6.0.1

javax.net.ssl.SSLException: Read error: ssl=0x999293c0: I/O error during system call, Connection timed out
    at com.android.org.conscrypt.NativeCrypto.SSL_read(Native Method)
    at com.android.org.conscrypt.OpenSSLSocketImpl$SSLInputStream.read(OpenSSLSocketImpl.java:705)
    at java.io.InputStream.read(InputStream.java:162)
    at java.util.zip.InflaterInputStream.fill(InflaterInputStream.java:194)
    at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:153)
    at java.io.InputStream.read(InputStream.java:162)
    at java.io.BufferedInputStream.fillbuf(BufferedInputStream.java:149)
    at java.io.BufferedInputStream.read(BufferedInputStream.java:234)
    at com.fsck.k9.mail.filter.PeekableInputStream.peek(PeekableInputStream.java:34)
    at com.fsck.k9.mail.store.ImapResponseParser.readResponse(ImapResponseParser.java:42)
    at com.fsck.k9.mail.store.ImapResponseParser.readResponse(ImapResponseParser.java:29)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.readStatusResponse(ImapStore.java:2775)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.executeSimpleCommand(ImapStore.java:2925)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.executeSimpleCommand(ImapStore.java:862)
    at com.fsck.k9.mail.store.ImapStore$ImapFolderPusher$1.run(ImapStore.java:3151)
    at java.lang.Thread.run(Thread.java:818)
"
k9mail/k-9,closed,High battery consumption (request: disable sync on low radio signal?),"[Label(name=""enhancement"")]","Hey there,

I am a long time K9 user which is using K9 for almost 5 years now. Everything is working perfectly except one thing: Battery consumption is way too high when K9 is just running in the backround.

I am running 2x gmail push accounts + 2x own-mail-server imap accounts on a Nexus 6 (previously Nexus 4 and HTC Desire HD).

On my large Nexus 6 screen 2hours of ""screen on time"" is consuming as much or sometimes less battery than K9 which would run in the backround. 
On my Nexus4, K9 would sometimes completely drain the battery within 1 hour.

My guess is that K9 is using so much battery because of low radio signals or being not connected to HSDPA?

I tried creating a tasker script which would disable android auto-sync (which also stops auto-sync + push in K9) when the radio signal is low for a certain amount of time and only reactivate it when the signal is good again for a certain amount of time.

Battery consumption is still high but better than before so I am wondering if K9 could get this feature out-of-the-box?

I don't know what other ways are possible to minify battery consumption but K9 is, just right now as I am writing here, still using 1% more battery than my screen would use in those 30-40mins of writing (I am connected to WiFi at home or have full HSDPA+ signal while driving in thr car).

For troubleshooting:
I re-installed K9 several times (also on several devices). 

Sizes of e-mail accounts (if relevant):
Gmail push #1: 114MB
Gmail push #2: 6MB
Own mail server imap #1: 331kb (syncs every 10 mins)
Own mail server imap #2: 3MB (syncs every 10 mins)

Thanks in advance !
"
k9mail/k-9,closed,exported settings from v5.107 (alpha) cannot be imported into v5.007 ff,[],"Trying to import exported settings from v5.107 (alpha) into v5.007 leads to ""Import failed | Failed to import any settings from primary:com.fsck.k9/settings.k9s"". Reinstalling v5.107 imports fine. Any changes in export/import format?
"
k9mail/k-9,closed,"attempting to open a .ics attachment , crashes the resident calendar.",[],"### Expected behaviour

From an email in K9, Click open for the .ics attachment.  
(the .ics is from my office, where they generate the calendar events from an outlook office calendar).
I would than choose  ""Calendar"" , and than I would have have a window in the resident default calendar app with the calendar event and can work with the calendar event and save it to a particular calendar account and add alarms and such. This was working correctly for about a year.
### Actual behaviour

Now, after 1 or two K9 updates (started being a problem a few months ago IIRC)... was hoping the latest update would fix the problem, but it did not.

After clicking on ""Calendar"", I get an OS window that says "" Unfortunately, Calendar has stopped.""
### Steps to reproduce
1. Send an outlook generated .ics to an email account in K9.
2. In the email, Click ""Show attachments"" , than ""more"" if need be, than click ""Open"".
3. Select ""Calendar"".
   At this point I get the OS message window "" Unfortunately, Calendar has stopped. ""
   I am using the Calendar that comes with my phone / OS, not a 3rd party downloaded calendar.
### Environment

K-9 Mail version: 5.008

Android version: 
Galaxy 6 model SM-G920V
OS: 5.1.1
kernel 3.10.61

Account type (IMAP, POP3, WebDAV/Exchange):  POP3
"
k9mail/k-9,closed,K9 fails when using WiFi,[],"The latest version 5.008 has a problem with sending and receiving emails when using WiFi.  Everything works correctly when I shut off WiFi and only use data.  Version 5.007 did not have that problem.  Please investigate and resolve this problem.  Thank you.
"
k9mail/k-9,closed,improve handling if crypto provider is not available,[],"This improves handling of error states in the compose dialog, allowing the user to retry if the connection to the crypto provider fails and displaying error messages for various error states. Fixes #1050, among other things. I'm still not 100% happy with the error handling, but this should be okay for a beta release.

Requires a recent version of the OpenKeychain external-provider branch to work! (https://github.com/open-keychain/open-keychain/pull/1615)
"
k9mail/k-9,closed,anchor pgp inline message matching to beginning of message,[],"simple workaround fix for #807. this behavior will be redone sooner or later so I just fixed the method in OpenPgpUtils.
"
k9mail/k-9,closed,reply quotes encryptes text,"[Label(name=""duplicate"")]","Using k9 with openkeychain has a problem.
Viewing and encrypted email (which is shown as decrypted in view mail screen) and replyingto that mail results in k9 quoting the encrypted version of the original mail instead of the decrypted text.

This is wrong. 
"
k9mail/k-9,closed,Opening no-more-existent mail crashes K9,"[Label(name=""bug""), Label(name=""needs info"")]","Did delete a Mail from my IMAP account while my device running K9 had no internet connection. Then (once the device was connected to the internet again) tried to open this Mail => Crash.

Might this be the root cause of Bug #814?
### Expected behaviour

If I try to open a no-more existing mail I would expect to be returned to the current thread and, if the current thread does no more exist, as well, to the inbox.
### Actual behaviour

K9 sometimes (about 10% of the time) crashes
### Steps to reproduce
1. Use an IMAP account 
2. Make sure that K9 cannot see immediately that an e-mail has been deleted
3. Delete an E-Mail from outside K9
4. Try to open this E-Mail using K9.
### Environment

K-9 Mail version:

Android version:

Account type (IMAP, POP3, WebDAV/Exchange):

Thanks a lot,
and kind regards,

```
 Gunter
```
"
k9mail/k-9,closed,Cannot terminate application,"[Label(name=""invalid"")]","There is no way to simply end K9. This function is needed to:
1. Prevent unwanted network use
2. Prevent the battery drain when not needed

Great, app, but having to use the clunky android settings to terminate the app is a big downer.
"
k9mail/k-9,closed,Message body not displayed,"[Label(name=""duplicate"")]","I know there was an issue with this fixed in 5.005? I've got a nexus 5x running Android 6.0.1, and message bodies aren't displayed no matter what settings I tweak.
"
k9mail/k-9,closed,Update README.md,[],"It may be useful to add a few details to the app description.
I based my change on the description currently found at https://f-droid.org/repository/browse/?fdid=com.fsck.k9
"
k9mail/k-9,closed,Unable to access courier imap ssl server on Android 6,"[Label(name=""invalid"")]","I cannot fetch mail from my courier imap ssl server from k9mail on Android 6. it worked on Android 5.1. I have made no changes to the settings, which are:

Security: SSL/TLS
Port: 993
Authentication: Normal password
Auto-detect IMAP namespace

The server has a self signed SSL certificate which has not expired.

This happened on both my Nexus 7 tablet and my Moto X play.
"
k9mail/k-9,open,Resync messages on UIDVALIDITY changes (IMAP),"[Label(name=""bug"")]","When the UIDVALIDITY value of a folder changes all previous UIDs are invalid. We currently don't handle this situation. The easiest way would be to throw away all messages and redownload.

Servers don't usually change the UIDVALIDITY value which is why this is rarely an issue. But e.g. changing from one server to another will cause problems.
"
k9mail/k-9,closed,No notifications after changing email server,[],"I don't receive notifications of new email after I changed my email server address of an existing account. I have used k9 well over a year with the old server without any issues.

I have tried turning off notifications and then back on again and this didn't help.

I don't really want to delete the account from k9 and set it up again as I have a lot of email that would need syncing up.

New emails appear in my inbox, there doesn't appear to be any issue when syncing email, it doesn't feel like an issue with my new email server.
"
k9mail/k-9,closed,Incompatibility with Android System WebView 49,[],"With Android System WebView 49.0.2623.34 present in the Android System, K-9 does not show the content of mails anymore, only a blank page.

I tested this on the Samsung G900F and the Sony SGP612.

Android System WebView 48.0.2564.99 does work fine on both devices.

I'm using K-9 version 5.007.

More Information on this:
http://www.android-hilfe.de/thema/k-9-zeigt-seit-ein-paar-tagen-keine-nachrichteninhalte-mehr-an.751132/
https://code.google.com/p/chromium/issues/detail?id=552398&au_id=1498911 (post #45)
"
k9mail/k-9,closed,"Folder Poll Frequency ""Never"" still polls regularly","[Label(name=""invalid"")]","I have one account/mailbox that I only want to read occasionally in K-9 Mail, 
so I set Folder Poll Freqency (under the options for Fetching) to ""Never"".

However, it appears this account/mailbox is still checked regularly.

This is with version 5.007 on a Samsung Galaxy S4 mini.
"
k9mail/k-9,closed,Add option to copy sender/recipient email addresses to clipboard,"[Label(name=""enhancement"")]","May you implement a copy funktion to the email adress? Currently there is only the possibillity to add the email to the contacts.
"
k9mail/k-9,closed,Print support,"[Label(name=""duplicate"")]","Please implement printing a Message via standard Android printing API.
"
k9mail/k-9,closed,message threading: include 'sent' mail,"[Label(name=""duplicate"")]","I've just been viewing a message thread, both in a folder & in 'all messages', and I see only received mail, not the complete thread including my messages. 
In this particular thread it didn't matter because my messages were quoted in the received messages, but this isn't always the case.
"
k9mail/k-9,closed,K9-Mail fails emailprivacytester.com Meta-refresh test - data is being leaked.,"[Label(name=""duplicate"")]","### Expected behaviour

If the user receives an email from emailprivacytester.com and opens it, no information should leak to the service.
### Actual behaviour

A webpage is opened and the ""meta-refresh"" remote tracker is triggered. This can allow an attacker to load a malicious webpage.

The meta-refresh tag puts the following into the html <head>:
<meta http-equiv=""Refresh"" content=""1; URL=http://TRACKING_URL/"">

My result:
https://emailprivacytester.com/e72483a201897d0b
### Steps to reproduce
1. Go to emailprivacytester.com and enter your email address.
2. Open the email in K9-mail
3. Look at the test webpage on your PC and see that the meta-refresh test failed.
### Environment

K-9 Mail version: 5.107

Android version:5.1.1

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,open,Optimize power consumption in situations with intermittent/bad connectivity,"[Label(name=""enhancement"")]","Hi,

many people, also me, are struggeling with a high battery usage of K-9 (in my case at the end of the day 36% left, and in total 20% battery usage claimed by K-9). But there was no real solution.

During time I think it's a problem with syncing with a bad or no internet connection. If my phone has a good cell connection or often WLAN, the consumption by K-9 is really low. And if the connection is bad (only EDGE, or sometimes nothing) it increases dramatically (dum-dum-dum).

So I would suggest lower timeouts for syncing and detection of a bad connection. An option I would love (maybe as workaround) would be to disable syncing with a bad connection (EDGE or GPRS).

Greetings & keep up the good work,
Flip
"
k9mail/k-9,closed,K9 crashes when 15+ folders exist,"[Label(name=""bug""), Label(name=""needs info"")]","I have a Samsung Galaxy Note 3, running Android 5.0 and K9 5.007. If I set K9 to pull my IMAP folder list, just 1st class standard folders, everything is fine. If I have it set to 1st and 2nd, which loads between. 15 and 20 folders, K9 always crashes. It's not even downloading the folders' contents, just the folder names themselves at that point.
"
k9mail/k-9,closed,"Replies should send from the identity that matches the ""To"" address in original email",[],"I have multiple identities set up that all forward to the same account. Let's call them tyler@one.com and tyler@two.com (default):
1. Receive email addressed to tyler@one.com
2. Hit ""Reply All""

Actual behavior: Reply ""From"" address is tyler@two.com, because it's set as my default. Also, the tyler@one.com is in the recipients list, since it's a Reply All.

Expected: Reply ""From"" address should be the address that the original email was addressed to: tyler@one.com. Also, that address should not appear in the recipients list.
"
k9mail/k-9,closed,Wrong image showing in e-mail body,"[Label(name=""bug""), Label(name=""needs info"")]","When I look at an e-mail, the image (company logo of the recipient) at the bottom of the body is the wrong one. The image displayed belongs to a completely different e-mail from a completely different sender.

It sounds to me that maybe the image in both e-mails have the same name and for an unknown reason, K9 do not show the correct one.

I'm using K9 version 5.007 on Android version 5.1
"
k9mail/k-9,open,Request: Printing e-mails via Android 4.4 new printing services,"[Label(name=""enhancement"")]","Since Android 4.4, there's a printing service integrated in the system. It is used by many other apps, such as the CM default mail client, Firefox, Chrome, Acrobat Reader, etc.
http://developer.android.com/about/versions/kitkat.html#44-printing

In conjunction with a service plugin from your printer manufacturer, it allows you to print documents and mails locally - without using any cloud services. Cloud printing is sometimes not an option due to the sensitivity of the contents. Or the lack of an internet connection.

It seems as if K-9 does not support this. At least I could not find any print button in my version 5.007 on CM 12.1 using IMAP.

I believe K-9 should also have the option to print e-mails this way. It makes no sense to have a good encryption interface to protect the information, only to be forced to reveal it to a third party anyway once you want to have it on paper.
"
k9mail/k-9,closed,supress confirmation when closing totally empty new mail,[],"Call updateSignature() before adding TextChangeListener for signature to prevent setting draftNeedsSaving flag true.

Fixes #1027
"
k9mail/k-9,closed,Refactor ImapConnection,[],"Clean up ImapConnection
"
k9mail/k-9,open,Don't create entries for network errors in K9mail-errors folder,"[Label(name=""enhancement"")]","Adding stack traces of network errors to the K9mail-errors folder doesn't add much value. There's nothing we can do when a user reports these.

This is only a temporary ""fix"" until #1058 is implemented.
"
k9mail/k-9,open,Improve error reporting,"[Label(name=""architecture""), Label(name=""enhancement"")]","Goals:
- report errors to the user with instructions on how to further investigate and/or resolve them
- show some kind of indicator for transient errors, e.g. no network connectivity
- record instances of failing protocol commands, e.g. message X couldn't be moved to folder Y (we also have to undo the local move operation)
- should include a separate UI, i.e. get rid of the ""K9mail-errors"" folder

Related: #893 
"
k9mail/k-9,closed,K9 throws random push errors,[],"I'm using k9 with my Gmail account email seem to arrive instantly  but report these error mails from time to time:

K9-Mail version: 5.107
Device make: Huawei
Device model: Nexus 6P
Android version: 6.0.1

java.net.SocketTimeoutException: Read timed out
    at com.android.org.conscrypt.NativeCrypto.SSL_read(Native Method)
    at com.android.org.conscrypt.OpenSSLSocketImpl$SSLInputStream.read(OpenSSLSocketImpl.java:705)
    at java.io.InputStream.read(InputStream.java:162)
    at java.util.zip.InflaterInputStream.fill(InflaterInputStream.java:194)
    at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:153)
    at java.io.InputStream.read(InputStream.java:162)
    at java.io.BufferedInputStream.fillbuf(BufferedInputStream.java:149)
    at java.io.BufferedInputStream.read(BufferedInputStream.java:234)
    at com.fsck.k9.mail.filter.PeekableInputStream.peek(PeekableInputStream.java:34)
    at com.fsck.k9.mail.store.ImapResponseParser.readResponse(ImapResponseParser.java:42)
    at com.fsck.k9.mail.store.ImapResponseParser.readResponse(ImapResponseParser.java:29)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.readStatusResponse(ImapStore.java:2747)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.executeSimpleCommand(ImapStore.java:2897)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.executeSimpleCommand(ImapStore.java:833)
    at com.fsck.k9.mail.store.ImapStore$ImapFolderPusher$1.run(ImapStore.java:3106)
    at java.lang.Thread.run(Thread.java:818) 

Sorry I couldn't provide more informations,  please feel free to ask for more
"
k9mail/k-9,closed,Lack of multithreading,"[Label(name=""wontfix"")]","I'm syncing folders on my quad-core phone with k-9, and I have Tinycore app that shows CPU core usage. Cyanogenmod 13, ""sprout4"" device (android one smartphones)

k-9 usually loads 100% a single core, gives a minor(if any) load on another and lets the other two cores remain offline (I have hotplug governor, unused cores are shut down).

The point is that while synching the app does show lag and lack of responsiveness when moving in the menu and reading e-mails in another folder/account.

While the rest of the phone is pretty fine, and can multitask without issues.

I'm suspecting that with better multi-threading the user experience can be improved.

p.s. I'm also using OpenKeychain, don't know if it is related
"
k9mail/k-9,closed,Add ability to move messages between local folders (POP3),"[Label(name=""duplicate"")]","It can be useful to be able to move messages between folders (e.g. in case of accidental delete of messages (move back to Inbox), or if you want to save your Sent messages (move from Sent to Inbox, then download with desktop client), etc.)

Requests on the forums:
https://groups.google.com/forum/#!topic/k-9-mail/_GHlgyELbXE
https://groups.google.com/forum/#!topic/k-9-mail/fRyQVFT9byk
"
k9mail/k-9,closed,encrypted.asc attachment,[],"When receiving encrypted mails I get no text but instead I get an attachment called encrypted.asc.
"
k9mail/k-9,closed,Merge pull request #1 from k9mail/master,[],"updates
"
k9mail/k-9,closed,Add unit tests for ImapConnection,[],"Also fix some small bugs.

This is in preparation of a larger refactoring of the IMAP code.
"
k9mail/k-9,closed,Can't place widget on home screen,"[Label(name=""invalid"")]","Device: Samsung Galaxy Note5 (SM-N920V), Android 5.1.1
This is a new phone for me, and I've been customizing the home screens. I've been able to work with many other widgets, as expected: press and hold on home screen, choose widgets, press and hold widget and drag to its place. However, when I try to do that with either of the K-9 widgets, it merely opens K-9, and never drops the widget on the home screen.  
"
k9mail/k-9,closed,"Message Send Failed ""Signing requested, but no key selected!""","[Label(name=""bug"")]","On the current git HEAD, on a device without any PGP apps installed, composing and then sending a message fails with a toast saying ""Signing requested, but no key selected!"".  The effect of this is that e-mails can't ever be sent.

Looking at the code this seems to be due to [line 51 of RecipientPresenter.java
](https://github.com/k9mail/k-9/blob/8ceaf13648ff1eaab88c022923c68cab352bb8f8/k9mail/src/main/java/com/fsck/k9/activity/compose/RecipientPresenter.java#L51) which checks `isMissingSignKey()` which is true when `signingKeyId` is `null` in the current `cryptoStatus`.  If no PGP app is installed that value will always be `null`.

I think the proper solution would be to have `isMissingSignKey()` also check if `cryptoStatus.cryptoMode` is `CryptoMode.DISABLE` and also set the `currentCryptoMode`, which currently defaults to `CryptoMode.OPPORTUNISTIC`, to default to `CryptoMode.DISABLE` as users without OpenPGP can't even open the menu to change modes.

The following commit shows what I propose: https://github.com/adamsmd/k-9/commit/1067f1b905bf90a49fe8adc6599d394df56b33f5

I didn't see anywhere that the current code saves a preference for `currentCryptoMode`.  So I assume this is a feature still in development, but this change will allow users without OpenPGP to continue using and testing HEAD.
"
k9mail/k-9,closed,Where did my emails go?,"[Label(name=""invalid"")]","I just installed the app on my Galaxy 6 edge.  Emails come in but as soon as I read them they disappear. I can't find setting to not delete them anywhere.  Is this standard for this product?  I can't imagine it is.
"
k9mail/k-9,closed,Migrate old messages to new mime format,[],"This is a WIP PR for #1004. This is _not done yet_, testing and code comments welcome.
"
k9mail/k-9,open,Drafts folder retains messages after send,"[Label(name=""bug"")]","When a message is auto-saved to drafts or when you ""save as draft"" and then you go back to the message... After sending, the message stays in the drafts folder and then you have to delete it manually. It should be deleted automatically after sending.

This has already been reported long time ago (Dec 2011) for 4.102 and other 4.x versions:
https://code.google.com/archive/p/k9mail/issues/3906

I still can reproduce it with 5.007 and it's rather annoying. I'm using a gmail account with IMAP and android 6.0.
"
k9mail/k-9,closed,Tap tactile tick box for message selection is too small in folder list,[],"Android 4.4.2
HTC One M8
K9 5.007

In folder listing view.

When I want to select one message, the first message I want to select, I need to tap on the small box on left on line. For following messages, I can tap anywhere in the line, near the box, or not.

The issue is that I have to tap exactly in the middle of the tick box. If I tap just above, below, or left of the box, by a few pixels, the message will open, in the read view. The graphic of the tick box is fine, but the tactile space should not be exactly matching the graphics; the tactile zone should be larger than the graphics, and selection should start when I tap any place near the box; the tactile zone should be as large as the height of the message line (this height may vary with DPI). The graphic box is centered vertically; the tactile zone should spread over the full height of line, and at least as large as the height. But maybe, the tactilke zone should (maybe, debatable) go to the left edge.
"
k9mail/k-9,closed,tap on URL linhks doesn't open links when zooming in messages,[],"Android 4.4.2
All K9 versions since 18 months
HTC One M8

When a message contains an URL link, tapping on it works best is message is zoomed out (when text is small). The more you zoom in to be able to read content of message, the less chance you have to get link open on tapping it. I have tried to tap at begin of link, end, first line, last line ... it just won't open.

This is specific to K9. It's not a tactile issue, because I never had that problem in an web browser.
"
k9mail/k-9,closed,Takes the date and time of phone not the actual date and time,"[Label(name=""invalid"")]","If we change the date and time of phone, and after that if we send the mail then the mail received by receiver will have the timestamp of phone not the actual date and time.
"
k9mail/k-9,closed,Problem with K9 on Cyanogenmod 13,[],"Hi,

Cyanogenmod 13 is having problems with K9. Application is crashing just after the startup with exception enclosed bellow:

01-27 11:06:52.754  2489  2489 E WebViewFactory: android.webkit.WebViewFactory$MissingWebViewPackageException: android.content.pm.PackageManager$NameNotFoundException: com.android.webview
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebViewFactory.fetchPackageInfo(WebViewFactory.java:116)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebViewFactory.getProviderClass(WebViewFactory.java:190)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebViewFactory.getProvider(WebViewFactory.java:165)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebView.getFactory(WebView.java:2277)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebView.ensureProviderCreated(WebView.java:2272)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebView.setOverScrollMode(WebView.java:2331)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.view.View.<init>(View.java:3795)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.view.View.<init>(View.java:3898)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.view.ViewGroup.<init>(ViewGroup.java:573)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.widget.AbsoluteLayout.<init>(AbsoluteLayout.java:55)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebView.<init>(WebView.java:597)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebView.<init>(WebView.java:542)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebView.<init>(WebView.java:525)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebView.<init>(WebView.java:512)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebView.<init>(WebView.java:502)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at de.cketti.library.changelog.ChangeLog.getDialog(ChangeLog.java:285)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at de.cketti.library.changelog.ChangeLog.getLogDialog(ChangeLog.java:263)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at com.fsck.k9.activity.MessageList.onCreate(MessageList.java:230)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.app.Activity.performCreate(Activity.java:6251)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2403)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2520)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.app.ActivityThread.-wrap11(ActivityThread.java)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1363)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.os.Handler.dispatchMessage(Handler.java:102)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.os.Looper.loop(Looper.java:148)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.app.ActivityThread.main(ActivityThread.java:5466)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at java.lang.reflect.Method.invoke(Native Method)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
01-27 11:06:52.754  2489  2489 E WebViewFactory: Caused by: android.content.pm.PackageManager$NameNotFoundException: com.android.webview
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.app.ApplicationPackageManager.getPackageInfo(ApplicationPackageManager.java:138)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    at android.webkit.WebViewFactory.fetchPackageInfo(WebViewFactory.java:114)
01-27 11:06:52.754  2489  2489 E WebViewFactory:    ... 29 more
01-27 11:06:52.755  2489  2489 D AndroidRuntime: Shutting down VM
01-27 11:06:52.756  2489  2489 E AndroidRuntime: FATAL EXCEPTION: main
01-27 11:06:52.756  2489  2489 E AndroidRuntime: Process: com.fsck.k9, PID: 2489
01-27 11:06:52.756  2489  2489 E AndroidRuntime: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.fsck.k9/com.fsck.k9.activity.MessageList}: android.util.AndroidRuntimeException: android.webkit.WebViewFactory$MissingWebViewPackageException: android.content.pm.PackageManager$NameNotFoundException: com.android.webview
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2450)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2520)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.app.ActivityThread.-wrap11(ActivityThread.java)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1363)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.os.Handler.dispatchMessage(Handler.java:102)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.os.Looper.loop(Looper.java:148)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.app.ActivityThread.main(ActivityThread.java:5466)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at java.lang.reflect.Method.invoke(Native Method)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
01-27 11:06:52.756  2489  2489 E AndroidRuntime: Caused by: android.util.AndroidRuntimeException: android.webkit.WebViewFactory$MissingWebViewPackageException: android.content.pm.PackageManager$NameNotFoundException: com.android.webview
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebViewFactory.getProviderClass(WebViewFactory.java:218)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebViewFactory.getProvider(WebViewFactory.java:165)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebView.getFactory(WebView.java:2277)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebView.ensureProviderCreated(WebView.java:2272)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebView.setOverScrollMode(WebView.java:2331)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.view.View.<init>(View.java:3795)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.view.View.<init>(View.java:3898)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.view.ViewGroup.<init>(ViewGroup.java:573)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.widget.AbsoluteLayout.<init>(AbsoluteLayout.java:55)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebView.<init>(WebView.java:597)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebView.<init>(WebView.java:542)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebView.<init>(WebView.java:525)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebView.<init>(WebView.java:512)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebView.<init>(WebView.java:502)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at de.cketti.library.changelog.ChangeLog.getDialog(ChangeLog.java:285)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at de.cketti.library.changelog.ChangeLog.getLogDialog(ChangeLog.java:263)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at com.fsck.k9.activity.MessageList.onCreate(MessageList.java:230)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.app.Activity.performCreate(Activity.java:6251)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2403)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    ... 9 more
01-27 11:06:52.756  2489  2489 E AndroidRuntime: Caused by: android.webkit.WebViewFactory$MissingWebViewPackageException: android.content.pm.PackageManager$NameNotFoundException: com.android.webview
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebViewFactory.fetchPackageInfo(WebViewFactory.java:116)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebViewFactory.getProviderClass(WebViewFactory.java:190)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    ... 28 more
01-27 11:06:52.756  2489  2489 E AndroidRuntime: Caused by: android.content.pm.PackageManager$NameNotFoundException: com.android.webview
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.app.ApplicationPackageManager.getPackageInfo(ApplicationPackageManager.java:138)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    at android.webkit.WebViewFactory.fetchPackageInfo(WebViewFactory.java:114)
01-27 11:06:52.756  2489  2489 E AndroidRuntime:    ... 29 more
01-27 11:06:52.760   684  1995 W ActivityManager:   Force finishing activity com.fsck.k9/.activity.MessageList
01-27 11:06:52.830   684  1889 I OpenGLRenderer: Initialized EGL, version 1.4
01-27 11:06:53.296   684   711 W ActivityManager: Activity pause timeout for ActivityRecord{e623e35 u0 com.fsck.k9/.activity.MessageList t78 f}
01-27 11:06:53.324   684   834 E QCOM PowerHAL: Failed to acquire lock.

Im using Cyano 13 (Android 6.0.1).
Cyano version: 13.0-20160112-NIGHTLY-klte
API Level: Dragon Fruit (4)
Kernel Version: 3.4.0-gdd61626 (11 Jan 2016)

Could u send me any clues how to correct this issue? Where could i obtain missing packages and how to add them? 

Best regards, 
Konrad
"
k9mail/k-9,closed,Account autoconfiguration,"[Label(name=""duplicate"")]","Default  pop/imap/smtp server should be set to MX of email domain. If user selects SSL/TLS, server should be set to CN from certificate of MX.
"
k9mail/k-9,open,Archive multiple selected emails in Unified Inbox,"[Label(name=""enhancement"")]","### Expected behaviour

An 'archive selected' button would appear after selecting multiple emails in the Unified Inbox. I noticed that this button is displayed when you select multiple emails in a specific account's inbox. 
### Actual behaviour

There is no button to do this yet. 
### Steps to reproduce
1. Select multiple emails in the Unified Inbox
2. See that there is no 'archive selected' button
### Environment

K-9 Mail version: v5.007

Android version: 6.0.1

Account type (IMAP, POP3, WebDAV/Exchange):
IMAP
"
k9mail/k-9,open,Sharing chat from Whatsapp with lots of media crashes K-9,"[Label(name=""bug"")]","I tried to share a big chat from Whatsapp (Open chat -> More -> Email chat), which caused K-9 to crash. Crash log:

```
D/AndroidRuntime(21342): Shutting down VM
E/AndroidRuntime(21342): FATAL EXCEPTION: main
E/AndroidRuntime(21342): Process: com.fsck.k9, PID: 21342
E/AndroidRuntime(21342): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.fsck.k9/com.fsck.k9.activity.MessageCompose}: java.util.concurrent.RejectedExecutionException: Task android.os.AsyncTask$3@adb174b rejected from java.util.concurrent.ThreadPoolExecutor@2f63f528[Running, pool size = 9, active threads = 9, queued tasks = 128, completed tasks = 0]
E/AndroidRuntime(21342):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)
E/AndroidRuntime(21342):        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)
E/AndroidRuntime(21342):        at android.app.ActivityThread.access$800(ActivityThread.java:151)
E/AndroidRuntime(21342):        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)
E/AndroidRuntime(21342):        at android.os.Handler.dispatchMessage(Handler.java:102)
E/AndroidRuntime(21342):        at android.os.Looper.loop(Looper.java:135)
E/AndroidRuntime(21342):        at android.app.ActivityThread.main(ActivityThread.java:5254)
E/AndroidRuntime(21342):        at java.lang.reflect.Method.invoke(Native Method)
E/AndroidRuntime(21342):        at java.lang.reflect.Method.invoke(Method.java:372)
E/AndroidRuntime(21342):        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)
E/AndroidRuntime(21342):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)
E/AndroidRuntime(21342): Caused by: java.util.concurrent.RejectedExecutionException: Task android.os.AsyncTask$3@adb174b rejected from java.util.concurrent.ThreadPoolExecutor@2f63f528[Running, pool size = 9, active threads = 9, queued tasks = 128, completed tasks = 0]
E/AndroidRuntime(21342):        at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2011)
E/AndroidRuntime(21342):        at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:793)
E/AndroidRuntime(21342):        at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1339)
E/AndroidRuntime(21342):        at android.os.AsyncTask.executeOnExecutor(AsyncTask.java:594)
E/AndroidRuntime(21342):        at android.content.AsyncTaskLoader.executePendingTask(AsyncTaskLoader.java:235)
E/AndroidRuntime(21342):        at android.content.AsyncTaskLoader.onForceLoad(AsyncTaskLoader.java:166)
E/AndroidRuntime(21342):        at android.content.Loader.forceLoad(Loader.java:347)
E/AndroidRuntime(21342):        at com.fsck.k9.activity.loader.AttachmentInfoLoader.onStartLoading(AttachmentInfoLoader.java:35)
E/AndroidRuntime(21342):        at android.content.Loader.startLoading(Loader.java:290)
E/AndroidRuntime(21342):        at android.app.LoaderManagerImpl$LoaderInfo.start(LoaderManager.java:280)
E/AndroidRuntime(21342):        at android.app.LoaderManagerImpl.doStart(LoaderManager.java:772)
E/AndroidRuntime(21342):        at android.app.Activity.onStart(Activity.java:1164)
E/AndroidRuntime(21342):        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1236)
E/AndroidRuntime(21342):        at android.app.Activity.performStart(Activity.java:6006)
E/AndroidRuntime(21342):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2288)
E/AndroidRuntime(21342):        ... 10 more
```
"
k9mail/k-9,closed,Opening e-mail caused crash that reset all data,"[Label(name=""bug""), Label(name=""needs info"")]","Today I opened up a mail in K-9 (a spam mail I wanted to mark as spam, but there was nothing special about this mail, simple HTML mail) and it crashed while opening. Then I started K-9 again and it presented the welcome screen - all seetings for five configured accounts are no more available and seem to be completely deleted. Also a restart of the phone didn't change anything - the data seems to be lost forever.

Phone: Nexus 5 (no root)
App Version: 5.007
Android Version: 6.0.1 (Security patch level 1st Jan 2016)

Note: The app still uses more than 300MB for data, so there is something left... but no more accessible)
"
k9mail/k-9,closed,K9 fails to connect to Exchange server,"[Label(name=""invalid"")]","Hi there,

I am trying to use K9 with an Exchange account at the popular German email provider freenet.de in order to get push mail. However, K9 v5.007 fails to connect with ""Cannot not connect to server (IOException)"". Will attach the ADB debug.

I am wondering if this is a duplicate of https://github.com/k9mail/k-9/issues/606.
Strange thing is that with the standard Android Email client, at least the one that comes with Android-x86 4.4, everything works fine (same provider, same settings, i.e. SSL port 443). Could it be the Android client contains code for newer Exchange servers? If that was the case can it be lifted into K9?

The standard Android Email has another severe problem so it is impossible for me to use it. But I really, really need push email. IMAP idle does not seem to work with freenet. With IMAP poll, freenet takes very long to deliver, even if you poll by hand every couple of seconds, so I really would appreciate some sort of help.

Thanks
Dan
"
k9mail/k-9,open,Show the total number of messages,"[Label(name=""enhancement"")]","See this patch:

http://grokbase.com/t/gg/k-9-mail/137crp6hfg/total-number-of-messages-in-a-folder-account

I would find this very useful. Having only the number of unread messages is not enough for my use.
Anything preventing to merge it?
"
k9mail/k-9,closed,"Default IMAP sent folder should be the ""Sent"" folder irrespective of the configured language",[],"Maybe is it a translation issue :

When creating an account with the french version of K9mail, the default folder where are stored sent emails is ""Envoyés"".
Most email readers actually use the ""Sent"" folder but _display_ a translated name for this folder in the UI : ""Envoyés"" or ""Messages envoyés"".
If they do, all email client using IMAP consequently have a common default configuration (and, for part of them, default configuration is the only configuration :( ).

I have seen that I can choose the folder to save sent emails in, but it took me time to figure out what was happening, as, in the first place, it took me time to discover that I was having a problem.
"
k9mail/k-9,open,"Feature Request: ""Always Show Pictures for address/domain""","[Label(name=""enhancement"")]","As well as the ""always show for contacts"" option for pictures, can we also have some sort of whitelisting to work alongside?

I get a number of genuine advertising type mailing lists, most of which I would like to see the pictures for. But to show pictures for these at the moment, I either have to press the button every time, add them to my contact list, or allow pictures always.
Adding them to my contacts would be OK if the contacts were only for use in K9,  but it appears to be wanting to add a global phone contact, which is silly for this purpose.
"
k9mail/k-9,closed,Get rid of 8bit transport encoding,"[Label(name=""enhancement"")]","Supporting both `quoted-printable` and `8bit` as transport encoding is adding unnecessary complexity without much gain.
Right now we use a transfer encoding of `8bit` when we compose a message. And when we connect to a SMTP server that does not support 8-bit messages we have to re-encode the message right before sending.

See also #582.
"
k9mail/k-9,closed,File browser not available when selecting attachments,"[Label(name=""invalid"")]","When sending emails I cannot select files.  The options available does not in lude the file browser,  just basically photo apps.  To get around I can upload file to one drive and then select it that way,  but if in cloud no reason to send via email.  Can send link via one drive.  

If option available to share/export from an app,  can choose k9 mail and send file as attachment,  just cannot do it directly with k9 mail.  

This did not exist previously so not sure if caused by an update or something. 

Tried attaching screenshot. Nothing on this form to indicate wwhether it has been attached or not. 
"
k9mail/k-9,closed,"Request - On creating new email, allow typing in email addresses directly to the address fields","[Label(name=""duplicate"")]","Instead of having to select an email address for the sender or the receiver, allow the user to type one in.

There could also be an option to add the new address to the senders and receivers list.

My domain email account allows me to generate any number of addresses.  I use a different one for each recipient.  I prefer just typing in the email address rather than having to create it and add it to a list.  The list would be very long and it is inconvenient having to use it before an email can be sent.
"
k9mail/k-9,closed,Android: difficulty refreshing folders while using certain wifi,"[Label(name=""invalid"")]","The application works well over mobile networks and most wifi networks but, with my home wifi, manual refresh causes the app to sit continuously in what looks like 'polling' mode. The only way out of this is to close the app and restart and this then causes a successful poll.
I, and visitors, do not experience any other wifi issues so I guess that it is something peculiar to my wifi set-up. Anyone any ideas?

Thanks.

John
"
k9mail/k-9,closed,"break migration down into methods, clean up some warnings in mailstore",[],"what the title says. this pr contains no actual semantic changes, I only moved code around, got rid of warnings along the way, and made some methods static and reduced visibility here and there, while reading up on LocalFolder and StoreSchemaDefinition (for #1004)
"
k9mail/k-9,open,Use default identity when replying,"[Label(name=""enhancement""), Label(name=""help wanted"")]","I receive mail via:
- foo@example-1.com
- foo@example-2.com, which forwards to foo@example-1.com.

In k-9 settings, I have an identity configured to send mail as: foo+mobile@example-1.com

When replying-all, because the inbound addresses are different from my outbound identity, the inbound addresses are not filtered from the `To:` or `Cc:` fields. Either:
- they must be manually deleted every time, or
- I receive a duplicate of my outbound reply, or
- I must add a new identity for foo@example-1.com, which is selected instead of foo+mobile@example-1.com when composing the reply.

It would be useful if I could either:
1. specify a default identity which applies _even when replying_, or
2. specify a list of additional addresses to strip from the `To:` and `Cc:` fields when replying.

P.S. thanks for the great software!
"
k9mail/k-9,closed,Validate or OK button,[],"Hi,
I'm trying to configure my account and after telling what the values are I don't have any OK or ""next"" button and I can't return to the main screen. What should I do?
"
k9mail/k-9,closed,Improvement request: supress confirmation when closing totally empty new mail,"[Label(name=""enhancement""), Label(name=""good first issue"")]","After accidentally having created a new mail and closing it without having entered any receiver / subject / text (only automatic signature appeared), I am asked to confirm this action. This is annoying and I would be happy if the confirmation dialogue would be suppressed in those situations (as Thunderbird does). Thanks!
"
k9mail/k-9,closed,Deleting on Server when not supposed to,[],"I may be misunderstanding the settings here - The following is my setup:

Android 5.1.1
I have all of my account settings 
Fetching>> Sync Server Deletions (Remove messages when deleted on server) Yes
When I Delete a Message >> Do NOT delete on Server
Erase deleted messages on server >> Manually.

If I delete all of my Inbox messages then choose to ""Empty Trash"" does that delete all of the messages in my Inbox on the server them empty the server trash? That seems to be happening.  There is nothing in your settings or explanations that indicate that should be happening.  I am trying to keep my phones Inbox clean, and save the messages on the server.
"
k9mail/k-9,closed,Android 6.0 delete mail ui jumpy,[],"After upgrading to android 6.0 the mail list jumps up and down (stutters)  when I delete an email
"
k9mail/k-9,closed,Note 4 display keeps switching on,"[Label(name=""bug""), Label(name=""needs info"")]","Display on my new Note 4 would keep switching on for no reason. Finally discovered K9 was causing issue if email saved to draft...............when draft deleted, issue stopped.
"
k9mail/k-9,closed,Attachment loading time,"[Label(name=""invalid"")]","I got incredibly high loading times when opening an attachment. Sometimes it's never going to be opened.

This happens even with small attachments (a view kB). 
"
k9mail/k-9,closed,"""Delete"", ""archive"" and ""spam""",[],"This code regularizes the handling of ""delete"", ""archive"" and ""spam"" actions.  Specifically it adds ""archive"" and ""spam"" buttons to notifications.  This is optional and configurable by the user in the same way it is for ""delete""

In the long run, it would be nice of K-9 did the same for ""reply"" and ""mark read"", but I am about to get busy with other projects and won't have the time myself.

I have not done extensive testing on this code.  (Also due to my getting busy.)  But I figure it is better to share the code incomplete than let it die.

One part of the code that I was unsure about was the version numbers in GlobalSettings.java.  Also, I did not find a vector version of the ""archive"" and ""spam"" icons so I made due with non-vector ones.   Both of these places are marked with TODO comments.

Finally, by default, notifications in Android ignore any actions after the first three.  To get around this I created ExtendedNotificationBuilder.java.  Note that build() and generateActionButton() are almost exact copies of similar code in AOSP Notification.java.  Since both K-9 and AOSP are licensed as Apache, I believe copying the code like that is okay.  My apologies if not.
"
k9mail/k-9,closed,enable syncing while idle on Android M devices,[],"#970 #857

Change to use new AlarmManager API when it's available and whitelisted by user.
I think it's better to try fetching email as possible as frequent when user wanted.

I confirmed emails are fetched in this [test method](http://developer.android.com/training/monitoring-device-state/doze-standby.html#testing_doze_and_app_standby) and my daily use with N7(2013).

Sorry if my english is hard to understand.
"
k9mail/k-9,open,Date format mm/dd/yyyy,"[Label(name=""enhancement"")]","I cannot seem to change the date format in the inbox to uk english style (day/month/year).  System is configured with the correct format, but in k9 still see american style month before day.
"
k9mail/k-9,open,Message font size too small,"[Label(name=""enhancement"")]","I am not sure if this is by design but if I open a longer message (more or less any message that contains at least one or two cited original messages) then the app renders it in a totally illegible (i.e., too small) font size just so that the entire message fits to the available screen space. Please bear in mind that this happens even with ""Auto-fit messages"" being _disabled_ (Settings > Global Settings > Display > Auto-fit messages). It doesn't even matter if in Settings I choose message body font size to be ""200 %"" because the app will still use that incredibly tiny font size for longer messages.

Strangely enough, if I rotate the phone and it switches to the landscape mode then the message font size immediately increases (though it will revert to the tiny one if I rotate the phone back). I can only guess that the algorithm estimating the ""proper"" font size depends significantly on available viewport width.

Shorter messages are displayed normally, i.e., any decrease in font size is not that pronounced and thus the text remains legible.

Would it therefore please be possible to set K-9 to respect some _reasonable_ minimum allowed font size (or perhaps the respective scaling factor)? This could be definable similarly to the current options regarding font sizes of various parts of the UI -- e.g. ""Minimum allowed message font size: small"". In other words, the font size could decrease for longer messages but only up to a point beyond which the font size would not decrease any further.

Alternatively, the message font size (or, again, the respective scaling factor) could be fixed no matter the actual message length.

Either of these two solutions would be acceptable because it would mean that I would not have to (a) manually zoom in after opening virtually every email I get or (b) look for a magnifying glass in my drawer. ;-)

Thank you.

---

Android version: 5.1.1
Device: Sony Xperia Z1 Compact
"
k9mail/k-9,open,new / extended option: show mail source,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Hi,
sometimes I get mails that look dubious. The best way to find out if they are spam oder phishing-mails is to check the mail-header and look into the mail-source for cloaked links.

Is it easy possible, to make a new option ""show mail source"" or extend the option ""show mail header""?
"
k9mail/k-9,closed,"in saslAuthPlain: if AUTHENTICATE PLAIN fails, try LOGIN",[],"This fixes #899 .
"
k9mail/k-9,closed,Gmail can't be used as email,"[Label(name=""invalid"")]","It says error every time I try to log in with my gmail account. 

http://i.imgur.com/YzYLcv5.png
"
k9mail/k-9,open,Password not escaped correctly,"[Label(name=""bug""), Label(name=""needs info"")]","Hallo,

I've justed change the password for an IMAP Mail already used in k-9. My new password was generated by a password manager and contained several special characters. Updating it in k-9 led to errors - both in incoming and outgoing mails. After trying different new password, it seems like ""§"" is the one char which causes problems.

Kind regards,
  drohhyn

---
### Expected behaviour

Password is updated and login to server is possible.
### Actual behaviour

Password is updated and login is not possible (Auth failed)
### Steps to reproduce
1. Change password on existing account with a password containing ""§"".
### Environment

K-9 Mail version: 5.007 (James Bond Version :D)

Android version: 6.0.1
Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,disable search in message bodies with a warning,[],"#1005 related. conveniently, there is only a single place where `SearchField.MESSAGE_CONTENTS` is used.
"
k9mail/k-9,closed,fix nullpointer if mime part isn't available in scan for pgp/inline,[],"Fixes #871
"
k9mail/k-9,closed,K-9 w/ OpenKeychain not declaring content type encrypted,"[Label(name=""invalid"")]","Extract from header for an e-mail sent, encrypted & signed, by K9 mail:

```
User-Agent: K-9 Mail for Android
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain; charset=UTF-8
```

K-9 Mail version 5.007
OpenKeychain version 3.7
Phone model: SAMSUNG-SM-N910A (Samsung Galaxy Note 4)
Android Version: 5.1.1 (Kernel 3.10.40-5613584)

Setup: K-9 Mail handing off to OpenKeychain (using Yubikey for storage of private keys and performing the decrypt/signing operations).

Let me know if you want any more info & thanks for the awesome app!
"
k9mail/k-9,closed,Fix openpgp decrypt loop 864,[],"The problem in #864 is caused because K-9 behaves slightly incorrectly regarding openpgp user interaction. After a pending intent returns, it expects the original call to be repeated with the returned intent as its new data.

I fixed this behavior in this PR in a simple way. I will probably change the way this is done when I work on pgp/mime reading support, but this will do for now.
"
k9mail/k-9,closed,No network connection when on mobile broadband,[],"When I'm on WiFi, everything works fine.

When not on WiFi but on mobile broadband, K-9 cannot connect to IMAP nor to SMTP servers. However there is no general problem with internet connectivity as e.g. Firefox works normal.

I'm using the most recent K-9 that's on F-Droid, and I'm running CM13.
"
k9mail/k-9,closed,"Option to disable ""Checking mail"" notification.",[],"Being notified that the mail accounts are being checked isn't very useful for most people. Generally people only care when they actually get new messages, not every time the server is queried. It'd be nice to be able to disable that notifiction without resorting to android's course-grained ""block ALL notifications from a particular app"".
"
k9mail/k-9,closed,No valid OpenPGP block found,"[Label(name=""bug"")]","Hi!

I am not sure, whether this is an openkeychain issue or a k9 mail issue, that's why I'd like to post it here again: https://github.com/open-keychain/open-keychain/issues/1665

 I use K9 5.007 and OpenKeyChain 3.7 on my Android with CM 12.1.

When I reply a mail, K9 mail adds the old message quoted like this:

> This is the reply mail followed by the quotation of the original mail:
> 
> > -----BEGIN PGP MESSAGE-----
> > Charset: utf-8
> > Version: GnuPG v2
> > 
> > hQIMA324sfl24ltklwqfl2tl2gw

However, K9 mail cannot decrypt my sent message then and Thunderbird tells me that no valid OpenPGP block could be found. This is how the sent mail looks then:

> -----BEGIN PGP MESSAGE-----
> 
> hQIMAypJd8s8JCpBAQ//fWrPkSHfvGyh9YPbIn9OhQCOKCQM2yUusUiGbOxYPxbZ

When I compare it to a working encrypted mail 

> -----END PGP MESSAGE-----

is missing here at the end of the mail. So only a part of the encrypted messages seems to be sent!
###### How can I help you to narrow down the problem?
"
k9mail/k-9,closed,Hang problem in HtmlSanitizer.java,"[Label(name=""enhancement"")]","Dear K9 Developers,
I am implementing a hang-bug detection tool and I am analyzing K9 (master version downloaded yesterday) with it. I found that the main thread of K9, frequently calls

com.fsck.k9.helper.HtmlSanitizer.sanitize

at code lines 25 and 29, which correspond to clean and getAsString, respectively,  often when an email is opened. In my experiments, the execution of those functions on the main thread may be the main cause of the eye-detectable delays (i.e., hang-bug) experienced with K9 while opening emails.

Moving work off the main thread leads to higher responsiveness of the app. I suspect that it is actually possible to run the ""clean"" and ""getAsString"" functions on a background thread. Therefore, do you think that it is possible to move off the main thread those functions to improve responsiveness?

Thanks for any information,
I hope I can help improve K9.
"
k9mail/k-9,open,Recipient address suggestions,"[Label(name=""enhancement"")]","Hi! First of all thanks for an opensource email client for Android, I use it since my first Android phone.
But I want to report an inconvenience: k9 is not suggesting recipient addresses from previous emails, only from the smartphone addressbook. I use IMAP accounts. Is it possible to implement some kind of suggestions? At least from the headers of previously seen emails...
"
k9mail/k-9,closed,Temporarily disable search in message bodies,[],"Avoid crashes until we get to issue #573.
"
k9mail/k-9,closed,Convert existing messages to new DB schema,[],"Convert the existing messages to the new database format and add a flag that marks these messages as converted.
We will later use this flag to re-download those messages (see #577).
"
k9mail/k-9,open,S/MIME support,"[Label(name=""enhancement"")]","There is an existing discussion on an old tracker ... https://code.google.com/p/k9mail/issues/detail?id=2538

A lot of work seems to be done on PGP support in the https://github.com/k9mail/k-9/milestones/PGP/MIME milestone.
Hope this issue helps to track S/MIME support. I would like to easily verify both PGP and S/MIME signatures.

A few related issues:
- #916
- #571
"
k9mail/k-9,closed,Use Download folder as default for saving attachments,[],"Fixes #745
"
k9mail/k-9,closed,"""Delete"" button notification issue","[Label(name=""duplicate"")]","Hi,

I'm using your email app and it's great, but now I'm having an issue with it, I just change my cell phone importing settings from old one (moto g 3) to this new (galaxy note 5), the issue is that in notifications some times show the ""delete"" button and some times not, when appear is with some email account and with others no.

I'm sending a couple of screen shots so you can see issue, I don't know, probably I'm doing something wrong. 

Thanks.
Greetings
"
k9mail/k-9,open,Implement support for *priority notifications*,"[Label(name=""enhancement"")]","With Android 5 and newer, is an option for sound control that prioritizes certain events over others, effectively filtering out unimportant events and only providing audible notifications for important events.

Configuration of this feature is available under system settings --> sounds --> do not disturb --> priority only allows.

It would be nice to be able to hook into this functionality with k9mail, so that audible notifications are available for priority contacts as per these settings. Options being from anyone, contacts, starred contacts, none.

In addition, it could be useful to be able to set specific accounts as priority accounts. For instance, setting your personal account to priority could allow your personal email to notify you all of the time, while filtering out work email when you're not at work.
"
k9mail/k-9,closed,Progress indicator with throughput while fetching a message / attachment,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Currently only a simple popup with no metric of remaining time or download speed is shown when a message is partially on the phone but the rest is fetched from the IMAP server. Especially with big messages and a slow connection some indication of how long this might take would be great. This somewhat relates to  issue #574
"
k9mail/k-9,closed,Android 6 doze breaks sync,[],"K9 needs to opt itself out of the doze feature otherwise, sync doesn't happen on a schedule and push notifications only happen when the phone is being looked at, which defeats the whole purpose of the push sync in the first place.
"
k9mail/k-9,closed,Google Play app description needs update,"[Label(name=""duplicate"")]","The link in the description on Google Play needs an update. It currently points to Google Code which has been retired for quite a while.
"
k9mail/k-9,closed,Extract code to decode mailto URIs,[],"Addressing issue #964 
"
k9mail/k-9,closed,"The menu of the email viewer offers ""Compose"", but not ""Reply""!","[Label(name=""invalid"")]","This was tested with k-9 mail v5.007 under AlienDalvik / AOSP 4.1.2:

I always wondered why k-9 mail only offers the menu entry ""Reply"" in the mail list view inside a folder, but not when viewing an individual email. 
Surprisingly the menu of the email viewer does  offer ""Compose"", which works as announced: It opens a email composer with an fresh, empty email! 

To offer ""Reply"" instead of ""Compose"" in the menu of the email viewer would make much more sense though, IMO.  Hence this is my k-9 mail enhancement suggestion.

Kudos for your excellent work. 

Edit, after this issue was closed and tagged invalid by cketti:
Oh, my blindness!  Sorry. 
"
k9mail/k-9,closed,Replying to an encrypted Mail quotes the encrypted Mail still encrypted,[],"This was tested with K-9 mail v5.007 and both OpenKeychain / APG under AlienDalvik / AOSP 4.1.2:

Replying to an encrypted Mail quotes the encrypted Mail still encrypted.

I always wondered why K-9 mail only offers the menu entry ""Reply"" in the mail list view inside a folder, but not when viewing an individual email.   This does not really matter (it is merely an inconvenience), as long as the intent is to reply to an unencrypted email.  But for encrypted emails that results in the email's content being quoted encrypted, effectively rendering replies to encrypted emails useless.  
Or is this just either an oversight by me or the fact, that I run K9-Mail in SailfishOS's AlienDalvik (based on AOSP 4.1.2)?

Kudos for your excellent work,
Olf0
"
k9mail/k-9,open,"Request: Per-Account ""Quiet Time"" ","[Label(name=""enhancement"")]","With the current state of affairs, I can't use the ""Quiet Time"" function because I have both an ""emergency notification"" account, which I _want_ to wake me up if it goes off, and a regular work contact account, which I could really do without bleeping at me at 4am. 

Is there any possibility or intention of making this function available on a per-account basis? Right now, I'm only able to use K9 for the normal work account since I can't seem to find another app with a similar functionality. 

I'd much rather go back to using it for all of them. 
"
k9mail/k-9,closed,"make UidReverseComparator transitive, order null elements to right",[],"this makes the comparator transitive by sorting null elements to the end. I'm not really sure about the assumptions made on the `uid` strings, so they might be better sorted to the start of the array? changing that should be trivial either way.
"
k9mail/k-9,closed,K9 loses it's connection and stops working if connection is not used at least every 60 seconds,"[Label(name=""duplicate"")]","[full logcat while k9 hanging up.txt](https://github.com/k9mail/k-9/files/76068/full.logcat.while.k9.hanging.up.txt)
[k9-log.txt](https://github.com/k9mail/k-9/files/76069/k9-log.txt)

cketti keeps closing my issues but there is clearly something wrong here.  K9 is losing its connections unless it uses them every 60 seconds.  This makes K9 unusable unless polling or push refresh is schedule for once per minute, which is ridiculous.  This is NOT a local network issue - there is no firewall in place, and has been confirmed to occur on multiple internet providers, as well as both 3G and 4G networks, K9 also worked fine on another phone with the exact same configuration on ALL of the above networks.  This is NOT an individual phone issue - see below, it is happening on multiple OS versions and devices, also a quick Google search will confirm that I am not the only person noticing this issue.  Using a computer and telnet, a connection to the mail server in question from the networks in question can be left open indefinitely.

At the very least, K9 should not sit around for half an hour waiting for a connection to time out before it opens a new one.  But that still doesn't resolve the issue of why these connections are being lost/closed/destroyed/causing errors.

Attached is a logcat obtained per the K9 bug report instructions, as well as an unfiltered LogCat while manually asking K9 to poll, causing it to hang up.

This problem is happening on a Samsung running OS 4.4.4, and a Droid Turbo running OS 5.1.
This problem occurs using IMAP with EITHER polling or IDLE.
This problem occurs on 3G, 4G, and multiple internet connections.
This problem occurs with multiple e-mail providers.

If the connection is used every minute (either via e-mails coming in, going out, etc., or by a poll or IDLE refresh), the connection is fine. If the polling or IDLE refresh is set to anything longer than a minute, and no e-mails come in or go out, the connection stops working.

Once the connection has gone unused for over a minute, any attempt to do anything with the connection (poll, send e-mail, delete an existing email) will cause K9 mail to hang up (the application still responds, but it is stuck trying to communicate with the server).

LogCat output is attached.
"
k9mail/k-9,closed,Settings Export/Import ,"[Label(name=""bug""), Label(name=""needs info"")]","I have 3 accounts in K9 and performed an export from an old device to a new device. Only one account (IMAP) worked afterwards. The two POP3 accounts did not work after import. I had to delete and recreate the accounts for the two POP3 mailboxes in order for them to work. I can provide the settings file (privately) if needed. 
"
k9mail/k-9,closed,K9 hangs up if connection goes unused for around a minute,[],"This problem is happening on a Samsung running OS 4.4.4, and a Droid Turbo running OS 5.1.
This problem occurs using IMAP with EITHER polling or IDLE.
This problem occurs on 3G, 4G, and multiple internet connections.
This problem occurs with multiple e-mail providers.

If the connection is used every minute (either via e-mails coming in, going out, etc., or by a poll  or IDLE refresh), the connection is fine.  If the polling or IDLE refresh is set to anything longer than a minute, and no e-mails come in or go out, the connection stops working.

Once the connection has gone unused for over a minute, any attempt to do anything with the connection (poll, send e-mail, delete an existing email) will cause K9 mail to hang up (the application still responds, but it is stuck trying to communicate with the server).

I did force close K9 after waiting 25 minutes for it to give up trying to communicate with the server and/or throw an error.  Once it was force stopped and re-opened, the following error was in the error folder:

java.net.SocketException: recvfrom failed: ETIMEDOUT (Connection timed out)
    at libcore.io.IoBridge.maybeThrowAfterRecvfrom(IoBridge.java:592)
    at libcore.io.IoBridge.recvfrom(IoBridge.java:556)
    at java.net.PlainSocketImpl.read(PlainSocketImpl.java:485)
    at java.net.PlainSocketImpl.access$000(PlainSocketImpl.java:37)
    at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:237)
    at java.io.InputStream.read(InputStream.java:162)
    at java.io.BufferedInputStream.fillbuf(BufferedInputStream.java:149)
    at java.io.BufferedInputStream.read(BufferedInputStream.java:234)
    at com.fsck.k9.mail.filter.PeekableInputStream.peek(PeekableInputStream.java:34)
    at com.fsck.k9.mail.store.ImapResponseParser.readResponse(ImapResponseParser.java:42)
    at com.fsck.k9.mail.store.ImapResponseParser.readResponse(ImapResponseParser.java:29)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.readStatusResponse(ImapStore.java:2775)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.executeSimpleCommand(ImapStore.java:2925)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.executeSimpleCommand(ImapStore.java:862)
    at com.fsck.k9.mail.store.ImapStore$ImapFolderPusher$1.run(ImapStore.java:3151)
    at java.lang.Thread.run(Thread.java:818)
Caused by: android.system.ErrnoException: recvfrom failed: ETIMEDOUT (Connection timed out)
    at libcore.io.Posix.recvfromBytes(Native Method)
    at libcore.io.Posix.recvfrom(Posix.java:185)
    at libcore.io.BlockGuardOs.recvfrom(BlockGuardOs.java:250)
    at libcore.io.IoBridge.recvfrom(IoBridge.java:553)
    ... 14 more
"
k9mail/k-9,closed,Saving Drafts will give new mail notifications,"[Label(name=""invalid"")]","Wheneve a new draft has been saved, k-9 gives a notification counting it as new mail.
"
k9mail/k-9,closed,Adding attachment infomation to downloads database for it will appear in Downloads App,[],"Addressing issue#745 partially by adding downloaded attachment information to Downloads database.
"
k9mail/k-9,closed,Ability to view all message details in notifications in case of multiple new mails,"[Label(name=""duplicate"")]","Dear K9 developers, 
thank you a lot for providing this great app. 
From my point of view, it would be nice to have the option to read full mail information in case of multiple new mails. By now this is only possible in case of a single mail. In case of more than one new mail, information and options are limited to subject and sender. 
This, for example, is very easy to handle with the Gmail app. 
This is important when using a SmartWatch like the Gear S2. 

Best wishes 
Dieter
"
k9mail/k-9,closed,Default IMAP server for gmail is mail.gmail.com,"[Label(name=""invalid"")]","Default IMAP server for gmail should be imap.gmail.com but the default value is mail.gmail.com
"
k9mail/k-9,closed,Ownership/Kaiten,[],"This is not a technical question, but I'm curious if this blurb from Kaiten mail is correct:

""Kaiten is based on the popular open source app K-9 Mail and was built by K-9's lead developers Jesse and Chris. By buying Kaiten you not only get an awesome email client, you also support the open source version because almost all of the new features are contributed to K-9 Mail.""

K-9 has seen many new releases, Kaiten seems abandoned.  Are the lead developers noted above part of the current K-9 team or did I give my money to random hucksters?
"
k9mail/k-9,closed,Notification icons cleanup,[],"- Use drawables separate from action bar icons for notifications
- Generate PNGs for notification action icons from vector drawables
- Let the resource system do its job and don't perform manual platform checks for drawable selection
"
k9mail/k-9,closed,add google login api! ,"[Label(name=""duplicate"")]","Hi, thanks for your good work. In the time, google has make more changes for the login. All new mail Apps have addet the new Google API for the Login, please add that to your app. thanks 
please forgot my small or wrong english :-) 
"
k9mail/k-9,closed,Mails shown twice,"[Label(name=""invalid"")]","Mails in my gmx.de ""Posteingang"" (inbox) shown twice by k9. Number of unread mails is OK. E.g. I currently see number=1, but after opening the corresponding inbox, I see my single new mail twice (I could send screen-shot if needed). With my second web.de account there is no problem!?

Addition: Mails are also send twice from this gmx.de-account.

Android 5.0 on Medion Lifetab 10 inch tablet.
"
k9mail/k-9,open,Add support for SOCKS proxy,"[Label(name=""enhancement""), Label(name=""help wanted""), Label(name=""security"")]","- [ ] Use proxy for IMAP connections
- [ ] Use proxy for POP3 connections
- [ ] Use proxy for WebDAV connections
- [ ] Use proxy for SMTP connections
- [ ] Use proxy when downloading remote content displayed in WebView
- [ ] Use proxy when downloading remote images (long-press in WebView)
- [ ] Add option to configure SOCKS proxy before setting up the first account

See also https://code.google.com/p/k9mail/issues/detail?id=2834
"
k9mail/k-9,closed,Hide alternate email address popup when user continues to type,"[Label(name=""bug""), Label(name=""good first issue"")]","When using a hardware keyboard it's possible to continue writing text while the dialog to select alternate email addresses is displayed. The can lead to the auto-complete popup being drawn on top of the alternate address popup.

![k9mail_alternate_addresses_and_autocomplete](https://cloud.githubusercontent.com/assets/218061/12011470/65e96034-acce-11e5-9080-ef8da2e78795.png)
"
k9mail/k-9,closed,Formatting of welcome screen,[],"Detail: The size of the button “Import settings” on the welcome screen should be bigger, so that is not truncated.

![k-9 mail_startseite](https://cloud.githubusercontent.com/assets/11010835/12008281/e200d00a-ac31-11e5-9704-10c4b26f0cc6.png)
"
k9mail/k-9,closed,not connecting to ZOHO mail servers,"[Label(name=""invalid"")]","Does not connect to ZOHO mail servers using Exchange, IMAP or POP.
"
k9mail/k-9,closed,K9 mail hangs up if the connection goes unused for over a minute,"[Label(name=""invalid"")]","This problem is happening on a Samsung running OS 4.4.4, and a Droid Turbo running OS 5.1.
This problem occurs using IMAP with both polling or IDLE.
If the connection is used every minute (either via e-mails coming in, going out, etc., or by a poll  or IDLE refresh), the connection is fine.  If the polling or IDLE refresh is set to anything longer than a minute, and no e-mails come in or go out, the connection stops working.
Once the connection has gone unused for over a minute, any attempt to do anything with the connection (poll, send e-mail, delete an existing email) will cause K9 mail to hang up (the application still responds, but it is stuck trying to communicate with the server).
I did force close K9 after waiting 25 minutes for it to give up trying to communicate with the server and/or throw an error.  Once it was force stopped and re-opened, the following error was in the error folder:
java.net.SocketException: recvfrom failed: ETIMEDOUT (Connection timed out)
    at libcore.io.IoBridge.maybeThrowAfterRecvfrom(IoBridge.java:592)
    at libcore.io.IoBridge.recvfrom(IoBridge.java:556)
    at java.net.PlainSocketImpl.read(PlainSocketImpl.java:485)
    at java.net.PlainSocketImpl.access$000(PlainSocketImpl.java:37)
    at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:237)
    at java.io.InputStream.read(InputStream.java:162)
    at java.io.BufferedInputStream.fillbuf(BufferedInputStream.java:149)
    at java.io.BufferedInputStream.read(BufferedInputStream.java:234)
    at com.fsck.k9.mail.filter.PeekableInputStream.peek(PeekableInputStream.java:34)
    at com.fsck.k9.mail.store.ImapResponseParser.readResponse(ImapResponseParser.java:42)
    at com.fsck.k9.mail.store.ImapResponseParser.readResponse(ImapResponseParser.java:29)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.readStatusResponse(ImapStore.java:2775)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.executeSimpleCommand(ImapStore.java:2925)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.executeSimpleCommand(ImapStore.java:862)
    at com.fsck.k9.mail.store.ImapStore$ImapFolderPusher$1.run(ImapStore.java:3151)
    at java.lang.Thread.run(Thread.java:818)
Caused by: android.system.ErrnoException: recvfrom failed: ETIMEDOUT (Connection timed out)
    at libcore.io.Posix.recvfromBytes(Native Method)
    at libcore.io.Posix.recvfrom(Posix.java:185)
    at libcore.io.BlockGuardOs.recvfrom(BlockGuardOs.java:250)
    at libcore.io.IoBridge.recvfrom(IoBridge.java:553)
    ... 14 more
"
k9mail/k-9,closed,PGP encrypted message body and key shown as attachments,"[Label(name=""duplicate"")]","Actual behavior: The following message has been created with Thunderbird and Enigmail. On the recievers phone with K9 and AGP, two attachments are being displayed. The first contains the encrypted contents (filename encrypted.asc), the second contains the key of the sender (noname.pgp). The unencrypted message part in K9 is empty.

The „encrypted.asc“ can be decrypted and verified correctly with AGP manually.

```
From - Wed Nov 11 11:11:11 2015
X-Account-Key: account4
X-UIDL: UID123-1234567890
X-Mozilla-Status: 0011
X-Mozilla-Status2: 00000000
X-Mozilla-Keys:                                                                                 
Return-Path: <Christian.Schulz@cs13-2.ba-leipzig.de>
X-Original-To: Christoph.Mueller@cs13-2.ba-leipzig.de
Delivered-To: Christoph.Mueller@cs13-2.ba-leipzig.de
Received: from [123.123.123.123] (456.456.456.456.xxxxx.xxxxx.com [456.456.456.456])
    by mail.ba-leipzig.de (Postfix) with ESMTP id 0411E481C10B
    for <Christoph.Mueller@cs13-2.ba-leipzig.de>; Wed, 11 Nov 2015 11:11:11 +0100 (CET)
Subject: Re: Example
To: =?UTF-8?Q?Christoph_M=c3=bcller?= <Christoph.Mueller@cs13-2.ba-leipzig.de>
References: <12345678.1234567@cs13-2.ba-leipzig.de>
 <12345679.1234568@cs13-2.ba-leipzig.de>
 <12345680.1234569@cs13-2.ba-leipzig.de>
 <12345681.1234570@cs13-2.ba-leipzig.de>
 <12345682.1234571@cs13-2.ba-leipzig.de>
 <12345683.1234572@cs13-2.ba-leipzig.de>
 <12345684.1234573@cs13-2.ba-leipzig.de>
 <12345685.1234574@cs13-2.ba-leipzig.de>
 <12345686.1234575@cs13-2.ba-leipzig.de> <12345687.12345@cs13-2.ba-leipzig.de>
From: cs13xxx <Christian.Schulz@cs13-2.ba-leipzig.de>
X-Enigmail-Draft-Status: N1110
Message-ID: <12345688.1234576@cs13-2.ba-leipzig.de>
Date: Wed, 11 Nov 2015 11:11:11 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.4.0
MIME-Version: 1.0
In-Reply-To: <12345687.12345@cs13-2.ba-leipzig.de>
Content-Type: multipart/encrypted;
 protocol=""application/pgp-encrypted"";
 boundary=""9mIuqla63pooR9GRsc9iNNUo8iQUcSpDm""

This is an OpenPGP/MIME encrypted message (RFC 4880 and 3156)
--9mIuqla63pooR9GRsc9iNNUo8iQUcSpDm
Content-Type: application/pgp-encrypted
Content-Description: PGP/MIME version identification

Version: 1

--9mIuqla63pooR9GRsc9iNNUo8iQUcSpDm
Content-Type: application/octet-stream; name=""encrypted.asc""
Content-Description: OpenPGP encrypted message
Content-Disposition: inline; filename=""encrypted.asc""

-----BEGIN PGP MESSAGE-----
Version: GnuPG v2

hQIMA28OI0ZFbYPaAQ/+P4QCq4ZbYdLRUCfiAK5G+cXPD5zZv8kDTfb9WtlZZDtL
pNR2WyoOuoKmMmNBmOj0TaHZ6WSgce03oGmkF2xd9aZeTS/0qGb4IK7CcNzP6oYv
aZDzt8v0SVKsZZJHnqGcb+OGE1RpBMQ6+gnVllTu7uP+JOVJDvKPgQV/ogRXq/+2
iWblFbt4mVSqNf0hmJyT26hP0BP7MZu5UpWpXPBkg7UmDOa/iMwNPY1Nn9CSg8aL
fGzp8D/+rr3uAIOQ7tu4j83q966o5GwZTJjcttacp6Hspyo+mAt/1CVW5vgWVqnG
qmbZm9bBdiBpLRgz6J0Ad+pKKGTFKyElb64bpQXC5wYIt/iA+s3OHJAkssej13uM
YoSnmCntzMe2b/sIw4KYMr7YVD+5eA8Q1AGxbQGxFEoYoqzwaoNmpb6OFPdMFNYE
Jr4JKvwkWJg1qMD0N85zSrObIKt69F6uOT6QPxrIZvCZPIRdaij5znNiOcxZq68H
MaHPRHPMEtSmW+QsiOX+sCjcbfeXKtyZNQKbQ7jaH69bPI+EEjx8wZF6WOOr8bXw
h99NiIwDxwA8VsFWzVpDr98CYidvrJWqgRgNLvYE8KTokoSluv2TqTy/7xMhYeDm
XWtG5mLQvmw1pBWyH1QMIoxDOdA1yHYPpfAUVBLilbI2hrhrSUFn3hrD3nI/NTeF
AgwDpXb0BUHNMNIBD/wNDsBhWqgbN/5BI5YeXmivbp85uYXe0AvEAoXvrPRLIuV8
LNhU2q2F1zGnHGR0PBUK3ijDUHa37QvHGmgSz36NX2qCKMqiMIvRKcfIaqL85L5E
pVjcNUBeACjoVouHzxsaoIHFYShLqcPOo9Bd/UZcF9WLnQjsh/a8c8cAKBwGNTZB
Y5wNakx5JFzQsPab7R+pwScuWwd/avq+6nfMrXeOGJ+bh2X/X70qh+9dy3rYOb1h
n3KVLGbvzBvUuyJyFGXL8Me3nmYnUI866Sg2rQ3og7R2aqhX8VjIAf0gPUMMjBL2
Un+CvxKHppsVRjobO1SLhw01NkvB4V626L5UNa9DcxaXY3OPTfF5fnAuLpdi2n0q
4ypp79Y3IOpbxHok6xVXK7ImLVubXKd2YsozobEBfTJxB2r8JFCCF4/2aHFu9WdS
EWj5q1UXLON72pENxj8Q5F5sTN73S8TPfT10iSBCTjvYU/wtH6B0q49FvWv4ZKxS
mwd7U2sWpsYUFFK/t+dOoTFm/pcSVCdExlPSnH/H4SKALKdf0xywXfpLuO8CwBic
tud+nUobpV2Ken+L06C6VdOJDo6gIayuPoHmoO6uXgbwpo7Cgbup0UeToYVJbcHu
pPkNodK4urZAyDa01/hweXsa1zauEUEEsoLxH9oaO3U/1BI/8/DookUBAUGunNLq
ATmarKVBXhKuikT3MGSbbMSBxW2VMZWchaGyRvhB5GPEOyFkLPcL/X3rrOXGut3S
mIVxMrgVgppxr7uuWm2nCoV8MjEFWAlnjXqFK9f01sZ+qbnQJyrL7O1+Y8xoeWFH
pIC/4+0E1sOHdG4TB2yXYWrVesMX1mB0WWeMWaGjmw9bNjenDZpZ8KWlhz48pfKl
OFSjo6UcV1A7DimqG+5PBxt/Bot78rvL/n5OKUa3BYVvav9f/ccO7YcVdPFnaDpZ
/TrhJ43Gqh4PIac/TA8p8rMEpbD++q2BLZpM8bWHikLh/jsRxcGCosQUNln5hsXo
b1Y9WbHU17D15QpzJDpzmCsWDfLT/kjl2erqIGGI30bfhbMBq3diOw52IiBzlMVL
EEVWEPYQ4cN0vT0LUJSIdfaESidwPUl2Z3zSWmUIBv0lWc5m1FvA5+PHh3hEAvfK
h+w7s5I0Qi0iG52lEl4OCGvmf/D8AqMB5KXorr9kvAqCknL980R0hA4rFUhmz+/b
FnPxG9aiLcs6cEw5C5iEZm8c0iRrBUya7NAAZ0osH0XTDUvLrn6HC6xSf5z/8UXm
Iv7rrUYbWF4otEXS87XT3j057SZhXMzCzFfMI0CNxmY8PdNIE8A/Qwd/GHNog+Z3
G7/AJ2t+7V6uWgAVYQn3cQFxAdzGOWFI8q6L5pIlVFXX6pxs/axjerddcZ6/ZM0b
/Qz+mQEdC88XaX3fMh4Aoz68+yNHPynv3j12+iqwlwo/LW3HWRS7yXTI4mYfma/w
ryIvSU27/Ln7pXD2qq0HyLrSDAQuv4GfKnX8hPTmFzsaHo98gpDJNWJkQ00xsb5o
EUrZkkQh7LOHvDEsPm+QQl8I9uF92217sckMWW5jJEM3F9LxJbikPQ4opLozhXzJ
RHt/ECnlwoXFxeZShy/kvFp4o7r2+Mzk9hzVXkI2no0ifGs2nE0LUKE3ZH1Vx0ky
j9+9YfNg6c68U2IlD4K8hMT0rm8C3w2ZI245y1ofyG1ojVSvf0HeJWks9aTMa3vp
MjcwGrmQHS3byboMGSeQHJuiWzFyT6jRh9JekkTmUWU3qwx6KYDtNCf/VTkvbFkL
Eu0j9atPn2LBq9n9lGq+H9gDZiCCVGHUI7lMWtVHbIse/cLdcl+84ehbOuwiTEnX
/NpOLCnUje4WF/dkktSeUs95byuQsd3tqVQqz462qkOJvadjKK+FtGen2uJXZhE0
PKzTNB34MmtyZl0o4M9ExGFTtifwEhoFwuoxuThTkihzwtK2ZGYfPAKHd1fbUwas
AUQfUnh6iIX+n5dj1cEO+UT2GX7YYKi0PDuW86ODTsC9GfCgFH0mt16sG+XKvO/D
muZdTPxEltA6+p8hNEbvqMDWpJfdy9kjCAKGJv1DYV19keJS7H9qjEtZPvKBEpSN
b+0gCFdTe7vv1tikXsuVhJoAHFOO+j4LFC1gE+CB54g7eB583PafnaNeAkFJP3dH
uNh2/6ASn6W8LZU38y8fpiP0HHpWe9wM5GHtfIxpri9YX9iGalF9Zn3QdEroMOQw
/8jCFVe9O9sISih34Ye8Sx0v8s6iRKO0/4iKzLH7oaFUhKTRw2jklavKE/UEfNsD
Lo/o3OEYoJLws/DlRJFdHAz3+Y68OI1SsUVNyQYZ0VQ/gb95mW5l7OgrM1QXCxU9
48ufp93gnuSJA9uvm3dZnEGXCC6E5datpdPklcuU4aOvYSM/FhKKMxkNGNYw3dfW
ZBFCJ32ZfwR6m20sXZTssiqBjb9EynIisDS37CMgpu7z1/2Hwyd9vF2h9VherF/r
jOfJSGFgIULnaYON/ikI6kihKmttedhUUIFrl/hUfjypisj0X1HvuhFMZpThsEe3
27dwyZN33efqOYylIq9A+7XVLsH7GjokpCA0WO4da9e/zWG7KHBy7w==
=dhCa
-----END PGP MESSAGE-----

--9mIuqla63pooR9GRsc9iNNUo8iQUcSpDm--

```

However, with some Thunderbird clients sent messages are displayed correctly in K9 mail so that the mails may be decrypted with a single click. (This is the expected behavior.)

```
From - .....
X-Account-Key: account4
X-UIDL: UID123-1234567890
X-Mozilla-Status: 0013
X-Mozilla-Status2: 00000000
X-Mozilla-Keys:                                                                                 
Return-Path: <mmoebi@gmx.de>
X-Original-To: christoph.mueller@cs13-2.ba-leipzig.de
Delivered-To: Christoph.Mueller@cs13-2.ba-leipzig.de
Received: from mail.ba-leipzig.de (....)
    by mail.ba-leipzig.de (Postfix) with ESMTP id .....
    for <christoph.mueller@cs13-2.ba-leipzig.de>; ..... +0100 (CET)
Received: from .....
    by mail.ba-leipzig.de with esmtps (TLSv1.2:DHE-RSA-AES256-GCM-SHA384:256)
    (Exim 4.82_1-5b7a7c0-XX)
    (envelope-from <mmoebi@gmx.de>)
    id .....
    for Christoph.Mueller@cs13-2.ba-leipzig.de; ..... +0100
Received: from ..... by mail.gmx.com (mrgmx003) with
 ESMTPSA (Nemesis) id 0LgISa-1aYiXu1EEW-00nh6z for
 <Christoph.Mueller@cs13-2.ba-leipzig.de>; ..... +0100
X-CTCH-RefID: str=.....,ss=1,re=0.000,recu=0.000,reip=0.000,cl=1,cld=1,fgs=0
Subject: Re:
To: =?UTF-8?Q?Christoph_M=c3=bcller?= <Christoph.Mueller@cs13-2.ba-leipzig.de>
References: <.....@cs13-2.ba-leipzig.de>
From: =?UTF-8?Q?Matthias_M=c3=b6bius?= <mmoebi@gmx.de>
Message-ID: <.....@gmx.de>
Date: Wed, 23 Dec 2015 12:19:12 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.4.0
MIME-Version: 1.0
In-Reply-To: <.....@cs13-2.ba-leipzig.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-Provags-ID: V03:K0:.....==
X-UI-Out-Filterresults: notjunk:1;V01:K0:.....==:.....==

-----BEGIN PGP MESSAGE-----
Charset: utf-8
Version: GnuPG v2

hQIMA28OI0ZFbYPaAQ/+IjT19hA2eRhBsDSePCSexymmzUfsYeBfn3b4rSobYoRl
xrJxFq7cqqjP2jG8TCgHUc+gqVdyu+sBlN9kDl70PoWt7lsTy4NiUUOptvF69+rD
UgHu2Si/iRBgjO1/L77h40eiEIRPwgu+kfx79JlohpmEN+1sw9LFMw+IsAqIOODh
RgSOnUlTm07qijRAMS2cOCqh9VsWschHuTBayYssCAyRmsabBHmPJYTkw4k57fHG
FBCrgtqHS1dfmmAW640KH4j++sinMswCjA7t96A9DGAZ93oEORW+19B376vBvZZq
x9Z9nXf/Azy7WMFfu6bt3UZh2LRTQgobZN1knWEwT9BehrqqbWcQZ3SnWMyY/EIt
2oFKUe1/l3eX3fClxdNdDn4kvDxzrThFm5f2Vm+Y0ez3xsJC3yK6h2lSObyMvgpH
DQDQha4zZITpycZS48ZlVfBbiww7ctkukmBEkmO09SXIP7Y7I979Qx9QcC2WGaXP
D5eCgNjTdj2qXEGVF37R6KHfv0uVXZAPgIlzxnf8HLDba3ZkN9D6AAY1Yine68Rf
KhoXsw+mwElcniCpnD1PWExnvIAD9hbTnoGvRUaGm0lfVBMCxtMaIg53gbc/Hc/x
pWteI0+PfqhYJgteygPlWe60HNgDWA0GBY5w1eJ8C/dqezwUyID5BPqOo50A9QSF
AgwDiCH9gQ7/97ABD/41oYHbqRUPYfSg1RYgaZb6s65W++alH+D/hMMZcu9/7wvi
hsauZwbaYrO7RSB1oJ80xMQnnVidWfAPuQyLybmOhkp76l96j2IDieX1Vf7XC6ll
vzZI1YuK5njFa3+7T96fZcjbyfQBgaRTnVdj4/jp5xvlqYza+TYaARcIML+OqUlX
pZGZnwgEVcnkrQU6DRlWsudiZAzMMU09RIEFq12fvZQstdP7YnEoJRIsxxLmwmbt
QfiO3lhIwN+vw+gbqdiw97MQg9Q8gjBM0CgxkK5vjZJ4WJsjw3nV7fUy6r6roxrN
0Ho27qHesSttjq5LaQ53faUCwi0A11OWcNeBdITJYNB1Nyird9AkAnIPi3qY0yuG
RM1DST2UOYgV7LX6ex9E69Rqqgs+mW2DJHNOJM5QeyMXn/qYA8h8/INf2wCi6OSX
PIiyZSm54OKtKKFGa+nR4H9b5pldb7g7BX9B89eRgBPOg00pa4Y0BAHtBEDAkUOE
IQgW21aF3LgVSW+jUugpZMuYkvoCQUGsnsW7+v3BLukP9C/QxFUnQBgyiYQ9fpP1
rNjXmMI9gSm/qhj8DUDqDL9WnVqOM2+GPTxkEJ5qbVPb/+RcgzE6pPHkUV0DERzK
kRT3oqi8CuqCffamdRJNVzszUmRSp42Etjmzz4u+hTN5UXwi3PU7FaPx5JcoWNLp
Aa3B33izLrMVgvS3Bnu7pms4AQpz/9UKFm4N+kvAOaQXunSQDJ/UwNWbaLCk78n+
nn1DN1eaB+Mx5rq3wH3Gc5NRLC9hDMbcifJo6FLN7bpZ2WVX0yIdDzIM7YMEYucc
tIUQNU+WIZ30g5IaQ0ItgeRgMxeolTly8dNu3ubmOh2eaotJwm8cpZkqDxYGu9gR
wfFHDk24QrXbXiNdW/BkA3PmNFl45FAgmPWQjX9E7uJBQP1o/cmw+EB0nj/jYpYk
os58OYQ8QzIlX/VUW5ajTH9BYbBVJ40lh0zrVE7KP5PAOqk/cpD84/pJpzlFlxD7
EYI6xxDmKryaQEuewNs+7M3soNtldifVaYWRZjNLLQd4BkmFqNCRo1R/GUGhlbx1
PxqCUS/JJ4vA7KUTewyvWbr4orQ5tYM8Tyhak8d8Reo/W2vMYlyw0RM31DqeFQO0
jBAzDnsOPfNTwLZPFgAqoaRRECOzbaRyHC3s8CpwlSy1oy/8M9JR0avYI22JmXVp
u6m33AgpjuT30chmk3xArzIFlckc84dpxmcjX+xOPPqROo6zQCg/PUGuFh8bZA0y
XBHr/3YfZwr4pI+t8J1QjgCgWrVQYotgpv1jn5+5EkKc4xMOpyWI26KnT9Ftilp3
tjyZSKB+yIAVmcW4IKOezXvIcw183N1u6dUsuIunL2DAztx91jF5XieWNTk5zdop
mfZZwv77U/T5CJZsW+X5CRbmpYGknpv1nDFfgDNl3j8zZEqSTn5BxlH/wBeke8bo
jTymCutnGlp7RoSQjZbcnbdEZreBbXsWFoTkRoMaMtAYYDeGeigrFZiGL9fInU50
5qM76ZGYAXhdtj4SCFu6vHrvPg30LdWZxxEGe3bmzCEiHyFmVnrELNoZu2BN518B
3m63z4i/Cqt5sC/n0WiPeTiT14hfb0bfp/R1j/hjRotnXnLAiWepM8Whe0aN5rAd
weUcUItCeFTTAzYTZhH1hbp1wXltoq4nMa4C1QjqhRlggUkyFFRBMRp8qqNjpUGB
jcWWhfFanXu4douu7P7Dz6LRiXMBUooNqzw6Fsgoi1AKtn0P2GgCvQzN6/1oPu76
h+Uhl742Jmf2UVKtIRFtvmMo655ezdGx6dWwuQavLWdi+U5Rc3eIbZpT7+cs9gAo
2UMBEjaE5bNrvKuKm06mpNWZNcLE7iWZLOhj1Q4eLn713EdvVwaw1cv5N+jiktvK
=RdUh
-----END PGP MESSAGE-----

-- 
This email was Virus checked by UTM 9. http://www.sophos.com

```

K-9 mail version: 5.007
Android version: 5.1.1 (Cyanogen OS 12.1-YOG4PAS33J)
Account type: POP3
"
k9mail/k-9,closed,K9 showing up black when opened from notification,"[Label(name=""needs info"")]","This occurs randomly, but sometimes when opening messages from the notification, K-9 opens up as expected but is simply a black screen.  Pressing Back to get to the message list still shows up black, only when backing out as far as the account list does something display on screen.

I'm unsure as to whether this happens from the Lock screen or normal notifications, or both (I'll try and figure out if there is any pattern to it).

Current versions, but this was happening before the upgrade of both:
Android 5.1 (Moto G)
k9 5.007

I don't recall experiencing it under Android 4.4.
"
k9mail/k-9,closed,Various build-related changes,[],
k9mail/k-9,closed,minor fixes for new recipient ui,[],"some smaller changes to the look & feel of recipient selection:
- use email picker instead of contact picker
- highlight query in search dropdown (not sure about the color choice here, could be more subtle imo..)
- hide keyboard before alternate address popup is shown
"
k9mail/k-9,open,Blank emails using Wi-Fi / No problem using cell service,"[Label(name=""bug""), Label(name=""needs info"")]","Thought this was an internal 'ghost' email but ABD & k9-log.txt file seemed to prove that incorrect. The message fetch size is set to ""Any Size"" and the messages ONLY come through when cell service is selected. Once Wi-Fi is put on [no change on Wi-Fi  or its config before/since update] messages come in as blank. Message list solely says (No subject) inclusive of parens - see images attached. Message itself has a greyed out ""Text"" in body of email, no recipient information or subject.

The time stamps are a minute off from my Outlook so I was able to coordinate them to each other - even though they were blanks. I forwarded received emails in Outlook via same and different accounts to test the theory. All emails passed through to K9 when on cell service and all fail/do as above when on Wi-Fi. Again, no change to Wi-Fi configuration before or after K9 update and K9 has worked with this wireless config for at least two years.

Phone: Galaxy 5S 'SM-G900V' [not rooted]
Android Version: 5 [as per Verizon 'about phone']
Wi-Fi AP: Tomato Firmware v1.28.1816

![img_20151221_134948](https://cloud.githubusercontent.com/assets/16326684/11938627/2fc83ab8-a7ea-11e5-8e2f-471db702dc27.jpg)
![img_20151221_134834](https://cloud.githubusercontent.com/assets/16326684/11938628/2fca308e-a7ea-11e5-8cf0-80f6376a7b8e.jpg)
![screenshot_2015-12-21-13-37-16](https://cloud.githubusercontent.com/assets/16326684/11938630/3467a3e2-a7ea-11e5-8811-e234d4b13144.jpg)
"
k9mail/k-9,open,Synchronisation disabled - Android 6.0.1,"[Label(name=""bug"")]","Using two devices with Android 6.0.1 (N5 and N7 (2013)) I'm experiencing the synchronisation getting disabled in (random?) intervalls.
It seems I can get it enabled again by switching WIFI Off and on again.
"
k9mail/k-9,closed,Make UidReverseComparator transitive,"[Label(name=""bug""), Label(name=""good first issue"")]","After loading a new mail message from pop3 server all messages dissapeared and in the inbox was visible just the message IllegalArgumentException. All messages were lost. I reinstalled K9, downloaded messages from pop3 server again, but two days later the same error arose and messages were lost again. 
I encountered this bug a year ago for the first time but now it's here again.
"
k9mail/k-9,closed,Feature request: EMM integration with ACE,"[Label(name=""wontfix"")]","ACE is a community of companies who are trying to standardize EMM settings for mobile applications. 

Would be awesome if k-9 would implement some of these features. What this would allow, for example; the app could be pushed and installed from AirWatch and the users settings (like exchange user/pass/domain/server/encryption) automatically pushed from AirAatch and configured in k-9 with no user or IT intervention.

Very useful in a large organization with an EMM solution in place.

http://www.appconfigforenterprise.org

Technical requirements: 
- Application must define application restrictions in AndroidManifest.xml
- Register a receiver for the ACTION_APPLICATION_RESTRICTIONS_CHANGED broadcast action
- Read and apply restrictions using UserManager.getApplicationRestrictions() immediately after first launch of the application, and whenever the restrictions change as indicated by the ACTION_APPLICATION_RESTRTICTIONS_CHANGED broadcast
"
k9mail/k-9,closed,winmail.dat from mail from MS Exchange,"[Label(name=""wontfix"")]","Hello!

I have issue once I receive mail to my e-mail account and download them via k-9mail (show attachment) winmail.dat is in attachment. Once I forward the same mail to gmail, I'm able to see attachments. Also one I log in to my e-mail account from PC (RoundCoube) I'm able to see attachments. It is something how K9-mail interprets these attachments.

Mail type IMAP.
"
k9mail/k-9,closed,widget is 2x2 instead of 1x1,"[Label(name=""bug"")]","would like to use it like an appicon, the actual space it uses is only 1x1, but it instead centers itself in a 2x2 space, making it look write
quite ugly too. (works properly on my old Sony)
"
k9mail/k-9,open,Move functionality from RecipientLoader to its own class,"[Label(name=""architecture"")]","Once PR #962 is merged, move functionality from `RecipientLoader` to its own class(es). That way both testing and changing the method to perform the work off the main thread later will be much easier.

The fact that the loader is registering content observers make this a bit more complicated. So this should probably not done by a beginner.
"
k9mail/k-9,closed,Extract code to decode mailto URIs,"[Label(name=""architecture""), Label(name=""good first issue"")]","Move the code to decode `mailto` URIs to its own class and add unit tests.
Alternatively, we might want to use Android's [MailTo](https://developer.android.com/reference/android/net/MailTo.html) class.
"
k9mail/k-9,closed,Back-Button doesn't return to previous app,[],"Hallo 
since long this issue in k9mail is present: when I open k9mail through a mail notification in the info bar, when having any other app opened, and after reading that mail, I go back with the Back-Key, then this won't bring me to the last opened app (from where I opened the notification), this brings me to the home screen. This is not the normal behaviour I think, other apps don't ""forget"" from where they have been started.
The same thing is, when I have an app open and I open now k9mail through some kind of gesture (there are several apps doing this, e.g. ""Swapps""). I open k9 now and when I go back with the back button, the original app has gone, I come to the home screen.
The same issue I found with Threema, I guess it is the same bug.
But most other apps will bring me to the last screen (when I press the backbutton), from where they had been started, either through notification shortcut or other way I opened them, always I come back with the back button to the previous screen of any previous opened app.
Thank

frank
"
k9mail/k-9,closed,Key-aware recipient chooser,[],"this pr contains a couple of related changes to the MessageCompose activity:
- recipient-related logic is moved into a presenter
- the recipient selection widget is now based on TokenAutoComplete
- if available, the recipient selection pulls information about keys from a crypto provider
- there is a (non-final) crypto settings dialog
- some design changes to the recipient selection, ~~stolen from~~ inspired by the gmail app

a couple more notes:
- the key status functionality depends on an openkeychain development branch: https://github.com/open-keychain/open-keychain/pull/1615
- the fallback is not-quite graceful in that all keys are shown to have no key if the crypto provider doesn't support the new method. I don't think we need better handling there, since it only affects the scenario where the user uses a very outdated openkeychain with a new k9mail.
- the crypto setting dialog is not finished in design and available choices, and doesn't actually affect the sending yet (PR for that upcoming)
"
k9mail/k-9,closed,Email incorrectly sent from personal account with busness name ,"[Label(name=""bug""), Label(name=""needs info"")]","nexus 5 k9mail 5.007 previously on 5.006 - no issues prior.

to make it simple. 2 email accounts affected, one business and one personal. (personal default), both gmail.

i composed a new email switched to my business account, it saved to draft a few times as i as was trying to find the cheque book, i didnt leave the screen.

i sent the email only to find it was sent from my personal email with the business account name.
saved to my personal sent folder but with the business name/email being displayed,

the replied message displays it was sent from personal so k9mail was not displaying the correct email sent from.

seems like a rare occurrence and i dont know how to reproduce it.
i looked in the catlog (nothing), i realized i should of enabled extra debugging.

i will update if it happens again
"
k9mail/k-9,closed,Random (No subject)  emails - blank not authored by me,[],"I believe K-9 had a request for an update recently [a week ago or so?] and since all four devices my family owns has had these blank body/(No subject) emails randomly appear. Time-stamps are not rhythmic; totally random. Nothing changed on our end in terms of configuration so if anyone could lend a hand as to why it would be much appreciated.

Build:5.007
Samsung S5 [not rooted]
"
k9mail/k-9,closed,"Display ""*Encrypted*"" in message preview",[],"This introduces a database field for the preview type (currently supported values: none, text, encrypted).

The message preview in notifications and the message list will now show ""_Encrypted_"" for encrypted messages.

I also rewrote the code to create message previews to do less work. Previews might be slightly different now.

Fixes #575
"
k9mail/k-9,open,Clicking on new E-Mail Notification leads to error / empty e-mail when having 100 unread messages,"[Label(name=""needs info"")]","I had this problem several times now. If I reach 100 unread messages on one e mail account, I get a notification about a new email (that is in fact an not a new e-mail - it displays a title of an old e-mail) when the e mail account gets refreshed. If I click on the notification, it just opens a blank email.

Also, when reaching 100 unread emails - the unread counter doesn't increase even if there has a  really new email arrived.
"
k9mail/k-9,closed,Feature request: send via any address,"[Label(name=""duplicate"")]","I have a catch all email address and would really like to send as anybody custom at the time of creating the message. And then when receiving a new message to a new address I'd like to reply from that address. I'd imagine it would just be cloning an identity.

Cheers
"
k9mail/k-9,closed,Searching through big gmail account doesn't go very far back,"[Label(name=""invalid"")]","Seems only messages I've synced already are searchable using the app - would there be a way to use IMAP search tools to go further back?

This may be related to #920 sorry if it's a dupe of anything
"
k9mail/k-9,closed,Cannot send mail when connected to ipv6 LTE AP,"[Label(name=""invalid"")]","When my phone is connected to the internet over wi-fi, I have no trouble sending mail through a mail server hosted by Rackspace. When wi-fi is switched off, and the phone uses an LTE connection over an ipv4 AP, it can still send mail. When the phone connects to an ipv6 AP, it is not able to send mail. K-9 is able to retrieve mail from the same server under all conditions, but cannot send it under that one condition, even though no server settings are changed. Are some send mail server settings affected by ip version?

Saying the configuration must be wrong is not an engineering response. If that is the case, then there must be a reason why K-9 can send mail when connected via wi-fi or ipv4 LTE, with no other changes to server settings.

It's possible this is a Rackspace issue, but since I can only replicate it (every time) with K-9, it's not easy to convince them it's their issue. I have not tried this with the default Android mail client.
"
k9mail/k-9,open,"Attachments not rendered, lost upon saving draft","[Label(name=""bug"")]","Version 5.007 on Android 5.0.2:

Some types of message content cause existing message attachments to not be rendered while editing messages. If edits are saved, attachments are permanently lost.
##### From another client
1. Open Thunderbird\* and launch Help > Troubleshooting Information, then choose 'Copy text to clipboard'. 
2. Paste into draft message.
3. Add file attachment.
4. Save in drafts.

*_It's not clear exactly what HTML content causes this error. Basic entities like bold, tables, & text coloring don't trigger it but the Thunderbird troubleshooting dump does so consistently._
##### From K9 mail
1. Locate saved message in Drafts folder view
2. Observe paperclip icon on draft, indicating an attachment
3. Open message to resume editing
4. Observe message apparently has no attachments 
5. Save as draft
6. Observe paperclip icon is now missing, indicating attachment was lost outright

It's probably worth noting that all HTML is stripped out of the message body when you resume editing with K9 mail. 
"
k9mail/k-9,closed,Cannot send mail when connected to ipv6 LTE AP,[],"When our mail host was moved to RackSpace, I was not able to send mail from K-9 on some of my Android devices while using the LTE connection. If I enabled wi-fi, the mail was sent, otherwise, I would get an error message saying that mail could not be sent. This did not happen before our mail server moved.  I read something about ipv6, and noticed that my T-Mobile connection was using an ipv6 access point. When I changed the protocol used by the access point to ipv4 (I was surprised I was able to do this), the send errors stopped.  

For now, this workaround works, but at some point carriers may not allow the use of ipv4.  I do not know if this is only a problem with RackSpace, but it has happened on every Android device I have used when connected to an ipv6 LTE WAP.
"
k9mail/k-9,closed,IMAP wrong message sorting,"[Label(name=""needs info"")]","This issue was mentioned already on the old Google Code issue tracker here:
https://code.google.com/p/k9mail/issues/detail?id=726

Unfortunately it is obviously still not fixed as I see the same issue with wrong message sorting when using IMAP also with the latest version.

Although I really like K9-Mail due to its clean interface this makes the program completely unusable for me.

Is there any chance that this bug gets fixed?
"
k9mail/k-9,closed,Allow to place the signature above quoted text in response,"[Label(name=""invalid"")]","When answering a mail, signature is placed by default after the quoted text, which is troubblesome with long chains of mails (>20 successive answers). 

I'd like a setting allowing to place the signature between my answer and the next instead of a the end of the mail. 

I am sorry if this suggestion has already been made, I didn't take the time to read every single issue report and pull request. 

By the way, keep up that wonderfull app running and evolving, what you guys do is just wonderful !
"
k9mail/k-9,closed,Prepopulate user name field with mail address in account wizard. ,[],"Should fix issue #872.

I have an open mind about improvement suggestions! :smile: 
Please review and merge. Thanks!
"
k9mail/k-9,closed,Remove Flag.X_GOT_ALL_HEADERS. Fixes #891,[],"Should fix issue #891.
"
k9mail/k-9,closed,Individually encrypt attachments when using inline PGP,"[Label(name=""enhancement"")]","Only encrypting the body when using inline PGP seems like a bad idea. We should also encrypt the attachments instead of displaying a warning that attachments won't be encrypted.
"
k9mail/k-9,closed,Per-Identity setting for automatic signing or encryption,"[Label(name=""duplicate""), Label(name=""enhancement"")]","This would be very useful. When replying as a developer, I always want to sign. I want people to know for sure that it's me.

Among my family, I don't care all that much.
"
k9mail/k-9,closed,Can't read the full subject on long email subjects,"[Label(name=""bug""), Label(name=""needs info"")]","Hi,

I'm using K9 v 5.007 (from F-Droid) and realised there's no way to display the full titles of long emails except by opening it and then requesting to see the full headers.
I would have expected to be able to touch, or maybe long touch the subject to see it in full.

Hope this helps, a quick search didn't return any open issues about this.

Cheers

![screenshot_2015-12-11-15-09-04](https://cloud.githubusercontent.com/assets/1172256/11745779/db564c12-a01a-11e5-9749-c85656a60530.png)
"
k9mail/k-9,closed,password characteristics,"[Label(name=""invalid"")]","hello,

what is max length for a  password and what printable symbols are allowed?

regard
"
k9mail/k-9,closed,"[Bug + suggestion ] Random ""star"" maks","[Label(name=""invalid"")]","Hi. 
I use 5.107 and it works nicely except for one thing. 
Almost each time I mark all emails as read, one email, randomly, is marked with a star. 
"
k9mail/k-9,closed,Add ability to configure which notification actions are displayed,"[Label(name=""enhancement"")]","The notification button gets too large, so even tough I in settings have selected to show the ""Delete"" button, the buttons will be:

(icon) Reply (icon) Mark as R...

(with three dots, like theres not enough space to show the whole button ""Mark as Read"" and the ""Delete"" button)

Proposed suggestion to fix this:
1: Allow in Settings\Notifications, to select the size of the notification text.
2: Add options in Settings\Notifications, to show/hide the Reply button, and also show/hide the ""Mark as read"" button.

Phone: SM-G980A (Samsung Galaxy S6 32GB Camo Blue AT&T) running Android 5.1.1

Image:
![Too large notification](http://i.stack.imgur.com/tbbFY.png)
"
k9mail/k-9,open,GPG/PGP signing key should be on identity not account,"[Label(name=""enhancement"")]","Currently the user has to set the signing key per account.
It should be that the signing key is set per identity instead.

As the identity and key are tied to an email address but the account is not,
this is the natural order of things.
It also allows the user to use multiple signing keys based on his current role
(answering private mails, company mail or customer mail from the same account).
"
k9mail/k-9,closed,Mails not appearing in the inbox,"[Label(name=""bug""), Label(name=""needs info"")]","This is kind of hard to trigger. But it can be triggered at least on a Wiko Bloom and a Samsung Galaxy Note I:
- Read something in full-screen mode using the kindle app
- As soon as you get a notification for a mail that is part of a thread you have other mails of in your inbox tap the middle of the screen (which causes the notification bar to display) and while the notification bar animation showing the mail title mail by mail is still shown open the notification bar and tap on the notification from k9.
- As soon as the mail appears: Press the home button.

After that the mail is still in the inbox (Thunderbird will see it, the webmailer, too). But K9 Mail cannot see it anymore: It has disappeared from the inbox and the search function won't be able to find it, neither.
"
k9mail/k-9,open,Tap notification to abort send,"[Label(name=""enhancement"")]","Too often I send a message from the wrong account. Life would be less stressful if I could quickly abort sending by simply tapping the progress notification instead of diving for the modem. :)
"
k9mail/k-9,closed,max 100 contacts,"[Label(name=""invalid"")]","I created a contact group of 140 members for my party invitation.
I want to a send an email message to all the members of this group.
Contact group selection is capped at 100 entries.  Maybe there is a good reason for this, or maybe it's arbitrary.
As a work around, I selected the first 100, then individually hand selected the last 40 and joined the resulting addresses manually.
Can me make that cap value a settings parameter?
Or can we create a new function to copy the email addresses of a group to the clipboard?
Or we would make it possible to select a range of contacts so I don't need to check for example 40 boxes individually.
In short, contact groups don't scale well yet.
"
k9mail/k-9,closed,Error negative SMTP reply : 550 5.5.0 Emetteur invalide. Invalid Sender. LPN104_415,"[Label(name=""invalid"")]","Unable to send any messages since november with error smtp 550. server is smtp.laposte.net 
configuration SSL/TLS, port 465, normal authentication. No issue using gmail with the same configuration.

Error reported:

K9-Mail version: 5.006
Device make: LGE
Device model: LG-H815
Android version: 5.1
com.fsck.k9.mail.MessagingException: Unable to send message
at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:539)
at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:495)
at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3563)
at com.fsck.k9.controller.MessagingController$20.run(MessagingController.java:3314)
at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
at java.lang.Thread.run(Thread.java:818)
Caused by: com.fsck.k9.mail.transport.SmtpTransport$NegativeSmtpReplyException: Negative SMTP reply: 550 5.5.0 Emetteur invalide. Invalid Sender. LPN104_415
at com.fsck.k9.mail.transport.SmtpTransport.checkLine(SmtpTransport.java:649)
at com.fsck.k9.mail.transport.SmtpTransport.executeSimpleCommand(SmtpTransport.java:690)
at com.fsck.k9.mail.transport.SmtpTransport.executeSimpleCommand(SmtpTransport.java:654)
at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:521)
... 5 more
"
k9mail/k-9,closed,Trouble with the pop up scrolling menu for mail moving,"[Label(name=""invalid"")]","Hello ...
I have K9 Mail on my android based Note 5 and I wanted to move something that I accidently moved to the trash back out of the trash to the inbox ... according to the manual this should be doable via the long press popup menu ... however ... when I long press I get a very abbreviated version of the that menu and it dose not scroll to show me other options ... the move command and the many others are not showing ... I was able to forward the mail to myself again but that is a rather inept way of doing this ... how do I get the commands to shoe on the long press menu ... I should include that this is an issue in my POP3 account but not in my Gmail account ... 
"
k9mail/k-9,closed,New emails marked as read,"[Label(name=""invalid"")]","1) Log into webmail and see that all new emails are NOT marked as read
2) Use K9 to get new emails (only headers)
3) Reload webmail and now see that almost all (95-99%) of the emails that was unread 5 seconds earlier now are marked as read, even though they were not opened in K9
"
k9mail/k-9,open,enhance k9 mail identity selection,"[Label(name=""enhancement"")]","Identity selection could enhanced to make life a lot easier.
Today, it is really painful as it is in most client email readers.

Identity selection should be :
-free to edit and modify when writing a message (more or less as the recipient field currently is)
-automatically set with the best value guessed from the recipient values, when replying.
This would be a great feature to differentiate K9 mail from other rigid email clients.

Why?

I use the catch-all of my domain to handle a lot of different addresses.
Catch-all is really a great feature as it allows me to give anyone a unique email address in order to send me an email.
Consequently, I can, if I receive spam on this address, deduce that this correspondant may have abused my personal information.
I also use it to differentiate between groups of interest, without having to mess with a lot of mailboxes or aliases on the server side, as it is a painful task that can never be done correctly and is completely useless.

The only problem I see is to correctly select the account to associate with the email to be sent.
It could be deduced from the receiving account, when replying. Just use the same.
When not replying, either you are in an account view, and it is this account, or you are in the unified view, and this where creativity lies. Simplest solution would be to use the default account, but in my case, it is not the catch-all, so it's not that simple. I would make it this way : if the identity is the one associated with an account, use that account. If the identity is not the one associated with one account, use the 'default unassociated identity account', which is, in my case, the catch-all. In the end, the list-based feature can be used to force any configured account to be used.

This way, current behaviour does not change, but is extended and a lot more flexible than a fixed list-based feature.
Just imagine such a list-based feature for the recipient field in order to see what I mean.
"
k9mail/k-9,closed,Error: 505 when I try to install,"[Label(name=""invalid"")]","`Oneplus One (A0001)`
`Android: 5.1.1 (Cyanagen OS 12.1-YOG4PAS3JL)`
`Not Rooted`

I'm getting the following when I try to install:

![screenshot_2015-12-06-18-43-48](https://cloud.githubusercontent.com/assets/10982664/11614937/392c606c-9c4a-11e5-94bd-e58630abc6ce.jpg)
"
k9mail/k-9,closed,Can't find folders begining with 00=[,"[Label(name=""bug""), Label(name=""duplicate"")]","Fails to find IMAP folders beginning with 00=[

Tested with Dovecot IMAP server 2.2-2.1.  The affected folders were tested and visible under other IMAP clients such as Thunderbird, Roundcube, Squirrel mail, stock Android Email client, and GMail.
"
k9mail/k-9,closed,Retain caret position when toggling 'show password',[],"fix for issue #926
"
k9mail/k-9,closed,Design and usability help opportunity,[],"I don't intend to rub anyone the wrong way by suggesting this, but Simply Secure is offering ""free assistance with user-experience (UX) design as well as usability research"". As the definitive free software email client, I think K-9 Mail could benefit from this.

If you are interested in applying, more information is [here](https://simplysecure.org/blog/apply-for-help/).

Thank you for your awesome software work!
"
k9mail/k-9,open,iCalendar support,"[Label(name=""enhancement"")]","Having the ability to view and accept (including sending a reply (!)) meetings on mobile would be a pretty great option.

Steps required for this:
1. ical/vcalendar parsing (copy and paste logic from e.g. GNOME Evolution (https://git.gnome.org/browse/evolution/)
2. Displaying event information in mail.
3. Add parsed event to calendar.
4. Offer to send response to organizer/all attendees.
5. Create response (yet another vcalendar) and send it, if requested.

Step four should probably not forget the security signing hook (e.g. openkeychain).
"
k9mail/k-9,closed,"If account isn't setup properly, show email address instead of account description (fix for #922)",[],"Fix for #922 
"
k9mail/k-9,closed,"If account isn't setup properly, show email address instead of account description (fix for #922)",[],
k9mail/k-9,open,Undesirable messages when synchronizing,"[Label(name=""enhancement"")]","This is more a cosmetic issue than a real bug.
With Android 4.4.2 and K9 5.006, with two IMAP accounts configured, I'm in the Unified inbox view.
I scroll down in order to trigger a synchronization.
Synchronization is launched as expected.
In my case, no new mail is to be fetched, you may acheive this by sequentially synchronzing several times, as I've done.
Even though no new mail is to be fetched, several synchronization messages (I count 4 messages) are written in the ""top"" bar of the application (where all icons are shown : battery level, wifi level, GSM level, time, ...).
The same message is written each time (in my french version) : ""Vérification des courriels:"" with no information.

Even though I may understand the genericity of such a solution, I find it bothering.
As there is already an icon, at the bottom of the screen, that indicates an in progress synchronization, there is no need to display these messages.
My expected behaviour would be :
1- do not display the messages if the application is open and is already displaying the information
2- in the other cases do not display 4 times the same message
"
k9mail/k-9,closed,checking hide password checkbock makes carret move,"[Label(name=""bug"")]","When creating a new account.
1- Enter a few characters in the password field. Let's call these characters ""part 1"".
2- Check the show password checkbox.
3- Enter a few characters. Let's call these characters ""part 2""
=> the latest characters (part 2) are entered before the earliest (part 1)

Example :
part 1 = abc
part 2 = xyz
What is shown in the password field :
1- ***
2- abc
3- xyzabc

We should see abcxyz
"
k9mail/k-9,open,"""reply all"" should case normalize addresses","[Label(name=""enhancement"")]","i got a mail from a mailman list which uses munge-from. the original posting went to Foo@list.example.com, mailman replaced the original sender with the normal mail addess foo@list.example.com. a reply all via k9mail ended up in two mails to the mailing list because it replied to Foo@list.example.com (from the To: header) and to foo@lists.example.com (from the From: header).

if the mail addresses would have the same case, the k9mail would have reduced them to one.

k9mail should also handle the case of different cased double mail addresses right by comparing them caseless.
"
k9mail/k-9,closed,OpenPGP support: Compose Logic,[],"This is my working branch for OpenPGP support in the compose view. It is based off @alexandre75's work, and so far I have added key-awareness to the recipient picker, redesigning those parts of the UI into a TokenCompleteTextView workflow and applying an MVP pattern to relevant parts of MessageCompose in the process.

Note that this branch requires a development branch of OpenKeychain to communicate with: https://github.com/open-keychain/open-keychain/pull/1615

As mentioned this is a WIP PR. I'll try to keep it up to date about my progress, and do feel free to give feedback of course.
"
k9mail/k-9,closed,Add an option to prefer to display plain text for HTML/Plain multi-part mails. ,"[Label(name=""duplicate"")]","I, personally, don't want to have my display garbled with HTML mails by weird companies. :/
"
k9mail/k-9,open,Don't create an account until account creation is actually completed,"[Label(name=""bug""), Label(name=""enhancement"")]","Hi guys, this one is really trivial ;)

When trying to delete a freshly created account for which the creation wizard did not run all the way through, the confirmation dialogue displays ""null"" instead of a meaningful value (i.E. the email address).
This does not occur when the account creation wizard was completed to the last page.

Steps to reproduce:
1. Create a new email account by clicking the ""Plus"" button.
2. Enter your email address and your password. Then abort the wizard _before_ anywhere before getting to the last page (where you're asked for the account name) by pressing back.
3. You return to app's ""Accounts"" screen. The account has been created (though not completely configured)
4. Delete it by touching it for two seconds and selecting ""Remove account"" from the menu displayed.
5. You should see the confirmation dialogue as shown in the attached screenshot.

It seems the cause of this is because the account name string is not properly initialized until the last page of the account creation wizard shows up. That should be easy to fix ;)

Keep up your great work, I really enjoy that application! :)
Regards - Lucas

Screenshot:
![screenshot_2015-12-01-22-41-44](https://cloud.githubusercontent.com/assets/5623987/11515230/20922b5c-987d-11e5-85f4-25bfd818f4f9.png)
"
k9mail/k-9,closed,Envelope-From setting,"[Label(name=""wontfix"")]","There seems to be no way to set a value for Envelope-Sender / Envelope-From to use with an SMTP server, which seems to be required by some servers.

Would it be feasible to add a setting for this?
"
k9mail/k-9,closed,old messages not shown,"[Label(name=""needs info"")]","I have set “Sync messages from” to “any time (no limit)” but still don’t get the one old message I can access via pine (a desktop IMAP client) to show up in K-9 Mail 5.006 (using the very same IMAP settings)…

The message in question is not even a month old!
"
k9mail/k-9,closed,E-mail not displayed when there is a PGP signature in the quoted e-mail,"[Label(name=""duplicate"")]","I have this issue and cannot find any bugs (closed or open) here just on the old code.google.com website. 
As I still have this issue I guess it was not fixed, so I would like to report it here. (I have updated it with my device information)

**What steps will reproduce the problem?**
1.Using OpenKeychain and K-9 Mail, send a signed e-mail to someone not using PGP
2.Have them respond to your e-mail, with their client quoting the entire message
3.K-9 mail receives the message, displays it for a moment, then the signature is being analyized and from then on only the part below the beginning of the signature is being displayed, i.e. the actual replay can't be displayed in K-9 Mail

**What do you expect to have happen?**
First of all, K-9 mail should not recognize the signature (my signature) in the quoted part as valid and tell me, that the reply e-mail is signed. Second of all, it should in any case also display the rest of the e-mail (the reply above the quoted e-mail). 

If I view the e-mail in Thunderbird (with the Enigmail addon)everything is displayed correctly: First the reply, then the quote - first the info-part (from, to, sent, subject), then the line ""********\* _BEGIN ENCRYPTED or SIGNED PART_ *********"", and then the content of my original e-mail.

**What do you see instead?**
Only the quoted part, aka my original e-mail.

**What version of K-9 are you using?**
version 5.002

**What is your device and what version of Android are you using?**
HTC M8, Android version 5.0.1

**Is your email account a POP account, Exchange Account or an IMAP account?**
IMAP

Original bug report: https://code.google.com/p/k9mail/issues/detail?id=6745
"
k9mail/k-9,closed,Infinite sync notification,"[Label(name=""needs info"")]","Using the most recent K9 client on the most recent Cyanogenmod stable release on a Nexus 7 device, and using IMAP accounts, sometimes the sync notification with the clockwise-turning circular arrow animation is displayed infinitely.

As far as I have investigated, this issue happens when there is a successfully established WiFi connection into a network that has no Internet connectivity.

The notification persists in the tray even if K9 is stopped and restarted. It also persists even if K9 regains Internet access and successfully syncs the mail accounts. In this case, a second, similar notification is displayed just below the infinitely running notification in the tray, for the duration of the successful synchronization.

To get rid of the infinitely running notification, I have to reboot the device. Maybe the hard killing of process remnants using the Terminal also helps but I have not yet tried this solution.
"
k9mail/k-9,closed,An interrupted POP3 connection attempt to the server yields an SSLException,[],"This has already been fixed for IMAP connections. 

An interrupted POP3 connection attempt to the server yields an SSLException as well, like this:

E/k9 ( 6937): Caused by: javax.net.ssl.SSLHandshakeException: Connection closed by peer
E/k9 ( 6937): at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
E/k9 ( 6937): at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:302)
E/k9 ( 6937): at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:598)
E/k9 ( 6937): at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:560)
E/k9 ( 6937): at com.fsck.k9.mail.store.ImapStore$ImapConnection.open(ImapStore.java:2459)

We don't want the user to notify of 'certificate problems' in that case.
Fix it by checking whether the SSLException was actually triggered by a
CertificateException.
"
k9mail/k-9,closed,S/MIME crashes app,"[Label(name=""bug"")]","I'm using the master branch and opening PGP/MIME signed/encrypted mail works fine, but when I open a S/MIME signed mail, the app crashes.

```
11-28 11:26:29.522 21844 21844 D AndroidRuntime: Shutting down VM
11-28 11:26:29.530 21844 21844 E AndroidRuntime: FATAL EXCEPTION: main
11-28 11:26:29.530 21844 21844 E AndroidRuntime: Process: com.fsck.k9.debug, PID: 21844
11-28 11:26:29.530 21844 21844 E AndroidRuntime: java.lang.NullPointerException: Attempt to invoke virtual method 'int org.openintents.openpgp.OpenPgpSignatureResult.getResult()' on a null object reference
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.messageview.OpenPgpHeaderView.displayVerificationResult(OpenPgpHeaderView.java:184)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.messageview.OpenPgpHeaderView.initializeSignatureHeader(OpenPgpHeaderView.java:164)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.messageview.OpenPgpHeaderView.setOpenPgpData(OpenPgpHeaderView.java:70)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.messageview.MessageContainerView.displayMessageViewContainer(MessageContainerView.java:444)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.messageview.MessageTopView.setMessage(MessageTopView.java:94)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.messageview.MessageViewFragment.showMessage(MessageViewFragment.java:277)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.messageview.MessageViewFragment.onDecodeMessageFinished(MessageViewFragment.java:272)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.messageview.MessageViewFragment.access$1200(MessageViewFragment.java:56)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.messageview.MessageViewFragment$DecodeMessageLoaderCallback.onLoadFinished(MessageViewFragment.java:751)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.messageview.MessageViewFragment$DecodeMessageLoaderCallback.onLoadFinished(MessageViewFragment.java:741)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at android.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:483)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at android.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:451)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at android.content.Loader.deliverResult(Loader.java:144)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.message.DecodeMessageLoader.deliverResult(DecodeMessageLoader.java:40)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.fsck.k9.ui.message.DecodeMessageLoader.deliverResult(DecodeMessageLoader.java:15)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at android.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:265)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at android.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:92)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at android.os.AsyncTask.finish(AsyncTask.java:651)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at android.os.AsyncTask.-wrap1(AsyncTask.java)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:668)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at android.os.Handler.dispatchMessage(Handler.java:102)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at android.os.Looper.loop(Looper.java:148)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at android.app.ActivityThread.main(ActivityThread.java:5417)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at java.lang.reflect.Method.invoke(Native Method)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
11-28 11:26:29.530 21844 21844 E AndroidRuntime:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
11-28 11:26:29.533  2062  5906 W ActivityManager:   Force finishing activity com.fsck.k9.debug/com.fsck.k9.activity.MessageList
```
"
k9mail/k-9,closed,key-aware recipient chooser,"[Label(name=""enhancement"")]","For sending of encrypted mail, the recipient picker should be crypto-aware. There are a couple of things to consider, and some design choices to make. Let's-a go:

So first off, the material way to go is [chips](http://www.google.com/design/spec/components/chips.html#chips-contact-chips). There are a couple of libraries for that, in OpenKeychain we use [TokenAutoComplete](https://github.com/splitwise/TokenAutoComplete/), which is mature and flexible but not quite material-design. There are also libraries based on Google's internal chips library from the GMail app, like [android-chips](https://github.com/klinker41/android-chips), but those aren't really made to be anything else but regular contact pickers and I havn't found one which looked mature. Since material design in k-9 isn't really there yet anyways, I would go with the more established and maintained option here, i.e. TokenAutoComplete.

So, what do we actually want to show in the list? At the moment, a list of e-mail addresses (not contacts) is shown, queried from `ContactsContract.CommonDataKinds.Email`. This is the obvious thing to show, and it seems more reasonable than a list of contacts so I would just keep it that way. What I would like to add is an annotation to each address about its crypto-status.

In OpenKeychain, we have icons to show the key status - a green checkmark, yellow question mark, and some red ones for revoked/expired/unsuitable for operation. The problem is, outside of an explicit crypto context, it's not clear that these icons are about the status of some encryption key, so we really can't use them here. We also don't need info about special states of a key - revoked or expired keys are simply irrelevant for recipient selection.

My proposal would be to use Threema's concept: Three dots, with three states ""one in red"" / ""two in yellow"" / ""three in green"", all others greyed out. Check out ma [mock-up](https://dl2.pushbulletusercontent.com/ej9urTcljTmiDHTYjofFkmhS1j9WdDAN/IMG_20151126_150639.jpg). The idea is to be mildly alarming (""just one of three""), but also suggest a way to progress (""key available, two out of three"", ""verified that thing, three out of three!"").

A different approach would be a lock in different states (red/yellow/green with open / closed+questionmark / closed+checkmark), but I'm a) missing the progress aspect of the three-dots concept, and b) an open red lock next to each mail address is just a tad too alarming - if the UI tells the user ""this is unsafe!"", they might just migrate to a different program which is equally unsafe but does nothing to inform the user about that fact.

Some more thoughts:
- if a valid (or even confirmed) key is available, the user will likely want to encrypt - optimize for that.
- encryption without signing is not a reasonable use case and I would not support it.
- pgp/mime vs pgp/inline is an orthogonal problem to everything mentioned here, I would leave it for later
- do we need a contact-picker-button? the gmail app removed theirs recently. If we do, the information it displays should be identical to the dropdown.
"
k9mail/k-9,open,settings backup ,"[Label(name=""enhancement"")]","default account and position in account list is not saved in the backup file. settings are lost on reinstall 
"
k9mail/k-9,open,Links incorrectly highlighted in message body,"[Label(name=""bug"")]","The closing angle bracket included in the link passed to the browser:
<http://example.com/standard-link-notation-not-handled-properly>

An opening square bracket terminates link recognition:
<http://example.com/square-brackets-not-handled[properly]>
"
k9mail/k-9,closed,Widget cannot be placed on homescreen in Android 5.1.1,"[Label(name=""invalid"")]","On my new phone, running Android 5.1.1. the new mail wizard cannot be placed. I use K-9 Mail Version 5.006
"
k9mail/k-9,closed,"Support TLS extension ""SNI"" / Server Name Indication","[Label(name=""enhancement"")]","K-9 should support SNI as Let's Encrypt makes free & automated SSL Certificates widely available. Having virtual hosting on a single IP however any SSL Certificates are usable only if K-9 supports SNI.
https://en.wikipedia.org/wiki/Server_Name_Indication

SNI addresses this issue by having the client send the name of the virtual domain as part of the TLS negotiation.[2] This enables the server to select the correct virtual domain early and present the browser with the certificate containing the correct name. Therefore, with clients and servers that implement SNI, a server with a single IP address can serve a group of domain names for which it is impractical to get a common certificate.

SNI was added to the IETF's Internet RFCs in June 2003 through RFC 3546, Transport Layer Security (TLS) Extensions. The latest version of the standard is RFC 6066.
"
k9mail/k-9,closed,"Following Android 6.0 upgrade, K-9 unable to send emails",[],"Using a Nexus 7 gen2
After upgrading to Android 6.0,
I can no longer send emails.  Receiving still works fine.
Using STARTTTLS, port 587, signing with normal password.
After accepting the key for an unknown certificate (its always done this),
I receive ""Cannot connect to server (handshake failed)"".
"
k9mail/k-9,open,Add interface to allow third-party app to add actions to a message,"[Label(name=""enhancement"")]","Add an interface that allows third-party apps to add functionality like the one from PR #866.
"
k9mail/k-9,open,Add local mail filters,"[Label(name=""enhancement"")]","Allow various ways to match messages and allow triggering actions like moving, archiving or deleting a message.

This should be powerful enough to allow for something like #219.
"
k9mail/k-9,open,Add option to use fixed-width font when composing messages,"[Label(name=""enhancement"")]","See #387
"
k9mail/k-9,open,Add option for default display format,"[Label(name=""enhancement""), Label(name=""good first issue"")]","Allow the user to display `text/plain` parts of emails by default.
"
k9mail/k-9,open,Keep folder structure when archiving messages,"[Label(name=""enhancement"")]","See #526 
"
k9mail/k-9,open,Per-identity Sent folder,"[Label(name=""enhancement"")]","See #439
"
k9mail/k-9,closed,Add support for different sync settings based on the network type,"[Label(name=""duplicate""), Label(name=""enhancement"")]","Add support for different sync settings based on the network type, e.g. mobile data vs. WiFi.

See PR #54 
"
k9mail/k-9,open,Don't use special header to store information about a draft,"[Label(name=""enhancement"")]","Get rid of the special header and treat all drafts the same.
This probably requires some additional logic to figure out which text is the reply and what is the quoted text.

See e.g. #886
"
k9mail/k-9,closed,k9mail frequently crashes when deleting mail (bulk or individual) IMAP Inbox: BUG,"[Label(name=""bug""), Label(name=""needs info"")]","K9 mail client crashes almost every time I delete mail from my inbox.
Especially bulk delete.

I've done the basic things one would do to fix.
Reinstall, delete and recreate account.
There is plenty of disc space on my device. 
I've enabled debugging. 

I don't know what else to do.
Can you help please?
"
k9mail/k-9,open,Support yearly/monthly archive folders,"[Label(name=""enhancement"")]","Currently using Thunderbird as a desktop MUA, which supports automatically archiving messages into yearly or monthly subdirectories of the primary archive directory. Examples from Thunderbird below.

Yearly archive:
<img width=""352"" alt=""archive"" src=""https://cloud.githubusercontent.com/assets/5540445/11223256/b7db0cf6-8d77-11e5-863e-3ae888beb6fc.png"">

Monthly archive:
<img width=""347"" alt=""archive_monthly"" src=""https://cloud.githubusercontent.com/assets/5540445/11223339/24320d14-8d78-11e5-9c5f-0a8fa4f6f4f4.png"">
"
k9mail/k-9,closed,backslash in username does not work for IMAP login,"[Label(name=""bug""), Label(name=""needs info"")]","I need to access an exchange server via IMAP. My username has the form username@domain\special_mailbox .
Authentication with just username for the personal mailbox works fine but not for the special mailbox with the backslash syntax above.
I tried two backslashes since I suspected some java string escaping problem, but that did not work either.
"
k9mail/k-9,closed,Delete on Pebble,"[Label(name=""invalid"")]","Is there a way to get a Delete option to appear for Pebble notifications? I tried disabling 'Global settings > Interaction > Confirm actions > Delete (from notification)' which someone said would help but it was to no avail. Is this doable? (I know I can run another app K9email but would prefer not to.)
"
k9mail/k-9,closed,fixes #588 crash when canceling decryption,[],"fixes #588
- Decryption error was detected but not properly handled.
- I also changed the error message in a separate commit from ""OpenPGP error"" to ""Decryption failed"" as it better describe what is going on in my opinion.
  Thanks for examining this pull request,
  Alexandre
"
k9mail/k-9,closed,Crash when attempting to open a PGP/MIME encrypted email with an unknown key ,[],"When PGP provider doesn't own the key pair used to encrypt the email, K9 crashes with the following stacktrace if we attempt to open this email

```
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime: FATAL EXCEPTION: main
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime: java.lang.IllegalStateException: Fragment MessageViewFragment{41e6ab50} not attached to Activity
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at android.app.Fragment.getLoaderManager(Fragment.java:1014)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.messageview.MessageViewFragment.startExtractingTextAndAttachments(MessageViewFragment.java:267)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.messageview.MessageViewFragment.onCryptoOperationsFinished(MessageViewFragment.java:262)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.crypto.MessageCryptoHelper.returnResultToFragment(MessageCryptoHelper.java:451)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.crypto.MessageCryptoHelper.decryptOrVerifyNextPart(MessageCryptoHelper.java:126)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.crypto.MessageCryptoHelper.onCryptoFinished(MessageCryptoHelper.java:447)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.crypto.MessageCryptoHelper.onCryptoSuccess(MessageCryptoHelper.java:430)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.crypto.MessageCryptoHelper.handleCryptoOperationSuccess(MessageCryptoHelper.java:413)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.crypto.MessageCryptoHelper.handleCryptoOperationResult(MessageCryptoHelper.java:372)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.crypto.MessageCryptoHelper.onCryptoOperationReturned(MessageCryptoHelper.java:346)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.crypto.MessageCryptoHelper.access$400(MessageCryptoHelper.java:48)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.crypto.MessageCryptoHelper$7.onPostExecute(MessageCryptoHelper.java:333)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.fsck.k9.ui.crypto.MessageCryptoHelper$7.onPostExecute(MessageCryptoHelper.java:314)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at android.os.AsyncTask.finish(AsyncTask.java:631)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at android.os.AsyncTask.access$600(AsyncTask.java:177)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at android.os.Handler.dispatchMessage(Handler.java:99)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at android.os.Looper.loop(Looper.java:153)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at android.app.ActivityThread.main(ActivityThread.java:5299)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at java.lang.reflect.Method.invokeNative(Native Method)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at java.lang.reflect.Method.invoke(Method.java:511)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:833)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)
11-13 17:58:35.039 16253-16253/com.fsck.k9.debug E/AndroidRuntime:     at dalvik.system.NativeStart.main(Native Method)
11-13 17:58:35.087 452-471/? E/AppErrorDialog: Failed to get ILowStorageHandle instance
```

We should have some kind of message : ""Unable to decrypt""
"
k9mail/k-9,closed,Notifications Sounds,[],"Running 5.006 on a rooted Nexus 6P with Android 6, build MDB08K.
When email comes in there are no notifications sounds. Is this a setting that I cannot find or is it a bug.
Thanks...Great App, P Prog
"
k9mail/k-9,open,Feature: Scroll bar and message stars,"[Label(name=""enhancement"")]","A feature exists where its possible to toggle the star next to a message in folder view. Unfortunately on my 4.5"" screen on generic Android 5.0 it's almost impossible to use - most of the time you hit the scroll bar thing instead, also on the RHS, which is doubly bad as the message you're interested it then disappears off-screen.

Solutions:

1) Add an option to disable the scroll bar - it's almost redundant anyway.
2) Add an option to move the star to the LHS (personally, this is where I'd always put flags).

I know this issue has been raised on Google Code (e.g. Issue 6058) but I can't find anything to show it made it to Github.

Thanks, Frank.
"
k9mail/k-9,open,Improve error reporting on TLS connection errors,"[Label(name=""enhancement""), Label(name=""help wanted""), Label(name=""security"")]","Since we want everyone to use secure connections we have to make it easier for users to learn what exactly was preventing a secure connection from being established.
Ideally we also point them to an online resource to learn how to fix the problem.
"
k9mail/k-9,closed,Failure to connect Exchange 2003 OWA,[],"j7 from Samsung with 5.1 lollipop via WebDAV not think it's a customer's problem , nor OWA , from my old smartphone with android 4.4 can connect and try other WebDAV clients with the same result . From the browser I can also connect . The error is as follows:

MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
Subject: SSLHandshakeException: Connection closed by peer
Date: Sun, 08 Nov 2015 08:07:19 -0300
From: K9mail internal 
Message-ID: 

K9-Mail version: 5.107
Device make: samsung
Device model: SM-J700M
Android version: 5.1.1

com.fsck.k9.mail.CertificateValidationException: Connection closed by peer
at com.fsck.k9.mail.store.WebDavStore.doInitialConnection(WebDavStore.java:792)
at com.fsck.k9.mail.store.WebDavStore.authenticate(WebDavStore.java:694)
at com.fsck.k9.mail.store.WebDavStore.sendRequest(WebDavStore.java:1065)
at com.fsck.k9.mail.store.WebDavStore.processRequest(WebDavStore.java:1143)
at com.fsck.k9.mail.store.WebDavStore.processRequest(WebDavStore.java:1118)
at com.fsck.k9.mail.store.WebDavStore.access$500(WebDavStore.java:58)
at com.fsck.k9.mail.store.WebDavStore$WebDavFolder.getMessageCount(WebDavStore.java:1332)
at com.fsck.k9.mail.store.WebDavStore$WebDavFolder.getMessageCount(WebDavStore.java:1346)
at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:1038)
at com.fsck.k9.controller.MessagingController.access$300(MessagingController.java:113)
at com.fsck.k9.controller.MessagingController$35.run(MessagingController.java:4493)
at com.fsck.k9.controller.MessagingController.run(MessagingController.java:423)
at java.lang.Thread.run(Thread.java:818)
Caused by: javax.net.ssl.SSLHandshakeException: Connection closed by peer
at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:318)
at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:623)
at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:585)
at org.apache.http.impl.io.SocketInputBuffer.(SocketInputBuffer.java:75)
at org.apache.http.impl.SocketHttpClientConnection.createSessionInputBuffer(SocketHttpClientConnection.java:88)
at org.apache.http.impl.conn.DefaultClientConnection.createSessionInputBuffer(DefaultClientConnection.java:175)
at org.apache.http.impl.SocketHttpClientConnection.bind(SocketHttpClientConnection.java:111)
at org.apache.http.impl.conn.DefaultClientConnection.openCompleted(DefaultClientConnection.java:134)
at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:226)
at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:172)
at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:130)
at org.apache.http.impl.client.DefaultRequestDirector.executeOriginal(DefaultRequestDirector.java:1317)
at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:707)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:696)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:519)
at com.fsck.k9.mail.store.WebDavStore$WebDavHttpClient.executeOverride(WebDavStore.java:2453)
at com.fsck.k9.mail.store.WebDavStore.doInitialConnection(WebDavStore.java:757)
... 12 more
"
k9mail/k-9,closed,Remove Flag.X_GOT_ALL_HEADERS,"[Label(name=""cleanup""), Label(name=""good first issue"")]","It's not really used anymore.
"
k9mail/k-9,closed,Certain emails causing DKIM failures,"[Label(name=""bug"")]","Version 5.006

In some very small number of circumstances an email sent from K9 causes a DKIM failures as it gets passed through the Email service provider.  The result is that such emails will be marked with a very high SPAM score, and typically marked as ""Definitely SPAM"".

I have been able to replicate this issue with a particualar email for the service provider to replay and analyse what is happening. They have determined that the issue is that K9 is sending a message part with 8bit encoding and lines > 1000 characters in length.  They say this is against the RFC.  As such, MTAs in the mail path are automatically re-wrapping the very long lines of text in the body that violate the RFC and that breaks the DKIM signature on the body.

Regards, Z
"
k9mail/k-9,closed,multipart issue with empty body,"[Label(name=""bug"")]","I periodically receive a newsletter with following (simplified) content. 

```
Content-Type: multipart/alternative; boundary=""-----7D81B75CCC90D2974F7A1CBD""

-------7D81B75CCC90D2974F7A1CBD
Content-Type: text/plain
Content-Transfer-Encoding: quoted-printable


-------7D81B75CCC90D2974F7A1CBD
Content-Type: text/html; charset=""iso-8859-1""
Content-Transfer-Encoding: quoted-printable

<HTML><BODY>Some html text</BODY></HTML>
-------7D81B75CCC90D2974F7A1CBD--

```
### Expected behaviour

Html part displayed
### Actual behaviour

Nothing displayed
### Environment

K-9 Mail version: 5.006
Android version: 5.1.1

It works when there is text or an additional empty line in the plaintext part.
"
k9mail/k-9,closed,Add text- reflow Option,"[Label(name=""duplicate""), Label(name=""enhancement"")]","Some- or, many Mails have really small Fonts set. When i zoom in, i need sidewise scrolling to read.

So it would be great to have text- reflow for too lang lines, like the Opera browser has. 
"
k9mail/k-9,closed,Added spanish translations,[],"Added spanish translations and fix openpgp header layout
"
k9mail/k-9,closed,issues with saving to drafts,"[Label(name=""bug"")]","K9 doesn't save the signature in the draft.
Therefore it forgets changes in the signature that were made for this particular email.

And it saves quotations from previous emails to the draft even if you clicked on the x to not include them.
If you reopen the draft with K9 Mail the signature will be the default one again.
If you open it with another email program (IMAP) it won't display any signature at all (at least Thunderbird didn't)
"
k9mail/k-9,open,Adjust text not working properly,"[Label(name=""enhancement"")]","I receive news through email (rss2email) and some mails don't adjust the text when zooming in.
Those mails which fails contains images, which are coded like that (an example):
<img src=http://whatever width=800 height=640>

When the image is smaller than the zoom, the text adjusts correctly. Once the image is larger than the zoom, the text fits the image (800px in the example) and not the zoom, requiring to scroll horizontally to read the text, which is very annoying.

The no load images option is useless, as the image has the size already coded inside the email. It just displays a very large blank square.

PS: I'm using Android KK.
"
k9mail/k-9,closed,support for PGP/MIME,[],"Hi,
This pull request was at first dedicated to #572. I am now piling up issues from PGP/MIME milestone because it simplifies testing and integration of linked issues scattered on multiple branches. I'll start a new branch once this one will be merged on mainstream unless said otherwise.
## Done
- [x] fixes #571 K9Mail no longer crash when opening a S/MIME signed message ;
- [x] fixes #572 Add support for PGP/MIME composing (Preference Account->Cryptography->Use PGP/MIME) ;
- [x] fixes #575 Display _Encrypted_ in message preview ;
- [x] partially fixes #576 Composing of RFC-1847 message ;
- [x] fixes #588 Crash when cancelling passphrase input.
## What doesn't work/not tested/TODO
- [ ] #576 RFC-1847 messages are shown as ""Not Signed""
- [ ] #575 Initialize `message.encryption_type` on db migration. I am not sure how messages were stored in the previous schema, so can't parse them. Any document describing the old schema?
## Design notes
1. `MessageCompose.onSend` attempts a dummy encrypt/sign in order to ensure further crypto operation (on the WorkerThread) will succeed. If interactions with PGP provider are required it launches them. If no further interaction were required,  it invokes `performSend` which continue on a worker thread and close the window. 
2. `MessageCompose.onActivityResult` fetches working Intents and invokes `performSend` if activity interactions were successful
3. `MessageCompose.createMessage` creates a _regular_ message but then process the `MimeMessage` according to PGP/MIME specifications if cryptography was required

I'm waiting for your questions/advices. Don't hesitate.

Regards,
Alexandre
"
k9mail/k-9,open,Feature: Create events out of mails,"[Label(name=""enhancement"")]","iOS mail app can recognize if an email contains information about events (subject -> event name, date of the event, location,...)

I'd find it great to see this feature in K9 mail ;)
"
k9mail/k-9,closed,Mails encrypted with PGP/mine show only two files as attachment,"[Label(name=""invalid"")]","as in the object, when i receive a PGP mime encrypted message (source message as below), k9 shows me only two attachment:
encrypted.asc
noname.pgp

<code>

This is an OpenPGP/MIME encrypted message (RFC 4880 and 3156)
--b1_958b3a67ff99a26962f3de5dbfab5b33
Content-Type: application/pgp-encrypted; charset=""UTF-8""
Content-Transfer-Encoding: 7bit

Content-Description: PGP/MIME Versions Identification

Version: 1

--b1_958b3a67ff99a26962f3de5dbfab5b33
Content-Type: application/octet-stream; name=""encrypted.asc""
Content-Transfer-Encoding: 7bit
Content-ID: <0>
Content-Disposition: inline; filename=""encrypted.asc""

-----BEGIN PGP MESSAGE-----

[...]

-----END PGP MESSAGE-----

--b1_958b3a67ff99a26962f3de5dbfab5b33 --
"
k9mail/k-9,closed,IMAP: Ask for folder types on account creation,[],"K9 should ask the user which folders to use for deleted items, send items etc. before creating new ones that are just called differently.

Regards,
Djfe
"
k9mail/k-9,open,copy emails from the top,"[Label(name=""enhancement"")]","It should be possible to view and copy the email addresses listed at the top of a mail without viewing its header.
My headers are around 40 lines long so it's not easy to spot all of them there.

In Addition to that it would be nice if you could tap on a person and then choose to write a new mail to that email address (no reply).

Djfe
"
k9mail/k-9,closed,password changed -> no notification,"[Label(name=""enhancement"")]","K9 doesn't inform you when the password that it uses to log in to the mail server is suddenly wrong.
It just stops updating your mails because the connection fails.
But you cannot see that. 
"
k9mail/k-9,closed,Play store should link to GitHub,"[Label(name=""duplicate"")]","The play store description still links to Google code
"
k9mail/k-9,closed,Deletion from new-mail-notification,[],"I love being able to directly reply or mark-read a message for which I am being notified via the Android status window. How about a third button, allowing me to directly delete the message without even opening it? Or even a spam button? Maybe the button set could be configurable?

Thanks,
martin
"
k9mail/k-9,closed,Draft not saved when using mailto: link,"[Label(name=""bug"")]","Saving a Massage works when creating a new one inside of k9, but not when started from a mailto: link, eg. In a browser. Using save in the menu shows the ""Massage saved"" overlay, but i can't find it in the drafts folder. 
"
k9mail/k-9,closed,fixes #575 : Display *Encrypted* for encrypted messages in message preview,[],"Hi, I wish I could read PGPMIME encrypted emails on k9 so I am attempting to help. Here is an attempt to fixes #575 .
This is my first time contributing to any opensource project so feel free to tell me if I forgot to fill something else somewhere before this pull request.

Description : 
- Added column encryption_type in message table
- all previously stored message have their encryption_type set to 0. So previously stored email will still display their previously computed preview. Sounds a bit too much work and computing to migrate the database properly.
- On reception, encryption_type is set to a value > 0 when emails are encrypted
- Display ""_encrypted_"" instead of column preview when encryption_type > 0

-Alexandre
"
k9mail/k-9,closed,Sign In Attempt Prevented: Modern Security Standards,"[Label(name=""duplicate""), Label(name=""security"")]","On some Google business accounts I receive the following message when I log in with K-9 mail.

> Someone just tried to sign in to your Google Account xyz@xyz.com from an app that doesn't meet modern security standards.
> Details:
> Tuesday, October 27, 2015 11:37 AM (GMT)
> We strongly recommend that you use a secure app, like Gmail, to access your account. All apps made by Google meet these security standards. Using a less secure app, on the other hand, could leave your account vulnerable. [Learn more](https://support.google.com/accounts/answer/6010255).
> Google stopped this sign-in attempt, but you should review your recently used devices:
"
k9mail/k-9,closed,K-9 doesn't working with my Exchange 2013,"[Label(name=""invalid"")]","There is some problem.

![screenshot_2015-10-28-18-01-40](https://cloud.githubusercontent.com/assets/8449621/10822604/91488a94-7e60-11e5-9fe5-3997795bf4ce.png)
![screenshot_2015-10-29-10-27-57](https://cloud.githubusercontent.com/assets/8449621/10822606/914a5b30-7e60-11e5-94b6-4718173c55e9.png)
But after button ""accept key"".
messages didn't loading.

How I can configure it?
Speaking about https://github.com/k9mail/k-9/wiki/K9MailAndExchange
Can k9 read 2013?

Could you help me?
Thank you in advance. 
"
k9mail/k-9,closed,"In account wizard, pre-populate the user name field with full mail address vs.user-name only","[Label(name=""enhancement""), Label(name=""good first issue"")]","When setting up a new account, currently the user name field is pre-populated with the user-name part from the mail address entered at step one (the part before the @).

But all mail accounts i have ever used since many years, now want the full mail address as user name.
Am i using only untypical mail services? Or could the default be changed to pre-populating with the full mail address?
"
k9mail/k-9,closed,Crash during reading of an email,"[Label(name=""bug"")]","I receive an email which crashes the app.
After some research, I found that mBody for the file Version_texte.txt is null (LocalBodyPart with minetype ""text/plain"") and OpenPgpUtils.parseMessage crashes with a null value.
I also tried a new email with this file but mBody is not null.
So I think the issue is located in the loading process.

You can find the mail here : http://guillaume.smaha.net/contrib/k9mail/TestCrashEmail.eml
"
k9mail/k-9,closed,K-9 not working properly with my hotmail account,"[Label(name=""invalid"")]","I have two email accounts, both set up using IMAP: my normal one being [myname]@mvps.org, which I've had for years; and a secondary one which I've just added, which is [myname]@hotmail.co.uk.

If I receive an email in my mvps.org account, it appears in my K9-Mail inbox instantly (i.e. the moment it arrives on the mail server it also appears in my K9-Mail inbox). But if I receive an email in my hotmail account, it doesn't appear in my K9-Mail inbox unless I go into the inbox and press ""Refresh"".

I don't get this problem on my PC, on which my Thunderbird client picks up emails from both email addresses as soon as they are appear on the relevant mail server.

Also, if I delete an email from my K9-Mail inbox, then if it is an email from my mvps.org account, it is immediately deleted from the mail server as well; but if it is an email from my hotmail account, then it doesn't get deleted from the mail server. And yet, under Account Settings, ""When I delete a message"" is set to ""Delete from server""; and ""Erase deleted messages on server"" is set to ""Immediately. Again, I don't get this problem on my PC, on which, if I delete an email in my Thunderbird client, regardless of whether it's an mvps.org email or a hotmail email, the message is immediately deleted on the mail server as well.

Any idea why K9-Mail is synching my primary mvps.org account perfectly but is not synching my secondary hotmail.co.uk account properly?

Dave
"
k9mail/k-9,closed,Old mails being retrieved when deleting messages in K-9,[],"I have a pop3 account in K-9. I synchronize mails in K-9 while I have more mails on the server side than K-9 will download. I now delete 5 messages from K-9. I sync again, if the mails on the server side stayed the same, K-9 will now download mails from/at the old end. Presumably to reach its quota of mails. A notification is then also put out for these old mails which can be confusing.

Fix: do not download mails that are older than the oldest mail already in an account.
"
k9mail/k-9,closed,"Compose a new message as a forward of the given message,attachments were not able to be attached",[],"When selecting forwarding options,attachments were not able to be attached. 
//FIX
If message is set to Flag.X_DOWNLOADED_PARTIAL, the direct display MSG_SKIPPED_ATTACHMENTS...
"
k9mail/k-9,open,Hide or remove deleted mail from folder,"[Label(name=""enhancement"")]","As reported in [Issue 6067](https://code.google.com/p/k9mail/issues/detail?id=6067) deleted mails (at least in IMAP accounts) are still shown up to some seconds in folder list view (probably until they are removed from the server which might take some time in poor network environment). This is confusing and may also cause operating errors when deferred list changes occur while you are handling list items.

My proposal is to delete them from the folder list or - if not suitable - to give a visual feedback, e.g. by disabling them.
"
k9mail/k-9,closed,Add reply-to-SIP and reply-to-XMPP calling,[],"This adds the options ""Call (SIP)"" and ""Call (XMPP)"" in various menus that have other ""Reply"", ""Reply All"" and ""Forward"" options.

This doesn't add the complexity of SIP or XMPP to K-9 itself, rather, it sends an Intent to any other app that has registered support for the ""sip"" or ""xmpp"" URI schemes.  If the user doesn't have an appropriate app installed, a helpful alert appears.
"
k9mail/k-9,open,Feature Request: Support Mozilla autoconfig,"[Label(name=""enhancement"")]","When using K9 mail with IMAP/SMTP servers other than well known mail service providers like GMail, automatic configuration of new mail accounts will almost certainly fail.

It would be great if K9 mail would support autoconfig like proposed by Mozilla: https://developer.mozilla.org/en-US/docs/Mozilla/Thunderbird/Autoconfiguration

Basically, this works as follows: I enter fred@example.com as email address. Instead of guessing that my mail server is imap.example.com, my connection security SSL/TLS at port 993 and my username fred, K9 contacts http://autoconfig.example.com/mail/config-v1.1.xml?emailaddress=fred@example.com which returns an XML configuration file. This XML file tells K9, that the mail server is actually someotherhost.example.net, STARTTLS at port 143 is the preferred connection method and my user name is fred@example.com.

Microsoft uses similar techniques for their Exchange servers, but instead of querying autoconfig.example.com, the domain autodiscover.example.com is used. See https://msdn.microsoft.com/en-us/library/office/jj900169(v=exchg.150).aspx for more information.
"
k9mail/k-9,closed,Loop when decrypting PGP/MIME mail,"[Label(name=""bug"")]","Using the current master branch I'm trying to decrypt PGP/MIME mails using OpenKeychain.
When I open the message, K9 correctly starts OpenKeychain which lets me enter my PIN and then asks me to hold my YubiKey NEO to the NFC scanner.
After the decryption is done, I remove the key and OpenKeychain gives control back to K9 which in turn opens OpenKeychain again. This repeats forever. When I click ""Cancel"", it stops the loop but also crashes K9 (probably issue ##588).
"
k9mail/k-9,open,Database storage,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Even though I have the Account Storage set to SDcard, it stores the data on internal storage. Kitkit/Lollipop
"
k9mail/k-9,closed,"inline image as attachment,fix open & save",[],"The MIME type for inline image is application/octet-stream. At present, I can not open or save.Determine whether the inline image, again decide whether to add the "".jpeg"" suffix.
"
k9mail/k-9,closed,Add support for SOCKS proxy.,[],"This should be seen as a RFC, so please comment. I am not that familiar with the K-9 code.
Functionally it works if a user install (for instance) ConnectBot and sets up port forwarding and then configures the new preferences for SOCKS host/port in K-9 accordingly.
"
k9mail/k-9,open,StrictMode: Preferences Storage SQLite StrictModeDiskReadViolation,"[Label(name=""enhancement"")]","It seems that DiskIO should be done on another Thread.

In case this was not a known-and-ignored warning, here the Stacktrace:

```
10-23 19:20:02.287 30354 30354 D StrictMode: StrictMode policy violation; ~duration=71 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=31 violation=2
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1137)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.database.sqlite.SQLiteConnection.applyBlockGuardPolicy(SQLiteConnection.java:1043)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.database.sqlite.SQLiteConnection.executeForLong(SQLiteConnection.java:597)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.database.sqlite.SQLiteConnection.setPageSize(SQLiteConnection.java:251)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:213)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:806)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:791)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:1179)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:1168)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:268)
10-23 19:20:02.287 30354 30354 D StrictMode:    at com.fsck.k9.preferences.Storage.openDB(Storage.java:44)
10-23 19:20:02.287 30354 30354 D StrictMode:    at com.fsck.k9.preferences.Storage.loadValues(Storage.java:177)
10-23 19:20:02.287 30354 30354 D StrictMode:    at com.fsck.k9.preferences.Storage.<init>(Storage.java:200)
10-23 19:20:02.287 30354 30354 D StrictMode:    at com.fsck.k9.preferences.Storage.getStorage(Storage.java:155)
10-23 19:20:02.287 30354 30354 D StrictMode:    at com.fsck.k9.Preferences.<init>(Preferences.java:44)
10-23 19:20:02.287 30354 30354 D StrictMode:    at com.fsck.k9.Preferences.getPreferences(Preferences.java:31)
10-23 19:20:02.287 30354 30354 D StrictMode:    at com.fsck.k9.K9.onCreate(K9.java:583)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4593)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.app.ActivityThread.access$1600(ActivityThread.java:154)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1382)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.os.Handler.dispatchMessage(Handler.java:102)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.os.Looper.loop(Looper.java:135)
10-23 19:20:02.287 30354 30354 D StrictMode:    at android.app.ActivityThread.main(ActivityThread.java:5294)
10-23 19:20:02.287 30354 30354 D StrictMode:    at java.lang.reflect.Method.invoke(Native Method)
10-23 19:20:02.287 30354 30354 D StrictMode:    at java.lang.reflect.Method.invoke(Method.java:372)
10-23 19:20:02.287 30354 30354 D StrictMode:    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:904)
10-23 19:20:02.287 30354 30354 D StrictMode:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:699)
```
"
k9mail/k-9,open,StrictMode Closable not closed related to ImapStore,"[Label(name=""enhancement"")]","I'm seeing this Exception a lot in my logcat on CM12.1 with some connectivity Issues.

Seeing that #211 was handled, maybe it is of interest.
Thanks for maintaining k9!

```
10-23 16:25:02.246 23082 23104 E StrictMode: A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.
10-23 16:25:02.246 23082 23104 E StrictMode: java.lang.Throwable: Explicit termination method 'end' not called
10-23 16:25:02.246 23082 23104 E StrictMode:    at dalvik.system.CloseGuard.open(CloseGuard.java:184)
10-23 16:25:02.246 23082 23104 E StrictMode:    at java.util.zip.Inflater.<init>(Inflater.java:82)
10-23 16:25:02.246 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapConnection.open(ImapStore.java:2573)
10-23 16:25:02.246 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapConnection.sendCommand(ImapStore.java:2872)
10-23 16:25:02.246 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapConnection.executeSimpleCommand(ImapStore.java:2921)
10-23 16:25:02.246 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapConnection.executeSimpleCommand(ImapStore.java:2902)
10-23 16:25:02.246 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapFolder.executeSimpleCommand(ImapStore.java:858)
10-23 16:25:02.246 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapFolder.internalOpen(ImapStore.java:904)
10-23 16:25:02.246 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapFolder.open(ImapStore.java:867)
10-23 16:25:02.246 23082 23104 E StrictMode:    at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:1041)
10-23 16:25:02.246 23082 23104 E StrictMode:    at com.fsck.k9.controller.MessagingController.access$400(MessagingController.java:111)
10-23 16:25:02.246 23082 23104 E StrictMode:    at com.fsck.k9.controller.MessagingController$35.run(MessagingController.java:4506)
10-23 16:25:02.246 23082 23104 E StrictMode:    at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
10-23 16:25:02.246 23082 23104 E StrictMode:    at java.lang.Thread.run(Thread.java:818)
10-23 16:25:02.249 23082 23104 E StrictMode: A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.
10-23 16:25:02.249 23082 23104 E StrictMode: java.lang.Throwable: Explicit termination method 'end' not called
10-23 16:25:02.249 23082 23104 E StrictMode:    at dalvik.system.CloseGuard.open(CloseGuard.java:184)
10-23 16:25:02.249 23082 23104 E StrictMode:    at java.util.zip.Inflater.<init>(Inflater.java:82)
10-23 16:25:02.249 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapConnection.open(ImapStore.java:2573)
10-23 16:25:02.249 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapFolder.getPrefixedName(ImapStore.java:842)
10-23 16:25:02.249 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapFolderPusher.getPrefixedName(ImapStore.java:2989)
10-23 16:25:02.249 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapFolder.internalOpen(ImapStore.java:902)
10-23 16:25:02.249 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapFolderPusher.internalOpen(ImapStore.java:2989)
10-23 16:25:02.249 23082 23104 E StrictMode:    at com.fsck.k9.mail.store.ImapStore$ImapFolderPusher$1.run(ImapStore.java:3068)
10-23 16:25:02.249 23082 23104 E StrictMode:    at java.lang.Thread.run(Thread.java:818)
```
"
k9mail/k-9,closed,Serious drafts glitch since last update,"[Label(name=""bug""), Label(name=""needs info"")]","I'm having an issue where if I create or edit a draft, it saves fine, and then shows up in the folder fine (with a preview of the message body), but when I click it from that folder view, it is blank when it opens. Nothing I can do after that will make it open correctly (ie refreshing the folder). The draft still appears on my other devices (pc) without error. If I make an edit then to the blank message, and it asks me to either save or discard, saving will still overwrite the correct draft, and discard will delete it from the server. If I simply click Back to go back to the folder list, and then open and re-save the draft on my pc, it will refresh  in k9 and I can open it ok. This issue is not happening every time I open drafts, but is often now. Had no issues prior to updating to the new version (a few weeks ago?), and has been happening ever since.
"
k9mail/k-9,open,Figure out how to deal with Doze (Android 6+),"[Label(name=""enhancement"")]","> Doze reduces battery consumption by deferring background CPU and network activity for apps when the device is unused for long periods of time.

Learn more about it here: [Optimizing for Doze and App Standby](http://developer.android.com/training/monitoring-device-state/doze-standby.html)

As far as I can tell we have these options:
1. Embrace Doze. When the device tells us to go to sleep we do.
2. Fight Doze. Use the new API to schedule checks for new mail (can't be more frequent than every 15 minutes)
3. Evade Doze. Foreground services (think music player) prevent the device from entering Doze. This requires displaying an ongoing notification.

As far as I can tell users can't disable Doze in settings. They have, however, the option to put apps on a whitelist.

> An app that is whitelisted can use the network and hold partial wake locks during Doze and App Standby. However, other restrictions still apply to the whitelisted app, just as they do to other apps. For example, the whitelisted app’s jobs and syncs are deferred, and its regular AlarmManager alarms do not fire.

So the interval between mail checks still has to be at least 15 minutes. But there is a chance that Push might work during Doze. Keeping a connection open doesn't require alarms.

My goal is to first collect all options we have and then decide on the best way forward. Please let me know if you can think of any other options and I will add them to this post. Also, if you have a special use-case regarding mail checks that you think should be supported by K-9 Mail let us know.

**Update (2015-11-10):** It looks like the only way for an app to prevent the device from entering Doze is to keep the screen on. So option 3 is not something that's feasible for us.

**Update (2015-11-20):** Using a foreground service is possible but tricky due to a bug in Android. See https://commonsware.com/blog/2015/11/18/another-doze-edge-case-foreground.html
"
k9mail/k-9,closed,add global network option to fetch mails during Doze mode,[],"This is the only way, K9 can fetch mails during Android 6.0 Doze mode. Adding K9 to the list of apps without battery optimization is not making ""old"" alarms working under Doze.
"
k9mail/k-9,closed,Add pref for disabling folder display names,[],"Add a preference (under Global Settings -> Display -> Folder lists) for
enabling/disabling the localized display names for some folders.
"
k9mail/k-9,closed,Certain emails are not displaying (All white),"[Label(name=""bug""), Label(name=""needs info"")]","I am signed up to get weekly emails from Goldstar.com with a list of discount events in my area. These emails are not properly displaying on K-9 and show up all white. At first the email may display but if I rotate my Samsung  Note 4 90 degrees, the email turns all white.   These emails use to display properly on k9.
"
k9mail/k-9,closed,Update the project url contained in the welcome message,[],"I've just compiled K-9 for the first time and noticed the project url is old (this also relates #761). This commit updates the url to https://github.com/k9mail/k-9/ in all language files.
"
k9mail/k-9,closed,fix some problem,[],"1. inline image view & save.
2. inline image as attachment view & save.
3. some inline image can not show fully.
4. Android 4.4.2 can not open Attachment about Image.
5. ……I do not know, whether these have helped to this project.(^_^)
"
k9mail/k-9,closed,Incomplete sync with IMAP-Inbox,"[Label(name=""bug""), Label(name=""needs info"")]","I have a somehow strange behaviour since a couple of weeks: The inbox of my imap-mail-account (at 1&1) is not correctly synced any more. With Thunderbird or the 1&1-Webmail, I can see all my mails, but K9 only shows a few. When I get new mails, K9 does not show most of them, only some.

This seems to be limited to the inbox. Other IMAP-folders can be synced and seem to display all mails.

I tried to clean up the inbox-folder (""expunge"" with K9 and according operations with thunderbird/webmail client), but no effect.

I use the current version of K9 (v5.006) under Android 5.0 on two different Samsung devices. Is there any more information I should provide that could help?
"
k9mail/k-9,closed,Copy/move between accounts,"[Label(name=""duplicate"")]","Please make it possible to copy or move mail to folders in other accounts.

This will mean to download and then append the full message.
"
k9mail/k-9,closed,Yahoo mail,"[Label(name=""invalid"")]","How to setup a working Yahoo Account on k-9?
I've setup It automatically and manual too, I can receive mail but I can't send them. During the wizard, the checking outgoing server pass without problems.
"
k9mail/k-9,closed,Syncing aol mail ,"[Label(name=""invalid"")]","I have not been able to sync my aol mail it says can not connect to server.
"
k9mail/k-9,closed,Add support for Gmail's XOAUTH2,"[Label(name=""duplicate""), Label(name=""enhancement"")]","https://developers.google.com/gmail/xoauth2_protocol
"
k9mail/k-9,open,Remove support for iframes,"[Label(name=""enhancement"")]","There's really no good use for them in emails and most clients don't seem to support iframes either.
"
k9mail/k-9,closed,Moto Active Display doesn't show K9's notifications,[],"Recent phones from Motorola have this super-cool feature called Moto Active Display (http://youtu.be/3TMycL9mzpg) and it works great with plenty of apps, but unfortunately not with **K9**.

**What works:**
1. Sound is played
2. Notification sits on notification bar when phone is unlocked.

**What doesn't:**
1. Notification doesn't appear on Moto Active Display screen.

Moto G 2015 with stock firmware
"
k9mail/k-9,closed,Google doesn't like k9 and if I travel abroad it believes my accont could have been hijacked...,"[Label(name=""invalid"")]","It is now three or four times it happens: I go to Portugal or Spain (I live in Italy) and if I try to connect via wifi or an international sim card (Estonian roaming sim or Belgian) google sends me an email/sms stating there's an unauthorized attempt to access my mail account. Moreover, from that moment on, k9 mail is denied access to my mail account.
I have reserched the net and discovered several posts here and there concerning this issue. First of all my wife doesn't get this error while I get locked instead! Then I read that basically google considers k9 mail an unsecure client and doesn't like it, hence the lock. Is this true, and if so, why?
Third, someone told me that these issue don't normally happen if you, in similar circumstances, use the stock email client.
Thanks in advance for all replies and advice.
Ps. I also tried to log into my account via browser from my phone but even if I accessed this way without problems, k9 still did not work.
Any idea?
"
k9mail/k-9,closed,Iframes not working in K9mail? [solved with workaround],"[Label(name=""wontfix"")]","Hello, I have the following html email:

``` html
<html>
<head>
<title>Test</title>
<base href=""http://barrapunto.com/~EsePibe/journal/38348?from=rss"">
<style type=""text/css""> body { margin: 0; border: none; padding: 0; height: 300px; } iframe { position: fixed; top: 0; left: 0; width: 100%; height: 100%; border: none; } </style>
</head>
<body>
<iframe id =""_mailrssiframe"" src=""http://barrapunto.com/~EsePibe/journal/38348?from=rss"">Test</iframe>
</body>
</html>
```

and it appears the following error when opening it:

<pre>
Webpage not available

The webpage at http://barrapunto.com/~EsePibe/journal/38348?from=rss could not be loaded because:

net:ERR_CACHE_MISS
</pre>


I'm using android 5 and last version of k9mail.

If it is any way to make it work, I can change html source, but I want to view the iframe url directly in k9mail, without opening browser.

Many thanks
"
k9mail/k-9,closed,Add signature to setup wizard,"[Label(name=""wontfix"")]","The signature is auto-populated, what makes a nice advertizing for K9, and yes, i think other apps (ios?) do  that too.

But it would be nice to inform the user about that step by showing a pre-populated form in the wizard, so ppl are aware of it more and can easily change it.
"
k9mail/k-9,open,Add option to limit line length of text/plain bodies,"[Label(name=""enhancement"")]","Hi,

first: Thanks for developing K9, it's a wonderful tool!

I'd really like to see a line-length-limit option in the settings, so K9 automatically breaks after 72 characters. Can we have something like this?
"
k9mail/k-9,open,Don't auto-start after boot when all accounts are configured for manual polling,"[Label(name=""enhancement"")]","I do not know why K-9 keeps adding to the start up. I keep disabling from the start up with various up but it persistently wants to be in the startup.

I am using CM 11 Kitkat
thanks
"
k9mail/k-9,closed,k9mail frequently crashes when deleting mail (bulk or individual) secure IMAP more than 1000 emails in inbox,"[Label(name=""bug""), Label(name=""needs info"")]","When I set to sync IMAP with less than 100 emails, no problem. 
But I need to find older emails so I sync with approx 2500 emails in the inbox.
I'm using an SSL IMAP connection. 
Frequently the app crashes. 
I'm running the latest version of k9mail on android 4.2.2 on a Samsung Galaxy Note 8 GT-N5100.
I don't have root, so logs are inaccessible due to permissions.
When I have time I'll connect to my Linux box and try to obtain logs for you.
"
k9mail/k-9,closed,Cannot send email from K-9  unless wifi is on.,"[Label(name=""invalid"")]","Sometime in the last 16 hours, the ability for me to send email via cellular data has stopped working.  Sending only works when connected to wifi.  Receiving works just fine.   I can send with same email account via cellular with an apple device using the gmail app.  
This is the error message: 
K9-Mail version: 5.006
Device make: samsung
Device model: SM-G900V
Android version: 5.0

com.fsck.k9.mail.MessagingException: Unable to open connection to SMTP server.
    at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:419)
    at com.fsck.k9.mail.transport.SmtpTransport.sendMessageTo(SmtpTransport.java:504)
    at com.fsck.k9.mail.transport.SmtpTransport.sendMessage(SmtpTransport.java:495)
    at com.fsck.k9.controller.MessagingController.sendPendingMessagesSynchronous(MessagingController.java:3563)
    at com.fsck.k9.controller.MessagingController$20.run(MessagingController.java:3314)
    at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
    at java.lang.Thread.run(Thread.java:818)
Caused by: java.net.SocketTimeoutException: failed to connect to smtp.gmail.com/2607:f8b0:4002:c06::6d
(port 465) after 10000ms
    at libcore.io.IoBridge.connectErrno(IoBridge.java:169)
    at libcore.io.IoBridge.connect(IoBridge.java:122)
    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:183)
    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:456)
    at java.net.Socket.connect(Socket.java:882)
    at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:228)
"
k9mail/k-9,open,Warning when replying to 'noreply' address,"[Label(name=""enhancement"")]","A warning should arise when trying to reply to a 'noreply' address.

Some example patterns:
- `noreply@.*`
- `no-reply@.*`
- `donotreply@.*`
- `noresponder@.*`
- `no-responder@.*`
- `noreply-.*@.*`
- `no-reply-.*@.*`
- `donotreply-.*@.*`
- `noresponder-.*@.*`
- `no-responder-.*@.*`
- `.*\+noreply@.*`
- `.*\+no-reply@.*`
- `.*\+donotreply@.*`
- `.*\+noresponder@.*`
- `.*\+no-responder@.*`
- `reply@not\.possible`
"
k9mail/k-9,closed,Problem with STARTTLS under Android Marshmallow,"[Label(name=""wontfix"")]","K-9 Mail fails to communicate with the server for sending messages using STARTTLS under Android 6.0.  The problem appears to be with the key exchange by the SSL library.    I don't know if this is partly caused by Google's migration from OpenSSL to BoringSSL, but K-9 seems to be the only program giving me problems right now.  Here is the relevant logcat:

10-07 15:57:48.501  3754  9300 E k9      : Error while testing settings
10-07 15:57:48.501  3754  9300 E k9      : com.fsck.k9.mail.CertificateValidationException: Handshake failed
10-07 15:57:48.501  3754  9300 E k9      :      at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:414)
10-07 15:57:48.501  3754  9300 E k9      :      at com.fsck.k9.activity.setup.AccountSetupCheckSettings$1.run(AccountSetupCheckSettings.java:146)
10-07 15:57:48.501  3754  9300 E k9      : Caused by: javax.net.ssl.SSLHandshakeException: Handshake failed
10-07 15:57:48.501  3754  9300 E k9      :      at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:396)
10-07 15:57:48.501  3754  9300 E k9      :      at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:629)
10-07 15:57:48.501  3754  9300 E k9      :      at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:591)
10-07 15:57:48.501  3754  9300 E k9      :      at com.fsck.k9.mail.transport.SmtpTransport.open(SmtpTransport.java:284)
10-07 15:57:48.501  3754  9300 E k9      :      ... 1 more
10-07 15:57:48.501  3754  9300 E k9      : Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x9d596fc0: Failure in SSL library, usually a protocol error
10-07 15:57:48.501  3754  9300 E k9      : error:100c1069:SSL routines:ssl3_get_server_key_exchange:BAD_DH_P_LENGTH (external/boringssl/src/ssl/s3_clnt.c:1193 0xab21d50f:0x00000000)
10-07 15:57:48.501  3754  9300 E k9      :      at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
10-07 15:57:48.501  3754  9300 E k9      :      at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:324)
"
k9mail/k-9,closed,Notification buzzing cannot be disabled anymore,"[Label(name=""invalid"")]","### Expected behaviour

There should be some way to disable any sound / vibration for k-9 notifications
### Actual behaviour

Since updating K-9 to Version 5.006 notifications (mail received, mail being sent) cause a vibration buzz. Before that all mail notifications were quiet.

I've changed the ""Quiet time"" setting to 00:00-23:59 (previously unset), but to no effect.
In the account settings vibration for notifications is disabled and no ringtone is set.

Disabling all notification sound+buzz in the device settings doesn't change anything -- mails still cause vibration. Since I _do_ want buzzing for SMS this wouldn't be a real workaround anyway.
### Steps to reproduce
1. disable all notification sounds
2. send or receive mail
3. ---
### Environment

K-9 Mail version: 5.006

Android version: 4.4
Device: Samsung Galaxy S2 (GT-I9100)
OS: CyanogenMod 11.0-InstallerXNPQ32P
Kernel: 3.0.64-CM-g89e6992 , build04@cyanogenmod 1 , Fri Aug 8 19:54:57 PDT 2014

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,disappearing notifications,"[Label(name=""needs info"")]","I have a weird issue. Frequently, notifications for received mails (gmail account) keep disappearing. Screen is off, mail comes, sound is played (often only a part), LED blinks once and thats it. after turning the screen on there is no notification bar entry, BUT account widget (envelope) shows correct count. it is slso inconsistent, happens sometimes, other times notification shows up and stays. 
KDE Connect and Skins have access to notifications, but it is only this app suffering from this. also disabling those improved nothing. 
Did not happen in CM 11 or pre 5.00x versions, 
Is there anything I can do to help resolve this? logs, etc? 

Cyanogenmod 12.1, K9 5.006 from play store. 
"
k9mail/k-9,closed,K9 suddenly deleting messages that are removed from server even with sync server deletions unchecked,"[Label(name=""invalid"")]","Had K9 for a very long time. I read my gmail with pop from 2 different clients, K9 on phone and Outlook on PC. The outlook client is configured to server delete. K9 is configured not to server delete or sync server deletions. I keep things on my phone that I have to manage, appts, etc, but I pull them off of gmail and archive them on outlook. For literally years, this worked great and emails stayed on my phone forever until I explicitly deleted them. Suddenly, my phone gets purged constantly. Please help.
"
k9mail/k-9,open,RFC: Revise Store/Folder/Message interface,"[Label(name=""architecture""), Label(name=""enhancement"")]","Originally, K-9 Mail's design for the `Store`/`Folder`/`Message` classes was based on the [JavaMail API](http://www.oracle.com/technetwork/java/javamail/index-141777.html). Over the years we modified our classes a lot but never threw away the parts that didn't work well for K-9 Mail.

I want to change this. Specifically, I want 'modules' to return objects that contain exactly the data that is needed by the caller. And to avoid lazy-loading or additional requests as much as possible.

Some ideas:
- Get rid of `LocalStore` and `LocalFolder`. Treating the database like a remote store only causes us pain and requires
  lots of boiler plate code.
  - Create a new interface and refer to messages by its database ID instead of using `MessageReference`.
  - Hand specialized value classes to UI; containing only data necessary to render the UI.
- Extract a class from `Message` that contains state information (flags, server uid, folder, etc.). `Message` should
  only be concerned with storing the message data (header + body). This should also allow us to get rid of most if not
  all checked exceptions on `Message` methods.
- Simplify `Store` and `Folder` interfaces. We have very specialized needs for synchronization. All other use cases are
  secondary.
- The way we synchronize messages is rather specific to the `Store` type. We probably want to move away from `Store`
  feature flags to separate synchronization implementations.

Having a very specialized interface will make k9mail-library even less useful for others. Later, we probably want to extract another library with just the basic operations for remote stores. But for now that shouldn't be our concern.

I'd love to get everyone's comments on these ideas or even alternative suggestions on how to improve the current situation.
"
k9mail/k-9,closed,Users must be given the choice of whether to use the bottom action bar or not,"[Label(name=""invalid"")]","Hi,

I noticed that, after the last update, the bottom action bar was moved to the top of the screen, merged with the title bar.  
While I understand that this saves screen space, it is annoying for users with big screens as they have to either move their thumb to the very top of the screen, or use two hands.

I'm not asking to throw your decision to merge the bars away, but to give users the choice whether to have a bar in the bottom or not.

Thank you.
"
k9mail/k-9,open,Link SMTP Error messages to outgoing mail folder,"[Label(name=""enhancement"")]","Recently, I sent an mail to a wrong address causing a """"Negative SMTP reply: 550 5.1.1"" notification.
This notification reappeared anytime I read it unit I figured how to delete the message stuck in the outgoing folder. Or rather: until i figured out, where I could delete that mail.
I think **this inconvenience could be avoided if the notification linked directly to the Outbox** (German: ""Postausgang"") folder.  (Note that for me there is `Drafts`, `Sent`, `K9mail-errors`, `Outbox`, `Drafts` again, `Sent` again - quite a lot of possible places to find the email in question)
thank you for K9mail, 
Jan

Below are examples of Q&A post where other people had the same problem.
https://groups.google.com/forum/#!topic/k-9-mail/iV80al2RB7I
http://grokbase.com/t/gg/k-9-mail/13c4drj907/negative-smtp-reply-501-part-2
http://grokbase.com/t/gg/k-9-mail/13asj6j25b/failed-to-send-some-messages
"
k9mail/k-9,closed,Add support for auto-detecting Archive folder,[],"Google's `XLIST` command uses the attribute `\AllMail`, [RFC 6154](https://tools.ietf.org/html/rfc6154) the attribute `\Archive` to mark the archive folder.
"
k9mail/k-9,closed,IMAP search and the trailing whitespace problem,"[Label(name=""bug"")]","Steps to reproduce:
1. Find a mail that ends with a unique string from some time ago. So it is not local on the phone and you don't get confused by ""false positives"". 
2. Go your account inbox
3. Click on the search icon
4. No local results. 
5. Click on the IMAP search button (search glass + cloud)
6. Wait and find nothing.

Example: 

Email Subject: ""Pictures from Timbuktu""
An IMAP search for ""Timbuktu"" returns the result. But a search for ""Timbuktu "" does not. This is a really big problem. Because many android keyboards easily add a trailing whitespace when you don't want it, or when you use the word completion to save a few letters typing. 
"
k9mail/k-9,closed,Always load headers when fetching a message from LocalStore,[],"This fixes issue #604
"
k9mail/k-9,open,Support IMAP NOTIFY extension (RFC 5465),"[Label(name=""enhancement"")]","It looks like K9 mail does not yet support the IMAP NOTIFY extension (RFC 5465). There was a discussion about this some time ago:

https://code.google.com/p/k9mail/issues/detail?id=6264

Whats the current status on this issue?
"
k9mail/k-9,closed,Fix parsing IMAP LIST responses containing folder names with brackets,[],"See #786
"
k9mail/k-9,closed,Fixed translation of the value of btn_crypto_sign,[],"The translate of Sign is wrong, the correct translation is ""Assinar""
"
k9mail/k-9,open,Cannot copy or move message that is not synchronized with the server (IMAP),"[Label(name=""bug"")]","Steps to reproduce:
Use ""archive"" for a message when you don't have an IMAP archive folder on the server.

Expected behaviour:
I only hit that function by accident. I have no idea what it is supposed to do.
But now that the email message is moved to a (local) archive folder, I expect to be able to move it back to the IMAP folder it was in before.

What happens instead:
When I select copy or move I get the message ""Cannot copy or move message that is not synchronized with the server"" (I use German language so that might not be the exact English phrase)
When I delete the message it goes to the Trash folder, but from there I cannot copy/move it either.
Effectively this email is kind of lost.

This is similar to a bug[*] in the old Google Code tracker at https://code.google.com/p/k9mail/issues/detail?id=861 which was never resolved.

[*]: I consider this a bug as there is no way of undoing this, no confirmation is required, but an IMAP message ""archived"" in this way is essentially gone for good
"
k9mail/k-9,open,Use folding to properly handle To/CC/BCC with more than 1000 characters,"[Label(name=""architecture""), Label(name=""enhancement"")]","The relevant RFC-part is located here: https://tools.ietf.org/html/rfc5322#section-2.2.3

I tried to implement this in an easy way (as can be seen [here https://github.com/nilsbraden/k-9/commit/af0e20d252fbb18ef62ab8a6f90cf60b922a2923]) but the [pull request https://github.com/k9mail/k-9/pull/821#event-422173633] has been rejected. The folding should be implemented in a general way for all header fields and somewhere within the MimeMessage/MimeHeader classes.

I'm currently trying to find a good way to implement this and am unsure if this is the right way. To discuss this I opened this report.

My second attempt involves a lot of string operations. Since I read the RFC as recommending a split at several different characters I tried to implement a recursive function to try high-level splitting first and later other characters. This means I split at a space sign first, if lines with too many chars are still there I split at comma and so on. You can check this out here: https://gist.github.com/nilsbraden/f2a1eb7c762854aa553a (Code is not tested yet, just wrote it down...)

My current knowledge of the possible header fields and values is quite limited by what I have encountered so far. Does anybody know if it is a viable strategy to split at space, then comma, then semicolon, then do a hard split at 1000 characters to avoid invalid headers? Is it even allowed to split at a comma or semicolon in all header fields?
"
k9mail/k-9,closed,"Use ""folding"" to properly handle To/CC/BCC with more than 1000 characters",[],"Adjusted string generation in method toEncodedString(Address[] addresses) to keep header-fields below the 1000 character limit described in RFC5322 (https://tools.ietf.org/html/rfc5322#section-2.1.1)

This is relevant for the fields To, CC, BCC and Reply-To.

The encoded string is folded into a multiple-line representation by splitting with a CRLF + single space sign.
"
k9mail/k-9,closed,Clean up database to simplify queries,[],"I was lazy when adding support for message threading. The database migration code only added new columns but didn't touch existing data. That lead to rather ugly conditions in SQL statements, e.g. `(empty IS NULL OR empty != 1)`.

This PR adds code to get rid of potentially left over NULL values in the `empty` column and simplifies SQL queries.
"
k9mail/k-9,closed,forward a mail with attachment failed ,"[Label(name=""bug"")]","### Actual  behaviour

there's two cases:
1.get a mail with inline images
2.get a mail with attachment

Two mail has been down fully in my k9 client.  
When forward,both toast:""Some attachments cannot be forwarded because they have not been downloaded."".
 If ignore this error to forward,the inline images or attachment can not be send to others.
### Expected behaviour

The two case should forward correctly
### Steps to reproduce

1.forward a mail to somebody with inline images or with attachment.
2.both toast ""Some attachments cannot be forwarded because they have not been downloaded."".
3.click forward btn ok
4.login in somebody's mail to get these two mails
5.images inline can not show and also without attachements
### Environment

K-9 Mail version:
check out from github  on 28.9.2015

Android version:
4.3
Account type (IMAP, POP3, WebDAV/Exchange):
POP3
"
k9mail/k-9,closed,Viewing/saving inline images doesn't work,"[Label(name=""bug"")]","Long-pressing inline images displays a popup with items ""View image"" and ""Save image"". Both currently don't work.

Since we no longer rewrite `cid:`-URIs to `content://`-URIs pointing to our content provider for attachments we need to change the code that handles viewing and saving inline images.

See [`MessageContainerView.onCreateContextMenu()`](https://github.com/k9mail/k-9/blob/e7f706b78d7282298782d66ff8e004fce2e2d605/k9mail/src/main/java/com/fsck/k9/ui/messageview/MessageContainerView.java#L165)
"
k9mail/k-9,open,Add navigation drawer,"[Label(name=""enhancement"")]","Add [navigation drawer](http://www.google.com/design/spec/patterns/navigation-drawer.html) similar to that of the Gmail app for easier navigation.

See also #645 
"
k9mail/k-9,closed,Navigation: going back to accounts view requires multiple taps,"[Label(name=""duplicate"")]","I hope the subject explains the issue well. In more detail: say you have 3 IMAP accounts and you want to see new messages in one of them. Once you click on Account and end up in INBOX, to return back to the view of all 3 accounts, you need to click the arrow in top left corner 3 times. If you check email 10 times a day, you may need to perform this action dozens of times.

I wish there was a way to do that with one move/tap. Or maybe a ""home"" icon could be added.
"
k9mail/k-9,closed,[bug] Delete doesn't update to imap server / IOException readStringUnti,"[Label(name=""bug""), Label(name=""needs info"")]","Deleting an email in my inbox deletes it locally but does not delete it on the imap server.  It used to work.

When I look at folders I see this message for inbox:
 IOException readStringUnti
Or
 Exception: Message count -1

This is a big deal for me.  The inbox is large, and I get lots of spam I want to delete.
"
k9mail/k-9,closed,[bug] deleting the last mail in thread view can cause all kinds of odd effects,"[Label(name=""bug"")]","## How to reproduce:
- Go to the inbox
- Click on a mail that is part of a thread
- From now on only mail that are part of the thread are shown
- Click on a Mail
- The mail Opens
- Now press the ""delete"" button until the last Mail of the thread is deleted.
## How to reproduce (method 2):
- Go to the inbox
- Click on a mail that is part of a thread
- From now on only mail that are part of the thread are shown
- Select all Mails
- Choose the ""delete"" action in order to delete all mails

What might happen (seems for some reason not to happen if I try to create a test thread by sending mails back and forth without receiving messages that are not part of the thread and doing other stuff with the phone inbetween)
- either shows me a screen which is empty except of the title and the bottom line (which might be intended: The thread I am currently viewing is actually empty)
- or goes back to the folder I came from
- or crashes
- or shows me the mails of the thread as if they weren't deleted.

Crashes happen only about 10% of the time. I assume that a check that tests if there are mails to visualize is missing.

This crash has been around for a while and can still be reproduced in the current alpha version (201509259).
### Environment

K-9 Mail version: 5.107

Android version: 4.4.1, 5.0, 4.1,... (Did test several)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP

Cellphone Type:
- Galaxy Note I (stock ROM)
- Galaxy Note I (Cyanogen Mod 10.1)
- Galaxy Note I (OmniRom)
- Wildfire S (Stock ROM)
- Wildfire S (Cyanogenmod 10.0 nightly)
- Wiko Bloom (Stock ROM)
"
k9mail/k-9,closed,email content with image can not open and save,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

Receive a email with a image,k9 look good,with a image in content view and a image in the attachment view. 
But  1.can not open when click open btn(cause the attachment mime type:application/octet-stream)
       2.when long click the image in content view,pop the menu for view or save the image,two func does not work(cause the uri may be correct)
### Actual behaviour

1.the image should be open exactly 
2.when long click the image,the image should be view or open
### Steps to reproduce

1.get a mail with photo in content
2.open k9 to view this mail
3.click the save btn in attachment view/ long click the image in content view to show the menu option for view or open the image.
### Environment

K-9 Mail version:
check out from github 25.9.2015

Android version:
4.3
Account type (IMAP, POP3, WebDAV/Exchange):
POP3
"
k9mail/k-9,closed,Fix an issue when passphrase is canceled,[],"Cancel the window asking passphrase crash the app because OpenPgpSignatureResult signatureResult is null when the decrypt fails.
Issue from commit be18d06afd0db49b4c111f5091ca3d12f3ace357
"
k9mail/k-9,closed,ClassCastException on IMAP sync,"[Label(name=""bug"")]","On a fresh install of k9Mail on a new phone, one of my IMAP accounts stops suddenly with the below error. It worked like a charm for a few days prior to that. I've another IMAP account on the same server which still works and isn't affected.

K9-Mail version: 5.006
Device make: motorola
Device model: MotoG3
Android version: 5.1.1

java.lang.ClassCastException: com.fsck.k9.mail.store.ImapResponseParser$ImapList cannot be cast to java.lang.String
    at com.fsck.k9.mail.store.ImapResponseParser.readTokens(ImapResponseParser.java:69)
    at com.fsck.k9.mail.store.ImapResponseParser.readResponse(ImapResponseParser.java:51)
    at com.fsck.k9.mail.store.ImapResponseParser.readResponse(ImapResponseParser.java:29)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.readStatusResponse(ImapStore.java:2775)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.saslAuthPlain(ImapStore.java:2727)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.open(ImapStore.java:2530)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.sendCommand(ImapStore.java:2872)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.executeSimpleCommand(ImapStore.java:2921)
    at com.fsck.k9.mail.store.ImapStore$ImapConnection.executeSimpleCommand(ImapStore.java:2902)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.executeSimpleCommand(ImapStore.java:858)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.internalOpen(ImapStore.java:904)
    at com.fsck.k9.mail.store.ImapStore$ImapFolder.open(ImapStore.java:867)
    at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:1041)
    at com.fsck.k9.controller.MessagingController.access$400(MessagingController.java:111)
    at com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:934)
    at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
    at java.lang.Thread.run(Thread.java:818)
"
k9mail/k-9,open,java.lang.OutOfMemoryError when fetching mails,"[Label(name=""bug""), Label(name=""needs info"")]","Since a few days, k9mail has issues with retrieving / updating my inbox (both in background operation and when the Inbox is open).

Here is the corresponding log:

```
09-22 21:35:39.633 E/AndroidRuntime(32481): FATAL EXCEPTION: MessagingController
09-22 21:35:39.633 E/AndroidRuntime(32481): Process: com.fsck.k9, PID: 32481
09-22 21:35:39.633 E/AndroidRuntime(32481): java.lang.OutOfMemoryError: Failed to allocate a 32547414 byte allocation with 16777216 free bytes and 21MB until OOM
09-22 21:35:39.633 E/AndroidRuntime(32481):     at java.lang.AbstractStringBuilder.enlargeBuffer(AbstractStringBuilder.java:95)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at java.lang.AbstractStringBuilder.append0(AbstractStringBuilder.java:163)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at java.lang.StringBuilder.append(StringBuilder.java:288)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.mail.internet.MimeUtility.extractTextAndAttachments(MimeUtility.java:1445)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.mail.store.LocalStore$LocalFolder$15.doDbWork(LocalStore.java:2576)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.mail.store.LocalStore$LocalFolder$15.doDbWork(LocalStore.java:2507)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.mail.store.LockableDatabase.execute(LockableDatabase.java:283)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.mail.store.LocalStore$LocalFolder.appendMessages(LocalStore.java:2507)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.mail.store.LocalStore$LocalFolder.appendMessages(LocalStore.java:2437)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.controller.MessagingController.downloadLargeMessages(MessagingController.java:1773)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.controller.MessagingController.downloadMessages(MessagingController.java:1372)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.controller.MessagingController.synchronizeMailboxSynchronous(MessagingController.java:1141)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.controller.MessagingController.access$400(MessagingController.java:111)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.controller.MessagingController$8.run(MessagingController.java:934)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at com.fsck.k9.controller.MessagingController.run(MessagingController.java:435)
09-22 21:35:39.633 E/AndroidRuntime(32481):     at java.lang.Thread.run(Thread.java:818)
```
"
k9mail/k-9,closed,Report a possible race issue,"[Label(name=""bug"")]","Hi, Developers of k9mail/k-9,

I am writing to report a race issue on use of ConcurrentHashMap. The issue is reported by our tool in an automatic way. Although manually confirmed, it would be a false positive, given we do not know the specification of the program. We would very appreciate if you could check below for details and confirm with us whether it is a real problem. For more information, please refer to our website: http://sav.sutd.edu.sg/?page_id=2845

File: k9mail/k-9/k9mail/src/main/java/com/fsck/k9/controller/MessagingController.java
Location: Line (4600/4603, 5131)
Description: 
The get-then-put operations (line 4600, 4603) in method ""getNotificationData"" are synchronized on lock ""notificationData"". If the intention is to guarantee the atomicity of the get-then-put operations, then the remove operation in line 5130 may break this atomicity. Relying on the ConcurrentHashMap to ensure exclusive access is dangerous since ConcurrentHashMap has no guarantee of exclusive access.
"
k9mail/k-9,closed,"Repeated Error: ""Negative SMTP Reply: 501 5.1.3 Bad re..."", ""Failed to send some mess...""","[Label(name=""invalid"")]","This error has been coming up every few minutes for the past month (I can't read more than I've typed above) -- how do I disable it once and for all?

![photo on 22-9-15 at 5 47 pm](https://cloud.githubusercontent.com/assets/737638/10015407/8e683b24-6152-11e5-854a-93bfa6c4e69d.jpg)

Perhaps similar to https://www.mail-archive.com/k-9-mail%40googlegroups.com/msg02178.html ?

K-9 Mail Version: 5.107
Android 4.4.4 KTU84P
"
k9mail/k-9,closed,Plain appended PGP encrypted mails destroys mail body due OpenKeychain result,"[Label(name=""bug"")]","I had written a mail to service@oppodigital.com and the answer is visible for a second or less and will be overlain by the result of OpenKeychain.  The reasone seem to be that in the answer mail from oppodigital.com, there is a line with ""________________________________________"" and after this my orignal mail starting with ""From: bitstreamout bitstreamout@gmail.com"", the line with the Sent date as well as the To, the Subject line, an empty line , and the ""-----BEGIN PGP SIGNED MESSAGE-----"" causes that k9mail starts OpenKeychain to verify the signature (which is OK) but then erase the mail body with the result.  This I've tested also with the alpah version v5.107.  If required I can attach a compressed version of the orignal mail.

bitstreamout
"
k9mail/k-9,open,When you leave a long email and come back again it should persist and return the position you were scrolled down to.,"[Label(name=""enhancement"")]","Email view should remember the scrolled position between instantiations.

This is a tiny usability thing but I think would make a big difference. When I had to use an Apple device I noticed their mail client does this and it saves a lot of time when switching around.

Thanks for the wonderful work on k9 - amazing application!
"
k9mail/k-9,closed,"Widget for showing count and linking directly to a particular folder a bit like Gmail's ""label"" widget.","[Label(name=""duplicate"")]","Same thing could be accomplished by adding a feature for the unread widget to count and link to a non-INBOX folder.
"
k9mail/k-9,closed,Few minor changes (the Ukrainian language),[],"Wrong declension words missing letters, the letters rearranged places
"
k9mail/k-9,closed,Notification remains after email read/deleted using another device,"[Label(name=""enhancement"")]","When a new mail notification is displayed and another device (e.g. PC) used to read/delete the email, I would expect the K-9 notification to be removed on the next folder refresh, but it stays forever if not manually removed.
"
k9mail/k-9,open,RFE: line wrap after 78 characters,"[Label(name=""enhancement"")]","This is basically a copy of [#4982](https://code.google.com/p/k9mail/issues/detail?id=4982) or [#3016](https://code.google.com/p/k9mail/issues/detail?id=3016): please support a line-wrap after e.g. [78 characters](https://tools.ietf.org/html/rfc5322#section-2.1.1) when composing emails. Without that, emails sent via K-9 Mail are hard to read and one has to scroll horizontally.
"
k9mail/k-9,closed,unicode subject lines,"[Label(name=""invalid"")]","Message bodies with unicode characters are displayed fine. The subject line isn't.
"
k9mail/k-9,closed,Quote in reply should be decrypted,"[Label(name=""duplicate"")]","When replying to encrypted mail, the decrypted mail body should be used as quote rather than the inline PGP. Ideally, there should be a message asking whether to use the decrypted Text or remove the quote entirely, because sending a full-quote back unencrypted may be a privacy issue.
"
k9mail/k-9,closed,Option to not save sent message in Sent folder,[],"Please, offer an option not to save sent messages in the Sent folder.

Some people sent a lot of message and use BCC to themselves to save import sent message and keep the Send folder to the point and not clutter up with everything that was sent.

This was reported for version v5.006. See also https://code.google.com/p/k9mail/issues/detail?id=3890 and https://code.google.com/p/k9mail/issues/detail?id=4038 and https://code.google.com/p/k9mail/issues/detail?id=6144
"
k9mail/k-9,open,Use fixed width font for editing signatures,"[Label(name=""enhancement"")]","I am sending message as plain text (non-HTML) and have a signature that has two columns which I have aligned with spaces. For these signatures, for ASCII-art and for other purposes of aligning or editing multi line and multi column signatures, it is better to use fixed width font while editing signatures.

If in Display settings Fixed-with fonts is selected, use fixed-width font when editing signatures, or add a separate settings for enabling and disabling fixed-width font for editing signatures.

This was reported for version v5.006. See also https://code.google.com/p/k9mail/issues/detail?id=6541
"
k9mail/k-9,open,Offer back in header while in settings,"[Label(name=""enhancement"")]","Normal navigation in the app offers back navigation via the header. This is not available in the settings menus via a gray arrow to the left on the top left of the screen, in the header, left of the icon for messages and folders. Please support it too for settings menus.

This was reported for version v5.006. See also https://code.google.com/p/k9mail/issues/detail?id=6583
"
k9mail/k-9,open,Option to hide star in message view,"[Label(name=""enhancement"")]","Please offer an option to hide star icon in message view, just like there is an option to hide icon star in folder list.

For people who don't use stars, the star is taking up space that could be used for displaying long subjects of list of addresses.

This was reported for version v5.006. See also https://code.google.com/p/k9mail/issues/detail?id=6582 and https://code.google.com/p/k9mail/issues/detail?id=5935
"
k9mail/k-9,closed,Add Android Wear support,[],"This builds on @MarcusWolschon's changes in PR #665. But the code was extensively refactored.
The notification code now lives in the package `com.fsck.k9.notification` and has significant test coverage.

I'd very much appreciate code reviews.
"
k9mail/k-9,open,html signature support,"[Label(name=""enhancement"")]","As others have pointed out when this project was hosted on Google Code, would be really nice if you add html support in signatures too.
"
k9mail/k-9,open,Add support for client certificate and password authentication,"[Label(name=""enhancement"")]","Add support for using a client certificate and password authentication together.
"
k9mail/k-9,closed,K9 &  Tasker,"[Label(name=""enhancement"")]","I have used Tasker for about 5 years now.  And K9 for about 2 or so.

There is currently a Tasker plug in for K9.  I'd like to see that expanded.  I would like Tasker to be able to tell K9 to start/end quiet time (as opposed to requiring me to enter a time. 
"
k9mail/k-9,open,Search on Server,"[Label(name=""enhancement"")]","When I need to use the search function to find a message, it's usually too old to be part of what's cached locally on my phone. 

But when I do search, it appears to only search the local cache.  I have to keep tapping ""Load Up To 25 More"" until it has gone back far enough.  And then I can search for the message. 

The IMAP Protocol includes a function to search on the server based on any number of criteria.  After K9 has searched the local cache and not found the message, it should show an option to continue the search on the server. 

I'd also like to be able to do advanced searches on the server (subject includes this but excludes that, between two dates etc). 
"
k9mail/k-9,open,Merge @googlemail.com and @gmail.com,"[Label(name=""enhancement"")]","It would be awesome if k9 would recognise googlemail as gmail and vice versa when associating email addresses with contacts from the address book. 
"
k9mail/k-9,closed,Actions not taken when viewing message?,"[Label(name=""invalid"")]","Using K9 connected to Gmail, it seems like when I move or delete a message from the inbox while viewing it, it does not disappear from the inbox when I go back. Doing these actions from the inbox view works fine.
"
k9mail/k-9,closed,Icon displayed in portrait mode disapears in landscape mode,"[Label(name=""invalid"")]","Hi, 

While in portrait mode I can see all icons (cf attached picture), some of them (ex : reply shortcut or new email shortcut) dispapear in lanscape mode.

Could you fix this display bug ?

Thanks,

Bourinatus

![screenshot_2015-09-09-12-58-46](https://cloud.githubusercontent.com/assets/14199927/9763759/8ea75148-570b-11e5-8a38-f8db0bcd4d48.png)
![screenshot_2015-09-09-12-58-58](https://cloud.githubusercontent.com/assets/14199927/9763761/8eafa578-570b-11e5-9583-bfb1739980f8.png)
"
k9mail/k-9,closed,MIME type set incorrectly for attachment intent,"[Label(name=""wontfix"")]","Hi,

When a .gz attachment is opened in k9, the MIME type gets set to text/plain.
The mime type should be set based on the file extension.

Thanks for all you great work building this app. It's my primary client on Android and I have even worked on the source to help create a visual voicemail client with another developer.
The only thing that I find a bit buggy is remote search.

If you point me to the right files I'm happy to work on these issues.
"
k9mail/k-9,closed,K9 don´t show folder that begin with brackets ,"[Label(name=""bug"")]","Imap folders that begin (or end)  with brackets don´t  appear on k9.

example:
[games]
[aviation]
[soccer]
"
k9mail/k-9,closed,add poste + vodafone,[],"Add italian provider poste.it and vodafone.it
"
k9mail/k-9,closed,Update providers.xml,[],"added posteo.net domain
"
k9mail/k-9,open,Crash in EmailProvider with unified inbox,"[Label(name=""bug"")]","Hello,

when I select only one or more mails in the common inbox and click DELETE K9 crashes every time. When I do that in single folder, e.g. the inbox, it works.
I already tried to uninstall and reinstall K9 - no change, same problem.
Can anyone help me or does have the same problem?

I use K9 version 5.006, Android version 5.0 on a LG G3.

Thanky you for your help, tips & tricks.
"
k9mail/k-9,open,Improve mechanism to download complete message,"[Label(name=""architecture"")]","When the user clicks the ""Download complete message"" button we (try to) download the message in a background thread and notify the caller via a callback.

This has a couple of drawbacks:
- when there's a network error or no connectivity there's no automatic retry, i.e. the user has to press the button again
- the callback leaks a reference to the activity (see #690)
- on orientation change the callback references the old activity, i.e. the new activity isn't notified
- there's no guarantee that a service is running, i.e. the app might be killed sooner than necessary when it is moved to the background
- we're not holding a wake lock while downloading the message, i.e. the device could go to sleep during download
"
k9mail/k-9,closed,"Support for ""multi window"" (side by side tiles)","[Label(name=""enhancement"")]","Just reviving this old issue from Google Code. Seems like the most recent version of k9 doesn't support this yet. Also seems to be suggested that this is quite easy to resolve. 

Old report: https://code.google.com/p/k9mail/issues/detail?id=4814

Manifest change: http://stackoverflow.com/questions/14111052/adding-multi-window-support-to-android-application/14185426#14185426

I would be more than happy to help test. Thanks for your work and consideration! 
"
k9mail/k-9,closed,"If selected, send client certificate before password auth",[],"Changes seems harmless to me except userInfo pack and unpack.

```
widget for client certificate is always visible

all auth type ( I've tested only plain) sends cliantCertificateAlias
for me works both with certificate ( my server)
and without cert ( gmail)

userInfo pack and unpack seems weak, but I lack skills to fix
```
"
k9mail/k-9,closed,k9 auto open url in browser without any questions,"[Label(name=""duplicate"")]","I have got two phishing emails yesterday.
When I tap on it browser start with url from email.
When I open it from another email by tap ""<"" or "">"" bottons, browser start with url from email.
It seems critical issue for me.
"
k9mail/k-9,closed,Send client certificate with plain password,[],"Changes seems harmless to me except userInfo pack and unpack.
- widget for client certificate is always visible
- all auth type  (  I've tested only plain) sends cliantCertificateAlias
  for me works both with certificate ( my server) 
  and without cert ( gmail)
- userInfo pack and unpack seems weak, but I lack skills to fix
"
k9mail/k-9,closed,Add online autoconfiguration from ISP,"[Label(name=""enhancement"")]","Implementing autoconfig mechanism to get IMAP/POP/SMTP parameters would be a great jump forward to new users get their account working in brief steps.

developer.mozilla.org/docs/Mozilla/Thunderbird/Autoconfiguration
"
k9mail/k-9,closed,Prefer attachment MIME type from content provider over information from intent,[],"Fixes issue #744 
"
k9mail/k-9,closed,Fix folder settings export,[],"Properly export folder settings for folders containing "".""

Fixes issue #765
"
k9mail/k-9,closed,"Hide ""Load up to X more"" button",[],"Hide the ""Load up to X more"" button/list item when there are no more relevant messages on the server.

Fixes issue #773 
"
k9mail/k-9,closed,"Hide ""Load up to X more"" button","[Label(name=""enhancement"")]","Hide ""Load up to X more"" button when there are no more messages on the server.
"
k9mail/k-9,closed,adding a new email provider to account setup auto configuration,"[Label(name=""enhancement"")]","Hi,
It seems my email provider domain name is not known to K9 account auto config.
How do I add my email provider server configuration to happen automatically in K9 ?

Is it based on https://developer.mozilla.org/en-US/docs/Mozilla/Thunderbird/Autoconfiguration ?
Is https://github.com/k9mail/k-9/wiki/An-user-friendly-account-set-up-wizard-with-automatic-settings-detection-mechanisms implemented or maintained ?
"
k9mail/k-9,closed,Crash when modifying user for SMTP server,"[Label(name=""bug""), Label(name=""needs info"")]","### Expected behaviour

After having set up the first mail account server, I wanted to set up the SMTP server, which is different from the incoming mail server and uses a different user name and password.
### Actual behaviour

The SMTP server is changed (no unexpected behaviour), and then when I modify the user name or start to modify the password the screen gets black or freezes and then gets black. The message that K-9 stopped appears.
### Steps to reproduce

1.Setup first incoming mail account
2.Trying to setup the SMTP server account K-9 Mail crashes.
3.
### Environment

K-9 Mail version: 5.006

Android version: 4.1.2 (no newer version provided by my ISP)

Account type (IMAP, POP3, WebDAV/Exchange): IMAP
"
k9mail/k-9,closed,Checking mail notifcation stays forever if server is not reachabel,"[Label(name=""bug"")]","It happens from time to time that k9 mail is not able to reach the server and keeps the checking mail notification for ever. I observed this i.e. in wifi networks that have no uplink. Sometimes when i force k9 mail to pull mails in such a network (of course by mistake) that the ""cheking mail"" notification pops up and stays until i reboot the phone. Killing k9mail via the app settings dialog of android is not helping. It also stays there after k9 successfully pulled mails trough a different wifi network.

I'm running k9 on an nexus 5 with android 5.1.1 the mail server on the other side is a dovecot imap on debian old stable. Latest k9 version tested is 5.006 from fdroid.
"
k9mail/k-9,open,Add support for IMAP labels,"[Label(name=""enhancement"")]","Plesse add support for IMAP Labels/flags/tags, just like Mozilla Thunderbird does. Thank you.
"
k9mail/k-9,closed,Option to set a custom interval for refreshing the push connection,[],"Attempt to allow more values for the ""Refresh Idle connection"" setting by adding a ""Custom"" option
"
k9mail/k-9,closed,Certificate verification utterly broken,"[Label(name=""needs info""), Label(name=""security"")]","K-9 Mail happily accepts not only self-signed certificates without raising any questions, but also **expired** certificates. This should definitely be **NOT** the case, since it renders the whole authentication useless and MitM becomes possible by introducing fake and/or self-signed certificates.

Verifying the validity of certificates is essential to the SSL/TLS system, otherwise it is pretty much useless.
"
k9mail/k-9,open,"Sometimes changing ""Send as"" identity, changes smtp sending server but keeps old ""from: field"".","[Label(name=""bug""), Label(name=""needs info"")]","This only happens about half the times, I start replying an email, change my identity from, say, hotmail to yahoo ( I have 3 ), and when I try to send, I receive a notification saying that the SMTP server ( In my example I would be the yahoo smtp ) refuses to send because I seeding from an non verified email. ( My from: field is still with the hotmail address. ).
"
k9mail/k-9,closed,Export folder-settings only works for top level folders,"[Label(name=""bug"")]","I have a folder structure with 3 or 4 levels of (sub-)folders in my IMAP account.

After configuring all the folders (display class, sync class, push class, ...) I exported the settings and imported them on my new phone, but only the settings for the top level folders where transferred.
I checked the k9s file and saw that only the top level folders where exported.
I edited the file and added all my folders (with a script) and imported that file after clearing the K9 data. 
This time, all settings were imported.

So the export skips sub-folders but the import (fortunately) does not.

Sub-folders should also be exported.

I tested this with v5.006 and v5.107 on Nexus 5 with stock Android 5.1.1.
"
k9mail/k-9,open,Add a notification on message sent,"[Label(name=""enhancement"")]","At the moment there is no notification when a message was successfully sent. I believe a notification is, on the other hand, displayed when a message could not be sent.

It would be great to also have a notification when a message is successfully sent.

A similar issue was filed in the, now-archived, google code project (https://code.google.com/p/k9mail/issues/detail?id=455).

Thank you in advance.
"
k9mail/k-9,open,Hide / collapse nested quote / replies when viewing emails?,"[Label(name=""enhancement"")]","When I'm part of a long email thread there's a huge amount of junk that gets tacked on to the end of the email, the nested quoted replies take up a TON of space, and end up making the email start out zoomed out and super tiny. This is usually resolved with just a double-tap of the screen but it would be nice if there were a way to make it so that these replies are collapsed by default, and can be expanded with a tap, similar to how the official Gmail app handles this.

Is this possible? I'm using K9 because I don't use Gapps, so it'd be super nice if there were an option for this.

Thanks!
"
k9mail/k-9,open,Determine message's folder,"[Label(name=""enhancement"")]","When viewing a message from search results on a unified folder, it's difficult (impossible?) to determine what folder the message is contained in. Possible solutions:
- Toggle display of folder name/path along with the header info
- Include ""In: [folder]"" banner above message
  - Maybe only when viewed from search results?
- New message view menu option: Go to folder

I don't think the account needs to be listed since it can be deduced by the colored sidebar.
"
k9mail/k-9,closed,Update GooglePlay description,[],"Not directly related to the code itself,
but the GooglePlay description is still pointing to http://k9mail.googlecode.com
"
k9mail/k-9,open,Enhancement: move message to another account,"[Label(name=""enhancement"")]","I would like to have the ability to move a message from one account to another like thunderbird.
"
k9mail/k-9,closed,issue adding gmail account,"[Label(name=""invalid"")]","unable to add gmail account as of recent adding gmail accounts is broken using automatic settings i receive an error about needing to sign in on the web.
"
k9mail/k-9,closed,can t get the push notifications,"[Label(name=""invalid"")]","Sometime, push notifications are not receiving. Also, many users have commented on this same issue in playstore. Copy pasting those comments.

2   1   push doesn t work the app itself is great a lot of features and i even love the design but push doesn t work uninstalled
2   doesn t push i can t get the push notifications to work on either account disappointing
3   it won t push notifications uninstalled since it won t push notifications
"
k9mail/k-9,closed,not working with exchange tried to add exchange account and got error,"[Label(name=""invalid"")]","not working with exchange tried to add exchange account and got error
"
k9mail/k-9,closed,Logout!,"[Label(name=""invalid"")]","Hi,
I could not find the logout option in this app.How can i logout from this app. 

Thanks
"
k9mail/k-9,closed,still Connection timed out with SSL connection....  ,"[Label(name=""needs info"")]","9-Mail version: 1.10
Device make: samsung
Device model: SM-N910F
Android version: 5.0.1

javax.net.ssl.SSLException: Read error: ssl=0xa0f80e00: I/O error during system call, Connection timed out
    at com.android.org.conscrypt.NativeCrypto.SSL_read(Native Method)
    at com.android.org.conscrypt.OpenSSLSocketImpl$SSLInputStream.read(OpenSSLSocketImpl.java:728)
    at java.io.InputStream.read(InputStream.java:162)
    at java.util.zip.InflaterInputStream.fill(InflaterInputStream.java:194)
    at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:153)
    at java.io.InputStream.read(InputStream.java:162)
    at java.io.BufferedInputStream.fillbuf(BufferedInputStream.java:149)
    at java.io.BufferedInputStream.read(BufferedInputStream.java:234)
    at com.fsck.k9.mail.filter.PeekableInputStream.peek(PeekableInputStream.java:34)
    at com.fsck.k9.mail.store.imap.ImapResponseParser.readResponse(ImapResponseParser.java:41)
    at com.fsck.k9.mail.store.imap.ImapResponseParser.readResponse(ImapResponseParser.java:32)
    at com.fsck.k9.mail.store.imap.ImapResponseParser.readStatusResponse(ImapResponseParser.java:73)
    at com.fsck.k9.mail.store.imap.ImapConnection.executeSimpleCommand(ImapConnection.java:311)
    at com.fsck.k9.mail.store.imap.ImapStore$ImapFolder.executeSimpleCommand(ImapStore.java:722)
    at com.fsck.k9.mail.store.imap.ImapStore$ImapFolderPusher$1.run(ImapStore.java:2391)
    at java.lang.Thread.run(Thread.java:818)

other note: make bugreport option within K9 mail, much easier.... 

André
"
k9mail/k-9,closed,K9 does not show warning when receiving mail via Push/IMAP IDLE,[],"I'm using K-9 5.006 installed from F-Droid on Android 4.4 Kitkat (CyanogenMod) on an LG P990.

I have configured K-9 to fetch mail from my Dovecot IMAP server with Push e-mail enabled for my INBOX folder and another folder. When I send a mail to this account, K-9 does immediately receive a notification from the IMAP server according to logcat, yet it does not show any notification and the e-mail is not visible in my INBOX. When I manually refresh my INBOX in K-9 by pulling down the message list, the new mail does appear.

I have the impression that this problem starts to occur as soon as my mail server becomes temporary unavailable. Even when the server comes back online, K-9 fails to show immediate mail notification, not even after a phone reboot.The only way to make it work again, is by removing all K-9 data, and reconfiguring it from scratch. 

logcat:

Here I start K-9 (after I killed it):

```
I/Timeline(11405): Timeline: Activity_launch_request id:com.fsck.k9 time:144984964
I/ActivityManager(  440): START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.fsck.k9/.activity.Accounts} from pid 11405
V/Zygote  (23954): Switching descriptor 33 to /dev/null
V/Zygote  (23954): Switching descriptor 9 to /dev/null
I/ActivityManager(  440): Start proc com.fsck.k9 for activity com.fsck.k9/.activity.Accounts: pid=23954 uid=10064 gids={50064, 3003, 1028, 1015}
D/ActivityThread(23954): handleBindApplication:com.fsck.k9
D/ActivityThread(23954): setTargetHeapUtilization:0.8
D/ActivityThread(23954): setTargetHeapMinFree:524288
I/k9      (23954): Loading preferences from DB into Storage
I/k9      (23954): Preferences load took 68ms
V/k9      (23954): Creating TracingPowerManager
V/k9      (23954): TracingWakeLock for tag CoreService addWakeLock / id 0: Create
V/k9      (23954): TracingWakeLock for tag CoreService addWakeLock / id 0 for 60000 ms: acquired
I/k9      (23954): Registered: unmount receiver
I/k9      (23954): Registered: shutdown receiver
V/k9      (23954): Initializing observer: com.fsck.k9.provider.MessageProvider$1@42422e18
V/k9      (23954): Registering content resolver notifier
D/StrictMode(23954): StrictMode policy violation; ~duration=177 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=31 violation=2
D/StrictMode(23954):    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1135)
D/StrictMode(23954):    at android.app.SharedPreferencesImpl.awaitLoadedLocked(SharedPreferencesImpl.java:203)
D/StrictMode(23954):    at android.app.SharedPreferencesImpl.getInt(SharedPreferencesImpl.java:239)
D/StrictMode(23954):    at com.fsck.k9.K9.checkCachedDatabaseVersion(K9.java:697)
D/StrictMode(23954):    at com.fsck.k9.K9.onCreate(K9.java:581)
D/StrictMode(23954):    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007)
D/StrictMode(23954):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4473)
D/StrictMode(23954):    at android.app.ActivityThread.access$1500(ActivityThread.java:144)
D/StrictMode(23954):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)
D/StrictMode(23954):    at android.os.Handler.dispatchMessage(Handler.java:102)
D/StrictMode(23954):    at android.os.Looper.loop(Looper.java:136)
D/StrictMode(23954):    at android.app.ActivityThread.main(ActivityThread.java:5146)
D/StrictMode(23954):    at java.lang.reflect.Method.invokeNative(Native Method)
D/StrictMode(23954):    at java.lang.reflect.Method.invoke(Method.java:515)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
D/StrictMode(23954):    at dalvik.system.NativeStart.main(Native Method)
D/StrictMode(23954): StrictMode policy violation; ~duration=134 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=31 violation=2
D/StrictMode(23954):    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1135)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.applyBlockGuardPolicy(SQLiteConnection.java:1041)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.executeForLong(SQLiteConnection.java:595)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setPageSize(SQLiteConnection.java:251)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:213)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:1008)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:997)
D/StrictMode(23954):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:250)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.openDB(Storage.java:44)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.loadValues(Storage.java:177)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.<init>(Storage.java:200)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.getStorage(Storage.java:155)
D/StrictMode(23954):    at com.fsck.k9.Preferences.<init>(Preferences.java:44)
D/StrictMode(23954):    at com.fsck.k9.Preferences.getPreferences(Preferences.java:31)
D/StrictMode(23954):    at com.fsck.k9.K9.onCreate(K9.java:583)
D/StrictMode(23954):    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007)
D/StrictMode(23954):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4473)
D/StrictMode(23954):    at android.app.ActivityThread.access$1500(ActivityThread.java:144)
D/StrictMode(23954):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)
D/StrictMode(23954):    at android.os.Handler.dispatchMessage(Handler.java:102)
D/StrictMode(23954):    at android.os.Looper.loop(Looper.java:136)
D/StrictMode(23954):    at android.app.ActivityThread.main(ActivityThread.java:5146)
D/StrictMode(23954):    at java.lang.reflect.Method.invokeNative(Native Method)
D/StrictMode(23954):    at java.lang.reflect.Method.invoke(Method.java:515)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
D/StrictMode(23954):    at dalvik.system.NativeStart.main(Native Method)
D/StrictMode(23954): StrictMode policy violation; ~duration=132 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=31 violation=2
D/StrictMode(23954):    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1135)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.applyBlockGuardPolicy(SQLiteConnection.java:1041)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.executeForLong(SQLiteConnection.java:595)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setForeignKeyModeFromConfiguration(SQLiteConnection.java:281)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:214)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:1008)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:997)
D/StrictMode(23954):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:250)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.openDB(Storage.java:44)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.loadValues(Storage.java:177)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.<init>(Storage.java:200)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.getStorage(Storage.java:155)
D/StrictMode(23954):    at com.fsck.k9.Preferences.<init>(Preferences.java:44)
D/StrictMode(23954):    at com.fsck.k9.Preferences.getPreferences(Preferences.java:31)
D/StrictMode(23954):    at com.fsck.k9.K9.onCreate(K9.java:583)
D/StrictMode(23954):    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007)
D/StrictMode(23954):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4473)
D/StrictMode(23954):    at android.app.ActivityThread.access$1500(ActivityThread.java:144)
D/StrictMode(23954):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)
D/StrictMode(23954):    at android.os.Handler.dispatchMessage(Handler.java:102)
D/StrictMode(23954):    at android.os.Looper.loop(Looper.java:136)
D/StrictMode(23954):    at android.app.ActivityThread.main(ActivityThread.java:5146)
D/StrictMode(23954):    at java.lang.reflect.Method.invokeNative(Native Method)
D/StrictMode(23954):    at java.lang.reflect.Method.invoke(Method.java:515)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
D/StrictMode(23954):    at dalvik.system.NativeStart.main(Native Method)
D/StrictMode(23954): StrictMode policy violation; ~duration=129 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=31 violation=2
D/StrictMode(23954):    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1135)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.applyBlockGuardPolicy(SQLiteConnection.java:1041)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.executeForString(SQLiteConnection.java:638)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setJournalMode(SQLiteConnection.java:320)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setWalModeFromConfiguration(SQLiteConnection.java:294)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:215)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:1008)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:997)
D/StrictMode(23954):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:250)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.openDB(Storage.java:44)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.loadValues(Storage.java:177)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.<init>(Storage.java:200)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.getStorage(Storage.java:155)
D/StrictMode(23954):    at com.fsck.k9.Preferences.<init>(Preferences.java:44)
D/StrictMode(23954):    at com.fsck.k9.Preferences.getPreferences(Preferences.java:31)
D/StrictMode(23954):    at com.fsck.k9.K9.onCreate(K9.java:583)
D/StrictMode(23954):    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007)
D/StrictMode(23954):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4473)
D/StrictMode(23954):    at android.app.ActivityThread.access$1500(ActivityThread.java:144)
D/StrictMode(23954):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)
D/StrictMode(23954):    at android.os.Handler.dispatchMessage(Handler.java:102)
D/StrictMode(23954):    at android.os.Looper.loop(Looper.java:136)
D/StrictMode(23954):    at android.app.ActivityThread.main(ActivityThread.java:5146)
D/StrictMode(23954):    at java.lang.reflect.Method.invokeNative(Native Method)
D/StrictMode(23954):    at java.lang.reflect.Method.invoke(Method.java:515)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
D/StrictMode(23954):    at dalvik.system.NativeStart.main(Native Method)
D/StrictMode(23954): StrictMode policy violation; ~duration=127 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=31 violation=2
D/StrictMode(23954):    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1135)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.applyBlockGuardPolicy(SQLiteConnection.java:1041)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.executeForString(SQLiteConnection.java:638)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setJournalMode(SQLiteConnection.java:323)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setWalModeFromConfiguration(SQLiteConnection.java:294)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:215)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:1008)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:997)
D/StrictMode(23954):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:250)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.openDB(Storage.java:44)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.loadValues(Storage.java:177)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.<init>(Storage.java:200)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.getStorage(Storage.java:155)
D/StrictMode(23954):    at com.fsck.k9.Preferences.<init>(Preferences.java:44)
D/StrictMode(23954):    at com.fsck.k9.Preferences.getPreferences(Preferences.java:31)
D/StrictMode(23954):    at com.fsck.k9.K9.onCreate(K9.java:583)
D/StrictMode(23954):    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007)
D/StrictMode(23954):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4473)
D/StrictMode(23954):    at android.app.ActivityThread.access$1500(ActivityThread.java:144)
D/StrictMode(23954):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)
D/StrictMode(23954):    at android.os.Handler.dispatchMessage(Handler.java:102)
D/StrictMode(23954):    at android.os.Looper.loop(Looper.java:136)
D/StrictMode(23954):    at android.app.ActivityThread.main(ActivityThread.java:5146)
D/StrictMode(23954):    at java.lang.reflect.Method.invokeNative(Native Method)
D/StrictMode(23954):    at java.lang.reflect.Method.invoke(Method.java:515)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
D/StrictMode(23954):    at dalvik.system.NativeStart.main(Native Method)
D/StrictMode(23954): StrictMode policy violation; ~duration=124 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=31 violation=2
D/StrictMode(23954):    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1135)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.applyBlockGuardPolicy(SQLiteConnection.java:1041)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.executeForString(SQLiteConnection.java:638)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setSyncMode(SQLiteConnection.java:301)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setWalModeFromConfiguration(SQLiteConnection.java:295)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:215)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:1008)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:997)
D/StrictMode(23954):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:250)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.openDB(Storage.java:44)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.loadValues(Storage.java:177)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.<init>(Storage.java:200)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.getStorage(Storage.java:155)
D/StrictMode(23954):    at com.fsck.k9.Preferences.<init>(Preferences.java:44)
D/StrictMode(23954):    at com.fsck.k9.Preferences.getPreferences(Preferences.java:31)
D/StrictMode(23954):    at com.fsck.k9.K9.onCreate(K9.java:583)
D/StrictMode(23954):    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007)
D/StrictMode(23954):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4473)
D/StrictMode(23954):    at android.app.ActivityThread.access$1500(ActivityThread.java:144)
D/StrictMode(23954):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)
D/StrictMode(23954):    at android.os.Handler.dispatchMessage(Handler.java:102)
D/StrictMode(23954):    at android.os.Looper.loop(Looper.java:136)
D/StrictMode(23954):    at android.app.ActivityThread.main(ActivityThread.java:5146)
D/StrictMode(23954):    at java.lang.reflect.Method.invokeNative(Native Method)
D/StrictMode(23954):    at java.lang.reflect.Method.invoke(Method.java:515)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
D/StrictMode(23954):    at dalvik.system.NativeStart.main(Native Method)
D/StrictMode(23954): StrictMode policy violation; ~duration=104 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=31 violation=2
D/StrictMode(23954):    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1135)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.applyBlockGuardPolicy(SQLiteConnection.java:1041)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.executeForLong(SQLiteConnection.java:595)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setJournalSizeLimit(SQLiteConnection.java:271)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:216)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:1008)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:997)
D/StrictMode(23954):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:250)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.openDB(Storage.java:44)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.loadValues(Storage.java:177)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.<init>(Storage.java:200)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.getStorage(Storage.java:155)
D/StrictMode(23954):    at com.fsck.k9.Preferences.<init>(Preferences.java:44)
D/StrictMode(23954):    at com.fsck.k9.Preferences.getPreferences(Preferences.java:31)
D/StrictMode(23954):    at com.fsck.k9.K9.onCreate(K9.java:583)
D/StrictMode(23954):    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007)
D/StrictMode(23954):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4473)
D/StrictMode(23954):    at android.app.ActivityThread.access$1500(ActivityThread.java:144)
D/StrictMode(23954):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)
D/StrictMode(23954):    at android.os.Handler.dispatchMessage(Handler.java:102)
D/StrictMode(23954):    at android.os.Looper.loop(Looper.java:136)
D/StrictMode(23954):    at android.app.ActivityThread.main(ActivityThread.java:5146)
D/StrictMode(23954):    at java.lang.reflect.Method.invokeNative(Native Method)
D/StrictMode(23954):    at java.lang.reflect.Method.invoke(Method.java:515)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
D/StrictMode(23954):    at dalvik.system.NativeStart.main(Native Method)
D/StrictMode(23954): StrictMode policy violation; ~duration=101 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=31 violation=2
D/StrictMode(23954):    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1135)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.applyBlockGuardPolicy(SQLiteConnection.java:1041)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.executeForLong(SQLiteConnection.java:595)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setJournalSizeLimit(SQLiteConnection.java:273)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:216)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:1008)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:997)
D/StrictMode(23954):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:250)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.openDB(Storage.java:44)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.loadValues(Storage.java:177)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.<init>(Storage.java:200)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.getStorage(Storage.java:155)
D/StrictMode(23954):    at com.fsck.k9.Preferences.<init>(Preferences.java:44)
D/StrictMode(23954):    at com.fsck.k9.Preferences.getPreferences(Preferences.java:31)
D/StrictMode(23954):    at com.fsck.k9.K9.onCreate(K9.java:583)
D/StrictMode(23954):    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007)
D/StrictMode(23954):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4473)
D/StrictMode(23954):    at android.app.ActivityThread.access$1500(ActivityThread.java:144)
D/StrictMode(23954):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)
D/StrictMode(23954):    at android.os.Handler.dispatchMessage(Handler.java:102)
D/StrictMode(23954):    at android.os.Looper.loop(Looper.java:136)
D/StrictMode(23954):    at android.app.ActivityThread.main(ActivityThread.java:5146)
D/StrictMode(23954):    at java.lang.reflect.Method.invokeNative(Native Method)
D/StrictMode(23954):    at java.lang.reflect.Method.invoke(Method.java:515)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
D/StrictMode(23954):    at dalvik.system.NativeStart.main(Native Method)
D/StrictMode(23954): StrictMode policy violation; ~duration=93 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=31 violation=2
D/StrictMode(23954):    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1135)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.applyBlockGuardPolicy(SQLiteConnection.java:1041)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.executeForLong(SQLiteConnection.java:595)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setAutoCheckpointInterval(SQLiteConnection.java:261)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:217)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:1008)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:997)
D/StrictMode(23954):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:250)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.openDB(Storage.java:44)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.loadValues(Storage.java:177)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.<init>(Storage.java:200)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.getStorage(Storage.java:155)
D/StrictMode(23954):    at com.fsck.k9.Preferences.<init>(Preferences.java:44)
D/StrictMode(23954):    at com.fsck.k9.Preferences.getPreferences(Preferences.java:31)
D/StrictMode(23954):    at com.fsck.k9.K9.onCreate(K9.java:583)
D/StrictMode(23954):    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007)
D/StrictMode(23954):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4473)
D/StrictMode(23954):    at android.app.ActivityThread.access$1500(ActivityThread.java:144)
D/StrictMode(23954):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)
D/StrictMode(23954):    at android.os.Handler.dispatchMessage(Handler.java:102)
D/StrictMode(23954):    at android.os.Looper.loop(Looper.java:136)
D/StrictMode(23954):    at android.app.ActivityThread.main(ActivityThread.java:5146)
D/StrictMode(23954):    at java.lang.reflect.Method.invokeNative(Native Method)
D/StrictMode(23954):    at java.lang.reflect.Method.invoke(Method.java:515)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
D/StrictMode(23954):    at dalvik.system.NativeStart.main(Native Method)
D/StrictMode(23954): StrictMode policy violation; ~duration=91 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=31 violation=2
D/StrictMode(23954):    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1135)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.applyBlockGuardPolicy(SQLiteConnection.java:1041)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.executeForLong(SQLiteConnection.java:595)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.setAutoCheckpointInterval(SQLiteConnection.java:263)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:217)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)
D/StrictMode(23954):    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)
D/StrictMode(23954):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:1008)
D/StrictMode(23954):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:997)
D/StrictMode(23954):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:250)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.openDB(Storage.java:44)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.loadValues(Storage.java:177)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.<init>(Storage.java:200)
D/StrictMode(23954):    at com.fsck.k9.preferences.Storage.getStorage(Storage.java:155)
D/StrictMode(23954):    at com.fsck.k9.Preferences.<init>(Preferences.java:44)
D/StrictMode(23954):    at com.fsck.k9.Preferences.getPreferences(Preferences.java:31)
D/StrictMode(23954):    at com.fsck.k9.K9.onCreate(K9.java:583)
D/StrictMode(23954):    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007)
D/StrictMode(23954):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4473)
D/StrictMode(23954):    at android.app.ActivityThread.access$1500(ActivityThread.java:144)
D/StrictMode(23954):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)
D/StrictMode(23954):    at android.os.Handler.dispatchMessage(Handler.java:102)
D/StrictMode(23954):    at android.os.Looper.loop(Looper.java:136)
D/StrictMode(23954):    at android.app.ActivityThread.main(ActivityThread.java:5146)
D/StrictMode(23954):    at java.lang.reflect.Method.invokeNative(Native Method)
D/StrictMode(23954):    at java.lang.reflect.Method.invoke(Method.java:515)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732)
D/StrictMode(23954):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
D/StrictMode(23954):    at dalvik.system.NativeStart.main(Native Method)
I/Timeline(23954): Timeline: Activity_launch_request id:com.fsck.k9 time:144985692
I/ActivityManager(  440): START u0 {flg=0x14000000 cmp=com.fsck.k9/.activity.MessageList (has extras)} from pid 23954
I/k9      (23954): CoreService: com.fsck.k9.service.MailService.onCreate()
V/k9      (23954): ***** MailService *****: onCreate
V/k9      (23954): TracingWakeLock for tag CoreService onStart / id 1: Create
V/k9      (23954): TracingWakeLock for tag CoreService onStart / id 1 for 60000 ms: acquired
I/k9      (23954): CoreService: com.fsck.k9.service.MailService.onStart(Intent { act=com.fsck.k9.intent.action.MAIL_SERVICE_RESET cmp=com.fsck.k9/.service.MailService (has extras) }, 1)
D/k9      (23954): Got core wake lock id 0
D/k9      (23954): Found core wake lock with id 0, releasing
V/k9      (23954): TracingWakeLock for tag CoreService addWakeLock / id 0: releasing after 109 ms, timeout = 60000 ms
I/k9      (23954): MailService.onStart(Intent { act=com.fsck.k9.intent.action.MAIL_SERVICE_RESET cmp=com.fsck.k9/.service.MailService (has extras) }, 1), hasConnectivity = true, doBackground = true
V/k9      (23954): ***** MailService *****: reschedule
V/k9      (23954): TracingWakeLock for tag CoreService execute / id 2: Create
V/k9      (23954): TracingWakeLock for tag CoreService execute / id 2 for 60000 ms: acquired
D/k9      (23954): CoreService (com.fsck.k9.service.MailService) queueing Runnable 1111151032 with startId 1
I/k9      (23954): MailService.onStart took 9ms
V/k9      (23954): TracingWakeLock for tag CoreService onStart / id 1: releasing after 11 ms, timeout = 60000 ms
D/k9      (23954): CoreService (com.fsck.k9.service.MailService) running Runnable 1111151032 with startId 1
I/k9      (23954): Committing preference changes
I/k9      (23954): Preferences commit took 16ms
I/k9      (23954): No next check scheduled for package com.fsck.k9
I/k9      (23954): BootReceiver Got request to cancel alarmedIntent com.fsck.k9.intent.action.MAIL_SERVICE_WAKEUP
I/k9      (23954): Rescheduling pushers
I/k9      (23954): Stopping all pushers
V/k9      (23954): TracingWakeLock for tag CoreService addWakeLock / id 3: Create
V/k9      (23954): TracingWakeLock for tag CoreService addWakeLock / id 3 for 60000 ms: acquired
I/k9      (23954): Setting up pushers for account frehi.be
I/k9      (23954): Starting pusher for frehi.be:Drafts
I/k9      (23954): Starting pusher for frehi.be:INBOX
I/k9      (23954): Starting pusher for frehi.be:Newsletters
I/k9      (23954): Requested stop of IMAP pusher
V/k9      (23954): TracingWakeLock for tag ImapFolderPusher frehi.be:Drafts / id 4: Create
V/k9      (23954): TracingWakeLock for tag ImapFolderPusher frehi.be:INBOX / id 5: Create
V/k9      (23954): TracingWakeLock for tag ImapFolderPusher frehi.be:Drafts / id 4 for 60000 ms: acquired
I/k9      (23954): Pusher starting for frehi.be:Drafts/Thread-4395
I/k9      (23954): Got oldUidNext 315 for frehi.be:Drafts/Thread-4395
V/k9      (23954): TracingWakeLock for tag ImapFolderPusher frehi.be:Newsletters / id 6: Create
V/k9      (23954): TracingWakeLock for tag ImapFolderPusher frehi.be:INBOX / id 5 for 60000 ms: acquired
I/k9      (23954): Pusher starting for frehi.be:INBOX/Thread-4396
I/k9      (23954): Got oldUidNext 57226 for frehi.be:INBOX/Thread-4396
V/k9      (23954): TracingWakeLock for tag CoreService addWakeLock / id 7: Create
V/k9      (23954): TracingWakeLock for tag CoreService addWakeLock / id 7 for 60000 ms: acquired
V/k9      (23954): Pusher refresh interval = 3600000
D/k9      (23954): Next pusher refresh scheduled for Sun Aug 23 21:48:33 CEST 2015
I/k9      (23954): BootReceiver Got request to schedule alarmedIntent com.fsck.k9.intent.action.MAIL_SERVICE_REFRESH_PUSHERS
D/k9      (23954): CoreService (com.fsck.k9.service.MailService) completed Runnable 1111151032 with startId 1
V/k9      (23954): TracingWakeLock for tag CoreService execute / id 2: releasing after 477 ms, timeout = 60000 ms
V/k9      (23954): TracingWakeLock for tag ImapFolderPusher frehi.be:Newsletters / id 6 for 60000 ms: acquired
I/k9      (23954): Pusher starting for frehi.be:Newsletters/Thread-4397
I/k9      (23954): Got oldUidNext 39247 for frehi.be:Newsletters/Thread-4397
D/k9      (23954): Connecting to frehi.be as frehi.be/176.31.188.86
D/k9      (23954): Connecting to frehi.be as frehi.be/176.31.188.86
V/k9      (23954): conn1111500528<<<#null# [OK, [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, STARTTLS, LOGINDISABLED], Dovecot ready.]
D/k9      (23954): Saving 10 capabilities for conn1111500528
V/k9      (23954): conn1111500528>>> 1 STARTTLS
V/k9      (23954): conn1111723056<<<#null# [OK, [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, STARTTLS, LOGINDISABLED], Dovecot ready.]
D/k9      (23954): Saving 10 capabilities for conn1111723056
V/k9      (23954): conn1111723056>>> 1 STARTTLS
D/k9      (23954): Connecting to frehi.be as frehi.be/176.31.188.86
V/k9      (23954): conn1111500528<<<#1# [OK, Begin TLS negotiation now.]
V/k9      (23954): conn1111723056<<<#1# [OK, Begin TLS negotiation now.]
D/PullToRefresh(23954): Setting Padding. L: 0, T: 0, R: 0, B: 0
D/PullToRefresh(23954): First Visible: 0. Visible Count: 0. Total Items:0
V/k9      (23954): conn1111306352<<<#null# [OK, [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, STARTTLS, LOGINDISABLED], Dovecot ready.]
D/k9      (23954): Saving 10 capabilities for conn1111306352
V/k9      (23954): conn1111306352>>> 1 STARTTLS
V/k9      (23954): conn1111306352<<<#1# [OK, Begin TLS negotiation now.]
D/PullToRefresh(23954): Setting mode to: DISABLED
D/PullToRefresh(23954): Setting Padding. L: 0, T: 0, R: 0, B: 0
I/k9      (23954): Running Foreground command 'getFolderUnread:frehi.be:INBOX', seq = 0
V/k9      (23954): TracingWakeLock for tag CoreReceiver getWakeLock / id 8: Create
V/k9      (23954): TracingWakeLock for tag CoreReceiver getWakeLock / id 8 for 60000 ms: acquired
V/k9      (23954): CoreReceiver Created wakeLock 0
I/k9      (23954): CoreReceiver.onReceiveIntent { act=com.fsck.k9.service.BroadcastReceiver.cancelIntent flg=0x10 cmp=com.fsck.k9/.service.BootReceiver (has extras) }
I/k9      (23954): BootReceiver.onReceiveIntent { act=com.fsck.k9.service.BroadcastReceiver.cancelIntent flg=0x10 cmp=com.fsck.k9/.service.BootReceiver (has extras) }
I/k9      (23954): BootReceiver Canceling alarmedIntent Intent { act=com.fsck.k9.intent.action.MAIL_SERVICE_WAKEUP cmp=com.fsck.k9/.service.MailService }
V/k9      (23954): CoreReceiver Releasing wakeLock 0
V/k9      (23954): TracingWakeLock for tag CoreReceiver getWakeLock / id 8: releasing after 6 ms, timeout = 60000 ms
I/k9      (23954): CoreService: com.fsck.k9.service.PushService.onCreate()
V/k9      (23954): TracingWakeLock for tag CoreService onStart / id 9: Create
V/k9      (23954): TracingWakeLock for tag CoreService onStart / id 9 for 60000 ms: acquired
I/k9      (23954): CoreService: com.fsck.k9.service.PushService.onStart(Intent { act=com.fsck.k9.service.PushService.stopService cmp=com.fsck.k9/.service.PushService (has extras) }, 1)
D/k9      (23954): Got core wake lock id 1
D/k9      (23954): Found core wake lock with id 1, releasing
V/k9      (23954): TracingWakeLock for tag CoreService addWakeLock / id 3: releasing after 1070 ms, timeout = 60000 ms
I/k9      (23954): PushService stopping with startId = 1
V/k9      (23954): TracingWakeLock for tag CoreService onStart / id 9: releasing after 2 ms, timeout = 60000 ms
V/k9      (23954): TracingWakeLock for tag CoreService onStart / id 10: Create
V/k9      (23954): TracingWakeLock for tag CoreService onStart / id 10 for 60000 ms: acquired
I/k9      (23954): CoreService: com.fsck.k9.service.PushService.onStart(Intent { act=com.fsck.k9.service.PushService.startService cmp=com.fsck.k9/.service.PushService (has extras) }, 2)
D/k9      (23954): Got core wake lock id 2
D/k9      (23954): Found core wake lock with id 2, releasing
V/k9      (23954): TracingWakeLock for tag CoreService addWakeLock / id 7: releasing after 655 ms, timeout = 60000 ms
I/k9      (23954): PushService started with startId = 2
V/k9      (23954): TracingWakeLock for tag CoreService onStart / id 10: releasing after 1 ms, timeout = 60000 ms
V/k9      (23954): ***** MailService *****: onDestroy()
I/k9      (23954): CoreService: com.fsck.k9.service.MailService.onDestroy()
I/k9      (23954): Foreground Command 'getFolderUnread:frehi.be:INBOX' completed
I/k9      (23954): Updating capabilities after STARTTLS for conn1111500528
I/k9      (23954): Updating capabilities after STARTTLS for conn1111723056
I/k9      (23954): Updating capabilities after STARTTLS for conn1111306352
V/k9      (23954): conn1111723056>>> 2 CAPABILITY
V/k9      (23954): conn1111306352>>> 2 CAPABILITY
V/k9      (23954): conn1111500528>>> 2 CAPABILITY
V/k9      (23954): conn1111500528<<<#null# [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, AUTH=PLAIN]
V/k9      (23954): conn1111306352<<<#null# [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, AUTH=PLAIN]
V/k9      (23954): conn1111723056<<<#null# [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, AUTH=PLAIN]
V/k9      (23954): conn1111306352<<<#2# [OK, Pre-login capabilities listed, post-login capabilities have more.]
V/k9      (23954): conn1111723056<<<#2# [OK, Pre-login capabilities listed, post-login capabilities have more.]
V/k9      (23954): conn1111500528<<<#2# [OK, Pre-login capabilities listed, post-login capabilities have more.]
D/k9      (23954): Saving 9 capabilities for conn1111306352
D/k9      (23954): Saving 9 capabilities for conn1111500528
D/k9      (23954): Saving 9 capabilities for conn1111723056
V/k9      (23954): conn1111306352>>> 3 AUTHENTICATE PLAIN
V/k9      (23954): conn1111723056>>> 3 AUTHENTICATE PLAIN
V/k9      (23954): conn1111500528>>> 3 AUTHENTICATE PLAIN
D/libEGL  (23954): loaded /system/lib/egl/libEGL_tegra.so
V/k9      (23954): conn1111306352<<<#+# []
V/k9      (23954): conn1111723056<<<#+# []
V/k9      (23954): conn1111500528<<<#+# []
V/k9      (23954): conn1111723056<<<#3# [OK, [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, SORT, SORT=DISPLAY, THREAD=REFERENCES, THREAD=REFS, THREAD=ORDEREDSUBJECT, MULTIAPPEND, URL-PARTIAL, CATENATE, UNSELECT, CHILDREN, NAMESPACE, UIDPLUS, LIST-EXTENDED, I18NLEVEL=1, CONDSTORE, QRESYNC, ESEARCH, ESORT, SEARCHRES, WITHIN, CONTEXT=SEARCH, LIST-STATUS, SPECIAL-USE, BINARY, MOVE, NOTIFY, COMPRESS=DEFLATE], Logged in]
V/k9      (23954): conn1111306352<<<#3# [OK, [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, SORT, SORT=DISPLAY, THREAD=REFERENCES, THREAD=REFS, THREAD=ORDEREDSUBJECT, MULTIAPPEND, URL-PARTIAL, CATENATE, UNSELECT, CHILDREN, NAMESPACE, UIDPLUS, LIST-EXTENDED, I18NLEVEL=1, CONDSTORE, QRESYNC, ESEARCH, ESORT, SEARCHRES, WITHIN, CONTEXT=SEARCH, LIST-STATUS, SPECIAL-USE, BINARY, MOVE, NOTIFY, COMPRESS=DEFLATE], Logged in]
V/k9      (23954): conn1111500528<<<#3# [OK, [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, SORT, SORT=DISPLAY, THREAD=REFERENCES, THREAD=REFS, THREAD=ORDEREDSUBJECT, MULTIAPPEND, URL-PARTIAL, CATENATE, UNSELECT, CHILDREN, NAMESPACE, UIDPLUS, LIST-EXTENDED, I18NLEVEL=1, CONDSTORE, QRESYNC, ESEARCH, ESORT, SEARCHRES, WITHIN, CONTEXT=SEARCH, LIST-STATUS, SPECIAL-USE, BINARY, MOVE, NOTIFY, COMPRESS=DEFLATE], Logged in]
D/k9      (23954): Saving 35 capabilities for conn1111306352
D/k9      (23954): Saving 35 capabilities for conn1111723056
D/k9      (23954): COMPRESS=DEFLATE = true
D/k9      (23954): Saving 35 capabilities for conn1111500528
D/k9      (23954): COMPRESS=DEFLATE = true
D/k9      (23954): COMPRESS=DEFLATE = true
D/k9      (23954): On network type 1
D/k9      (23954): On network type 1
D/k9      (23954): On network type 1
D/k9      (23954): useCompression true
D/k9      (23954): useCompression true
D/k9      (23954): useCompression true
V/k9      (23954): conn1111723056>>> 4 COMPRESS DEFLATE
V/k9      (23954): conn1111306352>>> 4 COMPRESS DEFLATE
V/k9      (23954): conn1111500528>>> 4 COMPRESS DEFLATE
V/k9      (23954): conn1111723056<<<#4# [OK, Begin compression.]
V/k9      (23954): conn1111306352<<<#4# [OK, Begin compression.]
D/libEGL  (23954): loaded /system/lib/egl/libGLESv1_CM_tegra.so
V/k9      (23954): conn1111500528<<<#4# [OK, Begin compression.]
D/libEGL  (23954): loaded /system/lib/egl/libGLESv2_tegra.so
I/k9      (23954): Compression enabled for conn1111723056
D/k9      (23954): NAMESPACE = true, mPathPrefix = null
I/k9      (23954): mPathPrefix is unset and server has NAMESPACE capability
V/k9      (23954): conn1111723056>>> 5 NAMESPACE
I/k9      (23954): Compression enabled for conn1111500528
V/k9      (23954): conn1111723056<<<#null# [NAMESPACE, [[, /]], NIL, NIL]
D/k9      (23954): NAMESPACE = true, mPathPrefix = null
I/k9      (23954): mPathPrefix is unset and server has NAMESPACE capability
V/k9      (23954): conn1111723056<<<#5# [OK, Namespace completed.]
D/k9      (23954): Got NAMESPACE response #null# [NAMESPACE, [[, /]], NIL, NIL] on conn1111723056
D/k9      (23954): Got personal namespaces: [[, /]]
D/k9      (23954): Got first personal namespaces: [, /]
D/k9      (23954): Got path '' and separator '/'
V/k9      (23954): conn1111500528>>> 5 NAMESPACE
V/k9      (23954): conn1111723056>>> 6 EXAMINE ""Drafts""
I/k9      (23954): Compression enabled for conn1111306352
D/OpenGLRenderer(23954): Enabling debug mode 0
D/k9      (23954): NAMESPACE = true, mPathPrefix = 
D/PullToRefresh(23954): onSizeChanged. W: 480, H: 690
V/k9      (23954): conn1111306352>>> 5 EXAMINE ""Newsletters""
D/PullToRefresh(23954): Setting Padding. L: 0, T: 0, R: 0, B: 0
V/k9      (23954): conn1111500528<<<#null# [NAMESPACE, [[, /]], NIL, NIL]
V/k9      (23954): conn1111500528<<<#5# [OK, Namespace completed.]
D/k9      (23954): Got NAMESPACE response #null# [NAMESPACE, [[, /]], NIL, NIL] on conn1111500528
D/k9      (23954): Got personal namespaces: [[, /]]
D/k9      (23954): Got first personal namespaces: [, /]
D/k9      (23954): Got path '' and separator '/'
V/k9      (23954): conn1111723056<<<#null# [FLAGS, [\Answered, \Flagged, \Deleted, \Seen, \Draft, Old]]
V/k9      (23954): conn1111723056<<<#null# [OK, [PERMANENTFLAGS, []], Read-only mailbox.]
V/k9      (23954): conn1111723056<<<#null# [57, EXISTS]
V/k9      (23954): conn1111723056<<<#null# [0, RECENT]
V/k9      (23954): conn1111723056<<<#null# [OK, [UNSEEN, 5], First unseen.]
V/k9      (23954): conn1111723056<<<#null# [OK, [UIDVALIDITY, 1037738706], UIDs valid]
V/k9      (23954): conn1111723056<<<#null# [OK, [UIDNEXT, 315], Predicted next UID]
V/k9      (23954): conn1111500528>>> 6 EXAMINE ""INBOX""
V/k9      (23954): conn1111723056<<<#null# [OK, [HIGHESTMODSEQ, 433], Highest]
V/k9      (23954): conn1111723056<<<#6# [OK, [READ-ONLY], Examine completed (0.001 secs).]
D/k9      (23954): Storing response #null# [57, EXISTS] for later processing
D/k9      (23954): Got UidNext = 315 for frehi.be:Drafts/Thread-4395/conn1111723056
V/k9      (23954): Connection conn1111723056 has 36 capabilities
D/k9      (23954): Got untagged EXISTS with value 57 for frehi.be:Drafts/Thread-4395/conn1111723056
D/k9      (23954): UIDs for messages needing flag sync are []  for frehi.be:Drafts/Thread-4395/conn1111723056
V/k9      (23954): syncFolder(Drafts)
V/k9      (23954): TracingWakeLock for tag CoreReceiver getWakeLock / id 11: Create
V/k9      (23954): syncFolder(Drafts) about to await latch release
I/k9      (23954): Running Background command 'synchronizeMailbox', seq = 1
I/k9      (23954): Synchronizing folder frehi.be:Drafts
D/k9      (23954): SYNC: About to process pending commands for account frehi.be
V/k9      (23954): TracingWakeLock for tag CoreReceiver getWakeLock / id 11 for 60000 ms: acquired
V/k9      (23954): CoreReceiver Created wakeLock 1
I/k9      (23954): CoreReceiver.onReceiveIntent { act=com.fsck.k9.service.BroadcastReceiver.scheduleIntent flg=0x10 cmp=com.fsck.k9/.service.BootReceiver (has extras) }
I/k9      (23954): BootReceiver.onReceiveIntent { act=com.fsck.k9.service.BroadcastReceiver.scheduleIntent flg=0x10 cmp=com.fsck.k9/.service.BootReceiver (has extras) }
I/k9      (23954): BootReceiver Scheduling intent Intent { act=com.fsck.k9.intent.action.MAIL_SERVICE_REFRESH_PUSHERS cmp=com.fsck.k9/.service.MailService } for Sun Aug 23 21:48:33 CEST 2015
V/k9      (23954): conn1111306352<<<#null# [FLAGS, [\Answered, \Flagged, \Deleted, \Seen, \Draft, Old]]
V/k9      (23954): conn1111306352<<<#null# [OK, [PERMANENTFLAGS, []], Read-only mailbox.]
V/k9      (23954): conn1111306352<<<#null# [17488, EXISTS]
V/k9      (23954): conn1111306352<<<#null# [0, RECENT]
V/k9      (23954): conn1111306352<<<#null# [OK, [UNSEEN, 16], First unseen.]
V/k9      (23954): conn1111306352<<<#null# [OK, [UIDVALIDITY, 1153839032], UIDs valid]
V/k9      (23954): conn1111306352<<<#null# [OK, [UIDNEXT, 39247], Predicted next UID]
V/k9      (23954): conn1111306352<<<#null# [OK, [HIGHESTMODSEQ, 6334], Highest]
V/k9      (23954): conn1111306352<<<#5# [OK, [READ-ONLY], Examine completed (0.001 secs).]
D/k9      (23954): Storing response #null# [17488, EXISTS] for later processing
D/k9      (23954): Got UidNext = 39247 for frehi.be:Newsletters/Thread-4397/conn1111306352
V/k9      (23954): Connection conn1111306352 has 36 capabilities
D/k9      (23954): Got untagged EXISTS with value 17488 for frehi.be:Newsletters/Thread-4397/conn1111306352
D/k9      (23954): UIDs for messages needing flag sync are []  for frehi.be:Newsletters/Thread-4397/conn1111306352
V/k9      (23954): syncFolder(Newsletters)
V/k9      (23954): syncFolder(Newsletters) about to await latch release
V/k9      (23954): CoreReceiver Releasing wakeLock 1
V/k9      (23954): TracingWakeLock for tag CoreReceiver getWakeLock / id 11: releasing after 22 ms, timeout = 60000 ms
I/Choreographer(23954): Skipped 35 frames!  The application may be doing too much work on its main thread.
V/k9      (23954): conn1111500528<<<#null# [FLAGS, [\Answered, \Flagged, \Deleted, \Seen, \Draft, Old, $Forwarded]]
V/k9      (23954): conn1111500528<<<#null# [OK, [PERMANENTFLAGS, []], Read-only mailbox.]
V/k9      (23954): conn1111500528<<<#null# [26332, EXISTS]
V/k9      (23954): conn1111500528<<<#null# [0, RECENT]
V/k9      (23954): conn1111500528<<<#null# [OK, [UNSEEN, 2677], First unseen.]
V/k9      (23954): conn1111500528<<<#null# [OK, [UIDVALIDITY, 1109792147], UIDs valid]
V/k9      (23954): conn1111500528<<<#null# [OK, [UIDNEXT, 55643], Predicted next UID]
V/k9      (23954): conn1111500528<<<#null# [OK, [HIGHESTMODSEQ, 39705], Highest]
V/k9      (23954): conn1111500528<<<#6# [OK, [READ-ONLY], Examine completed (0.003 secs).]
D/k9      (23954): Storing response #null# [26332, EXISTS] for later processing
D/k9      (23954): Got UidNext = 55643 for frehi.be:INBOX/Thread-4396/conn1111500528
V/k9      (23954): Connection conn1111500528 has 36 capabilities
D/k9      (23954): Got untagged EXISTS with value 26332 for frehi.be:INBOX/Thread-4396/conn1111500528
D/k9      (23954): UIDs for messages needing flag sync are []  for frehi.be:INBOX/Thread-4396/conn1111500528
V/k9      (23954): syncFolder(INBOX)
V/k9      (23954): syncFolder(INBOX) about to await latch release
V/k9      (23954): SYNC: About to get local folder Drafts
D/k9      (23954): Updated last UID for folder Drafts to 0
D/PullToRefresh(23954): Setting mode to: PULL_FROM_START
I/ActivityManager(  440): Displayed com.fsck.k9/.activity.MessageList: +1s778ms (total +2s405ms)
I/Timeline(  440): Timeline: Activity_windows_visible id: ActivityRecord{42d698c0 u0 com.fsck.k9/.activity.MessageList t125} time:144987493
D/PullToRefresh(23954): Setting Padding. L: 0, T: -414, R: 0, B: 0
I/ActivityManager(  440): Process org.fdroid.fdroid (pid 23268) has died.
V/k9      (23954): SYNC: using providedRemoteFolder Drafts
V/k9      (23954): SYNC: Remote message count for folder Drafts is 57
V/k9      (23954): SYNC: About to get messages 33 through 57 for folder Drafts
V/k9      (23954): conn1111723056>>> 7 UID SEARCH 33:57 SINCE 16-Aug-2015 NOT DELETED
V/k9      (23954): conn1111723056<<<#null# [SEARCH]
V/k9      (23954): conn1111723056<<<#7# [OK, Search completed (0.000 secs).]
D/PullToRefresh(23954): onSizeChanged. W: 480, H: 618
D/PullToRefresh(23954): Setting Padding. L: 0, T: -370, R: 0, B: 0
V/k9      (23954): SYNC: Got 0 messages for folder Drafts
V/k9      (23954): LockableDatabase: Transaction ended, took 1ms / com.fsck.k9.mail.store.LocalStore$LocalFolder.destroyMessages(LocalStore.java:2442)
D/k9      (23954): Only syncing messages after Sun Aug 16 00:00:00 CEST 2015
D/k9      (23954): SYNC: Have 0 unsynced messages
D/k9      (23954): SYNC: Have 0 large messages and 0 small messages out of 0 unsynced messages
D/k9      (23954): SYNC: Fetching small messages for folder Drafts
D/k9      (23954): SYNC: Done fetching small messages for folder Drafts
D/k9      (23954): SYNC: Fetching large messages for folder Drafts
D/k9      (23954): SYNC: Done fetching large messages for folder Drafts
D/k9      (23954): SYNC: About to sync flags for 0 remote messages for folder Drafts
D/k9      (23954): SYNC: Synced remote messages for folder Drafts, 0 new messages
D/k9      (23954): Done synchronizing folder frehi.be:Drafts @ Sun Aug 23 20:48:35 CEST 2015 with 0 new messages
V/k9      (23954): syncFolder(Drafts) got latch release
I/k9      (23954): About to IDLE for frehi.be:Drafts/Thread-4395/conn1111723056
V/k9      (23954): conn1111723056>>> 8 IDLE
I/k9      (23954): Done synchronizing folder frehi.be:Drafts
I/k9      (23954): Background Command 'synchronizeMailbox' completed
I/k9      (23954): Running Background command 'synchronizeMailbox', seq = 2
I/k9      (23954): Synchronizing folder frehi.be:Newsletters
D/k9      (23954): SYNC: About to process pending commands for account frehi.be
V/k9      (23954): conn1111723056<<<#+# [idling]
V/k9      (23954): Got async response: #+# [idling]
D/k9      (23954): Idling frehi.be:Drafts/Thread-4395/conn1111723056
V/k9      (23954): TracingWakeLock for tag ImapFolderPusher frehi.be:Drafts / id 4: releasing after 2030 ms, timeout = 60000 ms
V/k9      (23954): SYNC: About to get local folder Newsletters
D/k9      (23954): Updated last UID for folder Newsletters to 39246
D/PullToRefresh(23954): First Visible: 0. Visible Count: 8. Total Items:24
D/PullToRefresh(23954): First Visible: 0. Visible Count: 8. Total Items:24
V/k9      (23954): SYNC: using providedRemoteFolder Newsletters
V/k9      (23954): SYNC: Remote message count for folder Newsletters is 17488
V/k9      (23954): SYNC: About to get messages 17464 through 17488 for folder Newsletters
I/Timeline(23954): Timeline: Activity_idle id: android.os.BinderProxy@4241f1e8 time:144988677
E/rsC++   (11405): RS Message thread exiting.
V/k9      (23954): conn1111306352>>> 6 UID SEARCH 17464:17488 SINCE 16-Aug-2015 NOT DELETED
V/k9      (23954): conn1111306352<<<#null# [SEARCH, 39230, 39231, 39232, 39233, 39234, 39235, 39236, 39237, 39238, 39239, 39240, 39241, 39242, 39243, 39244, 39245, 39246]
V/k9      (23954): conn1111306352<<<#6# [OK, Search completed (0.000 secs).]
V/k9      (23954): SYNC: Got 17 messages for folder Newsletters
V/k9      (23954): LockableDatabase: Transaction ended, took 0ms / com.fsck.k9.mail.store.LocalStore$LocalFolder.destroyMessages(LocalStore.java:2442)
D/k9      (23954): Only syncing messages after Sun Aug 16 00:00:00 CEST 2015
V/k9      (23954): Message with uid 39246 is present in the local store
V/k9      (23954): Message with uid 39245 is present in the local store
V/k9      (23954): Message with uid 39244 is present in the local store
V/k9      (23954): Message with uid 39243 is present in the local store
V/k9      (23954): Message with uid 39242 is present in the local store
V/k9      (23954): Message with uid 39241 is present in the local store
V/k9      (23954): Message with uid 39240 is present in the local store
V/k9      (23954): Message with uid 39239 is present in the local store
V/k9      (23954): Message with uid 39238 is present in the local store
V/k9      (23954): Message with uid 39237 is present in the local store
V/k9      (23954): Message with uid 39236 is present in the local store
V/k9      (23954): Message with uid 39235 is present in the local store
V/k9      (23954): Message with uid 39234 is present in the local store
V/k9      (23954): Message with uid 39233 is present in the local store
V/k9      (23954): Message with uid 39232 is present in the local store
V/k9      (23954): Message with uid 39231 is present in the local store
V/k9      (23954): Message with uid 39230 is present in the local store
D/k9      (23954): SYNC: Have 0 unsynced messages
D/k9      (23954): SYNC: Have 0 large messages and 0 small messages out of 0 unsynced messages
D/k9      (23954): SYNC: Fetching small messages for folder Newsletters
D/k9      (23954): SYNC: Done fetching small messages for folder Newsletters
D/k9      (23954): SYNC: Fetching large messages for folder Newsletters
D/k9      (23954): SYNC: Done fetching large messages for folder Newsletters
D/k9      (23954): SYNC: About to sync flags for 17 remote messages for folder Newsletters
V/k9      (23954): conn1111306352>>> 7 UID FETCH 39246,39245,39244,39243,39242,39241,39240,39239,39238,39237,39236,39235,39234,39233,39232,39231,39230 (UID FLAGS)
V/k9      (23954): conn1111306352<<<#null# [17472, FETCH, [UID, 39230, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39230' for msgSeq 17472 into map 
V/k9      (23954): conn1111306352<<<#null# [17473, FETCH, [UID, 39231, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39231' for msgSeq 17473 into map 
V/k9      (23954): conn1111306352<<<#null# [17474, FETCH, [UID, 39232, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39232' for msgSeq 17474 into map 
V/k9      (23954): conn1111306352<<<#null# [17475, FETCH, [UID, 39233, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39233' for msgSeq 17475 into map 
V/k9      (23954): conn1111306352<<<#null# [17476, FETCH, [UID, 39234, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39234' for msgSeq 17476 into map 
V/k9      (23954): conn1111306352<<<#null# [17477, FETCH, [UID, 39235, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39235' for msgSeq 17477 into map 
V/k9      (23954): conn1111306352<<<#null# [17478, FETCH, [UID, 39236, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39236' for msgSeq 17478 into map 
V/k9      (23954): conn1111306352<<<#null# [17479, FETCH, [UID, 39237, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39237' for msgSeq 17479 into map 
V/k9      (23954): conn1111306352<<<#null# [17480, FETCH, [UID, 39238, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39238' for msgSeq 17480 into map 
V/k9      (23954): conn1111306352<<<#null# [17481, FETCH, [UID, 39239, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39239' for msgSeq 17481 into map 
V/k9      (23954): conn1111306352<<<#null# [17482, FETCH, [UID, 39240, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39240' for msgSeq 17482 into map 
V/k9      (23954): conn1111306352<<<#null# [17483, FETCH, [UID, 39241, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39241' for msgSeq 17483 into map 
V/k9      (23954): conn1111306352<<<#null# [17484, FETCH, [UID, 39242, FLAGS, []]]
V/k9      (23954): Stored uid '39242' for msgSeq 17484 into map 
V/k9      (23954): conn1111306352<<<#null# [17485, FETCH, [UID, 39243, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39243' for msgSeq 17485 into map 
V/k9      (23954): conn1111306352<<<#null# [17486, FETCH, [UID, 39244, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39244' for msgSeq 17486 into map 
V/k9      (23954): conn1111306352<<<#null# [17487, FETCH, [UID, 39245, FLAGS, []]]
V/k9      (23954): Stored uid '39245' for msgSeq 17487 into map 
V/k9      (23954): conn1111306352<<<#null# [17488, FETCH, [UID, 39246, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '39246' for msgSeq 17488 into map 
V/k9      (23954): conn1111306352<<<#7# [OK, Fetch completed.]
D/k9      (23954): SYNC: Synced remote messages for folder Newsletters, 0 new messages
D/k9      (23954): Done synchronizing folder frehi.be:Newsletters @ Sun Aug 23 20:48:36 CEST 2015 with 0 new messages
V/k9      (23954): syncFolder(Newsletters) got latch release
I/k9      (23954): About to IDLE for frehi.be:Newsletters/Thread-4397/conn1111306352
V/k9      (23954): conn1111306352>>> 8 IDLE
I/k9      (23954): Done synchronizing folder frehi.be:Newsletters
V/k9      (23954): conn1111306352<<<#+# [idling]
V/k9      (23954): Got async response: #+# [idling]
D/k9      (23954): Idling frehi.be:Newsletters/Thread-4397/conn1111306352
V/k9      (23954): TracingWakeLock for tag ImapFolderPusher frehi.be:Newsletters / id 6: releasing after 3178 ms, timeout = 60000 ms
I/k9      (23954): Background Command 'synchronizeMailbox' completed
I/k9      (23954): Running Background command 'synchronizeMailbox', seq = 3
I/k9      (23954): Synchronizing folder frehi.be:INBOX
D/k9      (23954): SYNC: About to process pending commands for account frehi.be
V/k9      (23954): SYNC: About to get local folder INBOX
D/k9      (23954): Updated last UID for folder INBOX to 55642
V/k9      (23954): SYNC: using providedRemoteFolder INBOX
V/k9      (23954): SYNC: Remote message count for folder INBOX is 26332
V/k9      (23954): SYNC: About to get messages 26308 through 26332 for folder INBOX
V/k9      (23954): conn1111500528>>> 7 UID SEARCH 26308:26332 SINCE 16-Aug-2015 NOT DELETED
V/k9      (23954): conn1111500528<<<#null# [SEARCH, 55618, 55619, 55620, 55621, 55622, 55623, 55624, 55625, 55626, 55627, 55628, 55629, 55630, 55631, 55632, 55633, 55634, 55635, 55636, 55637, 55638, 55639, 55640, 55641, 55642]
V/k9      (23954): conn1111500528<<<#7# [OK, Search completed (0.000 secs).]
V/k9      (23954): SYNC: Got 25 messages for folder INBOX
V/k9      (23954): LockableDatabase: Transaction ended, took 0ms / com.fsck.k9.mail.store.LocalStore$LocalFolder.destroyMessages(LocalStore.java:2442)
D/k9      (23954): Only syncing messages after Sun Aug 16 00:00:00 CEST 2015
V/k9      (23954): Message with uid 55642 is present in the local store
V/k9      (23954): Message with uid 55641 is present in the local store
V/k9      (23954): Message with uid 55640 is present in the local store
V/k9      (23954): Message with uid 55639 is present in the local store
V/k9      (23954): Message with uid 55638 is present in the local store
V/k9      (23954): Message with uid 55637 is present in the local store
V/k9      (23954): Message with uid 55636 is present in the local store
V/k9      (23954): Message with uid 55635 is present in the local store
V/k9      (23954): Message with uid 55634 is present in the local store
V/k9      (23954): Message with uid 55633 is present in the local store
V/k9      (23954): Message with uid 55632 is present in the local store
V/k9      (23954): Message with uid 55631 is present in the local store
V/k9      (23954): Message with uid 55630 is present in the local store
V/k9      (23954): Message with uid 55629 is present in the local store
V/k9      (23954): Message with uid 55628 is present in the local store
V/k9      (23954): Message with uid 55627 is present in the local store
V/k9      (23954): Message with uid 55626 is present in the local store
V/k9      (23954): Message with uid 55625 is present in the local store
V/k9      (23954): Message with uid 55624 is present in the local store
V/k9      (23954): Message with uid 55623 is present in the local store
V/k9      (23954): Message with uid 55622 is present in the local store
V/k9      (23954): Message with uid 55621 is present in the local store
V/k9      (23954): Message with uid 55620 is present in the local store
V/k9      (23954): Message with uid 55619 is present in the local store
V/k9      (23954): Message with uid 55618 is present in the local store
D/k9      (23954): SYNC: Have 0 unsynced messages
D/k9      (23954): SYNC: Have 0 large messages and 0 small messages out of 0 unsynced messages
D/k9      (23954): SYNC: Fetching small messages for folder INBOX
D/k9      (23954): SYNC: Done fetching small messages for folder INBOX
D/k9      (23954): SYNC: Fetching large messages for folder INBOX
D/k9      (23954): SYNC: Done fetching large messages for folder INBOX
D/k9      (23954): SYNC: About to sync flags for 25 remote messages for folder INBOX
V/k9      (23954): conn1111500528>>> 8 UID FETCH 55642,55641,55640,55639,55638,55637,55636,55635,55634,55633,55632,55631,55630,55629,55628,55627,55626,55625,55624,55623,55622,55621,55620,55619,55618 (UID FLAGS)
V/k9      (23954): conn1111500528<<<#null# [26308, FETCH, [UID, 55618, FLAGS, []]]
V/k9      (23954): Stored uid '55618' for msgSeq 26308 into map 
V/k9      (23954): conn1111500528<<<#null# [26309, FETCH, [UID, 55619, FLAGS, []]]
V/k9      (23954): Stored uid '55619' for msgSeq 26309 into map 
V/k9      (23954): conn1111500528<<<#null# [26310, FETCH, [UID, 55620, FLAGS, []]]
V/k9      (23954): Stored uid '55620' for msgSeq 26310 into map 
V/k9      (23954): conn1111500528<<<#null# [26311, FETCH, [UID, 55621, FLAGS, []]]
V/k9      (23954): Stored uid '55621' for msgSeq 26311 into map 
V/k9      (23954): conn1111500528<<<#null# [26312, FETCH, [UID, 55622, FLAGS, []]]
V/k9      (23954): Stored uid '55622' for msgSeq 26312 into map 
V/k9      (23954): conn1111500528<<<#null# [26313, FETCH, [UID, 55623, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55623' for msgSeq 26313 into map 
V/k9      (23954): conn1111500528<<<#null# [26314, FETCH, [UID, 55624, FLAGS, []]]
V/k9      (23954): Stored uid '55624' for msgSeq 26314 into map 
V/k9      (23954): conn1111500528<<<#null# [26315, FETCH, [UID, 55625, FLAGS, []]]
V/k9      (23954): Stored uid '55625' for msgSeq 26315 into map 
V/k9      (23954): conn1111500528<<<#null# [26316, FETCH, [UID, 55626, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55626' for msgSeq 26316 into map 
V/k9      (23954): conn1111500528<<<#null# [26317, FETCH, [UID, 55627, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55627' for msgSeq 26317 into map 
V/k9      (23954): conn1111500528<<<#null# [26318, FETCH, [UID, 55628, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55628' for msgSeq 26318 into map 
V/k9      (23954): conn1111500528<<<#null# [26319, FETCH, [UID, 55629, FLAGS, []]]
V/k9      (23954): Stored uid '55629' for msgSeq 26319 into map 
V/k9      (23954): conn1111500528<<<#null# [26320, FETCH, [UID, 55630, FLAGS, []]]
V/k9      (23954): Stored uid '55630' for msgSeq 26320 into map 
V/k9      (23954): conn1111500528<<<#null# [26321, FETCH, [UID, 55631, FLAGS, []]]
V/k9      (23954): Stored uid '55631' for msgSeq 26321 into map 
V/k9      (23954): conn1111500528<<<#null# [26322, FETCH, [UID, 55632, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55632' for msgSeq 26322 into map 
V/k9      (23954): conn1111500528<<<#null# [26323, FETCH, [UID, 55633, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55633' for msgSeq 26323 into map 
V/k9      (23954): conn1111500528<<<#null# [26324, FETCH, [UID, 55634, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55634' for msgSeq 26324 into map 
V/k9      (23954): conn1111500528<<<#null# [26325, FETCH, [UID, 55635, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55635' for msgSeq 26325 into map 
V/k9      (23954): conn1111500528<<<#null# [26326, FETCH, [UID, 55636, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55636' for msgSeq 26326 into map 
V/k9      (23954): conn1111500528<<<#null# [26327, FETCH, [UID, 55637, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55637' for msgSeq 26327 into map 
V/k9      (23954): conn1111500528<<<#null# [26328, FETCH, [UID, 55638, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55638' for msgSeq 26328 into map 
V/k9      (23954): conn1111500528<<<#null# [26329, FETCH, [UID, 55639, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55639' for msgSeq 26329 into map 
V/k9      (23954): conn1111500528<<<#null# [26330, FETCH, [UID, 55640, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55640' for msgSeq 26330 into map 
V/k9      (23954): conn1111500528<<<#null# [26331, FETCH, [UID, 55641, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55641' for msgSeq 26331 into map 
V/k9      (23954): conn1111500528<<<#null# [26332, FETCH, [UID, 55642, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55642' for msgSeq 26332 into map 
V/k9      (23954): conn1111500528<<<#8# [OK, Fetch completed.]
D/k9      (23954): SYNC: Synced remote messages for folder INBOX, 0 new messages
D/k9      (23954): Done synchronizing folder frehi.be:INBOX @ Sun Aug 23 20:48:37 CEST 2015 with 0 new messages
V/k9      (23954): syncFolder(INBOX) got latch release
I/k9      (23954): About to IDLE for frehi.be:INBOX/Thread-4396/conn1111500528
V/k9      (23954): conn1111500528>>> 9 IDLE
I/k9      (23954): Done synchronizing folder frehi.be:INBOX
I/k9      (23954): Background Command 'synchronizeMailbox' completed
V/k9      (23954): conn1111500528<<<#+# [idling]
V/k9      (23954): Got async response: #+# [idling]
D/k9      (23954): Idling frehi.be:INBOX/Thread-4396/conn1111500528
V/k9      (23954): TracingWakeLock for tag ImapFolderPusher frehi.be:INBOX / id 5: releasing after 4056 ms, timeout = 60000 ms
I/ActivityManager(  440): Process org.whispersystems.whisperpush (pid 19586) has died.
W/ActivityManager(  440): Scheduling restart of crashed service org.whispersystems.whisperpush/.service.DirectoryRefreshService in 1000ms
I/PowerManagerService(  440): Going to sleep due to screen timeout...
D/SurfaceFlinger(  112): Screen released, type=0 flinger=0x40719010
V/NvAudioALSADevice(  115): [NVALSA] setParameters[screen_state=off]
V/NvAudioALSADevice(  115): LowPower = true
E/audio_a2dp_hw(  115): adev_set_parameters: ERROR: set param called even when stream out is null
D/Cleaner (17795): Cleaner check spent 33ms (4ms)
E/gralloc (  112): NvGrPost: Failed, TEGRA_DC_EXT_FLIP 6 No such device or address
I/ActivityManager(  440): Process com.android.providers.calendar (pid 21807) has died.
I/ActivityManager(  440): Killing 21782:com.android.calendar/u0a31 (adj 15): depends on provider com.android.providers.calendar/.CalendarProvider2 in dying proc com.android.providers.calendar
I/Choreographer(  628): Skipped 104 frames!  The application may be doing too much work on its main thread.
E/gralloc (  112): NvGrPost: Failed, TEGRA_DC_EXT_FLIP 6 No such device or address
W/View    (  628): requestLayout() improperly called by android.widget.TextView{42753680 VFED..C. ......ID 0,5-111,38 #7f0d0146 app:id/date} during layout: running second layout pass
W/View    (  628): requestLayout() improperly called by android.widget.TextView{42772588 V.ED.... ......ID 42,14-122,39 #7f0d01a1 app:id/hiLoTemp} during layout: running second layout pass
W/View    (  628): requestLayout() improperly called by android.widget.TextView{42772850 V.ED.... ......ID 131,0-179,43 #7f0d01a0 app:id/currentTemp} during layout: running second layout pass
D/PhoneStatusBar(  628): disable: < EXPAND* icons alerts TICKER* system_info BACK* HOME* RECENT* clock search >
E/gralloc (  112): NvGrPost: Failed, TEGRA_DC_EXT_FLIP 6 No such device or address
E/gralloc (  112): NvGrPost: Failed, TEGRA_DC_EXT_FLIP 6 No such device or address
E/gralloc (  112): NvGrPost: Failed, TEGRA_DC_EXT_FLIP 6 No such device or address
```

Now that K-9 is running properly, I send an e-mail to my INBOX from another system. Immediately when the e-mail arrives in the INBOX, this appears in logcat:

```
V/k9      (23954): conn1111723056<<<#null# [OK, Still here]
V/k9      (23954): Got async response: #null# [OK, Still here]
V/k9      (23954): conn1111500528<<<#null# [OK, Still here]
V/k9      (23954): Got async response: #null# [OK, Still here]
V/k9      (23954): conn1111306352<<<#null# [OK, Still here]
V/k9      (23954): Got async response: #null# [OK, Still here]
V/k9      (23954): conn1111500528<<<#null# [26333, EXISTS]
V/k9      (23954): Got async response: #null# [26333, EXISTS]
V/k9      (23954): TracingWakeLock for tag ImapFolderPusher frehi.be:INBOX / id 5 for 60000 ms: acquired
D/k9      (23954): Got useful async untagged response: #null# [26333, EXISTS] for frehi.be:INBOX/Thread-4396/conn1111500528
V/k9      (23954): conn1111500528>>> DONE
V/k9      (23954): conn1111500528<<<#9# [OK, Idle completed.]
V/k9      (23954): Got async response: #9# [OK, Idle completed.]
D/k9      (23954): Storing response #null# [26333, EXISTS] for later processing
I/k9      (23954): Got oldUidNext 57226 for frehi.be:INBOX/Thread-4396/conn1111500528
V/k9      (23954): conn1111500528>>> 10 NOOP
V/k9      (23954): conn1111500528<<<#10# [OK, NOOP completed.]
V/k9      (23954): Connection conn1111500528 has 36 capabilities
I/k9      (23954): Processing 1 untagged responses from previous commands for frehi.be:INBOX/Thread-4396/conn1111500528
D/k9      (23954): Got untagged EXISTS with value 26333 for frehi.be:INBOX/Thread-4396/conn1111500528
I/k9      (23954): Got oldUidNext 57226 for frehi.be:INBOX/Thread-4396/conn1111500528
V/k9      (23954): conn1111500528>>> 11 UID SEARCH 26333:26333
V/k9      (23954): conn1111500528<<<#null# [SEARCH, 55643]
V/k9      (23954): conn1111500528<<<#11# [OK, Search completed (0.000 secs).]
I/k9      (23954): Got newUid 55643 for message 26333 on frehi.be:INBOX/Thread-4396/conn1111500528
D/k9      (23954): UIDs for messages needing flag sync are []  for frehi.be:INBOX/Thread-4396/conn1111500528
I/k9      (23954): About to IDLE for frehi.be:INBOX/Thread-4396/conn1111500528
V/k9      (23954): conn1111500528>>> 12 IDLE
V/k9      (23954): conn1111500528<<<#+# [idling]
V/k9      (23954): Got async response: #+# [idling]
D/k9      (23954): Idling frehi.be:INBOX/Thread-4396/conn1111500528
V/k9      (23954): TracingWakeLock for tag ImapFolderPusher frehi.be:INBOX / id 5: releasing after 1223 ms, timeout = 60000 ms
I/PowerManagerService(  440): Waking up from sleep...
E/gralloc (  112): NvGrPost: Failed, TEGRA_DC_EXT_FLIP 6 No such device or address
E/gralloc (  112): NvGrPost: Failed, TEGRA_DC_EXT_FLIP 6 No such device or address
I/WindowManager(  440): Lock screen displayed!
D/DisplayPowerController(  440): Unblocked screen on after 286992716 ms
E/gralloc (  112): NvGrPost: Failed, TEGRA_DC_EXT_FLIP 6 No such device or address
D/PowerManagerService-JNI(  440): Excessive delay in autosuspend_disable() while turning screen on: 461ms
D/SurfaceFlinger(  112): Screen acquired, type=0 flinger=0x40719010
D/LightsService(  440): Excessive delay setting light: 54ms
V/NvAudioALSADevice(  115): [NVALSA] setParameters[screen_state=on]
V/NvAudioALSADevice(  115): LowPower = false
E/audio_a2dp_hw(  115): adev_set_parameters: ERROR: set param called even when stream out is null
I/ActivityManager(  440): Process com.avast.android.antitheft (pid 22509) has died.
D/LocationFilter(  744): Stable location not established yet. Returning original location.
D/PhoneStatusBar(  628): disable: < expand* icons alerts ticker* system_info back* home* recent* clock search >
I/k9      (23954): Running Foreground command 'getFolderUnread:frehi.be:INBOX', seq = 4
I/k9      (23954): Foreground Command 'getFolderUnread:frehi.be:INBOX' completed
W/InputMethodManagerService(  440): Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@42dbeda8 attribute=android.view.inputmethod.EditorInfo@42d00378, token = android.os.BinderProxy@43276b98
D/PullToRefresh(23954): First Visible: 0. Visible Count: 8. Total Items:24
I/Timeline(23954): Timeline: Activity_idle id: android.os.BinderProxy@4241f1e8 time:145090693
I/GoogleURLConnFactory( 4321): Using platform SSLCertificateSocketFactory
I/GLSUser ( 4321): [GLSUser] getTokenFromGoogle [account: <ELLIDED:17059>, callingPkg: com.google.android.gms, service: oauth2:https://www.googleapis.com/auth/cclog
I/GLSUser ( 4321): [GLSUser] getAuthtoken(<ELLIDED:17059>, oauth2:https://www.googleapis.com/auth/cclog) -> status: null)
I/GLSUser ( 4321): [GLSUser] Extracting token using key: Auth
W/GLSUser ( 4321): [GLSUser] Permission for com.google.android.gms to access oauth2:https://www.googleapis.com/auth/cclog will be managed locally.
W/Uploader( 4321): No account for auth token provided
```

No notification is given at this point, nor is the e-mail visible in my INBOX in K-9.

Then I pull down the message list in K-9. The message apperas now and notivfication is given:

```
D/PullToRefresh(23954): setHeaderScroll: -14
D/PullToRefresh(23954): State: PULL_TO_REFRESH
D/PullToRefresh(23954): setHeaderScroll: -30
D/PullToRefresh(23954): setHeaderScroll: -54
D/PullToRefresh(23954): setHeaderScroll: -66
D/PullToRefresh(23954): setHeaderScroll: -93
D/PullToRefresh(23954): State: RELEASE_TO_REFRESH
D/PullToRefresh(23954): setHeaderScroll: -107
D/PullToRefresh(23954): setHeaderScroll: -125
D/PullToRefresh(23954): setHeaderScroll: -139
D/PullToRefresh(23954): setHeaderScroll: -151
D/PullToRefresh(23954): setHeaderScroll: -162
D/PullToRefresh(23954): setHeaderScroll: -171
D/PullToRefresh(23954): State: REFRESHING
D/PullToRefresh(23954): setHeaderScroll: -87
I/k9      (23954): Running Background command 'synchronizeMailbox', seq = 6
I/k9      (23954): Synchronizing folder frehi.be:INBOX
D/k9      (23954): SYNC: About to process pending commands for account frehi.be
D/PullToRefresh(23954): First Visible: 0. Visible Count: 7. Total Items:24
V/k9      (23954): SYNC: About to get local folder INBOX
D/k9      (23954): Updated last UID for folder INBOX to 55642
D/PullToRefresh(23954): setHeaderScroll: -84
V/k9      (23954): SYNC: About to get remote folder INBOX
V/k9      (23954): SYNC: About to open remote folder INBOX
D/PullToRefresh(23954): setHeaderScroll: -65
D/PullToRefresh(23954): setHeaderScroll: -48
D/PullToRefresh(23954): setHeaderScroll: -38
D/PullToRefresh(23954): setHeaderScroll: -29
D/PullToRefresh(23954): setHeaderScroll: -19
D/PullToRefresh(23954): setHeaderScroll: -12
D/k9      (23954): Connecting to frehi.be as frehi.be/176.31.188.86
D/PullToRefresh(23954): setHeaderScroll: -5
D/PullToRefresh(23954): setHeaderScroll: -1
V/k9      (23954): conn1113484808<<<#null# [OK, [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, STARTTLS, LOGINDISABLED], Dovecot ready.]
D/k9      (23954): Saving 10 capabilities for conn1113484808
V/k9      (23954): conn1113484808>>> 1 STARTTLS
D/PullToRefresh(23954): setHeaderScroll: 0
V/k9      (23954): conn1113484808<<<#1# [OK, Begin TLS negotiation now.]
I/k9      (23954): Updating capabilities after STARTTLS for conn1113484808
V/k9      (23954): conn1113484808>>> 2 CAPABILITY
V/k9      (23954): conn1113484808<<<#null# [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, AUTH=PLAIN]
V/k9      (23954): conn1113484808<<<#2# [OK, Pre-login capabilities listed, post-login capabilities have more.]
D/k9      (23954): Saving 9 capabilities for conn1113484808
V/k9      (23954): conn1113484808>>> 3 AUTHENTICATE PLAIN
V/k9      (23954): conn1113484808<<<#+# []
V/k9      (23954): conn1113484808<<<#3# [OK, [CAPABILITY, IMAP4rev1, LITERAL+, SASL-IR, LOGIN-REFERRALS, ID, ENABLE, IDLE, SORT, SORT=DISPLAY, THREAD=REFERENCES, THREAD=REFS, THREAD=ORDEREDSUBJECT, MULTIAPPEND, URL-PARTIAL, CATENATE, UNSELECT, CHILDREN, NAMESPACE, UIDPLUS, LIST-EXTENDED, I18NLEVEL=1, CONDSTORE, QRESYNC, ESEARCH, ESORT, SEARCHRES, WITHIN, CONTEXT=SEARCH, LIST-STATUS, SPECIAL-USE, BINARY, MOVE, NOTIFY, COMPRESS=DEFLATE], Logged in]
D/k9      (23954): Saving 35 capabilities for conn1113484808
D/k9      (23954): COMPRESS=DEFLATE = true
D/k9      (23954): On network type 1
D/k9      (23954): useCompression true
V/k9      (23954): conn1113484808>>> 4 COMPRESS DEFLATE
V/k9      (23954): conn1113484808<<<#4# [OK, Begin compression.]
I/k9      (23954): Compression enabled for conn1113484808
D/k9      (23954): NAMESPACE = true, mPathPrefix = 
V/k9      (23954): conn1113484808>>> 5 SELECT ""INBOX""
V/k9      (23954): conn1113484808<<<#null# [FLAGS, [\Answered, \Flagged, \Deleted, \Seen, \Draft, Old, $Forwarded]]
V/k9      (23954): conn1113484808<<<#null# [OK, [PERMANENTFLAGS, [\Answered, \Flagged, \Deleted, \Seen, \Draft, Old, $Forwarded, \*]], Flags permitted.]
V/k9      (23954): conn1113484808<<<#null# [26333, EXISTS]
V/k9      (23954): conn1113484808<<<#null# [0, RECENT]
V/k9      (23954): conn1113484808<<<#null# [OK, [UNSEEN, 2677], First unseen.]
V/k9      (23954): conn1113484808<<<#null# [OK, [UIDVALIDITY, 1109792147], UIDs valid]
V/k9      (23954): conn1113484808<<<#null# [OK, [UIDNEXT, 55644], Predicted next UID]
V/k9      (23954): conn1113484808<<<#null# [OK, [HIGHESTMODSEQ, 39706], Highest]
V/k9      (23954): conn1113484808<<<#5# [OK, [READ-WRITE], Select completed (0.006 secs).]
D/k9      (23954): Got untagged EXISTS with value 26333 for frehi.be:INBOX/MessagingController/conn1113484808
D/k9      (23954): Got UidNext = 55644 for frehi.be:INBOX/MessagingController/conn1113484808
V/k9      (23954): SYNC: Remote message count for folder INBOX is 26333
V/k9      (23954): SYNC: About to get messages 26309 through 26333 for folder INBOX
V/k9      (23954): conn1113484808>>> 6 UID SEARCH 26309:26333 SINCE 16-Aug-2015 NOT DELETED
V/k9      (23954): conn1113484808<<<#null# [SEARCH, 55619, 55620, 55621, 55622, 55623, 55624, 55625, 55626, 55627, 55628, 55629, 55630, 55631, 55632, 55633, 55634, 55635, 55636, 55637, 55638, 55639, 55640, 55641, 55642, 55643]
V/k9      (23954): conn1113484808<<<#6# [OK, Search completed (0.000 secs).]
V/k9      (23954): SYNC: Got 25 messages for folder INBOX
V/k9      (23954): LockableDatabase: Transaction ended, took 1714ms / com.fsck.k9.mail.store.LocalStore$LocalFolder.destroyMessages(LocalStore.java:2442)
D/PullToRefresh(23954): First Visible: 0. Visible Count: 7. Total Items:23
D/k9      (23954): Broadcasted: action=com.fsck.k9.intent.action.EMAIL_DELETED account=frehi.be folder=INBOX message uid=55618
D/k9      (23954): Only syncing messages after Sun Aug 16 00:00:00 CEST 2015
V/k9      (23954): Message with uid 55643 has not yet been downloaded
V/k9      (23954): Message with uid 55642 is present in the local store
V/k9      (23954): Message with uid 55641 is present in the local store
V/k9      (23954): Message with uid 55640 is present in the local store
V/k9      (23954): Message with uid 55639 is present in the local store
V/k9      (23954): Message with uid 55638 is present in the local store
V/k9      (23954): Message with uid 55637 is present in the local store
V/k9      (23954): Message with uid 55636 is present in the local store
V/k9      (23954): Message with uid 55635 is present in the local store
V/k9      (23954): Message with uid 55634 is present in the local store
V/k9      (23954): Message with uid 55633 is present in the local store
V/k9      (23954): Message with uid 55632 is present in the local store
V/k9      (23954): Message with uid 55631 is present in the local store
V/k9      (23954): Message with uid 55630 is present in the local store
V/k9      (23954): Message with uid 55629 is present in the local store
V/k9      (23954): Message with uid 55628 is present in the local store
V/k9      (23954): Message with uid 55627 is present in the local store
V/k9      (23954): Message with uid 55626 is present in the local store
V/k9      (23954): Message with uid 55625 is present in the local store
V/k9      (23954): Message with uid 55624 is present in the local store
V/k9      (23954): Message with uid 55623 is present in the local store
V/k9      (23954): Message with uid 55622 is present in the local store
V/k9      (23954): Message with uid 55621 is present in the local store
V/k9      (23954): Message with uid 55620 is present in the local store
V/k9      (23954): Message with uid 55619 is present in the local store
D/k9      (23954): SYNC: Have 1 unsynced messages
D/k9      (23954): SYNC: About to fetch 1 unsynced messages for folder INBOX
V/k9      (23954): conn1113484808>>> 7 UID FETCH 55643 (UID FLAGS INTERNALDATE RFC822.SIZE BODY.PEEK[HEADER.FIELDS (date subject from content-type to cc reply-to message-id references in-reply-to X-K9mail-Identity)])
V/k9      (23954): conn1113484808<<<#null# [26333, FETCH, [UID, 55643, FLAGS, [], INTERNALDATE, 23-Aug-2015 20:49:50 +0200, RFC822.SIZE, 1313, BODY, [HEADER.FIELDS, [DATE, SUBJECT, FROM, CONTENT-TYPE, TO, CC, REPLY-TO, MESSAGE-ID, REFERENCES, IN-REPLY-TO, X-K9MAIL-IDENTITY]], Message-ID: <1440355788.21904.1.camel@frehi.be>
V/k9      (23954): Subject: test
V/k9      (23954): From: Frederik Himpe <frederik@frehi.be>
V/k9      (23954): To: frederik@frehi.be
V/k9      (23954): Date: Sun, 23 Aug 2015 20:49:48 +0200
V/k9      (23954): Content-Type: text/plain
V/k9      (23954): 
V/k9      (23954): ]]
V/k9      (23954): Stored uid '55643' for msgSeq 26333 into map 
V/k9      (23954): conn1113484808<<<#7# [OK, Fetch completed.]
V/k9      (23954): Batch writing 1 messages
V/k9      (23954): LockableDatabase: Transaction ended, took 137ms / com.fsck.k9.mail.store.LocalStore$LocalFolder.appendMessages(LocalStore.java:2507)
V/k9      (23954): About to notify listeners that we got a new unsynced message frehi.be:INBOX:55643
D/k9      (23954): SYNC: Synced unsynced messages for folder INBOX
D/k9      (23954): SYNC: Have 0 large messages and 1 small messages out of 1 unsynced messages
D/k9      (23954): SYNC: Fetching small messages for folder INBOX
V/k9      (23954): conn1113484808>>> 8 UID FETCH 55643 (UID BODY.PEEK[])
I/        (  440): mpu3050_resume: Resuming to 0070
I/        (  440): mpu3050_suspend: suspending sensors to 0000
I/        (  440): mpu3050_suspend: Will resume next to 0070
I/MPL-ml  (  440): Actual ODR: 50 Hz
I/        (  440): mpu3050_resume: Resuming to 0070
V/k9      (23954): conn1113484808<<<#null# [26333, FETCH, [UID, 55643, BODY, [], 1]]
V/k9      (23954): Stored uid '55643' for msgSeq 26333 into map 
D/PullToRefresh(23954): First Visible: 0. Visible Count: 7. Total Items:24
I/ActivityManager(  440): Process com.asksven.betterbatterystats (pid 22112) has died.
D/su      (22136): sending code
D/su      (22136): child exited
D/su      (22134): client exited 0
V/k9      (23954): LockableDatabase: Transaction ended, took 641ms / com.fsck.k9.mail.store.LocalStore$LocalFolder.storeSmallMessage(LocalStore.java:2406)
V/k9      (23954): About to notify listeners that we got a new small message frehi.be:INBOX:55643
D/k9      (23954): Broadcasted: action=com.fsck.k9.intent.action.EMAIL_RECEIVED account=frehi.be folder=INBOX message uid=55643
D/PullToRefresh(23954): First Visible: 0. Visible Count: 7. Total Items:24
V/k9      (23954): conn1113484808<<<#8# [OK, Fetch completed.]
D/k9      (23954): SYNC: Done fetching small messages for folder INBOX
D/k9      (23954): SYNC: Fetching large messages for folder INBOX
D/k9      (23954): SYNC: Done fetching large messages for folder INBOX
D/k9      (23954): SYNC: About to sync flags for 24 remote messages for folder INBOX
V/k9      (23954): conn1113484808>>> 9 UID FETCH 55642,55641,55640,55639,55638,55637,55636,55635,55634,55633,55632,55631,55630,55629,55628,55627,55626,55625,55624,55623,55622,55621,55620,55619 (UID FLAGS)
V/k9      (23954): conn1113484808<<<#null# [26309, FETCH, [UID, 55619, FLAGS, []]]
V/k9      (23954): Stored uid '55619' for msgSeq 26309 into map 
V/k9      (23954): conn1113484808<<<#null# [26310, FETCH, [UID, 55620, FLAGS, []]]
V/k9      (23954): Stored uid '55620' for msgSeq 26310 into map 
V/k9      (23954): conn1113484808<<<#null# [26311, FETCH, [UID, 55621, FLAGS, []]]
V/k9      (23954): Stored uid '55621' for msgSeq 26311 into map 
V/k9      (23954): conn1113484808<<<#null# [26312, FETCH, [UID, 55622, FLAGS, []]]
V/k9      (23954): Stored uid '55622' for msgSeq 26312 into map 
V/k9      (23954): conn1113484808<<<#null# [26313, FETCH, [UID, 55623, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55623' for msgSeq 26313 into map 
V/k9      (23954): conn1113484808<<<#null# [26314, FETCH, [UID, 55624, FLAGS, []]]
V/k9      (23954): Stored uid '55624' for msgSeq 26314 into map 
V/k9      (23954): conn1113484808<<<#null# [26315, FETCH, [UID, 55625, FLAGS, []]]
V/k9      (23954): Stored uid '55625' for msgSeq 26315 into map 
V/k9      (23954): conn1113484808<<<#null# [26316, FETCH, [UID, 55626, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55626' for msgSeq 26316 into map 
V/k9      (23954): conn1113484808<<<#null# [26317, FETCH, [UID, 55627, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55627' for msgSeq 26317 into map 
V/k9      (23954): conn1113484808<<<#null# [26318, FETCH, [UID, 55628, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55628' for msgSeq 26318 into map 
V/k9      (23954): conn1113484808<<<#null# [26319, FETCH, [UID, 55629, FLAGS, []]]
V/k9      (23954): Stored uid '55629' for msgSeq 26319 into map 
V/k9      (23954): conn1113484808<<<#null# [26320, FETCH, [UID, 55630, FLAGS, []]]
V/k9      (23954): Stored uid '55630' for msgSeq 26320 into map 
V/k9      (23954): conn1113484808<<<#null# [26321, FETCH, [UID, 55631, FLAGS, []]]
V/k9      (23954): Stored uid '55631' for msgSeq 26321 into map 
V/k9      (23954): conn1113484808<<<#null# [26322, FETCH, [UID, 55632, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55632' for msgSeq 26322 into map 
V/k9      (23954): conn1113484808<<<#null# [26323, FETCH, [UID, 55633, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55633' for msgSeq 26323 into map 
V/k9      (23954): conn1113484808<<<#null# [26324, FETCH, [UID, 55634, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55634' for msgSeq 26324 into map 
V/k9      (23954): conn1113484808<<<#null# [26325, FETCH, [UID, 55635, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55635' for msgSeq 26325 into map 
V/k9      (23954): conn1113484808<<<#null# [26326, FETCH, [UID, 55636, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55636' for msgSeq 26326 into map 
V/k9      (23954): conn1113484808<<<#null# [26327, FETCH, [UID, 55637, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55637' for msgSeq 26327 into map 
V/k9      (23954): conn1113484808<<<#null# [26328, FETCH, [UID, 55638, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55638' for msgSeq 26328 into map 
V/k9      (23954): conn1113484808<<<#null# [26329, FETCH, [UID, 55639, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55639' for msgSeq 26329 into map 
V/k9      (23954): conn1113484808<<<#null# [26330, FETCH, [UID, 55640, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55640' for msgSeq 26330 into map 
V/k9      (23954): conn1113484808<<<#null# [26331, FETCH, [UID, 55641, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55641' for msgSeq 26331 into map 
V/k9      (23954): conn1113484808<<<#null# [26332, FETCH, [UID, 55642, FLAGS, [\Seen]]]
V/k9      (23954): Stored uid '55642' for msgSeq 26332 into map 
V/k9      (23954): conn1113484808<<<#9# [OK, Fetch completed.]
D/k9      (23954): SYNC: Synced remote messages for folder INBOX, 1 new messages
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() strategy=3, device=2
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() from cache strategy 3, device 2
D/k9      (23954): Done synchronizing folder frehi.be:INBOX @ Sun Aug 23 20:50:59 CEST 2015 with 1 new messages
I/k9      (23954): Done synchronizing folder frehi.be:INBOX
I/k9      (23954): Background Command 'synchronizeMailbox' completed
I/k9      (23954): Running Background command 'sendPendingMessages', seq = 7
I/k9      (23954): Background Command 'sendPendingMessages' completed
D/PullToRefresh(23954): State: RESET
D/PullToRefresh(23954): setHeaderScroll: -84
D/PullToRefresh(23954): First Visible: 0. Visible Count: 8. Total Items:24
D/PullToRefresh(23954): setHeaderScroll: -75
D/PullToRefresh(23954): setHeaderScroll: -58
D/PullToRefresh(23954): setHeaderScroll: -44
D/PullToRefresh(23954): setHeaderScroll: -35
D/PullToRefresh(23954): setHeaderScroll: -25
D/PullToRefresh(23954): setHeaderScroll: -15
D/PullToRefresh(23954): setHeaderScroll: -9
D/PullToRefresh(23954): setHeaderScroll: -5
D/PullToRefresh(23954): setHeaderScroll: -2
D/PullToRefresh(23954): setHeaderScroll: 0
D/AwesomePlayer(  115): Before reset_l
D/OMXCodec(  115): Successfully allocated OMX node 'OMX.google.vorbis.decoder'
I/OMXCodec(  115): Codec outputs a different number of channels than the input stream contains (contains 2 channels, codec outputs 1 channels).
I/AwesomePlayer(  115): Could not offload audio decode, try pcm offload (16-bit)
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocating 4 buffers of size 8192 on input port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x427bc260 on input port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x40051f10 on input port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x43405f80 on input port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x41f12180 on input port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocating 4 buffers of size 32768 on output port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x4fb14d20 on output port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x4216ff20 on output port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x4216b570 on output port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x42102f30 on output port
I/MediaFocusControl(  440):  AudioFocus  requestAudioFocus() from android.media.AudioManager@42867500
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() strategy=3, device=2
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() from cache strategy 3, device 2
D/AudioPlayer(  115): start of Playback, useOffload 0
I/OMXNodeInstance(  115): OMX_FreeBuffer for buffer header 0x4fb14d20 successful
I/OMXNodeInstance(  115): OMX_FreeBuffer for buffer header 0x4216ff20 successful
I/OMXNodeInstance(  115): OMX_FreeBuffer for buffer header 0x4216b570 successful
I/OMXNodeInstance(  115): OMX_FreeBuffer for buffer header 0x42102f30 successful
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocating 4 buffers of size 32768 on output port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x4cd0c8b0 on output port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x42126f00 on output port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x4da46f00 on output port
I/OMXCodec(  115): [OMX.google.vorbis.decoder] allocated buffer 0x4fb14d40 on output port
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() strategy=3, device=2
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() from cache strategy 3, device 2
V/NvAudioALSAPolicyManager(  115): getOutput() stream 5, samplingRate 0, format 0, channels 3, flags 0
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() strategy=3, device=2
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() from cache strategy 3, device 2
V/NvAudioALSAPolicyManager(  115): getOutput() stream 5, samplingRate 0, format 0, channels 3, flags 0
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() strategy=3, device=2
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() from cache strategy 3, device 2
V/NvAudioALSAPolicyManager(  115): getOutput() stream 5, samplingRate 44100, format 1, channels 3, flags 0
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() strategy=3, device=2
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() from cache strategy 3, device 2
V/NvAudioALSAPolicyManager(  115): getOutput() stream 5, samplingRate 0, format 0, channels 3, flags 0
D/AudioFlinger(  115): start(4097), calling pid 628 session 137
D/AudioFlinger(  115): ? => ACTIVE (4097) on thread 0x4216b570
V/NvAudioALSAPolicyManager(  115): startOutput() output 4, stream 5, session 137
W/NvAudioALSAPolicyManager(  115): startOutput() mHardwareOutput=4
E/AudioPolicyManagerBase(  115): changeRefCount() stream 5, count 1
V/NvAudioALSAPolicyManager(  115): startOutput() prevDevice=2
I/str_params(  115): key: 'fm_audio' value: ''
I/str_params(  115): key: 'fm_mute' value: ''
V/NvAudioALSAPolicyManager(  115): FM INACTIVE...
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() strategy=3, device=2
V/NvAudioALSAPolicyManager(  115): getDeviceForStrategy() from cache strategy 3, device 2
E/AudioPolicyManagerBase(  115): getNewDevice() selected device 2
E/AudioPolicyManagerBase(  115): setOutputDevice() output 4 device 2 delayMs 0
E/AudioPolicyManagerBase(  115): setOutputDevice() setting same device 2 or null device for output 4 prevDevice=2
E/AudioPolicyManagerBase(  115): 
E/AudioPolicyManagerBase(  115): ************************* Check And Set Volume Start ***************************
E/NvAudioALSAPolicyManager(  115): [NVALSA] Current Device[0x2] -> Device Selected[0x1]
E/NvAudioALSAPolicyManager(  115): [NVALSA] Volume From Table [5][1][5]=[0.501187]
E/NvAudioALSAPolicyManager(  115): [NVALSA] ComputeVolume() -> Stream[5], Index[5], Output[4], Device[0x00000002], PureVol[0.501187]->Vol[0.501187]
E/AudioPolicyManagerBase(  115): ********************************************************************************
E/MediaPlayer(  628): Should have subtitle controller already set
V/NvAudioALSARenderer(  115): start
V/NvAudioALSA(  115): [NVALSA] NvAudioALSADevOpen() hDev=0x43f35150
V/NvAudioALSA(  115): [NVALSA] Open called for Devices[00000002] in Mode[0]
V/NvAudioALSA(  115): [NVALSA] getAlsaDeviceName:: Devices[0x2] IsVoiceCallDevice[0] DevName[music]
V/NvAudioALSA(  115):          Reset buffer size to 4096 and latency to 85333
V/NvAudioALSA(  115):          Set PLAYBACK PCM format to S16_LE (Signed 16 bit Little Endian)
V/NvAudioALSA(  115):          Using 2 channels for PLAYBACK. Device can support max 2 chnannels
V/NvAudioALSA(  115):          Set PLAYBACK sample rate to 48000 HZ
V/NvAudioALSA(  115):          Buffer size: 4096
V/NvAudioALSA(  115):          Period size: 1024
V/NvAudioALSA(  115):          Latency: 85333
V/NvAudioALSA(  115):          Period Time: 21333
V/NvAudioALSA(  115):          Periods: 4
V/NvAudioALSA(  115): [NVALSA] Initialized ALSA[PLAYBACK] Device[music] HPCM[0x50491290]
V/NvAudioALSA(  115): [NVALSA] hDev->isVoiceCallDevice=0
V/NvAudioALSA(  115): [NVALSA] hDev->curDev=2, AudioSystem::DEVICE_OUT_ALL=49151
V/NvAudioALSA(  115): [NVALSA] AudioSystem::DEVICE_OUT_ALL
W/AudioFlinger(  115): write blocked for 524 msecs, 28 delayed writes, thread 0x41d80010
I/        (  440): mpu3050_suspend: suspending sensors to 0000
I/        (  440): mpu3050_suspend: Will resume next to 0070
D/AudioPlayer(  115): Pause Playback at 0
I/MediaFocusControl(  440):  AudioFocus  abandonAudioFocus() from android.media.AudioManager@42867500
V/NvAudioALSAStreamOut(  115): latency 86 ms
V/NvAudioALSAStreamOut(  115): latency 86 ms
V/NvAudioALSAStreamOut(  115): latency 86 ms
V/NvAudioALSAStreamOut(  115): latency 86 ms
V/NvAudioALSAStreamOut(  115): latency 86 ms
V/NvAudioALSAStreamOut(  115): latency 86 ms
V/NvAudioALSAStreamOut(  115): latency 86 ms
V/NvAudioALSAStreamOut(  115): latency 86 ms
V/NvAudioALSAStreamOut(  115): latency 86 ms
V/NvAudioALSAStreamOut(  115): latency 86 ms
V/NvAudioALSAStreamOut(  115): latency 86 ms
E/AudioPolicyManagerBase(  115): stopOutput() output 4, stream 5, session 137
E/AudioPolicyManagerBase(  115): changeRefCount() stream 5, count 0
E/AudioPolicyManagerBase(  115): getNewDevice() selected device 0
E/AudioPolicyManagerBase(  115): setOutputDevice() output 4 device 0 delayMs 0
E/AudioPolicyManagerBase(  115): setOutputDevice() setting same device 0 or null device for output 4 prevDevice=2
```
"
k9mail/k-9,closed,password protection.,"[Label(name=""enhancement""), Label(name=""help wanted""), Label(name=""security"")]","Please add an option to secure the mail accounts inside your app by adding a password/template protection in order to access your app.
"
k9mail/k-9,open,Add support for Gmail labels,"[Label(name=""enhancement"")]","Right now we treat Gmail like a regular IMAP account. This can lead to a single message being downloaded multiple times if it is assigned to multiple labels.
"
k9mail/k-9,closed,Duplicate email in notification,"[Label(name=""invalid"")]","When I receive an email that is sorted in several folders,  the notification I receive tells me I have two (or more, actually as many as folders containing the email) unread messages even though I have just one.

I mostly see that with my redirected addresses as emails go into both inbox and the folder for my redirected addresses.
"
k9mail/k-9,open,Lost all email accounts,"[Label(name=""needs info"")]","This is already filed as a bug on [google code](https://code.google.com/p/k9mail/issues/detail?id=4016) but I couldn't find it here on github. This bug still is present in v5.006 – it just happened to me on Android 5.0.2 (CM12.0, One Plus One). 

What exactly happened: all my email accounts were simply gone without any prior interaction. All user data of the app seems to be deleted. There wasn't any update to K9 or another app before it happened.

Are there any leads where this could come from?
"
k9mail/k-9,closed,attached photos are replaced with duplicates,"[Label(name=""bug""), Label(name=""needs info"")]","How was this bug caught:
- started composing a mail
- attached 4 photos using the standard attach feature of K9 (button)
- K-9 showed as if it fully succeeded, a mail was sent and it has 4 photos attached inside.
- The problem: all photos are copies of the last photo. They have identical contets, identical size but not identical names (names are correct).

Expected:
- fail to send the message or send 4 different attachments.

Reproducible? - No. I could not reproduce the problem:
- sending a message with the same 4 photos went OK. Photos have correct contents but the same names as in the first attempt.

Verification, why trust this bug report:
- the _names_ of the attachments are correct, these are 4 different photos. In case of a human mistake (attaching the same photo 4 times) there would be 4 identical names.
"
k9mail/k-9,closed,+option for display mail format (text/plain | html) (Issue 4456),[],"This is based on aatdark's implementation.

Please review.
"
k9mail/k-9,open,message list should not query contact provider in bind method,"[Label(name=""performance"")]","Often I am experiencing a really slow and laggish graphic user interface on Android 5.1.1 and K-9 Mail 5.006
I collected some debug infos in the way described in the webpage [1] and I uploaded at URL [2]

[1] https://github.com/k9mail/k-9/wiki/LoggingErrors
[2] https://mega.co.nz/#F!lk4gTKxJ!1ge40kShWt8IwxQVVXEnmA
"
k9mail/k-9,closed,In the mail notifications some text fields are hardcoded to black,"[Label(name=""bug"")]","While the rest of the notification fonts adjust to the current theme the recipient or the subject is always displayed in black. This ruins the readability on dark system themes.
Examples are attached.

![screenshot_2015-08-12-12-28-12](https://cloud.githubusercontent.com/assets/4571159/9222013/c0874840-40ee-11e5-8863-a66ff2f30b6d.png)
![screenshot_2015-08-12-12-27-51](https://cloud.githubusercontent.com/assets/4571159/9222014/c09c6414-40ee-11e5-819a-e08746a21b09.png)
![screenshot_2015-08-12-12-27-05](https://cloud.githubusercontent.com/assets/4571159/9222016/c0bf2fee-40ee-11e5-9b78-b203e1fc6af5.png)
![screenshot_2015-08-12-12-26-22](https://cloud.githubusercontent.com/assets/4571159/9222015/c0b0f690-40ee-11e5-991b-482a781c9c53.png)
"
k9mail/k-9,closed,Downloads go into root folder instead of standard »Downloads«,"[Label(name=""enhancement""), Label(name=""good first issue"")]","It seems K-9 Mail is not using the standard Downloads folder. Instead stuff is downloaded into the root of the internal storage. This results in some issues opening files up from other apps.
"
k9mail/k-9,closed,WhatsApp sharing problem (8-bit encoding),"[Label(name=""bug"")]","Using K9 from PlayStore, v5.006, Samsung Galaxy S5.

Open a WhatsApp chat where you received an image. Push for a long time on image to select it, choose to share with K9.
K9 will compose and send the message, but the image attachment is unreadable for the recipient.
The problem does not appear when you single tap on a WhatsApp image to zoom it, and then share from here.

Analyzing the received email: K9 is encoding the attachment with Content-Transfer-Encoding: 8bit, but I think the 8bit body is not correct, because it contains \r\n in the wrong position, not permitted by MIME RFC 2045 https://tools.ietf.org/html/rfc2045#section-2.8

I think K9 should encode attachments in the usual base64 way.

Also posted here [Google Code](https://code.google.com/p/k9mail/issues/detail?id=6399&q=whatsapp&colspec=ID%20Product%20Type%20Status%20Priority%20Milestone%20Owner%20Summary)
"
k9mail/k-9,closed,"Public URL confusion, please update links",[],"Is this the same project as this https://code.google.com/p/k9mail/ ? I cannot find any link pointing from the google code one to here.

If yes, could you please
1. Put a message on that page (https://code.google.com/p/k9mail/) so users will not waste time on opening issues there. Google will put it in readonly mode in the next few days, and I think you will never be able to do this after august 25.
2. Update the ""Visit website link"" in google playstore, visible at the bottom of this page https://play.google.com/store/apps/details?id=com.fsck.k9&hl=en

Thank you.
"
k9mail/k-9,closed,Issue741 bug fix,[],"Fixed a bug: when checking the multipart nature of a message part, the comparison was not done case=independent. See #741 for a more complete description of the bug
"
k9mail/k-9,closed,Some messages do not display with K-9 build from trunk (v 5.106) ,[],"I had this happening twice on my own debug-build of k-9 version 5.106.
At first I though it was somehow related to my changes (see pull request #725), but I can reproduce  it with a build from master branch, corresponding to v 5.106. It works on 5.006, official version, instead.

All other messages display fine, apart from these two sent by the same sender (my dentist :smirk: ) and hence formatted similarly. The message is in MIME multipart, with the text in HTML format and three images attached and transferred in Base64.
K-9 tells me that there is a new message in my inbox and I can see the message heading in the message view. When I try to open it, the view is completely blank.
Well, I reproduced it with adb/logcat on and you can reed the exception below.

So in summary:
- It is reproducible
- It happens on builds from trunk
- it looks like a bug
- the same message displays fine on the official 5.006 version from Google play

I am happy to try to fix it in the coming weeks if no one is available.

And here is the error:

```
08-08 18:34:24.798 E/k9      (23103): Error while loading message from database
08-08 18:34:24.798 E/k9      (23103): java.lang.IllegalStateException: Parent is neither a multipart nor a message
08-08 18:34:24.798 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder.loadMessagePart(LocalFolder.java:704)
08-08 18:34:24.798 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder.loadMessageParts(LocalFolder.java:663)
08-08 18:34:24.798 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder.access$1000(LocalFolder.java:61)
08-08 18:34:24.798 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder$7.doDbWork(LocalFolder.java:624)
08-08 18:34:24.798 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder$7.doDbWork(LocalFolder.java:615)
08-08 18:34:24.798 E/k9      (23103):   at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:283)
08-08 18:34:24.798 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder.fetch(LocalFolder.java:615)
08-08 18:34:24.798 E/k9      (23103):   at com.fsck.k9.controller.MessagingController.loadMessage(MessagingController.java:3081)
08-08 18:34:24.798 E/k9      (23103):   at com.fsck.k9.ui.message.LocalMessageLoader.loadMessageFromDatabase(LocalMessageLoader.java:58)
08-08 18:34:24.798 E/k9      (23103):   at com.fsck.k9.ui.message.LocalMessageLoader.loadInBackground(LocalMessageLoader.java:50)
08-08 18:34:24.798 E/k9      (23103):   at com.fsck.k9.ui.message.LocalMessageLoader.loadInBackground(LocalMessageLoader.java:16)
08-08 18:34:24.798 E/k9      (23103):   at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)
08-08 18:34:24.798 E/k9      (23103):   at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)
08-08 18:34:24.798 E/k9      (23103):   at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)
08-08 18:34:24.798 E/k9      (23103):   at android.os.AsyncTask$2.call(AsyncTask.java:288)
08-08 18:34:24.798 E/k9      (23103):   at java.util.concurrent.FutureTask.run(FutureTask.java:237)
08-08 18:34:24.798 E/k9      (23103):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
08-08 18:34:24.798 E/k9      (23103):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
08-08 18:34:24.798 E/k9      (23103):   at java.lang.Thread.run(Thread.java:864)
08-08 18:37:11.318 E/k9      (23103): Error while loading message from database
08-08 18:37:11.318 E/k9      (23103): java.lang.IllegalStateException: Parent is neither a multipart nor a message
08-08 18:37:11.318 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder.loadMessagePart(LocalFolder.java:704)
08-08 18:37:11.318 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder.loadMessageParts(LocalFolder.java:663)
08-08 18:37:11.318 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder.access$1000(LocalFolder.java:61)
08-08 18:37:11.318 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder$7.doDbWork(LocalFolder.java:624)
08-08 18:37:11.318 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder$7.doDbWork(LocalFolder.java:615)
08-08 18:37:11.318 E/k9      (23103):   at com.fsck.k9.mailstore.LockableDatabase.execute(LockableDatabase.java:283)
08-08 18:37:11.318 E/k9      (23103):   at com.fsck.k9.mailstore.LocalFolder.fetch(LocalFolder.java:615)
08-08 18:37:11.318 E/k9      (23103):   at com.fsck.k9.controller.MessagingController.loadMessage(MessagingController.java:3081)
08-08 18:37:11.318 E/k9      (23103):   at com.fsck.k9.ui.message.LocalMessageLoader.loadMessageFromDatabase(LocalMessageLoader.java:58)
08-08 18:37:11.318 E/k9      (23103):   at com.fsck.k9.ui.message.LocalMessageLoader.loadInBackground(LocalMessageLoader.java:50)
08-08 18:37:11.318 E/k9      (23103):   at com.fsck.k9.ui.message.LocalMessageLoader.loadInBackground(LocalMessageLoader.java:16)
08-08 18:37:11.318 E/k9      (23103):   at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)
08-08 18:37:11.318 E/k9      (23103):   at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)
08-08 18:37:11.318 E/k9      (23103):   at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)
08-08 18:37:11.318 E/k9      (23103):   at android.os.AsyncTask$2.call(AsyncTask.java:288)
08-08 18:37:11.318 E/k9      (23103):   at java.util.concurrent.FutureTask.run(FutureTask.java:237)
08-08 18:37:11.318 E/k9      (23103):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
08-08 18:37:11.318 E/k9      (23103):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
08-08 18:37:11.318 E/k9      (23103):   at java.lang.Thread.run(Thread.java:864)
```
"
k9mail/k-9,closed,Unknown contact picture should look for all Unicode letters,"[Label(name=""enhancement""), Label(name=""good first issue"")]","When I get an e-mail from someone named ""Łukasz"", the generated contact picture shows ""U"" instead of ""Ł"".
It seems that ContactPIctureLoader.calcUnknownContactLetter only considers [a-zA-Z] as letters, instead of looking for first Unicode alphabetic character.
"
k9mail/k-9,closed,Fix an issue when passphrase is cancelled,[],"Cancel the window asking passphrase crash the app due a missing error.
"
k9mail/k-9,closed,Account option reset to default value after server certificate change,"[Label(name=""duplicate"")]","I've had this issue a few times in the last few years and was never sure what triggered it.

The option specifically that I've seen change is Account options->Fetching mail->When I delete a message. This gets reset to 'Delete from server'.  I use my desktop computer to store my emails so I can back it up, but only check it there every few weeks. I use my phone to read and reply normally and just delete them locally knowing they will arrive on my PC to be archived eventually. I've lost weeks of emails due to this setting changing unexpectedly before.

I'm using IMAP but I believe it happens via POP3 as well.
"
k9mail/k-9,closed,No Encrypt & Sign buttons,[],"Hello,

I am trying to build from source and when I try to send a message I can't see Sign and Encrypt buttons in message compose window.

Although, with same phone K9 application from Play store works fine and there are those buttons. I wonder what's the problem?

Edit:

I am using APG. Is it no longer supported?
"
k9mail/k-9,closed,Proxy support ,"[Label(name=""duplicate"")]","We need a possibility to connect to the mail server via a proxy server. At the moment, there is no possibility to get the mails in networks that are set to use a proxy (e.g. many networks at University,  Tor etc).
I would add that proxy support should be added in a ""per account"" basis. 
"
k9mail/k-9,open,Threaded view across folders,"[Label(name=""enhancement"")]","Right now I store sent messages in my inbox so they will appear in message threads. 

I noticed that other folders can be added to the Unified Inbox, so I enabled 'Unify' on my Sent folder and began storing sent messages there. The problem was that messages were placed in two threads (sent/received) in my Unified Inbox instead of threading together. 

Follow-up: if inter-folder threading can be achieved for the Unified Inbox, can it occur at the account level too? 
"
k9mail/k-9,open,Q: Apply dark theme to landscape text entry,"[Label(name=""enhancement"")]","I'm using the dark theme. It's great. 

When I compose a message in landscape/horizontal mode, though, a glaring white text entry box appears. Is that a system limitation? Perhaps part of the keyboard? Or could the dark theme be applied to it also?
"
k9mail/k-9,open,Add support for displaying message/rfc822 parts,"[Label(name=""enhancement"")]","When Emails are forwarded as attachment in outlook, the attached mail is shown by k9 as an attachment called _noname.eml_. K9 can not open this attachment, but hands it over to the standard mail client, which DOES show it. (Strangely, android mail can not open this attachment directly...)

Is it a bug or a missing feature that k9 can't open these attachments?
"
k9mail/k-9,closed,My k9 does not verify Sign after download,"[Label(name=""bug"")]","If I compile K9 and install on my phone, select the OpenKeyChain provider, and my key and then receive a Signed Mail, K9 says me that the mail is signed but he does not have the key, so i presso ""lookup"", it searchs the key, download It (via OpenKeyChain) and when it turn back to K9, my mail is not ""signed"" yet, but if i exit the mail view fragment and re-open the mail, now it see the key on OpenKeyChain and verify the Sign, just like if It returns after download It does not refresh the fragment view.
How can I fix that? please help, I'm going crazy .
"
k9mail/k-9,closed,Make K9 themeable by layers.,[],"Moved all custom attributes from the base theme to the light/dark theme. That way, the parent theme for the base can be easily changed.
"
k9mail/k-9,closed,K-9 as Stopped when opening messages grouped,"[Label(name=""bug""), Label(name=""invalid"")]","Sorry for my bad English, I am Brazilian es'm using google translator.

We compile the k9 master and everything is ok but when I open grouped messages, the application stopped.
follows the error log:

08-03 09:49:07.930      688-688/com.fsck.k9.emailars.debug E/AndroidRuntime﹕ FATAL EXCEPTION: main
    java.lang.NullPointerException
            at com.fsck.k9.ui.messageview.MessageTopView.setMessage(MessageTopView.java:86)
            at com.fsck.k9.ui.messageview.MessageViewFragment.showMessage(MessageViewFragment.java:282)
            at com.fsck.k9.ui.messageview.MessageViewFragment.onDecodeMessageFinished(MessageViewFragment.java:277)
            at com.fsck.k9.ui.messageview.MessageViewFragment.access$1200(MessageViewFragment.java:56)
            at com.fsck.k9.ui.messageview.MessageViewFragment$DecodeMessageLoaderCallback.onLoadFinished(MessageViewFragment.java:756)
            at com.fsck.k9.ui.messageview.MessageViewFragment$DecodeMessageLoaderCallback.onLoadFinished(MessageViewFragment.java:746)
            at android.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:438)
            at android.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:406)
            at android.content.Loader.deliverResult(Loader.java:125)
            at com.fsck.k9.ui.message.DecodeMessageLoader.deliverResult(DecodeMessageLoader.java:40)
            at com.fsck.k9.ui.message.DecodeMessageLoader.deliverResult(DecodeMessageLoader.java:15)
            at android.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:236)
            at android.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:76)
            at android.os.AsyncTask.finish(AsyncTask.java:602)
            at android.os.AsyncTask.access$600(AsyncTask.java:156)
            at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:615)
            at android.os.Handler.dispatchMessage(Handler.java:99)
            at android.os.Looper.loop(Looper.java:137)
            at android.app.ActivityThread.main(ActivityThread.java:4424)
            at java.lang.reflect.Method.invokeNative(Native Method)
            at java.lang.reflect.Method.invoke(Method.java:511)
            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
            at dalvik.system.NativeStart.main(Native Method)
"
k9mail/k-9,closed,k9 keeps sending failing messages,[],"Every time I open k9, it tries to send a whatever message again and throws an error.

This seems to accumulate. I have now 3 messages that are trying to be send every time I connect to the WiFi. And of course every time the same errors.

> How do I fix that/delete this cron?

Current version of k9 5.0006 with kitkat 4.4.4
"
k9mail/k-9,open,Possiblity to add account without SMTP-Server,"[Label(name=""enhancement"")]","It would be great to be able to add an account, which does not have an smtp-server and a sending identity (listed when composing mails) attached, but only receives mails.

When i add an account now, only to check the mails and maybe answer them using another account, i still have to enter a fake smtp-server and have the non-removable default-identity in the sender-identity list when writing mails.
"
k9mail/k-9,closed,Reply button disappears from toolbar when turning phone sideways,"[Label(name=""invalid"")]","Is this a bug or a support request?

Bug

Have you looked for another ticket that might already be about your bug? 

Yes, and others have opened tickets in the past about this issue, however, all have been marked Invalid, closed in some other way, or New, yet still no resolution.

What steps will reproduce the problem?
1. Open any e-mail
2. Turn phone sideways
3. Toolbar buttons jump to title bar, but reply button is missing

What do you expect to have happen?

Buttons should include reply button.

What do you see instead?

Reply button simply missing.

What version of K-9 are you using?

5.006

What is your device and what version of Android are you using?

Motorola Photon Q, CyanogenMod 12.1 (Lollipop 5.1.1)

Is your email account a POP account, Exchange Account or an IMAP account?

IMAP

In order for us to have a chance at helping you with a complex issue, we're
going to need a debug log from your phone. 

Sure, I'm attaching the tail part of the log where I opened a new e-mail and the reply button was not on the landscape toolbar.  I doubt it will be very helpful, but here it is in any case.

What else should we know?

Also attaching a screenshot.  I'm willing to help in any way to gather further info, just let me know.

![screenshot_2015-08-01-12-46-10 1](https://cloud.githubusercontent.com/assets/13606160/9024310/c7536042-387d-11e5-9590-053b1168d3d2.png)

![k9_logcat_photon_q](https://cloud.githubusercontent.com/assets/13606160/9024345/3de92f1a-387f-11e5-8e11-0c3989506579.jpg)
"
k9mail/k-9,closed,What happens when starttls negociation fails?,"[Label(name=""invalid""), Label(name=""security"")]","Hi,

On [this page of the wiki](https://github.com/k9mail/k-9/wiki/Manual-AccountSetup) there are two settings: STARTTLS (if available) and STARTTLS (always). Although, it seems to be outdated and in the latest K9 version, I only have STARTTLS.

Then, what happens if the negociation of a secure connection fails?

Thanks
"
k9mail/k-9,closed,Support  local folders in POP3 and IMAP,[],"This feature adds local folders to K-9. These are folders that resides only on the device and are not synched or synch-able with any remote server, POP3, IMAP or else.

The aim is to have a local storage of important messages, for further record. On POP3 this is currently not possible and on IMAP only on folders synched remotely.

The main use cases added are as follow:
- Create local folders from the _Account/Folders_ option menu. A dialog pops up for the name of the new folder with a validator that controls the uniqueness of the name.
- Once the local folder is created, it is possible to check its setting, from the _Settings_ item in the context menu of that folder. The synch class is unchangeable and set to **Local**, the display class is first class.
- Local folders can be deleted, provided that are empty, either from the _""delete a local folder""_ choice in the _Account/Folder_ option menu or directly from their context menu
- Once a local folder (or more) is created, it is possible to move and copy messages into it, and from it to other local folders. Below is the expected behaviour:

On **IMAP** accounts:

| Action | Is allowed |
| --- | --- |
| from synched folder to synched folder | yes |
| from synched folder to local folder | yes |
| from local folder to local folder | yes |
| from local folder to synched folder | yes |

ON **POP3**

| Action | Is allowed |
| --- | --- |
| from synched folder to synched folder | no |
| from synched folder to local folder | yes |
| from local folder to local folder | yes |
| from local folder to synched folder | no |
- In the Message view it is possible to _Refile/Copy_ or _Refile/Move_ to local folder with the same rules as above
- Multiple-selection of messages can be moved or copied with the same rules as above

Potential issues:
- The name **""local""** folder might be misleading
- Issues when reading the headers of a message (""Not all headers can be downloaded.."" toast message). Should be unrelated to my changes because I could reproduce on a local build from k-9/master branch
- Search message with a query string seems to crash (see issue #610 already commented here), but also in this case I could reproduce on k-9/master and hence should be unrelated

Overall it is quite a big pull so I am available for any corrections and changes as required.

Kind regards
"
k9mail/k-9,closed,k9 crashes using wrong signs ,"[Label(name=""bug""), Label(name=""needs info"")]","My k9 crashes when entering different combinations of characters to the recipient field of an email.

Just typing a forward slash `/` to the _To_-field even does it.
"
k9mail/k-9,open,Subjects with characters outside the BMP sometimes get mangled,"[Label(name=""bug"")]","When I reply to a message with a subject containing characters outside the BMP, occasionally one of the characters will get split into two characters which render as a question mark. Characters outside the Basic Multilingual Plane are 4 bytes wide when using UTF-8, and it looks like they sometimes get chopped in half when the header is encoded. The MIME encoded-word stops right in the middle of the character, and then starts with the other half.

This happens every 2 dozen or so message (threads), with subjects that are more than 3-4 characters longs. It only happens on replies. I'm guessing because with the addition of ""Re:"", the 4-byte characters no longer align to the boundary of the MIME header encoder.
"
k9mail/k-9,open,Custom poll frequency,"[Label(name=""enhancement"")]","Hi, it would be great if instead of a predefined set of values, users can define a custom poll frequency. Currently the options are too limited (from a flexibility point of view).

For instance, I would love to have a frequency of 45 minutes, but that is not possible with the current set of values.
"
k9mail/k-9,open,"with any other font than Roboto, sender's name overlaps subject in notifications","[Label(name=""bug""), Label(name=""help wanted"")]","When I use any other font than Roboto, the sender's name overlaps the subject line in the notifications. This makes them look kind of ugly and difficult to read the last character of the sender/first character of the subject. It's almost as if the bounding box for the sender text (excuse bad terminology, I'm not an Android dev...) was defined using Roboto's metrics, and since Samsung Sans and Frutiger are wider fonts, it overruns that. Refer to the below screenshots while using Frutiger, Samsung Sans, and Roboto, as compared to how the Gmail app shows the notifications. (Samsung Galaxy Note 3, Android 4.4.2)

![frutiger_notification_screenshot](https://cloud.githubusercontent.com/assets/4296609/8881089/2fdc8748-320b-11e5-97f7-7902668eba0d.png)
![samsungsans_notification_screenshot](https://cloud.githubusercontent.com/assets/4296609/8881090/2fded8b8-320b-11e5-845b-e62978ea6b25.png)
![roboto_notification_screenshot](https://cloud.githubusercontent.com/assets/4296609/8881091/2fded980-320b-11e5-8ddb-307f48cc9ab2.png)
"
k9mail/k-9,closed,Add autoconfig settings for some Greek providers,[],
k9mail/k-9,closed,Don't use StringReader in HtmlConverter as calls to read have unneces…,[],"While profiling K-9 Mail on some older devices, I noticed that the performance of `HtmlConverter` was unexpectedly poor, regardless of whether it took the regular or simple conversion path. It turns out that `StringReader#read` acquires a lock internally, which is both unnecessary for the conversion, and adds quite a bit of overhead as it occurs once per character.

I replaced it with an for loop and index that essentially does the same thing as `StringReader`, minus locking.
"
k9mail/k-9,closed,Set SNI hostname if we can for TLS connections,[],"This patch sets the SNI hostname for TLS connections, using documented APIs for newer androids, and undocumented which works on most androids back to 2.3. This is required for any TLS connection that requires SNI to pick the correct certificate to send to the client (or multiplex based on SNI, which is what I'm using it for).
"
k9mail/k-9,open,Add undo/redo support for message composition,"[Label(name=""enhancement"")]","Hi

it can be very helpful if we have undo for writing emails. It is common to make mistakes or delete a line or so(which happened to me alot) but lack of undo means one has to rewrite all that stuff.

thanks
"
k9mail/k-9,open,Often Cannot click or select text or links,"[Label(name=""bug""), Label(name=""needs info"")]","Often when I open an email I cannot click or select text or links. If I adjust the screen by zooming in or out, it then works fine. Been having this issue for a year, since v 5. Now in 5.006, Android 4.4.4
"
k9mail/k-9,closed,Material design: icon improvements,[],"I just took a look at the material_design branch and one of the first things I noticed is that the icons in the action bar are too big when compared to other Material-styled apps.

The commits add some of the SVGs from the Material icon repository to the images/drawables-material directory. Then there is a script that converts those SVG files to PNGs in the appropriate drawables-xyz directories. Cool thing is that script can easily be modified to tint the icons for the desired color scheme (dark / light) and also accepts an opacity argument. I think the colors and opacities need to be modified to play well with the Material guidelines. Anyway, using this script, modifying the appearance of the icons is pretty easy. Also the generated PNGs have been added.

Ahh and I also merged the changes from master, don't know if this is appropriate
"
k9mail/k-9,closed,FAQ Error,[],"https://github.com/k9mail/k-9/wiki/FrequentlyAskedQuestions has a section ""Why K-9 is using so much bandwidth to sync my POP mail?"" and talks about making additional folders in a POP3 account.   POP3 does not have folders.   (The local client can have folders but the server does not.  This is one of the reasons why IMAP has become much more widely used.)   
"
k9mail/k-9,closed,K9 Automatically Collecting Contacts From Other Applications,"[Label(name=""invalid"")]","K9 is now automatically collecting contacts from Skype and so forth and I don't want it to.  

I'm either missing a setting somewhere or please add one :)
"
k9mail/k-9,closed,Ignore meta refresh in HTML mails,"[Label(name=""duplicate"")]","Hello all together.
Today i've tried https://emailprivacytester.com/ to test the privacy leaks of my mail programs. K-9 was also tested and it turns out, that if you open a mail with a html meta refresh in it, it opens the desired URL fully automaticly with the default browser.
I don't know if this is a desired behaviour but i think, it is a huge potential risk for every user.
Maybe you can bind the loading of meta-tags with the request if a user wants to load pictures?

Greetings, sqozz
"
k9mail/k-9,closed,Drafts of encrypted mails are saved in plaintext,"[Label(name=""bug"")]","## Description:

When sending an encrypted mail the message may be saved in plaintext on the server (as draft). The actual sent mail is encrypted.
## Steps to reproduce:
- Make sure to have two mail accounts configured (both have public/secret keys)
- Send it to yourself (or to another one - just tested it by sending it to myself)
- Check Encrypted checkbox
- Write some Subject and ""encrypted"" message
- Change to the other mail account
- Toast appears which says the message is saved as draft
- Send the mail
- Sent mail is encrypted
- Draft of mail (found in trash folder) is unencrypted
"
k9mail/k-9,closed,Text Selection broken on k9 mail 5.006 (latest available in Google store),"[Label(name=""bug"")]","After tapping on next inside email message, text selection indicators show up but they are broken. Choosing text with them  result in simultaneous scroll of screen. 
Replicable on both Samsung Galaxy Grand Neo JB 4.2.2 and LG 3G S 4.4 KitKat
"
k9mail/k-9,closed,Wouldn't it be useful to have 'Unified Sent'?,"[Label(name=""enhancement""), Label(name=""wontfix"")]","Adding the menu point 'Unified Sent' in the 'Accounts' overview, in between 'Unified Inbox' and 'All messages', would complete the usage scenario. 

While sent messages can be found in 'All messages' and in the respective detail view of the accounts, same applies to received messages. Therefore it would be consequent and balanced to have unified views of Inbox, Sent and All.

I assume it wouldn't be technically challenging to realize but unfortunately I'm lacking the programming experience to create the pull request with respective coding. 

In any case, K-9 Mail is nothing short of amazing, thanks a lot creators and developer community! 
"
k9mail/k-9,closed,Mark multiple mails as read at once,[],"Hi
When I select multiple mails at once and long tap one and select ""mark as read"" only the mail I long tapped on gets marked as read. Can you chamge it so that I can mark more than one mail at once?
"
k9mail/k-9,closed,Support for SCRAM-SHA-1 authentication,"[Label(name=""enhancement""), Label(name=""security"")]","The most secure authentication supported by K9 is currently CRAM-MD5, which has been cryptographically broken since 1996. 

Although it does have some worrying collision attacks, SCRAM-SHA1 would be a much better replacement, and is widely supported by many popular POP3 and SMTP daemons.
"
k9mail/k-9,closed,MessageProvider/delete doesn't handle subdirectories correctly,[],"If you have subfolders and attempt to use MessageProvider/delete, the subfolder gets misinterpreted as the message ID, which screws up interactions with third-party apps.

Scrapped fix in #703
"
k9mail/k-9,closed,Use voice dictation to compose emails,"[Label(name=""enhancement""), Label(name=""help wanted"")]","It would be very helpful in certain cases if you could compose emails using your voice (i.e: while driving, typing on a keyboard or using a pencil)
"
k9mail/k-9,open,Add proxy support,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Add support for using a proxy server when connecting to any server. This includes
- [ ] incoming and outgoing mail servers
- [ ] content downloaded by the `WebView`
- [ ] `DownloadImageTask`
- [ ] DNS lookups
- any other connection (please list in comments)

See also: https://code.google.com/p/k9mail/issues/detail?id=2834
"
k9mail/k-9,closed,Fix MessageProvider/delete handling of subfolders,[],"Figured it was easier to submit a PR than describe the issue and suggest a fix :)

If you have subfolders and attempt to use MessageProvider/delete, the subfolder gets misinterpreted as the message ID.

The fix should be something like this, although I haven't tested it.
"
k9mail/k-9,closed,load complete mail,"[Label(name=""invalid"")]","Just the first x lines/words/characters of a mail are being loaded. Long mails are being cut off regardless of HTML or plaintext.
Is there an option for this? How can I get rid of this?

Thanks a lot!
"
k9mail/k-9,closed,Wrong folder names for special-use folders with IMAP namespace prefix,"[Label(name=""bug"")]","K9 seems to choose wrong names for special-use folders when the IMAP namespace has a prefix.

I'm using a Dovecot Server with the following configuration:

```
namespace {
  type=private
  prefix = INBOX/
  separator = / 
  inbox = yes 

  mailbox Trash {
    auto = subscribe
    special_use = \Trash
  }
  mailbox Drafts {
    auto = subscribe
    special_use = \Drafts
  }

  [...]
}
```

With this settings, K9 correctly recognizes every folder: The folder names in the list of all folders are shortened by the namespace prefix and I get folders like ""Inbox"", ""Junk"" and e.g. ""Archives/2015"". The real IMAP folder names are ""INBOX"", ""INBOX/Junk"" and ""INBOX/Archives/2015"".

K9 also reads the configured special-use flag but here, the namespace prefix isn't stipped. Instead of using e.g. the ""Junk"" folder, K9 uses folders that are listed as e.g. ""INBOX/Junk"" in K9 (due to prefix stripping) and are effectively named ""INBOX/INBOX/Junk"".

After setting up a new account in K9 with the server-settings mentioned above, the ""wrong"" folder names are also visible in the settings: Under `Account settings -> Folders` the special folders are listed as e.g. ""INBOX/Junk"" which redirects to the wrong folder as mentioned above. If you manually select the Junk folder, K9 will only display ""Junk"" in the settings.

**Note** that I'm not too deep into Dovecot configuration and therefore this could also be a wrong configuration in Dovecot. But after playing around with the server settings, I think this is a K9 issue.
"
k9mail/k-9,closed,Add setting to completely disable notifications during Quiet Time,[],"![issue-661_disable_notifications_during_quiet_time](https://cloud.githubusercontent.com/assets/218061/8395085/8b1880c4-1d59-11e5-8fa0-44ac0f0d080d.png)

This supersedes PR #662
"
k9mail/k-9,open,Add support for full text search via IMAP,"[Label(name=""enhancement"")]","We want users to be able to search inside message bodies on the server.
This requires some changes to the way we display (remote) search results in the message list.

See comments in PR #689
"
k9mail/k-9,closed,proxy support?,[],"I saw an old feature request on the Google Code site where someone from the Guardian Project indicated plans to add Orbot/proxy support to K-9 mail. Has there been any movement on this? If not, how challenging would this be to implement? My coding experience is not extensive, but I'm ready to spend the time necessary to figure out how to do this if no one else is working on it and if it's not a horribly advanced project.
"
k9mail/k-9,closed,Message temporarily unread after download,"[Label(name=""bug"")]","After pressing 'Download complete message' to retrieve a read message, that message will be rendered as unread until the next sync/refresh. Seen on 5.006. 
"
k9mail/k-9,closed,Read status propagation to notifications (v5.006),[],"The following bug appears fixed in latest development version (v5.107). Since I could not find anything clearly related to this on changelogs, I report this just for confirmation.

I'm on a Samsung S4 (I9505) running stock Android v5.0.1. Using K-9 v5.006, a read status change (and even deletion) applied on a different device is not entirely propagated to mobile: the ""new mail"" notification would not automatically disappear, even after manual pull/refresh. This problem is not limited to lock screen, but to status-bar and notifications-menu too, where the notification would reside in indefinitely. Opening this dead notification, in case of email deletion, leads to an empty message dated to Unix epoch time (1970).

I tried the latest development version (5.107) and can confirm this problem is fixed.
Thanks for the great work.
"
k9mail/k-9,closed,Fixing warnings,[],"There are many compiler warnings and I'm attempting to clean them up. Presumably Android studio hides these otherwise they'd be rather overwhelming.

It's all trivial stuff which doesn't impact usability or security. Things like line lengths, braces and whitespace.
"
k9mail/k-9,closed,Improve send failure handling,[],"`MessagingController` doesn't need to know the details about which SMTP reply codes correspond to permanent errors. The code in place wasn't working as intended for quite a while now.

Overall the code is still a mess, but the error handling should be a little bit better and the code a bit more readable now.
"
k9mail/k-9,closed,Created README,[],"Copied from the google code page.

Seemed kind of odd that there is no readme. I couldn't find anything in the issues or pull requests.
"
k9mail/k-9,closed,Build script for Debian,[],"Add a script which builds the project on Debian and produces an apk. This makes creating test builds a little easier.
"
k9mail/k-9,closed,Bad scrolling performances in messages list,"[Label(name=""duplicate"")]","Scrolling the list of mails is extremely sluggish on my LG G2 (IMAP inbox, not unified or unified, 10 emails!), at least an order of magnitude slower than is the scrolling on most other apps, including complex web pages in Chrome. Scrolling the content of emails is however perfect. This makes the experience very poor and makes difficult to scroll exactly to the desired email. 
"
k9mail/k-9,closed,Runtime exception when loading an email in the background.,"[Label(name=""bug"")]","Steps to reproduce:
Open an email that contains more data than the threshold to load.
Click ""Download complete message"" and immediately back out of the message.
When the message finishes downloading, the following exception occurs:

```
com.fsck.k9.debug E/AndroidRuntime﹕ FATAL EXCEPTION: main
    Process: com.fsck.k9.debug, PID: 22305
    java.lang.IllegalStateException: Fragment MessageViewFragment{41c41ab0} not attached to Activity
            at android.app.Fragment.getLoaderManager(Fragment.java:1019)
            at com.fsck.k9.ui.messageview.MessageViewFragment.onMessageDownloadFinished(MessageViewFragment.java:247)
            at com.fsck.k9.ui.messageview.MessageViewFragment.access$1400(MessageViewFragment.java:56)
            at com.fsck.k9.ui.messageview.MessageViewFragment$DownloadMessageListener$1.run(MessageViewFragment.java:808)
            at android.os.Handler.handleCallback(Handler.java:733)
            at android.os.Handler.dispatchMessage(Handler.java:95)
            at android.os.Looper.loop(Looper.java:136)
            at android.app.ActivityThread.main(ActivityThread.java:5146)
            at java.lang.reflect.Method.invokeNative(Native Method)
            at java.lang.reflect.Method.invoke(Method.java:515)
            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:732)
            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
            at dalvik.system.NativeStart.main(Native Method)
```
"
k9mail/k-9,closed,Enable fulltext imap search,[],"IMAP full text search was disabled in aea95b1493776d5e12ff984c91948e0451933eca due to the fact that no results are presented to the user.

In these commits I am re-enabling it with the assumption that we are going to fetch the message body when searching, because as far as I can tell this is the only way to present the search results. It may be better to fetch the body only when isRemoteSearchFullText() is true, but I am not sure how to check for that inside MessagingController.

I have tested this on the 5.0 branch and it is working well for me with Dovecot IMAP server using the Solr fts search plugin. 
"
k9mail/k-9,open,Feature Request: Option for scheduled mail,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Some email clients such as the stock Samsung client and outlook have a scheduled mail feature where mail would only be sent at a specific time. 
"
k9mail/k-9,open,More options for account colors? A HEX or RGB field? ,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Hi,

i can chose the color of my account. Its a nice feature and i like it.

With my nexus 4 i was fine with the simple option to only chose the color on the color wheel. Since i had a new phone (Moto X 2014) the colors are to bright and i have no option to change this.

Now my offer is to add a field to set HEX or RGB colors.

Dan.
"
k9mail/k-9,closed,fix static analysis warnings and stop using nulls everywhere,[],"Got rid of some null-paranoia.

I am prepared for pushback on changes in `MessageProvider` but I think there is already too much 'the show must go on' mentality in the code.
"
k9mail/k-9,closed,static analysis fixes,[],"Fixed up a few of the issues from https://groups.google.com/forum/#!topic/k-9-dev/yuxZKXxd2N8

Will do the rest in another PR
"
k9mail/k-9,closed,"linkify relevant URI types: bitcoin, bridge, market, openpgp4fpr, xmpp",[],"This expands the linkifying in the message view to include some relevant
and common URI schemes.

This makes all of the regexps compiled once at start time, to prevent them
from being recompiled each time a new email is viewed.

Here are some example URIs that work:
openpgp4fpr:5E61C8780F86295CE17D86779F0FE587374BBE81
openpgp4fpr:9F0FE587374BBE81
openpgp4fpr:374BBE81
market://details?id=info.guardianproject.checkey
market://details?id=com.fsck.k9
xmpp:to@foo.com?subscribe;otr-fingerprint=98273491287349817243987124
xmpp:gptest@xmpp.jp
xmpp://gptest@xmpp.jp
xmpp:gptest@jabber.ccc.de?subscribe;otr-fingerprint=DC45EB0B00CD76D05C327C9143B4025697413ED6

Here are some examples of wrong URIs that should not work:
openpgp4fpr:374BBE8
market:details?id=info.guardianproject.checkey
"
k9mail/k-9,closed,Email Notifications on Android Watch,"[Label(name=""enhancement"")]","I love K-9 mail and love my new LG Urbane. I correctly get notifications for new email on the watch but when I select to delete it, the confirm delete notification pops up on the phone. So it is not possible to complete the entire delete email operation from the watch.

This works correctly with the Gmail application but it doesn't have a confirm delete prompt. 

I suppose one option would be to disable the confirm delete dialog entirely or to disable it for just the phone.

Working out the most desirable behavior for using a watch to dispatch the email is the first step. I have only had this watch a few weeks and am still getting used to it. K-9 I have used for a couple of years and am very happy with. AndroidWear is just a brave new world to figure out the Right Thing To Do (tm). :)
"
k9mail/k-9,open,Find a better way to deal with how many messages to keep locally,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Right now we support both limiting messages by number and age. We also support extending that limit by clicking ""Load up to X more"". But this does not change the age limit and there's no way to go back to the previous number limit.

We need to come up with a better concept that is easy to understand for users.
"
k9mail/k-9,open,Keep track of messages we created a notification for,"[Label(name=""enhancement"")]","Once those messages have been read or deleted (using another client) we can remove the notification.
Keeping track of those messages also allows us to recreate notifications after a reboot or app crash.
"
k9mail/k-9,open,Show indicator for accounts and folders with unseen messages,"[Label(name=""enhancement"")]","See PR #213
"
k9mail/k-9,open,Add simple blacklist spam filter,"[Label(name=""enhancement""), Label(name=""help wanted"")]","See PR #148

This feature requires…
- a simple way to add addresses to the blacklist
- a user interface to remove items from the blacklist
- a new database or a new table in an existing database
"
k9mail/k-9,open,Add support for folder shortcuts,"[Label(name=""enhancement"")]","Allow users to place shortcuts to specific folders on their home screen.

I don't want to add this before we overhaul the UI.
https://github.com/k9mail/k-9/milestones/Design%20Overhaul
"
k9mail/k-9,closed,Add option not to store account passwords,"[Label(name=""enhancement"")]","To do this properly some architectural changes are required. We need…
- a service to cache the passwords for some time
- to prompt the user for a password when we need to connect to the server (and the password is not cached)

See PR #288 for an attempt at implementing this feature.

See also https://code.google.com/p/k9mail/issues/detail?id=1243
"
k9mail/k-9,open,Add easy way for users to record/access debug/crash log,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Right now the average user is not able to supply a debug log when reporting a bug. We need to come up with a better way of doing things.

See pull request #368 for an old attempt at improving the situation.
"
k9mail/k-9,closed,K9 email setup exchange,[],"Hello, I am trying to fix the code so that you can use exchange that uses EWS not WEBDAV. Can anyone give me any pointers as to what I will have to change and how onWebDav() works? I have a partial solution but so far I am just crashing the app rather then doing anything useful. Thank you for your help.
"
k9mail/k-9,closed,"'Unfortunately, chrome has stopped' every time I open this email",[],"App Version: 5.005
Chrome version: Samsung build, 42.0.2311.111

Raw email: https://gist.github.com/DanielHeath/b1ce95e25fa7b0aa5d8d
Every time I open this email I get the message ""Unfortunately, Chrome has stopped""

The chrome logs indicate there's a `java.lang.SecurityException` in `readException:1472`, file `Parcel.java`.

Exception message is 'Unable to start activity ComponentInfo' ... ChromeLauncherActivity ... `Uid 10021 does not have permission to uri content://com.fsck.k9.attachmentprovider/<guid>/1415/RAW`
"
k9mail/k-9,closed,URL links open in K-9 instead of browser,"[Label(name=""bug"")]","Not sure what is going on, but just lately, URL links in emails want to open directly in K-9 instead of opening a browser - unless I long-press the link and choose ""open link"".  What happened?  I cleared all default actions for K-9 without anything changing.  K-9 5.005 on Lollipop 5.0.2 LG G2
"
k9mail/k-9,closed,Change preventing accidental new mail discard,[],"Hi,

I added a confirm dialog if accidently pressed discard menu entry in the message compose string. The dialog is default on and can be disabled in global settings > interaction > notifications

Cheers
Joerg

P.S: Being new on github. Once you accepted the pull (and if I need space), can I delete my fork ? 
"
k9mail/k-9,closed,Mail not marked as read,"[Label(name=""needs info"")]","What's going wrong?

Read email not marked as read in the server

What steps will reproduce the problem?
1. Read mail
2. Mail marked as read on K9
3. When new mail arrives, the previous email is marked unread

What do you expect to have happen?
1. After reading mail on K9, mail is marked as read on server

What do you see instead?
1. After reading mail on K9, mail is not marked read on server.
2. on next sync, mail marked unread at K9

What version of K-9 are you using?

5.005

What is your device and what version of Android are you using?

Asus Zenfone 2 
Android version 5.0

Is your email account a POP account, Exchange Account or an IMAP account?

IMAP account
"
k9mail/k-9,closed,K9 reliance on Google's Webview,[],"If webview is completely removed from device (I am talking about removing libwebviewchromium.so), k9 mail crashes when one is trying to open a message. Is this fundamentally in design or this is an issue that needs to be addressed. Many, including myself, think that google webview is a non essential layer that represents a glaring security hole for the entire OS with very limited benefits for a user. 

Is there a way to break that reliance? I guess this could be done via a general intent calling an avalable web browser, such as firefox or fennec.
"
k9mail/k-9,closed,Disabling support for SSLv3 protocol/ciphers and all RC4 ciphers.,[],"Wasn't sure if blacklisting the SSL_\* ciphers was necessary after explicitly removing SSLv3 from the protocols list, so let me know if the blacklist should be cleaned of all SSL_\* entries now or if this is ok. Seems to work fine in my rudimentary testing.
"
k9mail/k-9,closed,[bug] Problems with cyrillic symbols,[],"Hi!
There is a bug with cyrillic symbols displaying. 
I'm afraid to make a mistake in the exact wording of the error, so here is an example.
I get a letter in the title or body which has the word ""**Роутер**"". Translated, it means ""**Router**"". But this word is displayed as ""**Ð Ð¾ÑƒÑ‚ÐµÑ€**"".

To reproduce this error and find way to fix it, you can use the service [Universal Cyrillic decoder](http://2cyr.com/decode/?lang=en). 

This service suggests that bug is: **utf-8** encoding displayed as **windows-1252**
"
k9mail/k-9,open,Toolbar buttons in unified folders are limited,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Unified inbox selected-item toolbar buttons do not match those found in the inboxes themselves.  Please make the unified toolbar buttons extensive, allowing fallback behavior via account preference (ask to delete/do nothing if no archive folder is setup and also when no spam folder is setup and the 'archive' or 'spam' buttons are pressed, respectively).  This way it's not necessary (as it is in v.  5.0.5) to either view an email from the unified inbox or go to the account inbox to do normal operations via toolbar or menu (mark spam, move, archive).
"
k9mail/k-9,closed,Now shows '*Encrypted*' for message preview when encrypted - issue 575,[],"https://github.com/k9mail/k-9/issues/575

Should now work for PGP inline, PGP/MIME, and S/MIME encrypted messages. Comments and critiques welcome - this is my first pull request for K9, so please let me know how I can improve.
"
k9mail/k-9,closed,Issue 619 android wear support,"[Label(name=""enhancement"")]","Works well here for some time now in daily usage.
Huge improvement to the notification handling.
Needs more testing on a wider range of devices then what can be do but is definately stable enough to be merged back into trunk.
"
k9mail/k-9,open,Notification with multiple messages should go to unified inbox,"[Label(name=""enhancement"")]","When K9 shows a notification with multiple new messages from one account, tapping the notification jumps to this account with all subfolders listed.
This is not especially useful, because the place to read all these new messages without navigating back and forth multiple times would be the unified inbox.
Hopefully this behaviour can be changed, so tapping the notification goes to the unified inbox.
If you don't like the proposal, you could implement the suggested behaviour only when the option ""start in unified inbox"" is chosen or add a new option to activate it.
"
k9mail/k-9,closed,Reply encrypted emails,"[Label(name=""bug""), Label(name=""security"")]",
k9mail/k-9,closed,fixes #661: added option to disable notifications in quiet time,[],
k9mail/k-9,closed,(Optionally) Disable notifications in Quiet Time,"[Label(name=""enhancement"")]","I use quiet time to ignore work e-mails at night. However I can still see the notifications and then I 'must' read the emails. Can this be optionally disabled?
"
k9mail/k-9,closed,screen rotation bug with encrypted message,"[Label(name=""bug"")]","Decryption works correctly, but when the screen is rotated, the decrypted text disappears and the message is decrypted again.
"
k9mail/k-9,closed,.life (dot)life domains not accepted,"[Label(name=""bug""), Label(name=""help wanted"")]","Hello,
Just tried to add my email using your add account function and putting in for example test@gpl.life and I can not continue. The next and Manual entry buttons are greyed out.  If i put .com as the email I can continue.  Can you add .life so I can add my email accounts to K-9. 
"
k9mail/k-9,closed,The end of the Email App... How can we use this to make k9 better and more adopted,[],"http://news.yahoo.com/lollipop-kills-stock-email-app-175700048.html
"
k9mail/k-9,closed,Support GCM cipher suites.,[],"Adds the common GCM cipher suites to the top of the list. These are ciphers with no known vulnerabilities or weaknesses.

Fixes #641.

Not tested, because the current build system seems to want to download and execute random code off the Internet, which I'm not comfortable doing.
"
k9mail/k-9,closed,Use Sync Adapter for mail synchronization,"[Label(name=""enhancement"")]","By using Sync Adapter the OS takes care of many things for us. Some benefits are
- Automated network checking
- Improved battery performance
- Account management and authentication

See https://developer.android.com/training/sync-adapters/index.html
"
k9mail/k-9,open,Add support for Gmail's XOAUTH2,"[Label(name=""enhancement""), Label(name=""next stable""), Label(name=""security"")]","I really do not want to allow ""less secure apps"" in my gmail account.
Would K9Mail be compatible with this gmail security some time in a future?
"
k9mail/k-9,closed,Crash at opening S/MIME encrypted mails,[],"Hi,
at opening S/MIME encrypted mails the setMessage() method gets null instead of a messageViewInfo Object (https://github.com/k9mail/k-9/blob/master/k9mail/src/main/java/com/fsck/k9/ui/messageview/MessageTopView.java#L81). As the result line https://github.com/k9mail/k-9/blob/master/k9mail/src/main/java/com/fsck/k9/ui/messageview/MessageTopView.java#L87 fails, because there is no field name ""message"" that could be accessed.
"
k9mail/k-9,closed,Don't write messages without (partial) body to database,[],"Opening such messages during download will display ""No text"" and (probably due to a bug) might lead to the synchronization process being aborted. Instead of fixing the UI issue we now don't write these incomplete messages to the database. This has the potential to massively speed up the sync process. But it will take longer for messages to show up in the message list, especially with slow connections.

PS: Someone really needs to clean up the sync code :)
"
k9mail/k-9,closed,Gradle unit test support,[],"The new version of the Gradle Android plugin supports running tests on the JVM. This means we no longer need the tests-on-jvm module.

I also integrated Robolectric and converted some instrumentation tests to JVM tests.

The tests concerning k9mail-library were moved into that module. One exception is ImapConnectionTest which depends on the ""endtoend"" framework.
"
k9mail/k-9,closed,Enhancement Request: Make it possible to delete a mail from the notification bar,"[Label(name=""invalid"")]","Currently it is possible to answer a mail or to mark it read in the notification bar. I would like to have it possible to delete it immediately, too
"
k9mail/k-9,closed,Polish translation typos,[],"a simple typo to be fixed
"
k9mail/k-9,open,server-side imap search on all folders,"[Label(name=""enhancement"")]","currently it looks like imap server-side search will only search in selected folder. What is missing is global search on all folders, server-side.   
"
k9mail/k-9,open,Add support for local folders,"[Label(name=""enhancement"")]","This issue might have been raised before, in which case feel free to close.
I would like to keep copies (archive) certain mail messages on my phone.
This seems impossible at the moment when using a POP protocol to connect to a remote account.

It would be nice to be able to add a local folder to the list of folders (i.e. residing on the device/client only) and to be able to archive/save a copy of an email message for future record.
"
k9mail/k-9,closed,very good mail client,"[Label(name=""invalid"")]","It is very nice email client but would like that when descarque mails deleted from the server at the same time like other applications for PC thank
"
k9mail/k-9,closed,(5.105) Reply to/from not populated correctly.,[],"I'm not sure if this issue is fixed somewhere, or known about. But I'm using 5.105 with settings exported from the Play Store version and then imported. Android version is 4.4.

When I reply or reply all, the reply to address isn't entered, and the from address is always the first listed email address in my K-9 mail, not the one attached to the inbox or conversation in question.
"
k9mail/k-9,open,Material Design rework concept by @juliakorbut,"[Label(name=""enhancement"")]","So @cketti found the awesome concept for a K-9 rework using Material Design by @juliakorbut at http://julia.io/works/k-9/index.html
![](http://julia.io/works/k-9/images/k9_01.png)
(Only one of the screens, see the [website](http://julia.io/works/k-9/index.html) for everything.)

Except for a few things this is a great analysis and design. @juliakorbut would be great if you could chime in since you are the original author! :)
- (from @cketti) We should not be using tabs for the main folders because it would clash with using swipe for displaying the actions https://github.com/k9mail/k-9/issues/623 – the folders are good in the sidebar as shown in a later screen
- On the second screen, the actions are both on top and on the bottom – that’s a bit strange. They should only be in one place.
- The the actions on the bottom take up a lot of space on the bottom – We can just put the »New message« button in the header, next to the search icon.
- (from @cketti) I kind of like how the Gmail app puts the 'reply', 'reply all' and 'forward' actions at the end of the message. For that to be useful, we need to collapse the quoted text by default, though.
- On the compose screen, the »Sign« and »Encrypt« takes up a lot of vertical space. Maybe we should put it on the right of the subject field line as a lock icon, with a dropdown exposing these options? Otherwise the textarea is barely visible (as seen in the screenshot)

@juliakorbut @cketti what do you think?

cc @AMDG2 because you’re working on the Material Design rework https://github.com/k9mail/k-9/issues/599. And @vt0r who was involved in the discussion.

Let’s make this real! :rocket: :)
"
k9mail/k-9,open,Support for GSSAPI authentication,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Would be nice if K-9 could authenticate to IMAP servers using GSSAPI/Kerberos.
"
k9mail/k-9,closed,K9 almost stuck on 5.1,"[Label(name=""duplicate""), Label(name=""performance"")]","On both my Cyanogen devices (Nexus 7 2013 and Motorola G2 2015) K9 5.10x versions are almost stuck when it come to display or to scroll the list of messages.
Typical symptoms includes 'progress swirl' freezes for tenths of seconds before the list of messages is visible, scrolling the list bynswiping can take similar time to actually _start_ scrolling
I've been able to go back untile 5.104 with the same behavior. Stable branch still not tested but will do soon
Any ideas how to debug the issue?
"
k9mail/k-9,closed,K9-Mail crashes when touching area of attached mail and quickly trying to type,"[Label(name=""bug""), Label(name=""needs info"")]","What steps will reproduce the problem?
1. Tap in the reply area, so the keyboard opens
2. Tap in the area of the attached message
3. quickly start typing before the keyboard disappears -> K9mail has stopped working.

What do you expect to have happen?
- No crash, or that keyboard disappears more quickly, or that current message gets saved before K9-Mail crashes.

What version of K-9 are you using?
- 5.005

What is your device and what version of Android are you using?
- Fairphone FP1 (MT6589 chipset)
- Android 4.2.2

What else should we know?
- The crash produces no entry in the log (using CatLog on the rooted phone).
- We have discussed this in the Fairphone Forum and the issue seems quite reproducible: https://forum.fairphone.com/t/k9-mail-crashes-when-trying-to-type-in-area-of-attached-mail/5899
"
k9mail/k-9,closed,Add support for GCM cipher suites,"[Label(name=""enhancement""), Label(name=""help wanted""), Label(name=""security"")]","The current list of cipher suites leaves out the GCM cipher suites, which are more secure than the CBC cipher suites, as they avoid the inherent issues with verifying padding.  In fact, HTTP/2 explicitly forbids non-AEAD cipher suites.  k-9 is the largest user of non-GCM cipher suites on my network, so it would be nice if they could be added to the list.
"
k9mail/k-9,closed,HTML code in message preview,"[Label(name=""bug"")]","Preview (in message list and in notification) of HTML-only messages contains html code obscuring the real content.
"
k9mail/k-9,closed,Wrong file attachments from image sended from whatsup,"[Label(name=""bug"")]","If i send a picture with whatsup and select K9-mail as email client email are correctly sent but image are not visible because is broken.. only a lot of code is send.
"
k9mail/k-9,closed,Deleting message(s) from notification unnecessarily unlocks the phone,"[Label(name=""enhancement""), Label(name=""help wanted"")]","I believe the title is pretty self-explanatory, but nonetheless I'll try to describe this issue briefly:

Steps to reproduce:
1. Mail arrives while phone is locked
2. Expand the notification and hit the delete button
3. Message is deleted and phone **is unlocked**

Expected behavior:
Message is deleted and phone remains locked.
"
k9mail/k-9,closed,Can't decrypt sent messages,[],"My friend is no longer able to decrypt newly sent messages using K-9 mail 5.005 with OpenKeyChain 3.2 on Android 4.4.3. I took a look at some messages from my friend and they were only encrypted with the public key of the recipient, and not the key of the sender.

I'm not sure if this is a bug that should be filed on OpenKeyChain's side, I'm not sure how to troubleshoot this.
"
k9mail/k-9,closed,search is space sensitive ,[],"The search  in k-9 is sensitive to spaces. ""foo "" will not find emails where ""foo"" is a the end of the line with a line break afterwards. Given that Android's autocomplete puts a space immediately after the word when you select something, it would be nice to have a trim() -like call on the search field before executing the search.
"
k9mail/k-9,closed,sync adapters / authenticator,[],"Have sync adapters been considered before, so that k9 accounts appear under Android settings/accounts? Are they flexible enough for the sync schedules currently used by k9?
"
k9mail/k-9,closed,word document is received as winmail.dat,"[Label(name=""invalid"")]","I am using a Samsung Galaxy S3 on the Verizon network. When a word document is sent to me it downloads as a winmail.dat file on the S3 (it downloads just fine on my desktop as a word document so I know there is nothing wrong with the file). Why is K9 not downloading it as a word document? I think in previous years it downloaded .doc files just fine)
"
k9mail/k-9,closed,Automatically detect and use special folders. Don't create new ones,"[Label(name=""bug""), Label(name=""enhancement"")]","Currently when setting up K-9 Mail newly, shortly afterwards I will find myself with second folders for Sent, Junk, Drafts and Trash. (At least that is the case for me where my mail server uses special folders named in English, and my Android is set to French. K-9 Mail creates new French special folders.)

I need to manually go into the settings and plug them in correctly. Instead, K-9 should automatically use the existing special folders.
"
k9mail/k-9,closed,Case sensitivity problem in account>folders settings,"[Label(name=""architecture""), Label(name=""bug"")]","I have an IMAP account with two directories, one named ""Spam"", and other named ""spam"".

In K9Mail I go to Account Preferences, Folders, Spam folder, and try to choose the lower case ""spam"".

After that, marking a message as spam, K9Mail will still move it to the ""Spam"" folder, instead of ""spam"".

I suppose the problem is case sensitivity?
"
k9mail/k-9,closed,Disable RigidWebView resize throttling on Android Lollipop or higher.,[],"This fixes the problem with blank messages.
"
k9mail/k-9,open,Show subfolders as real subfolders in folder list,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Currently all folders are shown on the same level with names like

```
Folder1
Folder1.Subfolder1
Folder1.Subfolder2
```

Actually it would be much clearer if the folder tree wouldn't be flat, e.g. subfolders where on a deeper level and reachable by tapping the containing parent folder.

Especially with many folders the current folder lists becomes almost unusable.
"
k9mail/k-9,open,Intuitive sorting of default folders,"[Label(name=""enhancement"")]","Right now it's hard to actually get important folders like ""Inbox"", ""Outbox"" or ""Drafts"" and the like to the top of the folder list (let alone having a sort order in this group of default folders or having them visually separated from other folders).

I propose to collect all default folders at the top (or optionally a user selectable subset) and give them nice and shiny icons. The rest of the folders should go below with some sort of visual separator.

Actually Android 5.0.2's default ""Email"" app does a considerably good job at this: When selecting ""Show all folders"" from the main menu the shown listing is very clear with the default folders being easily identifiable/distinguishable and quickly accessible.
"
k9mail/k-9,closed,IMAP errors with Hotmail accounts,"[Label(name=""invalid"")]","Hi! I hope this is the right place to report a sort of bug. I'm trying to add a new account to K-9 using the IMAP method. Everything goes well with other services (GMail i.e.), but not with hotmail..
The same problem seems to affect others too: http://forum.xda-developers.com/htc-one/help/k9-mail-hotmail-to-pop3-imap-t2975420?nocache=1

Thanks
L.
;)

P.s. Nexus 4 - ROM: XenonHD 5.1.1_r1 - Unleashed 101u Kernel
K-9 Mail v._5.004
No GApps installed
"
k9mail/k-9,closed,email content only displayed half way,"[Label(name=""duplicate"")]","Since update to Android 5.02 on the Sony Experia Z2, the lower part of the email is blank. Not always, but mostly.
Will try to attach a Screenshot
"
k9mail/k-9,closed,Support for ProtonMail,[],"[![ProtonMail](https://protonmail.ch/img/logo-beta-dark.svg)](https://protonmail.ch/)

Good evening @k9mail developers! While I am still waiting for [Dark Mail](https://www.kickstarter.com/projects/ladar/lavabits-dark-mail-initiative) ([website](https://www.darkmail.info/)) to come out, I have switched to [ProtonMail](https://protonmail.ch) for now, which offers a **double encryption** using RSA-2048 and AES-256 as described in their [security features](https://protonmail.ch/pages/security-details). Even though they're developing their service with heart-blood and have a GitHub account @ProtonMail, their source code is not available (yet). Nevertheless, I would love to be able to use ProtonMail through the k-9 interface on my mobile device. Means, k-9 would need to support that double encryption. Can you add this feature, please?
"
k9mail/k-9,closed,no settings menu on my version,"[Label(name=""invalid"")]","My k9 views as a black background with neon colored text. It is very hard to read. Your help pages suggest that I can change my settings to show white background and different fonts but my version of k9 does not have any settings me u orvtab b that I can find .
"
k9mail/k-9,open,Undo instead of confirmation for mail deletion,"[Label(name=""enhancement"")]","Currently after the deletion of every Mail I am asked if I really want to delete that mail. This gets annoying really fast, especially when deleting a mail from the notification bar (which is supposed to be quick).

Much better would be to use undo instead of the confirmation. See also this related article by former Firefox design lead Aza Raskin: http://alistapart.com/article/neveruseawarning
"
k9mail/k-9,open,Ability to quickly delete messages from the message list,"[Label(name=""enhancement"")]","As a quick gesture it would be good to have the ability to swipe to delete in the list.

Maybe related to the Material design rework: https://github.com/k9mail/k-9/issues/599
"
k9mail/k-9,closed,Resend/redirect/bounce mail,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Without changing header. 
So that PGP signature is still valid.

Needed to 
- train spam filter
- transfer to another person
- send to other mail address of same person (e.g. calendar invites)
- send to distribution list

Also see this old issue: https://code.google.com/p/k9mail/issues/detail?id=1848#makechanges

Where should I get started to implement this? 
"
k9mail/k-9,closed,k-9 changes MIME type of S/MIME signed mails,[],"Hi  there,

k-9 seems to changes the MIME type of S/MIME signed mails in `com.fsck.k9.mailstore.LocalFolder.java` from:
`multipart/signed` -> whole mail
`text/plain` -> text part
`application/pkcs7-signature` -> signature part

into this:
`multipart/mixed` -> whole mail
`multipart/alternative` -> text part
`application/pkcs7-signature` -> signature part

I don't think this behaviour is intended.
"
k9mail/k-9,open,Contact groups can't be recipient,"[Label(name=""enhancement""), Label(name=""help wanted"")]","https://code.google.com/p/k9mail/issues/detail?id=1996

this has been an issue that I am starting here based off the abandoned google code issue.  From 2010, still updated on that site this year.  

In K9 mail, can not select contact groups to send a group email to.  Only individual contacts.  If a group is selected to send a new email in the contact manager, then k9 selected as email client group data is populated.  

but if we try to forward a message, there is no way to select a group.  see link above for details.
"
k9mail/k-9,closed,Add android wear support,"[Label(name=""enhancement"")]","Gmail has the possibility to answer with predefined answers or voice. Something similar would be awesome.
"
k9mail/k-9,closed,Resource leak -- file not closed -- found by Facebook's static analyzer,"[Label(name=""bug"")]","Hello,
This resource leak report, included with comments below, were found by running

Facebook's Infer static analyzer on K-9.

Regards,
Dulma Rodriguez
Facebook Static Analysis Tools Team

File: k9mail/src/androidTest/java/com/fsck/k9/helper/HtmlConverterTest.java

Report: Resource Leak: resource acquired by call to FileWriter(...) at line 143 is not released after line 147.

Remarks: The problem seems to be that out.write(...) can throw an exception, in which case out.close() won't get called. A simple fix is to put the call to close in a finally clause.
"
k9mail/k-9,open,Set specific synchronization interval on mobile data plan,"[Label(name=""enhancement"")]","It would be nice, if one could set the intervals to check for new emails based on whether Wifi or Mobile Data is currently used, so that one would be able to have it set to every five minutes on Wifi, but only every thirty minutes or not at all when using mobile data in order to save some money.

This seems to be related to PR #54.
"
k9mail/k-9,closed,"Account setting ""Delete from Server"" lost after SSLError","[Label(name=""bug"")]","Hi,

ever and anon I get an SSLCertificate error with my provider gmx.net.
When this happens the account settings changes and mails will be no longer
deleted from the mail server after they are deleted localy. I have to change the settings by hand back.

regards
dieter
"
k9mail/k-9,closed,Account listed multiple times,"[Label(name=""bug"")]","I have three email accounts, which were before listed like this:

```
AccountA
AccountB
AccountC
```

After long-pressing the last account and choosing ""Move up"", I got two copies of the account that I tried to move, like this:

```
AccountA
AccountC
AccountB
AccountC
```

This state persisted after restarting the app (I think, the app was not listed in task manager), but problem went away after restarting phone, and `AccountC` is now in the middle as expected. Problem is not reproducible, I can now move them around as I please. When I had the problem I moved the account shortly after creating it.

K-9 Mail version: 5.004
Android version: 4.4.2
Phone: LG G2
"
k9mail/k-9,closed,Folder listed multiple times,"[Label(name=""bug""), Label(name=""help wanted""), Label(name=""needs info"")]","While figuring out #613 I noticed three folders named ""Outbox"". One was the remote folder but two entries led to the same local folder. After trying 'recreate' on the account's data, I ended up with triplicate entries for the spam folder. 

I ended up deleting and re-creating the account; it's working fine now. Still wanted to report the behavior though. 
"
k9mail/k-9,open,Do not apply send attempt limit to manual operations,"[Label(name=""enhancement"")]","I replied to an email in an area without data service. Several hours later, I returned to data coverage and began receiving emails again. The outbound message did not budge, despite repeated manual 'Send messages' operations. 

I've had debug enabled so pulled the log and this is what's produced by Outbox > menu > 'Send messages':

```
04-13 19:59:04.828 I/k9      ( 2239): Running Foreground command 'getFolderUnread:Work:K9MAIL_INTERNAL_OUTBOX', seq = 3027
04-13 19:59:04.871 I/k9      ( 2239): Foreground Command 'getFolderUnread:Work:K9MAIL_INTERNAL_OUTBOX' completed
04-13 19:59:18.751 I/k9      ( 2239): Running Background command 'sendPendingMessages', seq = 3028
04-13 19:59:18.845 I/k9      ( 2239): Scanning folder 'K9MAIL_INTERNAL_OUTBOX' (4) for messages to send
04-13 19:59:18.846 I/k9      ( 2239): Send count for message K9LOCAL:f2c7725a-c0bd-404b-ad2e-942c35f41395 is 38
04-13 19:59:18.846 E/k9      ( 2239): Send count for message K9LOCAL:f2c7725a-c0bd-404b-ad2e-942c35f41395 can't be delivered after 5 attempts.  Giving up until the user restarts the device
04-13 19:59:18.855 I/k9      ( 2239): Background Command 'sendPendingMessages' completed
04-13 19:59:19.517 V/k9      ( 2239): conn1102180760<<<#null# [OK, Still here]
04-13 19:59:19.517 V/k9      ( 2239): Got async response: #null# [OK, Still here]
04-13 19:59:19.518 V/k9      ( 2239): conn1106100024<<<#null# [OK, Still here]
04-13 19:59:19.518 V/k9      ( 2239): Got async response: #null# [OK, Still here]
```

After a restart, a manual 'Send messages' command succeeded. 

Having to restart the device seems unreasonable. Why have a hard limit at all? Shouldn't network availability be taken into consideration?

I think manual 'Send messages' operations should reset or ignore the attempt counter.
"
k9mail/k-9,open,Distinguish local folders,"[Label(name=""enhancement"")]","There are some local folders created for each account, `K9mail-errors` and `outbox` at least. I just troubleshot an issue where I was looking at 3 `outbox`es and it would have been useful to distinguish local from remote folders. 

Could local folders names be displayed in italics/emphasis? 
"
k9mail/k-9,open,Additions to available 'Visible message actions',"[Label(name=""enhancement"")]","I'd love to have `Mark read` available as a toolbar button. It would be a good addition to Settings > Global settings > Display > Visible message actions. I think it should go between navigation and delete.

Similarly, I'd like to suppress the navigation buttons. It'd be nice if they were also exposed via the 'Visible message actions' list as a checkbox I could deactivate. 
"
k9mail/k-9,closed,Remove message body search condition,[],"This fixes the exception caused by commit 743e640d8c71a0d4a6dd8e75cf760fa34c32f2c2
"
k9mail/k-9,closed,Wrong file attachments from recorded audio on whatsup,"[Label(name=""bug""), Label(name=""duplicate"")]","Hi,
If I record an audio file on whatsup with the microphone and after sent in whatsup I select the audio message and share in K9-mail the email is Sended with danaged file. The file audio Sended by Android 5.0 on Samsung galaxy S5 with whatsup share function then K9-mail arrive danaged. For send correctly and share I must use Gmail app with Gmail account.

Please fix this on k-9 mail so I can send by email audio recorded message via WhatsUp to email
"
k9mail/k-9,closed,"""Exit"" option in menu","[Label(name=""wontfix"")]","In my opinion an ""Exit"" option in menu is good feature for all Android apps, in order to stop the service inmediatedly and free memory when email is not being used. 

I like to see that K9 sometimes disappear from services in use after few minutes, and probabily 16MB of K9 is not much memory in devices with 1Gb or 512 but it in devices with 256MB anything in memory has impact in performance.
"
k9mail/k-9,closed,Everything has vanished,[],"I'm a long time user of k-9... Never any problems on several phones through the years.  My Samsung s3 was getting a bit slow earlier, (wasn't using k-9 by the way) so I rebooted.  Very shortly I needed to reference an email from last week, so I went to k-9.  

The first thing I noticed was my icons on the screen (I have shortcuts to each account as I have multiples) were missing and just a white mail folder was in their place... Even the name is gone and replaced with ""k-9 mail""

I tapped on each one and everything is gone.  My color theme, all my folders, emails, accounts, EVERYTHING!!!

The only thing that shows up is a bar at the top that says ""show unread count for..."" And two selections, one says ""unified inbox"" and ""all messages"".  Clicking on either of these brings up a ""busy"" screen but nothing happens at all.  If I click the back arrow at the top, it takes me to the welcome screen as if I've just installed k-9.  Also back on the home screen, the text under the white Mail icon changes from ""k-9 mail"" to ""all messages""

I also opened up k-9 from the actual icon in the apps folder and it takes me directly to the welcome screen.

All my other apps seem to be working just fine...

Any help would be greatly appreciated.

Thank you, Jimmy

If I go into application manager, it shows the following...
Total: 6.28mb
Application: 6.14mb
USB Storage app: 0.00mb
Data: 140kb
Sd card: 0.00mb. (I have no ad card in the phone)

The sprint s3 info...
Model: SPH-L710
Android version: 4.1.2
Baseband version: L710VPBMD4
Kernel version: 
3.0.31-1130792
se.infra@SEP-132 #2
SMP PREEMPT Mon Apr 15 19:05:47 KST 2013

Build number: JZO54K.L710VPBMD4
Hardware version: L710.14
"
k9mail/k-9,open,Support newer Exchange servers,"[Label(name=""enhancement""), Label(name=""help wanted"")]","With WebDAV support gone in newer Exchange versions, EWS support should be added so newer Exchange servers can be used as well. 
"
k9mail/k-9,open,"With remote Drafts folder, drafts vanish","[Label(name=""bug"")]","To reproduce:
- Choose a remote IMAP folder as the default Drafts folder.
- Put device in airplane mode.
- Compose a message and save it as a draft.
- Exit K-9.
- Exit airplane mode.
- Open K-9 and navigate to Drafts folder.
- The saved draft cannot be found.
"
k9mail/k-9,closed,LocalMessage: getContentType needs to make sure headers are loaded,[],"Otherwise, headers may not be loaded resulting in messages to be interpreted in the wrong codepage when displaying:

MessageExtractor.getTextFromPart() tries to get the charset in the following way:

```
String charset = getHeaderParameter(part.getContentType(), ""charset"");
```

This fails in case part is LocalMessage and headers have not been loaded.
"
k9mail/k-9,closed,MimeMessage needs to implement SizeAware,[],"Recently a SizeAware interface was introduced. However when a message is forwarded 'as attachment', said attachment will be handled as a MimeMessage. But MimeMessage does not implement SizeAware so it fails to store the message in the database.
"
k9mail/k-9,closed,Add e2e test for sending,[],"Added a test for sending an email and verifying it was received by the server.

Made each test have its own server(s) on separate ports to aid maintenance.

This fails intermittently without https://github.com/k9mail/k-9/pull/601 also being merged.

The extra `eu.ocathain.*` java.mail dependencies are uploaded to the OSS snapshots repository so this should build for everyone.
"
k9mail/k-9,closed,ensure account also removed from memories on delete,[],"Alternative way of doing https://github.com/k9mail/k-9/pull/600
"
k9mail/k-9,closed,Prevent exceptions in test when account is deleted,[],"I submitted this pull request before, on the old k9mail_pgp_mime repo.

@cketti wasn't happy with the way I worked around the issue of account stats being gathered 
after an account was deleted, but I can't remember the suggestion, and the repo is gone.

So please could you take another look?
"
k9mail/k-9,open,Starting Material Design,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Hello !

I just started a Material design for K9Mail, you can see my work here https://github.com/AMDG2/k-9
Let me know what you think about that, so when ready the pull request can be done very quickly !
"
k9mail/k-9,closed,Message displays only single line,"[Label(name=""bug""), Label(name=""help wanted"")]","When reading through messages in inbox via IMAP, I typically tap archive to move to next item. Frequently, K9 shows the next message nearly blank with only one line of text visible.  Swiping up/down scrolls the message through this one line area. Tapping previous, then next causes the message to be displayed normally. Currently on Android 5.0.2 on Nexus 7 and K9 5.004. Please let me know what additional info would be helpful.
"
k9mail/k-9,closed,"When moving mail a second time, the folder list should be scrolled to the last folder used","[Label(name=""bug""), Label(name=""duplicate""), Label(name=""help wanted"")]","Currently it's off by 1-2 folders.
"
k9mail/k-9,closed,Problems setting up email account with same settings,"[Label(name=""invalid"")]","I have two openmailbox.org accounts. I set up the first one, no problem. But I'm having problems setting up the second one. I'm using the same defs as the first one. Could this be a bug?
"
k9mail/k-9,closed,Doesn't get all email from openmailbox,[],"Only loads more recent emails. Why?
"
k9mail/k-9,closed,Add support for multiple external storage devices,"[Label(name=""duplicate"")]",
k9mail/k-9,closed,message/rfc822 as intent type not received,"[Label(name=""invalid"")]","When I send an intent from my app like this:

``` java
Intent emailIntent = new Intent(Intent.ACTION_SENDTO, Uri.fromParts(
    ""mailto"", ""woitaschek@gmail.com"", null));
emailIntent.setType(""message/rfc822"");
emailIntent.putExtra(Intent.EXTRA_SUBJECT, ""Subject"");
emailIntent.putExtra(Intent.EXTRA_TEXT, ""Hello k9 dog"");
Intent startClientIntent = Intent.createChooser(emailIntent, ""Sending Mail..."");
startClientIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);
try {
    getApplicationContext().startActivity(startClientIntent);
} catch (ActivityNotFoundException ignored) {
}
```

K9 Mail wont receive that intent unless I remove the type

``` java
//emailIntent.setType(""message/rfc822"");
```
"
k9mail/k-9,open,Add support for inline image attachment,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Currently k9mail keeps inline images intact when forwarding or replying to a mail with inline images.
It would be great if users has the option to add images inline as well.
"
k9mail/k-9,open,Option for marking messages as read before deleting,"[Label(name=""enhancement"")]","I often delete messages. Each and every time I don't want to see them, don't want to have to be reminded of them anymore. Be it spam, mailing list posts I don't care about etc.

Often enough I delete a message without even looking at it. A Polish subject? Great, I don't speak Polish, just delete it. Wine marketing? I don't drink wine; delete it. Etc.

So my options are, especially from the notification area, to mark it as read or to delete it. If I just delete it it stays unread and my trash folder suddenly has one unread message in it. But I don't want to read that message. Ever! I also don't want the hassle of having to go to my trash folder and marking all messages read there regularly. I'm busy enough as it is, and such repeating tasks is what a computer should take care of for me.

So please, please provide an option that lets K-9 mark a message as read before it is moved to the trash folder. Pretty much all desktop email clients have such an option.

Thanks for considering it.
"
k9mail/k-9,closed,WebView: Open links in external Browser,[],"1a20ca06f1ef8ab0d4a5952dcc614973014b50c7 connected a WebViewClient
to the WebView. But as soon as a client is connected, the WebView
stops handling links itself and tries to display everything on
its own.

Override shouldOverrideUrlLoading() and replicate what Android's
default WebView does if no WebViewClient is connected to work
around this.

This fixes #587.
"
k9mail/k-9,closed,Remove default mail signature,"[Label(name=""wontfix"")]","An issue for the same topic was already opened on [google code](https://code.google.com/p/k9mail/issues/detail?id=5953). It boils down to: the default signature is unprofessional, annoying and judging from the top google hits it is also the first thing that people try to get rid when starting to use k9.
"
k9mail/k-9,closed,Crash when canceling passphrase input when decrypting messages,[],"K-9 crashes when the passphrase input of OpenKeychain is cancelled.
"
k9mail/k-9,closed,Open Links in browser not inline,[],"Tested on current git master:
Links are currently opened inline in the WebView not in my favorite browser.
"
k9mail/k-9,open,Search inside message headers,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Hi, would it be possible to implement searching inside message headers along with the body for locally downloaded messages?
"
k9mail/k-9,open,Support swiping between messages in message view,"[Label(name=""enhancement""), Label(name=""help wanted"")]","Current ""gesture navigation"" in K9 is just fiction. On the other hand implementation in quite a few open source apps (including AOSP E-mail app) looks as good as in Gmail, so maybe we too can have this feature _properly_ done in near future?
"
k9mail/k-9,closed,Synchronize createUniqueFile to prevent race on file.exists,[],"See https://github.com/k9mail/k-9/issues/583#issuecomment-83237076
"
k9mail/k-9,closed,[bug] Attachments showing up on the wrong email,"[Label(name=""bug""), Label(name=""needs info"")]","I have 2 emails which both have an attachment called `external_0.jpg`.

When viewing these messages, k9 usually shows the wrong image for at least one of them.

I suspect that `FileHelper.createUniqueFile` is subject to a race condition when downloading messages and needs a mutex - I'm running on the quad-core Galaxy Note 2.
"
k9mail/k-9,closed,text_flowed is not supported,"[Label(name=""enhancement""), Label(name=""help wanted"")]","I'm not sure if this is the right place to post this issue, but `text_flowed` or `format=flowed` doesn't seem to be respected by k9-mail. This makes the formatting of text quite awkward when reading e-mail sent by clients that support this feature (Thunderbird, mutt).

This is probably the same as [issue 6327](https://code.google.com/p/k9mail/issues/detail?id=6327) on Google Code, but since that platform is closing, it's good to have it here. 

Basically, the headers in K9 show:

> Content-Type: text/plain; charset=utf-8

while the headers of the sent message in a different e-mail client will show:

> Content-Type: text/plain; charset=utf-8; format=flowed

I am using version 5.004 from F-Droid.
"
k9mail/k-9,closed,MessageReference class refactor,[],"This one follows last @cketti note on #563 pull request.
I've updated MessageReference and some method calls so it should be an <a href='http://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html'>immutable</a> object,
<a href='http://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html'>following Oracle documentation</a> :
- Have begun with updating MessageReference, while keeping old code functionality
- Next, old constructor calls and direct writes on the object have been updated to use another constructor with parameters
- Then, all MessageReference fields have been set private, and final

I've just one question on last point, this implementation seems to be heavy to use with flag changes;
should it be acceptable to let a setter for MessageReference's flag, as it is not part of the hashcode ?

(I can split into smaller commits if better)
"
k9mail/k-9,open,Add setting to delete messages from the server after download,"[Label(name=""enhancement""), Label(name=""help wanted"")]","I can not find how to delete messages of the server to download
"
k9mail/k-9,closed,Mark message as read on delete,[],
k9mail/k-9,closed,Changelog weblinks are broken,[],"on
https://github.com/k9mail/k-9/wiki/ReleaseNotes#change-logs
->
http://k9mail.org/k-9/changelog_master_branch.xml
and
http://k9mail.org/k-9/changelog_5.0-MAINT_branch.xml
point both to a non-existant URL
"
k9mail/k-9,open,Automatically re-download messages stored in old DB format,[],"Users don't need to know that e.g. PGP/MIME signed messages stored in the old DB format can't be verified. We re-download messages behind their back.

In cases where the original message doesn't exist on the server anymore, we add a special header and do our best to convert it to a proper MIME message.
"
k9mail/k-9,closed,Add support for PGP/MIME encrypted messages with inner PGP/MIME signed part,[],
k9mail/k-9,closed,Display *Encrypted* for encrypted messages in message preview,[],"Especially with PGP inline encrypted messages we don't want to show the base64-encoded encrypted text.
"
k9mail/k-9,closed,Add progress indicator when loading/decrypting/verifying messages,[],"Right now e.g. decrypting can be quite slow. We definitely need some kind of visual progress indicator.
"
k9mail/k-9,closed,Add support for searching in message bodies,[],"With the changed database schema we no longer store message bodies in decoded form in the database.

Instead of decoding messages one by one while searching we should probably use [SQLite's full-text search extensions](http://www.sqlite.org/fts3.html).
"
k9mail/k-9,closed,Add support for composing PGP/MIME messages,[],"We also require some form of UI so the user can select whether to use inline PGP or PGP/MIME.
"
k9mail/k-9,closed,Make sure we only attempt to decrypt PGP/MIME messages,[],"PGP/MIME and S/MIME both use the Content-Type values `multipart/signed` and `multipart/encrypted`. We need to make sure to only attempt to decrypt PGP/MIME parts (check `protocol` parameter)
"
k9mail/k-9,closed,Set correct encryption state in message crypto annotation,[],"Right now we unconditionally set `wasEncrypted` to `false` in `MessageCryptoHelper.handleCryptoOperationSuccess()`.

The information whether a message was encrypted or not needs to come from the crypto provider to account for ""null-encryption"" and other weirdness.
"
k9mail/k-9,closed,Transitivity test for equals() on MessageReferenceTest,[],"Hi,
This is just a little pull request  in order to test the  transitivity of hashcode.
"
k9mail/k-9,closed,Accidental pull request >sorry,[],
k9mail/k-9,closed,"move NetworkType to k9mail-library, use on StoreConfig",[],"I would like to use the StoreConfig interface instead of the 'evil mutable' Account class on the AccountSetupIncoming activity. This merge request will help implement that.
"
k9mail/k-9,closed,Rationalize default ports,[],
k9mail/k-9,closed,Korean(ko) translation,[],
k9mail/k-9,closed,Merge pull request #8 from k9mail/master,[],
k9mail/k-9,closed,MessageReference class : method hashcode() unit tests,[],"Adding some tests for the hashcode() method.

I've tried to use as much as possible existing methods, and to split tests by functionality:
- Two hashcodes from same data should be equal
- Two hashcodes from something with a different accountUuid/folder/Uid should be different
- Hashcodes should be unique : When getting hashcodes from lot of random Objects, there should be as many hashcodes than objects
"
k9mail/k-9,closed,shorten a long method,[],"Similar comments apply as https://github.com/k9mail/k-9/pull/561
"
k9mail/k-9,closed,reduce duplication in AccountSetupAccountType,[],"I want to reuse as much of this code as possible in AccountCreator (see https://github.com/k9mail/k-9/pull/557) but I want to tidy it first
"
k9mail/k-9,closed,replace AsyncTask with AsyncTaskLoader,[],"Hello, I'm doing research on Android async programming. Some articles (for example [this article](http://bon-app-etit.blogspot.com/2013/04/the-dark-side-of-asynctask.html)) mention that AsyncTask leads to memory leak and losing task result when there's a configuration change (such as orientation change). Android docs recommend [AsyncTaskLoader](http://developer.android.com/reference/android/content/AsyncTaskLoader.html), which avoid the problems in AsyncTask.

I try to replace one AsyncTask with AsyncTaskLoader in k-9 in this pr (you don't have to merge). Do you think AsyncTaskLoader will work better for k-9? Do you want to replace all AsyncTask to AsyncTaskLoader?
"
k9mail/k-9,closed,MessageReference class : method equals() unit tests,[],"Adding some unit tests for MessageReference object, and its equals() method.

I have begin with the possibility that the compared object is not a MessageReference subclass.
And continue next by asserting the two MessageReference compared objects are really equal.
"
k9mail/k-9,closed,IMAP Keywords (rebased),[],"This is a rebase of https://github.com/k9mail/k-9/pull/146 on top of current master, also adding the ability to list the tags in the message view.
I have no intention of merging this as-is, but hopefully this is a good starting point to discuss the functionality.

For example: the actual listing should use a mapping so that the user sees _tags_, not the IMAP keywords themselves ($label1, $label2, some_keyword, ...), but I don't have enough android experience to do this yet.

Please comment.
"
k9mail/k-9,closed,"Remove duplication, enum-ify String",[],"Planning to separate account creation logic from the activity to enable unit testing. Small refactorings first, so you don't have to review a giant pull request.
"
k9mail/k-9,closed,PgpData unit tests,[],"Beginning the crypto package tests.
And starting with PgpData tests (seen as uncovered with Jenkins).

However, I don't know how to integrate the test to the gradle build,
will do it next.
"
k9mail/k-9,closed,Removing unused imports,[],"After code analysis of the project, some unused imports were found.
Starting a new branch to reorganize them,
and beginning with unused java.util.Arrays import in AccountList class.
"
k9mail/k-9,closed,Added placeholder for application ID,[],"Hello, I have modified every occurrence of ""com.fsck.k9"", sometimes it still appears but it is on some .xml files and I don't want to crash everything, I did not changed those files except AndroidManifest. So now every .java class have ""BuildConfig.Application_ID"". If you have any suggestions or some errors which I haven't seen don't hesitate to tell me.
Now, could I delete the previous pull request ? Because this one contains every class's ocurences.
"
k9mail/k-9,closed,removed redundant assignment to AccountSetupBasics,[],"removed null affectation because it’s done automatically
"
k9mail/k-9,closed,replace if condition by switch case,[],"replace if condition by switch case on accountSetupIncomming
"
k9mail/k-9,closed,remove redundant cast (Button),[],"findViewById(R.id.pop) ,
findViewById(R.id.imap) and
findViewById(R.id.webdav)
are Button so it’s redundant to cast it to Button
"
k9mail/k-9,closed,Replace if condition by switch case,[],"Replace if condition by switch case on account setup incoming
"
k9mail/k-9,closed,removed redundant cast on AccountSetupAccountType,[],"removed 3 redundant cast (Button)
"
k9mail/k-9,closed,Rename from Searchfield to SearchField,[],"rename from any other class
"
k9mail/k-9,closed,Enums instead of int/String constants,[],"Tidying Account.

Tests pass but I haven't manually tested this - I suppose you need to save your preferences using a master build, then try to load them using this branch.
"
k9mail/k-9,closed,Account creation minor refactor,[],"Planning to separate account creation logic from the activity to enable unit testing. Small refactorings first, so you don't have to review a giant pull request.
"
k9mail/k-9,closed,"modified AndroidManifest in order to add the placeholder, and in K9.java...",[],"... with APPLICATION_ID.

Hi,
I have modified the manifest, we have tested it on a cellphone and it's still working.
I also imported the settings.jar to respect the K9 convention and every occurrence of ""com.fsck.k9"" is replaced on K9.java by ""BuildConfig.APPLICATION_ID"" 

Should I continue to re-indent all the different class and modify all occurrence of  ""com.fsck.k9"" or not ?

Thanks :)
"
k9mail/k-9,closed,re-correcting  String glitch by changing layout-height attribute,[],"According to https://github.com/k9mail/k-9/pull/541
I have made some modifications.
Besides, i have tested the app on my phone.
"
k9mail/k-9,closed,Fixes issue 6703,[],"- onPrepareActionMode must be called before computeBatchDirection
  because computeBatchDirection ends up referencing mMarkAsRead /
  mMarkAsUnread and mFlag / mUnflag which could be null otherwise.
"
k9mail/k-9,closed,Changes on Searchfield,[],"change name of Searchfield to SearchField
Access to value with getValue
"
k9mail/k-9,closed,Correcting french strings and button width to remove a graphic glitch,[],"In french, 
on wizard-setup layout and wizard_welcome layout, the left buttons' strings didn't fit the button.
"
k9mail/k-9,closed,improved string variable in k9 class,[],"We have improved the use of some variables in order to be lighter and maybe more generic
"
k9mail/k-9,closed,Don't throw CertificateValidationException for all SSLExceptions.,[],"POP3 and WEBDAV fixes.

An interrupted connection attempt to the server yields an SSLException
as well, like this:

E/k9      ( 6937): Caused by: javax.net.ssl.SSLHandshakeException: Connection closed by peer
E/k9      ( 6937):      at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
E/k9      ( 6937):      at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:302)
E/k9      ( 6937):      at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:598)
E/k9      ( 6937):      at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:560)
E/k9      ( 6937):      at com.fsck.k9.mail.store.ImapStore$ImapConnection.open(ImapStore.java:2459)

We don't want the user to notify of 'certificate problems' in that case.
Fix it by checking whether the SSLException was actually triggered by a
CertificateException.
"
k9mail/k-9,closed,Improve UI for switching on/off PGP signing and encryption,[],"The Idea is to use the same design language as is used when displaying messages so users get to know what these icons mean.
Also we will add a settings thingy next to it as the next step.
Also cleaned up stuff around legacy PgpData - should be removed completely as @dschuermann suggested - but let's do it in small steps

![output_optimized](https://cloud.githubusercontent.com/assets/111600/5963256/db9d6cb0-a7ea-11e4-9ee7-450d0c5aee17.gif)
"
k9mail/k-9,closed,Reduce MessageCompose LOC,[],"I want to do something in this file - to prepare it I remove some LOC to not be the one that pushed this class over 4000 LOC ;-)
"
k9mail/k-9,closed,Test & Refactor OpenPgpUtils,[],"I think we should talk about the case: Max Mustermann [this is a nothing] afterwards
"
k9mail/k-9,closed,new MessageViewInfo structure (with transitional methods),[],
k9mail/k-9,closed,Update openpgp-api-library to latest version,[],
k9mail/k-9,closed,Fix a typo in Polish translation.,[],"`settings_export_account` is used in the menu that can be activated by long-pressing one account on the main screen. Without this commit, there are two actions named `Ustawienia konta` (`Account settings`), but one of them is actually used to export the settings.
"
k9mail/k-9,closed,Add a color chip to the identity selector in the composer.,[],"Hello.

Thank you for your hard work -- I installed K-9 Mail a little while ago and it has been working really well for me so far.

I've added a color chip to the identity selector in the composer, to make it more obvious which account will be used to send the message. It looks like this:

![New look](https://cloud.githubusercontent.com/assets/404497/5752214/17e46f70-9c2e-11e4-960a-a9458582fbca.png)

I did encounter one issue while adding the color chip: Buttons seem to [have a built-in margin](http://stackoverflow.com/q/17960599/462117) so my first attempt looked something like this:

![broken](https://cloud.githubusercontent.com/assets/404497/5752222/5381705a-9c2e-11e4-82c5-5e4be077c8e8.png)

I resolved this with a -4dp right margin (and 4dp top and bottom margins) on the color chip, but I'm not sure this is the best solution. I didn't see anywhere else in K-9 using negative margins, and it seems like the actual margin wouldn't necessarily be 4dp on all devices (e.g. with different themes, or different versions of Android, or something). Let me know if you'd rather I use a different approach.

In case you were wondering, my motivation for implementing this is to help me deal with an issue I'm having with multiple identities -- I have two email addresses that share an Inbox (one forwards to the other) but for which I need to use separate SMTP configurations (due to Gmail's header-mangling). Currently, I have set this up using two K-9 accounts with the same IMAP server (the second account has everything turned off except the Drafts folder) but different SMTP servers. If I save a draft on the second account and then edit it from the first account, it shows the correct From address. However, if I then send the message, it uses the wrong SMTP server. (Would a pull request to change this behavior be appreciated?) The color chip will help by indicating which account is being used, since the displayed email address is insufficient to determine this.

Thanks.
-nandhp

P.S. I see that `tools/build-beta` was [removed recently](https://github.com/k9mail/k-9/commits/master/tools/build-beta). Is there a new way to compile a parallel-installable development version of K-9?
"
k9mail/k-9,closed,Update greenmail + add more tests,[],"This PR add some integration-style tests for `ImapConnection`. While working on this I found a bug in greenmail (https://github.com/greenmail-mail-test/greenmail/pull/56), hence the dependency on the snapshot version.

I also found some connected test instabilities, fixed by converting some manual threading logic into an AsyncTask:

> The centerpiece of Espresso is its ability to seamlessly synchronize all test operations with the application
> under test. By default, Espresso waits for UI events in the current message queue to process and default
> AsyncTasks\* to complete before it moves on to the next test operation. This should address the majority of 
> application/test synchronization in your application.

https://code.google.com/p/android-test-kit/wiki/EspressoSamples#Using_registerIdlingResource_to_synchronize_with_custom_resource
"
k9mail/k-9,closed,Pgp/mime,[],"current merge
"
k9mail/k-9,closed,Sanitize HTML to remove meta refresh,[],"Using

``` html
<meta http-equiv=""Refresh"" content=""1; URL=http://example.com/"">
```

in a HTML message causes WebView to load the URL in the default browser.

Overriding `WebViewClient.shouldOverrideUrlLoading()` allows us to cancel
loading this URL. Sadly, I found no way to find out whether the method was
called because of a meta refresh or because the user clicked on a link.

So now we're using HtmlCleaner to parse the HTML and remove all ""meta"" elements
containing an ""http-equiv"" attribute with a value of ""refresh"".
"
k9mail/k-9,closed,Make k9mail-library compatible with API level 7,[],"Since we extracted the email handling code into its own module we can also handle API dependencies differently. With some minor changes we could easily support almost all versions of Android, at least for the email/protocol handling parts.

I realise this might be somewhat controversial but just wanted to put it up for discussion.
"
k9mail/k-9,closed,Add Zoho Mail (personal) to providers.xml,[],"Added settings for Zoho Mail personal account (@zoho.com).
"
k9mail/k-9,closed,archive action : Keep folder structure,[],"Hi,

This push request come after #479 

It only contain the option to keep folder structure. There will be another push request for the option ""Mark as read when archived"".

This patch need some tests because I've not tested it again since #479.

Regards,
"
k9mail/k-9,closed,Use correct sub-part of a multipart message when getting text.,[],"946565347a758a0ff239b809a3c4fa6278af962e passed 'this' to
getTextFromPart() which could be a multipart. This caused
all multipart messages to show 'No text' as the body.

Fix it by passing it the correct 'part' that was found.
"
k9mail/k-9,closed,Merge changes from PGP/MIME repository,[],"I feel this is a reasonably stable state of the [PGP/MIME repository](https://github.com/k9mail/k9mail_pgp_mime) that should be merged into master.

This also adds Espresso tests that are unrelated to PGP/MIME.
"
k9mail/k-9,closed,Make sure to keep font meta info on view recycling,[],"Otherwise, the font info will be lost if it's not system default font
"
k9mail/k-9,closed,Gradle as only build system + k9mail library,[],"We decided to use [Gradle as only build system](https://groups.google.com/forum/#!topic/k-9-dev/0ErED-Ia338). So this PR removes support for Ant and Eclipse builds. Also, the directory structure was changed to the Gradle default, so we don't have to manually specify source sets.

In addition to that, the changes from PR #521 have been replicated to extract the 'mail' package into a library project.

For now I want to leave the tests that are run on the JVM in a single project. In the future we probably want to use Robolectric.
"
k9mail/k-9,closed,K9 mail code as plugin,[],"This was the goal of previous refactoring efforts (mainly #516). With all the mail handling code now completely isolated from the app code it is feasible to move it into a separate module, which will ensure the strict separation in the future.

As a nice side-effect it will also make it possible for other apps to easily pull in K9's mail handling code.

Some outstanding issues:
- `TracingPowerManager` should probably not be in the mail package. I couldn't find a good way to isolate this.
- Probably does not build with ant as-is
- Gradle build files need to be streamlined
"
k9mail/k-9,closed,Fix EOLConvertingOutputStream + add test,[],
k9mail/k-9,closed,Pgp/mime,[],"trying to merge current k9 version in our fork with our status in pgp/mime branch
"
k9mail/k-9,closed,Remove K9FragmentActivity,[],"Because it's same with K9Activity now, no need to keep it.

Test Plan:
./gradlew installDebug, and test the MessageList activity
"
k9mail/k-9,closed,Removed useless line,[],
k9mail/k-9,closed,Untangle network code,[],"Don't merge this yet - needs more testing. The basic idea is to separate the network/IMAP/POP and UI / app related concerns.
"
k9mail/k-9,closed,Favor Context over Application,[],"We passed `Application` references in many places where a `Context` is sufficient. This first commit fixes that.

Using `K9.app` introduces unnecessary coupling and makes testing harder. The second commit replaces occurrences of `K9.app` with a `Context` reference where easily possible.

PS: Don't use `K9.app`!
"
k9mail/k-9,closed,Introduce option to hide account color chips,[],"The new option hides the chips in messsage list, message header, folder
list and account list views.
"
k9mail/k-9,closed,Don't throw CertificateValidationException for all SSLExceptions.,[],"An interrupted connection attempt to the server yields an SSLException
as well, like this:

E/k9      ( 6937): Caused by: javax.net.ssl.SSLHandshakeException: Connection closed by peer
E/k9      ( 6937):      at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
E/k9      ( 6937):      at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:302)
E/k9      ( 6937):      at com.android.org.conscrypt.OpenSSLSocketImpl.waitForHandshake(OpenSSLSocketImpl.java:598)
E/k9      ( 6937):      at com.android.org.conscrypt.OpenSSLSocketImpl.getInputStream(OpenSSLSocketImpl.java:560)
E/k9      ( 6937):      at com.fsck.k9.mail.store.ImapStore$ImapConnection.open(ImapStore.java:2459)

We don't want the user to notify of 'certificate problems' in that case.
Fix it by checking whether the SSLException was actually triggered by a
CertificateException.
"
k9mail/k-9,closed,Lollipop lock screen notifications,[],"Add support for lock screen notifications on Lollipop.

Vectorize the icons used there (hooray Illustrator).
Bump SDK and support-v4 to 21.0 to get lock screen notification API support.

No changed for notifications on pre-Lollipop devices.
"
k9mail/k-9,closed,"fixed wrong translation for ""sign""",[],
k9mail/k-9,closed,Open attachment improvements,[],"Best practice to whitelist allowed characters rather than trying to blacklist bad ones
"
k9mail/k-9,closed,Open attachment improvements,[],"The objective of this branch is to improve the success rate when opening attachments.
- We now use Android's intent resolution mechanism to find out whether the MIME type specified in the message or one inferred from the attachment's file extension matches more intent filters, i.e. more apps claim to be able to open/display the attachment.
- Some apps only support the file: scheme in their intent filters. So if the above mechanism reports no supported apps, we try again using a (dummy) file:// URI. If that resolves to an app we write the attachment to a temporary directory and create an intent using a file:// URI pointing to the temporary file. This should allow opening all attachments that previously only opened when saving them first.
- We now also append the file name to content:// URIs to allow intent filters to match by file extension
- Previously, an attachment saved to storage was automatically opened when the media scanner recognized it as supported content, e.g. an image. This functionality was added because of the fact that ""Open"" often didn't work. Now that it does, ""Save"" no longer tries to opens saved attachments.

In addition to these features a lot of the code was refactored to hopefully make it more readable.
"
k9mail/k-9,closed,This PR fixes a test in the TrustManagerFactoryTest,[],"Replaces expired linux.com certificate with a new linuxfoundation.org certificate. 
Tests can be verified from commandline by running `./gradlew connectedAndroidTest`
"
k9mail/k-9,closed,"""Erneut senden"" missverständlich",[],"Ich hatte öfters das Problem, dass Mails wegen schlechter Internet-Verbindung nicht gesendet werden konnten. Wähle ich die nicht versandte Nachricht dann im Postausgang aus, kann ich sie ""erneut senden"". Ich dachte (im Kontext meines Problems), das würde einfach die selbe Mail erneut senden, mit der es ein Problem gab. In Wirklichkeit wird aber eine neue Nachricht mit dem gleichen Inhalt angelegt. In dieser neuen Übersetzung habe ich mich an Bezeichnung eben dieser Funktion in Thunderbird orientiert: ""Als neu bearbeiten""
"
k9mail/k-9,closed,Remove the coupling of Client Certificates and Auth Type External for SMTP,[],"Currently client certificates can only be used in combination with the EXTERNAL authentication mechanism. This pull request removes this coupling as there is no necessity for it. The EXTERNAL authentication mechanism could even be used without STARTTLS or SSL/TLS (see e.g. https://tools.ietf.org/html/rfc4422#appendix-A). However, doing so would be a security problem comparable to a cleartext username+password transmission.

With this pull request client certificates can be used in combination with every authentication mechanism present in k9. They can also be used without an authentication mechanism.
Also it is possible to use the EXTERNAL authentication mechanism with an empty string now.

There are also other people who see the need for this: https://groups.google.com/forum/#!topic/k-9-mail/FuUP7oSwYe0
"
k9mail/k-9,closed,Get more dependencies from jCenter,[],
k9mail/k-9,closed,Resolve tls issues 5.0,[],"Backported from master to 5.0 (see PR as #503).
"
k9mail/k-9,closed,Resolve tls issues,"[Label(name=""security"")]","I recommend these commits be reverted for the moment.

I can confirm they cause a problem with imap.secureserver.net (godaddy).  I suspect its the combination of the commits that is causing problems.  One connection may use TLS 1.2.  The session is saved & reused for the next connection, but the next server only talks TLS 1.0 and complains of a wrong protocol version.  Either commit by itself does not seem to cause the problem.

Ultimately, I think we should probably turn these into optional settings.  Thunderbird uses TLS 1.0, so that behavior should probably remain the default.  They also use session caching, but I've seen where they are considering making it optional for those concerned about certain privacy issues.
"
k9mail/k-9,closed,add gravatar support - closes #4876,[],"add gravatar support - about the indent changes in there - I was running astyle with the parameters from:
https://github.com/k9mail/k-9/wiki/CodeStyle - somehow this style is not really enforced - I had a lot of reformatted files after running:

```
➜  k-9 git:(master) ✗ astyle --style=java --indent=spaces=4 --brackets=attach --convert-tabs   --unpad-paren --pad-header --pad-oper --suffix=none --recursive ""src/com/fsck/k9/*.java""
------------------------------------------------------------
Directory  src/com/fsck/k9/*.java
------------------------------------------------------------
Formatted  Account.java
Unchanged  AccountStats.java
Unchanged  BaseAccount.java
Unchanged  Clock.java
Unchanged  EmailAddressAdapter.java
Unchanged  EmailAddressValidator.java
Unchanged  FontSizes.java
Unchanged  Identity.java
Formatted  K9.java
Unchanged  NotificationSetting.java
Formatted  PRNGFixes.java
Unchanged  Preferences.java
Formatted  Throttle.java
Unchanged  activity/AccountList.java
Formatted  activity/Accounts.java
Formatted  activity/ActivityListener.java
Formatted  activity/ChooseFolder.java
Unchanged  activity/ChooseIdentity.java
Formatted  activity/ColorPickerDialog.java
Unchanged  activity/ConfirmationDialog.java
Unchanged  activity/EditIdentity.java
Unchanged  activity/EmailAddressList.java
Formatted  activity/FolderInfoHolder.java
Formatted  activity/FolderList.java
Unchanged  activity/FolderListFilter.java
Formatted  activity/InsertableHtmlContent.java
Unchanged  activity/K9Activity.java
Formatted  activity/K9ActivityCommon.java
Unchatted  activity/MessageList.java
Unchanged  activity/MessageReference.java
Formatted  activity/NotificationDeleteConfirmation.java
Unchanged  activity/Search.java
Formatted  activity/UnreadWidgetConfiguration.java
Formatted  activity/UpgradeDatabases.java
Unchanged  activity/loader/AttachmentContentLoader.java
Formatted  activity/loader/AttachmentInfoLoader.java
Formatted  activity/misc/Attachment.java
Formatted  activity/misc/ContactPictureLoader.java
Formatted  activity/misc/ExtendedAsyncTask.java
Unchanged  activity/misc/NonConfigurationInstance.java
Formatted  activity/misc/SwipeGestureDetector.java
Formatted  activity/setup/AccountSettings.java
Unchanged  activity/setup/AccountSetupAccountType.java
Formatted  activity/setup/AccountSetupBasics.java
Formatted  activity/setup/AccountSetupCheckSettings.java
Unchanged  activity/setup/AccountSetupComposition.java
Formatted  activity/setup/AccountSetupIncoming.java
Unchanged  activity/setup/AccountSetupNames.java
Unchanged  activity/setup/AccountSetupOptions.java
Formatted  activity/setup/AccountSetupOutgoing.java
Unchanged  activity/setup/FolderSettings.java
Formatted  activity/setup/FontSizeSettings.java
Formatted  activity/setup/Prefs.java
Formatted  activity/setup/SliderPreference.java
Unchanged  activity/setup/SpinnerOption.java
Formatted  activity/setup/WelcomeMessage.java
Formatted  cache/EmailProviderCache.java
Formatted  cache/EmailProviderCacheCursor.java
Unchanged  controller/MessageRemovalListener.java
Unchanged  controller/MessageRetrievalListener.java
Formatted  controller/MessagingController.java
Formatted  controller/MessagingControllerPushReceiver.java
Formatted  controller/MessagingListener.java
Formatted  crypto/Apg.java
Formatted  crypto/CryptoHelper.java
Unchanged  crypto/CryptoProvider.java
Formatted  crypto/None.java
Unchanged  crypto/OpenPgpApiHelper.java
Formatted  crypto/PgpData.java
Formatted  fragment/ConfirmationDialogFragment.java
Formatted  fragment/MessageListFragment.java
Formatted  fragment/MessageViewFragment.java
Unchanged  fragment/ProgressDialogFragment.java
Formatted  helper/ClipboardManager.java
Unchanged  helper/ContactItem.java
Formatted  helper/ContactPicture.java
Formatted  helper/Contacts.java
Unchanged  helper/FileBrowserHelper.java
Formatted  helper/HtmlConverter.java
Unchanged  helper/IdentityHelper.java
Unchanged  helper/MediaScannerNotifier.java
Unchanged  helper/MergeCursor.java
Formatted  helper/MergeCursorWithUniqueId.java
Formatted  helper/MessageHelper.java
Formatted  helper/Regex.java
Unchanged  helper/SizeFormatter.java
Formatted  helper/StringUtils.java
Formatted  helper/Utility.java
Unchanged  helper/power/TracingPowerManager.java
Formatted  mail/Address.java
Formatted  mail/AuthType.java
Unchanged  mail/Authentication.java
Unchanged  mail/AuthenticationFailedException.java
Unchanged  mail/Body.java
Unchanged  mail/BodyPart.java
Formatted  mail/CertificateChainException.java
Formatted  mail/CertificateValidationException.java
Unchanged  mail/CompositeBody.java
Formatted  mail/ConnectionSecurity.java
Unchanged  mail/FetchProfile.java
Unchanged  mail/Flag.java
Formatted  mail/Folder.java
Unchanged  mail/Message.java
Unchanged  mail/MessagingException.java
Formatted  mail/Multipart.java
Unchanged  mail/Part.java
Unchanged  mail/PushReceiver.java
Unchanged  mail/Pusher.java
Formatted  mail/ServerSettings.java
Formatted  mail/Store.java
Unchanged  mail/Transport.java
Unchanged  mail/filter/Base64.java
Unchanged  mail/filter/Base64OutputStream.java
Unchanged  mail/filter/CountingOutputStream.java
Unchanged  mail/filter/EOLConvertingOutputStream.java
Unchanged  mail/filter/FixedLengthInputStream.java
Unchanged  mail/filter/Hex.java
Unchanged  mail/filter/LineWrapOutputStream.java
Unchanged  mail/filter/PeekableInputStream.java
Unchanged  mail/filter/SmtpDataStuffing.java
Formatted  mail/internet/BinaryTempFileBody.java
Formatted  mail/internet/BinaryTempFileMessageBody.java
Unchanged  mail/internet/DecoderUtil.java
Unchanged  mail/internet/EncoderUtil.java
Unchanged  mail/internet/Iso2022JpToShiftJisInputStream.java
Formatted  mail/internet/MimeBodyPart.java
Unchanged  mail/internet/MimeHeader.java
Formatted  mail/internet/MimeMessage.java
Unchanged  mail/internet/MimeMultipart.java
Formatted  mail/internet/MimeUtility.java
Unchanged  mail/internet/TextBody.java
Formatted  mail/internet/TextBodyBuilder.java
Formatted  mail/store/ImapResponseParser.java
Formatted  mail/store/ImapStore.java
Formatted  mail/store/LocalStore.java
Formatted  mail/store/LockableDatabase.java
Formatted  mail/store/Pop3Store.java
Unchanged  mail/store/StorageManager.java
Unchanged  mail/store/UnavailableAccountException.java
Unchanged  mail/store/UnavailableStorageException.java
Formatted  mail/store/WebDavSocketFactory.java
Formatted  mail/store/WebDavStore.java
Unchanged  mail/store/imap/ImapUtility.java
Formatted  mail/transport/SmtpTransport.java
Unchanged  mail/transport/WebDavTransport.java
Unchanged  mail/transport/imap/ImapSettings.java
Formatted  net/ssl/KeyChainKeyManager.java
Formatted  net/ssl/SslSessionCacheHelper.java
Formatted  net/ssl/TrustManagerFactory.java
Formatted  net/ssl/TrustedSocketFactory.java
Formatted  preferences/AccountSettings.java
Formatted  preferences/CheckBoxListPreference.java
Unchanged  preferences/Editor.java
Formatted  preferences/FolderSettings.java
Formatted  preferences/GlobalSettings.java
Formatted  preferences/IdentitySettings.java
Formatted  preferences/Settings.java
Formatted  preferences/SettingsExporter.java
Unchanged  preferences/SettingsImportExportException.java
atted  activity/MessageList.java
Unchanged  activity/MessageReference.java
Formatted  activity/NotificationDeleteConfirmation.java
Unchanged  activity/Search.java
Formatted  activity/UnreadWidgetConfiguration.java
Formatted  activity/UpgradeDatabases.java
Unchanged  activity/loader/AttachmentContentLoader.java
Formatted  activity/loader/AttachmentInfoLoader.java
Formatted  activity/misc/Attachment.java
Formatted  activity/misc/ContactPictureLoader.java
Formatted  activity/misc/ExtendedAsyncTask.java
Unchanged  activity/misc/NonConfigurationInstance.java
Formatted  activity/misc/SwipeGestureDetector.java
Formatted  activity/setup/AccountSettings.java
Unchanged  activity/setup/AccountSetupAccountType.java
Formatted  activity/setup/AccountSetupBasics.java
Formatted  activity/setup/AccountSetupCheckSettings.java
Unchanged  activity/setup/AccountSetupComposition.java
Formatted  activity/setup/AccountSetupIncoming.java
Unchanged  activity/setup/AccountSetupNames.java
Unchanged  activity/setup/AccountSetupOptions.java
Formatted  activity/setup/AccountSetupOutgoing.java
Unchanged  activity/setup/FolderSettings.java
Formatted  activity/setup/FontSizeSettings.java
Formatted  activity/setup/Prefs.java
Formatted  activity/setup/SliderPreference.java
Unchanged  activity/setup/SpinnerOption.java
Formatted  activity/setup/WelcomeMessage.java
Formatted  cache/EmailProviderCache.java
Formatted  cache/EmailProviderCacheCursor.java
Unchanged  controller/MessageRemovalListener.java
Unchanged  controller/MessageRetrievalListener.java
Formatted  controller/MessagingController.java
Formatted  controller/MessagingControllerPushReceiver.java
Formatted  controller/MessagingListener.java
Formatted  crypto/Apg.java
Formatted  crypto/CryptoHelper.java
Unchanged  crypto/CryptoProvider.java
Formatted  crypto/None.java
Unchanged  crypto/OpenPgpApiHelper.java
Formatted  crypto/PgpData.java
Formatted  fragment/ConfirmationDialogFragment.java
Formatted  fragment/MessageListFragment.java
Formatted  fragment/MessageViewFragment.java
Unchanged  fragment/ProgressDialogFragment.java
Formatted  helper/ClipboardManager.java
Unchanged  helper/ContactItem.java
Formatted  helper/ContactPicture.java
Formatted  helper/Contacts.java
Unchanged  helper/FileBrowserHelper.java
Formatted  helper/HtmlConverter.java
Unchanged  helper/IdentityHelper.java
Unchanged  helper/MediaScannerNotifier.java
Unchanged  helper/MergeCursor.java
Formatted  helper/MergeCursorWithUniqueId.java
Formatted  helper/MessageHelper.java
Formatted  helper/Regex.java
Unchanged  helper/SizeFormatter.java
Formatted  helper/StringUtils.java
Formatted  helper/Utility.java
Unchanged  helper/power/TracingPowerManager.java
Formatted  mail/Address.java
Formatted  mail/AuthType.java
Unchanged  mail/Authentication.java
Unchanged  mail/AuthenticationFailedException.java
Unchanged  mail/Body.java
Unchanged  mail/BodyPart.java
Formatted  mail/CertificateChainException.java
Formatted  mail/CertificateValidationException.java
Unchanged  mail/CompositeBody.java
Formatted  mail/ConnectionSecurity.java
Unchanged  mail/FetchProfile.java
Unchanged  mail/Flag.java
Formatted  mail/Folder.java
Unchanged  mail/Message.java
Unchanged  mail/MessagingException.java
Formatted  mail/Multipart.java
Unchanged  mail/Part.java
Unchanged  mail/PushReceiver.java
Unchanged  mail/Pusher.java
Formatted  mail/ServerSettings.java
Formatted  mail/Store.java
Unchanged  mail/Transport.java
Unchanged  mail/filter/Base64.java
Unchanged  mail/filter/Base64OutputStream.java
Unchanged  mail/filter/CountingOutputStream.java
Unchanged  mail/filter/EOLConvertingOutputStream.java
Unchanged  mail/filter/FixedLengthInputStream.java
Unchanged  mail/filter/Hex.java
Unchanged  mail/filter/LineWrapOutputStream.java
Unchanged  mail/filter/PeekableInputStream.java
Unchanged  mail/filter/SmtpDataStuffing.java
Formatted  mail/internet/BinaryTempFileBody.java
Formatted  mail/internet/BinaryTempFileMessageBody.java
Unchanged  mail/internet/DecoderUtil.java
Unchanged  mail/internet/EncoderUtil.java
Unchanged  mail/internet/Iso2022JpToShiftJisInputStream.java
Formatted  mail/internet/MimeBodyPart.java
Unchanged  mail/internet/MimeHeader.java
Formatted  mail/internet/MimeMessage.java
Unchanged  mail/internet/MimeMultipart.java
Formatted  mail/internet/MimeUtility.java
Unchanged  mail/internet/TextBody.java
Formatted  mail/internet/TextBodyBuilder.java
Formatted  mail/store/ImapResponseParser.java
Formatted  mail/store/ImapStore.java
Formatted  mail/store/LocalStore.java
Formatted  mail/store/LockableDatabase.java
Formatted  mail/store/Pop3Store.java
Unchanged  mail/store/StorageManager.java
Unchanged  mail/store/UnavailableAccountException.java
Unchanged  mail/store/UnavailableStorageException.java
Formatted  mail/store/WebDavSocketFactory.java
Formatted  mail/store/WebDavStore.java
Unchanged  mail/store/imap/ImapUtility.java
Formatted  mail/transport/SmtpTransport.java
Unchanged  mail/transport/WebDavTransport.java
Unchanged  mail/transport/imap/ImapSettings.java
Formatted  net/ssl/KeyChainKeyManager.java
Formatted  net/ssl/SslSessionCacheHelper.java
Formatted  net/ssl/TrustManagerFactory.java
Formatted  net/ssl/TrustedSocketFactory.java
Formatted  preferences/AccountSettings.java
Formatted  preferences/CheckBoxListPreference.java
Unchanged  preferences/Editor.java
Formatted  preferences/FolderSettings.java
Formatted  preferences/GlobalSettings.java
Formatted  preferences/IdentitySettings.java
Formatted  preferences/Settings.java
Formatted  preferences/SettingsExporter.java
Unchanged  preferences/SettingsImportExportException.java
Formatted  preferences/SettingsImporter.java
Formatted  preferences/Storage.java
Unchanged  preferences/TimePickerPreference.java
Formatted  provider/AttachmentProvider.java
Formatted  provider/EmailProvider.java
Formatted  provider/MessageProvider.java
Formatted  provider/UnreadWidgetProvider.java
Unchanged  remotecontrol/AccountReceiver.java
Unchanged  remotecontrol/K9AccountReceptor.java
Unchanged  remotecontrol/K9RemoteControl.java
Formatted  search/ConditionsTreeNode.java
Formatted  search/LocalSearch.java
Formatted  search/SearchAccount.java
Formatted  search/SearchSpecification.java
Formatted  search/SqlQueryBuilder.java
Formatted  security/LocalKeyStore.java
Unchanged  service/BootReceiver.java
Unchanged  service/CoreReceiver.java
Formatted  service/CoreService.java
Formatted  service/DatabaseUpgradeService.java
Formatted  service/MailService.java
Formatted  service/NotificationActionService.java
Unchanged  service/PollService.java
Unchanged  service/PushService.java
Unchanged  service/RemoteControlReceiver.java
Unchanged  service/RemoteControlService.java
Unchanged  service/ShutdownReceiver.java
Formatted  service/SleepService.java
Unchanged  service/StorageGoneReceiver.java
Unchanged  service/StorageReceiver.java
Formatted  view/AttachmentView.java
Formatted  view/ClientCertificateSpinner.java
Unchanged  view/ColorChip.java
Formatted  view/FoldableLinearLayout.java
Unchanged  view/K9PullToRefreshListView.java
Unchanged  view/MessageCryptoView.java
Formatted  view/MessageHeader.java
Formatted  view/MessageOpenPgpView.java
Formatted  view/MessageTitleView.java
Formatted  view/MessageWebView.java
Formatted  view/NonLockingScrollView.java
Formatted  view/RigidWebView.java
Formatted  view/SingleMessageView.java
Unchanged  view/ViewSwitcher.java
Formatted  preferences/SettingsImporter.java
Formatted  preferences/Storage.java
Unchanged  preferences/TimePickerPreference.java
Formatted  provider/AttachmentProvider.java
Formatted  provider/EmailProvider.java
Formatted  provider/MessageProvider.java
Formatted  provider/UnreadWidgetProvider.java
Unchanged  remotecontrol/AccountReceiver.java
Unchanged  remotecontrol/K9AccountReceptor.java
Unchanged  remotecontrol/K9RemoteControl.java
Formatted  search/ConditionsTreeNode.java
Formatted  search/LocalSearch.java
Formatted  search/SearchAccount.java
Formatted  search/SearchSpecification.java
Formatted  search/SqlQueryBuilder.java
Formatted  security/LocalKeyStore.java
Unchanged  service/BootReceiver.java
Unchanged  service/CoreReceiver.java
Formatted  service/CoreService.java
Formatted  service/DatabaseUpgradeService.java
Formatted  service/MailService.java
Formatted  service/NotificationActionService.java
Unchanged  service/PollService.java
Unchanged  service/PushService.java
Unchanged  service/RemoteControlReceiver.java
Unchanged  service/RemoteControlService.java
Unchanged  service/ShutdownReceiver.java
Formatted  service/SleepService.java
Unchanged  service/StorageGoneReceiver.java
Unchanged  service/StorageReceiver.java
Formatted  view/AttachmentView.java
Formatted  view/ClientCertificateSpinner.java
Unchanged  view/ColorChip.java
Formatted  view/FoldableLinearLayout.java
Unchanged  view/K9PullToRefreshListView.java
Unchanged  view/MessageCryptoView.java
Formatted  view/MessageHeader.java
Formatted  view/MessageOpenPgpView.java
Formatted  view/MessageTitleView.java
Formatted  view/MessageWebView.java
Formatted  view/NonLockingScrollView.java
Formatted  view/RigidWebView.java
Formatted  view/SingleMessageView.java
Unchanged  view/ViewSwitcher.java
anged  activity/K9FragmentActivity.java
Formatted  activity/K9ListActivity.java
Unchanged  activity/K9PreferenceActivity.java
Unchanged  activity/LauncherShortcuts.java
Unchanged  activity/ManageIdentities.java
Formatted  activity/MessageCompose.java
Unchanged  activity/MessageInfoHolder.java
Formatted  activity/MessageList.java
Unchanged  activity/MessageReference.java
Formatted  activity/NotificationDeleteConfirmation.java
Unchanged  activity/Search.java
Formatted  activity/UnreadWidgetConfiguration.java
Formatted  activity/UpgradeDatabases.java
Unchanged  activity/loader/AttachmentContentLoader.java
Formatted  activity/loader/AttachmentInfoLoader.java
Formatted  activity/misc/Attachment.java
Formatted  activity/misc/ContactPictureLoader.java
Formatted  activity/misc/ExtendedAsyncTask.java
Unchanged  activity/misc/NonConfigurationInstance.java
Formatted  activity/misc/SwipeGestureDetector.java
Formatted  activity/setup/AccountSettings.java
Unchanged  activity/setup/AccountSetupAccountType.java
Formatted  activity/setup/AccountSetupBasics.java
Formatted  activity/setup/AccountSetupCheckSettings.java
Unchanged  activity/setup/AccountSetupComposition.java
Formatted  activity/setup/AccountSetupIncoming.java
Unchanged  activity/setup/AccountSetupNames.java
Unchanged  activity/setup/AccountSetupOptions.java
Formatted  activity/setup/AccountSetupOutgoing.java
Unchanged  activity/setup/FolderSettings.java
Formatted  activity/setup/FontSizeSettings.java
Formatted  activity/setup/Prefs.java
Formatted  activity/setup/SliderPreference.java
Unchanged  activity/setup/SpinnerOption.java
Formatted  activity/setup/WelcomeMessage.java
Formatted  cache/EmailProviderCache.java
Formatted  cache/EmailProviderCacheCursor.java
Unchanged  controller/MessageRemovalListener.java
Unchanged  controller/MessageRetrievalListener.java
Formatted  controller/MessagingController.java
Formatted  controller/MessagingControllerPushReceiver.java
Formatted  controller/MessagingListener.java
Formatted  crypto/Apg.java
Formatted  crypto/CryptoHelper.java
Unchanged  crypto/CryptoProvider.java
Formatted  crypto/None.java
Unchanged  crypto/OpenPgpApiHelper.java
Formatted  crypto/PgpData.java
Formatted  fragment/ConfirmationDialogFragment.java
Formatted  fragment/MessageListFragment.java
Formatted  fragment/MessageViewFragment.java
Unchanged  fragment/ProgressDialogFragment.java
Formatted  helper/ClipboardManager.java
Unchanged  helper/ContactItem.java
Formatted  helper/ContactPicture.java
Formatted  helper/Contacts.java
Unchanged  helper/FileBrowserHelper.java
Formatted  helper/HtmlConverter.java
Unchanged  helper/IdentityHelper.java
Unchanged  helper/MediaScannerNotifier.java
Unchanged  helper/MergeCursor.java
Formatted  helper/MergeCursorWithUniqueId.java
Formatted  helper/MessageHelper.java
Formatted  helper/Regex.java
Unchanged  helper/SizeFormatter.java
Formatted  helper/StringUtils.java
Formatted  helper/Utility.java
Unchanged  helper/power/TracingPowerManager.java
Formatted  mail/Address.java
Formatted  mail/AuthType.java
Unchanged  mail/Authentication.java
Unchanged  mail/AuthenticationFailedException.java
Unchanged  mail/Body.java
Unchanged  mail/BodyPart.java
Formatted  mail/CertificateChainException.java
Formatted  mail/CertificateValidationException.java
Unchanged  mail/CompositeBody.java
Formatted  mail/ConnectionSecurity.java
Unchanged  mail/FetchProfile.java
Unchanged  mail/Flag.java
Formatted  mail/Folder.java
Unchanged  mail/Message.java
Unchanged  mail/MessagingException.java
Formatted  mail/Multipart.java
Unchanged  mail/Part.java
Unchanged  mail/PushReceiver.java
Unchanged  mail/Pusher.java
Formatted  mail/ServerSettings.java
Formatted  mail/Store.java
Unchanged  mail/Transport.java
Unchanged  mail/filter/Base64.java
Unchanged  mail/filter/Base64OutputStream.java
Unchanged  mail/filter/CountingOutputStream.java
Unchanged  mail/filter/EOLConvertingOutputStream.java
Unchanged  mail/filter/FixedLengthInputStream.java
Unchanged  mail/filter/Hex.java
Unchanged  mail/filter/LineWrapOutputStream.java
Unchanged  mail/filter/PeekableInputStream.java
Unchanged  mail/filter/SmtpDataStuffing.java
Formatted  mail/internet/BinaryTempFileBody.java
Formatted  mail/internet/BinaryTempFileMessageBody.java
Unchanged  mail/internet/DecoderUtil.java
Unchanged  mail/internet/EncoderUtil.java
Unchanged  mail/internet/Iso2022JpToShiftJisInputStream.java
Formatted  mail/internet/MimeBodyPart.java
Unchanged  mail/internet/MimeHeader.java
Formatted  mail/internet/MimeMessage.java
Unchanged  mail/internet/MimeMultipart.java
Formatted  mail/internet/MimeUtility.java
Unchanged  mail/internet/TextBody.java
Formatted  mail/internet/TextBodyBuilder.java
Formatted  mail/store/ImapResponseParser.java
Formatted  mail/store/ImapStore.java
Formatted  mail/store/LocalStore.java
Formatted  mail/store/LockableDatabase.java
Formatted  mail/store/Pop3Store.java
Unchanged  mail/store/StorageManager.java
Unchanged  mail/store/UnavailableAccountException.java
Unchanged  mail/store/UnavailableStorageException.java
Formatted  mail/store/WebDavSocketFactory.java
Formatted  mail/store/WebDavStore.java
Unchanged  mail/store/imap/ImapUtility.java
Formatted  mail/transport/SmtpTransport.java
Unchanged  mail/transport/WebDavTransport.java
Unchanged  mail/transport/imap/ImapSettings.java
Formatted  net/ssl/KeyChainKeyManager.java
Formatted  net/ssl/SslSessionCacheHelper.java
Formatted  net/ssl/TrustManagerFactory.java
Formatted  net/ssl/TrustedSocketFactory.java
Formatted  preferences/AccountSettings.java
Formatted  preferences/CheckBoxListPreference.java
Unchanged  preferences/Editor.java
Formatted  preferences/FolderSettings.java
Formatted  preferences/GlobalSettings.java
Formatted  preferences/IdentitySettings.java
Formatted  preferences/Settings.java
Formatted  preferences/SettingsExporter.java
Unchanged  preferences/SettingsImportExportException.java
Formatted  preferences/SettingsImporter.java
Formatted  preferences/Storage.java
Unchanged  preferences/TimePickerPreference.java
Formatted  provider/AttachmentProvider.java
Formatted  provider/EmailProvider.java
Formatted  provider/MessageProvider.java
Formatted  provider/UnreadWidgetProvider.java
Unchanged  remotecontrol/AccountReceiver.java
Unchanged  remotecontrol/K9AccountReceptor.java
Unchanged  remotecontrol/K9RemoteControl.java
Formatted  search/ConditionsTreeNode.java
Formatted  search/LocalSearch.java
Formatted  search/SearchAccount.java
Formatted  search/SearchSpecification.java
Formatted  search/SqlQueryBuilder.java
Formatted  security/LocalKeyStore.java
Unchanged  service/BootReceiver.java
Unchanged  service/CoreReceiver.java
Formatted  service/CoreService.java
Formatted  service/DatabaseUpgradeService.java
Formatted  service/MailService.java
Formatted  service/NotificationActionService.java
Unchanged  service/PollService.java
Unchanged  service/PushService.java
Unchanged  service/RemoteControlReceiver.java
Unchanged  service/RemoteControlService.java
Unchanged  service/ShutdownReceiver.java
Formatted  service/SleepService.java
Unchanged  service/StorageGoneReceiver.java
Unchanged  service/StorageReceiver.java
Formatted  view/AttachmentView.java
Formatted  view/ClientCertificateSpinner.java
Unchanged  view/ColorChip.java
Formatted  view/FoldableLinearLayout.java
Unchanged  view/K9PullToRefreshListView.java
Unchanged  view/MessageCryptoView.java
Formatted  view/MessageHeader.java
Formatted  view/MessageOpenPgpView.java
Formatted  view/MessageTitleView.java
Formatted  view/MessageWebView.java
Formatted  view/NonLockingScrollView.java
Formatted  view/RigidWebView.java
Formatted  view/SingleMessageView.java
Unchanged  view/ViewSwitcher.java
```
"
k9mail/k-9,closed,Navigation drawer,[],"I was using K9mail with another project of mine, and while I was doing that I managed to add a navigation drawer to K9mail. Currently, I found three bugs in my implementation, when you long press one of the accounts, the ""account"" variable returns null in clear pending actions, making it so a dialog does not show. Additionally, clicking on a new email notification opens a blank message view. The reason this happens is because the BroadcastListener is broadcasted only when the message is received, and not when the notification is clicked. I don't know where the BroadcastListener is called so I don't know how to fix it. Lastly, the third error, which happens only when there is more then one account, is that when you click on one of the special accounts (unified inbox…), then it force closes as getStats returns null since context is not available. I had to use CommonWare's MergeAdapter library in order to make it work.

Here's some screenshots: https://drive.google.com/folderview?id=0BzHuKxRVmL4Fc0NPdGRxbUdTelE&usp=sharing
"
k9mail/k-9,closed,UI Overhaul,[],"Has been tested pretty thoroughly, looks a lot less cluttered with a much more ""appealing"" (in my opinion) color scheme, using colors from aosp contact icon colors. This is the previous Navigation Drawer/UI Overhaul commit without the navigation drawer part. The changes are all xml (except for some changes to some color integers) so nothing should be broken, and after testing it, it seems like nothing is broken

A picture equals a thousand words, so here's some screenshots: https://drive.google.com/folderview?id=0BzHuKxRVmL4Fc0NPdGRxbUdTelE&usp=sharing
"
k9mail/k-9,closed,Remove APG legacy interface,[],"This gets rid of the APG legacy interface, including the permission that was necessary to access APG.

Sadly, the new interface doesn't support the auto-sign and auto-encrypt options. I hope someone volunteers to put this back in soon.
"
k9mail/k-9,closed,Manifest fixes,[],"Don't expose functionality that is only used internally.

I briefly tested the changed version to make sure the affected broadcasts still work locally. But I'd appreciate a quick sanity check by a second pair of eyes.
"
k9mail/k-9,closed,Navigation Drawer in MessageList / UI Overhaul,[],"I was using K9mail with another project of mine, and while I was doing that I managed to add a navigation drawer to K9mail, as well as a number of UI tweaks I thought you guys might enjoy (looks a lot cleaner now, less cluttered, in my opinion). Currently, I found three bugs in my implementation, when you long press one of the accounts, the ""account"" variable returns null in recreate data, making it so a dialog does not show. Additionally, clicking on a new email notification opens a blank message view. The reason this happens is because the BroadcastListener is broadcasted only when the message is received, and not when the notification is clicked. I don't know where the BroadcastListener is called so I don't know how to fix it. Lastly, the third error, which happens only when there is more then one account, is that when you click on one of the special accounts (unified inbox…), then it force closes as getStats returns null since context is not available. I had to use CommonWare's MergeAdapter library in order to make it work. The UI changes are purely xml, except for changes to the colors in Account.java and ContactPictureLoader.java so do what those what you want.

Here's some screenshots: https://drive.google.com/folderview?id=0BzHuKxRVmL4Fc0NPdGRxbUdTelE&usp=sharing

Also sorry this is the third pull request, I had some problems with git before and I had to delete the last branch.
"
k9mail/k-9,closed,Navigation Drawer in MessageList / UI Overhaul,[],"I was using K9mail with another project of mine, and while I was doing that I managed to add a navigation drawer to K9mail, as well as a number of UI tweaks I thought you guys might enjoy (looks a lot cleaner now, less cluttered, in my opinion). Currently, I found three bugs in my implementation, when you long press one of the accounts, the ""account"" variable returns null in recreate data, making it so a dialog does not show. Additionally, clicking on a new email notification opens a blank message view. The reason this happens is because the BroadcastListener is broadcasted only when the message is received, and not when the notification is clicked. I don't know where the BroadcastListener is called so I don't know how to fix it. Lastly, the third error, which happens only when there is more then one account, is that when you click on one of the special accounts (unified inbox…), then it force closes as getStats returns null since context is not available. I had to use CommonWare's MergeAdapter library in order to make it work. The UI changes are purely xml, so do what those what you want.

Here's some screenshots: https://drive.google.com/folderview?id=0BzHuKxRVmL4Fc0NPdGRxbUdTelE&usp=sharing
"
k9mail/k-9,closed,Navigation Drawer in MessageList / UI Overhaul,[],"I was using K9mail with another project of mine, and while I was doing that I managed to add a navigation drawer to K9mail, as well as a number of UI tweaks I thought you guys might enjoy (looks a lot cleaner now, less cluttered, in my opinion). Currently, I found three bugs in my implementation, when you long press one of the accounts, the ""account"" variable returns null in recreate data, making it so a dialog does not show. Additionally, clicking on a new email notification opens a blank message view. The reason this happens is because the BroadcastListener is broadcasted only when the message is received, and not when the notification is clicked. I don't know where the BroadcastListener is called so I don't know how to fix it. Lastly the third error is that when you click on one of the special accounts (unified inbox…), then it force closes as getStats returns null since context is not available. I had to use CommonWare's MergeAdapter library in order to make it work. The UI changes are purely xml, so do what those what you want.

Here's some screenshots: https://drive.google.com/folderview?id=0BzHuKxRVmL4Fc0NPdGRxbUdTelE&usp=sharing
"
k9mail/k-9,closed,Remove gallery bug work-around,[],"This worked around a bug that was present in the Gallery app shipped with Android 2.0. Removing it now should be safe :)
"
k9mail/k-9,closed,SSL changes,[],"Changes:
- Eliminate `SslHelper`
- Don't use `SecureRandom`
- Eliminate `DomainNameChecker`
- Implement SSL session caching

See the individual commit messages for details.
"
k9mail/k-9,closed,Resources cleanup,[],"- remove all ldpi resources
- move/merge items from -v14 resource folders back to the folders without qualifier
- get rid of the resource folders with an API level qualifier
- remove unused resources
"
k9mail/k-9,closed,Remove obsolete code,[],"This removes code that was only applicable to older API versions (<15) which are no longer supported.

There are a few preferences in `AccountSettings` and `GlobalSettings` that were either deleted or their default values changed.  I see that the code permits multiple versions for a setting with different default values or `null` indicating the setting was removed, but I only find a couple instances where this capability was actually used, e.g.:

```
    s.put(""fontSizeMessageViewContent"", Settings.versions(
            new V(1, new WebFontSizeSetting(3)),
            new V(31, null)
        ));
```

It seems that most of the time, the practice has been to directly delete the preference or change the default without creating a second version.  That is what I have done here.

Also, I have not incremented `Settings.VERSION`.  From what I see, doing that would only prevent users from exporting their settings from this newest version (wherein a few settings are now deleted) and importing the settings into a prior version (wherein the deleted settings would be created anew because they were not found in the export file).  I see no harm in letting users do that if they choose.

Let me know if the choices I've made are not appropriate.
"
k9mail/k-9,closed,Show password feature,[],"When configuring new e-mail account, you can view password by clicking on checkbox Show password
"
k9mail/k-9,closed,Issue 4592 (6179/6187/6308)  IDN support Part 3,[],"This is not tested and will have errors.
The changes - draft - have to be corrected by somebody who has a development environment.

But most of the changes to implement IDN support should be done by now.
"
k9mail/k-9,closed,Issue 4592 (6179/6187/6308)  IDN support Part 2,[],"This is not tested and will have errors.
The changes - draft - have to be corrected by somebody who has a development environment.

But most of the changes to implement IDN support should be done by now.
"
k9mail/k-9,closed,Issue 4592 (6179/6187/6308)  IDN support,[],"IDN support (Domain names like müster.de) was several times already requested.
This is a proposal for including the IDN support on SMTP side (sending). IDN is state of the art.
Methods provided by java.net.IDN

As I don't have a JAVA development kit running, I cannot test the changes.
Methods from java.net.IDN   should be already imported by ""import java.net.*"".

Java document sources:
http://docs.oracle.com/javase/6/docs/api/java/net/IDN.html
"
k9mail/k-9,closed,Test,[],"Test
"
k9mail/k-9,closed,Configure mail notifications by folder class,[],"In response to Issue 1794,
- add a configuration option in the account preferences to show
  notifications only for 1st/2nd/etc class folders
- add an option in the folder preferences to set the notification class
  as 1st, 2nd or inherited from the folder's push class

The default behaviour remains unchanged.
"
k9mail/k-9,closed,New feature - Show password ,[],"Can @cketti look on this?
"
k9mail/k-9,closed,Added new provider (zoznam.sk),[],
k9mail/k-9,closed,4.8 maint,[],"Hi there, I have A LOT of mails on a folder, from which I should delete based on a cutoff date, Is there a way to do this easy? do I have to select each of the 5000 mails on a mail to mail basis to be able to delete them?
"
k9mail/k-9,closed,"Sort apple emails in own category, add apple.com and icloud.com",[],
k9mail/k-9,closed,Added apple mail providers to providers.xml,[],"Added apple mail providers (apple.com, mac.com, me.com, icloud.com).
"
k9mail/k-9,closed,archive action improvement,[],"This commit add an option to keep the folder structure in the archive
folder. If checked the message are moved in the folder composed by
the archive folder and its current folder.

This commit add an option to mark the messages as read when archived. If
checked the message(s) are flagged as SEEN.
"
k9mail/k-9,closed,Fix: HELO/EHLO with literal IPv6 address not conformant to RFC5321,[],"Fixed https://github.com/typingArtist/k-9/issues/1.

HELO/EHLO IPv6 address literalsare now conforming to RFC5321.

A K-9 client trying to send mail to a mailhub via SMTP has to send a HELO/EHLO message. The name given must be in a form specified by RFC5321. In the special case that the FQDN of the host cannot be determined, the literal address must be given as specified by Section 4.1.3 of RFC5321. The only valid form for the literal is ""[IPv6:"", followed by the IPv6 address in one of some forms, followed by a trailing ""]"".

The current bug in K-9 Mail is small. It uses the prefix ""[IPV6:"" instead of ""[IPv6:"". Note the wrong upper-case letter ""V"" instead of the lower-case letter ""v"". There are SMTP servers out there that nail all clients down to RFC conformance, and K-9 has to fully adhere to the standards.

Please pull.
"
k9mail/k-9,closed,Refactoring HtmlConverter: htmlToText Methods,[],"This patch refactors the htmlToText methods of the HtmlConverter helper class:
- htmlize text line by line to clarify the procedue and reduces overall memory usage
- different approach to linkification which is more transparent and less error-prone
- remove functional duplicates

Beforehand some code was moved around to improve code readability by
- grouping methods of the same domain (FileUtils / StringUtils)
- moving used-only-once static vars to the place where they are used (mostly regex patterns)

The code was tested with the given test cases.
"
k9mail/k-9,closed,Remove ActionBarSherlock,[],"Because we're now using minSdkVersion 15 it's no longer necessary to use ActionbarSherlock.
"
k9mail/k-9,closed,Fix typo on pt-BR translation,[],
k9mail/k-9,closed,Client Certificate Authentication,[],"This implements client certificate authentication for K-9 Mail.
It contains some classes from the old pull request at https://github.com/k9mail/k-9/pull/351/ which have been cleaned up and refactored.
While there are some TODOs left, I would appreciate any feedback before I go on!
- This implementation should make client certificates really usable, so I tried to make it obvious that they serve as a direct replacement of passwords. Thus, I introduced a small view which can be used to select client certificates, which is shown instead of the password field when client cert authentication is selected. There are also checks implemented in `AccountSetupCheckSettings` to ask the user for a client cert if the server requires one, even when the user selected ""password authentication"".
- Opening SSL sockets has been externalized into `SslHelper`
- I have tested this patch carefully, but I will do even more testing in the next days.

What is left:
- Import/Export
- More testing
- WebDAV support?!

Some observations made in the K-9 codebase for future refactoring:
- We should try to move the code that is used to display server certificates into its own DialogFragment
- The transport and store uris should be replaced by using ServerSettings only.
- Fun fact: While Imap and Pop3 uris are designed like `imap+tls+://auth:user:password@server:port`, Smtp uris are designed like `smtp+tls+://user:password:auth@server:port`. Spot the difference ;)
"
k9mail/k-9,closed,HtmlConverter: Fix horizontal rule replacement.,[],"- Replace full line with horizontal rule.  (Currently only the space and 30+ - are replaced)
- Accept ""Scissors"" (%<, >%, 8<, >8).  Scissors are used by, e.g., git
  when formatting patches.
- Add unit tests for horizontal rule replacement.
"
k9mail/k-9,closed,"Improve header privacy (Issues 6372, 3559, and 4690)",[],"This branch contains fixes for thee issues: 
https://code.google.com/p/k9mail/issues/detail?id=6372
https://code.google.com/p/k9mail/issues/detail?id=3559
https://code.google.com/p/k9mail/issues/detail?id=4690
"
k9mail/k-9,closed,"Minor typo/spelling mistake - ""canceling"" fixed to be ""cancelling""",[],"Saw a typo when using the app, thought I'd go find/fix the spelling mistake.
"
k9mail/k-9,closed,Add support for delete confirmation in message list,[],"Fixes issue 6260
https://code.google.com/p/k9mail/issues/detail?id=6260
"
k9mail/k-9,closed,Added feature to allow coercion to plaintext for html messages,[],"For 5 years (since I've been using android) I've been waiting for an email client which allows me to read and write email in plain text only (as in Thunderbird, on the gui or as in many email clients over tty).

K9 seemed to be the closest by allowing me to only compose in plain text and to use monospace font when viewing text/plain messages.  However, even in K9 it seems that html was always preferred.

This feature was requested multiple times in multiple issues threads, a quick search turned up these: Issue 1714, Issue 2132, Issue 6079, Issue 4456.  My implementation was probably rudimentary and possibly buggy, but it got me what I wanted and I'm now using it on all my devices so I thought I'd issue a pull request in case it's helpful for others.

I love k9, now that it has this last feature from my fork, it does everything I want from an android email client.

Thanks for all the hard work!
"
k9mail/k-9,closed,Extract a TextBodyBuilder class,[],"refactoring and added tests.
"
k9mail/k-9,closed,add information for MyKolab.com and its variants to providers,[],
k9mail/k-9,closed,Fix APG legacy encryption,[],
k9mail/k-9,closed,Changed for Android Gradle plugin 0.9,[],"See the http://tools.android.com/tech-docs/new-build-system/migrating_to_09

However, I'm modifying build.gradle to below for IntelliJ IDEA 13.1.1, because it seems not support 0.9 yet.

build.gradle

```
classpath 'com.android.tools.build:gradle:0.8.+'
...
    instrumentTest {
```
"
k9mail/k-9,closed,Should match the buildToolsVersion with other build.gradle,[],"I've got below error. I have installed recent android sdk build tools 19.0.3 only.

```
> gradle tasks
FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':tasks'.
> Could not determine the dependencies of task ':plugins:openpgp-api-library:compileReleaseJava'.
```
"
k9mail/k-9,closed,Issue 5928: Fatal exception when choosing a folder,[],"Replaced a typecast of CharSequence to String with a safe conversion through a StringBuilder. This fixes a crash on some systems when the type of CharSequence returned by getText() is a SpannableString.
https://code.google.com/p/k9mail/issues/detail?id=5928
"
k9mail/k-9,closed,OpenPGP: Hide lookup key button explicitly if not needed,[],"Hide lookup key button explicitly.
Previously it was still visible after downloading a missing key and coming back to K-9.
"
k9mail/k-9,closed,openpgb lib SK translation,[],
k9mail/k-9,closed,Added new tests SmtpTransportUnitTests and Pop3StoreUnitTests,[],"Please review and advice
"
k9mail/k-9,closed,Updated finnish translation,[],"Can this be merged?
"
k9mail/k-9,closed,"Prevent a ""Resource.NotFoundException""",[],"AAPT is a bit too aggressive per default and will kill some needed resources (e.g. forward mail icon). Prevent AAPT from optimizing too much.
"
k9mail/k-9,closed,OpenPGP Provider API 2,[],"Here we go again :)

To try this pull request, you need either a self-compiled [OpenKeychain](https://github.com/openpgp-keychain/openpgp-keychain) from the current git master or the beta from Google Play:
1. Join [beta tester group on Google+](https://plus.google.com/communities/100667924987940385351)
2. Visit [this special Google Play link](https://play.google.com/apps/testing/org.sufficientlysecure.keychain)
3. Install the beta version of OpenKeychain (please check the version code in ""Help"". It must be ""2.3.1 beta3"")

Many shortcomings of the old API approach has been improved after discussion with @cketti and Guardianproject. This is the first version of an K9-Mail integration of this new API. I really really like to get this accepted as fast as possible, even when some features are still lacking. Due to the current design it should be easy to add them at a later point to K9-Mail and OpenKeychain.

Main improvements:
- An [API library](https://github.com/openpgp-keychain/openpgp-keychain/tree/master/OpenPGP-Keychain-API/libraries/openpgp-api-library) makes integration more easy
- New API uses streams over ParcelableFileDescriptors (thanks to Abel Luck for testing the possibilities)
- Very small [AIDL finterface](https://github.com/openpgp-keychain/openpgp-keychain/tree/master/OpenPGP-Keychain-API/libraries/openpgp-api-library/src/org/openintents/openpgp/IOpenPgpService.aidl)
  - This has the advantage that feature changes to the API do not require to change the AIDL interface. Thus the API version checking is also implemented as an error code coming from this one method
- The whole API is much more Intent based. You [define intents like seen in the example-app's code](https://github.com/openpgp-keychain/openpgp-keychain/blob/master/OpenPGP-Keychain-API/example-app/src/main/java/org/sufficientlysecure/keychain/demo/OpenPgpProviderActivity.java#L213). Internally this Intent is send through the AIDL interface and then used on the other side.
- If user interaction is required, the Activities are NOT started from OpenKeychain's background service (thanks to cketti for all information about this). Instead I return PendingIntents, which are then executed by the client application. This has many advantages: 1) The Activity is put on the right android task stack. 2) If the client gets back an PendingIntent and no output stream, the client itself can decide when to execute this PendingIntent, so the client app can control when user interaction should be shown. The handling can be seen in the [example-app's code](https://github.com/openpgp-keychain/openpgp-keychain/blob/master/OpenPGP-Keychain-API/example-app/src/main/java/org/sufficientlysecure/keychain/demo/OpenPgpProviderActivity.java#L171).

I need feedback, what is left that this can be accepted into k9mail. I also need people to test this new API! As already said, it would be nice to get this in as soon as possible.
"
k9mail/k-9,closed,Fix sendCommand line splitup,[],"When sending a command it would be sent like this:

```
PKG1: 1 STARTTLS
PKG2: \r\n
```

Some mailservers don't accept commands across packets - they expect:

```
PKG1: 1 STARTTLS\r\n
```

I verified that using tcpdump:  http://hastebin.com/tavamepodi
"
k9mail/k-9,closed,New unique general Button for empty all bin's folders,[],"Sorry i don't know where type it.... It's a suggest:
New unique general Button for empty all bin's folders

Sorry my bad english.
"
k9mail/k-9,closed,Renaming variables for codebase consistency,[],"Ι've been working on a research machine learning-based tool (link: http://groups.inf.ed.ac.uk/naturalize/ ) tool that analyzes source code identifiers and makes suggestions for renaming them. The goal is to reduce unnecessary diversity in variable naming and improve code readability. This pull request is only a small sample of the suggestions made for k-9.

No functional changes were made in any of the commits.
"
k9mail/k-9,closed,Authentication changes,[],"Broad summary of changes:

Implement the SASL PLAIN authentication mechanism for IMAP and POP3.

Implement the POP3 APOP authentication method.

Fix CRAM-MD5 authentication for IMAP.

Improve the handling of non-ASCII user names and passwords.

Avoid a ""Username or password incorrect"" error message in cases where the error is likely due to other causes.

Improve parsing of SMTP extension keywords.

Use localized strings for a server's authentication options.  There are now only two options available for all protocols (IMAP, POP3, & SMTP):  ""Normal password"" (which uses one of these available methods, listed in decreasing order of preference:  SASL PLAIN, SASL LOGIN (for SMTP only), IMAP LOGIN, or POP3 USER/PASS) and ""Encrypted password"" (which uses one of these available methods, listed in decreasing order of preference: SASL CRAM-MD5 or POP3 APOP).  In cases where the connection security setting is something other than ""SSL/TLS (always)"" or ""STARTTLS (always)"", then the ""Normal password"" option is relabeled as ""Password, transmitted insecurely"".

For security reasons, the AUTOMATIC SMTP authentication option is no longer available for selection. While backward compatibility has been implemented for a pre-existing setting carried forward from earlier versions, users should be encouraged to review and update their SMTP authentication options after upgrade.  Attempting to send email over a non-encrypted connection using a pre-existing AUTOMATIC setting will result in a ""Failed to send some messages"" notification if the SMTP server doesn't support CRAM-MD5.  This is done in order to prevent unintended plain-text password transmission with the AUTOMATIC setting, possibly coerced by a MITM attack.

Further details about these and other changes can be found in the individual commit messages.
"
k9mail/k-9,closed,"Add "":"" between font size title and value",[],
k9mail/k-9,closed,fix for https://code.google.com/p/k9mail/issues/detail?id=6186,[],"Only convert =, -, and _ characters to an <hr> if they are the only chacters on the line and if fixed width text is not turned on.
Only quote indent lines if the first character is the '>' character.
Fixes https://code.google.com/p/k9mail/issues/detail?id=6186
"
k9mail/k-9,closed,potential improvement for responsiveness in k9mail,[],"Hello developers of K-9 mail,

I'm a Ph.D. student and I'm doing research related to Android apps'
responsiveness. I found there are some cases in K9 that the database
is queried, or bitmap is generated in UI thread. Does this affect the
responsiveness of the app? An optimization could be extracting these
operations into AsyncTask.

For example, in AttachmentView.java, line 174 ""getPreviewIcon()""
decodes a bitmap from a stream, which is a relative long
computation. Is it better to put them into a AsyncTask, so the UI
thread won't be blocked on decoding? I attach a sample patch
here.

Also, in MessageCompose.java, ""actionCompose"" method at line 412
invokes ""Preferences.getPreferences"" which create a ""Storage"" and
queries database. This also lead to a potential responsiveness
issue. Thus, I tried to move it into AsyncTask.

Similarly, MessageViewFragment.java invokes
""Preferences.getPreferences"" at line 272. Note that I add a null check
""if(mAccount == null)"" before every use of ""mAccount"", because there
are data races on ""mAccount"" after put line 272 into AsyncTask. I also
did the same transformation for ChooseFolder.java and
AccountSetupBasics.java.

There should be some other places that can be improved. I can't report
all of them at one time. However, what do you think about these
improvements? My thought is we can improve the responsiveness if we
try to avoid the access to IO/Database, generating bitmap in UI thread.

Thanks,
Yu
"
k9mail/k-9,closed,Cleanups and minor optimizations,[],"I tried improving the performance, readability and robustness of the codebase. After each commit, the code complied cleanly on my box, each change is isolated in a small commit, so if you disagree with something, it's easy to perform cherry-pick.
"
k9mail/k-9,closed,"Change message body font size with slider, using new setTextZoom() WebView API, from 40% to 250%",[],
k9mail/k-9,closed,Enable AOSP builds,[],"Building within the AOSP is currently impossible. The attached changes restore the functionality by building k-9 and its plugins in one run within AOSP. There are also 2 new dummy/default methods to comply to the latest API.
"
k9mail/k-9,closed,Fix for ASUS transformer display bug,[],"This alternative fix for the ASUS transformer display bug (issue 5697) appears to work in both light and dark themes.
"
k9mail/k-9,closed,Fix wrong lib versions in Android.mk,[],"The current Android.mk references outdated/non-existing libs and can thus not compile k-9. FIX.
"
k9mail/k-9,closed,Spanish and catalan translation finished,[],"- Translated missing spanish strings
- Translated missing catalan strings
"
k9mail/k-9,closed,Fix issue 6064: Inline images don't display on KitKat (v. 2),[],"(New pull request in lieu of #441)

Eliminate the invocation of
WebSettings.setBlockNetworkImage(boolean flag),
thus maintaining the the default setting of ""false"".

On Android versions prior to KitKat, this setting has no
effect on inline image attachments loaded with content:
URIs.  Such images would load regardless.

With KitKat, this setting does have an effect -- a
setting of ""true"" will block image attachments loaded
with content: URIs.

By removing this call, K-9 Mail behaves the same on KitKat
as on earlier Android versions, and the behavior on earlier
versions is unchanged.
"
k9mail/k-9,closed,Update providers.xml for German providers,[],"Sources:
http://kundenservice.freenet.de/hilfe/mail4/email-programme/einstellungen-generell/generelle-einstellungen/index.html
http://hilfe.telekom.de/hsp/cms/content/HSP/de/3378/FAQ/theme-45858870/Internet/theme-45858718/Dienste/theme-45858716/E-Mail/theme-305642824/Allgemein/theme-57360865/IMAP/faq-45858521
https://hilfe.web.de/e-mail/imap.html
https://hilfe.gmx.net/mailprogramme/imap.html
"
k9mail/k-9,closed,Fix issue 6064: Inline images don't display on KitKat,[],"It seems like there should be a simpler solution than this.  In any case, this is better than nothing.

KitKat's security has been tightened so a WebView doesn't load
content:// URLs like was done in earlier Android versions.

This patch changes the URLs stored in the message body for inline
images so the URL uses the private scheme ""kninecid:"".  Then
WebViewClient.shouldInterceptRequest is used to catch the loading of
those ""kninecid:"" URLs and provide an InputStream for the original
content:// URL.

(KitKat was a bit finicky regarding what it would accept for a private
scheme, only accepting alphabetic characters, which is more
restrictive than specified in RFC 3986.)
"
k9mail/k-9,closed,Updated RU strings following #439,[],
k9mail/k-9,closed,Per-identity sent folders,[],"Hi,

[Note: not quite ready for merge yet, but I would be interested in feedback]

This is a patch I've been working on to allow a different Sent folder to be used for each account identity. Is this any use to the project?

By default, messages are saved to the account's default Sent folder, but this can be overridden for each individual identity by picking a folder in the Identity settings.

A couple of things I wasn't sure about:

1) It might be nicer to use the dialog based folder picker as used in the existing Folder settings screen, rather than the ChooseFolder full screen activity. However, this would involve factoring out the dialog code, so I chose this solution for the initial version as it was much easier as the ChooseFolder activity was already easily reusable.

2) I've annotated a few parts of the code with ""MJH"" where I wasn't sure if I was doing the right thing or not.

3) I wasn't sure if I needed special code to make sure that the folder actually exists before writing a message to it.

Please let me know if this is useful, and if so if you are happy with the general approach. I'm happy to tweak it as necessary for this to be included upstream.

Thanks!
"
k9mail/k-9,closed,Update RU strings.xml,[],"Update following #437 by https://github.com/zjw, some cleanup.
"
k9mail/k-9,closed,Misc. clean up,[],"This is a series of small, unrelated changes that I intend to commit, assuming no objections are raised here.
"
k9mail/k-9,closed,Update strings.xml,[],"Additional Danish translations
"
k9mail/k-9,closed,Consistent Dutch translation for 'attachment',[],
k9mail/k-9,closed,Add K-9 Mail DashClock Extension to Welcome,[],
k9mail/k-9,closed,Spelling mistakes,[],"bezittelijk voornaamwoord en d/t-fout voltooid deelwoord 'verversen'
"
k9mail/k-9,closed,Update strings.xml,[],"Danish translation added. New to Github so hopefully I did the right thing :)
"
k9mail/k-9,closed,Update strings.xml,[],"Translation error (ES): L856 ""inificada"" --> ""unificada""
"
k9mail/k-9,closed,"Outlook.sk, Updated Slovak translation",[],
k9mail/k-9,closed,"Make IMAP autoconfig recognize ""Draft"" as drafts folder",[],"Yahoo names it ""Draft""  instead of the more common ""Drafts"".
"
k9mail/k-9,closed,Proposed fix for issue 5697: Asus Transformer - Blank message bodies,[],"A fix like detailed on IRC.

I only tested this against an ASUS TF300T (4.2.1), ASUS ME302C (4.2.2), Samsung Galaxy S2 (4.1.2) and an Samsung Galaxy Beam (2.3.6).

Details:
loadDataWithBaseURL(""http://"", content, ""text/html"", ""utf-8"", null);
Works everywhere except on ASUS devices.

loadData(content, ""text/html"", ""utf-8"");
Does work on ASUS devices but doesn't render utf8 correctly, but breaks message bodies on older ( <? 4.1.2) androids.

loadData(content, ""text/html; charset=UTF-8"", ""utf-8"");
Does work AND renders utf8 correctly on ASUS tablets and other (>? 4.1.2) devices, but also breaks message bodies on older androids.
"
k9mail/k-9,closed,Proposed fix for Issue 5697: update lib-project -p plugins/Android-PullT...,[],"A fix like detailed on IRC.

I only tested this against an ASUS TF300T (4.2.1), ASUS ME302C (4.2.2), Samsung Galaxy S2 (4.1.2) and an Samsung Galaxy Beam (2.3.6).

Details:
loadDataWithBaseURL(""http://"", content, ""text/html"", ""utf-8"", null);
Works everywhere except on ASUS devices.

loadData(content, ""text/html"", ""utf-8"");
Does work on ASUS devices but doesn't render utf8 correctly, but breaks message bodies on older ( <? 4.1.2) androids.

loadData(content, ""text/html; charset=UTF-8"", ""utf-8"");
Does work AND renders utf8 correctly on ASUS tablets and other (>? 4.1.2) devices, but also breaks message bodies on older androids.
"
k9mail/k-9,closed,Gezimail,[],
k9mail/k-9,closed,Create JIIMI,[],
k9mail/k-9,closed,Added Azet.sk provider,[],
k9mail/k-9,closed,Update strings.xml,[],
k9mail/k-9,closed,Should disable COMPOSE menu item,[],"When message viewing and tap the Next icon, menu icons (previous, next, delete and replys) disappears for an instant.
Then a compose icon remains, then tap it accidentally.

Note: The ""Download complete message"" button appears bottom of message and tap the Next icon,
the download button goes down below. It is difficult for me to fix it.
"
k9mail/k-9,closed,Fix inadequate certificate validation,[],"This is a part of some changes that I had been working on.  In light of the recently created issue 6072, I'm going ahead and submitting this part now, since it is likely related to that issue.  (Note, however, that I haven't contacted the source referenced in the issue, so I can't say with certainty that this commit addresses the specific problems encountered there.)

Proper host name validation was not being performed for certificates
kept in the local keystore.  If an attacker could convince a user to
accept and store an attacker's certificate, then that certificate
could be used for MITM attacks, giving the attacker access to all
connections to all servers in all accounts in K-9.

This commit changes how the certificates are stored.  Previously, an
entire certificate chain was stored for a server (and any of those
certificates in the chain were available for validating signatures on
certificates received when connecting).  Now just the single
certificate for the server is stored.

This commit changes how locally stored certificates are retrieved.
They can only be retrieved using the host:port that the user
configured for the server.

This also fixes issue 1326.  Users can now use different certificates
for different servers on the same host (listening to different ports).

The above changes mean that users might have to re-accept certificates
that they had previously accepted and are still using (but only if the
certificate's Subject doesn't match the host that they are connecting
to).

This commit modifies AccountSetupBasics so that it now calls
AccountSetupCheckSettings twice -- once for checking the incoming
settings and once for the outgoing settings.  Otherwise, an exception
could occur while checking incoming settings, the user could say
continue (or the user could accept a certificate key), and the
outgoing settings would not be checked.  This also helps with
determining if a certificate exception was for the incoming or
outgoing server, which is needed if the user decides to add the
certificate to the keystore.
"
k9mail/k-9,closed,Updating new and old translations (PT-BR),[],
k9mail/k-9,closed,Update providers.xml,[],"Add Posteo.de to providers.xml (according to https://autoconfig.thunderbird.net/v1.1/posteo.de and https://autoconfig.posteo.de/mail/config-v1.1.xml)
"
k9mail/k-9,closed,Device specific default signature (phone/tablet),[],
k9mail/k-9,closed,Use TrustedSocketFactory for STARTTLS.,[],"The new TrustedSocketFactory was only being used for tunnelled connections, not STARTTLS. This adds STARTTLS support, so now TLS 1.2 can be used there. I have tested IMAP and SMTP and they work just fine, but POP3 is only compile-tested (I don't use it).
"
k9mail/k-9,closed,K-9 launcher icons for all required densities (Medium - XXX High DPI),[],"On my Nexus 5, I've recently noticed that K-9's launcher icon looks a bit fuzzy, while the preview image in the Play Store is really really nice.
So I took the 512px png file from the images directory and created the following icon assets to provide a beautiful K-9 experience on high resolution smart phones.

Here's a link to the Android Documentation regarding iconography and screen densities: http://developer.android.com/design/style/iconography.html

And these are two screenshots showing the app icon before my changes on the right hand side and the high resolution version on the left:
![k9-icon-comparison](https://f.cloud.github.com/assets/3253577/1505805/58ec30ca-48ec-11e3-8ffe-02d0300ac0b4.png)
"
k9mail/k-9,closed,Kit Kat UI issue,[],"I know that you have been looking into the display issue in Kit Kat (6033).  I offer the following in case it is useful.

This code was something I briefly worked on 7 months ago and then dropped because it didn't seem to be particularly beneficial at the time, when compared with what K-9 was already doing.

Basically, the intent was to implement the AOSP Email solution for incorporating a Webview inside a ScrollView, while still being able to scroll diagonally.  It was intended to replace the functionality of TitleBarWebView which K-9 Mail is currently using.

I just now rebased my old code on master and tried it out in an emulator with Kit Kat.  It doesn't seem to suffer from the display issue.

I don't have a device with Kit Kat, and I don't much enjoy struggling with an emulator, so I leave it to others to evaluate whether there is anything useful here.  I also don't want to unnecessarily duplicate efforts.
"
k9mail/k-9,closed,Update strings.xml,[],"Hi!
I actualized the hungarian translation

Best Regards: RootRulez
"
k9mail/k-9,closed,Update strings.xml,[],
k9mail/k-9,closed,RU fixes,[],
k9mail/k-9,closed,RU translation fixed syntax,[],
k9mail/k-9,closed,new strings translation,[],
k9mail/k-9,closed,Update Polish translation,[],"new strings + one typo
"
k9mail/k-9,closed,Functionality to enable k-9 to decrypt and display RFC 2440 and RFC 3156,[],"Functionality to enable k-9 to decrypt and display RFC 2440 and RFC 3156 conforming messages (MIME-type: application/pgp-encrypted) in k-9 with the help of Android Privacy Guard (APG). The main difference is that the RFC-compliant emails use attachments to store the pgp encrypted text in either us-ascii or base64. The RFC aproach is for example used in Apple Mail.

This is a first approach, which is working for normal and a RFC-compliant emails. I am still working on reading through the RFCs which means there may be some corner cases left unimplemented. 
In addition, the decrypted text is currently just put back into k-9 mail without respecting the encodings such as iso-8859-1 or utf-8 which leads to incorrect display of special characters, e.g. German umlauts. 
"
k9mail/k-9,closed,Added message to calendar,[],"Adds ability to create event from mail.
"
k9mail/k-9,closed,Plugins strings RU translation,[],
k9mail/k-9,closed,Plugins strings RU translation,[],"What if ...?))
"
k9mail/k-9,closed,Added a few new translations (PT-BR),[],
k9mail/k-9,closed,Hardened TLS cipher suites and versions,[],"As Georg Lukas wrote in his blog post about how Android handles TLS handshake (http://op-co.de/blog/posts/android_ssl_downgrade/), an explicit order of cipher suites and TLS versions must be supplied to
avoid having the weak (presumably broken) RC4 cipher at the top of the preference list.

This commit adds the list included in the blog post to every TLS socket creation, including IMAP, POP3 and SMTP, see Wireshark screenshots done during testing at http://vsza.hu/k9mail-tls-hardening/
"
k9mail/k-9,closed,Update Russian,[],"Added new strings (RU)
"
k9mail/k-9,closed,Updated Slovak translation,[],"- Update for K9mail
- Added translations for plugins
"
k9mail/k-9,closed,Fix problems related to the saving and retrieval of drafts,[],"This is a series of patches intended to fix problems related to the saving and retrieval of drafts that include a quoted message.

See the individual commit messages for specifics.

Related issues:  [4782](https://code.google.com/p/k9mail/issues/detail?id=4782), [5010](https://code.google.com/p/k9mail/issues/detail?id=5010), [5634](https://code.google.com/p/k9mail/issues/detail?id=5634), [5725](https://code.google.com/p/k9mail/issues/detail?id=5725)
"
k9mail/k-9,closed,Update Korean translation (4.4 to 4.6) including minor fixes,[],"hope it helps.
"
k9mail/k-9,closed,Update strings.xml,[],"Just translations of 9 new tokens - no modifications for past ones
"
k9mail/k-9,closed,Add SEEN to list of flags when deleting a message.,[],"Currently when you delete a message it only sets the DELETED flag, so unless you also always expunge immediately afterwards (not always desirable), any other processes examining the IMAP mailbox will see an unread (albeit deleted) message. Since most MUAs check only the number of unread messages to determine whether new mail has arrived, and not whether those new messages also were deleted, they will report that there is new mail in the mailbox even after you deleted it with K-9 Mail.

This patch sets the SEEN flag when you delete the message, solving this problem.
"
k9mail/k-9,closed,Korean translation,[],"add & change some messages.
"
k9mail/k-9,closed,Add support for dashclock lockscreen widget.,[],"This commit includes support for popular dashclock lockscreen widget.
Dashclock widget playstore url:
https://play.google.com/store/apps/details?id=net.nurik.roman.dashclock
When the above dashclock widget is installed, users of K9 will be able
to see unread message count on the lockscreen. It also includes a
setting activity to choose email accounts to show(only email/
description and unread count) in expanded view of dashclock extension
[Edit : Removed screenshot]
"
k9mail/k-9,closed,Translated to Lithuanian,[],
k9mail/k-9,closed,Update strings.xml,[],"(Ru) added new strings
"
k9mail/k-9,closed,Translated to Lithuanian,[],"Translated to Lithuanian.
"
k9mail/k-9,closed,Updated Slovak translation,[],
k9mail/k-9,closed,Update strings.xml,[],"(RU) Improvements and fixes, clarify translation. The some terms are unified with new translation of a Sylpheed mail client. Stay tuned:) Thanks
"
k9mail/k-9,closed,Added tests running on JVM.,[],"We have some tests runable on JVM instead of Android emulator.
It's more faster and iterable, so it's more useful.

I don't know whether the directory name ""tests-on-jvm"" is suitable or not.
"
k9mail/k-9,closed,Replaced animation of Refresh-Icon in Actionbar at Activity MailList.,[],"With this commit, the refresh-icon at the mail list will not be replaced with another spinning Icon (that looks totally different), it will now just start rotating.

It has no effect on Android versions below HoneyComb. I don't think this is a big deal, because now the Animations are also different.

If this Commit gets pulled, I will also make this change at the other activities like at the Folders list.
"
k9mail/k-9,closed,set Typeface of the EditText to compose message,[],"When the fixed witdh font is choosed for viewing, it's too.writing.
"
k9mail/k-9,closed,Update strings.xml,[],"(RU) Bug fixed
"
k9mail/k-9,closed,OpenPGP Provider API,[],"I present the first version of my OpenPGP Provider API.
I would like to hear feedback and criticism on this pull request :)

Information:
- This API was discussed in recent posts on https://groups.google.com/d/forum/k-9-dev
- You can test this API by installing OpenPGP Keychain 2.1.1 from https://play.google.com/store/apps/details?id=org.sufficientlysecure.keychain (should be online in some hours)
- Support for APG is still working as before. It lives side by side with the new API
- OpenPGP apps can implement a service based on the definition and will automatically be shown in the preference list of available openpgp providers (no extra code per app!)
- Decryption/Verification is working automatically without buttons
- Different colors show different types of emails (decrypted-only=blue, signature-only verified=green, signature-and-decrypted verified=green, signature unknown=orange, error=red). This is similar to Enigmail

Please keep in mind that this is not especially for ""OpenPGP Keychain"". This shoudl define a new API usable by any PGP app.

Todos:
- automatic sign and encryption is currently not working with the new provider
"
k9mail/k-9,closed,Update strings.xml,[],"Update (RU)
"
k9mail/k-9,closed,Update strings.xml,[],"Update (RU)
plz sorry, I not include this changes in previous patch
"
k9mail/k-9,closed,Update strings.xml,[],"Updates and improvements (RU)
"
k9mail/k-9,closed,Update strings.xml,[],"Based on customer feedback
"
k9mail/k-9,closed,Fix issue_5931_shows_null_in_notification_while_sending_mail,[],"Fix for issue# 5931

https://code.google.com/p/k9mail/issues/detail?id=5931
"
k9mail/k-9,closed,Update strings.xml,[],
k9mail/k-9,closed,Update strings.xml,[],"Based on customer feedback
"
k9mail/k-9,closed,new strings translation,[],
k9mail/k-9,closed,german translation: add missing strings,[],
k9mail/k-9,closed,"german translation: use ""neu erstellen"" instead of ""wiederherstellen""",[],"""wiederherstellen"" actually means ""to restore"", which does not
apply here, and makes people think these options are some sort of
backup/restore operation.

use the proper translation of ""re-create"" -> ""neu erstellen"" instead.
"
k9mail/k-9,closed,Encoding issues,[],"Fixes:
1. K-9 Mail sends 8 bit data to SMTP servers that support 8BITMIME, but fails to include the required ""BODY=8BITMIME"" parameter with the MAIL command (commit de23a0e3e1aee48f098ca9edf76cefec83365eaf).
2.  As described in [issue 5734](http://code.google.com/p/k9mail/issues/detail?id=5734), when a message with an attachment of type message/rfc822 is received, the attachment ends up being saved in a way where the content-transfer-encoding saved in its headers doesn't match the actual encoding of the saved body  (commit 1d1db50a9fa66b551152aa9353dd36b2aa870e30).
3.  Whenever a message is sent with a an attachment of type message/rfc822, the attachment is base64 encoded.  The RFCs do not permit this.  The attachment must use only 7bit or 8bit encoding.  Thunderbird refuses to decode and display such attachments.  Commit 77407eb5b741f6977fb98bc21c7259d0091d5033 eliminates the base64 encoding and attaches the message with 8bit encoding (not an ideal solution if the SMTP server doesn't support 8BITMIME, but see below).
4.  Commit 45e3d8459e912ee88dad4a43f9d24e8aa823e275 fixes the above problem.  If an SMTP server does not support 8BITMIME, the message is converted from 8bit to 7bit encoding, This includes recursively processing any attached messages.

The remaining commits fix some minor stuff and provide a unit test.

More detail concerning all these changes can generally be found in the commit messages.
"
k9mail/k-9,closed,Update strings.xml,[],"Updates and improvements (RU)
"
k9mail/k-9,closed,SK translation,[],
k9mail/k-9,closed,Fix & Update French Translations,[],"- Lire => Lu
- New translations
"
k9mail/k-9,closed,Update providers.xml according to https://autoconfig.thunderbird.net/v1.1/gmx.de,[],
k9mail/k-9,closed,SK translation,[],
k9mail/k-9,closed,Aatdark issue5843,[],"ACRA added for log and exception acquisition in k9. Writes a crash log file like [0] to the sd card and displays a toast.
To test apply the patch in [1] and navigate to ""Compose Message"" which will trigger a exception.

[0] http://pastebin.com/bT94L0vh
[1] http://pastebin.com/vJhgCh40
"
k9mail/k-9,closed,Some kernels have frandom and erandom,[],"When a users kernel has frandom and erandom this would cause the whole app to crash.

When your kernel supports this frandom will replace random and erandom will replace urandom. The advantage here is that it's faster and that erandom doesn't use up any entropy at all. This helps to remove jank from Android.

Without this patch many people running custom ROM's can't use K-9 Mail due to a force close.
"
k9mail/k-9,closed,Update strings.xml,[],"New strings added
"
k9mail/k-9,closed,Fix erroneous SSL certificate warnings,[],"If you attempted to use SSL to connect to a server that speaks
STARTTLS, you should get an SSL protocol error.  Instead, you
were likely to get an ""Unrecognized Certificate"" error that shows
you an unrelated certificate chain and asks you to accept it or
reject it.  Neither action would work because the actual problem
had nothing to do with certificates.  The unrelated certificate
chain that popped up had been statically stored when validating
a prior connection to a different server.

With this patch, certificate chains are no longer stored statically
when validating server connections.

Issue 5886 is an example of a user experiencing this problem.
"
k9mail/k-9,closed,Make actions shown in message view menu configurable,[],"[Issue 5889](https://code.google.com/p/k9mail/issues/detail?id=5889) and [issue 5850](https://code.google.com/p/k9mail/issues/detail?id=5850) are about the Archive button not being directly available in the message view. This branch makes all ""Refile"" actions available as direct menu items in the message view, configurable via an option in the Global Settings.

One thing I am still unhappy about is that the same icon is currently used for the copy and move actions (`iconActionMoveOrCopy`). Maybe we could use the copy icon from the system text selection menu?
"
k9mail/k-9,closed,Update strings.xml,[],"Improved SV spelling
"
k9mail/k-9,closed,oldstyle chips and stars ; hide checkboxes by default. add select to the longpress menu,[],"I'd love a quick code review pass on this
"
k9mail/k-9,closed,Add SSL required for provider gmx.de (Issue 5876),[],"Acountsetup: Add SSL required for provider gmx.de (Issue 5876)
http://code.google.com/p/k9mail/issues/detail?id=5876
"
k9mail/k-9,closed,RFC: Fetch attachments while MessageCompose activity is running,[],"Android allows other apps to access protected content of an app without requesting the
necessary permission when the app returns an Intent with FLAG_GRANT_READ_URI_PERMISSION.
This regularly happens as a result of ACTION_PICK, i.e. what we use to pick content to be
attached to a message. Accessing that content only works while the receiving activity is
running. Afterwards accessing the content throws a SecurityException because of the missing
permission.
This commit changes K-9 Mail's behavior to copy the content to a temporary file in K-9's
cache directory while the activity is still running.

Fixes issue 4847, 5821

This also fixes bugs related to the fact that K-9 Mail didn't save a copy of attached content
in the message database.

Fixes issue 1187, 3330, 4930
## 

What's missing; comments/code welcome:
- A way to prevent the user from sending the message while one or more attachments are still being copied
- A way to prevent the user from closing the activity while one or more attachments are still being copied (only if a draft needs to be saved; otherwise we don't care)
- Remove temporary files...
  - when discarding the message
  - after saving as draft
  - after sending the message

Optimizations that would be useful:
- Don't copy the contents of attachments that are already in the message database to a temporary file, e.g. when opening a draft for editing or forwading a message
"
k9mail/k-9,closed,"It's APG, not AGP.",[],"I just saw this little typo while reviewing my settings...
"
k9mail/k-9,closed,Update the Catalan translation and squeeze some of its strings.,[],"This PR updates the Catalan translation and squeezes some of its strings
to better save screen space. There is a bug I can't solve, though. In
the 'welcome' screen, the left button has some of the text hidden, due
to the long strings I had to use in this translation. I tried finding
other equivalent words, but would make the translation quite confusing.
Maybe the button can be expanded a bit to accommodate the strings?

Cheers.
"
k9mail/k-9,closed,Hierarchical folder list,[],"I have spent some time working on implementing a hierarchical folder list view as requested in issue 17 (https://code.google.com/p/k9mail/issues/detail?id=17). 

It's likely that the current state of affairs breaks some things (haven't tested any out of pop3, webdav and imap servers other than dovecot with / as path separator) - so I'd be more interested in a review and suggestions for improvements rather than necessarily a merge at this point.

Brief summary of is modified:
- FolderList gets an additional FolderHierarchyFilter class that picks out a specific part of the folder tree, its filter() method is (hopefully) called at the appropriate locations in the code
- the folder_list_item gets an additional folder icon (stolen from accounts_item) for browsing into a folder
- there is a new FakeFolder class that is used to introduce missing pieces in the tree hierarchy to the FolderList (i.e. there may be a folder a/b on imap, where the parent folder a is not a mail-folder on the server and thus not in the list returned by the imap server)
- a major thing is how to get the correct hierarchy separator from the servers, I think I may have go that working by now (it is now cached in the account settings), haven't tested it for anything other than / though (there seem to be . and \ out in the wild)
- introduces a global boolean setting folderHierarchy for enabling/disabling the hierarchical folder list display, bumps settings version to 29
- I replaced the ChooseFolder class by a class derived from FolderList, thereby reducing code duplication and imho improving user interface consistency (on the other hand the code in FolderList is much more complex than ChooseFolder had been previously...). The original ChooseFolder class got some flags from its intent that I now blatantly disregard -- I wasn't sure what they were about...

Traditional flat folder list:
![image](https://f.cloud.github.com/assets/4450993/944623/97464e58-02c6-11e3-8553-a60c07ef22e1.png)
Hierarchical folder list:
![image](https://f.cloud.github.com/assets/4450993/944622/93c29cf0-02c6-11e3-9152-7295fe72003f.png)
"
k9mail/k-9,closed,Adding missing Dutch translations,[],"Dutch translations had a few strings missing .. 
"
k9mail/k-9,closed,"bug fix: use ""1"" not ""true"" for SQL boolean",[],"Partially fixes bug https://code.google.com/p/k9mail/issues/detail?id=5803
"
k9mail/k-9,closed, 	Automated change log publication,[],"Currently, change logs are being published manually by editing the [release notes wiki page](https://github.com/k9mail/k-9/wiki/ReleaseNotes).

This patch automates the publishing of change logs.  With every `ant bump-version`, the current change log for the branch (in `res/xml/changelog_master.xml`) is pushed to the `gh-pages` branch with the name `changelog_*<branch-name>*_branch.xml`.  The change log XML file includes a reference to an XML style sheet that formats the log for display in browsers.  I'll be creating a gh-pages branch in the K-9 Mail repository which can be reviewed here (users of NoScript will need to 'allow' the page for it to display properly):

[http://k9mail.org/k-9/changelog_master_branch.xml]

If this is OK, then I'd suggest applying it to the 4.4 branch as well.  

Currently there are a few different places in the K-9 infrastructure that link to the wiki's release notes.  They would need to be re-linked, or else the wiki page would need to be redone so that it just provides links to the automated change logs for each branch.

I'd suggest reviewing the `git push` command on line 232 of `build.xml` for correctness. It's now effectively:

```
git push origin HEAD gh-pages tag ${version-name}
```

Previously, it was:

```
git push
git push origin tag ${version-name}
```

There could be something about your local git configuration that I might not have anticipated that impacts the push command.
"
k9mail/k-9,closed,"Gmail style user pics, 2nd try",[],"Second try pull request with gmail style user pics for anonymous / picture less users in the email list.

See the first pull request for further discussion https://github.com/k9mail/k-9/pull/344
"
k9mail/k-9,closed,"fix some typos, update translation",[],
k9mail/k-9,closed,Added support for authorization using client-side certificate. It's suporting POP3 and IMAP protocols.,[],"K-9 Mail supports authorization with client-side certificate using IMAP protocol. This feature is available for all Android systems since 4.0 version (Ice cream sandwich). In order to set up account to use that kind of method you need to:
1. Add new account from accounts screen,
2. Insert correct email and password in login screen, press Next,
3. Choose IMAP or POP3 protocol,
4. In incoming server settings set security level to “SSL(always)” and insert correct data supplied by your email provider,
5. Application will try to connect to your email server and if prompted, it will show dialog asking for client-side certificate. You need to have installed certificates on your device. If you didn’t install them yet, then application will ask you if you want to do that now and if confirmed application will bring you to Android security settings, where in most version you need to tap option called “Install certificate from phone storage”  in “Credential storage” group. System will automatically detect all certificates stored in your phone and it will let you to install them. Now go back to K-9 Mail and choose appropriate certificate.
6. In outgoing server settings you also need to set security level to “SSL(always)” and insert correct data supplied by your email provider. If needed, server will use the same certificate for sending email as the one for fetching them. 
7. Server will check if settings are correct and if they are then we are done!
"
k9mail/k-9,closed,Update providers.xml,[],"A little Russian ISP added (providers.xml)
"
k9mail/k-9,closed,remoteStore should be reseted when account is deleted,[],"remoteStore associated with account indirectly should also be reseted when account was removed. 
Otherwise, there might be residual data that will affect account being added later.
"
k9mail/k-9,closed,Reset remotestore when deleteAccount,[],"remoteStore assocciated with account indirectly should also be reseted when acccount was removed. 

Otherwise, there might be residual data that will affec account being added later.

Because remoteStore is kind of singleton, it won't reload data from database automatically.
"
k9mail/k-9,closed,Update strings.xml,[],"4.4xx — some nonsense and bugs fixed (original app name ""K-9 Mail"" saved).
"
k9mail/k-9,closed,Fix de strings xml,[],"Translates two strings that were missing for auto fitting the message in the MessageWebView.java
"
k9mail/k-9,closed,Move master change log to res/xml/changelog_master.xml,[],"Benefits of this location over res/raw/:

The file will be compiled and stored in a binary format by aapt
which should speed up processing the file when reading.

The XML syntax will be validated by aapt when building.
If the syntax is invalid, the build will fail.
"
k9mail/k-9,closed,GMail-app-style generated colorful one-letter contact pictures for pictureless contacts,[],"K9-mail shows contact pictures in front of mails.
### Before

K9-mail showed an android dummy contact for unknown contacts.
### After

K9-mail shows a capital letter with a unique color where the letter and color are calculated out of the email address. This feature is comparable to gmail.
"
k9mail/k-9,closed,Issue #161 : Periodic save of message into drafts,[],"This branch implements issue request #161 - periodically saving a message being composed into the drafts folder. I'm not sure why it is showing 16 commits for this - there should be only 1 commit (c4cae8e) in this branch. Git is pretty new to me.
"
k9mail/k-9,closed,Finnish translation updated,[],"Can this be merged please?
"
k9mail/k-9,closed,Update Korean translation for 4.4-MAINT,[],"Same changes as pull request #340.
"
k9mail/k-9,closed,Update Korean translation,[],"I modified untranslated ones and errors. Same changes are done for 4.4-MAINT and I will post a new pull request.
"
k9mail/k-9,closed,New strings translate to CS,[],
k9mail/k-9,closed,Improvement of French translations,[],"The correct french word for ""encryption"" is ... ""encryption"" :)

Signed-off-by: Balthazar Rouberol brouberol@imap.cc
"
k9mail/k-9,closed,Updated polish translation,[],"Updated polish translation:
- translated missing strings
- fixed incorrectly translated strings
"
k9mail/k-9,closed,Updated contact pictures,[],"As requested, heres a separate pull request.

I accidentally closed the previous one, sorry.
"
k9mail/k-9,closed,Updated contact pictures,[],"As requested, heres a separate pull request.
"
k9mail/k-9,closed,Adding message counts to the account and folder lists.,[],"I think I've cleaned up the line endings and the commits. All changes are left in the ""MessageCounts"" branch. Is there anything else I need to do before your consideration of this change? I'm new to Git, so this has been a bit of an experiment.
"
k9mail/k-9,closed,Total message count on accounts and folders,[],"I've created a new feature that, like unread and flagged message counts, displays the total message count. This can be enabled through the preferences for either accounts or individual folders.
"
k9mail/k-9,closed,SK translation - fixes,[],
k9mail/k-9,closed,Better menu control for everything pre-Honeycomb + More,[],"![demo](https://f.cloud.github.com/assets/4976772/786180/6365166a-eaa1-11e2-93e8-91dd281bb961.png)

The above pictures were taken from my modified Gingerbread ROM. On the left is what I've patched and on the right is the mess that the official release is in right now.

Basically I've done this because someone else submitted a push ( https://github.com/k9mail/k-9/pull/321 ) which I wasn't too happy about since it reverts the menu icons to the ugly pre-holo icons which just makes the UI even more inconsistent. I can't stand when apps do that, so I've modified the project myself and have gave everything pre-Honeycomb a much nicer overflow menu that matches what's seen in ICS and Jelly Bean.

While I was working on getting the menu to function how I wanted I fixed the colours of some icons and I also updated the contact picture to what's found in ICS and Jelly Bean.

EDIT: I've made one more change so that the hardware button can open the overflow menu while composing an email. All changes have also been tested on Gingerbread, Honeycomb, ICS and Jelly Bean.
"
k9mail/k-9,closed,Added Russian mail providers,[],"about 70% of russian mailboxes. it works
"
k9mail/k-9,closed,Add IMAP provider info for fastmail.fm,[],"Lets K9 automatically configure the IMAP and SMTP ports for fastmail.fm
accounts.

Fastmail allows users to create accounts with many different domains, all with the same IMAP and SMTP servers.  In the interest of not bloating res/xml/providers.xml, I've elected to only add the main ""fastmail.fm"" domain.  If there is any interest (by K9 devs or otherwise) for the other [supported domains](https://www.fastmail.fm/help/signup_domains.html), I'm willing to add the relevant provider elements.
"
k9mail/k-9,closed,Russian update,[],"new strings added
"
k9mail/k-9,closed,Russian update - ready#2,[],"instead of #326
"
k9mail/k-9,closed,Russian update - ready,[],
k9mail/k-9,closed,unnecessary space,[],"Update Russian
"
k9mail/k-9,closed,Update Russian,[],
k9mail/k-9,closed,Adapt broken pop3 server,[],"Adapt to broken pop3 server like this:

> > > UIDL
> > >   <<< num   messageUid
> > >   ...
> > >   <<< .

There is 3 spaces between num and messageUid.
"
k9mail/k-9,closed,added support for PGP/MIME encrypted emails.,[],"I've added basic support for PGP-MIME based on [RFC 3156](http://tools.ietf.org/html/rfc3156). I have not been able to get the K-9 application to build with either IntelliJ or Android Studio, so I have been unable to test this. However, it appears to be correct based on my limited understanding of the code base.

The lack of support for PGP-MIME is very frustrating as it causes the workflow for a PGP-MIME email to be: select attachment -> view attachment -> select all text -> switch to APG app -> paste text -> type passphrase... etc. This should enable the viewing of PGP-MIME encrypted emails inline, just as if they were a normal PGP encrypted email.

Thanks.
"
k9mail/k-9,closed,Issue 5619: Illegible menu icons in Gingerbread,[],"For Honeycomb and later devices, icons are never displayed
on the overflow menu of the action bar, so it's somewhat
pointless to specify icons for menu items with the attribute
'android:showAsAction=""never""' (and ""never"" is the attribute's
default value if not explicitly set).

The problem is that icons are still being displayed for overflow
menu items on Gingerbread devices when hitting the menu key.
But because the new Holo-themed icons were not designed for
Gingerbread (which  has a different design spec), they tended
to be very difficult to see.

This patch reverts to using Gingerbread icons for menu items with
showAsAction=""never"".

Ideally, this would be [solved in ABS](https://groups.google.com/forum/?fromgroups#!topic/actionbarsherlock/ce2m7ZHgAJM).

Issue [5619](http://code.google.com/p/k9mail/issues/detail?id=5619)

Unless there are objections or concerns, I'll plan to merge this in a few days.
"
k9mail/k-9,closed,Update catalan translation.,[],"Dear K-9 team,

here's the updated version of the catalan strings.xml. Cheers,
"
k9mail/k-9,closed,Eclipse build changes,[],"If you look at the wiki instructions for <a href=""https://github.com/k9mail/k-9/wiki/BuildingK9#building-with-eclipse"">building K9 with Eclipse</a>, you will see a long, tedious 40 step process.  That process can be greatly simplified as a result of the changes in this pull request.  Basically, steps 2-36 become:
- File->Import->Android->Existing Android Code Into Workspace->Next
- Browse to the K9 working directory (all the necessary projects will be found and selected for importing)
- Click ""Finish""

Building can then proceed and everything will be built in the correct order.

I have been hesitant to suggest these changes previously because there will likely be some short-term inconveniences for those who already have Eclipse set up with K9.  In particular, this removes the top .classpath file from revision control so that, upon checkout, the file will be removed from the working directory of existing setups and building will fail.  So, while the file's removal helps simplify new setups, it complicates existing setups.

Nonetheless, I now think this is the time to make this change because with the recent release of Android SDK Rev. 22, the existing .classpath file results in <a href=""http://stackoverflow.com/questions/16596969/libraries-do-not-get-added-to-apk-anymore-after-upgrade-to-adt-22"">an APK file that will not run</a>.  So changes are needed one way or another.

Existing setups can subsequently restore a corrected .classpath file with:
git checkout 53fcdd1 .classpath
git rm --cached .classpath

Unless there are objections or concerns, I'll plan to merge this in the next week or so, and then I'll update the wiki accordingly.
"
k9mail/k-9,closed,New translations and tweaks (PT-BR),[],"Missed strings and improvements.
"
k9mail/k-9,closed,Update greek strings (29 of May 2013),[],"After reinstalling K-9 on my new mobile, I observed some misinterpretations and I fixed them.

I hope this translation makes it in the stable version 4.400.

Enjoy
"
k9mail/k-9,closed,Added some missed strings,[],"Hi, i've added some missed strings that are on english version of this file.
Thanks
"
k9mail/k-9,closed,Update strings.xml,[],
k9mail/k-9,closed,Issue 5646 - Star Color,[],"This changes the star color in list view and folder view to always be a filled-in yellow star, which makes it much easier to notice which messages are starred and provides a more consistent user experience.
"
k9mail/k-9,closed,Minor corrections,[],
k9mail/k-9,closed,New translations and fixes,[],"Revision and correction.
DEVELOPER, NOTE THAT ""Mark all as read"" STRING IS MISSED, PLEASE ADD IT.
"
k9mail/k-9,closed,Issue 1292 - Updated invalid certificate message to be a bit more user-f...,[],"Issue 1292 - Updated invalid certificate message to be a bit more user-friendly.

""The security certificate of the server you are connecting to is invalid.  This may mean that your connection to your server is insecure.  You can accept the key and continue insecurely or reject the key and abort the connection to your mail server.  If you don\'t know you should reject the key and contact your mail administrator. \n\nThe server\'s certificate is presented below for you to review:\n\n""
"
k9mail/k-9,closed,Issue 1250 - Text to Speech feature,[]," This adds text to speech announcement to incoming mail. You can set whether to announce only the sender, the subject or both. You can also use a regular expression to announce parts of the sender and/or subject along with your own text.

This also modifies notification sounds to be sequential along with the announcements.
"
k9mail/k-9,closed,Fixed issue 5630: Quotes are missing a space between > and the quoted text,[],"issue 5630
http://code.google.com/p/k9mail/issues/detail?id=5630
"
k9mail/k-9,closed,Japanese ChangeLog,[],"done.
"
k9mail/k-9,closed,added messageview_autofit_width and translation,[],
k9mail/k-9,closed,Brazilian portuguese translation and fixes 2,[],"Update and fixes, thanks.
"
k9mail/k-9,closed,Brazilian Portuguese translation big update,[],"A big update, thanks!
Let me know when done to merge.
"
k9mail/k-9,closed,"Russian strings.xml update, 4.331",[],"This update contains many changes. Optimized for 320x480 screens, tested on real devices. Previous Russian strings.xml file is too old and contains the bugs.

I create test build with new translation - http://goo.gl/EFi9P and http://goo.gl/fG36W
Tested by >80 users.
"
k9mail/k-9,closed,Update strings.xml,[],"New Russian translation, added strings missed in 4.331
"
k9mail/k-9,closed,Update strings.xml,[],"This is a small submit to make sure of my browser is fine, a big update is coming! PT-BR.
"
k9mail/k-9,closed,Update greek strings (May 2013),[],"Mostly new translation strings for updating dbs, notifications
"
k9mail/k-9,closed,Change smtp+tls default port to 587.,[],"I noticed this when trying to connect to an outlook.com address. It seems like an error in our source since we indicate ourselves it should be 587:
https://github.com/k9mail/k-9/blob/master/res/xml/providers.xml#L66

Strange there were no complains? Just close if I'm mistaken.
"
k9mail/k-9,closed,Update message_compose_reply_header_fmt to have only one newline,[],"The PREFIX quote style was using an empty line between the header and
the quote. But mail apps using this way of quoting style do not have an
empty line between the quote header and the quote.
"
k9mail/k-9,closed,Set Content-Transfer-Encoding to 8bit when this is what is used,[],"When TextBody uses 8bit, using quoted-printable in the
Content-Transfer-Encoding is not a good idea.
"
k9mail/k-9,closed,Better singleAccountMode check.,[],"If messagelist started from Unified localsearch, verify if we are really dealing with multiple accounts. If not then set SingleAccountMode anyway.
"
k9mail/k-9,closed,Keep all messages.,[],"Hi, 

I'm opening this pullreq so I don't forget about this branch and we'd have a place to discuss it. These patches have the desired effect as far as I tested it. 

The only thing I'm not sure on: would is be better to return from synchronizeMailbox(...) right away when remoteStart >= remoteEnd, or just have it finish up like I do now? ( I needs all the closing code anyway ).

Let me know what to change.
Thx
"
k9mail/k-9,closed,New CryptoProvider: PGP KeyRing,[],"Hi, I would like to add a new crypto provider to K-9. The app is called ""PGP KeyRing"" and provides signing and encryption services.
thanks,
Adam
"
k9mail/k-9,closed,Fix background color of message list,[],"fix issue where color of message list became grey when accesing message list view from message view (using back). This only happended if the backgroundcolor markup for unread messages was unselected in the prefs.

Fixed this by applying the UnreadColor Instead of transparent, and also fixed this color to be non opaque, cause the issue was triggered by a grey background on some surrounding view
"
k9mail/k-9,closed,"Make the label on the ""mark read"" action on Jelly Bean notifications less confusing",[],"Change the label on the action button on Jelly Bean style notifications from ""Read"" to ""Mark Read"" to avoid confusion with reading the message.
"
k9mail/k-9,closed,Switch on/off notifications in accounts list,[],"I just add a check-box in the accounts list to switch on or off notifications quickly and simply in this view, pretty useful when you want to mute an account notifications.
Tested and working release.
"
k9mail/k-9,closed,Issue 4503: auto-fit messages option,[],"This creates a preference option to automatically shrink messages to fit the screen width (its default setting is ""shrink"").  (The Gmail app has such an option.)

Also, instead of disabling the ""Condensed layout"" display preference in cases where it is not applicable, this removes it.  It's not logical to show a disabled preference if there is nothing a user can do to enable it.
"
k9mail/k-9,closed,Update French translation,[],
k9mail/k-9,closed,applied new russian translation from Igor,[],
k9mail/k-9,closed,"New feature ""Do not store my password""",[],"I have written a feature to be able to configure an account so that the ingoing and outcoming password won't be stored in the settings. It works like this:
- I have added a checkbox ""Don't store my password"" in the account options.
- At start such accounts are disabled (I put a text ""[-]"" in front of the account name in the account list to identify such accounts easily)
- When you open the account, K-9 will ask you for the password(s) but won't store it in the properties, so that in remains in memory only until K-9 is closed. You can also press cancel to access the stored messages without entering a password.
- There is also a new menu item in the menu on the account list to forget all sessions passwords without having to exit K-9.

Please tell me if you have any comment on my modifications.

PS: To disable an account as long as the password hasn't be entered, I have reused the existing ""disabled"" feature. This option was for imported accounts, for which K-9 doesn't know the password yet. The first time you open this account, K-9 ask you for the password and store it. I simply added the notion of session passwords, which won't be stored.

PS2: This modification would cover http://code.google.com/p/k9mail/issues/detail?id=1243
"
k9mail/k-9,closed,reenable sorting by sender in messagelist,[],"This was disabled in faa666394ce0bf9e4239869ee194991d2f3308f1
because it isn't possible to extract the name of the android
contact in the 'ORDER BY...' clause when querying the database.
Instead it simply sorts by the email address.

This may cause the same contact to appear multiple times in
the list, if they have multiple email addresses assigned.

But in most cases this is good enough and surely better than
not having the option to sort by sender at all.

Desktop mail clients such as Thunderbird also simply use the
sender email information when sorting the column.

This also adds a SenderComparator for usage in the MergeCursor.
"
k9mail/k-9,closed,HTML tag cleanup,[],"Effective with earlier commit e2c5229e854e2ef62585f919a15660cba2489b04,
messages are wrapped with &lt;html> tags at display time, rather than
when messages are saved.

This commit removes tags from existing saved messages and
also removes the tags from a status message.

Not a critical issue -- It just provides consistency.
"
k9mail/k-9,closed,Caching for contactnames.,[],"Hi,

This patch achieves two thing:
- Caching for contact names when creating the 'display name'. I read in comment that we should do that so I did.
- Better separation between Address and MessageHelper. I felt like an address should concern 1 address so I moved some functionallity that handled mutiple ones to the MessageHelper class ( this also better suited my caching ).

This isn't a big patch and I don't know if it actually in reallity realised a small performance gain but I needed this for another project and I thought I might as well offer it to K-9.

I compiled and tested it, seems like I didn't break anything this time :+1: 

If not needed/wanted feel free to just close this pull request.
"
k9mail/k-9,closed,Finnish translation updated,[],"Can this be merged?
"
k9mail/k-9,closed,Updated translations for Catalan.,[],"Good day.

Firstly, I'd like to thank all the K-9 team for making the absolute best mail client for Android (and the best mobile client i've ever used).

Secondly, you'll find the updated translations for the Catalan language. You'll see some apostrophes changed too, as the old ones don't follow the typographic conventions for digital text.

I've reviewed the XML file after editing it and can't find many errors, but please tell me if I did any mistake.

Cheers.
"
k9mail/k-9,closed,Change of the word meaning ,[],"Czech translation
"
k9mail/k-9,closed,Hack around WebView's initial auto-scrolling past the message header,[],"Please test this on as many devices as possible and let me know what you think.
"
k9mail/k-9,closed,Features to make adding a new account easier,[],"1. When login fails, user should decide whether to edit details again or to cancel with a dialog given. (AccountSetupCheckSettings) However, the failure might be caused by any problem from the network. I suggest to add a simple 'Retry' button. (139ae1a)
2. Now, pages on the workflow adding account varies on whether the server is known or not:
   if the server is known, AccountSetupBasics > AccountSetupNames;
   if not, AccountSetupBasics > AccountSetupIncoming > AccountSetupOutgoing > AccountSetupOptions > AccountSetupNames.
   Originally, AccountSetupOptions and AccountSetupNames holded these;
   AccountSetupOptions: CheckFrequency, PushEnable, DisplayCount, Notify, NotifySync
   AccountSetupNames: Description, Name
   I think the last 3 items of AccountSetupOptions (DisplayCount, Notify, NotifySync) are what can be set by user while K-9 knows the server. I moved them onto AccountSetupNames. (0994b98)
3. I think the chip color is another thing users may want to initialize by themselves. The last page, AccountSetupNames, may to initialize the color themselves. The last page, AccountSetupNames, may hold it. (b315cef)
"
k9mail/k-9,closed,Fix message list item background color.,[],"Bug occurred only when the ""Dim messages
after reading"" preference was unchecked (i.e.,
K9.useBackgroundAsUnreadIndicator() == false).

Once an item was selected, its background would
continue to indicate 'selected' even after the
item was deselected.
"
k9mail/k-9,closed,Fix error duplicating false accounts when adding an account,[],"K-9 was adding a new account whenever it has a working account to be added or not. Fixed.
"
k9mail/k-9,closed,Improved import settings,[],"Fixed NPE on import. Also added import button on welcome message.
"
k9mail/k-9,closed,full Korean translation,[],"No NEW strings. Also modified translation on 'Class'.
"
k9mail/k-9,closed,add client certificate handling for imap and smtp,[],"This implements client certificates for authentication against imap and smtp using the KeyChain api available in Android 4.0 and higher.
"
k9mail/k-9,closed,spelling correction Danish (issue 4914),[],"spelling correction Danish (issue 4914)
http://code.google.com/p/k9mail/issues/detail?id=4914
"
k9mail/k-9,closed,Issue 4019 -- Fix inability to zoom out.,[],"I believe this fixes what people are complaining about here:

<a href=""http://code.google.com/p/k9mail/issues/detail?id=4019"">Issue 4019:     Problems using Pinch/Zoom on ICS 4.0.3</a>
"
k9mail/k-9,closed,Fixed Account Colors,[],"Add a series of predefined account colors and pick those if any remain before generating complete random one.

The predefined ones are taken from here:
http://developer.android.com/design/style/color.html

The list is very easy to change, just add/remove or change them in the Account class. The order there is important, it will always be maintained as the order of preference.
"
k9mail/k-9,closed,"Czech loc update, plurals and corrections",[],"plurals for czech needs 
one 1
few 2-4
other 5- 
"
k9mail/k-9,closed,Czech localisation update - test ,[],
k9mail/k-9,closed,Czech update + plurals and corrections ,[],"based on todays xml 
Need some editor tips, who can spent some minutes to help me?  
"
k9mail/k-9,closed,Finnish translation updated,[],"Can this be merged?
"
k9mail/k-9,closed,Changelog is empty when starting 4.327,[],
k9mail/k-9,closed,message view / list: fix NPE when list is empty,[],"This happened for example in a starred-message-only view when
un-starting the last message. This led to isFirst() and isLast()
causing a NullPointerException when trying to update the
previous / next buttons.

new version using the existing isEmpty() method
"
k9mail/k-9,closed,"If there is no message, it should return to a MessageList.",[],"described at here

http://code.google.com/p/k9mail/issues/detail?id=4895
"
k9mail/k-9,closed,Update res/values-cs/strings.xml,[],"Updated on lattest changes by cketti
about plurals I make notes 
there is in translation a unusual translate   <string name=""compact_action"">Stlačit</string> 
what is done with the account, compress or what to find better tranlation
"
k9mail/k-9,closed,Update status bar icons to match Android Design Guidelines,[],
k9mail/k-9,closed,plurals update,[],"about plurals I make notes 
there is in translation a unusual translate   <string name=""compact_action"">Stlačit</string> 
what is done with the account, compress or what to find better tranlation
"
k9mail/k-9,closed,Czech loc for 4.326,[],"Hi, 
I found some time to translate untranslated parts of the Czech localisation and make some cosmetic changes in old one. 
"
k9mail/k-9,closed,Enhancement for charset fallback.,[],"I'm new to git and github.
I hope this is the correct way.
"
k9mail/k-9,closed,Update French translation,[],
k9mail/k-9,closed,message view / list: fix NPE when list is empty,[],"This happened for example in a starred-message-only view when
un-starting the last message. This led to isFirst() and isLast()
causing a NullPointerException when trying to update the
previous / next buttons.
"
k9mail/k-9,closed,message header layout adjustments,[],"- wrap chip around the whole header, including the subject
  and the expanded additional headers area.
- mindor padding adjustments to make whitepsace around the
  contact badge a bit more homogeneous.

http://i.imgur.com/UYRQ8OU.png
"
k9mail/k-9,closed,Korean translations,[],"I made more Korean translations, modified some to fix typos and make things fluent as well.
"
k9mail/k-9,closed,NPE fix + header layout adjustments,[],"http://i.imgur.com/UYRQ8OU.png
"
k9mail/k-9,closed,Holo improvements,[],"Doing as pull request to gather comments first.
"
k9mail/k-9,closed,Clean up date handling.,[],"Remove home-grown date formatting, and replace it by usage of the
DateUtils class which is present since API level 3.
"
k9mail/k-9,closed,hdpi drawable / header cleanup / subject fixes,[],
k9mail/k-9,closed,Update res/values-fr/strings.xml,[],
k9mail/k-9,closed,fix a little typo in language file,[],
k9mail/k-9,closed,Finnish translation updated.,[],"Can you merge this please?
"
k9mail/k-9,closed,Cleanup message menu,[],"I wanted to gather some feedback whether this is wanted behaviour prior to merging.

Rationale is given in the commit messages.
"
k9mail/k-9,closed,Theme fixes,[],"http://i.imgur.com/iqwe9R2.png
"
k9mail/k-9,closed,Fix restoring list state if there were content changes since leaving the fragment.,[],"This is kludgy, thus I'd appreciate feedback whether anyone has better ideas to achieve the desired effect.

Problem is:
- Have an unread message a little down the message list
- Go to said message, making it read
- Go back

Result: List state is not restored
"
k9mail/k-9,closed,fixes for split-view changes,[],
k9mail/k-9,closed,Update French translation,[],
k9mail/k-9,closed,Finnish translation updated,[],"Can this be merged please?
"
k9mail/k-9,closed,Fix sorting of threaded messages.,[],"I do not even try to pretend I fully understand the threaded query, but what I understand is that we select the columns from the grouped query (and u is the ungrouped query) so I think we should sort by the grouped column as well.

Fixes sorting of the threaded message list for me.
"
k9mail/k-9,closed,Fix third party app access to provider,[],"K-9 4.3xx have broken third party unread count readers, such as TeslaUnread/Nova Launcher and MailListWidget for K-9 . This fixes the issue and also fixes a leaked semaphore.

Fixes two issues
1) An exception in the query can cause the semaphore to never be released,
this is now handled in the finally block
2) Binder identity was not cleared preventing access to the EmailProvider
"
k9mail/k-9,closed,Show thread as starred if at least one message in it is starred.,[],
k9mail/k-9,closed,Improve layout of preference screens,[],
k9mail/k-9,closed,Show thread as unread if at least one of the messages of the thread is unread.,[],"Fixes issue 4759.
"
k9mail/k-9,closed,Remember last list view state when going back to a previous message list fragment.,[],"Fixes issue 4854.
"
k9mail/k-9,closed,MessageList: add setting to allow 0 preview lines,[],
k9mail/k-9,closed,Update res/values-fr/strings.xml,[],
k9mail/k-9,closed,Update German translation,[],
k9mail/k-9,closed,Improve certificate failure notifications.,[],"The commit that introduced those notifications also introduced a rather
... interesting design pattern: The CertificateValidationException
notified the user of its pure existance - it's no longer a 'message'
only, but defines policy. As this is more than unusual, replace this
pattern by the MessagingController treating
CertificateValidationException specially when accessing remote folders.

Also make clear which account failed when constructing the notification.
"
k9mail/k-9,closed,load the right number of messages from the server,[],"...sibly doubling the count
"
k9mail/k-9,closed,Finnish translation updated,[],"Can you merge this?
"
k9mail/k-9,closed,Folder search,[],"Changes:

Add a ""find folder"" search button for finding folders in the folder list (or when selecting a folder for a copy/move operation). Granted, there already was a menu option for searching -- this just makes it much easier to access.  In response to <a href=""https://github.com/k9mail/k-9/pull/200#issuecomment-9913526"">comments on an earlier pull request</a>, a new ""find folder"" icon has been created for the search button, and a ""Search for messages in all folders for the account"" button has also been added that uses the existing search icon.

Eliminate the old-style search dialog boxes, and switch to using the action bar for folder searches.  This applies to folder searches initiated in both the FolderList activity and in the ChooseFolder activity

Provide a preference option that permits the user to enable the wrapping of folder names in folder list view. This is essentially a rebase of <a href=""https://github.com/k9mail/k-9/pull/147"">Pull Request 147</a>, so all the comments made there still apply.  The old pull request will be closed because it no longer applies cleanly to the current master.  The rebase of the old pull request has been included here in order to resolve a few conflicts between it and the other changes above.
"
k9mail/k-9,closed,Finnish translation updated.,[],"I've updated the Finnish translation. Can you merge this please?
"
k9mail/k-9,closed,Progress indicators,[],"Provide a progress indicator for searches. Searches can be slow (especially if it is a remote search), so users need an indicator of ongoing activity.  

Remove the progress indicator from the message list footer.  More often than not, it wasn't useful because it was scrolled out of view.  Even when the footer is visible, a user could hit the ""Load up to 25 more"" button and the footer will scroll out of view as the messages are loaded.  Instead, use the ""check mail"" menu button as a progress indicator.

Generally speaking, if there is a ""check mail"" menu button visible, then it is used as the progress indicator in the above instances, otherwise an indicator is put in the action bar to the right of the title.
"
k9mail/k-9,closed,Issue 2389:  Self signed certificate expiry causes silent send/receive failure,[],"This is rebase of <a href=""https://github.com/k9mail/k-9/pull/154"">pull request 154</a> (which I will close) on the current master so that it again applies cleanly.

<hr/>

Presently, k9mail silently fails when there is a certificate problem (such as when a locally stored certificate has expired).  As a result, the user may go for some time without knowing that their email isn't being fetched, or else the user may recognize that there is a problem but not know its cause.

With this patch, a CertPathValidatorException or CertificateException will create a ""Certificate error:  Check your server settings"" notification in the status bar.  When the user clicks on the notification, they are taken to the appropriate server settings screen where they can review their settings and can accept a different server certificate.

Link:  <a href=""https://code.google.com/p/k9mail/issues/detail?id=2389"">Issue 2389</a>
"
k9mail/k-9,closed,Update res/values-fr/strings.xml,[],
k9mail/k-9,closed,Fix notification click behaviour for multiple accounts.,[],"Test case:
- Have two accounts A and B
- Get a mail on A
- Get a mail on B
- Click on the notification for A

Result:
You end up seeing the message from B instead of A

The reason for that is that we need to register separate PendingIntents
for each account.
"
k9mail/k-9,closed,Add back 'refresh' and 'settings' to folder context menu.,[],"Both items are commonly used even by the average user (and likely both
are used more commonly than 'clear local messages'), so it makes
sense to provide them in the context menu as well as the action bar.
"
k9mail/k-9,closed,Some follow-up fixes for the JB notifications,[],
k9mail/k-9,closed,Add jellybean style notifications,[],"This adds a message preview (if one message pending) or message overview (if multiple messages pending) to the notifications. It also adds action buttons for reply (if one message pending only) and 'mark as read'. The latter doesn't work yet, though; MessagingController.setFlag() is executed, but seemingly has no effect - I would appreciate insight on that.

Other testing and feedback is of course also welcome.
"
k9mail/k-9,closed,Finnish translation updated,[],"Can this be merged?
"
k9mail/k-9,closed,Update res/values-fr/strings.xml,[],
k9mail/k-9,closed,Spam Assassin support,[],"This branch adds support for the header fields Spam Assassin sets. If X-Spam-Flag is set to YES, then the message is moved to the user specified spam folder. If the message doesn't have these headers, the default is to assume it's not spam, and continue with normal processing. This has been a requested feature from what I can tell, but of course I implemented this cause I run Spam Assassin on my own email server, and also use K9 for reading email when mobile. I'm open to making any suggested changes to this branch.
"
k9mail/k-9,closed,Fix issue 4771 - work around > getting included in URLs when linkifying text/plain emails,[],"http://code.google.com/p/k9mail/issues/detail?id=4771

&amp;gt; is valid within links, so when we replace > with &amp;gt; at the beginning of the text-to-html conversion, it gets included in URLs when linkified.  Converting &gt; to &amp;gt; after linkifying would break the HTML tags, though.  Instead, replace &gt; with &lt;gt&gt; on the frist pass, then do a search/replace on that to change it back to &amp;gt; after the linkification is done.
"
k9mail/k-9,closed,Update res/values-fr/strings.xml,[],
k9mail/k-9,closed,Multiple SMTP,[],"Multiple SMTP can be difined.
If one fails then the next is used to send emails
"
k9mail/k-9,closed,Update res/values-el/strings.xml,[],"Translation of 4 new strings
"
k9mail/k-9,closed,Update res/values-fr/strings.xml,[],
k9mail/k-9,closed,Show tagging for folders and accounts that have unseen messages,[],"This implements issue 362 (http://code.google.com/p/k9mail/issues/detail?id=362)

Newly-downloaded unread messages are flagged as ""unseen"", independently of their ""unread"" state. The count of unseen messages is shown as a separate chip in the folder and account lists (using an ""eye"" for the chip right now - better ideas welcome). When the folder is opened in the UI, the ""unseen"" flag is cleared on messages in that folder, as you have now seen them in the folder. If you've used Thunderbird before, this is feature parity with the blue highlighting on folder and account names that it does when new unread messages are downloaded.

A message is considered unseen if k9mail would post a notification about it if the user had notifications enabled. The unseen flag is removed from existing messages if the message is marked as read or deleted from another mail client. Notifications for an account are canceled if the number of unseen messages in that account hits 0.

MAYBE TODO:
- needs a pref to enable/disable it ?  Need opinions on where such a pref should be put if I do that.
"
k9mail/k-9,closed,Update res/values-ru/strings.xml,[],"The main part has been translated.
"
k9mail/k-9,closed,StrictMode stacktrace since stream was not closed properly,[],"When the device lost connectivity, a StrictMode error could be thrown since
the stream had not been closed.
"
k9mail/k-9,closed,New Feature: Folder Shortcuts,[],"This is to address issue 4707.

I've added the ability to create shortcuts to specific folders in specific accounts, which can then be placed on the home screen.

Please note that this is my first time contributing to a project like this, so please go easy on me.  I did test the code and it looked like it worked pretty good.

I welcome your advice, and I'd love to see this in the next public version!

Thanks,
-av
"
k9mail/k-9,closed,Update app/res/values-fr/strings.xml,[],
k9mail/k-9,closed,Update of greek translation ,[],"Last greek update containing latest new entries and a few corrections of past ones
"
k9mail/k-9,closed,"Change the default charset from ""us-ascii"" to localized charset when the Content-Type header is missing.",[],"In Japan, should use ISO-2022-JP for historical reason (for before MIME).

Solve the issue 1485?
"
k9mail/k-9,closed,treat mailto: URI parameters case-insensitive,[],"Although RFC defines such parameters case-sensitive, some applications still use capitalized versions like ""Subject"" and ""Body"". Since the Java Uri parser is case-sensitive, this patch wraps calls to it with a version that allows for case-insensitive parameter name matching.

Cleaner version of #205
Feature request in Google Groups: https://groups.google.com/forum/?fromgroups=#!topic/k-9-mail/WN9xcM_QIFw
"
k9mail/k-9,closed,treat mailto: URI parameters case-insensitive,[],"Although RFC defines such parameters case-sensitive, some applications still use capitalized versions like `Subject` and `Body`. Since the Java Uri parser is case-sensitive, this patch replaces all URI parameter names with a lower-case version, and since all parameter name requests are also done in lower-case, this effectively makes the `mailto:` handler logic case-insensitive.

Feature request in Google Groups: https://groups.google.com/forum/?fromgroups=#!topic/k-9-mail/WN9xcM_QIFw
"
k9mail/k-9,closed,Update res/values-el/strings.xml,[],"Rebased of fresh Master corrections in greek localization
"
k9mail/k-9,closed,Patch 5 of greek translation,[]," Refined greek translation shortening some texts and correcting a few typos.
"
k9mail/k-9,closed,Message threading + content provider for message list,[],"Apologies for the massive pull request. I'm hoping for some feedback on this before merging.

What's new:
- message threading
  - can be enabled/disabled via global setting
- MessageListFragment now uses a content provider (EmailProvider) to display the message list
  - dramatically simplifies the UI code
  - a lot less UI thread vs. background thread drama
  - we can (and do) use the ContentObserver mechanism to trigger a requery in all views when something changes the message database
- part of dzan's ""search framework"" was included
  - use a LocalSearch object to describe the search to be performed to display the message list
  - doesn't simplify the MessageListFragments as much as I hoped it would
  - still needs some work

What was working before and now isn't:
- sort by sender
  - because we have a setting to replace the sender name/address with the name from the contacts this currently doesn't work reliably on the content provider level
- remote search
  - the code needs to be adapted to dzan's search thingie
  - I didn't like the UI part anyway :)

What's missing:
- threading by message subject
- threading of existing messages on app upgrade
"
k9mail/k-9,closed,fix wrong translation,[],
k9mail/k-9,closed,Menu button for searching messages,[],"Changes:

5d1ee82ea2213e188c8a8e0d720bd7f97edac23b:  Add a menu button for searching messages.  Recent phones frequently do not have a hardware search key, so there is no way to initiate a search without a menu option.  This is related to issues 3386, 3428, 4523, and 4643.  This also opens up the ability to search remote IMAP folders on those phones.

c0dd96a26904880f2b6f273edb79df5c0359f9e8:  Add a search button for finding folders in the folder list (or when selecting a folder for a copy/move operation).  Granted, there already was a menu option for searching -- this just makes it easier to access and provides some consistency with the new search button on the message list.

a74abd24c8e927ff63e61b9c6bd4c0d4669901d2 and ad34ec3d0c22189dc1f6d5c76f861c615a99b442:  Limit search results to messages in the folder searched.  If a user wants to (locally) search all folders, he can do so from the accounts list.

4634696588f072c550e7c9c2dd15ee8110cac601:  Provide a progress indicator for searches. Searches can be slow, so users need an indicator.  The indicator is also used when opening a message list or when refreshing it, or when loading more messages.  If there is a ""check mail"" menu button visible, then it is used as the progress indicator, otherwise an indicator is put in the action bar to the right of the title.

cf36e75dea8c3775ef3db4f8e1b246b9aa8c44dd:  Remove the progress indicator from the message list footer.  More often than not, it wasn't useful because it was scrolled out of view. The new progress indicator mentioned above serves the same purpose and is always in view.

0a91d5e2229d719150316551d100860a3eac8242:  Enable ""Load up to x more"" for remote searches.  This gives the user the ability to continue a remote search beyond his Server Search Result Limit setting.

f275ec1d0010f54ef19859f47f812c33d684ff9f and 345a0473b3d6f76f5d25f52ee97dec367e0eaff4:  Bug fixes.
"
k9mail/k-9,closed,Update res/values-pt-rBR/strings.xml,[],"Another update...
"
k9mail/k-9,closed,Update res/values-pt-rBR/strings.xml,[],"Another update (there are many new strings), i will make some updates later.
Thanks.
"
k9mail/k-9,closed,Update res/values-pt-rBR/strings.xml,[],"Big update on new strings! Please add them!
"
k9mail/k-9,closed,Update res/values-pt-rBR/strings.xml,[],"Update 15/10/2012
"
k9mail/k-9,closed,Update res/values-hu/strings.xml,[],"Hi!

I'm RootRulez. I translated some strings to hungarian.

Best Regards!
"
k9mail/k-9,closed,Update res/values-ru/strings.xml,[],"Some typos fixes and traslations.
"
k9mail/k-9,closed,Restore saved TCP port setting,[],"This bug occurs with Android 4.1 (Jelly Bean).  Saved TCP port values are no longer being restored when entering the server setup screens.  To reproduce:

Go into Settings -> Account Settings -> Fetching mail -> Incoming server.  Change the port to a non-standard number (e.g., 1234).  Click Next.  You will likely get a 'cannot connect' error -- ignore it.  Click 'continue'.  The port number has now been saved.  Go back into 'Incoming server' again.  Prior to Jelly Bean, you would see the saved port number (1234).  With Jelly Bean, the port number has been reset to a default value.

The cause:

Before this patch, the code in AccountSetupIncoming.onCreate() did the following:

1)  Create mSecurityTypeView, a spinner widget for selecting the server security protocol.

2)  Set an onItemSelected() listener for mSecurityTypeView so that whenever a spinner option value is selected, a call is made to updatePortFromSecurityType() (which sets a default port value based on the selected security protocol).

3)  Initialize the mSecurityTypeView spinner with the saved security protocol option value for the account.

4)  Initialize mPortView (a text widget) with the saved TCP port setting for the account.

On Android versions prior to Jelly Bean, the execution of step (3) immediately resulted in triggering the onItemSelected() listener, resulting in an immediate call to updatePortFromSecurityType() which initialized mPortView with a default value.  However, this default initialization was irrelevant, because mPortView was subsequently reinitialized in step (4).

With Jelly Bean, step (3) still results in triggering the onItemSelected() listener.  However, the subsequent call to updatePortFromSecurityType() is no longer immediate;  instead, the call is posted to the UI message queue to be invoked later -- i.e., the call to updatePortFromSecurityType() is delayed until after step (4), so the saved port value ends up being wiped out and replaced with a default value in the UI.

The problem occurs for both the incoming and outgoing server settings.

This patch moves step (4) from inside of onCreate() to inside of updatePortFromSecurityType().

Tested on Gingerbread, ICS, and Jelly Bean.
"
k9mail/k-9,closed,typo in czech translation,[],
k9mail/k-9,closed,Update res/values-fr/strings.xml,[],
k9mail/k-9,closed,Update res/values-ru/strings.xml,[],"The most part of required lines was translated.
"
k9mail/k-9,closed,Update res/values-el/strings.xml,[],"Includes translation of new strings
"
k9mail/k-9,closed,Add the new outlook.com domain to our list of preconfigured domains.,[],
k9mail/k-9,closed,Update res/values-ru/strings.xml,[],"Some corrections of typos.
"
k9mail/k-9,closed,Update French translation,[],"need a syntax review
"
k9mail/k-9,closed,Addition of number format handling to Storage.java,[],"Amended Storage.java for issue 3714 to add NumberFormatException protection
"
k9mail/k-9,closed,Updated Finnish translation,[],"Can you merge this?
"
k9mail/k-9,closed,Revert to swipe to enter multi select mode.,[],"Having the pull-to-refresh in place exposed a bug with the previous code, commit 47e33be88 fixed that.
"
k9mail/k-9,closed,message view theme switcher: fix wrong bg color for attachment view,[],"light theme still had a black background when viewing attachments
"
k9mail/k-9,closed,swap 'compose' and 'check mail' buttons in message lists,[],"now account list, folder list, and message list are consistent
"
k9mail/k-9,closed,Updated Finnish translation,[],"I've now translated the changed strings.
"
k9mail/k-9,closed,MessageView theme toggle: change the theme of the whole activity and not just the background of the WebView,[],"Using dark theme with white WebView background looks very ugly,
especially when a ""download complete message"" or a ""show images""
button is present.

This change applies the theme to the whole activity.

Also changed the text for the toggle menu. It's also shorter now,
and isn't cut off anymore on hdpi/480px wide devices.
"
k9mail/k-9,closed,Updated Finnish translation,[],"Updated this again. Can you merge?
"
k9mail/k-9,closed,Updated finnish translation,[],"I have updated the Finnish translation. Can you merge this branch?
"
k9mail/k-9,closed,"+toggle option in message view to change message display theme (dark,lig...",[],"...ht) permanently (Issue 1674)
"
k9mail/k-9,closed,+ new theme like old dark theme (all dark but white message view),[],
k9mail/k-9,closed,fixed broken DownloadComplete Button in actionbar + fixed UnRead after d...,[]," fixed broken DownloadComplete Button in actionbar +
 fixed UnRead after downloadcomplete
"
k9mail/k-9,closed,+ new theme like old dark theme (all dark but white message view),[],"added new theme options like our old dark theme - because asked by so many users.
"
k9mail/k-9,closed,Improved italian translation,[],
k9mail/k-9,closed,+ add support for $Forwarded IMAP flag,[],"Add and display an Forwarded for forwarded mails. Because this info is stored as Imap Flag also thunderbird will notice it.
"
k9mail/k-9,closed,Issue 4461: MessageProvider enhancements and fixes,[],"Changes for issues reported in http://code.google.com/p/k9mail/issues/detail?id=4461

Added more fields to MessageProvider.
Sends REFRESH_OBSERVER from folderStatusChanged.
"
k9mail/k-9,closed,+option for display mail format (text/plain | html) (Issue 4456),[],"http://code.google.com/p/k9mail/issues/detail?id=4456
"
k9mail/k-9,closed,upgraded Mime4J  0.7-SNAPSHOT -> 0.7.2 (fixes MimeMultipart parser bug),[],"http://code.google.com/p/k9mail/issues/detail?id=4455
"
k9mail/k-9,closed,Update Values-it,[],"Update Italian translation
"
k9mail/k-9,closed,Updated Finnish translation,[],"I have updated and improved the Finnish translation. Can you please include this in K-9?
"
k9mail/k-9,closed,Update values-it/string.xml,[],
k9mail/k-9,closed,Update res/values-tr/strings.xml,[],
k9mail/k-9,closed,Update res/values-tr/strings.xml,[],
k9mail/k-9,closed,Update res/values/strings.xml,[],
k9mail/k-9,closed,Issue 2814: Image attachment resizing,[],"Implemented image attachment resizing. Ready for review.
"
k9mail/k-9,closed,No more strange white space at the right hand side of the MessageList,[],"Give star a bit more room so there is no cut-off. Don't force the scrollbar on the outside so the listitems can take the whole width and the item separators go to the end.
"
k9mail/k-9,closed,Little bit prettier MessageList,[],"This finally gives the star all the room it needs and gets rid of the white space on the right hand side.
"
k9mail/k-9,closed,Issue258,[],
k9mail/k-9,closed,I fix some spelling errors ,[],"in Greek language 
"
k9mail/k-9,closed,Issue 2595 Added ListPreference to control display of subject in notific...,[],"...ation area (always,unlocked_only,never)
"
k9mail/k-9,closed,Code cleanup + efficient Map iteration,[],"Most of these modifications are trivial, and should not break anything, I successfully built an APK using `ant debug`.
- Unused and/or unread fields got removed.
- An empty else clause got removed (those that had comments in them got spared).
- An override merely calling a method of `super` got removed (those that made a field reachable from a descendant class got spared).
- Several `if` statements of the form `if (foo) { if (bar) { ... } }` got combined into `if ((foo) && (bar)) { ...}` to avoid unnecessary nesting (those that checked debug flags got spared).
- A loop iterating over the `keySet` of a map and then calling `get` for each key got replaced with one iterating over `entrySet` to improve efficiency.
"
k9mail/k-9,closed,Issue 2389:  Self signed certificate expiry causes silent send/receive failure,[],"Presently, k9mail silently fails when there is a certificate problem (such as when a locally stored certificate has expired).  As a result, the user may go for some time without knowing that their email isn't being fetched, or else the user may recognize that there is a problem but not know its cause.

With this patch, a CertPathValidatorException or CertificateException will create a ""Certificate error:  Check your server settings"" notification in the status bar.  When the user clicks on the notification, they are taken to the appropriate server settings screen where they can review their settings and can accept a different server certificate.

Link:  <a href=""https://code.google.com/p/k9mail/issues/detail?id=2389"">Issue 2389</a>
"
k9mail/k-9,closed,Issue 4359:  IMAP message UIDs are 32 bit unsigned values,[],"I request that you consider merging this pull request as a probable fix for Issue 4359.  The RFCs state that IMAP message UIDs are 32 bit unsigned values.   Currently k9mail is parsing and storing them as (32 bit signed) integers, which isn't big enough.  This patch stores them as longs.

Link:  <a href=""https://code.google.com/p/k9mail/issues/detail?id=4359"">Issue 4359</a>
"
k9mail/k-9,closed,support for reply to mailing list,[],"Hi,

I added support for replying to mailman mailing lists.

If you click Reply To and the header ""List-Post"" is set then the mail is replying to the mailing list.
"
k9mail/k-9,closed,permission to broadcast intent when new emails received,[],"I added a permission which receivers of the broadcast intent need to have when a new email is received. I think third party apps should only see senders, receivers and subject of new emails if the user allows it.
"
k9mail/k-9,closed,Create the database in a transaction (better performances),[],"On my emulator, it takes 70ms instead of 250ms.
On a very specific hardware, it takes 0,5s instead of 4,1s.

I willingly did not indent the code between my try/catch (for the patch to be readable).
"
k9mail/k-9,closed,Enhancement to issue #1042,[],"Hi,
I added an enhancement to this issue:
http://code.google.com/p/k9mail/issues/detail?id=1042&colspec=ID%20Product%20Type%20Status%20Priority%20Milestone%20Owner%20Summary
"
k9mail/k-9,closed,Simple blacklist spam filter,[],"If the IMAP server does not provide a spam filter, there is currently no way to avoid continuous notifications when spam arrives. To solve this problem, I implemented a simple blacklist-based spam filter extension to K-9.

Shortly after I posted this extension on my website, I received eleven visits coming from a google search for ""k-9 spam filter"", so I think this feature is requested by users.

The filter is disabled by default and can be enabled in the account options. If enabled, mails moved to the spam folder are declared as spam and their sender addresses are added to the blacklist. On the other hand, mails moved out from the spam folder to another location are assumed not to be spam; their sender address is removed from the blacklist. The blacklist can be easily edited in the account preferences.

Currently, the preferences are only translated into German and English.
"
k9mail/k-9,closed,Wrap folder names in folder list view,[],"It is impossible to predict what system a user may choose for creating and labeling subfolders.  It is also impossible to predict an upper limit for the maximum folder path length and/or subfolder depth that a user may use.  Therefore, it makes no sense to hide part of a folder path (beginning or ending) with ellipsis on the assumption that the hidden part is unimportant for distinguishing one folder from another when viewing a long list of folders.

This problem was originally brought up in <a href=""https://code.google.com/p/k9mail/issues/detail?id=1911"">Issue 1911</a>.  (The original issue complained of the ellipsis at the end of the path.  The ellipsis was later moved to the beginning of the path, but that didn't really improve the situation.)

This (trivial) patch:

1) Permits folder names to wrap on multiple lines in folder list view so users can see the entire name.

2) Reduces the default font size used in folder list view to a reasonable size so that long folder paths wrap to fewer lines.

Ultimately, the implementation of a hierarchical folder list as discussed in Issue 17 would be a better solution.  But in the interim, this patch is an improvement over the current implementation.  
"
k9mail/k-9,closed,IMAP Keywords support.,[],"Hi,

This adds IMAP keywords support ( custom flags ). The Flag enum is a class now. Predefined flags ( all the current ones ) are still only instantiated once. The Flag class is created to resemble an Enum. Only custom flags could exist multiple times at runtime.

Main feature for K-9 is a more complete IMAP implementation. I'll also use these as an option in the local saved searches feature. It could then allow a synced labeling of messages by the user.
"
k9mail/k-9,closed,Choose default character set,[],"Not sure what character sets are wanted or not wanted, but they can easily be change.

http://code.google.com/p/k9mail/issues/detail?id=1485
"
k9mail/k-9,closed,Fix gesture detection,[],"This commit addresses 2 issues:

1) Before, a general GestureDetector was registered on the highest level in K9Activity
   This resulted in EVERY inherited activity to have a useless, unused gesture detector.
   But more than that, in MessageList, a second GestureDetector was assigned to the ListView.
   On every fling gesture, both detectors called the onSwipe() methods,
   which technically did the following:
- The one directly assigned to the ListView would work corectly by mapping the
   (local) event coordinates to the right entry in the ListView
- The global one worked on screen coordinates, so the onSwipe() method would
   likely select the wrong ListView entry (system menu bar offset).
- For some reason this ""worked"" fine, and only the correct entry was selected,
   despite two detectors used.

2) The gesture detection for the MessageView caused problems when the message
   itself was scrollable, i.e. wide HTML mails. A fling gesture inside the WebView
   would scroll the message, but also switch the message.

This commit fixes all those by doing the following:
- Don't register the GestureDetector in K9Activity, instead make the member variable
  accessible by subclasses.
- In the subclasses that need a detector register it
- In K9Activity.dispatchTouchEvent() check for mGestureDetector being null
- For MessageList:
  - Remove the duplicate gesture detector assigned to the ListView
  - in the handleSwipe() methods: calclulate pixel offset of the ListView to make
    it work using the global screen coordinates
- For MessageView: Limit sensitive area to the message header, to prevent interference
  with the WebView scrolling
- Respect current behavior:
  - Force-enable gestures for the MessageList
  - Respect user setting in MessageView
- Make sure that after a successful swipe gesture, any pending action is cancelled, to
  prevent unwanted things to happen (such as expanding the header after changing
  the message, or a context menu popping up in the MessageList).
  See http://code.google.com/p/android/issues/detail?id=8497
"
k9mail/k-9,closed,Experimental/imap keywords backend,[],"Support for IMAP keywords.

Please make sure to review the ImapStore changes since I'm new to that code.
"
k9mail/k-9,closed,Imap keywords,[],"Hi,

Can someone review this? I'm not at all familiar with the IMAPStore but some ctrl-f 'ing and diagonal reading of the code made me believe these changes might be enough to support IMAP keywords. I could be terribly wrong of course.

Custom flags will get a prefix in the database and when used internally. I chose USER_ for that prefix but it could be easily changed.

The Flag enum changed into a class now. There were some concerns about the overhead of those objects but in Java an enum is an object anyway. I implemented the class to resemble the Java enum implementation. The predefined Flags will only be created once at runtime ( like enum's ) so I think it will not prove a noticable overhead.

Best regards,
dzan

PS. My branchname said ""back-end"" but I did the whole thing so it's wrong.
"
k9mail/k-9,closed,Experimental/settings autocomplete finalfixes,[],"This included the fixes for obra's remarks on the initial pullrequest. Only thing I didn't do is left-align the output of the autodetection since we might remove it all anyway and it didn't look good too. Initial pullrequest comment:

Hi all,

This pull request is long overdue. Currently I am the only tester and so their probably will be some things which need yet to change. Please give me feedback!

This was my first time using git and I know my commits could have been more structured! I learned a lot and I think this shows in my later commits.

What this adds is the following ( in short ):

A new wizard for configuring the email accounts. The wizard will try to autodetect the settings. After detection the settings are presented to the user which should in almost all cases just have to press ""Ok"".

The detection uses a mozilla webservice and some techniques used in Thunderbird:
https://developer.mozilla.org/en/Thunderbird/Autoconfiguration
https://wiki.mozilla.org/Thunderbird:Autoconfiguration:ConfigFileFormat

There is support for:
DNS MX lookup
custom usernames
manual configuration is still possible
no ""blind"" autoconfiguration, there is feedback to the user about what is happening
other things I don't think of right now

One ""big feature"" which isn't included yet is support for importing accounts. The first activity in the wizard lists accounts found on the device and is written so it's easy to search and show exported ones on the SD card.
"
k9mail/k-9,closed,Various corrections after first time use,[],"Small corrections in greek language localization. Translation of the legal stuff that was ommited in the first round.

In Languages section of Settings there is no Greek/Ελληνικά option yet.
"
k9mail/k-9,closed,ukrainian localization,[],"I have translate K-9 mail into ukrainian language and send string.xml
"
k9mail/k-9,closed,Aatdark issue4222,[],"Refactor API Level checking code to helper class
"
k9mail/k-9,closed,Fixed Issue 4222. Use of the wrong method to get device-SDK version resu...,[],"...lting in errors on ApiLevel 7 (2.1) devices.

```
Fixed Issue 4222. Use of the wrong method to get device-SDK version resulting in errors on ApiLevel 7 (2.1) devices.
```

http://code.google.com/p/k9mail/issues/detail?id=4222
"
k9mail/k-9,closed,fixed 3976 (SSL cert chains do not validate correctly on some phones) - w...,[],"workaround

http://code.google.com/p/k9mail/issues/detail?id=3976
"
k9mail/k-9,closed,BF+ENH: do not ignore case while comparing folder name + a debug message,[],"This might be specific to my setup where I have INBOX.Inbox which I am actually interested more than in pure INBOX.  Because comparison is done after stripping INBOX. prefix and ignoring the case, obviously INBOX masks out INBOX.Inbox.  This patch might not be acceptable as is, moreover there were arguments on IRC that my setup brakes the standard but I somewhat disagree, and IIRC other email clients I have tried did not have similar issues in accessing it.
"
k9mail/k-9,closed,BF: mAccount must not be accessed before verfied to be non-null,[],"otherwise obviously leads to crashes.
IMHO this was a logical location to move, and it resolved my issue when
account was not yet accessible due to not yet accepted key upon importing
old settings from a stored file
"
k9mail/k-9,closed,Updates of russian translation,[],
k9mail/k-9,closed,Render html code to make white on DarkTheme (fixes 4196),[],"proposed fix for:
http://code.google.com/p/k9mail/issues/detail?id=4196

side effects - unclear - hopefully none
"
k9mail/k-9,closed,Fix for issue 4164: 	Force close when moving an email to another folder,[],"Hi,

I have just reported issue 4164, and now I'm humbly offering my fix for that issue.

I'm new to developing for k9, and I'm new to working with git, so if I'm doing stuff wrong or I'm not following some etiquette or procedures unknown to me, please let me know!

Cheers, unusualdiscrepancy
"
k9mail/k-9,closed,Fade the read messages in message list.,[],"Improves usability, mainly of the dark theme because marking the unread
messages using just the bold typeface is not enough visible there.
"
k9mail/k-9,closed,IMAPsearch,[],"Basic remote/server-side search functionality for IMAP servers.  Activate in preferences on a per-account basis.
"
k9mail/k-9,closed,Create default sort setting by preference,[],"A new option to set default sort setting is added to account settings.
"
k9mail/k-9,closed,Settings autocomplete,[],"Hi all,

This pull request is long overdue. Currently I am the only tester and so their probably will be some things which need yet to change. Please give me feedback!

This was my first time using git and I know my commits could have been more structured! I learned a lot and I think this shows in my later commits.

What this adds is the following ( in short ):

A new wizard for configuring the email accounts. The wizard will try to autodetect the settings. After detection the settings are presented to the user which should in almost all cases just have to press ""Ok"".

The detection uses a mozilla webservice and some techniques used in Thunderbird:
https://developer.mozilla.org/en/Thunderbird/Autoconfiguration
https://wiki.mozilla.org/Thunderbird:Autoconfiguration:ConfigFileFormat

There is support for:
DNS MX lookup
custom usernames
manual configuration is still possible
no ""blind"" autoconfiguration, there is feedback to the user about what is happening
other things I don't think of right now

One ""big feature"" which isn't included yet is support for importing accounts. The first activity in the wizard lists accounts found on the device and is written so it's easy to search and show exported ones on the SD card.
"
k9mail/k-9,closed,message header changes,[],
k9mail/k-9,closed,3945: Handling error when there's no File Manager application used in import settings,[],"Issue 3945: A verification was added to guarantee that the requested intent for 'import settings' will have an application to respond.  A dialog is exhibited when there's no suitable application to handle the import settings and it has a more clear message for what the user could do to handle the error. This dialog contains a button to open android market (in case the user want to download this kind of application) and another button to close the dialog.
"
k9mail/k-9,closed,Creating and Initializing special accounts variables of the Accounts activity to avoid NullPointerException,[],"Creating and initializing special accounts in the refresh method of the Accounts activity to avoid NullPointerException that can be thrown when the activity is resumed. This error forced the application to close right away and happened because the initialization of the special accounts variables is done in the onCreate method of Accounts activity only when the 'hide special accounts' selection isn't checked.

Scenario that caused the error:
1. Before starting the application the option 'hide special accounts' is checked
2. The user starts the application and changes this option in the menu
3. The user clicks back button 2 times to come back to Accounts screen
4. NullPointerException forces the application to close

Constant added to represent the number of special accounts to be used in the initialization of the ArrayList that represents the special accounts to be used in the list adapter of the activity.
"
k9mail/k-9,closed,Add discard confirmation dialog when pressing back,[],"Show a discard confirmation dialog when the user presses the back button while composing a message and drafts are disabled.
"
k9mail/k-9,closed,3280: Shortcuts for Unified Box and All Messages added in launcher screen.,[],"Items to create shortcuts to the 'unified inbox' and 'all messages' were added to the LauncherShortcuts activity.
"
k9mail/k-9,closed,3674: Illegal characters removed from file names when saving them on the device,[],"It was created a method that only allows a certain range of characters to be used in file names when saving them on the device using the writeFile method. 

Now, the set of characters allowed are:
- letters, numbers, spaces, sharp, dollar sign, percent sign, at , single quotation mark, parenthesis, hyphen, underline, curly brackets, tilde, dot, comma, ampersand and circum­flex.
"
k9mail/k-9,closed,added montclair.edu to res/xml/providers.xml based on http://oit.montcla...,[],"...ir.edu/documentation/msu_apps/email/AndroidPhoneSettingUpYourMSUEmailAccount.pdf
"
k9mail/k-9,closed,Newfeature,[],"3674: A method was added to remove illegal characters from file names that cause errors when saving a file on android. The characters that are being removed are: backslash, forward slash, asterisk and interrogation point.
"
k9mail/k-9,closed,Don't save to drafts if drafts folder is -NONE-,[],"Added code to make sure that if the draft folder is set to -NONE-, the folder doesn't get created and drafts are not saved.

Also the 'save' menu button also gets disabled and users don't get an option to save if they press back to exit message composition.

(Issue 3508)
"
k9mail/k-9,closed,Newfeature,[],"3139: Notifications for all accounts removed from status bar when unified inbox is selected, just like when clicking a specific account inbox, but in that case, only notifications from one account are removed from status bar.
"
k9mail/k-9,closed,Correction of few translation errors and translating some of the NEW strings,[],"Regarding Issue 4014 and few other errors I've found.

Also, some NEW Strings were translated (not all of them - sorry!).
"
k9mail/k-9,closed,4.0-MAINT / Issue 3875: Revert to the old way of determining minimum swipe distance.,[],"Issue 3875: Revert to the old way of determining minimum swipe distance.
"
k9mail/k-9,closed,4.0-MAINT / Issue 3875: Fix the swipe algorithm.,[],"Use the old way of determining minimum swipe distance.
"
k9mail/k-9,closed,Use a constant for 18 hours.,[],
k9mail/k-9,closed,Close resources properly,[],"Java has exceptions and resources should always be closed
"
k9mail/k-9,closed,Batch buttons for move and archive,[],"I've added batch buttons for move and archive, as I use them all the time and found it annoying having to use the menu.

This resulted in six buttons across the screen, which made them a bit too small. As I don't use flag at all, I removed that which made it ideal for me, but obviously I can't expect you to merge in something that removes a feature other people use, so I've made it configurable. There's now a menu Global Settings->Interaction->Batch Buttons that lets you configure which buttons to show. I've made the default be to include to include the existing ones and not the new move and archive ones.

There was already a move icon which I used. I've made a new icon for archive which is the move icon with an A on the folder. This is good enough for me, but it's not up to the quality of the other icons.
"
k9mail/k-9,closed,Code cleanup,[],"Although these modifications are trivial, and should not break anything, I successfully built an APK using `ant debug`.
"
k9mail/k-9,closed,"Issue 1303: 	can't send mail get ""no route to host"" error",[],"1. Catch SocketException instead of ConnectException => cover ""no route to host""
2. do the same handling of multiple IPv6+IPv4 adresses we do in SMTP in IMAP too
"
k9mail/k-9,closed,Allow filtering in folder-list with Android 4 devices (no menu  key anymore),[],"Issue 17:   Hierarchical folder list / folder tree
Issue 3130:     Allow filtering in FolderList
"
k9mail/k-9,closed,French and German translation update,[],"Updated both translations, they are up-to-date with res/values/strings.xml now.
"
k9mail/k-9,closed,Prefer Boolean constants over Boolean.valueOf,[],
k9mail/k-9,closed,Avoid string concatenation in Writer.write,[],
k9mail/k-9,closed,Increment mCount only when read() succeeds,[],"Implement skip which honors mLength.  Tidy up read(byte[], int, int).
Mark some members as final.
"
k9mail/k-9,closed,Avoid NPE in getOldestMessageDate,[],"Caused by autounboxing a possibly null Long into a long.
"
k9mail/k-9,closed,"Pgp-related fixes (issues 2152, 2900, 3673, partially 1424)",[],"- option to automatically set a message to encrypt if there is a key for a recipient (2152)
- automatically set replies and forwards of encrypted messages to encrypt (2152)
- set signed and encrypted messages to MessageFormat.TEXT (2900 and 3673)
- refuse to save draft marked to be encrypted (security aspect of 1424)
- warn if a public key is not available for one or more recipients.
"
k9mail/k-9,closed,Option to have confirmation on deleting starred messages.,[],"Option to have confirmation on deleting starred messages. Some folders I read out of order and fly through them, and i don't want to pay attention to if I starred it or not.
"
k9mail/k-9,closed,Message Format: Automatic (plain text unless replying to an HTML message),[],"Setting Message Format to Automatic sets K-9 to compose only plain text messages (really, it should do that no matter what the setting since K-9 can't actually compose an HTML message), and on replies or forwards use HTML if the original message has an HTML body, otherwise use only plain text.

Settings default to Plain Text if a user downgrades K-9.

Mostly resolves Issue 2900: Inline encryption should use plain-text and not HTML, the exception being replying to or forwarding an html message (but the user can click to edit the quote, which will then set the message to text/plain).
"
k9mail/k-9,closed,Do a better job of auto-configuring Yahoo! and Gmail accounts,[],"If we detect a Yahoo! account, set the Spam folder properly.
If we detect a Gmail-hosted account, auto-configure our special folders.
"
k9mail/k-9,closed,Remove legacy code,[],"Now that we dropped support for Android versions < 2.1, remove special code for these versions and try not to use deprecated APIs and interfaces.

Please review for sanity.
"
k9mail/k-9,closed,Issue 1683: Option to strip signature from quoted text in replies.,[],"Strips signature from quoted text in replies (line of /^-- $/ or html equivalent, and everything below). Per account.

was https://github.com/k9mail/k-9/pull/63
"
k9mail/k-9,closed,"improved replying to and forwarding emails (issues: 3668, 3400, 3676)",[],"Issues resolved:
Issue 3668:     Reply quote "">"" not working
Issue 3400:     No separate format settings for replies and forwards
Issue 3676:     signature appears above quoted text even when ""after quoted text"" is selected

Summary of functional changes:
- fixed quoting of text/plain reply when sending text/html messages (builds plain reply separately instead of converting from the html).
- forwarded messages always use QuoteStyle.HEADER.
- can have reply and signature before quote, reply and signature after quote, or reply before and signature after quote (setting reply after and signature before still corrects to both after).
- consistent look between text/plain and text/html parts.

Note: replying to an email without a text/plain part will give the same broken result as before in the odd case that it's a reply to a reply, but most if not all html-only emails are autogenerated. 
"
k9mail/k-9,closed,"added ""mQuotedHtmlContent.setFooterInsertionPoint(bodyOffset);"" ",[],"added `mQuotedHtmlContent.setFooterInsertionPoint(bodyOffset);` because `bodyOffset` could refer to header or footer.

`bodyOffset` refers to the preferred offset (reply after quote or before) when first saved, but when opening saved drafts it was only applied to `headerInsertionPoint`, while later `footerInsertionPoint` is returned (never changed from default of 0) when `insertionLocation == InsertionLocation.AFTER_QUOTE`. this created messed up emails, not just putting the reply before instead of after.
"
k9mail/k-9,closed,Avoid string concatenation in String.format,[],
k9mail/k-9,closed,Introduce and use Utility.closeQuietly(Cursor),[],"This helper is in the same spirit as IOUtils.closeQuietly.
"
k9mail/k-9,closed,Prefer Utility.combine over Account.combinedUuids,[],
k9mail/k-9,closed,Close streams on exceptional paths,[],"Addresses FindBugs complaints.
"
k9mail/k-9,closed,Call IOUtils.closeQuietly where appropriate,[],
k9mail/k-9,closed,Prefer Collection.isEmpty over size,[],
k9mail/k-9,closed,Log Throwable instead of concatenating,[],
k9mail/k-9,closed,Initialize static map optimally,[],"Remove unneeded inner class, use unmodifiable map, and mark as static.
"
k9mail/k-9,closed,Prefer StringBuilder.append over String.concat,[],"Addresses FindBugs complaints.
"
k9mail/k-9,closed,Remove dead stores,[],"Addresses FindBugs complaints.
"
k9mail/k-9,closed,API 7 fixes,[],
k9mail/k-9,closed,Restore position in MessageView after rotation screen.,[],"Scroll to the last known position in the MessageView when rotating the screen.
"
k9mail/k-9,closed,Issue 1424: saving duplicate or similar drafts fixed.,[],"See commit notes for details.

No longer creates duplicate or similar drafts, and does not save messaged marked to be encrypted (those are still saved in a Bundle).
"
k9mail/k-9,closed,Improve handling of From: Headers without parseable email addresses (fixe,[],"Improve handling of From: Headers without parseable email addresses (fixes 3814)

http://code.google.com/p/k9mail/issues/detail?id=3814
"
k9mail/k-9,closed,Make the K9Activity.GestureDetector reusable,[],"Make the K9Activity GestureDetector more generic so that it can be used by both MessageList and MessageView.

Make the mTopView a ToggleScrollView.  The only consumer is currently the MessageView, which uses a ToggleScrollView anyway.  This should make it easier to reuse the anti-scrolling features in ToggleScrollView for ListView later on.

Add some tasty JavaDoc.
"
k9mail/k-9,closed,Optimize java.util.* imports in WebDavStore.,[],
k9mail/k-9,closed,Prefer Integer.valueOf over explicit boxing,[],"Addresses a FindBugs complaint.
"
k9mail/k-9,closed,Prefer entrySet over keySet and get,[],"Addresses FindBugs complaints.
"
k9mail/k-9,closed,Added StringUtilis class  and Applied.,[],"Added StringUtilis class, isNullOrEmpty()  and Applied.it to Address.java

isNullOrEmpty() method is similar with .NET String.IsNullOrEmpty() 
http://msdn.microsoft.com/en-us/library/system.string.isnullorempty.aspx
"
k9mail/k-9,closed,"Added StringUtils class , isNullOrEmpty() function and applied.",[],"Added StringUtils class which would have string utility method.

StringUtils class has isNullOrEmpty()  which check if   string == null || string.length() .

It's similar with .net style(http://msdn.microsoft.com/en-us/library/system.string.isnullorempty.aspx)
"
k9mail/k-9,closed,Prefer Random.nextInt over Math.random,[],"Addresses a FindBugs complaint.
"
k9mail/k-9,closed,Fix NPE in Address.Parse,[],"Found by FindBugs.  Also avoid an allocation and reflection in the
uncommon case.
"
k9mail/k-9,closed,Remove unused literal methods,[],
k9mail/k-9,closed,Avoid repeated allocation of StringBuilder,[],"Previously ImapResponseParser allocated a StringBuilder and its
underlying array for every parsed token.
"
k9mail/k-9,closed,Optimize Utility.combine for length 1 arguments,[],
k9mail/k-9,closed,removed unnecessary empty line,[],"removed unnecessary empty line(English). Updated Korean Translation(Korean)
"
k9mail/k-9,closed,Korean Language Minor Update,[],"Korean Language Minor Update
"
k9mail/k-9,closed,Remove unused Utility.readInputStream,[],"Consider IOUtils.toString instead.
"
k9mail/k-9,closed,Remove duplicated combine flags code,[],
k9mail/k-9,closed,Prefer unsynchronized Collection types,[],
k9mail/k-9,closed,Avoid type-unsafe Set,[],
k9mail/k-9,closed,Option to strip signature from quoted text in replies.,[],"Strips signature from quoted text in replies (line of /^-- $/ or html equivalent, and everything below). Per account.
"
k9mail/k-9,closed,Option to show next message after delete by default instead of previous.,[],"If selected, then automatically select message after delete (default to 'next') instead of automatically select message after delete (default to 'previous'). 
"
k9mail/k-9,closed,Strip signatures and show newer message after delete,[],"First is an option to show by default the next newer message after a delete instead of the previous older message.
Second is code to strip signatures from replies in both plain and html.
"
k9mail/k-9,closed,Avoid concatenation in StringBuilder append,[],
k9mail/k-9,closed,Make sets immutable,[],"Use final and unmodifiable and avoid anonymous inner classes.
"
k9mail/k-9,closed,Spelling corrections,[],
k9mail/k-9,closed,Make an inner class static,[],
k9mail/k-9,closed,Initialize constant sets optimally,[],"Use final and unmodifiable, avoid anonymous inner classes, and ensure
optimal container capacity.
"
k9mail/k-9,closed,Prefer StringBuilder over StringBuffer,[],"The former is unsynchronized and slightly faster.
"
k9mail/k-9,closed,New Wifi usage global settings option,[],"I've been using K9 with my changes for the last couple of days without any issues. My wifi checks cause the mail services main method to grow a bit and if you want I can separate both the background sync and wifi settings checks but I left them for now to keep in line with what was there already.

Let me know if you want anything changed.
"
k9mail/k-9,closed,Call storeSmallMessage in one transaction context,[],"Benchmarking listing and fetching 24 small messages over Wifi improves
from 35 to 17 seconds on a Samsung Galaxy S running Android 2.2.
Partially addresses issue 2245.
"
k9mail/k-9,closed,Fix bad offset in PeekableInputStream,[],
k9mail/k-9,closed,wifi only network option: bug 2194,[],"This is a small change to add a ""always using wifi"" network option.  

It introduces a new string called background_ops_always_wifi which I haven't translated for other locations.  If you need me too I can google translate the new option.

let me know if you have any issues with it.
"
k9mail/k-9,closed,"change Reply All to be like the thunderbird implementation (CC,everybody ",[],"change Reply All to be like the thunderbird implementation (CC,everybody except sender)
"
k9mail/k-9,closed,Expose SenderAddress through ContentProvider. Issue: 3665,[],"http://code.google.com/p/k9mail/issues/detail?id=3665
"
k9mail/k-9,closed,Issue 2784: Cannot set server hostname,[],"Loosened the restrictions on the TLD to support custom private TLD's, as well as single label hostnames.
"
k9mail/k-9,closed,Korean Language Update,[],"I considered the ""readability"".

Thank you.
"
k9mail/k-9,closed,Korean Language minor update,[],"thx

sorry. I had commited two times by mistake
"
k9mail/k-9,closed,WebDavHandler response: uid gets truncated,[],"The SAX parser returns chunks of text to the
WebDavHandler. Other tags were correctly appending
values while the special cased <uid> tag was
simply assigned the value it was given, which would
result in the last chunk assigned to it and not
the whole string of text.
"
k9mail/k-9,closed,localization update,[],"added localization for ""-NONE-"" string used when configuring mail folders
updated russian localization
"
k9mail/k-9,closed,updated russian translation (values-ru),[],"updated russian translation (values-ru)
"
k9mail/k-9,closed,Task switching problem,[],"K-9 3.902 has a following problem.
1. Show a message in MessageView.
2. Press HOME button to back home.
3. Re-launch the K-9 and select another message.
4. Show first selected message.

I should report to the issue tracker.
However, it has been already reported on http://code.google.com/p/k9mail/issues/detail?id=2467

This commit is work-around. I'm not well informed about the android multi-tasking.
"
k9mail/k-9,closed,Add 'reinstall' target,[],
k9mail/k-9,closed,Simple hotkeys,[],"A few simple hotkey enhancements
"
k9mail/k-9,closed,Hotkey fix,[],"A small fix to get the message-dependent hotkeys working again in MessageList.

I have a number of other small keyboard-related commits on my 'tablet' branch. Not sure if they're of general interest or not.
"
k9mail/k-9,closed,Email is e-mail in Dutch. And some other minor (but important) changes :-,[],"Email is e-mail in Dutch. And some other minor (but important) changes :-)
"
k9mail/k-9,closed,Unread flag on Messages ContentProvider,[],"Since k-9 recommends not to hold cursors to content providers, it's difficult to track changes on mail accounts.

Using the new mail broadcast, one is notified for that event but one can't known which mail is new or was really read. With this flag, one can get cursor, pull the records and close it and then known which one is new or not.
"
k9mail/k-9,closed,Korean Language minor update,[],"minor update.  
"
k9mail/k-9,closed,As requested by Jesse - all NEW: are translated.,[],"Updated dutch language file. Hoping to see 3.800 soon ;-). Keep up the good work.
"
k9mail/k-9,closed,Possible to toggle quoted text display,[],"Please review it.
In general cell phone users, In Japanese, The replay message does not contains the quoted original message.
"
k9mail/k-9,closed,Intent open account and check mail,[],"Please review it.
"
k9mail/k-9,closed,Issue2900 2,[],"Improved PGP in multiple ways:
- fixed a bug which prevents K9 from verifing nested PGP mails (for example if you reply to a gpg mail and sign your reply)
- add an config setting (account -> crypto) for automatic verification | decryption

this also depends on a patch submited to APG
"
k9mail/k-9,closed,Enhancement 430,[],"Adding functionality to set an account as default for use when starting up k-9. If an account is selected, k-9 will direct the user straight to that account on startup.

I had a problem that I first pushed and left 'bin' and 'gen' folders. I realised this one by one so unfortunately I remocen bin, pushed, then removed gen and pushed again. Thats why there are 3 commits. Please excuse the mix up. The commit message is attached to the first commit.

Thanks
"
k9mail/k-9,closed,add some Korean providers,[],"some Korean providers are added.

Naver.com (the largest)
hanmail.net  (2nd, has 1 more extra domain, daum.net)
nate.com (3nd)
paran.com (my favorite..)

thanks
"
k9mail/k-9,closed,Language Option for Korean,[],"My Korean String.xml is accepted before, 

But there's no Korean Option on the Language Menu currently.

so I added it into ""supported language"". 

thanks
"
k9mail/k-9,closed,strings.xml for korean_translate,[],"hi i'm new

I made a Korean version string.xml.

I already checked if it work correctly or not.

thank you.
"
k9mail/k-9,closed,Init sync delay,[],"Delayed the initial sync after account creation,
it's still before the wizard closes because of three reasons:
1. The sync will happen after account is saved, in contrary to how it was before
2. The only wizard step left shows something like ""your email are already on their way""
3. If it were after the final step of the wizard the user would be presented with an empty screen - and now there's a good chance that the sync will end before closing the wizard
"
k9mail/k-9,closed,Patch to add keyboard navigation with the J and K keys to MessageList,[],"Patch to add keyboard navigation with the J and K keys (as in VI) to MessageList
for message_list_items in the Message List. This functionality is
already part of k-9 (in MessageView) for navigating among messages that are
displayed individually. J = down/next. K=up/prior
"
k9mail/k-9,closed,Refactor of showFileBrowserActivity to add a couple of extra options,[],".. to the list of possible file browser intents (ES File Explorer and Blackmoon File Browser) and simplify possible future updates.

This is a relatively simple refactoring of the showFileBrowserActivity function to help support more file browsers. It was prompted by the original implementation supporting only OI File Manager and SystemExplorer from AndroidWorkz. As SystemExplorer is a paid for app showing an installation base on the Market of 500-1000 it seemed an odd choice so my suggestion adds support for ES File Explorer (1m - 5m installs) and Blackmoon File Browser (50k - 100k installs).

The change itself moves from a nested if..else construct with multiple exception handlers in it to a loop that iterates through a list of { intent, scheme } strings.

The Uri creation is changed from using Uri.fromFile(startPath) to Uri.parse(intentDetails[listIndex][1] + startPath.getPath()) (where intentDetails[listIndex][1] contains the required scheme). This helps support the Blackmoon browser where selecting a folder is implemented by using Intent.ACTION_PICK and specifying a ""folder://"" scheme in the call to the intent's setData() method; all the other browsers supported so far use a PICK_DIRECTORY intent and can work with a ""file://"" scheme (which is what would have been achieved by the Uri.fromFile() method) but:

1) Blackmoon requires a file to be selected in such cases
2) None of the other browsers are activated with a ""folder://"" scheme!

Note that I've assumed startPath will never be null at the null check prior to setting up the intent within the loop.

The order of the intents listed is such that the original browsers come in their original order as Bernhard implemented, followed by ES File Explorer and Blackmoon File Browser. If no activity is successfully launched then the fallback dialog box is shown allowing the folder to be entered manually.
"
k9mail/k-9,closed,"fixed displaying of ""(null)"" account description in notification",[],"fixed displaying of ""(null)"" account description in notification at account setup wizard
"
k9mail/k-9,closed,Catch IllegalCharsetNameException causing force-close on unsupported japa,[],"Catch IllegalCharsetNameException causing force-close on unsupported japanese charsets (issue 3272)
"
k9mail/k-9,closed,Issue2900,[],"```
disable HTML when sending inline GPG messages (otherwise the will get broken) (fixes issue 2900)
```
"
k9mail/k-9,closed,Support for SMTP authentication methods that are not announced by the server.,[],"- Added AUTOMATIC as a new authentication method that will automatically choose the best authentication method (basically old behavior with CRAM_MD5). All other options will now enforce the selected authentication method.
- Added LOGIN as selectable option.
- Cleaned up code so strings to the different authentication methods are only defined once.
"
k9mail/k-9,closed,Implemented SaveTo function for attachments,[],"Implemented SaveTo function for attachment, enabling the user to specify in which folder he wants to save the attachment (+ default setting) (issue1027) 
- a small nullptr fix (my mailserver does not create a Sent folder by default. )
"
k9mail/k-9,closed,Refactored the code to calculate the number of unread messages in an acco,[],"Refactored the code to calculate the number of unread messages in an account
"
k9mail/k-9,closed,Issue3074,[],"[issue3074 f91fbf8] ""When calculating the number of unread messages shown in the account list, INBOX now is always counted, even if a ""special"" folder has been set to INBOX (issue 3074)
"
k9mail/k-9,closed,Bug3074,[],"i fixed the issue 3074 (https://code.google.com/p/k9mail/issues/detail?id=3074)
"
k9mail/k-9,closed,Issue3179 fix.,[],"Issue:
http://code.google.com/p/k9mail/issues/detail?can=2&q=&colspec=ID%20Product%20Type%20Status%20Priority%20Milestone%20Owner%20Summary&sort=&id=3179

The fix isn't beautiful but I saw it was fixed the same way before so...
What I did: Added another badDateTimeFormat to ImapResponseParser. It occured on the issuelist, the format is: dd-MMM-yyyy HH:mm:ss

Hope it's good.

Regards,
dzan
"
k9mail/k-9,closed,Fix for issue 2955 ( third time good time :D ),[],"The date format preference is now refreshed each time the messages get listed.

Changed two files.
The commit message is what is should be now and the comment removed. Left one line of it because we now refresh each time, it's not really necesarry if an extra variable in the K9 class would be kept ""isDateChanged"", a bit like the managedBackButton flag. But I think this doesn't cause a real overhead by just refreshing it every time.

PS. Obra: the fix went quick, the whole git part took me some time to figure out.
"
k9mail/k-9,closed,Made the minor modifications to support CRAM-MD5 authentication in POP3 accounts.,[],"As noted in Issue 2126 on the issues list at Google Code. I tried to make sure that I followed all your coding styles. Please let me know if there are changes to be made -- I'm happy to do so!

Thanks for the hard work you're doing!
Will
"
k9mail/k-9,closed,fix issue 2955,[],"As the title says.
Hope it's a good one.
"
k9mail/k-9,closed,Fix of issue 2955,[],"This fixes issue 2955.

http://code.google.com/p/k9mail/issues/detail?id=2955&q=type%3DDefect%20status%3DNew&sort=-id&colspec=ID%20Product%20Type%20Status%20Priority%20Milestone%20Owner%20Summary

PS. It was my first time using git and I messed up a bit... but I think this should work?
"
k9mail/k-9,closed,Issue 1240: patch to setup account against a non-English OWA server,[],"I patched the code so that now, when you create an Exchange account, it firstly asks the server for the right folder names for that account (i.e. in italian version of Exchange the Inbox folder defaults to ""Posta in arrivo""), so that the account now works out of the box without further manual configurations.
"
k9mail/k-9,closed,Added SHA-1 checksum to acceptKeyDialog,[],"I added a few lines of code to AccountSetupCheckSettings.java to display the SHA-1 checksum of the certificate, because without this, the whole alert window is pointless. I compiled this version and works fine in the emulator: http://vsza.hu/k9mail-patch.png (you can check at http://www.cacert.org/index.php?id=3 that the last line displays the CAcert root checksum correctly)

I tried not reinventing the wheel, so I used com.fsck.k9.mail.filter.Hex to convert the byte[] to a String of hexadecimal digits.
"
k9mail/k-9,closed,Updated,[],"The Galician translation is updated
"
k9mail/k-9,closed,Issue 2996 - https://code.google.com/p/k9mail/issues/detail?id=2996#makechanges,[],"Hi, I modified 5 files to add a Spam Confirmation message when marking a message as spam. The message can be turned on and off in Settings -> Interaction -> Confirm Actions.

Regards,

Archie.
"
k9mail/k-9,closed,Fix translation,[],"> 00:11:26 < toe> Anlage is very rarely used in german to describe  
> attachments  
> 00:11:58 < toe> almost only in job applications  
> 00:12:15 < toe> usally you use 'Anhang'    

Also fixed last commit to follow the convention of using 'Nachrichten' instead of 'Emails'.
"
k9mail/k-9,closed,Fix translation,[],"this translation was very confusing

> 23:23:02 < toe> hmm... any other ideas? or useful logs i could check?  
> 23:23:07 < cketti> toe: did you check ""show only subscribed folders"" in incoming server settings?  
> 23:24:13 < toe> where do i find that option?  
> 23:24:32 < cketti> account settings -> fetching mail -> incoming server settings  
> 23:25:18 < toe> i have a german localized version, so i have to search for a moment...  
> 23:26:28 < cketti> ""Ordner synchronisieren""  
> 23:26:52 < cketti> ""Einstellungen Posteingang""  
> 23:27:45 < cketti> someone mentioned the german translation sucks... now i know what he meant :)  
> 23:27:46 < toe> aaaaaaaaaaaaah  
> 23:28:04 < toe> there we go  
> 23:28:16 < cketti> btw. you can change k9 locale to english if you want to (that's what i do)  
> 23:28:20 < toe> holy crap, some of those options are hard to find ;)  
> 23:28:39 < toe> code hosting was migrated completely to github?  
> 23:28:45 < cketti> yes  
> 23:29:19 < toe> you will get a pull request for that bad translation soon  
> 23:29:33 < toe> Ordner synchronisieren means ""folder synchronization""  
"
k9mail/k-9,closed,make k9mail build in aosp tree,[],"this enables me building k9 directly in my custom rom aosp tree.. few string localizations and a few empty methods. 
"
k9mail/k-9,closed,PGP/Mime support in K-9,[],"Hey guys,

I'm working on PGP/Mime support in K-9 based on APG for the tarent company.

Since we'd like to see the code upstream, I wanted to ask for your opinion about this ""patch"".
You probably don't want to accept this request at this point, because of bugs 1) and 2) (see below).
I still would like to know what you think, cause I won't have much time to spend on this later.

I use the current version of APG in the android market. I'm working with an HTC Desire Z. (non-root android 2.2.1)

What's working (both send and receive)
- encrypted mails, encrypted+signed mails (attachments are encrypted, too)

What's not working:
- send/receive signed-only mails (you can still read them, but the signature is not checked)

Known Bugs:

1) there is no warning that sending signed-only mails does not work (APG fails)

2) because the whole email including attachments is sent to APG as an byte array, sending attachments >~500Kb fails (without error message). This needs to be replaced with passing it over using an Uri (content://), I would like to use the K-9 content-provider here, do you think that might work? (Is it saving the data as tempfile?, is that a security issue?)

3) receiving attachments works with common attachment sizes you would except on a smartphone (so a 3-5MB file is no problem, my 16MB-testfile caused an endless loop)

4) the PGP/Mime specification requires the following header:

Content-Type: multipart/encrypted; boundary=""....""; protocol=""application/pgp-encrypted""

due to the way K-9 stores messages in the local store the protocol value gets lost (I think this is a known problem in k-9)
Thunderbird, K-9, and Kontact do not care about the missing attribute, I haven't tested any other clients, so I hope this won't be a problem. (I think fixing this would require massive changes in K-9)

I think 5) and 6) are not related to my patch, if they are please let me know.

5) if you're sending an attachment using OIFileManager, the full path is used as filename

6) PGP/Inline sending does not work if you have HTML enabled, I think this is tracked in Issue 3051 

Thank you very much for your thoughts!

I hope we can get PGP/Mime to work in K-9!!

Mattis Pasch
"
k9mail/k-9,closed,Open attachment,[],"see commit msg
"
k9mail/k-9,closed,List footer,[],"Another performance fix, gets rid of the laggy scrolling which sets in when you hit the bottom of the list.
"
k9mail/k-9,closed,Fixes,[],"One bugfix (class cast exception) and one speed improvement, when opening messages. The last one is quite substantial, since standard serialization is really slow on Android.
"
