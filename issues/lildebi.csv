repository,state,title,label,body
guardianproject/lildebi,open,App(0.5.4) stays stuck at startup on LineageOS14.1 (Android 7.1.2),[],"Lildebi version : 0.5.4
OS : LineageOS 14.1
Android version : 7.1.2

App stays stuck at startup (at best the title bar is displayed)."
guardianproject/lildebi,open,"""Download a dev build"" link in wiki main page is 404 broken",[],This link: https://guardianproject.info/builds/lildebi/
guardianproject/lildebi,open,/lib in LD_LIBRARY_PATH cause libc6 installation failure,[],"I'm trying to install Debian jessie on my Samsung GT-S6102. The following error occured:

> Preparing to unpack .../libc6_2.19-18+deb8u6_armel.deb ...                                               
>                                                                                                         
> LD_LIBRARY_PATH contains the traditional /lib directory,                                                                 
> but not the multiarch directory /lib/arm-linux-gnueabi.                                                  
> It is not safe to upgrade the C library in this situation;                                               
> please remove the /lib/directory from LD_LIBRARY_PATH and                                                
> try again.                                                                                               
>                                                                                                                          
> dpkg: error processing archive /var/cache/bootstrap/libc6_2.19-18+deb8u6_armel.deb (--unpack):               
>  subprocess new pre-installation script returned error exit status 1                             

LD_LIBRARY_PATH content is /lib:/vendor/lib:/system/lib

I think that installer script must remove /lib from LD_LIBRARY_PATH before calling second stage of debootstrap."
guardianproject/lildebi,closed,Release 0.4,[],
guardianproject/lildebi,open,Support for arm64,[],"Since jessie Debian provides support for arm64 (aka aarch64). Lil' Debi provides no support for debootstrapping Debian arm64.
"
guardianproject/lildebi,open,Lil' Debi should not depend on Koush's Superuser,[],"CM 13.0 handles the root permissions on its own, through the Privacy Guard. Thus, it's not necessary to install Superuser. Even though, Lil' Debi won't continue without Superuser installed.
"
guardianproject/lildebi,open,Unable to install using rndis0 network interface (USB tethering),[],"Hello! I have a tablet running Replicant flavour of Android.
I have internet connection via USB tethering to my main GNU/Linux system:
http://redmine.replicant.us/projects/replicant/wiki/ReplicantUSBNetworking

The problem with it is what Lil' Debi says ""Status: Network required for install"".

My netcfg is as follows:
lo       UP                                   127.0.0.1/8  
ifb0     DOWN                                   0.0.0.0/0  
ifb1     DOWN                                   0.0.0.0/0  
sit0     DOWN                                   0.0.0.0/0  
ip6tnl0  DOWN                                   0.0.0.0/0  
rndis0   UP                                  10.42.0.93/24  

My Android terminal seems to see the network just fine as well as my browser and F-Droid software repository.

Can Lil' Debi treat this as valid network connection? 
"
guardianproject/lildebi,open,apt-get does not work when _apt sandbox user exists in Ubuntu 16.04,[],"This issue was a real pain.
First I was getting ""permission denied"" socket error temporarily can't resolve blah when trying apt-get update.
I tried so many different things.
My one theory was that there was a conflict between ubuntu names/groups and android names/groups.
So I backed up passwd group and gshadow, removed everything inside them except for root.
Then ran apt-get update and it worked perfectly.

Then I did diffs on the files, and painstakingly merged the old entries back in, making sure there were no UID and GID conflicts and no duplicates. I found a few common users/groups. But they likely would not have been created as duplicates by android-permissions.deb.

Anyway, after putting all the users and groups back, I discovered that apt-get was broken again.

Then finally I figured out it's the _apt user which is used for an apt sandbox.
Adding the _apt user to the inet (GID 3003) group does not help, disabling SElinux did not help.
This issue occured with Ubuntu 16.04 on CM 13 Android 6.0.1 Kernel 3.4 and SElinux.

Workaround: simply remove the _apt user. Apt can function without sandboxing.
"
guardianproject/lildebi,closed,ubuntu 16.04 armhf possible?,[],"I got debian working on my Samsung Galaxy S5 (CM13 Android 6.0.1) by tarring it and copying it from my S3 (CM11 Android 4.4)

Now that I know chroot works on my S5, I tried Ubuntu 16.04 armhf, (I figured this phone has vfpv4, so it should work)
I did first stage debootstrap on my x86 PC `--foreign --arch armhf`, tar, push, untar @ /data/xenial
Here I'm trying to chroot Ubuntu while Debian is running in the background.

EDIT:
I got this working. I just finished the whole debootstrap on my PC with qemu then also mimmicked the lildebi scripts better. It worked.

```
root@klte:/ # mount | grep debian/system
/dev/block/mmcblk0p23 on /data/debian/system type ext4 (ro,seclabel,relatime,errors=panic,data=ordered)
/dev/block/mmcblk0p23 on /data/debian/data/debian/system type ext4 (ro,seclabel,relatime,errors=panic,data=ordered)
root@klte:/ # mount /dev/block/mmcblk0p23 /data/xenial/system -o ro,seclabel,relatime,errors=panic,data=ordered


root@klte:/ # mount -o bind /dev /data/xenial/dev
root@klte:/ # cd /data/data/info.guardianproject.lildebi/app                                                                                                      
app_bin/
root@klte:/data/data/info.guardianproject.lildebi/app_bin # TERM=linux \
HOME=/root \
HOSTNAME=xenial \
DEBIAN_FRONTEND=noninteractive \
PATH=$app_bin:/usr/sbin:/usr/bin:/sbin:/bin:/system/sbin:/system/bin:/system/xbin \
./chroot /data/xenial

root@xenial:/ # /bin/bash
ERROR: ld.so: object 'libsigchain.so' from LD_PRELOAD cannot be preloaded (cannot open shared object file): ignored.
I have no name!@localhost:/# echo $SHELL
/system/bin/sh
I have no name!@localhost:/# exit
exit
root@xenial:/ # echo $SHELL
/system/bin/sh
root@xenial:/ # exit
root@klte:/data/data/info.guardianproject.lildebi/app_bin #
```

I've repeated the test with SELINUX disabled: no diff.

@eighthave @godlessfather @SDkie is it a problem with the way the ubuntu armhf binaries have been built?

I compared the binaries from the Debian chroot

```
root@localhost:/# file /data/{debian,xenial}/bin/bash
/data/debian/bin/bash: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.3, for GNU/Linux 2.6.32, BuildID[sha1]=8ab870f6f5cbbb621b85763f557b41832a3f3181, stripped
/data/xenial/bin/bash: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux-armhf.so.3, for GNU/Linux 2.6.32, BuildID[sha1]=3b053d97ab6f0b39d06f6a7dc204f5398b29cb68, stripped
```

```
#from cat /proc/cpuinfo
Features    : swp half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt
Hardware    : Qualcomm MSM8974PRO-AC

#RbPi2 (for comparison)
Features    : half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm
Hardware    : BCM2709
```

Wikipedia [ARM VFP](https://en.wikipedia.org/wiki/ARM_architecture#Floating-point_.28VFP.29) says 
""In Debian Linux, and derivatives such as Ubuntu, armhf (ARM hard float) refers to the ARMv7 architecture including the additional VFP3-D16 floating-point hardware extension (and Thumb-2) above.""
vfpv3===VFP3-D16
lpae === large physical address extension
? === thumb2
evtstrm === ?

**Maybe the way I'm getting into the chroot is not good enough**
I copied bash from debian to bash2 on xenial.
I tried to run it `./bash2: No such file or directory` (it does exist and is executable)

BTW: At first I tried to run stage 2 in one line, similar to how it's done in create-debian-setup.sh but there were lots of these ld.so LD_PRELOAD errors, and it kept trying to change ownership on /system (which was luckily ro). Then I think my kernel panicked and phone rebooted.
"
guardianproject/lildebi,open,Running KVM on Samsung Galaxy S3 / S5,[],"I know this idea is quite ambitious and quite a long shot.
But the geek in me would like to be able to run a modern kernel.

**Booting mainline very unlikely**
There's probably no point in trying to compile a mainline kernel to work on my Samsung Galaxy S3/S5, as the phone has blob hardware drivers, and the kernels they use (especially the S3) are customized Android kernels.

**So plan B is to boot the mainline kernel inside KVM :)**

Samsung Galaxy
S3 CPU: Exynos 4412 Quad (cpuid says SMDK4x12) (debian chroot working) 3.0.64 kernel
S5 CPU: Qualcomm MSM8974-AC Snapdragon 801 (debian chroot not working yet) 3.4 kernel

These are Armv7 CPUs.
Relevant reading on this topic is the early experiments getting the RaspberryPi 2 to boot in HYP mode instead of SVC mode.
These days RbPi bootloader enters HYP automatically so this hack is no longer required for the RbPi.
Basically the old bootloader started the kernel in SVC mode.
So the hack-solution to get the CPU into HYP mode, was to compile this code to binary, then concatenate it onto the beginning of the linux kernel binary.

The main requirement is getting the phone to boot in HYP mode.
I don't know if it's booting in HYP mode, likely it will be SVC mode.

The Hardkernel U3 uses the Exynos 4412 SoC
http://www.hardkernel.com/main/products/prdt_info.php?g_code=G138733896281
You can see they support hyp mode on Uboot for it
https://github.com/hardkernel/linux/blob/dc8cceddf4aa27d1703aca9f10a5552e3cce5d25/arch/arm/mach-exynos/headsmp.S

So somewhere in this repo, should be appropriate code /instructions that I could compile and concatenate onto the beginning of my kernel.
https://github.com/hardkernel/u-boot

After figuring out how to get the CPU into HYP mode I'd recompile the CM kernel with KVM support.
"
guardianproject/lildebi,open,ext4 install support?,[],"Hello. Is it possible to install Lil' Debi on ext4 fs or you have plans to add this support? I try install it on Samsung SM-T110, but only ext2 supported:( 
May be i can edit some configuration files?
Sorry for my english.
"
guardianproject/lildebi,open,Mount NFS share from Chroot'ed debian?,[],"I'm testing running debian on internal storage on one of my phones. I ran into a problem, where I could not complete `apt-get install nfs-common`, to be able to mount an NFS share.

```
[....] Starting rpcbind daemon...ln: failed to create symbolic link ‘/run/sendsigs.omit.d/rpcbind’: No such file or directory failed!
(normal stuff)
[FAIL] Starting NFS common utilities: statd failed!
```

I don't know if it's related, but this [freeBSD page](https://forums.freebsd.org/threads/29968/) says you can't run RPCbind in a jail (they likely mean a Chroot).

So I edited this file
/etc/default/nfs-common
`NEED_STATD=no`

Then apt-get remove nfs-common (not purge) and apt-get install nfs-common.
The install completed successfully.

When trying to mount, I get the error `mount.nfs: No such device`.
I'm guessing that my CM11 kernel was built without NFS and CIFS support.
Perhaps I can recompile it some time.

I looked into smbfs, which I think was a userspace NFS client, but it's deprecated.
"
guardianproject/lildebi,open,The current NDK Toolchain version is 4.9,[],"I needed to make this change to progress with building, but I got stuck on the last step because I don't have OpenJDK8 yet.
"
guardianproject/lildebi,open,Fails to install on Samsung Galaxy ACE CyanogenMod 7.2 ,[],"Install log says (snipped the rest) 

```



+ losetup
BusyBox v1.22.1 (2015-01-26 17:29:04 UTC) multi-call binary.

Usage: losetup [-r] [-o OFS] {-f|LOOPDEV} FILE - associate loop devices
        losetup -d LOOPDEV - disassociate
        losetup -a - show status
        losetup -f - show next free loop device

        -o OFS  Start OFS bytes into FILE
        -r      Read-only
        -f      Show/use next free loop device

+ /system/xbin/losetup
+ /system/xbin/losetup /dev/block/loop0 /mnt/sdcard/debian.img
+ losetup
BusyBox v1.22.1 (2015-01-26 17:29:04 UTC) multi-call binary.

Usage: losetup [-r] [-o OFS] {-f|LOOPDEV} FILE - associate loop devices
        losetup -d LOOPDEV - disassociate
        losetup -a - show status
        losetup -f - show next free loop device

        -o OFS  Start OFS bytes into FILE
        -r      Read-only
        -f      Show/use next free loop device

+ /system/xbin/losetup
/dev/block/loop0: 0 /mnt/sdcard/debian.img
+ mount -o loop,noatime,errors=remount-ro /dev/block/loop0 /data/debian
+ [ 0 -ne 0 ]
+ cd /data/debian
+ tar xf /data/data/info.guardianproject.lildebi/app_bin/cdebootstrap.tar
tar: can't create directory 'usr/': Operation not permitted
tar: can't open 'usr/': Is a directory
```

It's failling to untar cdeboostrap to the mounted image. The rest fails obviously. 

The reason is below : mounting /dev/block/loop0 seems to point to a j4fs with read only stuff (is it the recovery OS ?) 

```
# mount -o loop,noatime,errors=remount-ro /dev/block/loop0 /data/debian
# ls /data/debian
ani_upload_1_kernel_panic.jpg       fota_reboot
ani_upload_2_cp_crash.jpg           jigusb_dl_flag
ani_upload_3_forced_upload.jpg      log_enable
ani_upload_4_hardware_reset.jpg     logo.jpg
ani_upload_4_unknown_reset.jpg      logo_kor.jpg
ani_upload_4_watchdog_reset.jpg     logo_lafleur.jpg
ani_upload_5_user_fault.jpg         logo_org.jpg
ani_upload_6_hsic_disconnected.jpg  logo_voda.jpg
charging.jpg                        nps_fail.jpg
charging_kor.jpg                    nps_status
debug_level.inf                     param.blk
droid.jpg                           sud_index
dummy.bin                           switch_sel
# mount
rootfs on / type rootfs (ro,relatime)
tmpfs on /dev type tmpfs (rw,relatime,mode=755)
devpts on /dev/pts type devpts (rw,relatime,mode=600)
proc on /proc type proc (rw,relatime)
sysfs on /sys type sysfs (rw,relatime)
tmpfs on /mnt/asec type tmpfs (rw,relatime,mode=755,gid=1000)
tmpfs on /mnt/obb type tmpfs (rw,relatime,mode=755,gid=1000)
/dev/stl9 on /system type ext4 (rw,relatime,barrier=1,data=ordered)
/dev/stl10 on /cache type ext4 (rw,nosuid,nodev,relatime,barrier=1,data=ordered)
/dev/stl6 on /mnt/.lfs type j4fs (rw,relatime)
/dev/stl11 on /data type ext4 (rw,nosuid,nodev,relatime,barrier=1,data=ordered)
/dev/block/vold/179:1 on /mnt/sdcard type vfat (rw,dirsync,nosuid,nodev,noexec,relatime,uid=1000,gid=1015,fmask=0602,dmask=0602,allow_utime=0020,codepage=cp437,iocharset=iso8859-1,shortname=mixed,utf8,errors=remount-ro)
/dev/block/vold/179:1 on /mnt/secure/asec type vfat (rw,dirsync,nosuid,nodev,noexec,relatime,uid=1000,gid=1015,fmask=0602,dmask=0602,allow_utime=0020,codepage=cp437,iocharset=iso8859-1,shortname=mixed,utf8,errors=remount-ro)
tmpfs on /mnt/sdcard/.android_secure type tmpfs (ro,relatime,size=0k,mode=000)
/dev/block/loop0 on /data/debian type j4fs (rw,noatime)
```

I am available to debug if you can point me in the right direction. Or to give extra details about the phone setup. 
"
guardianproject/lildebi,open,please support manual entry for mirror,[],"I would like to use my local approx - so would want to use e.g. 192.168.1.152:9999 as mirror.

Please make it possible to add a custom mirror (e.g. as a config item, to keep UI as-is).
"
guardianproject/lildebi,open,Lildebi starts with mount error,[],"Hi there,
I am trying to setup Lil'Debi on my Fairphone 1. I managed start Debian but I cannot use the shell. start-debian.sh shows some weird mount errors with paths including ""//"":
mount: mounting /mnt/shell/emulated on /data/debian//mnt/shell/emulated failed: No such file or directory

All paths in the mount commands have these double slashes...

Does anybody have an idea how to solve this?

Thank you for your support and best regards
Michael
"
guardianproject/lildebi,closed,"cannot login via SSH error ""stdin: is not a tty""",[],"`ssh root@ip` it asks for the password. I enter it. Then it gives the standard Debian welcome greeting ""comes with no warranty etc"". Then it says ""stdin: is not a tty"". The terminal is unresponsive after that.

`ssh root@ip /bin/sh` or `ssh root@ip /bin/bash` it asks for the password, then just gives a blinking cursor and is unresponsive.

`ssh -t root@ip` it asks for the password, then says `PTY allocation request failed on channel 0`

**When using the Android Terminal Emulator, chrooted inside the debian install:**
- ls /dev/ lists many tty devices
- `su root` or `/bin/bash` logs me in again confirming that there are no problems with ~/.bashrc /etc/bash.bashrc and /etc/profile.
- `ls -a /dev` only produces `cpuctl pts`

**When I click the Start Debian button in Lil Debi**
it says start_debian.sh ... configuration that will be loaded then shows a whole bunch of mounts, then it shows SSH host keys, then it says Debian chroot mounted and started.

**After start_debian.sh finishes**

```
stty: standard input: Invalid argument
Using makefile-style concurrent boot in runlevel 2.
tcgetattr: Invalid Argument
Starting OpenBSD Secure Shell Server: sshd
```

**Installation steps performed**
- Normal lildebi install on my phone on internal storage.
  At first I didn't know what the root password would be so I couldn't login via ssh.
- Chrooted into the debian via Android Terminal Emulator on the phone.
  df -m shows that root is 94% in use. It looked alright.
- apt-get update && apt-get install nano, but could not get nano to run. IIRC it said ""error opening terminal"".
- Edited /etc/sshd_config (using `sed` and `echo` because `nano` would not work) to enable root login with a password. 
- I reset the root password using `passwd`.

**Device and OS**
Android 4.4.4
Samsung Galaxy S3 GT-I9305
Kernel: 3.0.64
CM 11 2015 Jan
"
guardianproject/lildebi,open,Can't install on Samsung Galaxy i9100 with CyanogenMod 12.1,[],"I think you need the log created.
Here it is:

manufacturer: samsung
model: GT-I9100
product: GT-I9100
brand: Samsung
device: GT-I9100
board: smdk4210
ID: LMY48Y
CPU ABI: armeabi-v7a
release: 5.1.1
incremental: 94e1372c6d
codename: REL
SDK: 22

install.log:

 # cd /data/data/info.guardianproject.lildebi/app_bin
 # ./create-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/sdcard0 /storage/sdcard0/debian.img /data/debian \
 && ./stop-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/sdcard0 /storage/sdcard0/debian.img /data/debian \
 && ./unmounted-install-tweaks.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/sdcard0 /storage/sdcard0/debian.img /data/debian \
 && ./start-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/sdcard0 /storage/sdcard0/debian.img /data/debian \
 && /data/data/info.guardianproject.lildebi/app_bin/chroot /data/debian /data/data/info.guardianproject.lildebi/app_bin/complete-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/sdcard0 /storage/sdcard0/debian.img /data/debian 
 # ./stop-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/sdcard0 /storage/sdcard0/debian.img /data/debian 
 # exit
 Cannot execute /data/data/info.guardianproject.lildebi/app_bin/sh: No such file or directory
"
guardianproject/lildebi,open,tmp-mksh: <stdin>[6]: ./create-debian-setup.sh: No such file or directory [Android 5.1],[],"this is the error I am getting when trying to start Debian.
I am running CM 12.1, and user @godlessfather briefly mentioned this workaround in a previous post:

The busybox binary in 0.5.3 does not work with Android 5.x. The nightly on guardianproject.org is partially functional at the moment for 5.x. With some tweaks (copying CM's busybox and editing the install script for cdebootstrap to allow unauthenticated), you could get an install to complete if you are fine with cdebootstrap not verifying the repo signatures on the first stage of the install. After the install, the start button will work fine but stop button won't work; it must be stopped manually.

Can anyone confirm this? If it works then I would also very much appreciate if someone could guide me a little in achieving this. 
  where do I find CM's busybox binary? and
  which part of the install script should I edit?

my current install.log file is attached

thanks in advance.

ali

[install.log.txt](https://github.com/guardianproject/lildebi/files/83361/install.log.txt)
"
guardianproject/lildebi,open,Can't install anything?,[],"This is what I get when I install nano

Building dependency tree
Reading state information... Done
Suggested packages:
  spell
The following NEW packages will be installed:
  nano
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 352 kB of archives.
After this operation, 1677 kB of additional disk space will be used.
Get:1 http://mirrors.ece.ubc.ca/debian/ jessie/main nano armel 2.2.6-3 [352 kB]
Fetched 352 kB in 1s (332 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
dpkg: warning: 'ldconfig' not found in PATH or not executable
dpkg: warning: 'start-stop-daemon' not found in PATH or not executable
dpkg: error: 2 expected programs not found in PATH or not executable
Note: root's PATH should usually contain /usr/local/sbin, /usr/sbin and /sbin
E: Sub-process /usr/bin/dpkg returned an error code (
"
guardianproject/lildebi,open,Problem with dd when SD card is ext4 formated,[],"Created debian.img had size of 1MB.
I must change script [create-debian-setup.sh](https://github.com/guardianproject/lildebi/blob/master/assets/create-debian-setup.sh#L68) on line 68,
from:
`dd if=/dev/zero of=$install_path seek=$imagesize bs=1M count=1`
to:
`dd if=/dev/zero of=$install_path bs=1M count=$imagesize`.
"
guardianproject/lildebi,open,Add new supported device: Samsung Galaxy Tab 2 7.0 (P3110) with CM-11,[],"I have no issues when deploying Debian to my tablet Samsung Galaxy Tab 2 7.0 (P3110) with Cyanogenmod 11.
But no swap support.
"
guardianproject/lildebi,open,"Added translations, fixed some existing ones",[],"I updated the German translation. The corrections of the existing ones are mostly typos.

The translation of doit (Delete Setup) was ""Eingestellungen löschen"" which should mean ""Einstellungen löschen"" (delete properties/settings), which might confuse users, so I changed it to ""Installation löschen"" (delete installation/setup).
"
guardianproject/lildebi,open,Post-Start Android script?,[],"I wish Lil'Debi gave me the option to run an Android script after start.

As a GNU/Linux user I generally prefer to work in the Debian side, but I occasionally need to run commands on the Android side (e.g. ""am"") and I can't seem to do that from the ssh chroot.  So I figured I could run an Android-side daemon which communicates with a Debian-side daemon so that I could send commands from Debian back to Android.

But I'd need to auto-start this daemon from the Lil'Debi startup script, yet currently the only such script I can configure is the """"Post-start Script"" which is run within the Debian chroot jail.

Of course, I could also abuse such a Lil'Debi ""Android-side startup script"" to run unrelated applications at startup such as Linphone (since Lil'Debi successfully launches at boot while Linphone somehow fails to do so).
"
guardianproject/lildebi,open,dynamic profile creation ,[],"Default profiles are generated at /data/data/indo.gaurdianproject.lildebi/app_profiles directory.
User can add his own profiles at /data/data/info.gaurdianproject. lildebi/app_usergenprofiles 
"
guardianproject/lildebi,open,File manager to choose debian installation image,[],"File manager to choose debian installation image
"
guardianproject/lildebi,open,Lil Debi Failed Installation on NextBook 10SE,[],"I’m trying to use Lil’ Debi to install Lil’ Debian on my E-Fun NextBook 10SE. It fails each time and gives me the following in the Terminal emulator:
# cd /data/data/info.guardianproject.lildebi/app_bin

unknown option - - s
Usage: su [options] [args…]

Options:
 -c, - - command COMAND         pass COMMAND to the invoked shell
 -cn, - -context CONTEXT            switch to SELinux CONTEXT before invoking
 -d, - -ad, - - daemon, - -auto-daemon
                            start the su daemon
 -i,  - - install                   check and repair su files
 -h, - -help                    display this help message and exit
 -v, -V, - -version             display version number and exit

Usage#2 su uid COMMAND
"
guardianproject/lildebi,open,Xserver with lildebi instructions,[],"Can you write how to run xserver with lildebi? The blog link instructions for xserver on fdroid is gone for good.
"
guardianproject/lildebi,open,Can't find /bin/bash,[],"lildebi installs alright but gives a can't find /bin/bash error when I start it. I have superuser not SuperSU so its not related.
"
guardianproject/lildebi,open,Deprecate SHA1,[],"lildebi shouldn't be using sha1 to check image integrity. Its not safe anymore. sha256sum should be used at least. 
"
guardianproject/lildebi,open,Cannot initially access Lil' Debi environment - root password unknown and shell does not work,[],"On both my Nexus 7 tablet and Galaxy Nexus phone, Lil' Debi installed Debian stable (jessie) for armel - 600MB  [i.e. default options], and could see that the ssh server was started, but I could not access the chroot via Connectbot as root's password was unknown and it would not accept no password.

I attempted to gain a shell using both Terminal Emulator and Connectbot's Local Shell, but it gave an error on both devices:

root@maguro:/ # /data/data/info.guardianproject.lildebi/app_bin/shell
grep: /debian/etc/passwd: No such file or directory
chroot: can't execute '/bin/bash': No such file or directory

Eventually, I did gain access by copying the image to my Linux desktop, mounting the image and manually editing /root/.ssh/authorized_keys to allow my pubkey access, but this is probably not something beginners would think of.

The Lil' Debi setting ""Install on Internal Storage: /data/debian"" was NOT ticked, and the .apk installed was version 0.5.4 from F-droid.
"
guardianproject/lildebi,open,chroot enviroment missing $PATH,[],"Hello,
after installing Lil'Debi on lg-p880, I execute /debian/shell
and get # as prompt.

However most of the expected commands arent found in PATH, so after exporting like this:
export PATH=/sbin:/bin:/usr/bin:/usr/sbin:$PATH
I have 538 executables found by bash.

However adding a user via 
adduser $USERNAME
I get caught by:
passwd: pam_start() failed, error 26
Try again? (y/N)y
passwd: pam_start() failed, error 26
Try again? (y/N)N
chfn: PAM: Critical error - immediate abort
adduser: '/usr/bin/chfn $USERNAME' returned error code 1. Exiting

retrying the above yields:
adduser: The user $USERNAME already exists.

su - $USERNAME yields:
su: pam_start: error 26

also no apt-get anywhere in $PATH

What/Why/How?

I feel that this is a problem of Lil'Debi, because a selfmade debian.img works just fine.
Is this possibly an error of my own? How can I avoid it?
"
guardianproject/lildebi,open,x86 support,[],"Seems no support for Asus zenfone, which has x86 intel CPU
"
guardianproject/lildebi,open,Broken dpkg,[],"Hi all,

When I try to install something by apt-get, I got this recurrent message :

debconf: delaying package configuration, since apt-utils is not installed
E: Waited for /usr/sbin/dpkg-preconfigure --apt || true but it wasn't there
E: Failure running script /usr/sbin/dpkg-preconfigure --apt || true
# Config :

manufacturer: HUAWEI
model: PE-TL10
product: PE-TL10
brand: Huawei
device: hwPE
board: PE-TL10
ID: HuaweiPE-TL10
CPU ABI: armeabi-v7a
release: 4.4.2
incremental: C900B142
codename: REL
SDK: 19
# Log :
# cd /data/data/info.guardianproject.lildebi/app_bin
# ./create-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /sdcard/debian.img /data/debian \

&& ./stop-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /sdcard/debian.img /data/debian \
&& ./unmounted-install-tweaks.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /sdcard/debian.img /data/debian \
&& ./start-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /sdcard/debian.img /data/debian \
&& /data/data/info.guardianproject.lildebi/app_bin/chroot /data/debian /data/data/info.guardianproject.lildebi/app_bin/complete-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /sdcard/debian.img /data/debian 
# ./stop-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /sdcard/debian.img /data/debian
# exit
- export PATH=/data/data/info.guardianproject.lildebi/app_bin:/sbin:/vendor/bin:/system/sbin:/system/bin:/system/xbin----------------------------------------
- test -e /data/data/info.guardianproject.lildebi/app_bin/lildebi-common
- . /data/data/info.guardianproject.lildebi/app_bin/lildebi-common
- echo ----------------------------------------
- export TERM=linux
- export HOME=/root
- export HOSTNAME=debian
- export DEBIAN_FRONTEND=noninteractive
- [ 4 -lt 1 ]
- app_bin=/data/data/info.guardianproject.lildebi/app_bin
- export PATH=/data/data/info.guardianproject.lildebi/app_bin:/usr/sbin:/usr/bin:/sbin:/bin:/system/sbin:/system/bin:/system/xbin
- basename ./create-debian-setup.sh
- echo create-debian-setup.sh
- [ -z ]
- sdcard=/storage/emulated/legacy
- [ -z ]
- install_path=/sdcard/debian.img
- [ -z ]
- mnt=/data/debian
- [ x/data/debian = x/sdcard/debian.img ]
- install_on_internal_storage=no
- test -d /data/data/info.guardianproject.lildebi/app_bin
- test -d /storage/emulated/legacy
- test -z /sdcard/debian.img
- test -z /data/debian
- busybox_path=/data/data/info.guardianproject.lildebi/app_bin
- busybox=/data/data/info.guardianproject.lildebi/app_bin/busybox
  create-debian-setup.sh
- dirname /data/data/info.guardianproject.lildebi/app_bin
- fsck_chroot=/data/data/info.guardianproject.lildebi/fsck-chroot
- install_fsck=no
- dirname /data/data/info.guardianproject.lildebi/app_bin
- basename /sdcard/debian.img.sha1
- sha1file=/data/data/info.guardianproject.lildebi/debian.img.sha1
- umask 077
- find_losetup
- [ -x /system/xbin/losetup ]
- echo /data/data/info.guardianproject.lildebi/app_bin/losetup
- losetup=/data/data/info.guardianproject.lildebi/app_bin/losetup
- find_loopdev
- find_attached_loopdev
- /data/data/info.guardianproject.lildebi/app_bin/ls -1 /dev/block/loop0 /dev/block/loop1 /dev/block/loop2 /dev/block/loop3 /dev/block/loop4 /dev/block/loop5 /dev/block/loop6 /dev/block/loop7
- grep -q /sdcard/debian.img
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop0
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop1
- grep -q /sdcard/debian.img
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop2
- grep -q /sdcard/debian.img
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop3
- grep -q /sdcard/debian.img
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop4
- grep -q /sdcard/debian.img
- 
- grep -q /sdcard/debian.img
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop5
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop6
- grep -q /sdcard/debian.img
- 
- grep -q /sdcard/debian.img
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop7
- 
- loopdev=
- [ -z ]
- find_free_loopdev
- [ -e /dev/block/loop0 ]
- i=0
- [ 0 -le 255 ]
- loopdev=/dev/block/loop0
- [ ! -e /dev/block/loop0 ]
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop0
  No '/bin' found, linking it to busybox utils
- 
- echo /dev/block/loop0
- return
- echo /dev/block/loop0
- loopdev=/dev/block/loop0
- . /data/data/info.guardianproject.lildebi/app_bin/install.conf
- release=stable
- mirror=http://mirrors.ece.ubc.ca/debian/
- arch=armel
- imagesize=1000
- LANG=fr_BE
- mount -o remount,rw rootfs /
- [ ! -e /bin ]
- echo No '/bin' found, linking it to busybox utils
- cd /
- ln -s /data/data/info.guardianproject.lildebi/app_bin /bin
- mount -o remount,ro rootfs /
- [ -d /data/debian ]
- [ -e /data/debian ]
- echo CreatingCreating chroot mountpoint at /data/debian
  '/debian' not found, making a symlink to the chroot.
  Create the image file:
  chroot mountpoint at /data/debian
- mkdir /data/debian
- chmod 755 /data/debian
- make_debian_symlink
- [ -d /debian ]
- [ ! -e /debian ]
- mount -o remount,rw rootfs /
- echo '/debian' not found, making a symlink to the chroot.
- cd /
- ln -s /data/debian /debian
- mount -o remount,ro rootfs /
- grep ext2 /proc/filesystems
- [ -z ext2 ]
- [ xno = xno ]
- echo Create the image file:
- test -e /sdcard/debian.img
- dd if=/dev/zero of=/sdcard/debian.img seek=1000 bs=1M count=1
  1+0 records in
  1+0 records out
  1048576 bytes (1.0MB) copied, 0.018168 seconds, 55.0MB/s
- test -d /data/debian
- test -e /sdcard/debian.img
- find_best_filesystem
- /data/data/info.guardianproject.lildebi/app_bin/grep ext[234] /proc/filesystems
- /data/data/info.guardianproject.lildebi/app_bin/sort
- /data/data/info.guardianproject.lildebi/app_bin/tail -1
- mke2fs_options=-L debian_chroot -T    ext4 -F /sdcard/debian.img
- test -x /system/bin/mke2fs
- mke2fs -L debian_chroot -T ext4 -F /sdcard/debian.img
  Filesystem label=debian_chroot
  OS type: Linux
  Block size=4096 (log=2)
  Fragment size=4096 (log=2)
  64128 inodes, 256256 blocks
  12812 blocks (5%) reserved for the super user
  First data block=0
  Maximum filesystem blocks=4194304
  8 block groups
  32768 blocks per group, 32768 fragments per group
  8016 inodes per group
  Superblock backups stored on blocks:
  32768, 98304, 163840, 229376
- losetup
  BusyBox v1.22.1 (2015-01-26 17:29:04 UTC) multi-call binary.

Usage: losetup [-r] [-o OFS] {-f|LOOPDEV} FILE - associate loop devices
    losetup -d LOOPDEV - disassociate
    losetup -a - show status
    losetup -f - show next free loop device

```
-o OFS  Start OFS bytes into FILE
-r  Read-only
-f  Show/use next free loop device
```
- /system/xbin/losetup
  ./create-debian-setup.sh: line 93: /system/xbin/losetup: not found
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop0 /sdcard/debian.img
- losetup
  BusyBox v1.22.1 (2015-01-26 17:29:04 UTC) multi-call binary.

Usage: losetup [-r] [-o OFS] {-f|LOOPDEV} FILE - associate loop devices
    losetup -d LOOPDEV - disassociate
    losetup -a - show status
    losetup -f - show next free loop device

```
-o OFS  Start OFS bytes into FILE
-r  Read-only
-f  Show/use next free loop device
```
- /system/xbin/losetup
  ./create-debian-setup.sh: line 93: /system/xbin/losetup: not found
- mount -o loop,noatime,errors=remount-ro /dev/block/loop0 /data/debian
- [ 0 -ne 0 ]
- cd /data/debian
- tar xf /data/data/info.guardianproject.lildebi/app_bin/cdebootstrap.tar
  creating mountpoints
- echo creating mountpoints
- create_mountpoint /dev
- test -d /dev
- test -e /data/debian/dev
- [ 1 -ne 0 ]
- [ ! -e /data/debian/dev ]
- mkdir /data/debian/dev
- create_mountpoint /dev/pts
- test -d /dev/pts
- test -e /data/debian/dev/pts
- [ 1 -ne 0 ]
- [ ! -e /data/debian/dev/pts ]
- mkdir /data/debian/dev/pts
- create_mountpoint /media
- test -d /media
- [ 1 -ne 0 ]
- [ ! -e /data/debian/media ]
- mkdir /data/debian/media
- create_mountpoint /mnt
- test -d /mnt
- test -e /data/debian/mnt
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt ]
- mkdir /data/debian/mnt
- create_mountpoint /proc
- test -d /proc
- test -e /data/debian/proc
- [ 1 -ne 0 ]
- [ ! -e /data/debian/proc ]
- mkdir /data/debian/proc
- create_mountpoint /sys
- test -d /sys
- test -e /data/debian/sys
- [ 1 -ne 0 ]
- [ ! -e /data/debian/sys ]
- mkdir /data/debian/sys
- create_mountpoint /sys/kernel
- test -d /sys/kernel
- test -e /data/debian/sys/kernel
- [ 1 -ne 0 ]
- [ ! -e /data/debian/sys/kernel ]
- mkdir /data/debian/sys/kernel
- create_mountpoint /sys/kernel/debug
- test -d /sys/kernel/debug
- test -e /data/debian/sys/kernel/debug
- [ 1 -ne 0 ]
- [ ! -e /data/debian/sys/kernel/debug ]
- mkdir /data/debian/sys/kernel/debug
- create_mountpoint /tmp
- test -d /tmp
- [ 1 -ne 0 ]
- [ ! -e /data/debian/tmp ]
- mkdir /data/debian/tmp
- create_mountpoint /acct
- test -d /acct
- [ 1 -ne 0 ]
- [ ! -e /data/debian/acct ]
- mkdir /data/debian/acct
- create_mountpoint /app-cache
- test -d /app-cache
- [ 1 -ne 0 ]
- [ ! -e /data/debian/app-cache ]
- mkdir /data/debian/app-cache
- create_mountpoint /cache
- test -d /cache
- test -e /data/debian/cache
- [ 1 -ne 0 ]
- [ ! -e /data/debian/cache ]
- mkdir /data/debian/cache
- create_mountpoint /data
- test -d /data
- test -e /data/debian/data
- [ 1 -ne 0 ]
- [ ! -e /data/debian/data ]
- mkdir /data/debian/data
- create_mountpoint /dbdata
- test -d /dbdata
- [ 1 -ne 0 ]
- [ ! -e /data/debian/dbdata ]
- mkdir /data/debian/dbdata
- create_mountpoint /dev/cpuctl
- test -d /dev/cpuctl
- test -e /data/debian/dev/cpuctl
- [ 1 -ne 0 ]
- [ ! -e /data/debian/dev/cpuctl ]
- mkdir /data/debian/dev/cpuctl
- create_mountpoint /efs
- test -d /efs
- [ 1 -ne 0 ]
- [ ! -e /data/debian/efs ]
- mkdir /data/debian/efs
- create_mountpoint /mnt/.lfs
- test -d /mnt/.lfs
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/.lfs ]
- mkdir /data/debian/mnt/.lfs
- create_mountpoint /mnt/asec
- test -d /mnt/asec
- test -e /data/debian/mnt/asec
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/asec ]
- mkdir /data/debian/mnt/asec
- create_mountpoint /mnt/emmc
- test -d /mnt/emmc
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/emmc ]
- mkdir /data/debian/mnt/emmc
- create_mountpoint /mnt/obb
- test -d /mnt/obb
- test -e /data/debian/mnt/obb
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/obb ]
- mkdir /data/debian/mnt/obb
- create_mountpoint /mnt/sdcard
- test -d /mnt/sdcard
- test -e /data/debian/mnt/sdcard
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/sdcard ]
- mkdir /data/debian/mnt/sdcard
- create_mountpoint /mnt/sdcard/external_sd
- test -d /mnt/sdcard/external_sd
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/sdcard/external_sd ]
- mkdir /data/debian/mnt/sdcard/external_sd
- create_mountpoint /mnt/sdcard/external_sd/.android_secure
- test -d /mnt/sdcard/external_sd/.android_secure
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/sdcard/external_sd/.android_secure ]
- mkdir /data/debian/mnt/sdcard/external_sd/.android_secure
- create_mountpoint /mnt/secure
- test -d /mnt/secure
- test -e /data/debian/mnt/secure
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/secure ]
- mkdir /data/debian/mnt/secure
- create_mountpoint /mnt/secure/asec
- test -d /mnt/secure/asec
- test -e /data/debian/mnt/secure/asec
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/secure/asec ]
- mkdir /data/debian/mnt/secure/asec
- create_mountpoint /mnt/secure/.android_secure
- test -d /mnt/secure/.android_secure
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/secure/.android_secure ]
- mkdir /data/debian/mnt/secure/.android_secure
- create_mountpoint /mnt/shell
- test -d /mnt/shell
- test -e /data/debian/mnt/shell
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/shell ]
- mkdir /data/debian/mnt/shell
- create_mountpoint /mnt/shell/emulated
- test -d /mnt/shell/emulated
- test -e /data/debian/mnt/shell/emulated
- [ 1 -ne 0 ]
- [ ! -e /data/debian/mnt/shell/emulated ]
- mkdir /data/debian/mnt/shell/emulated
- create_mountpoint /pds
- test -d /pds
- [ 1 -ne 0 ]
- [ ! -e /data/debian/pds ]
- mkdir /data/debian/pds
- create_mountpoint /sqlite_stmt_journals
- test -d /sqlite_stmt_journals
- [ 1 -ne 0 ]
- [ ! -e /data/debian/sqlite_stmt_journals ]
- mkdir /data/debian/sqlite_stmt_journals
- create_mountpoint /storage
- test -d /storage
- test -e /data/debian/storage
- [ 1 -ne 0 ]
- [ ! -e /data/debian/storage ]
- mkdir /data/debian/storage
- create_mountpoint /storage/emulated
- test -d /storage/emulated
- test -e /data/debian/storage/emulated
- [ 1 -ne 0 ]
- [ ! -e /data/debian/storage/emulated ]
- mkdir /data/debian/storage/emulated
- create_mountpoint /storage/emulated/0
- test -d /storage/emulated/0
- test -e /data/debian/storage/emulated/0
- [ 1 -ne 0 ]
- [ ! -e /data/debian/storage/emulated/0 ]
- mkdir /data/debian/storage/emulated/0
- create_mountpoint /storage/emulated/legacy
- test -d /storage/emulated/legacy
- test -e /data/debian/storage/emulated/legacy
- [ 1 -ne 0 ]
- [ ! -e /data/debian/storage/emulated/legacy ]
- mkdir /data/debian/storage/emulated/legacy
- create_mountpoint /storage/extSdCard
- test -d /storage/extSdCard
- [ 1 -ne 0 ]
- [ ! -e /data/debian/storage/extSdCard ]
- mkdir /data/debian/storage/extSdCard
- create_mountpoint /storage/sdcard0
- test -d /storage/sdcard0
- test -e /data/debian/storage/sdcard0
- [ 1 -ne 0 ]
- [ ! -e /data/debian/storage/sdcard0 ]
- mkdir /data/debian/storage/sdcard0
- create_mountpoint /storage/sdcard1
- test -d /storage/sdcard1
- test -e /data/debian/storage/sdcard1
- [ 1 -ne 0 ]
- [ ! -e /data/debian/storage/sdcard1 ]
- mkdir /data/debian/storage/sdcard1
- create_mountpoint /storage/usbdisk
- test -d /storage/usbdisk
- [ 1 -ne 0 ]
- [ ! -e /data/debian/storage/usbdisk ]
- mkdir /data/debian/storage/usbdisk
- create_mountpoint /system
- test -d /system
- test -e /data/debian/system
- [ 1 -ne 0 ]
- [ ! -e /data/debian/system ]
- mkdir /data/debian/system
- Using keyring for validating packages: /data/data/info.guardianproject.lildebi/app_bin/debian-archive-keyring.gpg
  keyring_name=debian-archive-keyring.gpg
- keyring=/data/data/info.guardianproject.lildebi/app_bin/debian-archive-keyring.gpg
- test -f /data/data/info.guardianproject.lildebi/app_bin/debian-archive-keyring.gpg
- echo Using keyring for validating packages: /data/data/info.guardianproject.lildebi/app_bin/debian-archive-keyring.gpg
- KEYRING=--keyring=/data/data/info.guardianproject.lildebi/app_bin/debian-archive-keyring.gpg
- echo run cdebootstrap in one stage
- /data/debian/usr/bin/cdebootstrap-static --verbrun cdebootstrap in one stage
  ose --foreign --flavour=minimal --include=locales --keyring=/data/data/info.guardianproject.lildebi/app_bin/debian-archive-keyring.gpg --configdir=/data/debian/usr/share/cdebootstrap-static --helperdir=/data/debian/usr/share/cdebootstrap-static --arch armel stable /data/debian http://mirrors.ece.ubc.ca/debian/
  P: Retrieving Release
  P: Retrieving Release.gpg
  P: Validating Release
  WARNING: generic atexit() called from legacy shared library
  gpgv: Signature made Sat Jun  6 13:10:04 2015 CEST using RSA key ID 46925553
  I: Good signature from ""Debian Archive Automatic Signing Key (7.0/wheezy) ftpmaster@debian.org""
  gpgv: Good signature from ""Debian Archive Automatic Signing Key (7.0/wheezy) ftpmaster@debian.org""
  gpgv: Signature made Sat Jun  6 13:10:04 2015 CEST using RSA key ID 2B90D010
  I: Good signature from ""Debian Archive Automatic Signing Key (8/jessie) ftpmaster@debian.org""
  gpgv: Good signature from ""Debian Archive Automatic Signing Key (8/jessie) ftpmaster@debian.org""
  gpgv: Signature made Sat Jun  6 13:27:09 2015 CEST using RSA key ID 518E17E1

I: Good signature from ""Jessie Stable Release Key debian-release@lists.debian.org""
gpgv: Good signature from ""Jessie Stable Release Key debian-release@lists.debian.org""
P: Parsing Release
P: Retrieving Packages.gz
P: Validating Packages.gz
P: Parsing Packages
P: Retrieving gcc-4.9-base
P: Validating gcc-4.9-base
P: Retrieving multiarch-support
P: Validating multiarch-support
P: Retrieving libgcc1
P: Validating libgcc1
P: Retrieving libc6
P: Validating libc6
P: Retrieving libbz2-1.0
P: Validating libbz2-1.0
P: Retrieving liblzma5
P: Validating liblzma5
P: Retrieving libstdc++6
P: Validating libstdc++6
P: Retrieving zlib1g
P: Validating zlib1g
P: Retrieving libapt-pkg4.12
P: Validating libapt-pkg4.12
P: Retrieving gpgv
P: Validating gpgv
P: Retrieving debian-archive-keyring
P: Validating debian-archive-keyring
P: Retrieving libpcre3
P: Validating libpcre3
P: Retrieving libselinux1
P: Validating libselinux1
P: Retrieving libattr1
P: Validating libattr1
P: Retrieving libacl1
P: Validating libacl1
P: Retrieving tar
P: Validating tar
P: Retrieving dpkg
P: Validating dpkg
P: Retrieving readline-common
P: Validating readline-common
P: Retrieving libtinfo5
P: Validating libtinfo5
P: Retrieving libreadline6
P: Validating libreadline6
P: Retrieving libusb-0.1-4
P: Validating libusb-0.1-4
P: Retrieving gnupg
P: Validating gnupg
P: Retrieving apt
P: Validating apt
P: Retrieving mawk
P: Validating mawk
P: Retrieving base-files
P: Validating base-files
P: Retrieving libdebconfclient0
P: Validating libdebconfclient0
P: Retrieving base-passwd
P: Validating base-passwd
P: Retrieving sensible-utils
P: Validating sensible-utils
P: Retrieving debianutils
P: Validating debianutils
P: Retrieving dash
P: Validating dash
P: Retrieving libncurses5
P: Validating libncurses5
P: Retrieving bash
P: Validating bash
P: Retrieving libgpg-error0
P: Validating libgpg-error0
P: Retrieving libgcrypt20
P: Validating libgcrypt20
P: Retrieving libsystemd0
P: Validating libsystemd0
P: Retrieving bsdutils
P: Validating bsdutils
P: Retrieving coreutils
P: Validating coreutils
P: Retrieving diffutils
P: Validating diffutils
P: Retrieving e2fslibs
P: Validating e2fslibs
P: Retrieving libaudit-common
P: Validating libaudit-common
P: Retrieving libaudit1
P: Validating libaudit1
P: Retrieving perl-base
P: Validating perl-base
P: Retrieving debconf
P: Validating debconf
P: Retrieving libpam0g
P: Validating libpam0g
P: Retrieving libsemanage-common
P: Validating libsemanage-common
P: Retrieving libsepol1
P: Validating libsepol1
P: Retrieving libustr-1.0-1
P: Validating libustr-1.0-1
P: Retrieving libsemanage1
P: Validating libsemanage1
P: Retrieving libdb5.3
P: Validating libdb5.3
P: Retrieving libpam-modules-bin
P: Validating libpam-modules-bin
P: Retrieving libpam-modules
P: Validating libpam-modules
P: Retrieving passwd
P: Validating passwd
P: Retrieving libuuid1
P: Validating libuuid1
P: Retrieving libblkid1
P: Validating libblkid1
P: Retrieving libcomerr2
P: Validating libcomerr2
P: Retrieving libss2
P: Validating libss2
P: Retrieving lsb-base
P: Validating lsb-base
P: Retrieving startpar
P: Validating startpar
P: Retrieving sysvinit-utils
P: Validating sysvinit-utils
P: Retrieving insserv
P: Validating insserv
P: Retrieving sysv-rc
P: Validating sysv-rc
P: Retrieving initscripts
P: Validating initscripts
P: Retrieving tzdata
P: Validating tzdata
P: Retrieving libmount1
P: Validating libmount1
P: Retrieving libslang2
P: Validating libslang2
P: Retrieving libsmartcols1
P: Validating libsmartcols1
P: Retrieving util-linux
P: Validating util-linux
P: Retrieving e2fsprogs
P: Validating e2fsprogs
P: Retrieving findutils
P: Validating findutils
P: Retrieving grep
P: Validating grep
P: Retrieving gzip
P: Validating gzip
P: Retrieving hostname
P: Validating hostname
P: Retrieving libcap2
P: Validating libcap2
P: Retrieving libudev1
P: Validating libudev1
P: Retrieving dmsetup
P: Validating dmsetup
P: Retrieving libdevmapper1.02.1
P: Validating libdevmapper1.02.1
P: Retrieving libcryptsetup4
P: Validating libcryptsetup4
P: Retrieving libkmod2
P: Validating libkmod2
P: Retrieving mount
P: Validating mount
P: Retrieving adduser
P: Validating adduser
P: Retrieving libncursesw5
P: Validating libncursesw5
P: Retrieving libprocps3
P: Validating libprocps3
P: Retrieving procps
P: Validating procps
P: Retrieving udev
P: Validating udev
P: Retrieving acl
P: Validating acl
P: Retrieving libcap2-bin
P: Validating libcap2-bin
P: Retrieving systemd
P: Validating systemd
P: Retrieving systemd-sysv
P: Validating systemd-sysv
P: Retrieving init
P: Validating init
P: Retrieving libc-bin
P: Validating libc-bin
P: Retrieving locales
P: Validating locales
P: Retrieving libpam-runtime
P: Validating libpam-runtime
P: Retrieving login
P: Validating login
P: Retrieving ncurses-base
P: Validating ncurses-base
P: Retrieving ncurses-bin
P: Validating ncurses-bin
P: Retrieving sed
P: Validating sed
P: Extracting gcc-4.9-base
P: Extracting libgcc1
P: Extracting libc6
P: Extracting multiarch-support
P: Extracting liblzma5
P: Extracting zlib1g
P: Extracting libpcre3
P: Extracting libselinux1
P: Extracting libattr1
P: Extracting libacl1
P: Extracting tar
P: Extracting libbz2-1.0
P: Extracting dpkg
P: Extracting libtinfo5
P: Extracting mawk
P: Extracting base-files
P: Extracting libdebconfclient0
P: Extracting base-passwd
P: Extracting sensible-utils
P: Extracting debianutils
P: Extracting dash
P: Extracting libncurses5
P: Extracting bash
P: Extracting libgpg-error0
P: Extracting libgcrypt20
P: Extracting libsystemd0
P: Extracting bsdutils
P: Extracting coreutils
P: Extracting diffutils
P: Extracting e2fslibs
P: Extracting perl-base
P: Extracting debconf
P: Extracting libaudit-common
P: Extracting libaudit1
P: Extracting libpam0g
P: Extracting libsepol1
P: Extracting libpam-modules-bin
P: Extracting libdb5.3
P: Extracting libpam-modules
P: Extracting libsemanage-common
P: Extracting libustr-1.0-1
P: Extracting libsemanage1
P: Extracting passwd
P: Extracting libuuid1
P: Extracting libblkid1
P: Extracting libcomerr2
P: Extracting libss2
P: Extracting lsb-base
P: Extracting startpar
P: Extracting sysvinit-utils
P: Extracting insserv
P: Extracting sysv-rc
P: Extracting initscripts
P: Extracting tzdata
P: Extracting libmount1
P: Extracting libsmartcols1
P: Extracting libslang2
P: Extracting util-linux
P: Extracting e2fsprogs
P: Extracting findutils
P: Extracting grep
P: Extracting gzip
P: Extracting hostname
P: Extracting mount
P: Extracting libcap2
P: Extracting libudev1
P: Extracting dmsetup
P: Extracting libdevmapper1.02.1
P: Extracting libcryptsetup4
P: Extracting libkmod2
P: Extracting adduser
P: Extracting libncursesw5
P: Extracting libprocps3
P: Extracting procps
P: Extracting udev
P: Extracting acl
P: Extracting libcap2-bin
P: Extracting systemd
P: Extracting systemd-sysv
P: Extracting init
P: Extracting libc-bin
P: Extracting libpam-runtime
P: Extracting login
P: Extracting ncurses-base
P: Extracting ncurses-bin
P: Extracting sed
P: Writing hosts
I: Second stage installer is available as /sbin/cdebootstrap-foreign or /sbin/init
- [ xno = xyes ]
- SHELL=/bin/sh chroot /data/debian /sbin/cdebootstrap-foreign --second-stage
  mount: /: mount failed: Unknown error -1
  Adding 'local diversion of /sbin/init to /sbin/init.REAL'
  Selecting previously unselected package dpkg.
  dpkg: regarding .../dpkg_1.17.25_armel.deb containing dpkg, pre-dependency problem:
  dpkg pre-depends on libbz2-1.0
  libbz2-1.0 is not installed.

(Reading database ... 2 files and directories currently installed.)
dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../dpkg_1.17.25_armel.deb containing dpkg, pre-dependency problem:
 dpkg pre-depends on libc6 (>= 2.11)
  libc6 is not installed.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../dpkg_1.17.25_armel.deb containing dpkg, pre-dependency problem:
 dpkg pre-depends on liblzma5 (>= 5.1.1alpha+20120614)
  liblzma5 is not installed.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../dpkg_1.17.25_armel.deb containiPreparing to unpack .../dpkg_1.17.25_armel.deb ...
ng dpkg, pre-dependency problem:
 dpkg pre-depends on libselinux1 (>= 2.3)
  libselinux1 is not installed.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../dpkg_1.17.25_armel.deb containing dpkg, pre-dependency problem:
 dpkg pre-depends on zlib1g (>= 1:1.1.4)
  zlib1g is not installed.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../dpkg_1.17.25_armel.deb containing dpkg, pre-dependency problem:
 dpkg pre-depends on tar (>= 1.23)
  tar is not installed.

dpkg: warning: ignoring pre-dependency problem!
Unpacking dpkg (1.17.25) ...
Setting up dpkg (1.17.25) ...
dpkg: dpkg: dependency problems, but configuring anyway as you requested:
 dpkg depends on libbz2-1.0; however:
  Package libbz2-1.0 is not installed.
 dpkg depends on libc6 (>= 2.11); however:
  Package libc6 is not installed.
 dpkg depends on liblzma5 (>= 5.1.1alpha+20120614); however:
  Package liblzma5 is not installed.
 dpkg depends on libselinux1 (>= 2.3); however:
  Package libselinux1 is not installed.
 dpkg depends on zlib1g (>= 1:1.1.4); however:
  Package zlib1g is not installed.
 dpkg depends on tar (>= 1.23); however:
  Package tar is not installed.

Selecting previously unselected package base-passwd.
(Reading database ... 291 files and directories currently installed.)
Preparing to unpack .../base-passwd_3.5.37_armel.deb ...
Unpacking base-passwd (3.5.37) ...
Setting up base-passwd (3.5.37) ...
dpkg: base-passwd: dependency problems, but configuring anyway as you requested:
 base-passwd depends on libc6 (>= 2.8); however:
  Package libc6 is not installed.
 base-passwd depends on libdebconfclient0 (>= 0.145); however:
  Package libdebconfclient0 is not installed.

Selecting previously unselected package cdebootstrap-helper-rc.d.
(Reading database ... 313 files and directories currently installed.)
Preparing to unpack .../cdebootstrap-helper-rc.d.deb ...
Unpacking cdebootstrap-helper-rc.d (1) ...
Setting up cdebootstrap-helper-rc.d (1) ...
Selecting previously unselected package cdebootstrap-helper-makedev.
(Reading database ... 314 files and directories currently installed.)
Preparing to unpack .../cdebootstrap-helper-makedev.deb ...
Unpacking cdebootstrap-helper-makedev (1) ...
Setting up cdebootstrap-helper-makedev (1) ...
rm: cannot remove '/dev/pts': Is a directory
mkdir: cannot create directory '/dev/pts': File exists
Selecting previously unselected package gcc-4.9-base:armel.
(Reading database ... 314 files and directories currently installed.)
Preparing to unpack .../gcc-4.9-base_4.9.2-10_armel.deb ...
Unpacking gcc-4.9-base:armel (4.9.2-10) ...
dpkg: regarding .../libgcc1_4.9.2-10_armel.deb containing libgcc1:armel, pre-dependency problem:
 libgcc1 pre-depends on multiarch-support
  multiarch-support is not installed.

Selecting previously unselected package libgcc1:armel.
dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libgcc1_4.9.2-10_armel.deb ...
Unpacking libgcc1:armel (1:4.9.2-10) ...
Selecting previously unselected package libc6:armel.
Preparing to unpack .../libc6_2.19-18_armel.deb ...
Unpacking libc6:armel (2.19-18) ...
Selecting previously unselected package multiarch-support.
Preparing to unpack .../multiarch-support_2.19-18_armel.deb ...
Unpacking multiarch-support (2.19-18) ...
Selecting previously unselected package liblzma5:armel.
dpkg: regarding .../liblzma5_5.1.1alpha+20120614-2+b3_armel.deb containing liblzma5:armel, pre-dependency problem:
 liblzma5 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../liblzma5_5.1.1alpha+20120614-2+b3_armel.deb ...
Unpacking liblzma5:armel (5.1.1alpha+20120614-2+b3) ...
Selecting previously unselected package zlib1g:armel.
dpkg: regarding .../zlib1g_1.2.8.dfsg-2+b1_armel.deb containing zlib1g:armel, pre-dependency problem:
 zlib1g pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../zlib1g_1.2.8.dfsg-2+b1_armel.deb ...
Unpacking zlib1g:armel (1:1.2.8.dfsg-2+b1) ...
Selecting previously unselected package libpcre3:armel.
dpkg: regarding .../libpcre3_8.35-3.3_armel.deb containing libpcre3:armel, pre-dependency problem:
 libpcre3 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libpcre3_8.35-3.3_armel.deb ...
Unpacking libpcre3:armel (2:8.35-3.3) ...
dpkg: regarding .../libselinux1_2.3-2_armel.deb containing libselinux1:armel, pre-dependency problem:
 libselinux1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Selecting previously unselected package libselinux1:armel.
Preparing to unpack .../libselinux1_2.3-2_armel.deb ...
Unpacking libselinux1:armel (2.3-2) ...
Selecting previously unselected package libattr1:armel.
dpkg: regarding .../libattr1_2.4.47-2_armel.deb containing libattr1:armel, pre-dependency problem:
 libattr1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libattr1_2.4.47-2_armel.deb ...
Unpacking libattr1:armel (1:2.4.47-2) ...
Selecting previously unselected package libacl1:armel.
dpkg: regarding .../libacl1_2.2.52-2_armel.deb containing libacl1:armel, pre-dependency problem:
 libacl1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libacl1_2.2.52-2_armel.deb ...
Unpacking libacl1:armel (2.2.52-2) ...
Selecting previously unselected package tar.
dpkg: regarding .../tar_1.27.1-2+b1_armel.deb containing tar, pre-dependency problem:
 tar pre-depends on libacl1 (>= 2.2.51-8)
  libacl1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../tar_1.27.1-2+b1_armel.deb containing tar, pre-dependency problem:
 tar pre-depends on libc6 (>= 2.17)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../tar_1.27.1-2+b1_armel.deb containing tar, pre-dependency problem:
 tar pre-depends on libselinux1 (>= 1.32)
  libselinux1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../tar_1.27.1-2+b1_armel.deb ...
Unpacking tar (1.27.1-2+b1) ...
Selecting previously unselected package libbz2-1.0:armel.
dpkg: regarding .../libbz2-1.0_1.0.6-7+b3_armel.deb containing libbz2-1.0:armel, pre-dependency problem:
 libbz2-1.0 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libbz2-1.0_1.0.6-7+b3_armel.deb ...
Unpacking libbz2-1.0:armel (1.0.6-7+b3) ...
dpkg: regarding .../dpkg_1.17.25_armel.deb containing dpkg, pre-dependency problem:
 dpkg pre-depends on libbz2-1.0
  libbz2-1.0:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../dpkg_1.17.25_armel.deb containing dpkg, pre-dependency problem:
 dpkg pre-depends on libc6 (>= 2.11)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../dpkg_1.17.25_armel.deb containing dpkg, pre-dependency problem:
 dpkg pre-depends on liblzma5 (>= 5.1.1alpha+20120614)
  liblzma5:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependePreparing to unpack .../dpkg_1.17.25_armel.deb ...
ncy problem!
dpkg: regarding .../dpkg_1.17.25_armel.deb containing dpkg, pre-dependency problem:
 dpkg pre-depends on libselinux1 (>= 2.3)
  libselinux1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../dpkg_1.17.25_armel.deb containing dpkg, pre-dependency problem:
 dpkg pre-depends on zlib1g (>= 1:1.1.4)
  zlib1g:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../dpkg_1.17.25_armel.deb containing dpkg, pre-dependency problem:
 dpkg pre-depends on tar (>= 1.23)
  tar is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Unpacking dpkg (1.17.25) over (1.17.25) ...
Selecting previously unselected package libtinfo5:armel.
dpkg: regarding .../libtinfo5_5.9+20140913-1+b1_armel.deb containing libtinfo5:armel, pre-dependency problem:
 libtinfo5 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libtinfo5_5.9+20140913-1+b1_armel.deb ...
Unpacking libtinfo5:armel (5.9+20140913-1+b1) ...
dpkg: regarding .../mawk_1.3.3-17_armel.deb containing mawk, pre-dependency problem:
 mawk pre-depends on libc6 (>= 2.11)
  libc6:armel is unpacked, but has never been configured.

Selecting previously unselected package mawk.
dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../mawk_1.3.3-17_armel.deb ...
Unpacking mawk (1.3.3-17) ...
Selecting previously unselected package base-files.
dpkg: regarding .../base-files_8+deb8u1_armel.deb containing base-files, pre-dependency problem:
 base-files pre-depends on awk
  mawk provides awk but is unpacked but not configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../base-files_8+deb8u1_armel.deb ...
Unpacking base-files (8+deb8u1) ...
Selecting previously unselected package libdebconfclient0:armel.
dpkg: regarding .../libdebconfclient0_0.192_armel.deb containing libdebconfclient0:armel, pre-dependency problem:
 libdebconfclient0 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

Preparing to unpack .../libdebconfclient0_0.192_armel.deb ...
dpkg: warning: ignoring pre-dependency problem!
Unpacking libdebconfclient0:armel (0.192) ...
Preparing to unpack .../base-passwd_3.5.37_armel.deb ...
Unpacking base-passwd (3.5.37) over (3.5.37) ...
Selecting previously unselected package sensible-utils.
Preparing to unpack .../sensible-utils_0.0.9_all.deb ...
Unpacking sensible-utils (0.0.9) ...
Selecting previously unselected package debianutils.
dpkg: regarding .../debianutils_4.4+b1_armel.deb containing debianutils, pre-dependency problem:
 debianutils pre-depends on libc6 (>= 2.15)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../debianutils_4.4+b1_armel.deb ...
Unpacking debianutils (4.4+b1) ...
Selecting previously unselected package dash.
dpkg: regarding .../dash_0.5.7-4+b1_armel.deb containing dash, pre-dependency problem:
 dash pre-depends on libc6 (>= 2.11)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../dash_0.5.7-4+b1_armel.deb ...
Adding 'diversion of /bin/sh to /bin/sh.distrib by dash'
Adding 'diversion of /usr/share/man/man1/sh.1.gz to /usr/share/man/man1/sh.distrib.1.gz by dash'
Unpacking dash (0.5.7-4+b1) ...
Selecting previously unselected package libncurses5:armel.
dpkg: regarding .../libncurses5_5.9+20140913-1+b1_armel.deb containing libncurses5:armel, pre-dependency problem:
 libncurses5 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../libncurses5_5.9+20140913-1+b1_armel.deb containing libncurses5:armel, pre-dependency problem:
 libncurses5 pre-depends on libtinfo5 (>= 5.9-3)
  libtinfo5:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libncurses5_5.9+20140913-1+b1_armel.deb ...
Unpacking libncurses5:armel (5.9+20140913-1+b1) ...
Selecting previously unselected package bash.
dpkg: regarding .../bash_4.3-11+b1_armel.deb containing bash, pre-dependency problem:
 bash pre-depends on dash (>= 0.5.5.1-2.2)
  dash is unpacked, but has never been configured.

Preparing to unpack .../bash_4.3-11+b1_armel.deb ...
dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../bash_4.3-11+b1_armel.deb containing bash, pre-dependency problem:
 bash pre-depends on libc6 (>= 2.15)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../bash_4.3-11+b1_armel.deb containing bash, pre-dependency problem:
 bash pre-depends on libncurses5 (>= 5.5-5~)
  libncurses5:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../bash_4.3-11+b1_armel.deb containing bash, pre-dependency problem:
 bash pre-depends on libtinfo5
  libtinfo5:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Unpacking bash (4.3-11+b1) ...
Selecting previously unselected package libgpg-error0:armel.
dpkg: regarding .../libgpg-error0_1.17-3_armel.deb containing libgpg-error0:armel, pre-dependency problem:
 libgpg-error0 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libgpg-error0_1.17-3_armel.deb ...
Unpacking libgpg-error0:armel (1.17-3) ...
Selecting previously unselected package libgcrypt20:armel.
dpkg: regarding .../libgcrypt20_1.6.3-2_armel.deb containing libgcrypt20:armel, pre-dependency problem:
 libgcrypt20 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libgcrypt20_1.6.3-2_armel.deb ...
Unpacking libgcrypt20:armel (1.6.3-2) ...
Selecting previously unselected package libsystemd0:armel.
dpkg: regarding .../libsystemd0_215-17+deb8u1_armel.deb containing libsystemd0:armel, pre-dependency problem:
 libsystemd0 pre-depends on libc6 (>= 2.9)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../libsystemd0_215-17+deb8u1_armel.deb containing libsystemd0:armel, pre-dependency problem:
 libsystemd0 pre-depends on libgcrypt20 (>= 1.6.1)
  libgcrypt20:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../libsystemd0_215-17+deb8u1_armel.deb containing libsystemd0:armel, pre-dependency problem:
 libsystemd0 pre-depends on liblzma5 (>= 5.1.1alpha+20120614)
  liblzma5:armel iPreparing to unpack .../libsystemd0_215-17+deb8u1_armel.deb ...
s unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../libsystemd0_215-17+deb8u1_armel.deb containing libsystemd0:armel, pre-dependency problem:
 libsystemd0 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Unpacking libsystemd0:armel (215-17+deb8u1) ...
Selecting previously unselected package bsdutils.
dpkg: regarding .../bsdutils_2.25.2-6_armel.deb containing bsdutils, pre-dependency problem:
 bsdutils pre-depends on libc6 (>= 2.15)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../bsdutils_2.25.2-6_armel.deb containing bsdutils, pre-dependency problem:
 bsdutils pre-depends on libsystemd0
  libsystemd0:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../bsdutils_2.25.2-6_armel.deb ...
Unpacking bsdutils (1:2.25.2-6) ...
Selecting previously unselected package coreutils.
dpkg: regarding .../coreutils_8.23-4_armel.deb containing coreutils, pre-dependency problem:
 coreutils pre-depends on libacl1 (>= 2.2.51-8)
  libacl1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../coreutils_8.23-4_armel.deb containing coreutils, pre-dependency problem:
 coreutils pre-depends on libattr1 (>= 1:2.4.46-8)
  libattr1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../coreutils_8.23-4_armel.deb containing coreutils, pre-dependency problem:
 coreutils pre-depends on libc6 (>= 2.17)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding Preparing to unpack .../coreutils_8.23-4_armel.deb ...
.../coreutils_8.23-4_armel.deb containing coreutils, pre-dependency problem:
 coreutils pre-depends on libselinux1 (>= 2.1.13)
  libselinux1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Unpacking coreutils (8.23-4) ...
Selecting previously unselected package diffutils.
Preparing to unpack .../diffutils_3.3-1+b1_armel.deb ...
dpkg: regarding .../diffutils_3.3-1+b1_armel.deb containing diffutils, pre-dependency problem:
 diffutils pre-depends on libc6 (>= 2.17)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Unpacking diffutils (1:3.3-1+b1) ...
Selecting previously unselected package e2fslibs:armel.
dpkg: regarding .../e2fslibs_1.42.12-1.1_armel.deb containing e2fslibs:armel, pre-dependency problem:
 e2fslibs pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../e2fslibs_1.42.12-1.1_armel.deb ...
Unpacking e2fslibs:armel (1.42.12-1.1) ...
Selecting previously unselected package perl-base.
Preparing to unpack .../perl-base_5.20.2-3+deb8u1_armel.deb ...
dpkg: regarding .../perl-base_5.20.2-3+deb8u1_armel.deb containing perl-base, pre-dependency problem:
 perl-base pre-depends on libc6 (>= 2.11)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Unpacking perl-base (5.20.2-3+deb8u1) ...
Selecting previously unselected package debconf.
Preparing to unpack .../debconf_1.5.56_all.deb ...
dpkg: regarding .../debconf_1.5.56_all.deb containing debconf, pre-dependency problem:
 debconf pre-depends on perl-base (>= 5.6.1-4)
  perl-base is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Unpacking debconf (1.5.56) ...
Selecting previously unselected package libaudit-common.
Preparing to unpack .../libaudit-common_2.4-1_all.deb ...
Unpacking libaudit-common (1:2.4-1) ...
Selecting previously unselected package libaudit1:armel.
dpkg: regarding .../libaudit1_2.4-1+b1_armel.deb containing libaudit1:armel, pre-dependency problem:
 libaudit1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libaudit1_2.4-1+b1_armel.deb ...
Unpacking libaudit1:armel (1:2.4-1+b1) ...
Selecting previously unselected package libpam0g:armel.
dpkg: regarding .../libpam0g_1.1.8-3.1_armel.deb containing libpam0g:armel, pre-dependency problem:
 libpam0g pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libpam0g_1.1.8-3.1_armel.deb ...
Unpacking libpam0g:armel (1.1.8-3.1) ...
Selecting previously unselected package libsepol1:armel.
dpkg: regarding .../libsepol1_2.3-2_armel.deb containing libsepol1:armel, pre-dependency problem:
 libsepol1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libsepol1_2.3-2_armel.deb ...
Unpacking libsepol1:armel (2.3-2) ...
Selecting previously unselected package libpam-modules-bin.
Preparing to unpack .../libpam-modules-bin_1.1.8-3.1_armel.deb ...
Unpacking libpam-modules-bin (1.1.8-3.1) ...
Selecting previously unselected package libdb5.3:armel.
dpkg: regarding .../libdb5.3_5.3.28-9_armel.deb containing libdb5.3:armel, pre-dependency problem:
 libdb5.3 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libdb5.3_5.3.28-9_armel.deb ...
Unpacking libdb5.3:armel (5.3.28-9) ...
Selecting previously unselected package libpam-modules:armel.
dpkg: regarding .../libpam-modules_1.1.8-3.1_armel.deb containing libpam-modules:armel, pre-dependency problem:
 libpam-modules pre-depends on libaudit1 (>= 1:2.2.1)
  libaudit1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../libpam-modules_1.1.8-3.1_armel.deb containing libpam-modules:armel, pre-dependency problem:
 libpam-modules pre-depends on libc6 (>= 2.15)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../libpam-modules_1.1.8-3.1_armel.deb containing libpam-modules:armel, pre-dependency problem:
 libpam-modules pre-depends on libdb5.3
  libdb5.3:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../libpam-modules_1.1.8-3.1_armel.deb containing libpam-modules:armel, pre-dependency problem:
 libpam-modules pre-depends on libpam0g (>= 1.1.3-2)
  libpam0g:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../libpam-modules_1.1.8-3.1_armel.deb containing libpam-modules:armel, pre-dependency problem:
 libpam-modules pre-depends on libselinux1 (>= 2.1.9)
  libselinux1:armel is unpacked, but has never been conPreparing to unpack .../libpam-modules_1.1.8-3.1_armel.deb ...
figured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../libpam-modules_1.1.8-3.1_armel.deb containing libpam-modules:armel, pre-dependency problem:
 libpam-modules pre-depends on debconf (>= 0.5) | debconf-2.0
  debconf is unpacked, but has never been configured.
  debconf provides debconf-2.0 but is unpacked but not configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../libpam-modules_1.1.8-3.1_armel.deb containing libpam-modules:armel, pre-dependency problem:
 libpam-modules pre-depends on libpam-modules-bin (= 1.1.8-3.1)
  libpam-modules-bin is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Unpacking libpam-modules:armel (1.1.8-3.1) ...
Selecting previously unselected package libsemanage-common.
Preparing to unpack .../libsemanage-common_2.3-1_all.deb ...
Unpacking libsemanage-common (2.3-1) ...
dpkg: regarding .../libustr-1.0-1_1.0.4-3+b2_armel.deb containing libustr-1.0-1:armel, pre-dependency problem:
 libustr-1.0-1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

Selecting previously unselected package libustr-1.0-1:armel.
dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libustr-1.0-1_1.0.4-3+b2_armel.deb ...
Unpacking libustr-1.0-1:armel (1.0.4-3+b2) ...
Selecting previously unselected package libsemanage1:armel.
dpkg: regarding .../libsemanage1_2.3-1+b1_armel.deb containing libsemanage1:armel, pre-dependency problem:
 libsemanage1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libsemanage1_2.3-1+b1_armel.deb ...
Unpacking libsemanage1:armel (2.3-1+b1) ...
Selecting previously unselected package passwd.
Preparing to unpack .../passwd_4.2-3_armel.deb ...
Unpacking passwd (1:4.2-3) ...
Selecting previously unselected package libuuid1:armel.
dpkg: regarding .../libuuid1_2.25.2-6_armel.deb containing libuuid1:armel, pre-dependency problem:
 libuuid1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libuuid1_2.25.2-6_armel.deb ...
Unpacking libuuid1:armel (2.25.2-6) ...
Selecting previously unselected package libblkid1:armel.
dpkg: regarding .../libblkid1_2.25.2-6_armel.deb containing libblkid1:armel, pre-dependency problem:
 libblkid1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libblkid1_2.25.2-6_armel.deb ...
Unpacking libblkid1:armel (2.25.2-6) ...
Selecting previously unselected package libcomerr2:armel.
dpkg: regarding .../libcomerr2_1.42.12-1.1_armel.deb containing libcomerr2:armel, pre-dependency problem:
 libcomerr2 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libcomerr2_1.42.12-1.1_armel.deb ...
Unpacking libcomerr2:armel (1.42.12-1.1) ...
dpkg: regarding .../libss2_1.42.12-1.1_armel.deb containing libss2:armel, pre-dependency problem:
 libss2 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

Selecting previously unselected package libss2:armel.
dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libss2_1.42.12-1.1_armel.deb ...
Unpacking libss2:armel (1.42.12-1.1) ...
Selecting previously unselected package lsb-base.
Preparing to unpack .../lsb-base_4.1+Debian13+nmu1_all.deb ...
Unpacking lsb-base (4.1+Debian13+nmu1) ...
Selecting previously unselected package startpar.
Preparing to unpack .../startpar_0.59-3_armel.deb ...
Unpacking startpar (0.59-3) ...
Selecting previously unselected package sysvinit-utils.
Preparing to unpack .../sysvinit-utils_2.88dsf-59_armel.deb ...
Unpacking sysvinit-utils (2.88dsf-59) ...
Selecting previously unselected package insserv.
Preparing to unpack .../insserv_1.14.0-5_armel.deb ...
Unpacking insserv (1.14.0-5) ...
Selecting previously unselected package sysv-rc.
Preparing to unpack .../sysv-rc_2.88dsf-59_all.deb ...
Unpacking sysv-rc (2.88dsf-59) ...
Selecting previously unselected package initscripts.
Preparing to unpack .../initscripts_2.88dsf-59_armel.deb ...
Unpacking initscripts (2.88dsf-59) ...
Selecting previously unselected package tzdata.
Preparing to unpack .../tzdata_2015d-0+deb8u1_all.deb ...
Unpacking tzdata (2015d-0+deb8u1) ...
Selecting previously unselected package libmount1:armel.
dpkg: regarding .../libmount1_2.25.2-6_armel.deb containing libmount1:armel, pre-dependency problem:
 libmount1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libmount1_2.25.2-6_armel.deb ...
Unpacking libmount1:armel (2.25.2-6) ...
Selecting previously unselected package libsmartcols1:armel.
dpkg: regarding .../libsmartcols1_2.25.2-6_armel.deb containing libsmartcols1:armel, pre-dependency problem:
 libsmartcols1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libsmartcols1_2.25.2-6_armel.deb ...
Unpacking libsmartcols1:armel (2.25.2-6) ...
Selecting previously unselected package libslang2:armel.
dpkg: regarding .../libslang2_2.3.0-2_armel.deb containing libslang2:armel, pre-dependency problem:
 libslang2 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libslang2_2.3.0-2_armel.deb ...
Unpacking libslang2:armel (2.3.0-2) ...
Selecting previously unselected package util-linux.
dpkg: regarding .../util-linux_2.25.2-6_armel.deb containing util-linux, pre-dependency problem:
 util-linux pre-depends on libblkid1 (>= 2.25)
  libblkid1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../util-linux_2.25.2-6_armel.deb containing util-linux, pre-dependency problem:
 util-linux pre-depends on libc6 (>= 2.15)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../util-linux_2.25.2-6_armel.deb containing util-linux, pre-dependency problem:
 util-linux pre-depends on libmount1 (>= 2.25)
  libmount1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../util-linux_2.25.2-6_armel.deb containing util-linux, pre-dependency problem:
 util-linux pre-depends on libncurses5 (>= 5.5-5~)
  libncurses5:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../util-linux_2.25.2-6_armel.deb containing util-linux, pre-dependency problem:
 util-linux pre-depends on libpam0g (>= 0.99.7.1)
  libpam0g:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../util-linux_2.25.2-6_armel.deb containing util-linux, pre-dependency problem:
 util-linux pre-depends on libselinux1 (>= 1.32)
  libselinux1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../util-linux_2.25.2-6_armel.deb containing util-linux, pre-dependency problem:
 util-linux pre-depends on libslang2 (>= 2.2.4)
  libslang2:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dPreparing to unpack .../util-linux_2.25.2-6_armel.deb ...
pkg: regarding .../util-linux_2.25.2-6_armel.deb containing util-linux, pre-dependency problem:
 util-linux pre-depends on libsmartcols1 (>= 2.25)
  libsmartcols1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../util-linux_2.25.2-6_armel.deb containing util-linux, pre-dependency problem:
 util-linux pre-depends on libtinfo5
  libtinfo5:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../util-linux_2.25.2-6_armel.deb containing util-linux, pre-dependency problem:
 util-linux pre-depends on libuuid1 (>= 2.16)
  libuuid1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../util-linux_2.25.2-6_armel.deb containing util-linux, pre-dependency problem:
 util-linux pre-depends on zlib1g (>= 1:1.1.4)
  zlib1g:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Unpacking util-linux (2.25.2-6) ...
Selecting previously unselected package e2fsprogs.
dpkg: regarding .../e2fsprogs_1.42.12-1.1_armel.deb containing e2fsprogs, pre-dependency problem:
 e2fsprogs pre-depends on e2fslibs (= 1.42.12-1.1)
  e2fslibs:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../e2fsprogs_1.42.12-1.1_armel.deb containing e2fsprogs, pre-dependency problem:
 e2fsprogs pre-depends on libblkid1 (>= 2.17.2)
  libblkid1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../e2fsprogs_1.42.12-1.1_armel.deb containing e2fsprogs, pre-dependency problem:
 e2fsprogs pre-depends on libc6 (>= 2.11)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../e2fsprogs_1.42.12-1.1_armel.deb containing e2fsprogs, pre-dependency problem:
 e2fsprogs pre-depends on libcomerr2 (>= 1.42~WIP-2011-10-05-1)
  libcomerr2:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../e2fsprogs_1.42.12-1.1_armel.deb containing e2fsprogs, pre-dependency problem:
 e2fsprogs pre-depends on libss2 (>= 1.34-1)
  libss2:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../e2fsprogs_1.42.12-1.1_armel.deb containing e2fsprogs, pre-dependency problem:
 e2fsprogs pre-depends on libuuid1 (>= 2.16)
  libuuid1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../e2fsprogs_1.42.12-1.1_armel.deb containing e2fsprogs, pre-dependency problem:
 e2fsprogs pre-depends on util-linux (>= 2.15~rc1-1)
  util-linux is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../e2fsprogs_1.42.12-1.1_armel.deb ...
Unpacking e2fsprogs (1.42.12-1.1) ...
Selecting previously unselected package findutils.
dpkg: regarding .../findutils_4.4.2-9+b1_armel.deb containing findutils, pre-dependency problem:
 findutils pre-depends on libc6 (>= 2.17)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../findutils_4.4.2-9+b1_armel.deb ...
Unpacking findutils (4.4.2-9+b1) ...
Selecting previously unselected package grep.
dpkg: regarding .../grep_2.20-4.1_armel.deb containing grep, pre-dependency problem:
 grep pre-depends on libc6 (>= 2.4)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../grep_2.20-4.1_armel.deb containing grep, pre-dependency problem:
 grep pre-depends on libpcre3 (>= 1:8.35)
  libpcre3:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../grep_2.20-4.1_armel.deb ...
Unpacking grep (2.20-4.1) ...
Selecting previously unselected package gzip.
dpkg: regarding .../bootstrap/gzip_1.6-4_armel.deb containing gzip, pre-dependency problem:
 gzip pre-depends on libc6 (>= 2.17)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../bootstrap/gzip_1.6-4_armel.deb ...
Unpacking gzip (1.6-4) ...
Selecting previously unselected package hostname.
dpkg: regarding .../hostname_3.15_armel.deb containing hostname, pre-dependency problem:
 hostname pre-depends on libc6 (>= 2.4)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../hostname_3.15_armel.deb ...
Unpacking hostname (3.15) ...
dpkg: regarding .../mount_2.25.2-6_armel.deb containing mount, pre-dependency problem:
 mount pre-depends on libc6 (>= 2.17)
  libc6:armel is unpacked, but has never been configured.

Selecting previously unselected package mount.
dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../mount_2.25.2-6_armel.deb containing mount, pre-dependency problem:
 mount pre-depends on libmount1 (>= 2.25)
  libmount1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../mount_2.25.2-6_armel.deb containing mount, pre-dependency problem:
 mount pre-depends on libselinux1 (>= 2.0.15)
  libselinux1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../mount_2.25.2-6_armel.deb containing mount, pre-dependency problem:
 mount pre-depends on libsmartcols1 (>= 2.25)
  libsmartcols1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../mount_2.25.2-6_armel.deb ...
Unpacking mount (2.25.2-6) ...
Selecting previously unselected package libcap2:armel.
dpkg: regarding .../libcap2_2.24-8_armel.deb containing libcap2:armel, pre-dependency problem:
 libcap2 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libcap2_2.24-8_armel.deb ...
Unpacking libcap2:armel (1:2.24-8) ...
Selecting previously unselected package libudev1:armel.
dpkg: regarding .../libudev1_215-17+deb8u1_armel.deb containing libudev1:armel, pre-dependency problem:
 libudev1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libudev1_215-17+deb8u1_armel.deb ...
Unpacking libudev1:armel (215-17+deb8u1) ...
Selecting previously unselected package dmsetup.
Preparing to unpack .../dmsetup_1.02.90-2.2_armel.deb ...
Unpacking dmsetup (2:1.02.90-2.2) ...
Selecting previously unselected package libdevmapper1.02.1:armel.
Preparing to unpack .../libdevmapper1.02.1_1.02.90-2.2_armel.deb ...
dpkg: regarding .../libdevmapper1.02.1_1.02.90-2.2_armel.deb containing libdevmapper1.02.1:armel, pre-dependency problem:
 libdevmapper1.02.1 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Unpacking libdevmapper1.02.1:armel (2:1.02.90-2.2) ...
Selecting previously unselected package libcryptsetup4:armel.
Preparing to unpack .../libcryptsetup4_1.6.6-5_armel.deb ...
Unpacking libcryptsetup4:armel (2:1.6.6-5) ...
Selecting previously unselected package libkmod2:armel.
dpkg: regarding .../libkmod2_18-3_armel.deb containing libkmod2:armel, pre-dependency problem:
 libkmod2 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libkmod2_18-3_armel.deb ...
Unpacking libkmod2:armel (18-3) ...
Selecting previously unselected package adduser.
Preparing to unpack .../adduser_3.113+nmu3_all.deb ...
Unpacking adduser (3.113+nmu3) ...
Selecting previously unselected package libncursesw5:armel.
dpkg: regarding .../libncursesw5_5.9+20140913-1+b1_armel.deb containing libncursesw5:armel, pre-dependency problem:
 libncursesw5 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libncursesw5_5.9+20140913-1+b1_armel.deb ...
Unpacking libncursesw5:armel (5.9+20140913-1+b1) ...
Selecting previously unselected package libprocps3:armel.
dpkg: regarding .../libprocps3_3.3.9-9_armel.deb containing libprocps3:armel, pre-dependency problem:
 libprocps3 pre-depends on multiarch-support
  multiarch-support is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../libprocps3_3.3.9-9_armel.deb ...
Unpacking libprocps3:armel (2:3.3.9-9) ...
Selecting previously unselected package procps.
Preparing to unpack .../procps_3.3.9-9_armel.deb ...
Unpacking procps (2:3.3.9-9) ...
Selecting previously unselected package udev.
dpkg: regarding .../udev_215-17+deb8u1_armel.deb containing udev, pre-dependency problem:
 udev pre-depends on debconf (>= 1.4.69) | debconf-2.0
  debconf is unpacked, but has never been configured.
  debconf provides debconf-2.0 but is unpacked but not configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../udev_215-17+deb8u1_armel.deb ...
Unpacking udev (215-17+deb8u1) ...
Selecting previously unselected package acl.
Preparing to unpack .../acl_2.2.52-2_armel.deb ...
Unpacking acl (2.2.52-2) ...
Selecting previously unselected package libcap2-bin.
Preparing to unpack .../libcap2-bin_2.24-8_armel.deb ...
Unpacking libcap2-bin (1:2.24-8) ...
Selecting previously unselected package systemd.
dpkg: regarding .../systemd_215-17+deb8u1_armel.deb containing systemd, pre-dependency problem:
 systemd pre-depends on libc6 (>= 2.17)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../systemd_215-17+deb8u1_armel.deb containing systemd, pre-dependency problem:
 systemd pre-depends on libgcrypt20 (>= 1.6.1)
  libgcrypt20:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../systemd_215-17+deb8u1_armel.deb containing systemd, pre-dependency problem:
 systemd pre-depends on liblzma5 (>= 5.1.1alpha+20120614)
  liblzma5:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../systemd_215-17+deb8u1_armel.deb containing systemd, pre-dependency problem:
 systemd pre-depends on libselinux1 (>= 1.32)
  libselinux1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../systemd_215-17+deb8u1_armel.deb ...
Unpacking systemd (215-17+deb8u1) ...
Selecting previously unselected package systemd-sysv.
dpkg: regarding .../systemd-sysv_215-17+deb8u1_armel.deb containing systemd-sysv, pre-dependency problem:
 systemd-sysv pre-depends on systemd
  systemd is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../systemd-sysv_215-17+deb8u1_armel.deb ...
Unpacking systemd-sysv (215-17+deb8u1) ...
Selecting previously unselected package init.
Preparing to unpack .../bootstrap/init_1.22_armel.deb ...
dpkg: regarding .../bootstrap/init_1.22_armel.deb containing init, pre-dependency problem:
 init pre-depends on systemd-sysv | sysvinit-core | upstart
  systemd-sysv is unpacked, but has never been configured.
  sysvinit-core is not installed.
  upstart is not installed.

dpkg: warning: ignoring pre-dependency problem!
Unpacking init (1.22) ...
Selecting previously unselected package libc-bin.
Preparing to unpack .../libc-bin_2.19-18_armel.deb ...
Unpacking libc-bin (2.19-18) ...
Selecting previously unselected package libpam-runtime.
Preparing to unpack .../libpam-runtime_1.1.8-3.1_all.deb ...
Unpacking libpam-runtime (1.1.8-3.1) ...
Selecting previously unselected package login.
dpkg: regarding .../login_4.2-3_armel.deb containing login, pre-dependency problem:
 login pre-depends on libaudit1 (>= 1:2.2.1)
  libaudit1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../login_4.2-3_armel.deb containing login, pre-dependency problem:
 login pre-depends on libc6 (>= 2.7)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../login_4.2-3_armel.deb containing login, pre-dependency problem:
 login pre-depends on libpam0g (>= 0.99.7.1)
  libpam0g:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../login_4.2-3_armel.deb containing login, pre-dependency problem:
 login pre-depends on libpam-runtime
  libpam-runtime is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../login_4.2-3_armel.deb containing login, pre-dependency problem:
 login pre-depends on libpam-modules (>= 1.1.8-1)
  libpam-modules:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../login_4.2-3_armel.deb ...
Unpacking login (1:4.2-3) ...
Selecting previously unselected package ncurses-base.
Preparing to unpack .../ncurses-base_5.9+20140913-1_all.deb ...
Unpacking ncurses-base (5.9+20140913-1) ...
Selecting previously unselected package ncurses-bin.
dpkg: regarding .../ncurses-bin_5.9+20140913-1+b1_armel.deb containing ncurses-bin, pre-dependency problem:
 ncurses-bin pre-depends on libc6 (>= 2.4)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
dpkg: regarding .../ncurses-bin_5.9+20140913-1+b1_armel.deb containing ncurses-bin, pre-dependency problem:
 ncurses-bin pre-depends on libtinfo5 (>= 5.9+20130119)
  libtinfo5:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../ncurses-bin_5.9+20140913-1+b1_armel.deb ...
Unpacking ncurses-bin (5.9+20140913-1+b1) ...
dpkg: regarding .../sed_4.2.2-4+b1_armel.deb containing sed, pre-dependency problem:
 sed pre-depends on libc6 (>= 2.7)
  libc6:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Selecting previously unselected package sed.
dpkg: regarding .../sed_4.2.2-4+b1_armel.deb containing sed, pre-dependency problem:
 sed pre-depends on libselinux1 (>= 1.32)
  libselinux1:armel is unpacked, but has never been configured.

dpkg: warning: ignoring pre-dependency problem!
Preparing to unpack .../sed_4.2.2-4+b1_armel.deb ...
Unpacking sed (4.2.2-4+b1) ...
Setting up lsb-base (4.1+Debian13+nmu1) ...
Setting up sensible-utils (0.0.9) ...
Setting up ncurses-base (5.9+20140913-1) ...
Setting up libsemanage-common (2.3-1) ...
Setting up gcc-4.9-base:armel (4.9.2-10) ...
Setting up libaudit-common (1:2.4-1) ...
Setting up libc6:armel (2.19-18) ...
Setting up startpar (0.59-3) ...
Setting up diffutils (1:3.3-1+b1) ...
Setting up insserv (1.14.0-5) ...
Setting up findutils (4.4.2-9+b1) ...
Setting up debianutils (4.4+b1) ...
Setting up hostname (3.15) ...
Setting up multiarch-support (2.19-18) ...
Setting up mawk (1.3.3-17) ...
Setting up libprocps3:armel (2:3.3.9-9) ...
Setting up libpcre3:armel (2:8.35-3.3) ...
Setting up libbz2-1.0:armel (1.0.6-7+b3) ...
Setting up libkmod2:armel (18-3) ...
Setting up libgpg-error0:armel (1.17-3) ...
Setting up base-files (8+deb8u1) ...
Setting up libdebconfclient0:armel (0.192) ...
Setting up libselinux1:armel (2.3-2) ...
Setting up libcomerr2:armel (1.42.12-1.1) ...
Setting up libslang2:armel (2.3.0-2) ...
Setting up libsepol1:armel (2.3-2) ...
Setting up libgcc1:armel (1:4.9.2-10) ...
Setting up libustr-1.0-1:armel (1.0.4-3+b2) ...
Setting up libsmartcols1:armel (2.25.2-6) ...
Setting up libaudit1:armel (1:2.4-1+b1) ...
Setting up libtinfo5:armel (5.9+20140913-1+b1) ...
Setting up libudev1:armel (215-17+deb8u1) ...
Setting up libattr1:armel (1:2.4.47-2) ...
Setting up libss2:armel (1.42.12-1.1) ...
Setting up liblzma5:armel (5.1.1alpha+20120614-2+b3) ...
Setting up base-passwd (3.5.37) ...
Setting up e2fslibs:armel (1.42.12-1.1) ...
Setting up libgcrypt20:armel (1.6.3-2) ...
Setting up libncursesw5:armel (5.9+20140913-1+b1) ...
Setting up libdb5.3:armel (5.3.28-9) ...
Setting up zlib1g:armel (1:1.2.8.dfsg-2+b1) ...
Setting up libcap2:armel (1:2.24-8) ...
Setting up libsystemd0:armel (215-17+deb8u1) ...
Setting up libdevmapper1.02.1:armel (2:1.02.90-2.2) ...
Setting up libc-bin (2.19-18) ...
Setting up libsemanage1:armel (2.3-1+b1) ...
Setting up sysvinit-utils (2.88dsf-59) ...
Setting up libacl1:armel (2.2.52-2) ...
Setting up ncurses-bin (5.9+20140913-1+b1) ...
Setting up acl (2.2.52-2) ...
Setting up libncurses5:armel (5.9+20140913-1+b1) ...
Setting up libcap2-bin (1:2.24-8) ...
Setting up bsdutils (1:2.25.2-6) ...
Setting up coreutils (8.23-4) ...
Setting up tar (1.27.1-2+b1) ...
update-alternatives: using /usr/sbin/rmt-tar to provide /usr/sbin/rmt (rmt) in auto mode
Setting up dpkg (1.17.25) ...
Setting up sed (4.2.2-4+b1) ...
Setting up perl-base (5.20.2-3+deb8u1) ...
Setting up grep (2.20-4.1) ...
Setting up debconf (1.5.56) ...
Setting up tzdata (2015d-0+deb8u1) ...

Current default time zone: 'Etc/UTC'
Local time is now:      Fri Jun 19 20:49:59 UTC 2015.
Universal Time is now:  Fri Jun 19 20:49:59 UTC 2015.
Run 'dpkg-reconfigure tzdata' if you wish to change it.

Setting up gzip (1.6-4) ...
Setting up dash (0.5.7-4+b1) ...
Setting up sysv-rc (2.88dsf-59) ...
Setting up libpam0g:armel (1.1.8-3.1) ...
Setting up initscripts (2.88dsf-59) ...

---

All rc.d operations denied by policy

---

invoke-rc.d: policy-rc.d denied execution of start.
Setting up libpam-modules-bin (1.1.8-3.1) ...
Setting up bash (4.3-11+b1) ...
update-alternatives: using /usr/share/man/man7/bash-builtins.7.gz to provide /usr/share/man/man7/builtins.7.gz (builtins.7.gz) in auto mode
Setting up procps (2:3.3.9-9) ...
update-alternatives: using /usr/bin/w.procps to provide /usr/bin/w (w) in auto mode

---

All rc.d operations denied by policy

---

invoke-rc.d: policy-rc.d denied execution of start.
Setting up libpam-modules:armel (1.1.8-3.1) ...
Setting up libpam-runtime (1.1.8-3.1) ...
Setting up passwd (1:4.2-3) ...
Shadow passwords are now on.
Setting up login (1:4.2-3) ...
Setting up adduser (3.113+nmu3) ...
Setting up libuuid1:armel (2.25.2-6) ...
Setting up libblkid1:armel (2.25.2-6) ...
Setting up libmount1:armel (2.25.2-6) ...
Setting up util-linux (2.25.2-6) ...
update-alternatives: using /bin/more to provide /usr/bin/pager (pager) in auto mode
Setting up libcryptsetup4:armel (2:1.6.6-5) ...
Setting up mount (2.25.2-6) ...
Setting up e2fsprogs (1.42.12-1.1) ...
Setting up udev (215-17+deb8u1) ...
A chroot environment has been detected, udev not started.
Setting up systemd (215-17+deb8u1) ...
Initializing machine ID from random generator.
Created symlink from /etc/systemd/system/getty.target.wants/getty@tty1.service to /lib/systemd/system/getty@.service.
Created symlink from /etc/systemd/system/multi-user.target.wants/remote-fs.target to /lib/systemd/system/remote-fs.target.
Created symlink from /etc/systemd/system/reboot.target.wants/hwclock-save.service to /lib/systemd/system/hwclock-save.service.
Created symlink from /etc/systemd/system/halt.target.wants/hwclock-save.service to /lib/systemd/system/hwclock-save.service.
Created symlink from /etc/systemd/system/poweroff.target.wants/hwclock-save.service to /lib/systemd/system/hwclock-save.service.
Setting up dmsetup (2:1.02.90-2.2) ...
Setting up systemd-sysv (215-17+deb8u1) ...
Setting up init (1.22) ...
Processing triggers for libc-bin (2.19-18) ...
(Reading database ... 6886 files and directories currently installed.)
Preparing to unpack .../gcc-4.9-base_4.9.2-10_armel.deb ...
Unpacking gcc-4.9-base:armel (4.9.2-10) over (4.9.2-10) ...
Preparing to unpack .../multiarch-support_2.19-18_armel.deb ...
Unpacking multiarch-support (2.19-18) over (2.19-18) ...
Preparing to unpack .../libgcc1_4.9.2-10_armel.deb ...
Unpacking libgcc1:armel (1:4.9.2-10) over (1:4.9.2-10) ...
Preparing to unpack .../libc6_2.19-18_armel.deb ...
Unpacking libc6:armel (2.19-18) over (2.19-18) ...
Preparing to unpack .../libbz2-1.0_1.0.6-7+b3_armel.deb ...
Unpacking libbz2-1.0:armel (1.0.6-7+b3) over (1.0.6-7+b3) ...
Preparing to unpack .../liblzma5_5.1.1alpha+20120614-2+b3_armel.deb ...
Unpacking liblzma5:armel (5.1.1alpha+20120614-2+b3) over (5.1.1alpha+20120614-2+b3) ...
Selecting previously unselected package libstdc++6:armel.
Preparing to unpack .../libstdc++6_4.9.2-10_armel.deb ...
Unpacking libstdc++6:armel (4.9.2-10) ...
Preparing to unpack .../zlib1g_1.2.8.dfsg-2+b1_armel.deb ...
Unpacking zlib1g:armel (1:1.2.8.dfsg-2+b1) over (1:1.2.8.dfsg-2+b1) ...
Selecting previously unselected package libapt-pkg4.12:armel.
Preparing to unpack .../libapt-pkg4.12_1.0.9.8_armel.deb ...
Unpacking libapt-pkg4.12:armel (1.0.9.8) ...
Selecting previously unselected package gpgv.
Preparing to unpack .../gpgv_1.4.18-7_armel.deb ...
Unpacking gpgv (1.4.18-7) ...
Selecting previously unselected package debian-archive-keyring.
Preparing to unpack .../debian-archive-keyring_2014.3_all.deb ...
Unpacking debian-archive-keyring (2014.3) ...
Preparing to unpack .../libpcre3_8.35-3.3_armel.deb ...
Unpacking libpcre3:armel (2:8.35-3.3) over (2:8.35-3.3) ...
Preparing to unpack .../libselinux1_2.3-2_armel.deb ...
Unpacking libselinux1:armel (2.3-2) over (2.3-2) ...
Preparing to unpack .../libattr1_2.4.47-2_armel.deb ...
Unpacking libattr1:armel (1:2.4.47-2) over (1:2.4.47-2) ...
Preparing to unpack .../libacl1_2.2.52-2_armel.deb ...
Unpacking libacl1:armel (2.2.52-2) over (2.2.52-2) ...
Preparing to unpack .../tar_1.27.1-2+b1_armel.deb ...
Unpacking tar (1.27.1-2+b1) over (1.27.1-2+b1) ...
Preparing to unpack .../dpkg_1.17.25_armel.deb ...
Unpacking dpkg (1.17.25) over (1.17.25) ...
Selecting previously unselected package readline-common.
Preparing to unpack .../readline-common_6.3-8_all.deb ...
Unpacking readline-common (6.3-8) ...
Preparing to unpack .../libtinfo5_5.9+20140913-1+b1_armel.deb ...
Unpacking libtinfo5:armel (5.9+20140913-1+b1) over (5.9+20140913-1+b1) ...
Selecting previously unselected package libreadline6:armel.
Preparing to unpack .../libreadline6_6.3-8+b3_armel.deb ...
Unpacking libreadline6:armel (6.3-8+b3) ...
Selecting previously unselected package libusb-0.1-4:armel.
Preparing to unpack .../libusb-0.1-4_0.1.12-25_armel.deb ...
Unpacking libusb-0.1-4:armel (2:0.1.12-25) ...
Selecting previously unselected package gnupg.
Preparing to unpack .../gnupg_1.4.18-7_armel.deb ...
Unpacking gnupg (1.4.18-7) ...
Selecting previously unselected package apt.
Preparing to unpack .../apt_1.0.9.8_armel.deb ...
Unpacking apt (1.0.9.8) ...
Setting up gcc-4.9-base:armel (4.9.2-10) ...
Setting up multiarch-support (2.19-18) ...
Setting up libgcc1:armel (1:4.9.2-10) ...
Setting up libc6:armel (2.19-18) ...
Setting up libbz2-1.0:armel (1.0.6-7+b3) ...
Setting up liblzma5:armel (5.1.1alpha+20120614-2+b3) ...
Setting up libstdc++6:armel (4.9.2-10) ...
Setting up zlib1g:armel (1:1.2.8.dfsg-2+b1) ...
Setting up libapt-pkg4.12:armel (1.0.9.8) ...
Setting up gpgv (1.4.18-7) ...
Setting up debian-archive-keyring (2014.3) ...
Setting up libpcre3:armel (2:8.35-3.3) ...
Setting up libselinux1:armel (2.3-2) ...
Setting up libattr1:armel (1:2.4.47-2) ...
Setting up libacl1:armel (2.2.52-2) ...
Setting up tar (1.27.1-2+b1) ...
Setting up dpkg (1.17.25) ...
Setting up readline-common (6.3-8) ...
Setting up libtinfo5:armel (5.9+20140913-1+b1) ...
Setting up libreadline6:armel (6.3-8+b3) ...
Setting up libusb-0.1-4:armel (2:0.1.12-25) ...
Setting up gnupg (1.4.18-7) ...
Setting up apt (1.0.9.8) ...
Processing triggers for libc-bin (2.19-18) ...
Selecting previously unselected package cdebootstrap-helper-apt.
(Reading database ... 7268 files and directories currently installed.)
Preparing to unpack .../cdebootstrap-helper-apt.deb ...
Unpacking cdebootstrap-helper-apt (1) ...
Setting up cdebootstrap-helper-apt (1) ...
Ign bootstrap: . InRelease
Get:1 bootstrap: . Release.gpg [2373 B]
Get:2 bootstrap: . Release [133 kB]
Err bootstrap: ./main armel Packages

Reading package lists...
Reading package lists...
Building dependency tree...
acl is already the newest version.
libacl1 is already the newest version.
adduser is already the newest version.
apt is already the newest version.
libapt-pkg4.12 is already the newest version.
libattr1 is already the newest version.
libaudit-common is already the newest version.
libaudit1 is already the newest version.
base-files is already the newest version.
base-passwd is already the newest version.
bash is already the newest version.
libbz2-1.0 is already the newest version.
libdebconfclient0 is already the newest version.
coreutils is already the newest version.
libcryptsetup4 is already the newest version.
dash is already the newest version.
libdb5.3 is already the newest version.
debconf is already the newest version.
debian-archive-keyring is already the newest version.
debianutils is already the newest version.
diffutils is already the newest version.
dpkg is already the newest version.
e2fslibs is already the newest version.
e2fsprogs is already the newest version.
libcomerr2 is already the newest version.
libss2 is already the newest version.
findutils is already the newest version.
gcc-4.9-base is already the newest version.
libgcc1 is already the newest version.
libstdc++6 is already the newest version.
libc-bin is already the newest version.
libc6 is already the newest version.
multiarch-support is already the newest version.
gnupg is already the newest version.
gpgv is already the newest version.
grep is already the newest version.
gzip is already the newest version.
hostname is already the newest version.
init is already the newest version.
insserv is already the newest version.
libkmod2 is already the newest version.
libcap2 is already the newest version.
libcap2-bin is already the newest version.
libgcrypt20 is already the newest version.
libgpg-error0 is already the newest version.
libselinux1 is already the newest version.
libsemanage-common is already the newest version.
libsemanage1 is already the newest version.
libsepol1 is already the newest version.
libusb-0.1-4 is already the newest version.
lsb-base is already the newest version.
dmsetup is already the newest version.
libdevmapper1.02.1 is already the newest version.
mawk is already the newest version.
libncurses5 is already the newest version.
libncursesw5 is already the newest version.
libtinfo5 is already the newest version.
ncurses-base is already the newest version.
ncurses-bin is already the newest version.
libpam-modules is already the newest version.
libpam-modules-bin is already the newest version.
libpam-runtime is already the newest version.
libpam0g is already the newest version.
libpcre3 is already the newest version.
perl-base is already the newest version.
libprocps3 is already the newest version.
procps is already the newest version.
libreadline6 is already the newest version.
readline-common is already the newest version.
sed is already the newest version.
sensible-utils is already the newest version.
login is already the newest version.
passwd is already the newest version.
libslang2 is already the newest version.
startpar is already the newest version.
libsystemd0 is already the newest version.
libudev1 is already the newest version.
systemd is already the newest version.
systemd-sysv is already the newest version.
udev is already the newest version.
initscripts is already the newest version.
sysv-rc is already the newest version.
sysvinit-utils is already the newest version.
tar is already the newest version.
tzdata is already the newest version.
libustr-1.0-1 is already the newest version.
bsdutils is already the newest version.
libblkid1 is already the newest version.
libmount1 is already the newest version.
libsmartcols1 is already the newest version.
libuuid1 is already the newest version.
mount is already the newest version.
util-linux is already the newest version.
liblzma5 is already the newest version.
zlib1g is already the newest version.
The following NEW packages will be installed:
  locales
debconf: delaying package configuration, since apt-utils is not installed
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 0 B/3924 kB of archives.
After this operation, 16.3 MB of additional disk space will be used.
E: Can not write log (Is /dev/pts mounted?) - posix_openpt (2: No such file or directory)
Selecting previously unselected package locales.
(Reading database ... 7269 files and directories currently installed.)
Preparing to unpack .../locales_2.19-18_all.deb ...
Unpacking locales (2.19-18) ...
Setting up locales (2.19-18) ...
Generating locales (this might take a while)...
Generation complete.
(Reading database ... 7890 files and directories currently installed.)
Removing cdebootstrap-helper-apt (1) ...
Purging configuration files for cdebootstrap-helper-apt (1) ...
Reading package lists...
(Reading database ... 7889 files and directories currently installed.)
Removing cdebootstrap-helper-makedev (1) ...
Purging configuration files for cdebootstrap-helper-makedev (1) ...
Removing 'local diversion of /sbin/init to /sbin/init.REAL'
- [ -r /data/data/info.guardianproject.lildebi/app_bin/android-permissions_0.1_all.deb ]
- [ ! -x /system/bin/e2fsck ]
- echo creating root symlinks
- create_root_symlink /3rdmodem
- [ -L /3rdmodem ]
- create_root_symlink /3rdmodemnvm
- [ -L /3rdmodemnvm ]
- create_root_symlink /3rdmodemnvmbkp
- [ -L /3rdmodemnvmbkp ]
- create_root_symlink /bin
- [ -L /bin ]
- [ ! -e /data/debian/bin ]
- create_root_symlink /cache
- [ -L /cache ]
- create_root_symlink /config
- [ -L /config ]
  creating root symlinks
- create_root_symlink /cust
- [ -L /cust ]
- create_root_symlink /d
- [ -L /d ]
- [ ! -e /data/debian/d ]
- awk {print $4}
- ls -l /d
- link=/d
- ls -l /d
- awk {print $6}
- target=/sys/kernel/debug
- ln -s /sys/kernel/debug /data/debian/d
- create_root_symlink /data
- [ -L /data ]
- create_root_symlink /debian
- [ -L /debian ]
- [ ! -e /data/debian/debian ]
- ls -l /debian
- awk {print $4}
- link=/debian
- ls -l /debian
- awk {print $6}
- target=/data/debian
- ln -s /data/debian /data/debian/debian
- create_root_symlink /default.prop
- [ -L /default.prop ]
- create_root_symlink /dev
- [ -L /dev ]
- create_root_symlink /e2fslog
- [ -L /e2fslog ]
- create_root_symlink /etc
- [ -L /etc ]
- [ ! -e /data/debian/etc ]
- create_root_symlink /file_contexts
- [ -L /file_contexts ]
- create_root_symlink /fstab.hi3630
- [ -L /fstab.hi3630 ]
- create_root_symlink /init
- [ -L /init ]
- create_root_symlink /init.41033.rc
- [ -L /init.41033.rc ]
- create_root_symlink /init.4622.rc
- [ -L /init.4622.rc ]
- create_root_symlink /init.4845.rc
- [ -L /init.4845.rc ]
- create_root_symlink /init.5821.rc
- [ -L /init.5821.rc ]
- create_root_symlink /init.71424.rc
- [ -L /init.71424.rc ]
- create_root_symlink /init.connectivity.rc
- [ -L /init.connectivity.rc ]
- create_root_symlink /init.device.rc
- [ -L /init.device.rc ]
- create_root_symlink /init.environ.rc
- [ -L /init.environ.rc ]
- create_root_symlink /init.extmodem.rc
- [ -L /init.extmodem.rc ]
- create_root_symlink /init.hi3630.rc
- [ -L /init.hi3630.rc ]
- create_root_symlink /init.manufacture.rc
- [ -L /init.manufacture.rc ]
- create_root_symlink /init.platform.rc
- [ -L /init.platform.rc ]
- create_root_symlink /init.rc
- [ -L /init.rc ]
- create_root_symlink /init.trace.rc
- [ -L /init.trace.rc ]
- create_root_symlink /init.usb.rc
- [ -L /init.usb.rc ]
- create_root_symlink /mnt
- [ -L /mnt ]
- create_root_symlink /mnvm2:0
- [ -L /mnvm2:0 ]
- create_root_symlink /modem_log
- [ -L /modem_log ]
- create_root_symlink /proc
- [ -L /proc ]
- create_root_symlink /property_contexts
- [ -L /property_contexts ]
- create_root_symlink /root
- [ -L /root ]
- create_root_symlink /sbin
- [ -L /sbin ]
- create_root_symlink /sdcard
- [ -L /sdcard ]
- [ ! -e /data/debian/sdcard ]
- awk {print $4}
- ls -l /sdcard
- link=/sdcard
- ls -l /sdcard
- awk {print $6}
- target=/storage/emulated/legacy
- ln -s /storage/emulated/legacy /data/debian/sdcard
- create_root_symlink /seapp_contexts
- [ -L /seapp_contexts ]
- create_root_symlink /sepolicy
- [ -L /sepolicy ]
- create_root_symlink /splash2
- [ -L /splash2 ]
- create_root_symlink /storage
- [ -L /storage ]
- create_root_symlink /sys
- [ -L /sys ]
- create_root_symlink /system
- [ -L /system ]
- create_root_symlink /ueventd.41033.rc
- [ -L /ueventd.41033.rc ]
- create_root_symlink /ueventd.4622.rc
- [ -L /ueventd.4622.rc ]
- create_root_symlink /ueventd.4845.rc
- [ -L /ueventd.4845.rc ]
- create_root_symlink /ueventd.5821.rc
- [ -L /ueventd.5821.rc ]
- create_root_symlink /ueventd.71424.rc
- [ -L /ueventd.71424.rc ]
- create_root_symlink /ueventd.hi3630.rc
- [ -L /ueventd.hi3630.rc ]
- create_root_symlink /ueventd.rc
- [ -L /ueventd.rc ]
- create_root_symlink /update_commit_boot
- [ -L /update_commit_boot ]
- create_root_symlink /vendor
- [ -L /vendor ]
- [ ! -e /data/debian/vendor ]
- ls -l /vendor
- awk {print $4}
- link=/vendor
- ls -l /vendor
- awk {print $6}
- target=/system/vendor
- ln -s /system/vendor /data/debian/vendor
  creating configs
- echo creating configs
- test -e /data/debian/etc
- touch /data/debian/etc/resolv.conf
- echo nameserver 4.2.2.2
- echo nameserver 8.8.8.8
- echo nameserver 198.6.1.1
- chmod 644 /data/debian/etc/resolv.conf
- cp /etc/hosts /data/debian/etc/hosts
- test -e /data/debian/etc/mtab
- rm /data/debian/etc/mtab
- ln -s /proc/mounts /data/debian/etc/mtab
- [ ! -e /data/debian/etc/apt/sources.list ]
  set up chroot for e2fsck
  Setting up chroot for e2fsck.static
- [ stable != sid ]
- [ stable != unstable ]
- echo deb http://security.debian.org/ stable/updates main
- echo set up chroot for e2fsck
- create_e2fsck_chroot
- echo Setting up chroot for e2fsck.static
- test_or_create_dir /data/data/info.guardianproject.lildebi/fsck-chroot
- test -e /data/data/info.guardianproject.lildebi/fsck-chroot
- dirname /sdcard/debian.img
- test_or_create_dir /data/data/info.guardianproject.lildebi/fsck-chroot//sdcard
- test -e /data/data/info.guardianproject.lildebi/fsck-chroot//sdcard
- test_or_create_dir /data/data/info.guardianproject.lildebi/fsck-chroot/app_bin
- test -e /data/data/info.guardianproject.lildebi/fsck-chroot/app_bin
- test_or_create_dir /data/data/info.guardianproject.lildebi/fsck-chroot/dev
- test -e /data/data/info.guardianproject.lildebi/fsck-chroot/dev
- test_or_create_dir /data/data/info.guardianproject.lildebi/fsck-chroot/etc
- test -e /data/data/info.guardianproject.lildebi/fsck-chroot/etc
- test_or_create_dir /data/data/info.guardianproject.lildebi/fsck-chroot/proc
- test -e /data/data/info.guardianproject.lildebi/fsck-chroot/proc
- test -e /data/data/info.guardianproject.lildebi/fsck-chroot/etc/mtab
  finish tweaking Debian install
- echo finish tweaking Debian install
- chroot /data/debian apt-get -y update
  Get:1 http://security.debian.org stable/updates InRelease [63.1 kB]
  Get:2 http://mirrors.ece.ubc.ca jessie InRelease [134 kB]
  Get:3 http://security.debian.org stable/updates/main armel Packages [101 kB]
  Get:4 http://mirrors.ece.ubc.ca jessie/main armel Packages [6624 kB]
  Get:5 http://security.debian.org stable/updates/main Translation-en [55.2 kB]
  Get:6 http://mirrors.ece.ubc.ca jessie/main Translation-en [4585 kB]
  Fetched 11.6 MB in 1min 31s (126 kB/s)
  Reading package lists...
- chroot /data/debian apt-get clean
- chroot /data/debian /usr/sbin/update-rc.d -f halt remove
- chroot /data/debian /usr/sbin/update-rc.d -f hwclock.sh remove
- chroot /data/debian /usr/sbin/update-rc.d -f reboot remove
- chroot /data/debian /usr/sbin/update-rc.d -f sendsigs remove
- chroot /data/debian /usr/sbin/update-rc.d -f umountfs remove
- chroot /data/debian /usr/sbin/update-rc.d -f umountroot remove
- grep -q -s ext3 /proc/filesystems
- 
- mount -t proc proc /data/debian/proc
- echo /dev/block/loop0
- sed s,block/,,
- chroot /data/debian tune2fs -j /dev/loop0
  tune2fs: No such file or directory while trying to open /dev/loop0tune2fs 1.42.12 (29-Aug-2014)

Couldn't find valid filesystem superblock.
- umount /data/debian/proc
- chroot /data/debian dpkg --purge cdebootstrap-helper-rc.d
  (Reading database ... 7888 files and directories currently installed.)
  Removing cdebootstrap-helper-rc.d (1) ...
## \+ [ xno = xyes ]

stop-debian.sh
Asking all processes to terminate...done
Killing remaining processes:
done
Checking for open files in Debian chroot...done
Unmounting everything...done

Debian chroot stopped and unmounted.
## \+ export PATH=/data/data/info.guardianproject.lildebi/app_bin:/sbin:/vendor/bin:/system/sbin:/system/bin:/system/xbin
- test -e /data/data/info.guardianproject.lildebi/app_bin/lildebi-common
- . /data/data/info.guardianproject.lildebi/app_bin/lildebi-common
- echo ----------------------------------------
- export TERM=linux
- export HOME=/root
- export HOSTNAME=debian
- export DEBIAN_FRONTEND=noninteractive
- [ 4 -lt 1 ]
- app_bin=/data/data/info.guardianproject.lildebi/app_bin
- export PATH=/data/data/info.guardianproject.lildebi/app_bin:/usr/sbin:/usr/bin:/sbin:/bin:/system/sbin:/system/bin:/system/xbin
- basename ./unmounted-install-tweaks.sh
- echounmounted-install-tweaks.sh
  unmounted-install-tweaks.sh
- [ -z ]
- sdcard=/storage/emulated/legacy
- [ -z ]
- install_path=/sdcard/debian.img
- [ -z ]
- mnt=/data/debian
- [ x/data/debian = x/sdcard/debian.img ]
- install_on_internal_storage=no
- test -d /data/data/info.guardianproject.lildebi/app_bin
- test -d /storage/emulated/legacy
- test -z /sdcard/debian.img
- test -z /data/debian
- busybox_path=/data/data/info.guardianproject.lildebi/app_bin
- busybox=/data/data/info.guardianproject.lildebi/app_bin/busybox
- dirname /data/data/info.guardianproject.lildebi/app_bin
- fsck_chroot=/data/data/info.guardianproject.lildebi/fsck-chroot
- install_fsck=no
- dirname /data/data/info.guardianproject.lildebi/app_bin
- basename /sdcard/debian.img.sha1
- sha1file=/data/data/info.guardianproject.lildebi/debian.img.sha1
- umask 077
- find_losetup
- [ -x /system/xbin/losetup ]
- echo /data/data/info.guardianproject.lildebi/app_bin/losetup
- losetup=/data/data/info.guardianproject.lildebi/app_bin/losetup
- find_loopdev
- find_attached_loopdev
- /data/data/info.guardianproject.lildebi/app_bin/ls -1 /dev/block/loop0 /dev/block/loop1 /dev/block/loop2 /dev/block/loop3 /dev/block/loop4 /dev/block/loop5 /dev/block/loop6 /dev/block/loop7
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop0
- grep -q /sdcard/debian.img
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop1
- grep -q /sdcard/debian.img
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop2
- grep -q /sdcard/debian.img
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop3
- grep -q /sdcard/debian.img
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop4
- grep -q /sdcard/debian.img
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop5
- grep -q /sdcard/debian.img
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop6
- grep -q /sdcard/debian.img
- 
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop7
- grep -q /sdcard/debian.img
- 
- loopdev=
- [ -z ]
- find_free_loopdev
- [ -e /dev/block/loop0 ]
- i=0
- [ 0 -le 255 ]
- loopdev=/dev/block/loop0
- [ ! -e /dev/block/loop0 ]
- /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop0
- 
- echo /dev/block/loop0
- return
- echo /dev/block/loop0
- loopdev=/dev/block/loop0
- [ xno = xno ]
- find_and_run_fsck -pfv
- [ -z -pfv ]
- fsck_flags=-pfv
  > /system/bin/e2fsck -pfv /sdcard/debian.img
- [ -x /data/data/info.guardianproject.lildebi/app_bin/e2fsck.static ]
- [ -x /system/bin/e2fsck ]
- fsck=/system/bin/e2fsck
- echo > /system/bin/e2fsck -pfv /sdcard/debian.img
- /system/bin/e2fsck -pfv /sdcard/debian.img
  
  ```
  8638 inodes used (13.47%, out of 64128)
   533 non-contiguous files (6.2%)
    17 non-contiguous directories (0.2%)
       # of inodes with ind/dind/tind blocks: 522/3/0
  ```
  
     55201 blocks used (21.54%, out of 256256)
         0 bad blocks
         0 large files
  
  ```
  6264 regular files
   861 directories
     7 character device files
     0 block device files
     0 fifos
     2 links
  1497 symbolic links (1497 fast symbolic links)
     0 sockets
  ```
  ---
  
  ```
  8631 files
  ```
- fsck_return=1
  > /system/bin/e2fsck -y /sdcard/debian.img
- test 1 -lt 4
- find_and_run_fsck -y
- [ -z -y ]
- fsck_flags=-y
- [ -x /data/data/info.guardianproject.lildebi/app_bin/e2fsck.static ]
- [ -x /system/bin/e2fsck ]
- fsck=/system/bin/e2fsck
- echo > /system/bin/e2fsck -y /sdcard/debian.img
- /system/bin/e2fsck -y /sdcard/debian.img
  e2fsck 1.42.9 (28-Dec-2013)
  debian_chroot: clean, 8638/64128 files, 55201/256256 blocks
- fsck_return=0
## \+ test 0 -lt 4

start-debian.sh

Configuration that will be started:
app_bin: /data/data/info.guardianproject.lildebi/app_bin
mnt: /data/debian
sdcard: /storage/emulated/legacy
install_path: /sdcard/debian.img
sha1file: /data/data/info.guardianproject.lildebi/debian.img.sha1
loopdev: /dev/block/loop0

> /system/bin/e2fsck -pv /sdcard/debian.img
> debian_chroot: clean, 8638/64128 files, 55201/256256 blocks
> 
> /data/data/info.guardianproject.lildebi/app_bin/losetup /dev/block/loop0 /sdcard/debian.img

root mount for everything Debian

> mount -t  ext4 /dev/block/loop0 /data/debian
> /dev/block/platform/ff1fe000.dwmmc0/by-name/cache /cache ext4 rw,seclabel,relatime,data=ordered 0 0
> /dev/block/platform/ff1fe000.dwmmc0/by-name/userdata /data ext4 rw,seclabel,nosuid,nodev,noatime,discard,noauto_da_alloc,data=ordered 0 0
> none /dev/cpuctl cgroup rw,relatime,cpu 0 0
> tmpfs /mnt/asec tmpfs rw,seclabel,relatime,mode=755,gid=1000 0 0
> tmpfs /mnt/obb tmpfs rw,seclabel,relatime,mode=755,gid=1000 0 0
> /data/share /mnt/shell/emulated sdcardfs rw,nosuid,nodev,relatime,uid=1023,gid=1023 0 0
> /sys/kernel/debug /sys/kernel/debug debugfs rw,relatime,mode=755 0 0
> /dev/block/platform/ff1fe000.dwmmc0/by-name/system /system ext4 ro,seclabel,relatime,data=ordered 0 0
> installing '/debian/shell' for easy way to get to chroot from term
> **\* update-locale: Error: invalid locale settings:  LANG=#
## Debian chroot mounted and started.

complete-debian-setup.sh
- export PATH=/usr/sbin:/usr/bin:/sbin:/bin
- export DEBIAN_FRONTEND=noninteractive
- apt-get -y install --no-install-recommends ssh policyrcd-script-zg2 molly-guard
  Reading package lists...
  Building dependency tree...
  Reading state information...
  The following extra packages will be installed:
  init-system-helpers libbsd0 libedit2 libgssapi-krb5-2 libk5crypto3
  libkeyutils1 libkrb5-3 libkrb5support0 libssl1.0.0 libwrap0 openssh-client
  openssh-server openssh-sftp-server
  Suggested packages:
  krb5-doc krb5-user ssh-askpass libpam-ssh keychain monkeysphere rssh ufw
  Recommended packages:
  krb5-locales tcpd xauth ncurses-term
  The following NEW packages will be installed:
  init-system-helpers libbsd0 libedit2 libgssapi-krb5-2 libk5crypto3
  libkeyutils1 libkrb5-3 libkrb5support0 libssl1.0.0 libwrap0 molly-guard
  openssh-client openssh-server openssh-sftp-server policyrcd-script-zg2 ssh
  0 upgraded, 16 newly installed, 0 to remove and 0 not upgraded.
  Need to get 2717 kB of archives.
  After this operation, 9992 kB of additional disk space will be used.
  Get:1 http://security.debian.org/ stable/updates/main libssl1.0.0 armel 1.0.1k-3+deb8u1 [845 kB]
  Get:2 http://mirrors.ece.ubc.ca/debian/ jessie/main libbsd0 armel 0.7.0-2 [64.1 kB]
  Get:3 http://mirrors.ece.ubc.ca/debian/ jessie/main libedit2 armel 3.1-20140620-2 [67.8 kB]
  Get:4 http://mirrors.ece.ubc.ca/debian/ jessie/main libkeyutils1 armel 1.5.9-5+b1 [11.2 kB]
  Get:5 http://mirrors.ece.ubc.ca/debian/ jessie/main libkrb5support0 armel 1.12.1+dfsg-19 [54.8 kB]
  Get:6 http://mirrors.ece.ubc.ca/debian/ jessie/main libk5crypto3 armel 1.12.1+dfsg-19 [109 kB]
  Get:7 http://mirrors.ece.ubc.ca/debian/ jessie/main libkrb5-3 armel 1.12.1+dfsg-19 [255 kB]
  Get:8 http://mirrors.ece.ubc.ca/debian/ jessie/main libgssapi-krb5-2 armel 1.12.1+dfsg-19 [128 kB]
  Get:9 http://mirrors.ece.ubc.ca/debian/ jessie/main libwrap0 armel 7.6.q-25 [56.0 kB]
  Get:10 http://mirrors.ece.ubc.ca/debian/ jessie/main openssh-client armel 1:6.7p1-5 [626 kB]
  Get:11 http://mirrors.ece.ubc.ca/debian/ jessie/main init-system-helpers all 1.22 [14.0 kB]
  Get:12 http://mirrors.ece.ubc.ca/debian/ jessie/main openssh-sftp-server armel 1:6.7p1-5 [33.5 kB]
  Get:13 http://mirrors.ece.ubc.ca/debian/ jessie/main openssh-server armel 1:6.7p1-5 [313 kB]
  Get:14 http://mirrors.ece.ubc.ca/debian/ jessie/main ssh all 1:6.7p1-5 [120 kB]
  Get:15 http://mirrors.ece.ubc.ca/debian/ jessie/main molly-guard all 0.4.5-1.1 [12.7 kB]
  Get:16 http://mirrors.ece.ubc.ca/debian/ jessie/main policyrcd-script-zg2 all 0.1-2 [5900 B]
  debconf: delaying package configuration, since apt-utils is not installed
  Fetched 2717 kB in 35s (76.4 kB/s)
  Selecting previously unselected package libssl1.0.0:armel.
  (Reading database ... 
  (Reading database ... 5%
  (Reading database ... 10%
  (Reading database ... 15%
  (Reading database ... 20%
  (Reading database ... 25%
  (Reading database ... 30%
  (Reading database ... 35%
  (Reading database ... 40%
  (Reading database ... 45%
  (Reading database ... 50%
  (Reading database ... 55%
  (Reading database ... 60%
  (Reading database ... 65%
  (Reading database ... 70%
  (Reading database ... 75%
  (Reading database ... 80%
  (Reading database ... 85%
  (Reading database ... 90%
  (Reading database ... 95%
  (Reading database ... 100%
  (Reading database ... 7887 files and directories currently installed.)
  Preparing to unpack .../libssl1.0.0_1.0.1k-3+deb8u1_armel.deb ...
  Unpacking libssl1.0.0:armel (1.0.1k-3+deb8u1) ...
  Selecting previously unselected package libbsd0:armel.
  Preparing to unpack .../libbsd0_0.7.0-2_armel.deb ...
  Unpacking libbsd0:armel (0.7.0-2) ...
  Selecting previously unselected package libedit2:armel.
  Preparing to unpack .../libedit2_3.1-20140620-2_armel.deb ...
  Unpacking libedit2:armel (3.1-20140620-2) ...
  Selecting previously unselected package libkeyutils1:armel.
  Preparing to unpack .../libkeyutils1_1.5.9-5+b1_armel.deb ...
  Unpacking libkeyutils1:armel (1.5.9-5+b1) ...
  Selecting previously unselected package libkrb5support0:armel.
  Preparing to unpack .../libkrb5support0_1.12.1+dfsg-19_armel.deb ...
  Unpacking libkrb5support0:armel (1.12.1+dfsg-19) ...
  Selecting previously unselected package libk5crypto3:armel.
  Preparing to unpack .../libk5crypto3_1.12.1+dfsg-19_armel.deb ...
  Unpacking libk5crypto3:armel (1.12.1+dfsg-19) ...
  Selecting previously unselected package libkrb5-3:armel.
  Preparing to unpack .../libkrb5-3_1.12.1+dfsg-19_armel.deb ...
  Unpacking libkrb5-3:armel (1.12.1+dfsg-19) ...
  Selecting previously unselected package libgssapi-krb5-2:armel.
  Preparing to unpack .../libgssapi-krb5-2_1.12.1+dfsg-19_armel.deb ...
  Unpacking libgssapi-krb5-2:armel (1.12.1+dfsg-19) ...
  Selecting previously unselected package libwrap0:armel.
  Preparing to unpack .../libwrap0_7.6.q-25_armel.deb ...
  Unpacking libwrap0:armel (7.6.q-25) ...
  Selecting previously unselected package openssh-client.
  Preparing to unpack .../openssh-client_1%3a6.7p1-5_armel.deb ...
  Unpacking openssh-client (1:6.7p1-5) ...
  Selecting previously unselected package init-system-helpers.
  Preparing to unpack .../init-system-helpers_1.22_all.deb ...
  Unpacking init-system-helpers (1.22) ...
  Selecting previously unselected package openssh-sftp-server.
  Preparing to unpack .../openssh-sftp-server_1%3a6.7p1-5_armel.deb ...
  Unpacking openssh-sftp-server (1:6.7p1-5) ...
  Selecting previously unselected package openssh-server.
  Preparing to unpack .../openssh-server_1%3a6.7p1-5_armel.deb ...
  Unpacking openssh-server (1:6.7p1-5) ...
  Selecting previously unselected package ssh.
  Preparing to unpack .../ssh_1%3a6.7p1-5_all.deb ...
  Unpacking ssh (1:6.7p1-5) ...
  Selecting previously unselected package molly-guard.
  Preparing to unpack .../molly-guard_0.4.5-1.1_all.deb ...
  Unpacking molly-guard (0.4.5-1.1) ...
  Selecting previously unselected package policyrcd-script-zg2.
  Preparing to unpack .../policyrcd-script-zg2_0.1-2_all.deb ...
  Unpacking policyrcd-script-zg2 (0.1-2) ...
  Processing triggers for systemd (215-17+deb8u1) ...
  Setting up libssl1.0.0:armel (1.0.1k-3+deb8u1) ...
  Setting up libbsd0:armel (0.7.0-2) ...
  Setting up libedit2:armel (3.1-20140620-2) ...
  Setting up libkeyutils1:armel (1.5.9-5+b1) ...
  Setting up libkrb5support0:armel (1.12.1+dfsg-19) ...
  Setting up libk5crypto3:armel (1.12.1+dfsg-19) ...
  Setting up libkrb5-3:armel (1.12.1+dfsg-19) ...
  Setting up libgssapi-krb5-2:armel (1.12.1+dfsg-19) ...
  Setting up libwrap0:armel (7.6.q-25) ...
  Setting up openssh-client (1:6.7p1-5) ...
  Setting up init-system-helpers (1.22) ...
  Setting up openssh-sftp-server (1:6.7p1-5) ...
  Setting up openssh-server (1:6.7p1-5) ...
  Creating SSH2 RSA key; this may take some time ...
  2048 4b:e4:20:a4:c3:af:11:6c:58:d7:c8:b1:30:0c:56:e3 /etc/ssh/ssh_host_rsa_key.pub (RSA)
  Creating SSH2 DSA key; this may take some time ...
  1024 6e:95:ca:a2:7f:71:56:34:0f:a0:0d:05:d2:6e:85:6c /etc/ssh/ssh_host_dsa_key.pub (DSA)
  Creating SSH2 ECDSA key; this may take some time ...
  256 9c:ed:bd:6a:38:60:4c:fd:61:48:03:2d:d6:a7:97:0a /etc/ssh/ssh_host_ecdsa_key.pub (ECDSA)
  Creating SSH2 ED25519 key; this may take some time ...
  256 81:a5:44:8b:ef:7c:b5:67:7b:fd:32:3d:64:fa:b3:12 /etc/ssh/ssh_host_ed25519_key.pub (ED25519)
  Starting OpenBSD Secure Shell server: sshd.
  Setting up ssh (1:6.7p1-5) ...
  Setting up molly-guard (0.4.5-1.1) ...
  Setting up policyrcd-script-zg2 (0.1-2) ...
  update-alternatives: using /usr/sbin/zg-policy-rc.d to provide /usr/sbin/policy-rc.d (policy-rc.d) in auto mode
  Processing triggers for libc-bin (2.19-18) ...
  Processing triggers for systemd (215-17+deb8u1) ...
- cp /data/data/info.guardianproject.lildebi/app_bin/policy-rc.d /etc/policy-rc.d
- chmod 0755 /etc/policy-rc.d
- test -e /etc/ssh/ssh_host_rsa_key
- test -e /etc/ssh/ssh_host_dsa_key
- apt-get clean
- apt-get --yes update
  Hit http://security.debian.org stable/updates InRelease
  Hit http://mirrors.ece.ubc.ca jessie InRelease
  Hit http://security.debian.org stable/updates/main armel Packages
  Hit http://security.debian.org stable/updates/main Translation-en
  Hit http://mirrors.ece.ubc.ca jessie/main armel Packages
  Hit http://mirrors.ece.ubc.ca jessie/main Translation-en
  Reading package lists...
- apt-get --yes --fix-broken upgrade
  Reading package lists...
  Building dependency tree...
  Reading state information...
  0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
- apt-get clean
- sed -i -e s/^[# ]*en_US.UTF-8/en_US.UTF-8/ /etc/locale.gen
- sed -i -e s/^[# ]*fr_BE/fr_BE/ /etc/locale.gen
- locale-gen
  Generating locales (this might take a while)...
  en_US.UTF-8... done
  fr_BE.ISO-8859-1... done
  fr_BE.UTF-8... done
  fr_BE.ISO-8859-15@euro... done
  Generation complete.
- echo Debian is installed and ssh started!
  Debian is installed and ssh started!
  ----------------------------------------
  stop-debian.sh
  Asking all processes to terminate...done
  Killing remaining processes:
  done
  Checking for open files in Debian chroot...done
  Unmounting everything...done

Debian chroot stopped and unmounted.
"
guardianproject/lildebi,open,Cannot install on internal storage,[],"I'm on Nexus 7 (2013), 3.4.0-cyanogenmod (Android 4.3.1). Installing lib debi went like a charm, apt-getting other packages, adding users, ssh-ing into the device all no prob. And best of all: EMACS! Yeah! Finally on my droid.

Because there were only few dozen or so MBs (or was it GBs?) left on '/', I stopped lil debi, enabled the ""Install to Internal Storage (beta), Internal Storage: /data/debian (Beta)"" option, and hit ""install"" again. /data/debian has 22GBs free btw. (N.B. Before stopping/enabling install-to-internal-storage, I had enabled install-to-internal-storage without stopping lil debi first, which did not seem to do anything, but who knows, it might have messed up some state) That seemed to go fine as well. I started a chroot terminal on the device, added a user, checked ""df -h"", which interestingly did NOT have a '/' entry (related to bricking?), but the other entries were fine.

Now when trying to ssh into the box with the created user, it will verify the password and display the motd, at which point it just hangs. Now unfortunately the power button (I had turned the display off before ssh-ing in etc) on the device will leave the screen black, although I can see that the background light changes, i.e. the black gets a liiiiiittle ligther, light-black if you will.

I then long-pressed the power button, which, instead of showing the ""reboot / screenshot / ... "" menu, shut the tablet down. Fortunately, long-pressing once more rebooted. Restarting lil debi worked the same as it did before. I can work on the terminal, there is no '/' root folder mounted, but I can apt-get and run things. I still cannot ssh in, but I won't turn off the screen now (don't close your eyes! the eyes! keep the eyes open!). Will investigate further.
"
guardianproject/lildebi,open,SHA1 checksum not checked by default,[],"I definitely think it's a good idea to ship the app with this turned on. It might take a little while, but presumably if someone's running a chrooted Debian environment on their phone they can handle waiting through a SHA1 computation.

If you/I wanted to get particularly fancy, the app could include a Debian release signing key and validate the signature as well.
"
guardianproject/lildebi,open,Install failing because missing shell,[],"I'm using version 0.5.3, currently the most recent release on F-Droid.

The install is failing immediately due to a missing shell binary. Screenshots of the logs are attached below. I'm on a Nightly of CyanogenMod 12.1 for the HTC One M8.

![lil-debi-2](https://cloud.githubusercontent.com/assets/1668979/8064873/8629cfa8-0eab-11e5-80c6-2c3386c24518.png)
![lil-debi-1](https://cloud.githubusercontent.com/assets/1668979/8064878/8e916b9c-0eab-11e5-8d7a-523633c9783d.png)
"
guardianproject/lildebi,open,"Mount fails, hangs on attempt to start on sshd",[],"I installed Lil' Debi seemingly without a hitch. However, when I tried to start it, the startup hangs after this:

```
tcgetattr: Invalid argument
Starting OpenBSD Secure Shell server: sshd.
```

Here is a link to a copy of my [install log](http://pastebin.ca/3014155).
"
guardianproject/lildebi,open,"""gpgv: Can't check signature: public key not found""",[],"Trying to use LilDebi to install Debian Jessie on a Nexus 5 running stock Android 5.1.

After manually creating a `/etc/resolv.conf` and replacing the BusyBox binary with a newer one¹ to get around #161, the installer script does run, although cdebootstrap fails to verify Release with a gpgv error similar to @TuningGuide on #159:

```
+ echo 'run cdebootstrap in one stage'
+ /data/debian/usr/bin/cdebootstrap-static --verbose --foreign '--flavour=minimal' '--include=locales' '--keyring=/data/data/info.guardianproject.lildebi/app_bin/debian-archive-keyring.gpg' '--configdir=/data/debian/usr/share/cdebootstrap-static' '--helperdir=/data/debian/usr/share/cdebootstrap-static' --arch armhf stable /data/debian [mirror URL redacted]
P: Retrieving Release
P: Retrieving Release.gpg
P: Validating Release
gpgv: Signature made Sat Apr 25 11:11:38 2015 GMT using RSA key ID 46925553
gpgv: Can't check signature: public key not found
gpgv: Signature made Sat Apr 25 11:11:38 2015 GMT using RSA key ID 2B90D010
gpgv: Can't check signature: public key not found
gpgv: Signature made Sat Apr 25 11:12:04 2015 GMT using RSA key ID 518E17E1
gpgv: Can't check signature: public key not found
E: Couldn't validate Release!
```

Replacing `debian-archive-keyring.gpg` with the one from the latest `debian-archive-keyring` package did not work. `setenforce 0` did not help either. The old gpgv mentioned on #159 wouldn't support Lollipop so I haven't tried it.

¹ Stericson BusyBox, which works properly under Lollipop. It only requires changing the `app_bin/sh` symlink to point to `/system/bin/sh`, since it does not include `sh`.
"
guardianproject/lildebi,closed,Resizing image to resolve running out of disk space?,[],"Created a 6 GB image and got the full Xfce goodness going through VNC. (Which is awesome.)

But then I ran out of space. Any tips for resizing the image?
"
guardianproject/lildebi,open,removed from Google play?,[],"Any reason why?
"
guardianproject/lildebi,open,missing ftp.us.d.o,[],"Also http.d.n/the new .d.o version of that 
"
guardianproject/lildebi,open,Creates the image but there is no Debian in it,[],"Hi

I am using the latest one. I open it choose the options (armhf, stable, 1900mb). It creates the image but i donot think that it downloads the actual image, i tried couple different mirrors.
"
guardianproject/lildebi,open,chroot issue,[],"I have an issue I get the error ""cant execute 'su' no such file or directory."" when i try to run linux on linux deploy. 
so I do 
ls data/data/ru.meefik.linuxdeploy/linux/mnt su - root -c /etc/init.d/myscript start
says tmp -mksh: root: not found what do i do now?
"
guardianproject/lildebi,open,Installing on internal disk bricked my phone (S3 i9300) (Replicant OS),[],"I attempted to install lil deb on my Samsung Galaxy S3 i9300 with Replicant 4.2 002. During the installation process, the phone rebooted and the Replicant boot image appeared. The phone is stuck in this state and won't boot fully.
"
guardianproject/lildebi,closed,Support for file manager to select installation image,[],"On selection of Choose installation image from settings provides local storage structure to choose image file and on selection provides the popup for successful selection.

![1 1](https://cloud.githubusercontent.com/assets/11634765/7105078/6651dce8-e124-11e4-8943-03c4c3a129b4.png)
![4](https://cloud.githubusercontent.com/assets/11634765/7105079/6e647fc6-e124-11e4-9af0-49b93bc067e1.png)
![5 1](https://cloud.githubusercontent.com/assets/11634765/7105080/7bc50190-e124-11e4-86bf-869dfcc9efc6.png)
![6](https://cloud.githubusercontent.com/assets/11634765/7105082/9343d242-e124-11e4-9247-5304b18e7634.png)
"
guardianproject/lildebi,closed,refer https://github.com/guardianproject/lildebi/pull/169,[],"On selection of Choose installation image from settings provides local storage structure to choose image file and on selection provides the popup for successful selection.
"
guardianproject/lildebi,closed,stop-debian.sh simplified,[],"Does not repeat the code involved with tracking down and killing the PIDs.
"
guardianproject/lildebi,open,start-debian.sh: Update e2fsck.static if it is being used,[],"Fixes issue #119.
"
guardianproject/lildebi,open,remove-hard-restart.sh: use disable with update-rc.d instead of remove,[],"With remove, the links are reestablished on upgrade of the package when `update-rc.d $script defaults` is run (in this case most are from the initscripts package, AFAICT). With disable, they will stay disabled / not running.
"
guardianproject/lildebi,open,installed or not installed?,[],"Hello,

i just started to try out lildebi.
I fetched the installation from F-Droid, altered the path for the image to /storage/sdcard1 and started the installation - without no feedback.

After some time i searched for the debian.img and found a file with 630194176 bytes.
In the APP i can choose installation log and nothing happens!
The same when i choose open terminal.

And now?

I can see that /data/data/info.guardianproject.lildebi is existant with the files and scripts in it.
But nothing happens when i start /data/data/info.guardianproject.lildebi/app_bin/start-debian.sh
The script seems to be started without any message and no error?

Your wiki does not cover any explanation what should happen and how this project should work?

Some help and additional hints would be perfect.
Thank you!
"
guardianproject/lildebi,open,"""Status: Network required for install"" on ZTE Skate running cyanogenmod 7",[],"Trying to install lildebi from F-Droid, I get ""Status: Network required for install"" on a SIM-less phone (ZTE Skate running cyanogenmod 7) which is connected to the internet via Wifi just fine; I verified that both the default route and DNS resolution do work.

It seems this https://github.com/guardianproject/lildebi/blob/master/src/info/guardianproject/lildebi/LilDebi.java#L276 (isOnline()) yields a wrong result.
"
guardianproject/lildebi,closed,Direct links to the images?,[],"Hi

it would be great if you could provide direct links to the downloadable images. There is only Squeeze listed and it is very old.

I just downloaded the latest dev version and tried to download and install jessie and it is failing. I just want to make sure that I can try it with a manually downloaded version. It looks like it could not download the jessie image from the given url.

http://paste.debian.net/154190/

thanks
"
guardianproject/lildebi,open,Included wget not working on android-21/5.0/Lollipop,[],"I compiled lildebi on a debian, installed the apk on my phone and tried to install debian. But wget is telling me wget: bad address ""http://mirrors.ece.ubc.ca/debian"".

I had to move the included wget within ...lildebi/app_bin/ to somewhere else. Afterwards it took the wget from my phone which is working fine.
"
guardianproject/lildebi,closed,Unable to find current revision in submodule path 'external/libsuperuser',[],"Hy,
when im trying to build lildebi misself on debian I get:
$ git submodule update
fatal: Needed a single revision
Unable to find current revision in submodule path 'external/libsuperuser'

$ sudo git submodule update
sudo: unable to resolve host mysql-dev-shared
Warning: Permanently added the RSA host key for IP address '192.30.252.131' to the list of known hosts.
Permission denied (publickey).
fatal: The remote end hung up unexpectedly
Unable to fetch in submodule path 'external/libsuperuser'

Any help?
"
guardianproject/lildebi,open,Latest gpgv fails to verify,[],"In attempting to build Lil'Debi for Ubuntu, I kept having issues with verification. I have verified that gpgv on my computer can verify the release sig given the appropriate keyring. Using the latest gpgv on 4.4.4 fails, but the old gpgv (non-static) using the same arguments does not fail.
![screenshot 09-08pm feb 17 2015](https://cloud.githubusercontent.com/assets/5570483/6241851/532968a2-b6ea-11e4-815a-250689c93dc8.png)
In this example, `/data/local/gpgv-new -v --keyring=/data/local/ubuntu-archive-keyring.gpg /data/local/release.gpg /data/local/release` caused the issue. `/data/local/gpgv-orig -v --keyring=/data/local/ubuntu-archive-keyring.gpg /data/local/release.gpg /data/local/release` succeeded.
"
guardianproject/lildebi,closed,stop debian when uninstalled,[],"We should stop debian before application is uninstalled.
"
guardianproject/lildebi,open,Build cdebootstrap from source,[],"It's a bit ugly but it builds. Feel free to edit/discard as you see fit.
"
guardianproject/lildebi,open,adding kill-debian.sh script,[],"kill-debian.sh is similar to stop-debian.sh, except it will not check for open-files.
It will just unmount the system after killing the running processes.

fix https://github.com/guardianproject/lildebi/issues/139 #139
"
guardianproject/lildebi,open,Getting weird symbols on cm-11,[],"When I click on 'Open Terminal' in lildebi running with cm-11, I am getting some weird symbols '0;60R'. But /debian/shell works fine.

Please check the image below. I have tested it on Nexus 5 cm-11.
@godlessfather is also getting similar symbols on his Nexus 5 cm-11

![screenshot_2015-01-25-13-30-00 1](https://cloud.githubusercontent.com/assets/1321321/6188496/a6d34918-b3b7-11e4-8e76-66d720e07e49.png)
"
guardianproject/lildebi,open,arm64 (aarch64) support,[],"While this probably can't be fully realized until #145 is fixed, the Nexus 9 is the first AArch64 Android device on the market and it will be lovely to be able to use Lil Debi for it!
"
guardianproject/lildebi,closed,Build libsuperuser-release.aar,[],"@SDkie's changes in https://github.com/guardianproject/lildebi/pull/152 fail on cli builds. Edits in the Makefile allow it to build properly from cli.
"
guardianproject/lildebi,closed,using libsuperuser to do SU tasks,[],
guardianproject/lildebi,closed,add /sd-ext to mounted filesystems,[],"Hi, sometimes it is used second partition on sd card, which is named /sd-ext.
Please add test_mount_bind /sd-ext to $app_bin/start-debian.sh
"
guardianproject/lildebi,open,"Add ""About Lil' Debi"" to Menu",[],"![screenshot_2015-02-01-11-55-48](https://cloud.githubusercontent.com/assets/5570483/5993226/9b420e66-aa0e-11e4-8e48-5d463c146df0.png)
![screenshot_2015-02-01-11-56-01](https://cloud.githubusercontent.com/assets/5570483/5993227/9b467992-aa0e-11e4-8a51-2b349b7a4c87.png)
"
guardianproject/lildebi,closed,Add CarbonROM to the build whitelist,[],"As Carbon follows CM's method of integrating superuser.

Fixes #148
"
guardianproject/lildebi,closed,Fails to detect superuser when built into the ROM,[],"I'm suspicious that this only applies to my particular rom/distro, as you'd think there would be more cases of it applying to cyanogenmod and such. EDIT: I now see the little ""if cyanogen"" lines, I'm going to try something...

I'm on a custom built CarbonROM mako kitkat build. CarbonROM integrates superuser into the Settings menu (and does it through systemUI, iirc) and thus it doesn't have a package name.

Since 0.5.1 I have not been able to start my debian image.

If possible, could there be an option to ignore the superuser check or just check by the old method (and try elvating) if the other checks fail?
"
guardianproject/lildebi,closed,groupadd: failure to write changes /etc/group,[],"i can edit the /etc/group file by hand using 'nano /etc/group' but the commands groupadd and addgroup do not work. this is messing with some packages, but i think the problem lies somewhere around groupadd. i don't know what information to post yet, please advise.
"
guardianproject/lildebi,closed,use proper forms,[],"I updated some italian translations. They where comprehensible enought but not correct.
"
guardianproject/lildebi,closed,don't work with cyanogenmod 12 or 5.0/Lollipop,[],"I have upddated my nexus 5 to cyanogenmod 12(android 5) and try to install lildebi. 
Impossible to install a new debian image or to restart my old debian (working with cyanogen mod 11)

log : 

``` bash
# cd /data/data/info.guardianproject.lildebi/app_bin
# ./create-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /data/debian /data/debian \
&& ./stop-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /data/debian /data/debian \
&& ./unmounted-install-tweaks.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /data/debian /data/debian \
&& ./start-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /data/debian /data/debian \
&& /data/data/info.guardianproject.lildebi/app_bin/chroot /data/debian /data/data/info.guardianproject.lildebi/app_bin/complete-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /data/debian /data/debian 
Cannot execute /data/data/info.guardianproject.lildebi/app_bin/sh: No such file or directory
```
"
guardianproject/lildebi,closed,typo in lildebi-common,[],"```
--- lildebi-common.O    2015-01-06 22:41:00.000000000 +0000
+++ lildebi-common  2015-01-13 17:38:51.919884779 +0000
@@ -71,25 +71,25 @@
 make_root_symlinks () {
     wd=`pwd`
     cd /
-    mount -oremount,rw rootfs /
+    mount -o remount,rw rootfs /
     for x in \
         bin boot home media opt selinux srv usr var tmp
     do
         ln -s $mnt/$x /$x
     done
-    mount -oremount,ro rootfs /
+    mount -o remount,ro rootfs /
     cd ""$wd""
 }

 remove_root_symlinks () {
     cd /
-    mount -oremount,rw rootfs /
+    mount -o remount,rw rootfs /
     for x in \
         bin boot home media opt selinux srv usr var tmp
     do
         rm /$x
     done
-    mount -oremount,ro rootfs /
+    mount -o remount,ro rootfs /
 }

 find_losetup () { 
```
"
guardianproject/lildebi,open,Impossible to make a image file > of 2000MB!,[],"Hi! Thanks for this beautiful application.
With Linux Deploy I can make image file of 4095 MB, with Lil' Debi I can't.
I have this error:
mke2fs: lseek: Value too large for defined data type.
"
guardianproject/lildebi,closed,recognize koush superuser when built from source,[],"unless specified otherwise, koush superuser when built from source uses ""com.thirdparty.superuser"" so it doesn't conflict with the Play store version. for example, the latest stable android-x86 build (4.4-r1) uses this package name for the built-in version, and LilDebi doesn't see it, prompting the user to install superuser.

https://github.com/koush/Superuser/blob/master/README.md#configuring-the-package-name
"
guardianproject/lildebi,open,"installed OK but ""Debian not mounted""",[],"I just installed latest lildebi from play store and the debian installation went without problem(except that I had to install a SuperUser alongside SuperSU). After I ""Start Debian"", it shows ""Debian not mounted"" and there is nothing under `/debian` and `/data/debian`, but the sshd started fine.

```
    Connected to android-e8c85a7db2fe6d34.lan.
    Escape character is '^]'.
    SSH-2.0-OpenSSH_6.0p1 Debian-4+deb7u2
    ^]
    telnet> Connection closed.
```

the installation summary is like the following, please let me know if you need the full or part of the installation log. 

```
    manufacturer: OnePlus
    model: A0001
    product: bacon
    brand: oneplus
    device: A0001
    board: MSM8974
    ID: KTU84Q
    CPU ABI: armeabi-v7a
    release: 4.4.4
    incremental: 5fa8c79c0b
    codename: REL
    SDK: 19
```

PS. I am not sure whether it's related but my phone has 64G internal storage and the directory /sdcard is properly mounted to the real device. I noticed that there is an option `Install on Internal Storage` in lildebi's settings but I didn't check that since it's still Beta.
"
guardianproject/lildebi,closed,set the locale on the Debian device to match the system's,[],"Using `Locale.getDefault()` or `getResources().getConfiguration().locale` it is possible to get the currently active locale of the device.  Lil' Debi should set up the Debian install to use that locale by default.
"
guardianproject/lildebi,closed,"on uninstall, run ""Stop Debian""",[],"run ""stop debian"" on Lil' Debi uninstall to make sure things are left in a sane state.  Also, on fresh install, Lil' Debi will not properly detect a running install on internal storage, and instead thinks there is no install.
"
guardianproject/lildebi,closed,Update strings.xml,[],
guardianproject/lildebi,closed,install log is horribly slow to update,[],"The code for posting text to the install log is so horrible that by the end of the process, it pegs the device's CPU for a while.  I'm almost done with a fix for this.
"
guardianproject/lildebi,open,About page with lildebi version,[],"we should add an about page with version number and may be link to source code.
"
guardianproject/lildebi,closed,setting passwd in Debian Jessie,[],"I am not able to set password in Debian Jessie.

""root@localhost:/# passwd
Enter new UNIX password: 
Retype new UNIX password: 
passwd: password updated successfully""

Still when I try to ssh to my phone it says 'Permission denied, please try again'

I remember that wheezy was not giving such issue.
"
guardianproject/lildebi,open,crash after mount weirdness,[],"I was troubleshooting some issues where `./stop-debian.sh` does not successfully unmount and lives things in a kind of limbo state where `/data/debian` is mounted, but no other lildebi mount is.  In this case, `/data/debian` and `/data/debian/mnt/sdcard` were the only two things still mounted.  When I manually unmounted them, Lil' Debi showed me the ""Install"" button as if there was no image file any more.  When I clicked on ""Install"", I got a crash, the stacktrace is at the bottom of this post.

It seems like something make the sdcard mounting process die, because trying to see it in `adb shell` did:

``` bash
shell@android:/ # ls -l /storage/sdcard0/                                      
/storage/sdcard0/: Transport endpoint is not connected
```

Here's the stacktrace:

```
        AndroidRuntime  E  FATAL EXCEPTION: main
                        E  java.lang.RuntimeException: Unable to resume activity {info.guardianproject.lildebi/info.guardianproject.lildebi.InstallActivity}: java.lang.IllegalArgumentException: Invalid path: /storage/emulated/legacy
                        E      at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2870)
                        E      at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2899)
                        E      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2363)
                        E      at android.app.ActivityThread.access$600(ActivityThread.java:153)
                        E      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1247)
                        E      at android.os.Handler.dispatchMessage(Handler.java:99)
                        E      at android.os.Looper.loop(Looper.java:137)
                        E      at android.app.ActivityThread.main(ActivityThread.java:5227)
                        E      at java.lang.reflect.Method.invokeNative(Native Method)
                        E      at java.lang.reflect.Method.invoke(Method.java:511)
                        E      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:795)
                        E      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:562)
                        E      at dalvik.system.NativeStart.main(Native Method)
                        E  Caused by: java.lang.IllegalArgumentException: Invalid path: /storage/emulated/legacy
                        E      at android.os.StatFs.doStat(StatFs.java:46)
                        E      at android.os.StatFs.<init>(StatFs.java:39)
                        E      at info.guardianproject.lildebi.NativeHelper.getInstallPathFreeMegaBytes(NativeHelper.java:296)
                        E      at info.guardianproject.lildebi.InstallActivity.setImageSizeInMB(InstallActivity.java:192)
                        E      at info.guardianproject.lildebi.InstallActivity.onResume(InstallActivity.java:172)
                        E      at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1185)
                        E      at android.app.Activity.performResume(Activity.java:5182)
                        E      at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2860)
                        E      ... 12 more
                        E  Caused by: libcore.io.ErrnoException: statfs failed: ENOTCONN (Transport endpoint is not connected)
                        E      at libcore.io.Posix.statfs(Native Method)
                        E      at libcore.io.ForwardingOs.statfs(ForwardingOs.java:126)
                        E      at android.os.StatFs.doStat(StatFs.java:44)
                        E      ... 19 more
```
"
guardianproject/lildebi,closed,java.lang.NullPointerException in info.guardianproject.lildebi.InstallActivity.onCreate,[],"From Play Store:
- running install, first thing
- ""po wpisaniu komendy w terminalu program Lil' Debi się wyłącza""/when you type the command in a terminal program Lil 'Debi turns off

```
java.lang.RuntimeException: Unable to start activity ComponentInfo{info.guardianproject.lildebi/info.guardianproject.lildebi.InstallActivity}: java.lang.NullPointerException
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2245)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2295)
at android.app.ActivityThread.access$700(ActivityThread.java:150)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1280)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:175)
at android.app.ActivityThread.main(ActivityThread.java:5279)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)
at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.NullPointerException
at info.guardianproject.lildebi.InstallActivity.onCreate(InstallActivity.java:115)
at android.app.Activity.performCreate(Activity.java:5283)
at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1097)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2209)
... 11 more
```
"
guardianproject/lildebi,open,Any way to run privoxy?,[],"Hi

I am trying to get privoxy run on my debian img (Squeeze) but getting a permission error

2014-10-17 01:42:53.489 b6f76000 Fatal error: can't bind to localhost:8118: Permission denied

Is this a chroot limitation? Any work around?

thanks
"
guardianproject/lildebi,open,"""bash: [: : integer expression expected"" when launching debian shell",[],"Hi

I just installed the latest from the release page and I am getting bunch of PATH errors 

/usr/local/sbin
/usr/sbin
/sbin

and ldconfig are all missing

thanks
"
guardianproject/lildebi,closed,"system restart when click ""Stop Debian""",[],"I can start Debian normally, but when I click ""Stop Debian"" android restarts (or system ui, it doesn't ask for sim pin)
these are the last lines before logcat disconnects on restart:

```
I/LilDebiAction( 7433): exec: su -s /data/data/info.guardianproject.lildebi/app_bin/sh
D/su      ( 7719): su invoked.
I/LilDebiAction( 7433): cd /data/data/info.guardianproject.lildebi/app_bin
I/LilDebiAction( 7433): export PATH=/data/data/info.guardianproject.lildebi/app_bin
I/LilDebiAction( 7433): /data/data/info.guardianproject.lildebi/app_bin/chroot /data/debian /bin/bash -c ""/etc/init.d/rc 0""; ./stop-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /storage/sdcard1/debian.img /data/debian 
I/LilDebiAction( 7433): exit
D/su      ( 7719): starting daemon client 10140 10140
D/su      ( 7722): remote pid: 7719
D/su      ( 7722): remote pts_slave: 
D/su      ( 7722): waiting for child exit
D/su      ( 7733): su invoked.
D/su      ( 7733): db allowed
D/su      ( 7733): 10140 /system/xbin/su executing 0 /data/data/info.guardianproject.lildebi/app_bin/sh using binary /data/data/info.guardianproject.lildebi/app_bin/sh : sh
```

it is a moto g 4g, android 4.4.4, with superuser 1.0.3.0, I had to manually update the binary as told here: https://github.com/koush/Superuser/issues/233#issuecomment-35162389

after crash I can't use `su -`:

```
$ sudo adb shell
shell@peregrine:/ $ su -
255|shell@peregrine:/ $ 
```
"
guardianproject/lildebi,open,Crash when installing Debian (out of memory?),[],"here's the logfile: http://pastebin.com/raw.php?i=Hut13bwe

it eventually crashes, and doesn't finish the installation. when i try to start Debian, fsck complains of a inconsistent filesystem.

i'm running the latest stable Cyanogenmod.

manufacturer: Samsung
model: Nexus S
product: soju
brand: Google
device: crespo
board: herring
ID: KTU84Q
CPU ABI: armeabi-v7a
release: 4.4.4
incremental: 0faf3b9e42
codename: REL
SDK: 19
"
guardianproject/lildebi,open,trouble with running scripts as root on Android L,[],"The still unreleased Android L has some changes that will mean that we'll have to change how things are run as root:
https://plus.google.com/+Chainfire/posts/Lyhjzu1z9s1
"
guardianproject/lildebi,closed,PreferencesActivity: java.lang.NullPointerException,[],"From the Play Store crash reports

```
java.lang.RuntimeException: Unable to resume activity {info.guardianproject.lildebi/info.guardianproject.lildebi.PreferencesActivity}: java.lang.NullPointerException
at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2139)
at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2154)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1687)
at android.app.ActivityThread.access$1500(ActivityThread.java:121)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:940)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3714)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:853)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:611)
at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.NullPointerException
at info.guardianproject.lildebi.PreferencesActivity.setSummaries(PreferencesActivity.java:98)
at info.guardianproject.lildebi.PreferencesActivity.onResume(PreferencesActivity.java:76)
at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1150)
at android.app.Activity.performResume(Activity.java:3832)
at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2129)
... 12 more
```
"
guardianproject/lildebi,open,support of file manager to select debian img location,[],"Their should be support of file manager instead of manually writing name of debian img
"
guardianproject/lildebi,open,install profile scripts,[],"Add a dropdown menu to `InstallActivity` that lets the user choose with ""install profile"" that should be installed.  An ""install profile"" is just a script that installs and configures a certain setup.  The install profile scripts would have a standard name, and then the code that generates the dropdown menu will just look for all of the scripts that match that pattern and build the menu from them.
"
guardianproject/lildebi,open,convert command line args to a conf file,[],"The internal Lil' Debi scripts currently expect essential arguments on the command line, and will not function without them.  To make it easier to debug the scripts, and use the script from the Android shell, these arguments should instead be written to a file which the scripts then source.  This file would be written from Java every time the script is called there to make sure they are up-to-date.
"
guardianproject/lildebi,closed,support LXDE,[],"LXDE is a lightweight user environment that should work nicely on Android devices.  In order for it to work on Android, the `xrdp` process needs to have network permissions, i.e. `adduser xrdp inet`
"
guardianproject/lildebi,open,support ubuntu,[],"Its possible to also install Ubuntu using `cdebootstrap`, but there might be some little details where things are different from Debian.  For example, Ubuntu uses `upstart` as its init system, while Debian was using SysV and is switching to `systemd` in jessie.

Here's one Ubuntu detail from DebianKit's `andromize-lxde` package:

```
        # Adapt upstart jobs to chrooted environments
        dpkg-divert --local --rename --add /sbin/initctl
        ln -sf /bin/true /sbin/initctl
```
"
guardianproject/lildebi,closed,Please update changelog,[],"Changelog hasn't been updated since v4.7.

Thanks
"
guardianproject/lildebi,open,android-permissions package should update home dirs for app users,[],"The Debian [android-permissions](packages.debian.org/android-permissions) package sets up the user accounts for each app.  It should also include script that runs at startup that updates each app user's home dir with the base path to the app itself.  For example, if `u0_a43` is Lil' Debi's app uid, then the home dir should be `/data/data/info.guardianproject.lildebi`.
"
guardianproject/lildebi,open,start-debian.sh should update e2fsck.static if its being used,[],"If a device is shipped without `e2fsck`, which is seems that many if not most are, then Lil' Debi will install Debian's `e2fsck-static` package and copy the binary from there into Lil' Debi.  But it does not update that once it has copied it, and it should.

After mounting, Lil' Debi should copy `e2fsck.static` from Debian to `app_bin`, if it has changed.  An easy way to do that would be to use `rsync --checksum` to do the copy.  The user could uninstall the `e2fsck-static` package from their chroot, in which case this copy won't happen.

While we're at it, perhaps it makes sense to remove the `fsck` that is built into `busybox`.  That seems sketchy to use, but perhaps its worth keeping as a last resort.
"
guardianproject/lildebi,closed,"lildebi should detect /data/debian install and set ""Internal Storage"" preference",[],"With the loopback setup, most people use the debian path to the image file, so if Lil' Debi is uninstalled and reinstalled, then Lil' Debi can see if there is already a `debian.img` and set itself up accordingly.  It does not currently detect an install in `/data/debian`.
"
guardianproject/lildebi,closed,check free space in /data before installing to internal storage,[],"There should be a free space check when installing on internal storage also.  In my case, my device had 74megs free in `/data` when I started the install.  The minimum install size is like 230megs, so the install failed.  So Lil' Debi should check that there is at least 250 megs free before trying to install.  I think if there is less than 250 megs in `/data`, then the install button in `InstallActivity` should be disabled.  Perhaps the text in the button can be changed to say ""Not enough space""
"
guardianproject/lildebi,closed,PATH variable in Android terminal emulator,[],"When I open Android terminal emulator, I dont see /sbin in $PATH because of which apt-get cant find /sbin/ldconfig
"
guardianproject/lildebi,closed,"install screen shows ""Image Size"" when installing in /data",[],"When installing on internal storage, the install screen should not show the ""Image Size:"" option at all.
"
guardianproject/lildebi,closed,lildebi crashes on install when installing on /data,[],"This is on a Samsung Galaxy Player 5.0 running the stock 2.3.7 firmware.  I ran ""delete all"" on the existing image file setup, then I went to the preferences and turned on ""Install on Internal Storage"", then I clicked Install to get to the install screen, then Install again to start the process, and I got this crash:

```
        AndroidRuntime  E  FATAL EXCEPTION: main
                        E  java.lang.IllegalArgumentException
                        E      at android.os.StatFs.native_setup(Native Method)
                        E      at android.os.StatFs.<init>(StatFs.java:32)
                        E      at info.guardianproject.lildebi.NativeHelper.getInstallPathFreeBytes(NativeHelper.java:268)
                        E      at info.guardianproject.lildebi.InstallActivity$7.onClick(InstallActivity.java:231)
                        E      at android.view.View.performClick(View.java:2538)
                        E      at android.view.View$PerformClick.run(View.java:9152)
                        E      at android.os.Handler.handleCallback(Handler.java:587)
                        E      at android.os.Handler.dispatchMessage(Handler.java:92)
                        E      at android.os.Looper.loop(Looper.java:130)
                        E      at android.app.ActivityThread.main(ActivityThread.java:3687)
                        E      at java.lang.reflect.Method.invokeNative(Native Method)
                        E      at java.lang.reflect.Method.invoke(Method.java:507)
                        E      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)
                        E      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)
                        E      at dalvik.system.NativeStart.main(Native Method)
               Process  I  Sending signal. PID: 1106 SIG: 9
```
"
guardianproject/lildebi,closed,lildebi doesn't unmount properly if device is rebooted when lildebi is mounted,[],"I rebooted with LilDebi mounted, but it didn't seem to shutdown properly.  But on reboot, it did run fsck properly :-).
"
guardianproject/lildebi,closed,"""Get Superuser"" button doesn't seem to work",[],"If the SuperUser app is not installed, then Lil' Debi prompts the user to install it with the main action button.  It doesn't seem to launch the install screen on a new Nexus 7 device.

Also, test FDroid as the handler for this.
"
guardianproject/lildebi,closed,"Android crashed while Debian was mounted, now Android does not resolve DNS ;(",[],"Hi

My android somehow crashed hard while Debian was mounted. After the crash my android stop being able to resolve Dns queries. It seems to be able to connect to ip addresses.

Now I am not saying that it has anything to do with LilDebi, it might be and that is why I am asking it in this ticket.

Can you think of any possible way that LilDebi mounting might have things unresolved due to crashs (due unclean exit)

This is remarkably sstupid situatin for me because I cant figure out the solution and I might end up needing to wipe my device ;(

thanks
"
guardianproject/lildebi,closed,Large log files,[],"Hi

I was trying to find why I was running out of space so quickly. It turns out that the syslogs and other log files are keeping huge sizes.  This is for thje Squeeze image that is referenced in the wiki. You might want to inform the users or maybe find a way to modify those in case the users do not know about them.

thanks
"
guardianproject/lildebi,closed,Xserver status?,[],"Hi

Is there any Xserver support with lildebi? 
"
guardianproject/lildebi,closed,Stopping Debian resets the device,[],"Hi

I am using it on 4.4.4 CyanogenMod nexus7. Everything seems to work except that when I stop Debian from the gui, my device resets.

What is interesting is that, after the reset the device seems to loose its ""root"" skills. All the root apps starts complaining that the device is not rooted, which sucks because for example I have firewall manager install and all such apps are disabled when the device is back, which can cause security leaks etc.

I am not even sure if this is a hard reset or not, the device blanks out and restart or does something along those lines.
"
guardianproject/lildebi,open,Recent Debian images?,[],"Hi

Is it possible to provide recent Debian images? Squeeze cant even connect to most of the repos in the image :(  Not sure if it is apt sources issue or something else.
"
guardianproject/lildebi,closed,Only run android bashrc if present,[],
guardianproject/lildebi,closed,Lock down date format for faketime,[],"I had a custom `--format=format:<blah>` config in my user-level gitconfig, and it was throwing an error because sed wasn't matching anything. I'll submit a specific fix to avoid the ambiguity.

(Still can't get it to build deteministically, but I'll find someone in IRC later to run through it with :)
"
guardianproject/lildebi,closed,It cant find /bin/bash,[],"Hi

I am trying to use the build from this month on Cyanogenmod 4.4.4 Arm7. It installs find, and it seems like it mounts the partitions but it keeps complaining about /bin/bash.  I can see that the shell is installed and symlink fine.

thanks
"
guardianproject/lildebi,open,use 'superuser-commands' to handle the root access,[],"Attached is an log sent by Lil' Debi. For more info, see:
https://github.com/guardianproject/lildebi

manufacturer: samsung
model: GT-N7100
product: t03gxx
brand: samsung
device: t03g
board: smdk4x12
ID: KOT49H
CPU ABI: armeabi-v7a
release: 4.4.2
incremental: N7100XXUFNE1
codename: REL
SDK: 19

```
# cd /data/data/info.guardianproject.lildebi/app_bin
# ./create-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /storage/emulated/legacy/debian.img /debian 
# ./stop-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /storage/emulated/legacy/debian.img /debian 
# ./unmounted-install-tweaks.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /storage/emulated/legacy/debian.img /debian 
# ./start-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /storage/emulated/legacy/debian.img /debian 
# /data/data/info.guardianproject.lildebi/app_bin/chroot /debian /data/data/info.guardianproject.lildebi/app_bin/complete-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /storage/emulated/legacy/debian.img /debian 
# exit
sh: ./create-debian-setup.sh: Permission denied
sh: ./stop-debian.sh: Permission denied
sh: ./unmounted-install-tweaks.sh: Permission denied
sh: ./start-debian.sh: Permission denied
sh: /data/data/info.guardianproject.lildebi/app_bin/chroot: Permission denied
```
"
guardianproject/lildebi,open,x86 support,[],"Hello!

Some ""Linux for Android"" support x86 processor architecture. Technically Lildebi works with x86, but lildebi wizzard have only armhf and armel support (and doesn't work with Intel processors)

Fervi
"
guardianproject/lildebi,open,/dev linked from android to debian,[],"Hello!

I think it's a problem on most (or all) android devices with chroot

Sound doesn't work in Linux, USB doesn't work in Linux etc.
I create few weeks ago a tutorial, how to link /dev from android to debian
http://forum.xda-developers.com/showthread.php?t=2758108
For ""Linux Install Complete"" It can also be used in Lil'debi (I'll also try it)

Maybe in Lil'debi should be option ""Bind /dev directory to Linux""? Or something like that

Fervi
"
guardianproject/lildebi,closed,Noroot support,[],"Hello!

Some ""Linux on Android"" software support Noroot option
So you can use Debian (for example) without rooted phone using fakeroot

For example: Debian noroot or GnuRoot Wheezy

I think - lildebi should also support Noroot option

Thanks for reading
Fervi
"
guardianproject/lildebi,closed,Avoid keeping the resource mounted because of some failure,[],"solution for ""device or resource busy"" error
"
guardianproject/lildebi,closed,dd seek should be count,[],"I have had problems when creating file. Instead of:
dd if=/dev/zero of=$file seek=$imagesize bs=1M count=1
should be:
dd if=/dev/zero of=$file count=$imagesize bs=1M
CM10.1 ASUSTF201
Thank you for your libre software
"
guardianproject/lildebi,closed,Lil Debi + Nexus 7 seems to work!?,[],"I have an unlocked, rooted Nexus 7 (2012, 3G = ""tilapia"") running the stable Cyanogenmod 10.2

A few errors: was able to install nano but unable to use nano (""Error opening terminal: unknown.""), and received ""dependency errors"" among other things when I tried to install emacs. I am too much of a novice to understand if that's something to do with Debian or Lil Debi on my device, so here is the bash history: http://pastebin.com/MJtaxFrf

I can aptitude, apt-get, and I was able to add users and change passwords too. 

I assume this means it does work, and I should add my device to the wiki? Let me know what you think :)
"
guardianproject/lildebi,closed,"Error: ""Can't create directory '/debian': Read-only filesystem",[],"Here is the part of the log install:
[...]
- . /data/data/info.guardianproject.lildebi/app_bin/install.conf
- release=stable
- mirror=http://ftp.jaist.ac.jp/debian/
- arch=armel
- imagesize=1024
- mount -o remount,rw rootfs /
  No '/bin' found, linking it to busybox utils
- [ ! -e /bin ]
- echo No '/bin' found, linking it to busybox utils
- cd /
- ln -s /data/data/info.guardianproject.lildebi/app_bin /bin
- mount -o remount,ro rootfs /
  Creating chroot mountpoint at /debian
- [ -d /debian ]
- [ -e /debian ]
- echo Creating chroot mountpoint at /debian
- mkdir /debian
  mkdir: can't create directory '/debian': Read-only file system
- chmod 755 /debian
  chmod: /debian: No such file or directory
- make_debian_symlink
  ./create-debian-setup.sh: line 51: make_debian_symlink: not found
- grep ext2 /proc/filesystems
  Create the image file:
- [ -z ext2 ]
- echo Create the image file:
- test -e /storage/sdcard1/debian.img
- dd if=/dev/zero of=/storage/sdcard1/debian.img seek=1024 bs=1M count=1
  1+0 records in
  1+0 records out
  No mount dir found (/debian) or no image_path (/storage/sdcard1/debian.img)
  1048576 bytes (1.0MB) copied, 97.559971 seconds, 10.5KB/s
- test -d /debian
- echo No mount dir found (/debian) or no image_path (/storage/sdcard1/debian.img)
## \+ exit 1

stop-debian.sh
[...]
"
guardianproject/lildebi,open,Installation should abort when deboostrap exit,[],"Hi,

Tried to make an installation, and it's not the first time that deboostrap ends because not able to retrieve Release -- I'm investigating the reason, since I can do a wget at the same moment from my computer.
Anyway, the script create-debian-setup.sh ends with an exit, good.
But then the script stop-debian.sh is called, with no need, making in addition log unclear. And then start-debian.sh is called...
Cheers.

.Y
"
guardianproject/lildebi,closed,Not usable: some script tests problems (+?) losetup problem?,[],"Hi!

Thank you for your work. But I can
Got debian installed via lil'deb on opendroid on a N7000.
This comment came with a try to 'Open Term' that was making Lil'deb crashing immediately. But actually, it may be implied by several things (there should be a test anyway with some msg about the impossibility to open a terminal when debian is not mounted instead of crashing the app) that appear in the log...
1) /data/data/info.guardianproject.lildebi/debian.img.sha1 seems to be a copy of ${image_path}.sha1. Would be better for log saying so -- why having a copy?
2) Error ./start-debian.sh: line 64. I don't know what is this error, but why does the script continue after? Is the 'Device or resource busy' error happening after related? And why doesn't the script end here too, instead of trying to launch a /bin/bash that does not exist?

I put the log, hand-copied, after.
Cheers.

.Y

---

start-debian.sh

Configuration that will be started:
app_bin: /data/data/info.guardianproject.lildebi/app_bin
mnt: /debian
sdcard: /storage/sdcard0
image_path: /storage/sdcard1/debian.img
sha1file: /data/data/info.guardianproject.lildebi/debian.img.sha1
loopdev: /dev/block/loop6
Checking SHA1 checksum of /storage/sdcard1/debian.img...
sha1sum: WARNING: 1 of 1 computed checksums did NOT match
./start-debian.sh: line 64: /storage/sdcard1/debian.img:: not found
Done!

> /system/bin/e2fsck -pv /storage/sdcard1/debian.img
> debian_chroot: clean, 121/51296 file, 7847/205056 blocks
> 
> losetup /dev/block/loop6 /storage/sdcard1/debian.img

root mount for everything Debian
mount: mounting /dev/block/loop6 on /debian failed: Device or resource busy
Mounting '/debian' failed, returned 255
chroot: can't execute !'/bin/bash': No such file or directory

And for information, from a terminal (not lil'deb's one):
u0_a00@n7000:/ l -l /storage/sdcard1/debian.img
-rwxrwx--- toot sdcard_r 839909376 2014-04-15 16:08 debian.img
"
guardianproject/lildebi,open,cdebootstrap couldn't validate release,[],"I tried Lil' Debi in my tablet -- Samsung GT-N8000. When compiling the master branch into my tablet, I encountered with the problem that cdebootstrap couldn't validate the Release. However, everything was all right with release-0.4 branch which used debootstrap instead of cdebootstrap. I compared the ""debian-archive-keyring.gpg"" of the two branches and they have the same hash values.  I also installed debian manually or changed to another version of cdebootstrap, but the problem remained. 
In the end, I extract the keyring from my debian system installed on my laptop and replace the one in assets directory. Everything became ok with cdebootstrap. So I wonder if the keyring should be changed now. Thanks.
"
guardianproject/lildebi,closed,issue#80: limit image size to 4GB on FAT filesystems,[],"patch for issue https://github.com/guardianproject/lildebi/issues/80
Suggest changes if any are required. 
"
guardianproject/lildebi,open,It would be nice if one could specify a proxy for package downloads,[],"Being able to do so would speed up experimenting using apt-cacher-ng or similar software.
"
guardianproject/lildebi,closed,No internet access CM7,[],"apt-get does nothing when trying to install a package.  ping isn't even found when running in the debian shell. -- no network access from lil debi, but works in plain android shell.

What info can I provide to help?

Thank you
"
guardianproject/lildebi,open,use DNS settings from Android,[],"In many network (including mine), the network administrators prohibit connecting public DNS server, making default setting in /etc/resolv.conf not works.

As we can read DNS settings by ""getprop"" command anyway, why don't we read it out and set it properly each time we boot up debian. I suggest following code:

``` sh
echo """" > $mnt/etc/resolv.conf
i=1
dns=$(getprop net.dns$i)
while [[ $dns ]]; do
    echo ""nameserver $dns"" >> $mnt/etc/resolv.conf
    i=$(( $i + 1 ))
    dns=$(getprop net.dns$i)
done
```

We can also listen to network changes broadcast and run this snippet of code when the network situation is changed. See http://developer.android.com/training/monitoring-device-state/connectivity-monitoring.html
"
guardianproject/lildebi,closed,apt-get problem and workaround,[],"apt-get cannot find ldconfig, so cannot install new packages from fresh install.

When Lil' Debi fires up a terminal, the PATH environment variable is set to /usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games instead of /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin, yet whoami returns root.

In case this is specific to my system, uname -a returns:  Linux localhost 3.4.0-cyanogenmod-g4ad0fd2 #1 SMP PREEMPT Sun Feb 9 18:54:07 PST 2014 armv7l GNU/Linux

The workaround is to enter 'source /etc/profile' on the command line before using apt-get.
"
guardianproject/lildebi,closed,"Moto G ""device or resource busy""",[],"Hi, sucessfully rooted Moto G, installing Lil Debi on it and ""start Debian"" will produce the following error:
losetup /dev/block/loop0 /sdcard/debian.img
root mount for everything Debian
mount: mounting /dev/block/loop0 on /debian failed: Device or resource busy
Mounting '/debian' failed, returned 255
Starting OpenBSD Secure Shell server: sshd 
using 0.4.6 from google play store

Any idea whats wrong?
"
guardianproject/lildebi,open,/bin/bash,[],"Issue #85 closed with no reasonable solution.
"
guardianproject/lildebi,closed,"Using SuperSU, Lil' Debi never notices when Debian is mounted",[],"Installation works fine, and mounting the chroot and starting services actually works fine. However, the 'Start Debian' button never changes to 'Stop Debian', or whatever it's supposed to change to. The status line reads ""Debian not mounted"".

I suspect this has something to do with process-private mounts, as a separately started root terminal can't see any contents in /debian, but this is a WAG on my part.
"
guardianproject/lildebi,closed,Permission denied on rooted Galaxy S4 GPE and latest SuperSU,[],"Logs below generated using default settings in the apk downloaded here: https://guardianproject.info/builds/LilDebi/2014-01-03_23-51-56/

SuperSU granted su permission to Lil Debi and creates logs for all Lil Debi actions.

manufacturer: samsung
model: GT-I9505G
product: jgedlteue
brand: samsung
device: jgedlte
board: MSM8960
ID: JDQ39
CPU ABI: armeabi-v7a
release: 4.2.2
incremental: I9505GUEUAMFD
codename: REL
SDK: 17

Install Log:

```
# cd /data/data/info.guardianproject.lildebi/app_bin
# ./create-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /storage/emulated/legacy/debian.img /data/debian \
&& ./stop-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /storage/emulated/legacy/debian.img /data/debian \
&& ./unmounted-install-tweaks.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /storage/emulated/legacy/debian.img /data/debian \
&& ./start-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /storage/emulated/legacy/debian.img /data/debian \
&& /data/data/info.guardianproject.lildebi/app_bin/chroot /data/debian /data/data/info.guardianproject.lildebi/app_bin/complete-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/legacy /storage/emulated/legacy/debian.img /data/debian 
# exit
sh: ./create-debian-setup.sh: Permission denied

```
"
guardianproject/lildebi,closed,"Problems with su on Android 4.3, was:  Issues running lildebi on CM 10.2",[],"I have been running Lil' Debi version 0.4.5, installed from F-Droid, on a Nexus 4, without any problems but since upgrading Android to  [cm-10.2-20131102-SNAPSHOT-M1-mako.zip](http://download.cyanogenmod.org/?device=mako&type=snapshot) from [cm-10.1.3-mako.zip](http://download.cyanogenmod.org/?device=mako&type=stable) the following issues have come up:
1.  `sdcard: '/storage/emulated/0' not a directory` - this was solved following the advice at https://github.com/guardianproject/lildebi/issues/66
2. When running `debian` in the Terminal Emulator this error is generated:
   
   `void endpwent()(3) is not implemented on Android`
   `bash: [: uid=0(root) gid=0(root) context=u:r:init_shell:s0: integer expression expected`
   
   The `void endpwent` message is not new, this message also appeared with CM 10.1, but the second error is new.
3. Screen won't run:
   
   `Cannot open your terminal 'dev/pts/2' - please check.`
   
   However if I start a ssh server on the phone and then ssh into it then screen runs OK.
4. Mosh won't run:
   
   `mosh-server: terminalframebuffer.cc.73: Terninal::Framebuffer::Framebuffer(int, int):`
   `Assertion `s_height > 0' failed.`
   `Connection to XX.XX.XX.XX closed`
   `/usr/bin/mosh: Did not find mosh server startup message.`
   
   However  if I start a ssh server on the phone and then ssh into it then mosh runs OK.
5. External keyboard issues:
   - Up arrow results in `^[[A`
   - Down arrow results in `^[[B`
   - Left arrow results in `^[[D`
   - Right arrow results in `^[[C`
   - Ctrl-C results in the shell exiting
   - Tab doesn't result in tab completion, it simply prints whitespace on the command line

Any suggestions about how to solve these issues? I'd be happy to follow this up in the irc channel if that is easiest.
"
guardianproject/lildebi,closed,lildebi doesn't recognize debian running on CM 10.2,[],"Hi,

starting lildebi on cyanogenmod 10.2 works.
BUT: lildebi always shows ""not started"" even if debian is running. This also prevens me from using the lildebi shot down button.

What could be the problem?
How does lildebi detect, if the startup was successful and debian is running?
"
guardianproject/lildebi,closed,I have the same issue and I have an updated busybox. can't find bin/bash.,[],"I'm having the bin/bash issue.
"
guardianproject/lildebi,closed,install should limit image size to 4GB on FAT filesystems,[],"FAT filesystems have a 4GB size limit for files.  The install screen should check whether the image file is being created on a FAT filesystem, and if so, automatically limit the image size to 4GB.
"
guardianproject/lildebi,closed,Permission denied with device rooted,[],"Installing from the application to the rooted device tells me permission denied..

sh: ./create-debian-setup.sh: Permission denied
sh: ./stop-debian.sh: Permission denied
sh: ./unmounted-install-tweaks.sh: Permission denied
sh: ./start-debian.sh: Permission denied
sh: /data/data/info.guardianproject.lildebi/app_bin/chroot: Permission denied
"
guardianproject/lildebi,closed,On Galaxy S4 with Android 4.3,[],"As I can correct it?
- export PATH=/data/data/info.guardianproject.lildebi/app_bin:/sbin:/vendor/bin:/system/sbin:/system/bin:/system/xbin
- test -e /data/data/info.guardianproject.lildebi/app_bin/lildebi-common
- . /data/data/info.guardianproject.lildebi/app_bin/lildebi-common
## \+ echo ----------------------------------------
- export TERM=linux
- export HOME=/root
- export HOSTNAME=debian
- export DEBIAN_FRONTEND=noninteractive
- [ 8 -lt 1 ]
- app_bin=/data/data/info.guardianproject.lildebi/app_bin
- export PATH=/data/data/info.guardianproject.lildebi/app_bin:/usr/sbin:/usr/bin:/sbin:/bin:/system/sbin:/system/bin:/system/xbin
- basename create-debian-setup.sh
- echo create-debian-setup.sh
  create-debian-setup.sh
- [ -z ]
- sdcard=/storage/emulated/0
- [ -z ]
- image_path=/storage/emulated/0/debian.img
- [ -z ]
- mnt=/storage/emulated/0/debian
- [ -z ]
- release=stable
- [ -z ]
- mirror=http://mirrors.ece.ubc.ca/debian/
- [ -z ]
- imagesize=600
- [ -z ]
- arch=armel
- test -d /data/data/info.guardianproject.lildebi/app_bin
- test -d /storage/emulated/0
- test -z /storage/emulated/0/debian.img
- test -z /storage/emulated/0/debian
- busybox_path=/data/data/info.guardianproject.lildebi/app_bin
- busybox=/data/data/info.guardianproject.lildebi/app_bin/busybox
- dirname /data/data/info.guardianproject.lildebi/app_bin
- fsck_chroot=/data/data/info.guardianproject.lildebi/fsck-chroot
- dirname /data/data/info.guardianproject.lildebi/app_bin
- basename /storage/emulated/0/debian.img.sha1
- sha1file=/data/data/info.guardianproject.lildebi/debian.img.sha1
- umask 077
- find_loopdev
- find_attached_loopdev
- /data/data/info.guardianproject.lildebi/app_bin/ls -1 /dev/block/loop0 /dev/block/loop1 /dev/block/loop2 /dev/block/loop255 /dev/block/loop3 /dev/block/loop4 /dev/block/loop5 /dev/block/loop6 /dev/block/loop7
  ls: /dev/block/loop0: Permission denied
  ls: /dev/block/loop1: Permission denied
  ls: /dev/block/loop2: Permission denied
  ls: /dev/block/loop255: Permission denied
  ls: /dev/block/loop3: Permission denied
  ls: /dev/block/loop4: Permission denied
  ls: /dev/block/loop5: Permission denied
  ls: /dev/block/loop6: Permission denied
  ls: /dev/block/loop7: Permission denied
- loopdev=
- [ -z ]
- find_free_loopdev
- [ -e /dev/block/loop0 ]
- /data/data/info.guardianproject.lildebi/app_bin/losetup -f
- echo /dev/loop0
- echo /dev/loop0
- loopdev=/dev/loop0
- mount -o remount,rw rootfs /
  mount: mounting rootfs on / failed: Permission denied
- [ ! -e /bin ]
- echo No '/bin' found, linking it to busybox utils
  No '/bin' found, linking it to busybox utils
- cd /
- ln -s /data/data/info.guardianproject.lildebi/app_bin /bin
  ln: /bin: Read-only file system
- [ ! -e /storage/emulated/0/debian ]
- mount -o remount,ro rootfs /
  mount: mounting rootfs on / failed: Permission denied
- grep ext2 /proc/filesystems
- [ -z ext2 ]
- export DEBOOTSTRAP_DIR=/storage/emulated/0/debian/usr/share/debootstrap
- echo Create the image file:
  Create the image file:
- test -e /storage/emulated/0/debian.img
- test -d /storage/emulated/0/debian
- test -e /storage/emulated/0/debian.img
- find_best_filesystem
- /data/data/info.guardianproject.lildebi/app_bin/grep ext[234] /proc/filesystems
- /data/data/info.guardianproject.lildebi/app_bin/sort
- /data/data/info.guardianproject.lildebi/app_bin/tail -1
- mke2fs_options=-L debian_chroot -T    ext4 -F /storage/emulated/0/debian.img
- test -x /system/bin/mke2fs
- mke2fs -L debian_chroot -T ext4 -F /storage/emulated/0/debian.img
  Filesystem label=debian_chroot
  OS type: Linux
  Block size=4096 (log=2)
  Fragment size=4096 (log=2)
  38480 inodes, 153856 blocks
  7692 blocks (5%) reserved for the super user
  First data block=0
  Maximum filesystem blocks=4194304
  5 block groups
  32768 blocks per group, 32768 fragments per group
  7696 inodes per group
  Superblock backups stored on blocks:
  32768, 98304
- losetup /dev/loop0 /storage/emulated/0/debian.img
  losetup: /dev/loop0: No such file or directory
- mount -o loop,noatime,errors=remount-ro /dev/loop0 /storage/emulated/0/debian
  mount: mounting /dev/loop0 on /storage/emulated/0/debian failed: No such file or directory
- exit
"
guardianproject/lildebi,closed,Failed installing on Samsung Galaxy Mega 6.3,[],"I have rooted my device, and below is the detail info,
would you like to confirm it?

Attached is an log sent by Lil' Debi.  For more info, see:
https://github.com/guardianproject/lildebi

manufacturer: samsung
model: SCH-P729
product: melius3gduosctc
brand: samsung
device: melius3gduosctc
board: MSM8960
ID: JDQ39
CPU ABI: armeabi-v7a
release: 4.2.2
incremental: P729KEUAMI2
codename: REL
SDK: 17
# Below is the content of the log:
# cd /data/data/info.guardianproject.lildebi/app_bin
# ./create-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/0 /sdcard/debian.img /debian jessie http://mirrors.ece.ubc.ca/debian/ 600 armhf
# ./stop-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/0 /sdcard/debian.img /debian
# ./unmounted-install-tweaks.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/0 /sdcard/debian.img /debian
# ./start-debian.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/0 /sdcard/debian.img /debian
# /data/data/info.guardianproject.lildebi/app_bin/chroot /debian /data/data/info.guardianproject.lildebi/app_bin/complete-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/emulated/0 /sdcard/debian.img /debian
# exit

sh: ./create-debian-setup.sh: Permission denied
sh: ./stop-debian.sh: Permission denied
sh: ./unmounted-install-tweaks.sh: Permission denied
sh: ./start-debian.sh: Permission denied
sh: /data/data/info.guardianproject.lildebi/app_bin/chroot: Permission denied
"
guardianproject/lildebi,closed,Beter integration with Terminal Emulator,[],"Currently one enters chroot environment by opening Terminal Emulator, then typing ""/debian/shell"" in root command line and leaves it by exiting the shell and pressing a button in LilDebi.  This isn't awfully much of typing and tapping, but there are two redundant actions in whole routine. You can leave them out by opening Terminal Emulator with correct command and environment variables directly from LilDebi and letting users unmount Debian directly from console (just add an intent to let users do later themselves with _am_). 
"
guardianproject/lildebi,open,Properly handle device shutdown,[],"Currently running out of charge or simply forgetting to clean up Debian stuff before pressing shutdown leads to improperly unmounted file system and, potentially, data corruption.

Simple, but risky solution: catch appropriate Android broadcast. No gurantees, that unmounting finishes in time.

Better solution: previous + run a sticky service. Stopping such service is guranteed to happen before device shutdown. You, likely, already know, but [here is](http://sf.net/p/libemudroid/code/ci/master/tree/src/com/androidemu/EmulatorService.java) how to do it in a backward-compatible fashion.

PS No, SD card unmounting notification is never broadcasted on my tab (as well as the mounting one). A lot of pre-4.3 devices (usually cheap Chenese ones) use vendor-specific shell magic to handle more than one sdcard, which apparently results in broadcast being sent only for one of them (or never at all).
"
guardianproject/lildebi,open,Split installation into stages,[],"If something fails, whole installation have to be started again. Several such occurences can eat up lots of traffic and kill one's SD card. It would be great to split the process in several transactional stages:
- pre-root actions
- getting root
- setting up host system
- preparing Debian partition
- downloading packages and creating tarboll with them on SD card (see corresponding debootstrap option)
- debootstraping from that tarboll
- finishing installation.

Every step should check if previous one was succesfull. User should be able to manually start from any step.
"
guardianproject/lildebi,closed,Security fixes aren't available for Unstable,[],"Thus security.debian.org shouldn't be added to repo list, if Sid is choosen.
"
guardianproject/lildebi,closed,Leave users an option to use debootstrap,[],"Replacing debootstrap with cdebootstrap does not seem to bring much to table, but it
- reduces transparency of installation process and makes it impossible for user to manually fix things due to supplying binary, which isn't present on most devices and hard to replace/edit (the later was true for gpgv as well, but it was not really mandatory for most of installation process).
- may result in even harder to diagnost bugs, compared to those with gpgv (at least with it the issue was limited to cryptography
- may cause lack of packaging enthusiasm for F-Ddroid maintainers

It was precisely because of using binary installer in BotBrew, that I failed to install Debian with it, yet LilDebi suceeded despite #70 , because of how easy it was to pinpoint the issue.
"
guardianproject/lildebi,open,Let user customize Android mountponts to duplicate in chroot,[],"Or, at very least, give an option to disable those completely. Current system is incomplete (no those .asec etc. mounts), but exactly because of this it is relatively sane (duplicating entries for every app on SD card easily makes output of _mount_ unreadable mess. Still, there are at least 2 issues:
- It is impossible to catch all vendor specific names of additional mountpoints, ueed for additional storage slots on pre-4.3 Android
- Whole thing makes it easy to _rm-rf_ the hell out of one's Android by mistyping few letters in chroot's command line. Take into account psylogical factor (""it is just a Debian chroot dir, so removing it's contents in Root Explorer is ok""), and it becomes rather serious.

Fast fix: add checkbox in settings to disable cloning mountpoints from host system.

The best fix: add special screen to add/remove mountpoints to be created. Use list of currently existing mountpoints (from _mount_ output, /proc/mounts or some other API) for candidates. See AdAway editor of hosts file sources for some UI inspiration.
"
guardianproject/lildebi,closed,New Sid installs fail because of no xzcat support in busybox,[],"Installing packages fails with message ""xzcat is not available on your system"".

Fast fix: include xzcat support in busybox config. It would be great to see the fix released ASAP, as it is currently impossible to install Debian Unstable without manually replacing busybox and recreating simlinks in app_bin.

Better fix: let user choose busybox himself (or use none at all}. Many apps, relying on it to work, have such an option.

The best fix: previous + build busybox with all/majority of applets to be future-proof, and enable support for automatically using those  in busybox's shell without searching $PATH. After all, busybox was repeatedly proven to be better implementation of Posix tools then Android.
"
guardianproject/lildebi,closed,"""ftp.debian.org"" not in mirror list",[],"The master fan-out mirror is not present in the mirror list, and many of the country-specific submirrors (such as ftp.us.debian.org) are missing. There is, incidentally, no way to manually specify a mirror (such as a local mirror)
"
guardianproject/lildebi,closed,dd: invalid argument,[],"lil' debi (on nexus 7 /w 4.3) fails to create the image file.

Command it tries to run:
dd if=/dev/zero of=/data/local/debian.img seek=2048 bs=1M count=1
dd: /data/local/debian.img: Invalid argument

I have tried a variety of paths, and I get the same error every time. I have Chainfire SuperSU, and it appears to work (I get a 'root access' request and I grant it)

If I run the exact same command via 'adb shell' I am able to create the file with no issue, however the image is created with 2048kb of space rather than the 2048mb that was selected in the interface.
"
guardianproject/lildebi,closed,Open port,[],"Installed today a full blown LNMP server (nginx, mysql, php) and it works great using wheezy armhf stable.  I'm using Tmobile Galaxy S3 and now I'd like to be able to access my web server thru 4G connection.  Now I have no idea how to access webserver from 4G connection.  So far I tried the following in android 4.1.2

iptables -I INPUT -s 11.22.33.44.55 -p tcp --dport 80 -j ACCEPT
so I got an error ""FIX ME! implement getprotobyname() bionic/libc/bionic/stubs.c:484""

Then I checked iptable by the following command iptables -L INPUT -nv and it looks like iptables got set, it's showing that port 80 is open.  Now what m'I missing?  What's the proper way to set iptables to be able to see web server from outside using 4G?
Thank you in advance
"
guardianproject/lildebi,closed,Android 4.3 breaks Lil Debi. sdcard: '/storage/emulated/0' not a directory,[],"/storage/emulated/0 no longer exists on Android 4.3. It is now located at /storage/sdcard0. I installed Lil Debi when I was running CM 10.1 which is Android 4.2. It was fully working then. When I upgraded to CM 10.2, Android 4.3, it broke Lil Debi.

I get the following error while trying to start

Status: Debian not mounted
## | Start Debian |

configure-downloaded-image.sh
sdcard: '/storage/emulated/0' not a directory
mkdir /debian
"
guardianproject/lildebi,closed,getting root is not fully functional with SuperSU,[],"> Fails to install Fails to install with about 5 or 6 ""permission denied"" errors on my
> rooted AOSP 4.2.2 Google Edition Samsung Galaxy S4, even though the app gets
> superuser permissions through superSU every time I click the first install button.
"
guardianproject/lildebi,closed,installation and startup problems on CyanogenMod 9+,[],"lildebi doesn't install and/or start properly on any of the CM 9 or CM 10 devices I've tried it with, due to issues related to the sdcard path.

It fails early in the install process unless I change the install path to something like /mnt/sdcard//debian.img

If I do that only, it appears to stop installation prematurely (after the first stage of bootstrap, I think) and ends up with a broken partial installation, and the start script exits with an sdcard directory error, saying that /storage/emulated/0 does not exist.

I was able to get it to install properly by editing the lildebi-common script and changing the line that sets sdcard=$2 and changing it to sdcard=/storage/sdcard0

Cyanogenmod does confusing things I don't understand with symlinks and mount points for sdcards; a root browser shows /storage/emulated/legacy as a path to the sdcard, while a non-root browser shows /storage/emulated/0.
"
guardianproject/lildebi,closed,Install error ,[],"App has been working fine in the last few days, a few errors here and there but usually phone restart would fix it.  Now I can't even install linux, it just gives me an error Debain not mounted.  Tried to uninstall it, delete data file in /data/date/info.guardianproject.lildebi, restart phone.  Menu -> Delete all.  Well tried them all and sometimes it works 1 out of 20 times.  What seems to be a problem?
Here is my log file http://pastebin.com/mzD9PG0A
"
guardianproject/lildebi,closed,MySQL error,[],"Installed the latest lildebi on Galaxy S3, stock rooted and everything is working properly except I can't install properly MySQL.  It's giving me an error that it can't start MySQL.  Is it a known problem?  Tried to install with Aptitude in the first place, got an error.  Later downloaded DEB file and installed with GDEBI and that's the result I got.  I'm having exactly the same problem as in this post https://bugs.launchpad.net/ubuntu/+source/mysql-5.5/+bug/1001553   but I can't find any solution to the problem.  How do you guys install MySql?

Error:
dpkg: error processing mysql-server (--configure):
 dependency problems - leaving unconfigured

[FAIL] Starting MySQL database server: mysqld . . . . . . . . . . . . . . failed!
invoke-rc.d: initscript mysql, action ""start"" failed.
dpkg: error processing mysql-server-5.5 (--configure):
 subprocess installed post-installation script returned error exit status 1
dpkg: dependency problems prevent configuration of mysql-server:
 mysql-server depends on mysql-server-5.5; however:
  Package mysql-server-5.5 is not configured yet.

dpkg: error processing mysql-server (--configure):
 dependency problems - leaving unconfigured
Errors were encountered while processing:
 mysql-server-5.5
 mysql-server

dpkg -s mysql-server-5.5

Package: mysql-server-5.5
Status: install ok half-configured
Priority: optional
Section: database
Installed-Size: 29202
Maintainer: Debian MySQL Maintainers pkg-mysql-maint@lists.alioth.debian.org
Architecture: armhf
Source: mysql-5.5
Version: 5.5.31+dfsg-0+wheezy1
Replaces: libmysqlclient-dev (<< 5.5.17~), mysql-client-5.1, mysql-server (<< 5.5.31+dfsg-0+wheezy1), mysql-server-5.0, mysql-server-5.1
Provides: virtual-mysql-server
Depends: mysql-client-5.5 (>= 5.5.31+dfsg-0+wheezy1), libdbi-perl, perl (>= 5.6), libc6 (>= 2.13-28), libgcc1 (>= 1:4.4.0), libstdc++6 (>= 4.4.0), zlib1g (>= 1:1.1.4), debconf (>= 0.5) | debconf-2.0, psmisc, passwd, lsb-base (>= 3.0-10), mysql-server-core-5.5 (>= 5.5.31+dfsg-0+wheezy1), initscripts (>= 2.88dsf-13.3)
Pre-Depends: mysql-common (>= 5.5.31+dfsg-0+wheezy1), adduser (>= 3.40), debconf
Recommends: mailx, libhtml-template-perl
Suggests: tinyca
Breaks: libmysqlclient-dev (<< 5.5.17~), mysql-client-5.1, mysql-server (<< 5.5.31+dfsg-0+wheezy1), mysql-server-5.1
Conffiles:
 /etc/logcheck/ignore.d.workstation/mysql-server-5_5 2d34a7ed83fefc165cd1dfea3a72ccc8
 /etc/logcheck/ignore.d.paranoid/mysql-server-5_5 6babe46e791059cdd5a26f4f7fec9eca
 /etc/logcheck/ignore.d.server/mysql-server-5_5 2d34a7ed83fefc165cd1dfea3a72ccc8
 /etc/init.d/mysql 7ecd4a6dfd5fbc57f44d79b1e5223f2c
 /etc/logrotate.d/mysql-server 0444ac882cb54e558e4346b0526b0ec1
 /etc/mysql/debian-start 2bdb4cf46f73f70c593072c2dafd2f62
 /etc/mysql/conf.d/mysqld_safe_syslog.cnf 347fa9f3d579ffc06c39bf7e69f4fc6e

 dpkg -s mysql-server

Package: mysql-server
Status: install ok unpacked
Priority: optional
Section: database
Installed-Size: 127
Maintainer: Debian MySQL Maintainers pkg-mysql-maint@lists.alioth.debian.org
Architecture: all
Source: mysql-5.5
Version: 5.5.31+dfsg-0+wheezy1
Depends: mysql-server-5.5
"
guardianproject/lildebi,closed,256 color in shell,[],"I am wondering if anyone has been able to use te 256 colors in lil debi? I use the android terminal emulator set to screen-256color and I can force the bashrc to specify the TERM to be xterm-256color, but the shell seems limited to 8 colors. 

I did install `ncurses-term` and made sure it had the xterm-256color, and when I type `tput colors` it output 256 

I understand it's a bit off topic, but wondering if anyone has run into this trouble?
"
guardianproject/lildebi,closed,Mounting /storage/extSdCard,[],"Hi,

I didn't find out how to access / mount the external sd card, mounted in android unser /storage/extSdCard.

Any ideas?
"
guardianproject/lildebi,closed,supporting a globally accessible install in /data/debian,[],"Hey,

if you use lildebi on an android tablet with multiuser support (like the nexus 10) and you run it from another user than the device owner it won't detect an already installed debian nor would it install one (if none was installed already).

This is not a big issue, as one can install debian from the device owner account and still use it from the other accounts, nevertheless it would be nice, if lildebi would correctly detect the existing debian install..

best regards
leezu
"
guardianproject/lildebi,closed,"max image size is determined by free space on sdcard, even if selected location is on another storage device",[],"If I select a location to install the debian.img that is on my (larger) internal storage instead of my small sd card, the installer nevertheless limits the size of the file to the amount of free space on the sdcard.
"
guardianproject/lildebi,closed,"during install, Release and Arch show defaults even if other selections were made",[],"When I select a different release and architecture than the default (say, Jessie and armhf) and then start the installation, the Release and Arch still show ""stable"" and ""armel"" respectively. The correct versions are still being installed, but it's confusing as the user may think they did not actually set their intended options.
"
guardianproject/lildebi,open,configure image button does nothing,[],"On the HTC One pressing the configure image button does nothing.
"
guardianproject/lildebi,closed,Unable to start service info.guardianproject.lildebi.InstallService,[],"java.lang.RuntimeException: Unable to start service info.guardianproject.lildebi.InstallService@40fa4680 with null: java.lang.NullPointerException
at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:2376)
at android.app.ActivityThread.access$1900(ActivityThread.java:123)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1210)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4424)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.NullPointerException
at info.guardianproject.lildebi.InstallService.onStartCommand(InstallService.java:59)
at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:2359)
... 10 more
"
guardianproject/lildebi,closed,/etc/resolv.conf is 0600 by default,[],"First congrats for your project, love it !

I've tried to get network access from a user in my chroot, and after fixing the user groups, I still couldn't resolve DNS because /etc/resolv.conf was only readable by root.

I believe that file should be made readable by all users by default (-rw-r--r--) and not only by root as it is actually.
"
guardianproject/lildebi,closed,New image size is limited to default partition,[],"If you attempt to install Lil Debi on Motorola Photon Q on external storage (SD card), you are limited to maximum size of image that Lil Debi detects as main storage. 

Photon Q default setup is 

/storage/sdcard0 = internal memory
/storage/sdcard1 = SD card

I have no idea why it does this or if it is standard Android behavior but it's annoyed me in the past.

Steps to reproduce: 
1. Change image path to external (in my case, /storage/sdcard1) in Lil Debi preferences
2. Create image small enough to fit on /storage/sdcard1 but too big for /storage/sdcard0
3. Lil Debi reports back with error that there is not enough space to create new image even though there is

/sdcard is a symlink pointing to /storage/sdcard0

/mnt consists of:

asec
external1
obb
sdcard
secure

only secure has something in it. 

You can resize the image manually with various tricks (append output of dd to image from /dev/zero to image, resize2fs, etc) but I am not sure how much of this is support on default install and what tools come with it. You may have to do this from a real Linux box. 

Can supply more information if requested, run Gentoo on my other comps so not illiterate. 
"
guardianproject/lildebi,closed,"Some dd commands don't understand ""1M""",[],"The dd command on the Lenovo Thinkpad Tablet ignores the ""M"" suffix, which results in an image several orders of magnitude too small.
This patch replaces ""1M"" with the number of bytes (1048576), which should work with any dd implementation.
"
guardianproject/lildebi,closed,How to setup or change the Default SSHd Password,[],"The installer worked like a charm device is a ASUS-TF300T with CM10.1, the problem I have is after the installer complete's (which seems to fly by the way!)

The post start script default is set-up as: /etc/init.d/ssh start

Then it scroll's up on screen that SSHd is running and I dont have a command line window, just the screen telling me SSH is running, so I tried to connect to root@localhost via connectBot and it prompts me for the password. Then I tried every password I have, even the one I've already manually set for SSHd with DigiControl.

No Joy? Does anyone have any idea what the default SSHd password is or how I would get a prompt on the command shell where I can actually use the Debian command line natively?

manufacturer: Asus
model: TF300T
product: EeePad
brand: Asus
device: tf300t
board: cardhu
ID: JDQ39E
CPU ABI: armeabi-v7a
release: 4.2.2
incremental: eng..20130518.100005
codename: REL
SDK: 17

Thanking you in advance for your help.

Side note: Its genuinely been that long since I've used Linux that it did not occour to me how I was supposed to interact with the shell.. I see it plain as day now that I shouldnt be trying to setup sshd in Android... Doh! But instead should be using Chroot from within the debian installer and change the passwords from there.. My bad you can close this issue. I fixed it! 
"
guardianproject/lildebi,closed,NDK_TOOLCHAIN definition,[],"for some reason, I can only make successfully if I define NDK_TOOLCHAIN outright. defining NDK_BASE is not enough. I had this issue before this commit using the x86_64 ndk, and just edited external/Makefile's definition of NDK_TOOLCHAIN to point to the right place. I'm not sure what's going wrong :/
fresh source code, trying to make with just NDK_BASE defined gives me a command not found for 'arm-linux-androideabi-gcc' though it's right where you'd expect it, and defining NDK_TOOLCHAIN as 
`NDK_TOOLCHAIN=/opt/android/android-ndk-r8e/toolchains/arm-linux-androideabi-4.6/prebuilt/linux-x86_64/`
in the make line works like a charm. I assume this has something to do with the 64bit NDK commit.
"
guardianproject/lildebi,closed,unknown option -- warning=no-timestamp,[],"I'm getting the same issue as the person in comment 10557 on https://guardianproject.info/code/lildebi/ @2013/04/15 at 10:13 am:

> Installing testing (wheezy) with lildebi 0.4.1 yields errors in the install logfile.
> 
> Somewhat after
> - chroot /debian apt-get -y install –no-install-recommends ssh policyrcd-script
> 
> there is:
> 
> unknown option — warning=no-timestamp
> dpkg-deb: error: subprocess tar returned error exit status 1
> dpkg: error processing /var/cache/apt/archives/libprocps0_1%3a3.3.3-3_armel.deb subprocess dpkg-deb –control returned error exit status 2
> 
> which is repeated for each of the 17 installed packages.
> Finally, there is:
> E: Sub-process /usr/bin/dpkg returned an error code (1)

I get the same thing with testing or stable on a nexus 7 running CM10.1. Installation of sshd fails, so the initial setup script and init script both fail.
"
guardianproject/lildebi,closed,Display / Commandshell Issue,[],"Hello,
I have noticed an issue with my HTC ChaCha, running on Cyanogenmod 7.
The installation of lildebi works flawless but the terminal to execute commands does not appear under the log. Therefore I am not able to change the default root password.

I wanted to use debian via ssh but need a password to connect towards the device

Exo
![image](https://f.cloud.github.com/assets/2069785/434492/bf4b13f2-af47-11e2-8a2d-a66b48dae862.jpg)
"
guardianproject/lildebi,closed,lildebi fails when it runs out of loopback device files,[],"It seems to be quite common that installed apps (that were moved to sdcard) eat up loopback devices.
But when no unused loopback device files are available, lildebi fails to start or install debian.
So it makes sense to teach assets/lildebi-common to create new loop device files, when none are available.

The following patch (hereby put in the public domain) does that. It has been tested on one device and worked (it was applied to /data/data/info.guardianproject.lildebian/app_bin/lildebi-common).

<pre>
diff -Naur orig/assets/lildebi-common fixed/assets/lildebi-common
--- orig/assets/lildebi-common  2013-04-15 20:37:30.000000000 +0200
+++ fixed/assets/lildebi-common 2013-04-15 21:43:55.000000000 +0200
@@ -91,7 +91,20 @@
             return
         fi
     done
-    # if the above doesn't succeed, ask the system as a fallback
+    # if the above doen't succeed, try to create new 
+    # loopback device files (installed apps can eat up all available
+    # loopback device files)
+    if [ -e /dev/block/loop0 ]; then
+        i=0
+        while [ ""$i"" -lt 255 -a -e ""/dev/block/loop$i"" ]; do
+            i=$((i+1));
+        done
+        loopdev=""/dev/block/loop$i""
+        mknod ""$loopdev"" b 7 $i
+        echo $loopdev
+        return
+    fi
+    # if the above still doesn't succeed, ask the system as a fallback
     echo `$app_bin/losetup -f`
 }
 
</pre>
"
guardianproject/lildebi,open,Install failed after busybox symlinks were not created,[],"I'm trying to install LilDebi on a mk808 dongle running Android 4.1 and it failed right away: after starting LilDebi (installed from F-Droid), I clicked ""Install..."", selected 300MB, then clicked ""Install"" at which point some text was printed (maybe 3-4 lines of text, the last line probably started with ""exec: "") but before I had a chance to read that text I was brought back to the dialog where I can push ""Install..."".
Is there a way to see the (error?) message?  Or is there a way to run the install script by hand from a text terminal?
"
guardianproject/lildebi,closed,.start-debian.sh: line 21: `test-mount-bind': not a valid identifier,[],"I installed lildebi on my Lenovo LePad y1011, running Android 2.2.1, and it worked great. But since second run, it fails to start, giving only the following output:

./start-debian.sh
Initialising shell variables
.start-debian.sh: line 21: `test-mount-bind': not a valid identifier

By the way, I would like to try to change that problematic line, but I can't understand where the script ""start-debian.sh"" is stored.

Notice I tried to completely remove Debian and restart from scratch: again, it installs, works great, but second time it doesn't start.
"
guardianproject/lildebi,closed,There is no way to specify the location of the image,[],"android.os.Environment.getExternalStorageDirectory() on the Lenovo Thinkpad Tablet returns a partition on the built-in storage instead of the removable SD card, and there is no way in Lil' Debi to specify a different location for the image.

This also prevents one from having multiple images or putting the image anywhere but the root directory of the SD card.
"
guardianproject/lildebi,closed,Use ext3?,[],"How can I use ext3 for debian.img?  I'm getting annoyed at the fsck problems at startup.  I tried ""tune2fs -j /dev/loop7"" which appeared to work, but at the next boot the FS is force-converted to ext2 somehow.
"
guardianproject/lildebi,open,How to start LilDebi at boot when SD mount notification does not get sent,[],"My Mele-A2000 is meant both as a media player (using Android) and a home server (using Debian), so I need LilDebi to start at boot.
"
guardianproject/lildebi,open,Device files missing,[],"My Mele-A2000 has a /dev/block/sda under Android, but in Debian's chroot there's no corresponding file.  I think the start-debian.sh script should ""mount -o rbind /dev /debian/dev"" instead of selectively binding /dev/.

I added a ""test-mount-bind /dev"" just before the ""mount...devpts"" in start-debian.sh to work around this problem.

I think it would also be convenient to do something like

```
mkdir /debian/android
mount -o rbind / /debian/android
```

so as to make it easy to access any Android-side file from Debian.
"
guardianproject/lildebi,closed,Install fails on Samsung Galaxy Note 2,[],"Here is the content from the install log:

Attached is an log sent by Lil' Debi.  For more info, see:
https://github.com/guardianproject/lildebi

manufacturer: samsung
model: GT-N7105
product: t0ltexx
brand: samsung
device: t0lte
board: smdk4x12
ID: JRO03C
CPU ABI: armeabi-v7a
release: 4.1.1
incremental: N7105XXALIJ
codename: REL
SDK: 16
# cd /data/data/info.guardianproject.lildebi/app_bin
# ./create-debian-setup.sh  /data/data/info.guardianproject.lildebi/app_bin /storage/sdcard0 /storage/sdcard0/debian.img /debian stable http://ftp.us.debian.org/debian/ 600
# exit
- export PATH=/data/data/info.guardianproject.lildebi/app_bin:/system/bin:/system/xbin:/sbin:/vendor/bin:/system/sbin:/system/bin:/system/xbin
  Initialising shell variables
- test -e /data/data/info.guardianproject.lildebi/app_bin/lildebi-common
- . /data/data/info.guardianproject.lildebi/app_bin/lildebi-common
- echo Initialising shell variables
- export TERM=linux
- export HOME=/root
- export HOSTNAME=debian
- [ 7 -lt 1 ]
- app_bin=/data/data/info.guardianproject.lildebi/app_bin
- export PATH=/data/data/info.guardianproject.lildebi/app_bin:/usr/sbin:/usr/bin:/sbin:/bin:/system/sbin:/system/bin:/system/xbin
- [ -z ]
- sdcard=/storage/sdcard0
- [ -z ]
- imagefile=/storage/sdcard0/debian.img
- [ -z ]
- mnt=/debian
- [ -z ]
- release=stable
- [ -z ]
- mirror=http://ftp.us.debian.org/debian/
- [ -z ]
- imagesize=600
- test -d /data/data/info.guardianproject.lildebi/app_bin
- test -d /storage/sdcard0
- test -z /storage/sdcard0/debian.img
- test -z /debian
- loopdev=/dev/block/loop7
- busybox_path=/data/data/info.guardianproject.lildebi/app_bin
- busybox=/data/data/info.guardianproject.lildebi/app_bin/busybox
- mount -o remount,rw rootfs /
- [ ! -e /bin ]
- echo No '/bin' found, linking it to busybox utils
- cd /
- ln -s /data/data/info.guardianproject.lildebi/app_bin /bin
  No '/bin' found, linking it to busybox utils
  Creating chroot mountpoint at /debian
- [ ! -e /debian ]
- echo Creating chroot mountpoint at /debian
- mkdir /debian
- chmod 755 /debian
- mount -o remount,ro rootfs /
- grep ext2 /proc/filesystems
  Create the image file:
- [ -z ext2 ]
- export DEBOOTSTRAP_DIR=/debian/usr/share/debootstrap
- echo Create the image file:
- test -e /storage/sdcard0/debian.img
- dd if=/dev/zero of=/storage/sdcard0/debian.img seek=600 bs=1M count=1
  1+0 records in
  1+0 records out
  1048576 bytes (1.0MB) copied, 0.034023 seconds, 29.4MB/s
- test -d /debian
- test -e /storage/sdcard0/debian.img
- mke2fs_options=-L debian_chroot -F /storage/sdcard0/debian.img
- test -x /system/bin/mke2fs
- mke2fs -L debian_chroot -F /storage/sdcard0/debian.img
  Filesystem label=debian_chroot
  OS type: Linux
  Block size=4096 (log=2)
  Fragment size=4096 (log=2)
  38480 inodes, 153856 blocks
  7692 blocks (5%) reserved for the super user
  First data block=0
  Maximum filesystem blocks=4194304
  5 block groups
  32768 blocks per group, 32768 fragments per group
  7696 inodes per group
  Superblock backups stored on blocks:
  32768, 98304
- losetup /dev/block/loop7 /storage/sdcard0/debian.img
  losetup: /dev/block/loop7
- mount -o loop,noatime,errors=remount-ro /dev/block/loop7 /debian
  mount: mounting /dev/block/loop7 on /debian failed: Device or resource busy
- exit

Being a bear of very little brain, this suggests the issue is with losetup?
"
guardianproject/lildebi,closed,Can't rezise the chroot,[],"Not sure if this is the correct place to put this, but I chose the default 600MB option when starting Debian and it worked great, but I'm later finding that it wasn't enough. I'd like to resize the chroot but I can't seem to find any documentation on doing this. Is there a set of commands I can run or a file I can edit inside or outside the chroot to resize it?
"
guardianproject/lildebi,closed,Force Shutdown option,[],"When something goes wrong in the chroot and Lildebi says it can' t stop because some sessions are still open, it would be nice to have a feature to force the shutdown (kill -9 style)
"
guardianproject/lildebi,closed,start-debian.sh observations on error checking,[],"Howdy.

On Android 4.1.1 (rooted Google Nexus) I had two Google Play applications that ended up preventing /dev/loop7 from working. Two apps in particular proved to be trouble for me, automatically taking /dev/loop7 on system boot (even if the apps were never launched).     “Camera Zoom FX”, “Volume Rocker” :

```
# losetup
/dev/loop7: 0 /data/app-asec/slide.cameraZoom-1.asec

 # losetup
 /dev/loop7: 0 /data/app-asec/volumerocker.core-1.asec
```

lildebi gives a lot of errors and the script doesn't really deal with this very gracefully. Some suggestions for the start-debian.sh script

losetup:  [ $? = 1 ] indicates that there will be a failure.

The mount also returns a 255 result on failure

```
# root mount for everything Debian
 mount -t ext2 $loopdev $mnt

if [ $? = 255 ] ; then
    echo ""Mount returned 255 result""
    sleep 1
fi
```

at the same place in the script, I suggest some kind of sanity-check that the mount worked

```
if [ ! -f $mnt/bin/sh ]; then                                                    
     echo ""Your mnt $mnt path is missing /bin/sh""
    exit                                                                        
fi                                                                              
```
"
guardianproject/lildebi,closed,Cannot run dbench in chroot,[],"I'm not sure this is an issue with lildebi but I'll post it here first. 

I wanted to test the speed of the disk, so headed to dbench. It fails on the following : 

root@localhost:/tmp# dbench -t 60 2
dbench version 4.00 - Copyright Andrew Tridgell 1999-2004

Running for 60 seconds with load '/usr/share/dbench/client.txt' and minimum warmup 12 secs
can't get private shared memory of 1040 bytes: Function not implemented
"
guardianproject/lildebi,closed,"stop debian failed on install procedure, working install though",[],"Looking at the install.log for an Acer Iconia A500, I found that the ./stop-debian step seems to fail. 
## 

./stop-debian.sh
Initialising shell variables
Checking for open files in Debian chroot...
unmounting everything
umount: can't umount /debian: Device or resource busy

> losetup -d /dev/block/loop7
> losetup: /dev/block/loop7: Device or resource busy

Debian chroot stopped and unmounted.
## \+ /data/data/info.guardianproject.lildebi/app_bin/start-debian.sh /data/data/info.guardianproject.lildebi/app_bin /mnt/sdcard /mnt/sdcard/debian.img /debian

Restarting it at the end seems to correct this and the install seems to work.
"
guardianproject/lildebi,closed,leverage /etc/rcX.d symlinks during start/stop scripts,[],"it struck me recently that it should be feasible to leverage the symlinks at /etc/rcX.d to perform service startup/shutdown during the start/stop scripts. this would allow users to maintain their services in the debian install using the standard update-rc.d approach, instead of custom start/stop scripts.

we should just be able to get a list of the symlinks in the appropriate directory, then loop through and call them with the appropriate start/stop argument, no?  the one hitch is that some services (like the network service) shouldn't be called. i think we could work around that by maintaining a small blacklist of services that the start/stop scripts will never call.

i'm not sure about this approach, but at least thought it was worth mentioning as an idea. if you'd like me to work up a patch for it, i'm willing, just let me know.
"
guardianproject/lildebi,closed,generate /etc/passwd and /etc/group from Android data,[],"In Android each app runs as its own user and has its own group.  This information is listed in `/data/system/packages.list.`  When starting Debian, Lil Debi should generate /etc/passwd and /etc/group from this file.
"
guardianproject/lildebi,closed,running SSHD during install tanks stop script,[],"for regular stopping, the default pre-stop action, `/etc/init.d/ssh stop` shuts down SSHD so it's not caught as an open file during the stop script.

but when the stop script is run during install SSHD has been started by the package install, and i don't believe the pre-stop script is called there, as verified by the following install log output:

```
./stop-debian.sh                                                                                                                                                      
Initialising shell variables                                                                                                                                          
Checking for open files in Debian chroot...                                                                                                                           
Files that are still open:                                                                                                                                            
/debian/dev/null                                                                                                                                                      
/debian/dev/null                                                                                                                                                      
/debian/dev/null                                                                                                                                                      
/debian/usr/sbin/sshd   socket:[32503]                                                                                                                                
/debian/usr/sbin/sshd   socket:[32505]                                                                                                                                

Not stopping debian because of open files 
```

the following patch fixes this issue:

``` diff
diff --git a/assets/create-debian-setup.sh b/assets/create-debian-setup.sh
index 113b0ee..daae7dd 100755
--- a/assets/create-debian-setup.sh
+++ b/assets/create-debian-setup.sh
@@ -178,6 +179,11 @@ chroot $mnt apt-get -y install ssh policyrcd-script-zg2 molly-guard
 cp $app_bin/policy-rc.d $mnt/etc/policy-rc.d
 chmod 755 $mnt/etc/policy-rc.d

+# Stop SSHD here, otherwise the stop script will see it as an open file and
+# abort.
+echo ""> /etc/init.d/ssh stop""
+chroot $mnt /etc/init.d/ssh stop
+
 echo ""> apt-get -y install locales""
 chroot $mnt apt-get -y install locales

```
"
guardianproject/lildebi,closed,create/start sometimes conflicts with existing losetup loopback devices,[],"Since the loopback device is hardcoded in assets/lildebi-common, sometimes other things might be mounted on that statically specified loopback device (its currently /dev/block/loop4).  The app should use `losetup -f` to get a free loopback device to make sure this doesn't happen.
"
guardianproject/lildebi,closed,"install fails with ""mount: mounting /dev/block/loop4 on /debian failed: Invalid argument""",[],"On a stock Nexus One and an HTC Wildfire running CM7.2, the install process will fail after it creates the `debian.img` file and formats it, it cannot mount it, and dies with the error:

```
mount: mounting /dev/block/loop4 on /debian failed: Invalid argument
```

The workaround is to download the `debian.img` file from the Download page here and put it into the SD card (i.e. /mnt/sdcard)
"
guardianproject/lildebi,closed,"install/configure a default locale, take 2",[],"cleaned up pull request from the botched attempt at https://github.com/guardianproject/lildebi/pull/28
"
guardianproject/lildebi,closed,install/configure a default locale,[],"i get a lot of errors like this when running CLI commands from the Debian chroot:

```
perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
        LANGUAGE = (unset),
        LC_ALL = (unset),
        LANG = ""en_US.UTF-8""
    are supported and installed on your system.
perl: warning: Falling back to the standard locale (""C"").
locale: Cannot set LC_CTYPE to default locale: No such file or directory
locale: Cannot set LC_MESSAGES to default locale: No such file or directory
locale: Cannot set LC_ALL to default locale: No such file or directory
```

after trying a couple of different things to fix the problem, it seemed installing the `locales` package and configuring a default locale was the best solution, so here's a crack at it.
"
guardianproject/lildebi,closed,debootstrap verify_checksum() failing,[],"one of the commits of Aug 07, 2012 seems to have broken the checksum validation in debootstrap. this was working perfectly until i pulled the updates from that day.

now when first phase debootstrap runs, any package that it tries to download fails with a validation error.

hacking in the following to verify_checksum() in /debian/usr/share/debootstrap/functions:

```
info VALIDATING ""Validation failed: %s, %s, %s, %s"" ""$expsize"" ""$relsize"" ""$expchecksum"" ""$relchecksum""
```

i get results like:

```
I: Retrieving adduser
I: Validating adduser
I: Validation failed: 250368, 250368, edfaffdb7beea7e0e5db61c3b1b210e9, fc4c586d12c9e5e16edc707ec920f2f2e7122689e206fda78374886e7aecfaba
```

maybe an issue with the embedded md5sum that was recently added to the static busybox executable? i wasn't able to determine that, just a guess.
"
guardianproject/lildebi,closed,running SSHD prevents stop script from completing,[],"the test in stop-debian.sh for open files catches a running SSHD and prevents the stop script from completing. this means you have to shut down SSHD manually from an adb shell or somesuch before running the stop script -- kind of a pain. seeing as how things are configured for the start script to fire SSHD up, it makes sense that the stop script should shut it down.

if the fix suggested at https://github.com/guardianproject/lildebi/issues/25#issuecomment-7563978 goes in, then adding this before the open files test should do it:

``` sh
# Stop SSHD here, otherwise the open file test below will fail.
test -e $mnt/etc/init.d/ssh && chroot /data/debian /etc/init.d/ssh stop
```
"
guardianproject/lildebi,closed,/proc and other mounts don't exist,[],"this code is broken:

``` sh
# create live mtab
test -e $mnt/etc/mtab && rm $mnt/etc/mtab
ln -s /proc/mounts $mnt/etc/mtab
```

specifically because /proc/mounts is not accessible from inside the chroot.

is the most reasonable approach to simply copy the contents of /proc/mount to /data/debian/etc/mtab?
"
guardianproject/lildebi,closed,clean up install script errors,[],"attached pull request addresses two minor errors in the installation script:
- the touch executable doesn't seem to be present in bluebox/android, and was used a couple of times to create files. however, the calls seem unnecessary, as the echo calls following create the file via the append operator, so i've removed those touch calls
- create_mountpoint() was incorrectly handling the case where the base dir didn't exist, but the dir on the mount path did exist (like /data/debian/media). the updated function handles all four cases correctly.
"
guardianproject/lildebi,closed,install not working on Galaxy Nexus,[],"Hi all,

I'm trying to setup Debian on my rooted Galaxy Nexus with Android 4.1.1 using lildebi. I built it successfully and pushed it on my phone. Next, i started lildebi app and wanted to download and install debian - no success. Hence, I downloaded the image and pushed it on the SD card. Now, when I push the button ""Configure Image"" I get the output ""Unknown id: sh"". I attached my ddms log too:

08-07 13:28:56.799: E/su(12776): Unknown id: sh
08-07 13:28:56.806: I/LilDebi(12063): cd /data/data/info.guardianproject.lildebi/app_bin
08-07 13:28:56.806: E/LilDebi(12063): Error!!!
08-07 13:28:56.806: E/LilDebi(12063): java.io.IOException: write failed: EPIPE (Broken pipe)
08-07 13:28:56.806: E/LilDebi(12063):   at libcore.io.IoBridge.write(IoBridge.java:462)
08-07 13:28:56.806: E/LilDebi(12063):   at java.io.FileOutputStream.write(FileOutputStream.java:187)
08-07 13:28:56.806: E/LilDebi(12063):   at java.io.OutputStream.write(OutputStream.java:82)
08-07 13:28:56.806: E/LilDebi(12063):   at info.guardianproject.lildebi.LilDebi.writeCommand(LilDebi.java:196)
08-07 13:28:56.806: E/LilDebi(12063):   at info.guardianproject.lildebi.LilDebi$CommandThread.run(LilDebi.java:166)
08-07 13:28:56.806: E/LilDebi(12063): Caused by: libcore.io.ErrnoException: write failed: EPIPE (Broken pipe)
08-07 13:28:56.806: E/LilDebi(12063):   at libcore.io.Posix.writeBytes(Native Method)
08-07 13:28:56.806: E/LilDebi(12063):   at libcore.io.Posix.write(Posix.java:178)
08-07 13:28:56.806: E/LilDebi(12063):   at libcore.io.BlockGuardOs.write(BlockGuardOs.java:191)
08-07 13:28:56.806: E/LilDebi(12063):   at libcore.io.IoBridge.write(IoBridge.java:457)
08-07 13:28:56.806: E/LilDebi(12063):   ... 4 more

I would appreciate any hints and ideas.

Stephan
"
guardianproject/lildebi,closed,debootstrap external not installed properly,[],"`make -C external assets` doesn't seem to install the deboostrap executable into assets/ -- the other externals are installed properly.  i'm not a makefile expert, but it just looks like it's missing from the install command.
"
guardianproject/lildebi,closed,disable gpg checks in second stage bootstrap until broken gpgv is fixed.,[],"Until https://github.com/guardianproject/lildebi/issues/20 is fixed, I thought it would be a good idea to disable using the broken gpgv, since the software isn't all that useful if the second stage bootstrap tanks.
"
guardianproject/lildebi,closed,gpgv tanks in chroot,[],"My initial attempts at the Debian install on my Nexus 7 were tanking at the point when chroot is used to do the second stage debootstrap, saying ""gpgv not installed, but required for Release verification"".

I verified that the script copied the supplied gpgv to /data/debian/usr/local/bin/

Now here's the weird part: running `/data/debian/usr/local/bin/gpgv --version` with no chroot returns the version information just fine.  Then I:

```
export PATH=/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/bin
/system/bin/chroot /data/debian bash
which gpgv
```

and that returns `/usr/local/bin/gpgv` just fine. But then I run `gpgv --version` from the chroot, and it gives me an error, saying the file can't be found!

A bunch of googling around didn't give me any hints, so I eventually gave up and threw a `KEYRING=""--no-check-certificate""` at the appropriate spot in create-debian-setup.sh, which at least got my install to complete successfully.

Would love to know why the provided version of gpgv is tanking only in the chroot, as I would prefer to keep the GPG stuff in there if I can.
"
guardianproject/lildebi,closed,"Switch README to markdown, add more detailed build/install instructions.",[],"It took me the better part of a day fumbling around with this software to get the Android package built successfully and use it to get Debian installed on my Nexus 7.  I thought I'd save others who wanted to do the build themselves some of the same pain, so I've updated the README to have more detail.

In the process I converted the README to markdown, which I think reads much better overall, especially on GitHub.
"
guardianproject/lildebi,closed,Problem with built in busybox (I assume) causes install to fail,[],"I have tried 2012-02-24_18-36-51 and 2012-03-15_17-00-47 but both have the same problem, I tried 2011-06-09_11-54-10 for some perspective and that had different problems.

So, the later two version fail quietly with only saying that it failed to find modprobe and test.sh

I climbed in to the directory and tried the busybox that was in there and it worked. 

Don't know where else to go.  The directions to continue with the prebuilt image are incomplete.
"
guardianproject/lildebi,closed,busybox version,[],"According to the README, the busybox used is built in 2007 from the raw sources.

That's pretty old, in fact, I notice quite a few differences in behaviour between my 1.19.3 version and the 1.8.1 version in lildebi...

If you simply want a new binary, you can get the popular busybox built by stericson here:
https://code.google.com/p/busybox-android/source/browse/trunk/assets/busybox19_3.png
(its not really a png, no idea why he added that suffix)

Or, if you want to build it from source using the standard NDK, check out the build scripts and the patches at:
http://matrixrewriter.com/wiki/tiki-index.php?page=Building+BusyBox+binaries+for+Android

Kind regards,
Tias
"
guardianproject/lildebi,closed,Various patches,[],"- making the scripts more verbose, useful when debugging
- adding an ad-hoc resolv.conf file if it was missing (see also https://github.com/guardianproject/lildebi/pull/15)
- surpressing losetup -d errors, already disassociated after umount on my device...
- Move 'modprobe ext2'away from the java source and into the script

Pick what you want, or preferably everything.

Kind regards,
Tias
"
guardianproject/lildebi,closed,E: Failed getting release file,[],"Hi,

When I ran lildebi, debootstrap (phase 1) gave me the following error:
I: Retrieving Release
E: Failed getting release file http://ftp.us.debian.org/debian/dists/stable/Release

The reason is that there is no /system/etc/resolv.conf on my android system (stock asus transformer, honeycomb)
surprisingly, ping to a host works, but nslookup of a host does not. And debootstrap does not either

The critical patch is:
'Ad-hoc creation of /system/etc/resolv.conf if it is missing'
What should really also be committed is:
'exit if debootstrap stage 1 failed'

The other patches contain minor modifications that make the script more verbose. They were needed for me to understand what was going on, and find the bug.
Also, the 'losetup' patches remove a call to 'losetup' that show an error in the log, while nothing is actually wrong.

I would like you to commit it all, but do as you wish.
"
guardianproject/lildebi,closed,pkgdetails not found,[],"When I bulid lildebi from source (current HEAD, cab1402432646e9a8eeeefdf672f9bc901fd085d), the install fails because it can not find 'pkgdetails' in the setup.

Is it possible that the 'build pkgdetails from source instead of using binary in git' is not finished yet?
"
guardianproject/lildebi,closed,modprobe ext2,[],"In InstallService
https://github.com/guardianproject/lildebi/blob/master/src/info/guardianproject/lildebi/InstallService.java#L88
the command 'modprobe ext2' is run.

On my system (asus transformer, honeycomb), this gives the error 'modprobe: chdir(/lib/modules): No such file or directory

No harm is done, but this call (and hence the error) is not needed in many cases.
Could support for ext2 not be detected automatically (using /proc/filesystems as in https://github.com/guardianproject/lildebi/wiki/Checking-Your-Device perhaps)?

Even more ideally, an error could be shown to the user in case ext2 is not supported (even after a modprobe) making the app more robust.

But just to be clear: this is a suggestion, the modprobe command does not make the install fail (it did put me on the wrong foot in searching for the real cause though)
"
guardianproject/lildebi,closed,can't stop debian,[],"debian won't stop when i click the stop debian button, i first had the bash not found then tried installing again and it worked, i also tried that issue thing with the link to google to see if my wget was broken and it came back ok, how do i force stop lildebi
"
guardianproject/lildebi,closed,lilDebi install fails - NookColor CM7.1,[],"CyanogenMod-7.1.0-encore (kernel - 2.6.32.9 erik@myhost #151)

To be clear, this is running off the SD card, **not** natively installed. Some of the troubleshooting I've done so far:

First, is the device filesystem compatible?

```
# cat /proc/filesystems
** snip **
nodev   devpts
    ext3
    ext2
    ext4
** snip **
```

Next, is wget broken?

```
# wget http://google.com -O /dev/null; if [ $? -gt 0 ]; then echo ""broken""; else echo ""okay""; fi
Connecting to google.com (74.125.227.51:80)
Connecting to www.google.com (74.125.227.51:80)
null                 100% |*******************************| 12198   0:00:00 ETA
okay
```

So we know the device supports ext2 and that wget is working as expected. Now, when I run lilDebi, it fails. Below is the logcat from ddms:

```
02-08 08:20:30.437: I/LilDebi(25251): cd /data/data/info.guardianproject.lildebi/app_bin
02-08 08:20:30.437: I/LilDebi(25251): ./start-debian.sh /data/data/info.guardianproject.lildebi/app_bin /mnt/sdcard /mnt/sdcard/debian.img /data/debian  && chroot /data/debian /bin/bash -c ""/etc/init.d/ssh start""
02-08 08:20:30.700: E/su(25579): sudb - Opening database
02-08 08:20:30.700: E/su(25579): sudb - Database opened
02-08 08:20:30.702: E/su(25579): sudb - Database closed
02-08 08:20:30.708: D/su(25579): 10151 info.guardianproject.lildebi executing 0 /system/bin/sh using shell /system /bin/sh : sh
02-08 08:20:31.618: I/LilDebi(25251): Done!
```

I haven't been able to figure out (yet) how to access the output from lilDebi in a way that allows me to copy/paste it in full here. ./app_log is empty after running the app. Here's a screencap:

![screencap](https://lh3.googleusercontent.com/-zFMc3I5Jv1M/TzKQgReDHCI/AAAAAAAAK3w/iDcq1AHwZkI/s720/_mnt_sdcard_drocap_CAP201202080903.png)

Just to see if there's anything mounted at /data/debian, per @eighthave

```
# mount
mount
mount: not found
```

but if I:

```
# busybox mount
rootfs on / type rootfs (ro,relatime)
tmpfs on /dev type tmpfs (rw,relatime,mode=755)
devpts on /dev/pts type devpts (rw,relatime,mode=600)
proc on /proc type proc (rw,relatime)
sysfs on /sys type sysfs (rw,relatime)
tmpfs on /mnt/asec type tmpfs (rw,relatime,mode=755,gid=1000)
tmpfs on /mnt/obb type tmpfs (rw,relatime,mode=755,gid=1000)
none on /dev/cpuctl type cgroup (rw,relatime,cpu)
/dev/block/mmcblk0p2 on /rom type vfat (rw,noatime,nodiratime,uid=1000,gid=1000,fmask=0117,dmask=0007,allow_utime=0020,codepage=cp437,iocharset=iso8859-1,shortname=mixed,errors=remount-ro)
/dev/block/mmcblk1p2 on /system type ext4 (ro,relatime,barrier=1,data=ordered)
/dev/block/mmcblk1p3 on /data type ext4 (rw,nosuid,nodev,noatime,barrier=1,data=ordered,noauto_da_alloc)
/dev/block/mmcblk0p7 on /cache type ext4 (rw,nosuid,nodev,noatime,barrier=1,data=ordered)
/sys/kernel/debug on /sys/kernel/debug type debugfs (rw,relatime)
** snip **
```

There is a _lot_ more output from that command, but nothing shows as mounted on /data/debian, most likely because mount is failing for some reason.

Yesterday, just for kicks, I tried appending busybox to all standalone instances of mount in the shell scripts. lilDebi failed with -- as far as I can tell -- exactly the same output. That could have something to do with the fact that I didn't pick through the scripts with a fine-toothed comb to really see how they were interacting with one another. It was kind of a quick shot in the dark.

If there's any other testing I can do, let me know.
"
guardianproject/lildebi,closed,"Consider some means of ""securing"" ",[],"Consider some means of ""securing""  the debian installation... installing to the sdcard - where any application which has sdcard privileges  can modify the debian installation probably isn't a good idea. (I don't want to chroot into an untrusted environment :/ ).
"
guardianproject/lildebi,closed,Provide a keyring file and pass on --keyring=KEYRING to deboostrap!,[],"Provide a keyring file and pass on --keyring=KEYRING to deboostrap! 

(if you look at the manual for deboostrap you will find this 
""      --keyring=KEYRING
              Download signatures for retrieved Release files and  check  them
              against  KEYRING.   By  default, Release file signatures are not
              checked.
""
) So... It is probably a good idea to provide a keyring! 
"
guardianproject/lildebi,closed,Installation fails on devices with broken wget [READ THIS if /bin/bash can not be found!],[],"NOTE TO USERS: If you see the error message 'Can not execute /bin/bash: No such file or directory' when trying to start LilDebi after installation, this bug might concern you.

Some Android devices seem to ship broken wget (or break wget in weird ways).

To check if your device is one of these, open a shell (using `adb shell` or the like) and enter the following line (make sure that you're connected to the internet!):
wget http://google.com -O /dev/null; if [ $? -gt 0 ]; then echo ""broken""; else echo ""okay""; fi

If your output contains ""broken"" (and there's the line ""wget: bad address 'google.com'""), your wget is broken.

The effect on LilDebi is that debootstrap can't retrieve any files from the Debian mirrors, leaving the installation unfinished (debootstrap would, amongst others, install apt-get, so the following stages of the installation will also fail.

WORKAROUND: If you still want to install LilDebi, please download the debian image from https://github.com/guardianproject/lildebi/downloads and run the following commands (on your computer, not on Android):
`bunzip debian-squeeze.img.bz2 # uncompresses the image`
`adb push debian-squeeze.img /sdcard/debian.img # Pushes the image to the right place on Android`
Then start LilDebi on Android, press 'Configure Debian', then 'Start Debian'. You will see an error message saying that /etc/init.d/ssh could not be found.
Switch to your adb shell and execute /data/local/bin/debian, then enter the following line:
`apt-get install ssh && exit`
Confirm the installation (press ""y"" when apt-get asks you) and wait a few seconds. After apt-get is done, switch to LilDebi and press ""Stop Debian"" and ""Start Debian"" again. LilDebi should start without errors now.

SOLUTION (by hc):
Build a custom busybox that includes a non-broken wget. 
"
guardianproject/lildebi,closed,test-mount-bind doesn't check if origin is mountpoint before bindmounting,[],"From start-debian.sh:
test-mount-bind() {
    test -d $1 && \
        mount -o bind $1 $mnt/$1
}

Fails to do The Right Thing when $1 is not a mountpoint for an existing mount.

Real-world example:
/mnt/secure/asec and /mnt/secure/.android_secure exist as dir, but neither /mnt/secure nor /mnt/secure/asec nor /mnt/secure/.android_secure are mounted. test -d returns true, of course, but since there is nothing mounted on those files, the bindmount fails.

Crude proposal:
test -d $1 && [ -n ""`mount | awk -v mnt=$mnt '$2==mnt{print}'`"" ] && mount -o bind $1 $mnt/$1

This example might not work on your regular system, because e.g. util-linux-ng mount formats its output as 'devpath on mountpoint etc', whereas the mount binary on my android systems leave out the ""on"". If your mount output has the mountpoint in field 3, just use '$3==mnt{print}', of course.

Cheers,

Manuel
"
guardianproject/lildebi,open,non-root daemons must be added to aid_inet to get network access,[],"after 'apt-get install tor' and then '/etc/init.d/rc 2' i get the follow output:

Using makefile-style concurrent boot in runlevel 2.
Starting polipo: DNS: couldn't create socket: Permission denied
polipo.
Starting enhanced syslogd: rsyslogd already started.
Starting OpenBSD Secure Shell server: sshd.
Starting periodic command scheduler: cron failed!
Raising maximum number of filedescriptors (ulimit -n) to 16384.
Starting tor daemon: tor...
done.

and from /var/log/tor/log i get:

""Jun 21 20:56:30.778 [warn] Error creating network socket: Permission denied""

so apps, other than SSHD, are unable to create sockets.
"
guardianproject/lildebi,closed,from Twitter: outgoing connections for non-root users,[],"http://twitter.com/#!/mickeyc/status/82059712962629632

""Installed Debian on Android as per your instructions. Now how do I make it so non-root users can make outgoing connections?""
"
guardianproject/lildebi,closed,can't ssh in after 'apt-get install ssh' etc,[],"ssh is installed, and running, but I cannot ssh into the device over a wireless lan.

this is for both 'root' and a new user.

it seems to auth fine, but then drop due to a broken pipe. here is the 'ssh -v' output:

debug1: Authentication succeeded (password).
Authenticated to 10.0.1.10 ([10.0.1.10]:22).
debug1: channel 0: new [client-session]
debug1: Requesting no-more-sessions@openssh.com
debug1: Entering interactive session.
Write failed: Broken pipe
"
guardianproject/lildebi,closed,i got an FC at the end of installation,[],"when the installation is done (i think) and the mount happens, there is an FC:

06-18 02:03:51.020: ERROR/AndroidRuntime(1143): FATAL EXCEPTION: Thread-11
06-18 02:03:51.020: ERROR/AndroidRuntime(1143): android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?
06-18 02:03:51.020: ERROR/AndroidRuntime(1143):     at android.app.ContextImpl.startActivity(ContextImpl.java:647)
06-18 02:03:51.020: ERROR/AndroidRuntime(1143):     at android.content.ContextWrapper.startActivity(ContextWrapper.java:258)
06-18 02:03:51.020: ERROR/AndroidRuntime(1143):     at info.guardianproject.lildebi.InstallService$InstallThread.run(InstallService.java:128)
06-18 02:03:51.110: WARN/ActivityManager(260):   Force finishing activity info.guardianproject.lildebi/.InstallActivity
"
guardianproject/lildebi,closed,should i have to manually 'chroot'?,[],"i guess i expected to just open up terminal, and be in debian automagically... what do you think?
"
guardianproject/lildebi,closed,when i chroot in terminal/shell i get nothing...,[],"after what seemed like a successful install/bootstarp, the LilDebi startup seems to work.

however, when I open terminal or connect via ADB shell, and type 'chroot /data/debian /bin/bash' I get a blank directory and have no binary commands available.
"
