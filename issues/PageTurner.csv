repository,state,title,label,body
NightWhistler/PageTurner,open,Can't import this in android studio 3.1.4,[],"Hello guys,

I can't import this project in android studio, there are so many issues coming when I run the app in device.

@hanjiang-stanford : Please update this project to support latest android version 28.

Thanks."
NightWhistler/PageTurner,open,Unable to compile the project in latest Android Studio gradle.,[],"Hi, 

I am facing this issue while compilation your repo into the latest android studio 3.0.1 and getting
this error -
`Unsupported method: BaseConfig.getApplicationIdSuffix().
The version of Gradle you connect to does not support that method.
To resolve the problem you can change/upgrade the target version of Gradle you connect to.
Alternatively, you can ignore this exception and read other information from the model.`

while in the android studio version 2.3.3, it is working fine but since my live project is on the newer Gradle version. 

So, as I need to import it as a module if I will be able to compile on the newer one.


Please help me out It's Urgent.  "
NightWhistler/PageTurner,open,How to add pageturner into existing android studio project,[],"I want to add PageTurner project into my existing project using gradle dependency or as library...

Please help..."
NightWhistler/PageTurner,open,Read Everyday,[],"Let's say I want to read a certain amount of time, words, paragraphs or chapters per day in a book.  PageTurner should show me where to end my reading for the day.  PageTurner should display a notification that cannot be cleared until I have completed the reading for the day.

This is great for people who want to read say poems or scriptures each day.  PageTurner will help the people remember to read and keep track of where to start and end.  For example, let's say I want to read through the entire Bible or War and Peace.  I do not necessary want to finish by a certain date but I do want to finish eventually.  This feature would keep me going at a good pace.

I was thinking about making my own product to do this.  I asked around to see how much interest there are in people.  A large percentage of people I talked to thought this was a great idea and asked me to let them know when it is ready."
NightWhistler/PageTurner,open,Finish Reading a Book by a Specified Date,[],"Let's say I want to finish reading a book by a certain date.  PageTurner should calculate how much I should read each day and then show me in the text where to read to.  If I read ahead, PageTurner should re-calculate the amount each day so that I read less each day.  If I fall behind, PageTurner should re-calculate the amount each day so that I read more each day.

PageTurner should also show a notification that cannot be cleared until I complete the amount of reading for the day.  Also, PageTurner should allow me to specify dates for several books and there should be a notification for each book.

This feature is great for students who need to read a textbook for class.  If a teacher assigns a book to read, then the students can finish in the right amount of time.

I was thinking about making my own product to do this. I asked around to see how much interest there are in people. A large percentage of people I talked to thought this was a great idea and asked me to let them know when it is ready."
NightWhistler/PageTurner,open,Bullet Points,[],"Add bullet points to next page even if the line is continued , and having indentation issues with bullet points for epub file"
NightWhistler/PageTurner,open,Go to Page (jump directly to user entered page number),[],"# Description
I have implement GO TO page feature in this App. It help user to jump directly on entered page number. 
I have got most of success, and in most of cases i can jump successfully at given page number.

I have implement this feature in search which is already present and comments old code as given below in **Edited Files>ReadingFragment.java>performSearch(String query)** 

# Issues
(1). In some cases page number jump to diffrent pages, like if i enterd 110 then it will redirect to 109.
(2). when i want to jump at chapter starting page number then page number is changed but chapter containt does not changes. like if chapter start with page no. 49, I am on Page no. 99, when i enter 49 then page number is been change to 49 but containt is of page no. 99. 

# Edited Files


> PageChangeStrategy.java

`public void gotoPage(int pageNumber);`


> BookView.java

`public void gotoPageNumber(int pageNum) {   

    strategy.gotoPage(pageNum);
    progressUpdate();
}`


> FixedPagesStrategy.java

`@Override
public void gotoPage(int pageNumber) {

    PageTurnerSpine spinePos = bookView.getSpine();

    this.storedPosition = -1;

    int currentPage = getCurrentPage() + spinePos.getUptoPage(spinePos.getPosition());
    Log.e(TAG, ""Adding >> Upto Page : "" + spinePos.getUptoPage(spinePos.getPosition())
            + "", currentPage :  "" + getCurrentPage());
    Log.e(TAG, ""pagenum : "" + pageNum);

    if (pageNumber > currentPage) {     //pageNumber is greater then current page

        int jumpSpine = spinePos.getIndexFromPage(pageNumber);
        int currentSpine = spinePos.getPosition();
        Log.e(TAG, ""jumpSpine : "" + jumpSpine + "", currentSpine : "" + currentSpine);

        if (jumpSpine == currentSpine) {

            int diffrence = pageNumber - currentPage;
            Log.e(TAG, ""diffrence < : "" + diffrence);

            Log.e(TAG, ""Minimum >> PageOffSets - 1 : "" + (spinePos.getPageOffSets(currentSpine) - 1)
                    + "", pageNum + diffrence : "" + (pageNum + diffrence));

            this.pageNum = Math.min(pageNum + diffrence, spinePos.getPageOffSets(currentSpine) - 1);
            updatePosition();

        } else {

            PageTurnerSpine spine = bookView.getSpine();

            if (spine == null || !spine.navigateFrontSpine(spine.getIndexFromPage(pageNumber))) {
                return;
            }
            this.pageNum = 0;

            gotoPage(pageNumber);

        }

    } else {                            //pageNumber is less then current page

        int jumpSpine = spinePos.getIndexFromPage(pageNumber);
        int currentSpine = spinePos.getPosition();
        Log.e(TAG, ""jumpSpine : "" + jumpSpine + "", currentSpine : "" + currentSpine);

        if (jumpSpine == currentSpine) {

            int diffrence = currentPage - pageNumber;
            Log.e(TAG, ""diffrence > : "" + diffrence);

            Log.e(TAG, ""pagenum - diffrence : "" + (pageNum - diffrence));

            this.pageNum = Math.max(pageNum - diffrence, 0);
            updatePosition();

        } else {

            PageTurnerSpine spine = bookView.getSpine();

            if (spine == null || !spine.navigateBackSpine(spine.getIndexFromPage(pageNumber))) {
                return;
            }
              this.storedPosition = Integer.MAX_VALUE;
            this.pageNum = 0;

            gotoPage(pageNumber);
        }
    }

    Log.e(TAG, ""In last pageNum : "" + pageNum);
}`


> PageTurnerSpine.java

`//  get index from page number
public int getIndexFromPage(int pageNumber) {
    int total = 0;
    int totalIndex = 0;

    for (List<Integer> pagesPerSection : pageOffsets) {
        total += pagesPerSection.size();
        totalIndex = totalIndex + 1;
        if (total - 1 >= pageNumber) {
            return totalIndex - 1;
        }
    }
    return 0;
}

//  get total pages before given index
public int getUptoPage(int position) {
    int total = 0, max = 0;
    for (List<Integer> pagesPerSection : pageOffsets) {
        max = max + 1;

        if (position == max - 1) {
            return total;
        }
        total += pagesPerSection.size();
    }
    return 0;
}

//  get current index pageOffSets
public int getPageOffSets(int position) {
    int max = 0;
    for (List<Integer> pagesPerSection : pageOffsets) {
        max = max + 1;

        if (position == max - 1) {
            return pagesPerSection.size();
        }
    }
    return 0;
}

//  jump to particular index forward
public boolean navigateFrontSpine(int indexSpine) {

    if (this.position == size() - 1) {
        return false;
    }

    this.position = indexSpine;
    return true;
}

//  jump to particular index backward
public boolean navigateBackSpine(int indexSpine) {

    if (this.position == 0) {
        return false;
    }

    this.position = indexSpine;
    return true;
}`


> ReadingFragment.java

`public void performSearch(String query) {
	
	int index = Integer.parseInt(query);

	if (index > bookView.getTotalNumberOfPages()) {
            Toast.makeText(context, ""Please enter number between 0 to "" + bookView.getTotalNumberOfPages(), Toast.LENGTH_SHORT).show();
    } else {
            bookView.gotoPageNumber(index);
    }

//        final ProgressDialog searchProgress = new ProgressDialog(context);
//        searchProgress.setOwnerActivity(getActivity());
//        searchProgress.setCancelable(true);
//        searchProgress.setMax(100);
//        searchProgress.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
//
//
//        final int[] counter = {0}; //Yes, this is essentially a pointer to an int :P
//
//        final SearchTextTask task = new SearchTextTask(bookView.getBook());
//
//        task.setOnPreExecute(() -> {
//
//            searchProgress.setMessage(getString(R.string.search_wait));
//            searchProgress.show();
//
//            // Hide on-screen keyboard if it is showing
//            InputMethodManager imm = (InputMethodManager) context.getSystemService(Activity.INPUT_METHOD_SERVICE);
//            imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);
//
//        });
//
//        task.setOnProgressUpdate((values) -> {
//
//            if (isAdded()) {
//
//                LOG.debug(""Found match at index="" + values[0].getIndex()
//                        + "", offset="" + values[0].getStart() + "" with context ""
//                        + values[0].getDisplay());
//                SearchResult res = values[0];
//
//                if (res.getDisplay() != null) {
//                    counter[0] = counter[0] + 1;
//                    String update = String.format(
//                            getString(R.string.search_hits), counter[0]);
//                    searchProgress.setMessage(update);
//                }
//
//                searchProgress.setProgress(bookView.getPercentageFor(res.getIndex(), res.getStart()));
//            }
//        });
//
//        task.setOnCancelled((result) -> {
//            if (isAdded()) {
//                Toast.makeText(context, R.string.search_cancelled,
//                        Toast.LENGTH_LONG).show();
//            }
//        });
//
//        task.setOnPostExecute((result) -> {
//            searchProgress.dismiss();
//
//            if (!task.isCancelled() && isAdded()) {
//
//                List<SearchResult> resultList = result.getOrElse(new ArrayList<>());
//
//                if (resultList.size() > 0) {
//                    searchResults = resultList;
//                    showSearchResultDialog(resultList);
//                } else {
//                    Toast.makeText(context,
//                            R.string.search_no_matches, Toast.LENGTH_LONG)
//                            .show();
//                }
//            }
//        });
//
//        searchProgress.setOnCancelListener(dialog -> task.cancel(true));
//        executeTask(task, query);
		
}`




Thanks.

"
NightWhistler/PageTurner,open,Previous page on browser-style scrolling?,[],"Just discovered the browser-style scrolling option, and I like it a lot. However, I'm feeling stupid because I just can't figure out a way to go to the previous ""page"". There's a button at the end to go to the next page, but how can I go to the previous page? I tried any gesture and button that I could think of. Thanks for any help!
"
NightWhistler/PageTurner,open,"Downloaded project and running in android studio, during gradle sync following error appears",[],"downloaded complete sample of page turner and while tried to run its sample, during the process of gradle sync following error appears:

Error:(26, 0) Cannot add a configuration with name 'testCompile' as a configuration with that name already exists.
-- openFile:/home/adstuck-014/AndroidStudioProjects/PageTurner-master/build.gradle"" -- 

While clicking on above link it redirects to line : "" apply plugin: 'robolectric' "" in build.gradle file
"
NightWhistler/PageTurner,open,Error compiling AppCompat-v7 branch in Android Studio,[],"Hi,
The appcompat version of PageTurner compiles fine in terminal with ""gradle assembleDebug"" command.
However, I get the following errors while compiling in Android Studio (v1.5 RC1) -

```
/Volumes/Projects/PageTurner/res/values/styles.xml
Error:(2) Error retrieving parent for item: No resource found that matches the given name '@style/Theme.AppCompat.Light.DarkActionBar'.
Error:(2) Error retrieving parent for item: No resource found that matches the given name '@style/Theme.AppCompat'.
Error:(2) Error retrieving parent for item: No resource found that matches the given name '@style/Theme.AppCompat.Light.DarkActionBar'.
Error:(2) Error retrieving parent for item: No resource found that matches the given name 'Widget.AppCompat.ActionBar'.
```

How can I solve this issue?
"
NightWhistler/PageTurner,open,Images are not showing in full width ,[],"Hi Dear,
     I m using this library in android but images are not showing in full width while in all other epub readers images are showing in full width of page and also text under the image is coming left or right of the image can you please help me how to fix it ??
"
NightWhistler/PageTurner,closed,Added Slovene and updated Italian,[],"I have added the Slovene strings and added the Slovene language in all the existing languages.
The Italian translation was outdated, so I fixed it.
"
NightWhistler/PageTurner,closed,How does the dual licensing work for commercial apps based on PageTurner?,[],"Hi,
Most of the codes of PageTurner is GPL-ed, where as the contributed codes are supposed to be Apache licensed. Please clarify how it works for closed source apps based on PageTurner source code. Does it have to open source modifications? Or only the base source code from PageTurner? 

Best regards,
 M.
"
NightWhistler/PageTurner,open,"When fullscreen, a fullscreen link can completely hijack session",[],"The book I'm reading has a page that has a URL link that fills the entire page. I only have tapping to advance the page turned on, all other page advance gestures are off. It is very hard for me to get the main menu to pop up because whenever I tap, it opens the URL instead of opening the menu.

Device: Nexus 9
Android: 5.1.1
Build number: LMY48M
"
NightWhistler/PageTurner,open,"Add the author to hamburger menu ""Reading now:""","[Label(name=""Usability issue"")]","When you're reading a book and you open the hamburger menu the title of the book you're reading is displayed. Please add the author's name.
"
NightWhistler/PageTurner,open,perf,[],"  We are working on a project called PersisDroid (http://www.cudroid.com/PersisDroid/) for detecting potential performance issues. Our tool could find performance degradation caused by improper usage of asynchronous executions.
  We find that in some cases your app may suffer a long processing delay.

  Case 1:
  **Related source code** Class: [LoadOPDSTask](https://github.com/NightWhistler/PageTurner/blob/master/src/net/nightwhistler/pageturner/catalog/LoadOPDSTask.java) Method: [doInBackground](https://github.com/NightWhistler/PageTurner/blob/master/src/net/nightwhistler/pageturner/catalog/LoadOPDSTask.java#L83)
  **Circumstance** Sometimes the network condition is poor. The user may switch activity before the OPDSfeed is obtained. The operation of request the feed should be cancelled as soon as possible.
  **Problem** Some network request AsyncTasks are already cancelled but they are not stop immediately. These tasks may consume unnecessary network resource. 
  **Suggested modification** Check one more time whether the task is cancelled after the second network request via _isCancelled()_ method.

  Case 2:
  **Related source code** Class: [ReadingFragment](https://github.com/NightWhistler/PageTurner/blob/master/src/net/nightwhistler/pageturner/fragment/ReadingFragment.java) Method: [sendProgressUpdateToServer](https://github.com/NightWhistler/PageTurner/blob/master/src/net/nightwhistler/pageturner/fragment/ReadingFragment.java#L2716)
  **Circumstance** The progress update sometimes delays too long to send to the server, which may cause the progress incorrect on next loading. 
  **Problem** All the background works share one handler (_backgroundHandler). The background tasks are posted on one handler which means they have to run sequentially if multiple tasks are invoked simultaneously. 
  *_Suggested modification*\* Use a separate handler for progress updating.
"
NightWhistler/PageTurner,open,Material design?,[],"Hello
any update about material design?
"
NightWhistler/PageTurner,open,Wikipedia and wiktionary don't work,[],"I upgraded and made the donation for the starred version. My Wiktionary Wikipedia is not working
"
NightWhistler/PageTurner,open,Incompatibility with Google's AppCompat library,[],"Hi, 
- I have been eyeing to use **PageTurner** in a closed-source app (after purchasing a license, of course). 
- The problem is i have many (~10) other library projects which my app is using, including google's **AppCompatV7**. 
- I converted PageTurner to a library module and added it as a dependency to my app.
- I noticed that PageTurner uses **ActionBarSherlock** (which is [now deprecated](http://jakewharton.com/deprecated-from-inception/), btw. Any plans on refactoring and upgrading to google's appcompat?). The attributes in **ActionBarSherlock**'s _abs_attrs.xml_ file in the library conflicts with the attributes in _attrs.xml_ of the **AppCompatV7**, due to which i cannot compile my project.
- I have tried re-arranging dependencies, renaming attributes and a few other things but i couldn't come around to solve the problem. 
- I would be very disappointed if i can't use this library because of this lil problem. Have any of your users faced this problem before? Do you have any suggestions/solutions? Hope i was clear about the problem.

This is the kind of conflict errors i get when i build my project which refers(depends upon) to **AppCompatV7**  and **PageTurner>**(or any other _library project_ which has **ActionBarSherlock** as a dependency)

> Error:Attribute ""titleTextStyle"" has already been defined
> Error:Attribute ""subtitleTextStyle"" has already been defined
> Error:Attribute ""divider"" has already been defined
> Error:Attribute ""background"" has already been defined
> Error:Attribute ""backgroundSplit"" has already been defined
> Error:Attribute ""navigationMode"" has already been defined
> Error:Attribute ""displayOptions"" has already been defined
> Error:Attribute ""title"" has already been defined
> Error:Attribute ""subtitle"" has already been defined
> Error:Attribute ""icon"" has already been defined
> Error:Attribute ""logo"" has already been defined
> Error:Attribute ""backgroundStacked"" has already been defined
> Error:Attribute ""customNavigationLayout"" has already been defined
> Error:Attribute ""homeLayout"" has already been defined
> Error:Attribute ""progressBarStyle"" has already been defined
> Error:Attribute ""indeterminateProgressStyle"" has already been defined
> Error:Attribute ""progressBarPadding"" has already been defined
> Error:Attribute ""itemPadding"" has already been defined
> Error:Attribute ""initialActivityCount"" has already been defined
> Error:Attribute ""expandActivityOverflowButtonDrawable"" has already been defined
> Error:Attribute ""preserveIconSpacing"" has already been defined
> Error:Attribute ""iconifiedByDefault"" has already been defined
> Error:Attribute ""queryHint"" has already been defined
> Error:Attribute ""windowActionBar"" has already been defined
> Error:Attribute ""windowActionBarOverlay"" has already been defined
> Error:Attribute ""windowActionModeOverlay"" has already been defined
> Error:Attribute ""actionBarTabStyle"" has already been defined
> Error:Attribute ""actionBarTabBarStyle"" has already been defined
> Error:Attribute ""actionBarTabTextStyle"" has already been defined
> Error:Attribute ""actionOverflowButtonStyle"" has already been defined
> Error:Attribute ""actionBarStyle"" has already been defined
> Error:Attribute ""actionBarSplitStyle"" has already been defined
> Error:Attribute ""actionBarWidgetTheme"" has already been defined
> Error:Attribute ""actionBarSize"" has already been defined
> Error:Attribute ""actionBarDivider"" has already been defined
> Error:Attribute ""actionBarItemBackground"" has already been defined
> Error:Attribute ""actionMenuTextAppearance"" has already been defined
> Error:Attribute ""actionMenuTextColor"" has already been defined
> Error:Attribute ""actionModeStyle"" has already been defined
> Error:Attribute ""actionModeCloseButtonStyle"" has already been defined
> Error:Attribute ""actionModeBackground"" has already been defined
> Error:Attribute ""actionModeSplitBackground"" has already been defined
> Error:Attribute ""actionModeCloseDrawable"" has already been defined
> Error:Attribute ""actionModeShareDrawable"" has already been defined
> Error:Attribute ""actionModePopupWindowStyle"" has already been defined
> Error:Attribute ""textAppearanceLargePopupMenu"" has already been defined
> Error:Attribute ""textAppearanceSmallPopupMenu"" has already been defined
> Error:Attribute ""actionDropDownStyle"" has already been defined
> Error:Attribute ""dropdownListPreferredItemHeight"" has already been defined
> Error:Attribute ""spinnerDropDownItemStyle"" has already been defined
> Error:Attribute ""homeAsUpIndicator"" has already been defined
> Error:Attribute ""actionButtonStyle"" has already been defined
> Error:Attribute ""selectableItemBackground"" has already been defined
> Error:Attribute ""dividerVertical"" has already been defined
> Error:Attribute ""activityChooserViewStyle"" has already been defined
> Error:Attribute ""popupMenuStyle"" has already been defined
> Error:Attribute ""textAppearanceSearchResultTitle"" has already been defined
> Error:Attribute ""textAppearanceSearchResultSubtitle"" has already been defined
> Error:Attribute ""textColorSearchUrl"" has already been defined
> Error:Attribute ""listPreferredItemHeightSmall"" has already been defined
> Error:Attribute ""listPreferredItemPaddingLeft"" has already been defined
> Error:Attribute ""listPreferredItemPaddingRight"" has already been defined
> Error:Attribute ""dropDownListViewStyle"" has already been defined
> Error:Attribute ""listPopupWindowStyle"" has already been defined
> Error:Attribute ""textAppearanceListItemSmall"" has already been defined
"
NightWhistler/PageTurner,closed,Update strings.xml,[],"""Android Market"" is outdated. It's better to use ""Google Play Store"" instead.
"
NightWhistler/PageTurner,closed,Add Dutch translation improvements,[],"Made some Dutch translation improvements.
"
NightWhistler/PageTurner,closed,Improve book import dialog,[],"The dialog now has the folder selection disabled when the option doesn't apply. This way the process should be more straightforward.
"
NightWhistler/PageTurner,open,full screen mode loses the bottom line.,"[Label(name=""Bug"")]","Reported on both Android 5 and 4.4
"
NightWhistler/PageTurner,open,"Standardise indentation, closes #573, add style note to README",[],"This was done via macros but it looks OK to me at a once-over, it should
be possible to change anything that seems wrong.

Indents are 4 spaces, as requested. All tabs removed.

Multiline argument lists are indented two levels beneath the function
definition or call.

Opening braces haven't been moved to the same line as the defining
function if they weren't already there. There seem to be relatively few
of these anyhow.

For the record, the output of this is emacs' standard java-mode
indentation with the following hook set:

> ; Don't indent argument lists aggressively in Java
> (add-hook 'java-mode-hook '(lambda ()
>     (c-set-offset 'arglist-intro '+)
>          (c-set-offset 'arglist-cont-nonempty '++)
>          ))

... which is hopefully fairly similar to what IntelliJ does.
"
NightWhistler/PageTurner,closed,Add justification,"[Label(name=""Improvement"")]","Looks like this project should handle it nicely: https://github.com/bluejamesbond/TextJustify-Android
"
NightWhistler/PageTurner,open,Code indenting,[],"This is a really minor thing, but I noticed the code indenting is inconsistent in various parts of the PageTurner codebase. I may be one of the worst offenders, I think the code I contributed for Nook support is all indented differently to the rest of PageTurner!

Is there a canonical indentation style that you'd like used? I'd be happy to submit a PR which standardises indentation, if that's of any assistance.
"
NightWhistler/PageTurner,closed,"Remember ""Scan for Books"" dialog settings",[],"Hi Alex,

Thanks again for all your work on PageTurner. I really appreciate the UI improvements that have come over the last year or so, I find the UI very convenient now (I still regularly use PageTurner on my Nook Touch & on my Nexus 4).

This is a small PR for a minor usability thing, to remember the choices in the scan dialog so you don't have to re-type them each time. I think many people probably regularly important from the same place, I know I do, so it seemed useful to record those settings. Original commit message follows.

Let me know if you need me to make any adjustments to this.

Cheers,

Angus

---

When scanning, the choices you made in the dialog are saved for next
time.

Defaults are the same, except for Nook Touch which now defaults to
""/media"" for the custom scan path (this is the internal storage, made
available via USB, etc.)

The ""Copy to Library"" option is now updated when you scan, or when you
change it in the Preferences (changing in the preferences may be
necessary if you only download or Open books rather than scanning for
them).
"
NightWhistler/PageTurner,closed,epublib errors building current version,[],"Thanks for all your work on PageTurner, the updates in the past twelve months have been excellent.

I'm having a small problem. Building against the current master (d9fc355) I get the following:

```
/home/gus/dev/PageTurner/src/net/nightwhistler/pageturner/view/bookview/TextLoader.java:370: error: cannot find symbol
            res = new Resource( this.currentFile, res.getSize(), res.getOriginalHref() );
                                                                    ^
  symbol:   method getOriginalHref()
  location: variable res of type Resource
/home/gus/dev/PageTurner/src/net/nightwhistler/pageturner/view/bookview/EpubFontResolver.java:67: error: cannot find symbol
        Resource res = textLoader.getCurrentBook().getResources().getByFileName( resourceHRef );
                                                                 ^
  symbol:   method getByFileName(String)
  location: class Resources
```

I think the classes with the missing methods are `nl.siegmann.epublib.domain.Resource` & `nl.siegmann.epublib.domain.Resources`. As far as I can tell these methods don't exist in the 3.1 release or the current git master of epublib-core?

Is there an easy way around this that I'm missing? (I'm not very savvy with Java.)

Thanks!
"
NightWhistler/PageTurner,closed,Implement fallback for config dir,"[Label(name=""Improvement"")]","We switched over to the new config dir (/data/net.nightwhistler.pageturner/..) but this means that existing users now have their stuff distributed in 2 places.

It's better to make this smarter and work like this:
- if the old location exists, use that
- otherwise use the new location
"
NightWhistler/PageTurner,open,TTS stops on certain characters,"[Label(name=""Bug"")]"," It would seem that when PT encounters text in double backticks i.e. ""' or '"" it stops the text to speech output and wont start again until i move to the next page.
"
NightWhistler/PageTurner,closed,I would add to what libraries  for page turner ,[],"I am  a new developer android. ı con not run page turner project.please help. What should I do first.
"
NightWhistler/PageTurner,closed,How to integrate pagetunner project in eclipse,[],"I am finding problem in integrating the project in eclipse.
I like known the reference jar and library project used.
I am using jdk1.7 some of the code are showing syntax  error.
"
NightWhistler/PageTurner,closed,page turner ı dont run,[],"page turner ı dont run pşease help.
I trying run this project but ı dont work please .how ı can run this project.explain step by step. ı using windows8 operatin system.
"
NightWhistler/PageTurner,closed,Can't delete bookmarks,[],
NightWhistler/PageTurner,open,covers not displayed ,"[Label(name=""Bug"")]","In the current dev version a lot of books don't display a cover.
"
NightWhistler/PageTurner,open,OPDS over HTTPS,[],"Add the following OPDS feed:
https://mylittleserver.nl/opds/

Expected behaviour:
Able to browse the feed without any errors in a secure and private manner.

Actual behaviour:
Unable to browse the feed. The following error is given: `No peer certificate`.

Additional information:
It is possible to view the above feed if ""accept self-signed certificates"" is checked. (note: the used cert is not self-signed, this should not be needed)
Viewing above feed using the android web browser works fine.
Android version: Stock 4.4.2
"
NightWhistler/PageTurner,open,Migrating Old Version to New Version,[],"Hi, I'm using an old version (two years ago) this awesome library. In my current project it's working. But I need to parse CSS Styles e want to update the library PageTurner in my project to achieve new features.
I have a ReaderActivity that it's using ""findFragmentById(R.id.fragment_reading)"". In ''fragment_reading"" instancing ""net.nightwhistler.pageturner.activity.ReadingFragment"". 

Now, the structure has changed a lot. Try to find the ReadingFragment, but not exist more.
Please, I need your help!

My environment is a Mac OS + ADT Eclipse + java 7 compiler
"
NightWhistler/PageTurner,closed,closing search in the library doesn't work,"[Label(name=""Bug"")]","If you open the search in the library and then try to close it with the back button, you get stuck.
"
NightWhistler/PageTurner,open,Incorrect rendering,[],"When reading a book using a table I noticed a rendering error. Also, for the same page there is no spacing between the words and textyles when using span.
## Actual outcome

Following are three screenshots; PageTurner (Pro), Onyx NeoReader on an Onyx T68 and the expected as rendered using webkit.
### PageTurner

![PageTurner Pro](https://cloud.githubusercontent.com/assets/1894/4739418/85c192dc-5a04-11e4-9269-2e4eb60575de.JPG)
### Onyx NeoReader

![Onyx NeoReader](https://cloud.githubusercontent.com/assets/1894/4739417/85adb316-5a04-11e4-8f2e-2ec624a40069.JPG)
## Expected outcome

![expected](https://cloud.githubusercontent.com/assets/1894/4740125/60fe5344-5a0a-11e4-894e-e54993dcff4e.png)
## Steps to reproduce

I have [included a gist](https://gist.github.com/gbraad/9ae58142919b79964f82) containing an edited section of the first chapter and first character as shown in the photos; the document is mostly unchanged besides inlining the style into the header.
"
NightWhistler/PageTurner,open,Add option to only sync manually,"[Label(name=""Improvement"")]","Add an option to the preferences that makes the sync only triggered manually.

> ...I would like to restrict the sync function to only be
> performed by the manual button.  (...) My ideal situation
> would be to restrict syncing only to the manual button press on my
> Nook. Then when I wish to sync after reading for a while, I can
> connect to wifi and press the sync button.  
"
NightWhistler/PageTurner,open,"Can't load image shows ""obj"" only","[Label(name=""Bug"")]","In case of books with images , images are not loaded instead ""OBJ"" is only shown. Having big problem with this issue.
"
NightWhistler/PageTurner,open,Can't download book,[],"When I go to feedbooks, search for a book, tap it, it goes to list with only it available, and when I tap it again it goes to a blank screen, and goes back to books by the author.

It's giving these errors at logcat:

```
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): sent command: cmd = 5
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 53
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 57
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 3
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 62
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 3
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 38
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 58
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 57
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 3
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 60
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 53
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 40
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 57
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 58
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/IMGSRV  (  148): :0: PVRDRMOpen: TP3, ret = 40
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): executing DPST command
E/dpstmrg:(  153): sent command: cmd = 3
E/dpstmrg:(  153): sent command: cmd = 5
E/dpstmrg:(  153): sent command: cmd = 6
E/dpstmrg:(  153): sent command: cmd = 5
```
"
NightWhistler/PageTurner,closed,#555 - BookView get scrolled and text get cut off,[],"- A lot of space at the end of page cause InnerView's size changed 
  --> InnerView get scrolled and text get cut off
"
NightWhistler/PageTurner,closed,BookView get scrolled and text get cut off,[],"Hi,

You can see at the right side with scrollbar and text on top get cut off

![screenshot_2014-06-25-23-52-52](https://cloud.githubusercontent.com/assets/1703179/3392362/a9a0bd26-fcb3-11e3-8862-bda5ded5927e.png)

Cheers
"
NightWhistler/PageTurner,closed,Fix for other uses of deprecated URLDecoder.decode method,[],"Its the same issue as #552; I'll like to have my name as the fixer again :)
"
NightWhistler/PageTurner,closed,#552 fix for use of URLDecoder.decode() with deprecated signature,[],"Honestly, I thought this was going to be a one line fix.  
I added a field to the `ResourceLoader` class so that I wouldn't have to change the signature of `ResourceLoader.registerCallback()`. I also removed some unused imports
"
NightWhistler/PageTurner,closed,Deprecated URLDecoder.decode called in ResourceLoader class,[],"Line 122 in ResourceLoader.java:
`holder.href = URLDecoder.decode(forHref);`

`URLDecoder.decode(String s)` is deprecated. The method should be swapped with `URLDecoder.decode(String s, String enc)`. Its just a one line fix. Do I make a pull?
"
NightWhistler/PageTurner,open,Disable transparancy on e-ink devices,"[Label(name=""Improvement"")]","When running on an e-ink device, transparent overlays should not be used.
"
NightWhistler/PageTurner,open,Create shortcuts on the desktop,"[Label(name=""Improvement"")]","Allow the user to create a desktop shortcut to a specific book they are reading.
"
NightWhistler/PageTurner,closed,Can't open files with # in the filename,"[Label(name=""Bug"")]","Makes the app switch back to the library
"
NightWhistler/PageTurner,open,Allow Nook fonts to be used,"[Label(name=""Improvement"")]","> Why cant PT use the onboard fonts that the Nook provides? Are they non-Android fonts? The Nook comes with Caeilia, Malabar, Amasis, gill Sans, Helvetica neue and Trebuchet. 
"
NightWhistler/PageTurner,closed,NPE while opening book,"[Label(name=""Bug"")]","> java.lang.NullPointerException
>     at net.nightwhistler.pageturner.activity.LibraryFragment.openBook(LibraryFragment.java:359)
>     at net.nightwhistler.pageturner.activity.LibraryFragment.onItemClick(LibraryFragment.java:240)
>     at net.nightwhistler.pageturner.activity.LibraryFragment$BookCaseAdapter$1.onClick(LibraryFragment.java:1084)
>     at android.view.View.performClick(View.java:3511)
>     at android.view.View$PerformClick.run(View.java:14105)
>     at android.os.Handler.handleCallback(Handler.java:605)
>     at android.os.Handler.dispatchMessage(Handler.java:92)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4436)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,open,Crash while adding highlights,"[Label(name=""Bug"")]","> java.lang.IndexOutOfBoundsException: setSpan (44312 ... 44316) ends beyond length 27197
>     at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1016)
>     at android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:592)
>     at android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:588)
>     at net.nightwhistler.pageturner.view.bookview.ScrollingStrategy.addHighlights(ScrollingStrategy.java:167)
>     at net.nightwhistler.pageturner.view.bookview.ScrollingStrategy.updateGUI(ScrollingStrategy.java:118)
>     at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.doOnPostExecute(BookView.java:1553)
>     at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.doOnPostExecute(BookView.java:1439)
>     at net.nightwhistler.pageturner.scheduling.QueueableAsyncTask.onPostExecute(QueueableAsyncTask.java:56)
>     at android.os.AsyncTask.finish(AsyncTask.java:632)
>     at android.os.AsyncTask.access$600(AsyncTask.java:177)
>     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:645)
>     at android.os.Handler.dispatchMessage(Handler.java:102)
>     at android.os.Looper.loop(Looper.java:136)
>     at android.app.ActivityThread.main(ActivityThread.java:5017)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:515)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,open,NPE in LoadBooksTask,"[Label(name=""Bug"")]","> java.lang.NullPointerException
>     at net.nightwhistler.pageturner.activity.LibraryFragment$LoadBooksTask.doOnPostExecute(LibraryFragment.java:1314)
>     at net.nightwhistler.pageturner.activity.LibraryFragment$LoadBooksTask.doOnPostExecute(LibraryFragment.java:1250)
>     at net.nightwhistler.pageturner.scheduling.QueueableAsyncTask.onPostExecute(QueueableAsyncTask.java:56)
>     at android.os.AsyncTask.finish(AsyncTask.java:602)
>     at android.os.AsyncTask.access$600(AsyncTask.java:156)
>     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:615)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4517)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,FileDecriptor must not be null,"[Label(name=""Bug"")]","> java.lang.NullPointerException: FileDescriptor must not be null
>     at android.os.Parcel.readException(Parcel.java:1471)
>     at android.os.Parcel.readException(Parcel.java:1419)
>     at android.speech.tts.ITextToSpeechService$Stub$Proxy.synthesizeToFileDescriptor(ITextToSpeechService.java:321)
>     at android.speech.tts.TextToSpeech$12.run(TextToSpeech.java:1284)
>     at android.speech.tts.TextToSpeech$12.run(TextToSpeech.java:1269)
>     at android.speech.tts.TextToSpeech$Connection.runAction(TextToSpeech.java:1595)
>     at android.speech.tts.TextToSpeech.runAction(TextToSpeech.java:629)
>     at android.speech.tts.TextToSpeech.runAction(TextToSpeech.java:619)
>     at android.speech.tts.TextToSpeech.synthesizeToFile(TextToSpeech.java:1269)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.streamPartToDisk(ReadingFragment.java:733)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.access$2300(ReadingFragment.java:100)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$StreamToDiskRunnable.run(ReadingFragment.java:685)
>     at java.lang.Thread.run(Thread.java:811)
"
NightWhistler/PageTurner,closed,ArrayIndexOutOfBoundsException,[],"> java.lang.ArrayIndexOutOfBoundsException: length=1012; index=1012
>     at android.text.MeasuredText.addStyleRun(MeasuredText.java:170)
>     at android.text.MeasuredText.addStyleRun(MeasuredText.java:204)
>     at android.text.StaticLayout.generate(StaticLayout.java:281)
>     at android.text.DynamicLayout.reflow(DynamicLayout.java:284)
>     at android.text.DynamicLayout.<init>(DynamicLayout.java:170)
>     at android.widget.TextView.makeSingleLayout(TextView.java:5843)
>     at android.widget.TextView.makeNewLayout(TextView.java:5741)
>     at android.widget.TextView.checkForRelayout(TextView.java:6280)
>     at android.widget.TextView.setText(TextView.java:3547)
>     at android.widget.TextView.setText(TextView.java:3405)
>     at android.widget.TextView.setText(TextView.java:3380)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.updatePosition(FixedPagesStrategy.java:215)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.pageDown(FixedPagesStrategy.java:346)
>     at net.nightwhistler.pageturner.view.bookview.BookView.pageDown(BookView.java:499)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.pageDown(ReadingFragment.java:2177)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.onTapRightEdge(ReadingFragment.java:2622)
>     at net.nightwhistler.pageturner.view.NavGestureDetector.onSingleTapUp(NavGestureDetector.java:98)
>     at android.view.GestureDetector.onTouchEvent(GestureDetector.java:569)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$4.onTouch(ReadingFragment.java:447)
"
NightWhistler/PageTurner,closed,IndexOutOfBoundsException,"[Label(name=""Bug"")]","> java.lang.IndexOutOfBoundsException: getChars (10018 ... 11777) ends beyond length 8524
>     at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:945)
>     at android.text.SpannableStringBuilder.getChars(SpannableStringBuilder.java:839)
>     at android.text.TextUtils.getChars(TextUtils.java:70)
>     at android.text.SpannableStringBuilder.<init>(SpannableStringBuilder.java:58)
>     at android.text.SpannableStringBuilder.subSequence(SpannableStringBuilder.java:831)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.getTextForPage(FixedPagesStrategy.java:233)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.updatePosition(FixedPagesStrategy.java:215)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.pageDown(FixedPagesStrategy.java:346)
>     at net.nightwhistler.pageturner.view.bookview.BookView.pageDown(BookView.java:499)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.pageDown(ReadingFragment.java:2189)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.onSwipeDown(ReadingFragment.java:2524)
>     at net.nightwhistler.pageturner.view.NavGestureDetector.onFling(NavGestureDetector.java:158)
>     at android.view.GestureDetector.onTouchEvent(GestureDetector.java:579)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$4.onTouch(ReadingFragment.java:447)
"
NightWhistler/PageTurner,open,StringIndexOutOfBounds,"[Label(name=""Bug"")]","> java.lang.StringIndexOutOfBoundsException: length=31; regionStart=432; regionLength=721
>     at java.lang.String.startEndAndLength(String.java:593)
>     at java.lang.String.substring(String.java:1474)
>     at android.text.SpannableStringInternal.<init>(SpannableStringInternal.java:30)
>     at android.text.SpannableString.<init>(SpannableString.java:34)
>     at android.text.SpannableString.subSequence(SpannableString.java:54)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.getTextForPage(FixedPagesStrategy.java:233)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.updatePosition(FixedPagesStrategy.java:215)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.pageDown(FixedPagesStrategy.java:346)
>     at net.nightwhistler.pageturner.view.bookview.BookView.pageDown(BookView.java:499)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.pageDown(ReadingFragment.java:2177)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.onTapRightEdge(ReadingFragment.java:2622)
>     at net.nightwhistler.pageturner.view.NavGestureDetector.onSingleTapUp(NavGestureDetector.java:98)
"
NightWhistler/PageTurner,closed,NullPointer in BookmarkFragment,"[Label(name=""Bug"")]","> java.lang.NullPointerException
>     at net.nightwhistler.pageturner.activity.AddBookmarkFragment.handleAction(AddBookmarkFragment.java:112)
>     at net.nightwhistler.pageturner.activity.AddBookmarkFragment$1.onClick(AddBookmarkFragment.java:85)
>     at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:167)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4921)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1038)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:805)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,open,Books not opening,"[Label(name=""Bug"")]","From the Google Play comments:

> have a note 8.0. Glitches when you try and open epubs. Goes back to bookshelf without opening. 
"
NightWhistler/PageTurner,open,Text is rendered beyond the page end,"[Label(name=""Bug"")]","When CSS is enabled and there are different font sizes on the page, it can happen that the last line is not rendered correctly (it falls off the page)
"
NightWhistler/PageTurner,open,Bad performance on KitKat,"[Label(name=""Bug"")]","> PageTurner is behaving badly with CM11 KitKat,  before this I had JB 4.2.2, the app
> was stable then,  plz fix whatever the problem is. It
> is taking much more time to load & sometimes loads the text or
> crashes. Ive sent the report. Ive Galaxy S2 GT-i9100 Intl. 
> 
> I forgot 1 point to add, that PageTurner gives problem only with big chapters. I use the web browser type scrolling mode & I am currently reading Hyperion whose single chapter is very big,  so PageTurner behaves abnormally there.. 

Sounds like some kind of memory issue?
"
NightWhistler/PageTurner,open,Fullscreen not working properly on KitKat,"[Label(name=""Bug"")]","It seems the full-screen mode doesn't always work well on Android KitKat... seen on a Galaxy S2.
"
NightWhistler/PageTurner,open,Add support for footnotes,"[Label(name=""Improvement"")]","From the forums:

> When he tapped on a link to a footnote reference, it displayed the footnote text in what looked like a pop-up window
> ...
> I gotta say, the pop-up display was very cool. Looking at the raw code of the epub, I can see where the links to the footnote references are coded as:

`<a epub:type=""noteref"" href=""#citationxx"">link text</a>`

> Then the footnote text is coded as:

`<aside epub:type=""footnote""><div epub:type=""footnote"" id=""citationxx""><p>reference text blah blah blah</p></div></aside>`

> Evidently, these tags are what are described here:

http://www.idpf.org/accessibility/guidelines/content/xhtml/notes.php

> The reading experience was really nice with the pop-up windows. Any chance of doing something similar with PageTurner?
"
NightWhistler/PageTurner,open,Add a visual indicator for bookmarked pages,"[Label(name=""Improvement"")]",
NightWhistler/PageTurner,open,Detect DRM-encumbered books,"[Label(name=""Improvement"")]","If a book uses DRM, we should give an error message instead of trying to open it.
"
NightWhistler/PageTurner,open,Low speed of PageTurner,"[Label(name=""Bug"")]","I've downloaded Molana poems in epub format from http://epub.ganjoor.net/ http://i.ganjoor.net/epub/mvlvi.epub

When I navigate through the book, the PageTurner is very very slow.
"
NightWhistler/PageTurner,open,Connect with Goodreads: Send notes as status updates to Goodreads,"[Label(name=""Improvement"")]",
NightWhistler/PageTurner,open,Create a cover carousel library view ,"[Label(name=""Improvement"")]",
NightWhistler/PageTurner,open,Show a book's progress in the library ,"[Label(name=""Improvement"")]",
NightWhistler/PageTurner,open,Investigate options to connect with Bol.com ,"[Label(name=""Improvement"")]",
NightWhistler/PageTurner,closed,Don't background load cached text,"[Label(name=""Improvement"")]","If the text to load is already cached, it just feels slow to load it in the background... load it on the UI thread instead.

This is also a good step toward loading the next chapter in the background while reading the current one.
"
NightWhistler/PageTurner,open,Investigate options for connecting with the Hive network,"[Label(name=""Improvement"")]","http://www.hive.co.uk/about-us/
"
NightWhistler/PageTurner,closed,Update ad-supported version to use advertising ID,[],"http://developer.android.com/google/play-services/id.html
"
NightWhistler/PageTurner,open,No sharing option in android 2.33,[],"no option for selecting text and starting SEND intent in android 2.3.3.
can you provide me the code for doing this job.

waiting for replay..
"
NightWhistler/PageTurner,open,Show current position in the TOC,"[Label(name=""Improvement"")]","When the table of contents is shown on the left, it would be useful to put a marker in front of the current position in the book.
"
NightWhistler/PageTurner,open,Zero-length spans,"[Label(name=""Bug"")]","Might be a HtmlSpanner issue. 

While rendering there are error messages indicating that spans with length 0 are being created. This could cause rendering issues.
"
NightWhistler/PageTurner,open,Images inside tables are not loaded,"[Label(name=""Bug"")]","Most likely an ordering problem: the table is rendered before the images finish loading.
"
NightWhistler/PageTurner,open,Opening books from a file manager is broken,"[Label(name=""Bug"")]","If the reader was previously in the library or the download section, that activity will be opened instead of the reading screen.
"
NightWhistler/PageTurner,open,Jenkins is down,"[Label(name=""Task"")]","Since migrating to the new dev server, Jenkins is no longer reachable from the outside.
"
NightWhistler/PageTurner,closed,Swipe to open navbar doesn't work,"[Label(name=""Bug"")]","It only works in the reading screen, not in the bookcase or download screen
"
NightWhistler/PageTurner,open,Update library for each book found,"[Label(name=""Improvement"")]","When doing a silent background scan for each book found do a toast notification and update the book list.
"
NightWhistler/PageTurner,open,CSS rendering issues,"[Label(name=""Bug"")]","This book

http://www.gutenberg.org/ebooks/28885.epub.images

has some severe rendering issues
"
NightWhistler/PageTurner,open,Improve navigation,"[Label(name=""Improvement"")]","Right now ""download books"" is presented as a 3rd part of the app, but it's really just another way to add books.

In the library, there should be a menu item ""add books"", which allows 3 options: ""Pick epub file"", ""Scan folder"" and ""Download books""
"
NightWhistler/PageTurner,closed,Sync broken in Ad-supported version,"[Label(name=""Bug"")]","There is a merge error in the current ad-supported version, which breaks the sync.
"
NightWhistler/PageTurner,open,Show pagenumbers while dragging the position slider,"[Label(name=""Improvement"")]","It makes it easier to navigate to a page, and it should not be hard to calculate the page for each position.
"
NightWhistler/PageTurner,open,Add header,"[Label(name=""Improvement"")]","Add an optional header with the book title and percentage for full-screen mode.

This allows some meta-data without tapping the screen.
"
NightWhistler/PageTurner,closed,NPE on starting download,"[Label(name=""Bug"")]","> java.lang.RuntimeException: Unable to start activity ComponentInfo{net.nightwhistler.pageturner.ads/net.nightwhistler.pageturner.activity.CatalogBookDetailsActivity}: java.lang.NullPointerException
>     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1658)
>     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1674)
>     at android.app.ActivityThread.access$1500(ActivityThread.java:117)
>     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:942)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:130)
>     at android.app.ActivityThread.main(ActivityThread.java:3733)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:507)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:931)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:689)
>     at dalvik.system.NativeStart.main(Native Method)
> Caused by: java.lang.NullPointerException
>     at net.nightwhistler.pageturner.catalog.BookDetailsFragment.startDownload(BookDetailsFragment.java:278)
>     at net.nightwhistler.pageturner.activity.CatalogBookDetailsActivity.onCreatePageTurnerActivity(CatalogBookDetailsActivity.java:59)
>     at net.nightwhistler.pageturner.activity.PageTurnerActivity.onCreate(PageTurnerActivity.java:91)
>     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
>     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1622)
>     ... 11 more
> java.lang.NullPointerException
>     at net.nightwhistler.pageturner.catalog.BookDetailsFragment.startDownload(BookDetailsFragment.java:278)
>     at net.nightwhistler.pageturner.activity.CatalogBookDetailsActivity.onCreatePageTurnerActivity(CatalogBookDetailsActivity.java:59)
>     at net.nightwhistler.pageturner.activity.PageTurnerActivity.onCreate(PageTurnerActivity.java:91)
>     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
>     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1622)
>     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1674)
>     at android.app.ActivityThread.access$1500(ActivityThread.java:117)
>     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:942)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:130)
>     at android.app.ActivityThread.main(ActivityThread.java:3733)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:507)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:931)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:689)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,IllegalArgumentException on notification,"[Label(name=""Bug"")]","> java.lang.IllegalArgumentException: contentIntent required: pkg=net.nightwhistler.pageturner.ads id=674250478 notification=Notification(vibrate=null,sound=null,defaults=0x0,flags=0x10)
>     at android.os.Parcel.readException(Parcel.java:1326)
>     at android.os.Parcel.readException(Parcel.java:1276)
>     at android.app.INotificationManager$Stub$Proxy.enqueueNotificationWithTag(INotificationManager.java:322)
>     at android.app.NotificationManager.notify(NotificationManager.java:111)
>     at android.app.NotificationManager.notify(NotificationManager.java:91)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.errorOnBookOpening(ReadingFragment.java:1599)
>     at net.nightwhistler.pageturner.view.bookview.BookView.errorOnBookOpening(BookView.java:1031)
>     at net.nightwhistler.pageturner.view.bookview.BookView.access$1700(BookView.java:81)
>     at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.doOnPostExecute(BookView.java:1413)
>     at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.doOnPostExecute(BookView.java:1263)
>     at net.nightwhistler.pageturner.scheduling.QueueableAsyncTask.onPostExecute(QueueableAsyncTask.java:56)
>     at android.os.AsyncTask.finish(AsyncTask.java:417)
>     at android.os.AsyncTask.access$300(AsyncTask.java:127)
>     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:123)
>     at android.app.ActivityThread.main(ActivityThread.java:3687)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:507)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Sync-url not working,"[Label(name=""Bug"")]","Right now, there is always a / added to the sync-url, but the default already contains a /, causing the sync to give 404 errors.
"
NightWhistler/PageTurner,closed,Circular navigation inside books,"[Label(name=""Bug"")]","See http://www.pageturner-reader.org/forums/topic/circular-navigation/
"
NightWhistler/PageTurner,open,Buying books in Smashwords is broken,"[Label(name=""Bug"")]","It just takes the user around and around forever
"
NightWhistler/PageTurner,open,Receiver not registered,"[Label(name=""Bug"")]","> java.lang.IllegalArgumentException: Receiver not registered: net.nightwhistler.pageturner.activity.ReadingFragment$PageTurnerMediaReceiver@40922298
>     at android.app.LoadedApk.forgetReceiverDispatcher(LoadedApk.java:641)
>     at android.app.ContextImpl.unregisterReceiver(ContextImpl.java:914)
>     at android.content.ContextWrapper.unregisterReceiver(ContextWrapper.java:362)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.unsubscribeFromMediaButtons(ReadingFragment.java:878)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.stopTextToSpeech(ReadingFragment.java:947)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.access$2400(ReadingFragment.java:103)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$6.run(ReadingFragment.java:704)
>     at android.os.Handler.handleCallback(Handler.java:618)
>     at android.os.Handler.dispatchMessage(Handler.java:123)
>     at android.os.Looper.loop(SourceFile:351)
>     at android.app.ActivityThread.main(ActivityThread.java:3833)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:538)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:901)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:659)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,open,IndexOutOfBounds on text selection,"[Label(name=""Bug"")]","Mostly seems to happen on Android 3:

> java.lang.NullPointerException
>     at net.nightwhistler.pageturner.PlatformUtil.isIntentAvailable(PlatformUtil.java:55)
>     at net.nightwhistler.pageturner.activity.LibraryFragment.onCreateOptionsMenu(LibraryFragment.java:518)
>     at android.support.v4.app.Watson.onCreatePanelMenu(Watson.java:56)
>     at com.actionbarsherlock.ActionBarSherlock.callbackCreateOptionsMenu(ActionBarSherlock.java:559)
>     at com.actionbarsherlock.internal.ActionBarSherlockCompat.preparePanel(ActionBarSherlockCompat.java:479)
>     at com.actionbarsherlock.internal.ActionBarSherlockCompat.dispatchInvalidateOptionsMenu(ActionBarSherlockCompat.java:272)
>     at com.actionbarsherlock.app.SherlockFragmentActivity.invalidateOptionsMenu(SherlockFragmentActivity.java:150)
>     at net.nightwhistler.pageturner.activity.PageTurnerActivity.onDrawerClosed(PageTurnerActivity.java:155)
>     at net.nightwhistler.pageturner.activity.PageTurnerActivity$1.onDrawerClosed(PageTurnerActivity.java:79)
>     at android.support.v4.widget.DrawerLayout.dispatchOnDrawerClosed(DrawerLayout.java:473)
>     at android.support.v4.widget.DrawerLayout.updateDrawerState(DrawerLayout.java:453)
>     at android.support.v4.widget.DrawerLayout$ViewDragCallback.onViewDragStateChanged(DrawerLayout.java:1312)
>     at android.support.v4.widget.ViewDragHelper.setDragState(ViewDragHelper.java:866)
>     at android.support.v4.widget.ViewDragHelper$2.run(ViewDragHelper.java:335)
>     at android.os.Handler.handleCallback(Handler.java:587)
>     at android.os.Handler.dispatchMessage(Handler.java:92)
>     at android.os.Looper.loop(Looper.java:130)
>     at android.app.ActivityThread.main(ActivityThread.java:3687)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:507)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,NPE in library,"[Label(name=""Bug"")]","From the crash reports

> java.lang.NullPointerException
>     at net.nightwhistler.pageturner.PlatformUtil.isIntentAvailable(PlatformUtil.java:55)
>     at net.nightwhistler.pageturner.activity.LibraryFragment.onCreateOptionsMenu(LibraryFragment.java:518)
>     at android.support.v4.app.Watson.onCreatePanelMenu(Watson.java:56)
>     at com.actionbarsherlock.ActionBarSherlock.callbackCreateOptionsMenu(ActionBarSherlock.java:559)
>     at com.actionbarsherlock.internal.ActionBarSherlockCompat.preparePanel(ActionBarSherlockCompat.java:479)
>     at com.actionbarsherlock.internal.ActionBarSherlockCompat.dispatchInvalidateOptionsMenu(ActionBarSherlockCompat.java:272)
>     at com.actionbarsherlock.app.SherlockFragmentActivity.invalidateOptionsMenu(SherlockFragmentActivity.java:150)
>     at net.nightwhistler.pageturner.activity.PageTurnerActivity.onDrawerClosed(PageTurnerActivity.java:155)
>     at net.nightwhistler.pageturner.activity.PageTurnerActivity$1.onDrawerClosed(PageTurnerActivity.java:79)
>     at android.support.v4.widget.DrawerLayout.dispatchOnDrawerClosed(DrawerLayout.java:473)
>     at android.support.v4.widget.DrawerLayout.updateDrawerState(DrawerLayout.java:453)
>     at android.support.v4.widget.DrawerLayout$ViewDragCallback.onViewDragStateChanged(DrawerLayout.java:1312)
>     at android.support.v4.widget.ViewDragHelper.setDragState(ViewDragHelper.java:866)
>     at android.support.v4.widget.ViewDragHelper$2.run(ViewDragHelper.java:335)
>     at android.os.Handler.handleCallback(Handler.java:587)
>     at android.os.Handler.dispatchMessage(Handler.java:92)
>     at android.os.Looper.loop(Looper.java:130)
>     at android.app.ActivityThread.main(ActivityThread.java:3687)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:507)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Crash on MediaReceiver,"[Label(name=""Bug"")]","From the crash reports:

> java.lang.RuntimeException: Unable to instantiate receiver net.nightwhistler.pageturner.pro.activity.MediaButtonReceiver: java.lang.ClassNotFoundException: net.nightwhistler.pageturner.pro.activity.MediaButtonReceiver in loader dalvik.system.PathClassLoader[/data/app/net.nightwhistler.pageturner.pro-1.apk]
>     at android.app.ActivityThread.handleReceiver(ActivityThread.java:1785)
>     at android.app.ActivityThread.access$2400(ActivityThread.java:121)
>     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:993)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:138)
>     at android.app.ActivityThread.main(ActivityThread.java:3701)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:507)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:878)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:636)
>     at dalvik.system.NativeStart.main(Native Method)
> Caused by: java.lang.ClassNotFoundException: net.nightwhistler.pageturner.pro.activity.MediaButtonReceiver in loader dalvik.system.PathClassLoader[/data/app/net.nightwhistler.pageturner.pro-1.apk]
>     at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:240)
>     at java.lang.ClassLoader.loadClass(ClassLoader.java:551)
>     at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
>     at android.app.ActivityThread.handleReceiver(ActivityThread.java:1776)
>     ... 10 more
> java.lang.ClassNotFoundException: net.nightwhistler.pageturner.pro.activity.MediaButtonReceiver in loader dalvik.system.PathClassLoader[/data/app/net.nightwhistler.pageturner.pro-1.apk]
>     at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:240)
>     at java.lang.ClassLoader.loadClass(ClassLoader.java:551)
>     at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
>     at android.app.ActivityThread.handleReceiver(ActivityThread.java:1776)
>     at android.app.ActivityThread.access$2400(ActivityThread.java:121)
>     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:993)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:138)
>     at android.app.ActivityThread.main(ActivityThread.java:3701)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:507)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:878)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:636)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Missing default constructor,"[Label(name=""Bug"")]","java.lang.RuntimeException: Unable to start activity : android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment net.nightwhistler.pageturner.activity.AddBookmarkFragment: make sure class name exists, is public, and has an empty constructor that is public
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1973)
    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1999)
    at android.app.ActivityThread.access$600(ActivityThread.java:127)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1159)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4513)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:974)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:741)
    at dalvik.system.NativeStart.main(Native Method)
Caused by: android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment net.nightwhistler.pageturner.activity.AddBookmarkFragment: make sure class name exists, is public, and has an empty constructor that is public
    at android.support.v4.app.Fragment.instantiate(Fragment.java:405)
    at android.support.v4.app.FragmentState.instantiate(Fragment.java:97)
    at android.support.v4.app.FragmentManagerImpl.restoreAllState(FragmentManager.java:1767)
    at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:208)
    at com.github.rtyley.android.sherlock.roboguice.activity.RoboSherlockFragmentActivity.onCreate(RoboSherlockFragmentActivity.java:34)
    at net.nightwhistler.pageturner.activity.PageTurnerActivity.onCreate(PageTurnerActivity.java:63)
    at android.app.Activity.performCreate(Activity.java:4465)
    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1052)
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1932)
    ... 11 more
Caused by: java.lang.InstantiationException: can't instantiate class net.nightwhistler.pageturner.activity.AddBookmarkFragment; no empty constructor
    at java.lang.Class.newInstanceImpl(Native Method)
    at java.lang.Class.newInstance(Class.java:1319)
    at android.support.v4.app.Fragment.instantiate(Fragment.java:394)
    ... 19 more
android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment net.nightwhistler.pageturner.activity.AddBookmarkFragment: make sure class name exists, is public, and has an empty constructor that is public
    at android.support.v4.app.Fragment.instantiate(Fragment.java:405)
    at android.support.v4.app.FragmentState.instantiate(Fragment.java:97)
    at android.support.v4.app.FragmentManagerImpl.restoreAllState(FragmentManager.java:1767)
    at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:208)
    at com.github.rtyley.android.sherlock.roboguice.activity.RoboSherlockFragmentActivity.onCreate(RoboSherlockFragmentActivity.java:34)
    at net.nightwhistler.pageturner.activity.PageTurnerActivity.onCreate(PageTurnerActivity.java:63)
    at android.app.Activity.performCreate(Activity.java:4465)
    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1052)
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1932)
    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1999)
    at android.app.ActivityThread.access$600(ActivityThread.java:127)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1159)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4513)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:974)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:741)
    at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.InstantiationException: can't instantiate class net.nightwhistler.pageturner.activity.AddBookmarkFragment; no empty constructor
    at java.lang.Class.newInstanceImpl(Native Method)
    at java.lang.Class.newInstance(Class.java:1319)
    at android.support.v4.app.Fragment.instantiate(Fragment.java:394)
    ... 19 more
java.lang.InstantiationException: can't instantiate class net.nightwhistler.pageturner.activity.AddBookmarkFragment; no empty constructor
    at java.lang.Class.newInstanceImpl(Native Method)
    at java.lang.Class.newInstance(Class.java:1319)
    at android.support.v4.app.Fragment.instantiate(Fragment.java:394)
    at android.support.v4.app.FragmentState.instantiate(Fragment.java:97)
    at android.support.v4.app.FragmentManagerImpl.restoreAllState(FragmentManager.java:1767)
    at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:208)
    at com.github.rtyley.android.sherlock.roboguice.activity.RoboSherlockFragmentActivity.onCreate(RoboSherlockFragmentActivity.java:34)
    at net.nightwhistler.pageturner.activity.PageTurnerActivity.onCreate(PageTurnerActivity.java:63)
    at android.app.Activity.performCreate(Activity.java:4465)
    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1052)
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1932)
    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1999)
    at android.app.ActivityThread.access$600(ActivityThread.java:127)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1159)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4513)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:974)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:741)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,open,"Add ""minutes left in chapter""","[Label(name=""Improvement"")]","From the comments: Feature request - an indicator of progress within a chapter. Really miss the 'remaining minutes in chapter' feature from the Kindle app.
"
NightWhistler/PageTurner,closed,NPE in catalog,"[Label(name=""Bug"")]","java.lang.NullPointerException
    at net.nightwhistler.pageturner.catalog.CatalogFragment.queueImageLoading(CatalogFragment.java:518)
    at net.nightwhistler.pageturner.catalog.CatalogFragment.access$600(CatalogFragment.java:70)
    at net.nightwhistler.pageturner.catalog.CatalogFragment$LoadingScrollListener$1.run(CatalogFragment.java:627)
    at android.os.Handler.handleCallback(Handler.java:587)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:123)
    at android.app.ActivityThread.main(ActivityThread.java:4627)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:521)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,open,Store 2 sets of pagenumbers,"[Label(name=""Improvement"")]","Right now when the orientation changes,  pagenumbers are not recalculated but the same numbers are used which leads to incorrect results.

We should store 2 sets: one for portrait and one for landscape.
"
NightWhistler/PageTurner,open,"""Note"" blocks split across pages are incomplete","[Label(name=""Bug"")]","(For a description of what a ""note"" block is, see #497)

When a note block is too big to fit on a single page, it is not continued on the following page.

Page One:
![note section portrait split](https://f.cloud.github.com/assets/107804/1299258/467ddf4c-30ff-11e3-9e85-3a449994a46e.jpg)

Page Two:
![note section portrait split 2](https://f.cloud.github.com/assets/107804/1299259/467cf3de-30ff-11e3-92c9-9d69f4b282e2.jpg)
"
NightWhistler/PageTurner,open,"""Note"" blocks are rendered strangely","[Label(name=""Bug"")]","O'Reilly books often have ""note"" blocks which are used to convey extra information to the reader (if you don't know what I mean, the screenshots should jog your memory =) ).  PageTurner renders them interestingly.

How it looks on a PDF:
![note section pdf](https://f.cloud.github.com/assets/107804/1299232/ff69a6ae-30fe-11e3-93bc-c6f2bc27fd48.png)

Landscape:
![note section landscape](https://f.cloud.github.com/assets/107804/1299220/d1977c7e-30fe-11e3-9691-25afb6604d2c.jpg)

Portrait:
![note section portrait](https://f.cloud.github.com/assets/107804/1299221/d1c85484-30fe-11e3-8e5c-d0d3031b1155.jpg)
"
NightWhistler/PageTurner,open,Source code examples wrap across lines,"[Label(name=""Bug"")]","As demonstrated by the following screenshot, long lines in source code samples wrap around and look funny:

![source code portrait](https://f.cloud.github.com/assets/107804/1299181/72597dfc-30fe-11e3-90bd-cc58987d586e.jpg)

I'm not sure if having left-to-right scrolling is an option, but this caught my attention.
"
NightWhistler/PageTurner,open,Numbered lists are renumbered across pages,"[Label(name=""Bug"")]","If you have a numbered list and one of the items doesn't fit on a single page, its number is printed again on the following page.

Page One:
![numbered-lists-page-one](https://f.cloud.github.com/assets/107804/1299152/02454776-30fe-11e3-8e63-d495c0faa99d.png)

Page Two:
![numbered-lists-page-two](https://f.cloud.github.com/assets/107804/1299153/07081342-30fe-11e3-8712-047debc41e9c.png)
"
NightWhistler/PageTurner,open,Description lists are rendered strangely,"[Label(name=""Bug"")]","Description lists are rendered without indent in page turner (SHA = 0e1f4effa17dd15472c21aab0af234939295c9f8)

Page Turner:
![description list](https://f.cloud.github.com/assets/107804/1299085/a9d9dada-30fc-11e3-8e90-ccf7e0aeefdd.jpg)

PDF:
![description list pdf](https://f.cloud.github.com/assets/107804/1299086/a9dd3a68-30fc-11e3-9625-4bb3ee03f73b.png)
"
NightWhistler/PageTurner,open,Pictures not resizing when changing orientation,"[Label(name=""Bug"")]","From the forums:

> If I open a book with the tablet in landscape mode, the pictures are large. If I then flip to portrait mode, the pictures stay large and are cut off on the right side.
> 
> If I open a book with the tablet in portrait mode, the pictures are small. If I then flip to landscape mode, the pictures stay small even though there’s room on the screen to display them larger.
> 
> Toggling Day/Night mode resets the picture size to be correct for the current orientation. And then it stays stuck at this new fixed size when changing orientation again.
"
NightWhistler/PageTurner,closed,Add support for devices without an SD-card,"[Label(name=""Improvement"")]","Right now PageTurner always assumes that the library is on the sd-card.

We should also support having the library on internal storage.
"
NightWhistler/PageTurner,closed,Downloads broken on Nook simple touch,"[Label(name=""Bug"")]","Browsing works, but grabbing the file fails without a proper error message.
- Might be an Android 2.1 issue
- Make sure there's a proper error message, including the underlying problem.
"
NightWhistler/PageTurner,open,[Android 4.3] Cannot select text from books,"[Label(name=""Bug"")]","Cannot select text from book when you first open a book. If you try to open the same book afterwards -> works like a charm.

Device: Could reproduce on Nexus 4 (each time) and sometimes Nexus 7. 

Steps to reproduce:
1. Go to download pages
2. Select ManyBooks.com
3. Select new Titles
4. Choose The Runaways
5. Read
6. Try to select a text using long click 

Note: sometimes, on some pages it works.
"
NightWhistler/PageTurner,open,"Add ""share"" to note options","[Label(name=""Improvement"")]","Which should allow you to share both the highlighted text and the note.
"
NightWhistler/PageTurner,closed,Update translation files,"[Label(name=""Task""), Label(name=""waffle:ready"")]",
NightWhistler/PageTurner,open,Duplicate pagenumbers,"[Label(name=""Bug""), Label(name=""waffle:ready"")]","There are some issue with pagenumbers:
- The title page seems to have page number 1 instead of 0 now
- Sometimes a pagenumber is duplicated
"
NightWhistler/PageTurner,closed,Library filtering should have priority over scan,"[Label(name=""Improvement"")]","When the user types in the filter, the view doesn't get updated until the background scan completes, which is a bad thing.
"
NightWhistler/PageTurner,open,Allow the user to cancel book loading,"[Label(name=""Improvement"")]","Sometimes loading a book can take too long... it would be good to allow the user to cancel and send him/her back to the library.
"
NightWhistler/PageTurner,open,Support more dictionaries,"[Label(name=""Improvement"")]","At least GoldenDict, and maybe more.
"
NightWhistler/PageTurner,closed,Can't handle large epub book,[],"It seems that PageTurner can't handle large epub books.  I tried to use PageTurner to load one complex epub book which size is above 100M.  The user experience is very bad. (too slow to accept )
"
NightWhistler/PageTurner,closed,IndexOutOfBounds in ScrollListener,"[Label(name=""Bug"")]","> java.lang.IndexOutOfBoundsException: Invalid index 5, size is 5
>     at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:251)
>     at java.util.ArrayList.get(ArrayList.java:304)
>     at java.util.Collections$UnmodifiableList.get(Collections.java:1050)
>     at net.nightwhistler.pageturner.catalog.CatalogListAdapter.getItem(CatalogListAdapter.java:106)
>     at net.nightwhistler.pageturner.catalog.CatalogFragment$LoadingScrollListener$1.run(CatalogFragment.java:628)
>     at android.os.Handler.handleCallback(Handler.java:605)
>     at android.os.Handler.dispatchMessage(Handler.java:92)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4424)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Invalid Base64 in image causes crash,"[Label(name=""Bug"")]","> java.lang.RuntimeException: An error occured while executing doInBackground()
>     at android.os.AsyncTask$3.done(AsyncTask.java:299)
>     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
>     at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
>     at java.lang.Thread.run(Thread.java:856)
> Caused by: java.lang.IllegalArgumentException: bad base-64
>     at android.util.Base64.decode(Base64.java:161)
>     at android.util.Base64.decode(Base64.java:136)
>     at android.util.Base64.decode(Base64.java:118)
>     at net.nightwhistler.pageturner.view.bookview.BookView$ImageTagHandler.handleTagNode(BookView.java:903)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:269)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:196)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask$2.onLoadResource(BookView.java:1408)
>     at net.nightwhistler.pageturner.epub.ResourceLoader.load(ResourceLoader.java:86)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.getOffsets(BookView.java:1442)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1349)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1335)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
>     ... 4 more
> java.lang.IllegalArgumentException: bad base-64
>     at android.util.Base64.decode(Base64.java:161)
>     at android.util.Base64.decode(Base64.java:136)
>     at android.util.Base64.decode(Base64.java:118)
>     at net.nightwhistler.pageturner.view.bookview.BookView$ImageTagHandler.handleTagNode(BookView.java:903)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:269)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:196)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask$2.onLoadResource(BookView.java:1408)
>     at net.nightwhistler.pageturner.epub.ResourceLoader.load(ResourceLoader.java:86)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.getOffsets(BookView.java:1442)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1349)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1335)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
>     at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,closed,Use ActionMode for editing highlights,"[Label(name=""Improvement"")]","Right now, when the user clicks a highlight we pop up a choice dialog... it would be more consistent to spawn a custom action-mode with the same options: ( colour, delete, text-note)
"
NightWhistler/PageTurner,open,On-screen keyboard causes pagination issues,"[Label(name=""Bug""), Label(name=""waffle:ready"")]","From the forums:

> To replicate: With a book open, click the search icon. Type a search term and either tap the Enter key or the little arrow after the search entry box. When the search results box appears, select one to display. PageTurner displays the page containing the selected search result, but the onscreen keyboard is still displayed and the cursor is still blinking in the search text-entry box. Dismiss the onscreen keyboard and the area where the keyboard was is now blank. The page number is positioned correctly at the bottom but there is now a lot of space between the last line of text on the page and the page number. Curiously, you then get the same page number occurring on two pages, since apparently repagination hasn’t actually occurred and the large blank area is causing the text from a single page to spread over two pages (both of which get the original number).
> 
> A quicker way to replicate: Tap the search icon in the top bar. The onscreen keyboard pops up. Without typing any text, tap the day/night mode icon in the top bar. The onscreen keyboard automatically disappears and the mode changes to day or night, but you’re left with partial pages displayed.
"
NightWhistler/PageTurner,closed,Whitespace stripping is broken,"[Label(name=""Bug"")]","There is too much space between paragraphs.
"
NightWhistler/PageTurner,closed,Beep on volume key,"[Label(name=""Bug"")]","When using the volume key to change pages, there's often a beep when changing to the next chapter.
"
NightWhistler/PageTurner,closed,NPE while switching orientation,"[Label(name=""Bug"")]","> Caused by: java.lang.NullPointerException
>     at net.nightwhistler.pageturner.view.bookview.BookView.getPercentageFor(BookView.java:1028)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.getHighlights(ReadingFragment.java:2802)
>     at net.nightwhistler.pageturner.activity.ReadingActivity.initDrawerItems(ReadingActivity.java:77)
>     at net.nightwhistler.pageturner.activity.PageTurnerActivity.onPrepareOptionsMenu(PageTurnerActivity.java:180)
>     at android.support.v4.app.Watson.onPreparePanel(Watson.java:90)
>     at com.actionbarsherlock.ActionBarSherlock.callbackPrepareOptionsMenu(ActionBarSherlock.java:580)
>     at com.actionbarsherlock.internal.ActionBarSherlockNative.dispatchPrepareOptionsMenu(ActionBarSherlockNative.java:69)
>     at com.actionbarsherlock.app.SherlockFragmentActivity.onPreparePanel(SherlockFragmentActivity.java:185)
>     at com.android.internal.policy.impl.PhoneWindow.preparePanel(PhoneWindow.java:473)
>     at com.android.internal.policy.impl.PhoneWindow.invalidatePanelMenu(PhoneWindow.java:819)
>     at com.android.internal.policy.impl.PhoneWindow.restorePanelState(PhoneWindow.java:1867)
>     at com.android.internal.policy.impl.PhoneWindow.restoreHierarchyState(PhoneWindow.java:1817)
>     at android.app.Activity.onRestoreInstanceState(Activity.java:972)
>     at com.actionbarsherlock.app.SherlockFragmentActivity.onRestoreInstanceState(SherlockFragmentActivity.java:133)
>     at android.app.Activity.performRestoreInstanceState(Activity.java:944)
>     at android.app.Instrumentation.callActivityOnRestoreInstanceState(Instrumentation.java:1134)
>     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2078)
>     ... 11 more
"
NightWhistler/PageTurner,open,Allow the user to iterate through search results,"[Label(name=""Improvement""), Label(name=""waffle:ready"")]","From the forums:

> With a large number of search hits, often it’s preferable to simply be able to jump to the next hit rather than having to open the drawer, drop down the search results menu, and scroll to find the next one.
"
NightWhistler/PageTurner,closed,Drawer doesn't always close on back button,"[Label(name=""Bug"")]","From the forums:

> 1) With a book open, search for a word and select one of the hits to jump to the page. (Or if a search is already active, simply jump to another page by selecting another search hit from the Search Results menu.)
> 2) Open the nav drawer.
> 3) Press the back button. Instead of the nav drawer closing as expected, it stays open but the position in the book jumps back to the page it was on prior to jumping to the search hit. The nav drawer doesn’t close until the back button is hit again.
"
NightWhistler/PageTurner,open,Allow the user to hide menu items,"[Label(name=""Improvement"")]","A good example is the sync button: allow users to not show it.
"
NightWhistler/PageTurner,closed,Unnecessary spaces added in text,"[Label(name=""Bug"")]","This often happens after spans that are used for dropcaps.
"
NightWhistler/PageTurner,closed,Cancelling the import doesn't work properly,"[Label(name=""Bug"")]","Scenario: 
- first run of the app
- let the app scan the SD-card.
- Wait until some books have been found
- Cancel the import with the back button

Expected result: the library should show the books that have already been imported
Actual result: an empty library and the spinner keeps going.
"
NightWhistler/PageTurner,closed,Move highlights to navigation drawer,"[Label(name=""Improvement"")]","Move it to under the TOC.
"
NightWhistler/PageTurner,closed,No title in navigation drawer on first run,"[Label(name=""Bug"")]","On the first run there's an empty space in the navigation drawer.
"
NightWhistler/PageTurner,closed,Improve first-run experience,"[Label(name=""Improvement"")]","If no books are found, ask the user if they want to download books and then take them to the download screen.
"
NightWhistler/PageTurner,closed,Manage custom sites broken in Pro,"[Label(name=""Bug"")]","It seems the manage custom sites screen doesn't work on the pro beta

android.content.ActivityNotFoundException: No Activity found to handle Intent { act=net.nightwhistler.pageturner.pro.activity.ManageSitesActivity }
    at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1622)
    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1417)
    at android.app.Activity.startActivityForResult(Activity.java:3370)
    at android.app.Activity.startActivityForResult(Activity.java:3331)
    at android.app.Activity.startActivity(Activity.java:3566)
    at android.app.Activity.startActivity(Activity.java:3534)
    at android.preference.Preference.performClick(Preference.java:967)
    at android.preference.PreferenceScreen.onItemClick(PreferenceScreen.java:215)
    at android.widget.AdapterView.performItemClick(AdapterView.java:298)
    at android.widget.AbsListView.performItemClick(AbsListView.java:1107)
    at android.widget.AbsListView$PerformClick.run(AbsListView.java:2756)
    at android.widget.AbsListView$1.run(AbsListView.java:3430)
    at android.os.Handler.handleCallback(Handler.java:725)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:5039)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Book copied through Calibre can't be read,"[Label(name=""Bug"")]","When using Calibre to send a book to the device, it does show up in the library but when the user tries to open it, it's blank.
"
NightWhistler/PageTurner,open,Show book info while reading,"[Label(name=""Improvement"")]","When the user clicks on the book name in the navigation drawer while reading, it should pop up the same book info as we show in the library when clicking on a book.
"
NightWhistler/PageTurner,closed,PageTurner can't connect to the sync server,"[Label(name=""Bug"")]","When there is no sync server url added in the preferences PageTurner should connect to the default sync server. 
"
NightWhistler/PageTurner,closed,The navigation drawer can't be closed with the back button. ,"[Label(name=""Bug"")]","When you open the navigation drawer in the reading activity and use the back button, it doesn't close the drawer instead it closes the reading activity and brings you back to the library. 

When you open the navigation drawer in the library and use the back button, it doesn't close the drawer instead it doesn't do anything. 
"
NightWhistler/PageTurner,open,"When a book is downloaded from the catalog with ""Read now"" it isn't added to the library. ","[Label(name=""Bug"")]","The book can be read and it's shown in the navigation drawer as the book you're currently reading. But it isn't added to the library. 
"
NightWhistler/PageTurner,open,Deleting a book doesn't remove it from the navigation drawer ,"[Label(name=""Bug"")]","When you delete the book you were reading it won't be removed from the navigation drawer. You can even open it and read it, and when you do it will be added to the library again. 
"
NightWhistler/PageTurner,closed,Opening files opens in wrong screen,"[Label(name=""Bug""), Label(name=""waffle:in progress"")]","If the user was browsing the library earlier, the app will open again in the library.

However, it now also does this when the app gets launched by clicking on an epub-file, which isn't correct.
"
NightWhistler/PageTurner,open,Allow user-defined fonts,"[Label(name=""Improvement"")]","Allow the user to add custom fonts which can then be used to display test.
"
NightWhistler/PageTurner,closed,changed some inputTypes for a better user experience,[],"Just updating some inputTypes so typing is easier.
"
NightWhistler/PageTurner,closed,add option in settings to change the sync server url,[],"This will allow users that create their own server instance to easily change the server without manually building PageTurner.
"
NightWhistler/PageTurner,closed,fix an error about android-maven-plugin not finding aapt,[],"This updates android-maven-plugin to the latest stable version. Without this commit, I get the following error while building:

gregg@mbp pt %mvn3 clean install                                            [1]
[INFO] Scanning for projects...
[INFO]  
[INFO] ------------------------------------------------------------------------
[INFO] Building PageTurner 2.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.4.1:clean (default-clean) @ PageTurner ---
[INFO] Deleting /home/gregg/workspace/pt/target
[INFO] 
[INFO] --- android-maven-plugin:3.0.0:generate-sources (default-generate-sources) @ PageTurner ---
[DEBUG] Expanding: /home/gregg/.m2/repository/com/actionbarsherlock/actionbarsherlock/4.2.0/actionbarsherlock-4.2.0.apklib into /home/gregg/workspace/pt/target/unpack/apklibs/com.actionbarsherlock_actionbarsherlock_apklib_4.2.0
[DEBUG] expand complete
[INFO] ANDROID-904-002: Found aidl files: Count = 0
[INFO] ANDROID-904-002: Found aidl files: Count = 0
[INFO] ANDROID-904-002: Found aidl files: Count = 0
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.844s
[INFO] Finished at: Thu Aug 22 07:31:47 MDT 2013
[INFO] Final Memory: 9M/150M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal com.jayway.maven.plugins.android.generation2:android-maven-plugin:3.0.0:generate-sources (default-generate-sources) on project PageTurner: Execution default-generate-sources of goal com.jayway.maven.plugins.android.generation2:android-maven-plugin:3.0.0:generate-sources failed: Could not find tool 'aapt'. Please provide a proper Android SDK directory path as configuration parameter <sdk><path>...</path></sdk> in the plugin <configuration/>. As an alternative, you may add the parameter to commandline: -Dandroid.sdk.path=... or set environment variable ANDROID_HOME. -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException
"
NightWhistler/PageTurner,closed,Build Failure,[],"I get the following error when attempting to build PageTurner.

gregg@mbp PageTurner %mvn clean install                                                                                                                                                                                                                                            [1]
[INFO] Scanning for projects...
[INFO]  
[INFO] ------------------------------------------------------------------------
[INFO] Building PageTurner 2.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ PageTurner ---
[INFO] 
[INFO] --- android-maven-plugin:3.0.0:generate-sources (default-generate-sources) @ PageTurner ---
[WARNING] Error injecting: com.jayway.maven.plugins.android.phase01generatesources.GenerateSourcesMojo
java.lang.NoClassDefFoundError: Lorg/sonatype/aether/RepositorySystem;
    at java.lang.Class.getDeclaredFields0(Native Method)
    at java.lang.Class.privateGetDeclaredFields(Class.java:2387)
    at java.lang.Class.getDeclaredFields(Class.java:1796)
    at com.google.inject.spi.InjectionPoint.getInjectionPoints(InjectionPoint.java:661)
    at com.google.inject.spi.InjectionPoint.forInstanceMethodsAndFields(InjectionPoint.java:366)
    at com.google.inject.internal.ConstructorBindingImpl.getInternalDependencies(ConstructorBindingImpl.java:165)
    at com.google.inject.internal.InjectorImpl.getInternalDependencies(InjectorImpl.java:609)
    at com.google.inject.internal.InjectorImpl.cleanup(InjectorImpl.java:565)
    at com.google.inject.internal.InjectorImpl.initializeJitBinding(InjectorImpl.java:551)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:865)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:790)
    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:278)
    at com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:210)
    at com.google.inject.internal.InjectorImpl.getProviderOrThrow(InjectorImpl.java:986)
    at com.google.inject.internal.InjectorImpl.getProvider(InjectorImpl.java:1019)
    at com.google.inject.internal.InjectorImpl.getProvider(InjectorImpl.java:982)
    at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1032)
    at org.eclipse.sisu.reflect.AbstractDeferredClass.get(AbstractDeferredClass.java:44)
    at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)
    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:55)
    at com.google.inject.internal.ProviderInternalFactory$1.call(ProviderInternalFactory.java:70)
    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:100)
    at org.eclipse.sisu.plexus.lifecycles.PlexusLifecycleManager.onProvision(PlexusLifecycleManager.java:134)
    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:109)
    at com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:55)
    at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:68)
    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)
    at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:997)
    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1047)
    at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:993)
    at com.google.inject.Scopes$1$1.get(Scopes.java:59)
    at org.eclipse.sisu.locators.LazyBeanEntry.getValue(LazyBeanEntry.java:82)
    at org.eclipse.sisu.plexus.locators.LazyPlexusBean.getValue(LazyPlexusBean.java:52)
    at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:259)
    at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:251)
    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo(DefaultMavenPluginManager.java:459)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:97)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:318)
    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:153)
    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:555)
    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)
    at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:606)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:414)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:357)
Caused by: java.lang.ClassNotFoundException: org.sonatype.aether.RepositorySystem
    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)
    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)
    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)
    ... 57 more
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.301s
[INFO] Finished at: Wed Aug 21 18:44:56 MDT 2013
[INFO] Final Memory: 10M/150M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal com.jayway.maven.plugins.android.generation2:android-maven-plugin:3.0.0:generate-sources (default-generate-sources) on project PageTurner: Execution default-generate-sources of goal com.jayway.maven.plugins.android.generation2:android-maven-plugin:3.0.0:generate-sources failed: A required class was missing while executing com.jayway.maven.plugins.android.generation2:android-maven-plugin:3.0.0:generate-sources: Lorg/sonatype/aether/RepositorySystem;
[ERROR] -----------------------------------------------------
[ERROR] realm =    plugin>com.jayway.maven.plugins.android.generation2:android-maven-plugin:3.0.0
[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy
[ERROR] urls[0] = file:/home/gregg/.m2/repository/com/jayway/maven/plugins/android/generation2/android-maven-plugin/3.0.0/android-maven-plugin-3.0.0.jar
[ERROR] urls[1] = file:/home/gregg/.m2/repository/com/google/android/tools/ddmlib/r13/ddmlib-r13.jar
[ERROR] urls[2] = file:/home/gregg/.m2/repository/org/sonatype/sisu/sisu-inject-bean/2.1.1/sisu-inject-bean-2.1.1.jar
[ERROR] urls[3] = file:/home/gregg/.m2/repository/org/sonatype/sisu/sisu-guice/2.9.4/sisu-guice-2.9.4-no_aop.jar
[ERROR] urls[4] = file:/home/gregg/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.14/plexus-interpolation-1.14.jar
[ERROR] urls[5] = file:/home/gregg/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.5.5/plexus-component-annotations-1.5.5.jar
[ERROR] urls[6] = file:/home/gregg/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar
[ERROR] urls[7] = file:/home/gregg/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar
[ERROR] urls[8] = file:/home/gregg/.m2/repository/org/apache/maven/maven-archiver/2.4.2/maven-archiver-2.4.2.jar
[ERROR] urls[9] = file:/home/gregg/.m2/repository/org/codehaus/plexus/plexus-archiver/2.0.1/plexus-archiver-2.0.1.jar
[ERROR] urls[10] = file:/home/gregg/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar
[ERROR] urls[11] = file:/home/gregg/.m2/repository/org/codehaus/plexus/plexus-io/2.0.1/plexus-io-2.0.1.jar
[ERROR] urls[12] = file:/home/gregg/.m2/repository/org/codehaus/plexus/plexus-utils/3.0/plexus-utils-3.0.jar
[ERROR] urls[13] = file:/home/gregg/.m2/repository/commons-jxpath/commons-jxpath/1.3/commons-jxpath-1.3.jar
[ERROR] urls[14] = file:/home/gregg/.m2/repository/commons-io/commons-io/2.0.1/commons-io-2.0.1.jar
[ERROR] urls[15] = file:/home/gregg/.m2/repository/asm/asm/3.3.1/asm-3.3.1.jar
[ERROR] urls[16] = file:/home/gregg/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar
[ERROR] urls[17] = file:/home/gregg/.m2/repository/org/sonatype/aether/aether-util/1.12/aether-util-1.12.jar
[ERROR] Number of foreign imports: 1
[ERROR] import: Entry[import  from realm ClassRealm[project>net.nightwhistler.pageturner:PageTurner:2.2-SNAPSHOT, parent: ClassRealm[maven.api, parent: null]]]
[ERROR] 
[ERROR] -----------------------------------------------------: org.sonatype.aether.RepositorySystem
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/AetherClassNotFound
"
NightWhistler/PageTurner,open,Progress dialog dissapears while scanning,"[Label(name=""Bug"")]","If you scan for books, then go to a different app and come back, the progress dialog is not shown.

Probably a problem with the background task either being stopped or losing contact with the dialog.
"
NightWhistler/PageTurner,closed,Navigation has to wait for page number calculation,"[Label(name=""Bug"")]","Situation:

You open a new book for the first time... it opens the first chapter, then starts the pagenumber calculation. Then, navigate to another point of the book through the TOC.

Now the user has to wait for the pagenumber calculation to finish before the text is loaded.
"
NightWhistler/PageTurner,closed,Ads don't dissapear on screen tap,"[Label(name=""Bug"")]","Tapping the screen does hide the status bar, but doesn't hide the ad display.

Most other things (swiping, pulling down the notification bar) do hide the ad display.
"
NightWhistler/PageTurner,closed,TTS not working on Samsung Galaxy S1,"[Label(name=""Bug"")]","The beep sounds, but then nothing happens.
"
NightWhistler/PageTurner,closed,Crash while downloading,"[Label(name=""Bug"")]","> java.lang.NullPointerException
> at net.nightwhistler.htmlspanner.SystemFontResolver.getFont(SystemFontResolver.java:59)
> at net.nightwhistler.htmlspanner.HtmlSpanner.getFont(HtmlSpanner.java:110)
> at net.nightwhistler.htmlspanner.handlers.FontHandler.handleTagNode(FontHandler.java:47)
> at net.nightwhistler.htmlspanner.handlers.StyledTextHandler.handleTagNode(StyledTextHandler.java:74)
> at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:327)
> at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:300)
> at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:322)
> at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:300)
> at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:322)
> at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:300)
> at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:322)
> at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:300)
> at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:322)
> at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:300)
> at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:322)
> at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:300)
> at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:244)
> at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:198)
> at net.nightwhistler.pageturner.catalog.Catalog.loadBookDetails(Catalog.java:100)
> at net.nightwhistler.pageturner.catalog.BookDetailsFragment.doSetFeed(BookDetailsFragment.java:220)
> at net.nightwhistler.pageturner.catalog.BookDetailsFragment.setNewFeed(BookDetailsFragment.java:234)
> at net.nightwhistler.pageturner.activity.CatalogActivity.loadFakeFeed(CatalogActivity.java:92)
> at net.nightwhistler.pageturner.activity.CatalogActivity.onFeedReplaced(CatalogActivity.java:76)
> at net.nightwhistler.pageturner.catalog.CatalogFragment.setNewFeed(CatalogFragment.java:486)
> at net.nightwhistler.pageturner.catalog.LoadOPDSTask.doOnPostExecute(LoadOPDSTask.java:178)
> at net.nightwhistler.pageturner.catalog.LoadOPDSTask.doOnPostExecute(LoadOPDSTask.java:41)
> at net.nightwhistler.pageturner.scheduling.QueueableAsyncTask.onPostExecute(QueueableAsyncTask.java:54)
> at android.os.AsyncTask.finish(AsyncTask.java:631)
> at android.os.AsyncTask.access$600(AsyncTask.java:177)
> at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
> at android.os.Handler.dispatchMessage(Handler.java:99)
> at android.os.Looper.loop(Looper.java:137)
> at android.app.ActivityThread.main(ActivityThread.java:5039)
> at java.lang.reflect.Method.invokeNative(Native Method)
> at java.lang.reflect.Method.invoke(Method.java:511)
> at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
> at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
> at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,"Add ""open book on startup"" option","[Label(name=""Improvement""), Label(name=""waffle:done"")]","Essentially, make the old open behaviour available as an option.
"
NightWhistler/PageTurner,closed,Improper use of getActivity(),"[Label(name=""Bug""), Label(name=""waffle:in progress"")]","A lot of the fragments do things like getActvitity().getString(), which needs loads of isAdded() checks.

It's better to replace those with the corresponding methods on Fragment.
"
NightWhistler/PageTurner,closed,Allow user to add single files,"[Label(name=""Improvement"")]","The current import dialog has a file browser, but clicking an epub file doesn't do anything: it should allow the user to just add that single file.

Also, there should be an option from inside a folder to just add that folder.
"
NightWhistler/PageTurner,closed,Network on main thread in book details,"[Label(name=""Bug"")]","> android.os.NetworkOnMainThreadException
>     at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1118)
>     at java.net.InetAddress.lookupHostByName(InetAddress.java:385)
>     at java.net.InetAddress.getAllByNameImpl(InetAddress.java:236)
>     at java.net.InetAddress.getAllByName(InetAddress.java:214)
>     at libcore.net.http.HttpConnection.<init>(HttpConnection.java:70)
>     at libcore.net.http.HttpConnection.<init>(HttpConnection.java:50)
>     at libcore.net.http.HttpConnection$Address.connect(HttpConnection.java:340)
>     at libcore.net.http.HttpConnectionPool.get(HttpConnectionPool.java:87)
>     at libcore.net.http.HttpConnection.connect(HttpConnection.java:128)
>     at libcore.net.http.HttpEngine.openSocketConnection(HttpEngine.java:315)
>     at libcore.net.http.HttpEngine.connect(HttpEngine.java:310)
>     at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:289)
>     at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:239)
>     at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:273)
>     at libcore.net.http.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:168)
>     at java.net.URL.openStream(URL.java:462)
>     at net.nightwhistler.htmlspanner.handlers.ImageHandler.loadBitmap(ImageHandler.java:70)
>     at net.nightwhistler.htmlspanner.handlers.ImageHandler.handleTagNode(ImageHandler.java:51)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:269)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:174)
>     at net.nightwhistler.pageturner.catalog.Catalog.loadBookDetails(Catalog.java:97)
>     at net.nightwhistler.pageturner.catalog.CatalogListAdapter.getView(CatalogListAdapter.java:135)
>     at android.widget.AbsListView.obtainView(AbsListView.java:2445)
>     at android.widget.ListView.measureHeightOfChildren(ListView.java:1250)
>     at android.widget.ListView.onMeasure(ListView.java:1162)
>     at android.view.View.measure(View.java:15473)
>     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5056)
>     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1396)
>     at android.widget.LinearLayout.measureVertical(LinearLayout.java:681)
>     at android.widget.LinearLayout.onMeasure(LinearLayout.java:574)
>     at android.view.View.measure(View.java:15473)
>     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5056)
>     at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
>     at android.view.View.measure(View.java:15473)
>     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5056)
>     at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
>     at android.view.View.measure(View.java:15473)
>     at android.widget.LinearLayout.measureVertical(LinearLayout.java:833)
>     at android.widget.LinearLayout.onMeasure(LinearLayout.java:574)
>     at android.view.View.measure(View.java:15473)
>     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5056)
>     at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
>     at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2361)
>     at android.view.View.measure(View.java:15473)
>     at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:1974)
>     at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1217)
>     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1390)
>     at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1112)
>     at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4472)
>     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:725)
>     at android.view.Choreographer.doCallbacks(Choreographer.java:555)
>     at android.view.Choreographer.doFrame(Choreographer.java:525)
>     at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:711)
>     at android.os.Handler.handleCallback(Handler.java:615)
>     at android.os.Handler.dispatchMessage(Handler.java:92)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4898)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1006)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:773)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,HTML comments cause crash,"[Label(name=""Bug"")]","> java.lang.RuntimeException: An error occured while executing doInBackground()
> at android.os.AsyncTask$3.done(AsyncTask.java:299)
> at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
> at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
> at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
> at java.util.concurrent.FutureTask.run(FutureTask.java:137)
> at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
> at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
> at java.lang.Thread.run(Thread.java:856)
> Caused by: java.lang.ClassCastException: org.htmlcleaner.CommentNode cannot be cast to org.htmlcleaner.TagNode
> at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:112)
> at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
> at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
> at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
> at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
> at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
> at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
> at net.nightwhistler.htmlspanner.handlers.TableHandler.getTable(TableHandler.java:134)
> at net.nightwhistler.htmlspanner.handlers.TableHandler.handleTagNode(TableHandler.java:178)
> at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:269)
> at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
> at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
> at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
> at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:196)
> at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask$2.onLoadResource(BookView.java:1402)
> at net.nightwhistler.pageturner.epub.ResourceLoader.load(ResourceLoader.java:86)
> at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.getOffsets(BookView.java:1436)
> at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1343)
> at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1329)
> at android.os.AsyncTask$2.call(AsyncTask.java:287)
> at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
> ... 4 more
"
NightWhistler/PageTurner,closed,Grey covers in catalog,"[Label(name=""Bug"")]","After viewing the details of a book, the covers in the catalog-list sometimes become grey rectangles, meaning that the bitmaps have already been destroyed.
"
NightWhistler/PageTurner,closed,Pagenumbers in dialogs don't match actual numbers,"[Label(name=""Bug"")]","The dialogs for progress and highlights show the page-number in the book... this number doesn't always match the actual page that the text is on.
"
NightWhistler/PageTurner,closed,CSS display issues,"[Label(name=""Bug""), Label(name=""waffle:ready"")]","After opening a new book, it looked like the book had bad CSS: large text, broken paragraphs.

The screen turned off, and I turned it on again: now the text formatting was different... much closer to the original.
"
NightWhistler/PageTurner,closed,Order highlghts by position in the book,"[Label(name=""Improvement""), Label(name=""waffle:in progress"")]","> Highlights aren't arranged by page order, but rather by chronological order of creation

It makes more sense to order them by page.
"
NightWhistler/PageTurner,open,Edges lose background color,"[Label(name=""Bug"")]","When reading in full screen and day-mode with a black background tap the screen to see the notificationbar, pull it open, close it and tap the screen again to go back to full screen. The edges of the screen will have a white background, the text will still have the black background. 
"
NightWhistler/PageTurner,closed,Trying to drag the progress bar triggers the nav drawer,"[Label(name=""Bug"")]","When the current progress is still early in the book, trying to drag the progress bar ends up dragging the navigation bar instead.
"
NightWhistler/PageTurner,open,Allow the user to cancel a sync operation,"[Label(name=""Bug"")]","Hitting the 'back' button during a sync operation should cancel the sync.

Right now it can get stuck on slow networks.
"
NightWhistler/PageTurner,closed,Drawer interferes with page calculation,"[Label(name=""Bug"")]","It makes the actionbar show which makes the pages too short.
"
NightWhistler/PageTurner,closed,Edge tapping triggers selection mode,"[Label(name=""Bug""), Label(name=""waffle:in progress"")]","Seems to happen most often after a new chapter load, so it's very likely focus related.
"
NightWhistler/PageTurner,closed,Can't jump to some given page number by progress bar.,"[Label(name=""Bug""), Label(name=""waffle:in progress"")]","e.g. You slide the progress bar to 40% 123/307, then app will show 'Loading text'  dialog to do some render work. when it done, it will display 41% 126/307 or other.
"
NightWhistler/PageTurner,closed,ZIP errors while importing,"[Label(name=""Bug"")]","Weird zip exception:

> ava.util.zip.ZipException: unknown format (EXTSIG=0)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at java.util.zip.ZipInputStream.readAndVerifyDataDescriptor(ZipInputStream.java:201)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at java.util.zip.ZipInputStream.closeEntry(ZipInputStream.java:172)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at java.util.zip.ZipInputStream.getNextEntry(ZipInputStream.java:225)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at nl.siegmann.epublib.epub.EpubReader.readLazyResources(EpubReader.java:157)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at nl.siegmann.epublib.epub.EpubReader.readEpubLazy(EpubReader.java:67)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at net.nightwhistler.pageturner.library.ImportTask.importBook(ImportTask.java:187)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at net.nightwhistler.pageturner.library.ImportTask.doInBackground(ImportTask.java:111)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at net.nightwhistler.pageturner.library.ImportTask.doInBackground(ImportTask.java:37)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at java.util.concurrent.FutureTask.run(FutureTask.java:234)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
> 07-10 01:04:30.296 E/n_.n_.p_.l_.ImportTask(2275):  at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,closed,Navigation gets stuck at 0%,"[Label(name=""Bug""), Label(name=""waffle:ready"")]","Sometimes the app is stuck at 0% and doesn't show any progress or page numbers.
"
NightWhistler/PageTurner,open,Add quick toggle for scrolling mode,[],"From the forums

> In the buttons available, it would also be great to have one to toggle between scrolling mode and page-by-page mode. For straight reading, the page-by-page mode is my preference. But for studying reference materials, I prefer the scrolling mode. Would be nice to be able to quickly switch back and forth, without having to dig through the options.
"
NightWhistler/PageTurner,closed,Filter reset after search is broken,"[Label(name=""Bug"")]","From the forums:

> In shelf mode, after using the search feature and closing the search bar (by clicking the top-left book icon with the < indicator) the shelf display doesn't revert back to the selected sort/filter method.
> 
> Example: With shelf displayed, I have filter 'Most recently read books' selected. Presently it correctly only shows 4 of the 100 or so books I have on the whole shelf, since these are the only 4 I've recently read.
> 
> Now I press the search button and start typing a search term. It displays the books matching the search term.
> 
> Now I close the search bar by clicking on the top left book icon (with the < indicator). It goes back to saying that it's displaying 'Most recently read books' but it still shows the books displayed from the last search results. To get it back to properly showing just the 4 books it should show with this filter, I have to drop-down the filter list and select a different filter, and then reselect the 'Most recently read books' filter.
"
NightWhistler/PageTurner,open,Support embedded audio,"[Label(name=""Improvement"")]","Epub3 allows e-books to contain audio that is linked with the text.

Through the TTS support we already have a framework for audio playback in place. It would be very good to use that to also support the audio in epub3 books.
"
NightWhistler/PageTurner,closed,waffle.io Badge,[],"Merge this to receive a badge indicating the number of issues in the ready column on your waffle.io board at http://waffle.io/NightWhistler/PageTurner

This was requested by a real person on waffle.io, we're not trying to spam you.
"
NightWhistler/PageTurner,open,Use a disk-based cache for TextLoader,[],"This article

http://developer.android.com/training/displaying-bitmaps/cache-bitmap.html

describes use of a LruCache and a disk-based cache for caching of images. This approach would probably work well both in the TextLoader and for the Catalog / library.
"
NightWhistler/PageTurner,closed,NPE in page-number calculation,"[Label(name=""Bug"")]","java.lang.RuntimeException: An error occured while executing doInBackground()
at android.os.AsyncTask$3.done(AsyncTask.java:299)
at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
at java.util.concurrent.FutureTask.run(FutureTask.java:137)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
at java.lang.Thread.run(Thread.java:856)
Caused by: java.lang.NullPointerException
at net.nightwhistler.pageturner.view.bookview.BookView$ImageTagHandler.handleTagNode(BookView.java:890)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:269)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:262)
at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:196)
at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask$2.onLoadResource(BookView.java:1402)
at net.nightwhistler.pageturner.epub.ResourceLoader.load(ResourceLoader.java:86)
at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.getOffsets(BookView.java:1436)
at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1343)
at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1329)
at android.os.AsyncTask$2.call(AsyncTask.java:287)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
... 4 more
"
NightWhistler/PageTurner,closed,Current dev is broken on Android 2.1,"[Label(name=""Bug""), Label(name=""waffle:in progress"")]","The current 2.2 dev crashes on Android 2.1:

E/AndroidRuntime(  421): java.lang.RuntimeException: Unable to start activity ComponentInfo{net.nightwhistler.pageturner/net.nightwhistler.pageturner.activity.ReadingActivity}: java.lang.NoSuchMethodException
E/AndroidRuntime(  421):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2496)
E/AndroidRuntime(  421):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)
E/AndroidRuntime(  421):    at android.app.ActivityThread.access$2200(ActivityThread.java:119)
E/AndroidRuntime(  421):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)
E/AndroidRuntime(  421):    at android.os.Handler.dispatchMessage(Handler.java:99)
E/AndroidRuntime(  421):    at android.os.Looper.loop(Looper.java:123)
E/AndroidRuntime(  421):    at android.app.ActivityThread.main(ActivityThread.java:4363)
E/AndroidRuntime(  421):    at java.lang.reflect.Method.invokeNative(Native Method)
E/AndroidRuntime(  421):    at java.lang.reflect.Method.invoke(Method.java:521)
E/AndroidRuntime(  421):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
E/AndroidRuntime(  421):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
E/AndroidRuntime(  421):    at dalvik.system.NativeStart.main(Native Method)
E/AndroidRuntime(  421): Caused by: java.lang.NoSuchMethodException
E/AndroidRuntime(  421):    at java.lang.Class.getDeclaredMethods(Native Method)
E/AndroidRuntime(  421):    at java.lang.ClassCache.getDeclaredMethods(ClassCache.java:153)
E/AndroidRuntime(  421):    at java.lang.Class.getDeclaredMethods(Class.java:792)
E/AndroidRuntime(  421):    at com.google.inject.internal.ProviderMethodsModule.getProviderMethods(ProviderMethodsModule.java:81)
E/AndroidRuntime(  421):    at com.google.inject.internal.ProviderMethodsModule.configure(ProviderMethodsModule.java:73)
E/AndroidRuntime(  421):    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)
E/AndroidRuntime(  421):    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:232)
E/AndroidRuntime(  421):    at com.google.inject.spi.Elements.getElements(Elements.java:101)
E/AndroidRuntime(  421):    at com.google.inject.spi.Elements.getElements(Elements.java:78)
E/AndroidRuntime(  421):    at roboguice.RoboGuice.setBaseApplicationInjector(RoboGuice.java:83)
E/AndroidRuntime(  421):    at roboguice.RoboGuice.setBaseApplicationInjector(RoboGuice.java:139)
E/AndroidRuntime(  421):    at roboguice.RoboGuice.getBaseApplicationInjector(RoboGuice.java:59)
E/AndroidRuntime(  421):    at roboguice.RoboGuice.getInjector(RoboGuice.java:149)
E/AndroidRuntime(  421):    at net.nightwhistler.pageturner.activity.ReadingActivity.onCreate(ReadingActivity.java:39)
E/AndroidRuntime(  421):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
E/AndroidRuntime(  421):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)
E/AndroidRuntime(  421):    ... 11 more
"
NightWhistler/PageTurner,closed,Use notification area for downloads,"[Label(name=""Improvement""), Label(name=""waffle:ready"")]","Instead of using a pop-up when downloading files from an OPDS server, show a progress bar in the notification area like the browser does.

This way the user can keep on browsing while the download is running.
"
NightWhistler/PageTurner,closed,Links in tables are not rendered,"[Label(name=""Bug"")]","Probably a HtmlSpanner issue
"
NightWhistler/PageTurner,closed,Add navigation drawer,"[Label(name=""Improvement"")]","Right now, navigation through the app is a bit clumsy using menu items.

We should add a Navigation Drawer (http://developer.android.com/design/patterns/navigation-drawer.html) for smoother navigation through the app.

We can also use that to create an experience similar to this

http://writoscope.me/wp-content/uploads/2011/11/adobede-act1.png

while reading, so the user can also easily navigate the book.
"
NightWhistler/PageTurner,open,Multiple bookshelf backgrounds ,"[Label(name=""Improvement"")]","Multiple bookshelf backgrounds for users to choose from. 
"
NightWhistler/PageTurner,closed,Ask before removing highlights with notes ,"[Label(name=""waffle:ready"")]","When you remove a highlight that has notes attached pageturner should inform you that removing the highlight would also remove the notes. 
"
NightWhistler/PageTurner,open,Optimize text-search,"[Label(name=""Improvement"")]","Text search does still load the entire book text into memory. We should handle it in the same way as the page-number calculation.
"
NightWhistler/PageTurner,open,Add Samsung Multiwindow support,"[Label(name=""Improvement"")]","Requested in the Market comments: it looks like it's simply a matter of some extra lines in AndroidManifest.xml
"
NightWhistler/PageTurner,closed,Invalid section names cause crash,"[Label(name=""Bug"")]","We should handle problems like this more gracefully:

java.lang.IllegalArgumentException: Invalid % sequence: %?8 in path at index 6: xhtml/%?8%?9.xhtml
    at java.net.URI.create(URI.java:727)
    at java.net.URI.resolve(URI.java:1239)
    at net.nightwhistler.pageturner.epub.PageTurnerSpine.resolveHref(PageTurnerSpine.java:234)
    at net.nightwhistler.pageturner.epub.PageTurnerSpine.resolveTocHref(PageTurnerSpine.java:226)
    at net.nightwhistler.pageturner.view.bookview.BookView.flatten(BookView.java:659)
    at net.nightwhistler.pageturner.view.bookview.BookView.getTableOfContents(BookView.java:636)
    at net.nightwhistler.pageturner.activity.ReadingFragment.initTocDialog(ReadingFragment.java:2400)
    at net.nightwhistler.pageturner.activity.ReadingFragment.onPrepareOptionsMenu(ReadingFragment.java:1943)
    at android.support.v4.app.Watson.onPreparePanel(Watson.java:99)
    at com.actionbarsherlock.ActionBarSherlock.callbackPrepareOptionsMenu(ActionBarSherlock.java:580)
    at com.actionbarsherlock.internal.ActionBarSherlockNative.dispatchPrepareOptionsMenu(ActionBarSherlockNative.java:69)
    at com.actionbarsherlock.app.SherlockFragmentActivity.onPreparePanel(SherlockFragmentActivity.java:185)
    at com.android.internal.policy.impl.PhoneWindow.preparePanel(PhoneWindow.java:416)
    at com.android.internal.policy.impl.PhoneWindow.invalidatePanelMenu(PhoneWindow.java:739)
    at com.actionbarsherlock.internal.ActionBarSherlockNative.dispatchInvalidateOptionsMenu(ActionBarSherlockNative.java:49)
    at com.actionbarsherlock.app.SherlockFragmentActivity.invalidateOptionsMenu(SherlockFragmentActivity.java:150)
    at com.actionbarsherlock.app.SherlockFragmentActivity.supportInvalidateOptionsMenu(SherlockFragmentActivity.java:156)
    at net.nightwhistler.pageturner.activity.ReadingFragment.bookOpened(ReadingFragment.java:1147)
    at net.nightwhistler.pageturner.view.bookview.BookView.bookOpened(BookView.java:990)
    at net.nightwhistler.pageturner.view.bookview.BookView.access$1600(BookView.java:75)
    at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1296)
    at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1153)
    at android.os.AsyncTask.finish(AsyncTask.java:602)
    at android.os.AsyncTask.access$600(AsyncTask.java:156)
    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:615)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4446)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,NPE in launchActvity(),"[Label(name=""Bug"")]","java.lang.NullPointerException
    at android.content.ComponentName.<init>(ComponentName.java:75)
    at android.content.Intent.<init>(Intent.java:3615)
    at net.nightwhistler.pageturner.activity.ReadingFragment.launchActivity(ReadingFragment.java:2372)
    at net.nightwhistler.pageturner.activity.ReadingFragment.errorOnBookOpening(ReadingFragment.java:1320)
    at net.nightwhistler.pageturner.view.bookview.BookView.errorOnBookOpening(BookView.java:996)
    at net.nightwhistler.pageturner.view.bookview.BookView.access$1700(BookView.java:75)
    at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1298)
    at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1153)
    at android.os.AsyncTask.finish(AsyncTask.java:631)
    at android.os.AsyncTask.access$600(AsyncTask.java:177)
    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4898)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1006)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:773)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,NPE in performSearch,"[Label(name=""Bug"")]","java.lang.NullPointerException
    at net.nightwhistler.pageturner.catalog.CatalogFragment.performSearch(CatalogFragment.java:208)
    at net.nightwhistler.pageturner.catalog.CatalogFragment$2.onQueryTextSubmit(CatalogFragment.java:351)
    at com.actionbarsherlock.widget.SearchView.onSubmitQuery(SearchView.java:1184)
    at com.actionbarsherlock.widget.SearchView.access$1000(SearchView.java:103)
    at com.actionbarsherlock.widget.SearchView$9.onEditorAction(SearchView.java:1162)
    at android.widget.TextView.onEditorAction(TextView.java:3246)
    at com.android.internal.widget.EditableInputConnection.performEditorAction(EditableInputConnection.java:90)
    at com.android.internal.view.IInputConnectionWrapper.executeMessage(IInputConnectionWrapper.java:301)
    at com.android.internal.view.IInputConnectionWrapper$MyHandler.handleMessage(IInputConnectionWrapper.java:79)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:130)
    at android.app.ActivityThread.main(ActivityThread.java:3687)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:507)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Page measure algorithm makes pages too long,"[Label(name=""Bug"")]","When you turn off, you sometimes get half lines, cut off because of lack of space.
"
NightWhistler/PageTurner,closed,IndexOutofBounds in catalog,"[Label(name=""Bug""), Label(name=""waffle:ready"")]","java.lang.IndexOutOfBoundsException: Invalid index 78, size is 6
    at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:251)
    at java.util.ArrayList.get(ArrayList.java:304)
    at java.util.Collections$UnmodifiableList.get(Collections.java:1050)
    at net.nightwhistler.pageturner.catalog.CatalogListAdapter.getItem(CatalogListAdapter.java:106)
    at net.nightwhistler.pageturner.catalog.CatalogFragment$LoadingScrollListener$1.run(CatalogFragment.java:624)
    at android.os.Handler.handleCallback(Handler.java:605)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4514)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,open,Add built-in colour schemes,"[Label(name=""Improvement"")]","Besides the option to create fully custom colour that we have now, it would also be nice to offer the user a number of pre-defined schemes (light, dark, sepia, high-contrast) that they can then assign to day / night mode.
"
NightWhistler/PageTurner,open,"Add a ""go to page"" option","[Label(name=""Improvement"")]","Allow the user to navigate based on a page number.
"
NightWhistler/PageTurner,closed,do it support txt?,[],
NightWhistler/PageTurner,closed,NPE on Resource.getReader(),"[Label(name=""Bug"")]","java.lang.RuntimeException: An error occured while executing doInBackground()
    at android.os.AsyncTask$3.done(AsyncTask.java:299)
    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:352)
    at java.util.concurrent.FutureTask.setException(FutureTask.java:219)
    at java.util.concurrent.FutureTask.run(FutureTask.java:239)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
    at java.lang.Thread.run(Thread.java:856)
Caused by: java.lang.NullPointerException
    at java.io.ByteArrayInputStream.<init>(ByteArrayInputStream.java:60)
    at nl.siegmann.epublib.domain.Resource.getReader(Resource.java:346)
    at net.nightwhistler.pageturner.view.bookview.TextLoader.getText(TextLoader.java:232)
    at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1142)
    at net.nightwhistler.pageturner.view.bookview.BookView.access$2300(BookView.java:80)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1380)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1363)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask.run(FutureTask.java:234)
    ... 3 more
java.lang.NullPointerException
    at java.io.ByteArrayInputStream.<init>(ByteArrayInputStream.java:60)
    at nl.siegmann.epublib.domain.Resource.getReader(Resource.java:346)
    at net.nightwhistler.pageturner.view.bookview.TextLoader.getText(TextLoader.java:232)
    at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1142)
    at net.nightwhistler.pageturner.view.bookview.BookView.access$2300(BookView.java:80)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1380)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1363)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask.run(FutureTask.java:234)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
    at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,closed,Unknown color,"[Label(name=""Bug"")]","Technically a HtmlSpanner issue, but I'll report it here.

If the HTML contains a color attribute which Android can't parse, this causes a crash.


java.lang.RuntimeException: An error occured while executing doInBackground()
    at android.os.AsyncTask$3.done(AsyncTask.java:299)
    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
    at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
    at java.lang.Thread.run(Thread.java:856)
Caused by: java.lang.IllegalArgumentException: Unknown color
    at android.graphics.Color.parseColor(Color.java:226)
    at net.nightwhistler.htmlspanner.handlers.FontHandler.handleTagNode(FontHandler.java:76)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:295)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:185)
    at net.nightwhistler.pageturner.view.bookview.TextLoader.getText(TextLoader.java:232)
    at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1142)
    at net.nightwhistler.pageturner.view.bookview.BookView.access$2300(BookView.java:80)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1380)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1363)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
    ... 4 more
java.lang.IllegalArgumentException: Unknown color
    at android.graphics.Color.parseColor(Color.java:226)
    at net.nightwhistler.htmlspanner.handlers.FontHandler.handleTagNode(FontHandler.java:76)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:295)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:185)
    at net.nightwhistler.pageturner.view.bookview.TextLoader.getText(TextLoader.java:232)
    at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1142)
    at net.nightwhistler.pageturner.view.bookview.BookView.access$2300(BookView.java:80)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1380)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1363)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
    at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,closed,Margins on book-details,"[Label(name=""Improvement"")]","Right now the text for book-details in the catalog is right at the border. A small margin would make it look much better.
"
NightWhistler/PageTurner,open,Add support for AuthorProfiles,"[Label(name=""Improvement"")]","Smashwords (and probably other sites as well) have author-profiles (rel='authorprofile' type='text/html' title='Author Profile' href='XXX')

PageTurner should support this.
"
NightWhistler/PageTurner,closed,Cancelled downloads cause issues,"[Label(name=""Bug"")]","When you cancel a download, the download dialog doesn't show again for a new download.
"
NightWhistler/PageTurner,closed,External links in OPDS don't work,"[Label(name=""Bug"")]","The Smashwords feed has a ""Visit smashwords.com"" item, which should open a browser, but it doesn't work.
"
NightWhistler/PageTurner,open,Permission denied on aFileChooser,"[Label(name=""Bug"")]","java.lang.SecurityException: Permission Denial: starting Intent { act=android.intent.action.GET_CONTENT cat=[android.intent.category.OPENABLE] typ=file/\* cmp=com.meltingsource.DocsViewer/com.ipaulpro.afilechooser.FileChooserActivity } from ProcessRecord{4188dd48 18851:net.nightwhistler.pageturner.ads/10017} (pid=18851, uid=10017) not exported from uid 10107
    at android.os.Parcel.readException(Parcel.java:1328)
    at android.os.Parcel.readException(Parcel.java:1282)
    at android.app.ActivityManagerProxy.startActivity(ActivityManagerNative.java:1728)
    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1383)
    at android.app.Activity.startActivityForResult(Activity.java:3190)
    at android.support.v4.app.FragmentActivity.startActivityFromFragment(FragmentActivity.java:689)
    at android.support.v4.app.Fragment.startActivityForResult(Fragment.java:794)
    at net.nightwhistler.pageturner.activity.ReadingFragment.launchFileManager(ReadingFragment.java:2315)
    at net.nightwhistler.pageturner.activity.ReadingFragment.onOptionsItemSelected(ReadingFragment.java:2102)
    at android.support.v4.app.Watson.onMenuItemSelected(Watson.java:127)
    at com.actionbarsherlock.ActionBarSherlock.callbackOptionsItemSelected(ActionBarSherlock.java:603)
    at com.actionbarsherlock.internal.ActionBarSherlockNative.dispatchOptionsItemSelected(ActionBarSherlockNative.java:78)
    at com.actionbarsherlock.app.SherlockFragmentActivity.onMenuItemSelected(SherlockFragmentActivity.java:205)
    at com.android.internal.policy.impl.PhoneWindow.onMenuItemSelected(PhoneWindow.java:977)
    at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:735)
    at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:149)
    at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:874)
    at com.android.internal.view.menu.MenuPopupHelper.onItemClick(MenuPopupHelper.java:156)
    at android.widget.AdapterView.performItemClick(AdapterView.java:292)
    at android.widget.AbsListView.performItemClick(AbsListView.java:1173)
    at android.widget.AbsListView$PerformClick.run(AbsListView.java:2701)
    at android.widget.AbsListView.onTouchEvent(AbsListView.java:3468)
    at android.view.View.dispatchTouchEvent(View.java:5588)
    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1962)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1723)
    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1968)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1737)
    at android.widget.PopupWindow$PopupViewContainer.dispatchTouchEvent(PopupWindow.java:1593)
    at android.view.View.dispatchPointerEvent(View.java:5768)
    at android.view.ViewRootImpl.deliverPointerEvent(ViewRootImpl.java:2957)
    at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2531)
    at android.view.ViewRootImpl.processInputEvents(ViewRootImpl.java:898)
    at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2540)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4514)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,OutOfMemoryError in TextLoader.getText(),"[Label(name=""Bug"")]","This seems to be the main place where memory problems happen now.
"
NightWhistler/PageTurner,closed,NPE on download failed,"[Label(name=""Bug"")]","Needs another isAdded() check

> java.lang.NullPointerException
>     at android.widget.Toast.makeText(Toast.java:276)
>     at net.nightwhistler.pageturner.catalog.BookDetailsFragment$5.downloadFailed(BookDetailsFragment.java:316)
>     at net.nightwhistler.pageturner.catalog.DownloadFileTask.onPostExecute(DownloadFileTask.java:178)
>     at net.nightwhistler.pageturner.catalog.DownloadFileTask.onPostExecute(DownloadFileTask.java:40)
>     at android.os.AsyncTask.finish(AsyncTask.java:417)
>     at android.os.AsyncTask.access$300(AsyncTask.java:127)
>     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:130)
>     at android.app.ActivityThread.main(ActivityThread.java:3691)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:507)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:907)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:665)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Books deleted?,"[Label(name=""Bug"")]","A very charming and eloquent report from the Google Play console:

> This app is no good After spending alot if time downloading books it deleted the efin books what a piece of doodoo

Maybe the library cleaner got over-zealous?
"
NightWhistler/PageTurner,open,Hyphenation and justification,[],"Currently, text is displayed without hyphenation or justification. The result is a ""ragged"" right margin. Implementing hyphenation and justification would solve this problem and make the text look better and easier to read.
"
NightWhistler/PageTurner,closed,Add qumran to e-book list,"[Label(name=""Task"")]","They have English and German e-books:

http://ebooks.qumran.org/
"
NightWhistler/PageTurner,closed,ConcurrentModificationException,"[Label(name=""Bug"")]","Most likely turning a page while calculating page numbers:

> java.lang.RuntimeException: An error occured while executing doInBackground()
>     at android.os.AsyncTask$3.done(AsyncTask.java:299)
>     at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:352)
>     at java.util.concurrent.FutureTask.setException(FutureTask.java:219)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:239)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
>     at java.lang.Thread.run(Thread.java:856)
> Caused by: java.util.ConcurrentModificationException
>     at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:569)
>     at net.nightwhistler.pageturner.epub.ResourceLoader.findCallbacksFor(ResourceLoader.java:102)
>     at net.nightwhistler.pageturner.epub.ResourceLoader.load(ResourceLoader.java:81)
>     at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1144)
>     at net.nightwhistler.pageturner.view.bookview.BookView.access$2300(BookView.java:80)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1380)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1363)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:234)
>     ... 3 more
> java.util.ConcurrentModificationException
>     at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:569)
>     at net.nightwhistler.pageturner.epub.ResourceLoader.findCallbacksFor(ResourceLoader.java:102)
>     at net.nightwhistler.pageturner.epub.ResourceLoader.load(ResourceLoader.java:81)
>     at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1144)
>     at net.nightwhistler.pageturner.view.bookview.BookView.access$2300(BookView.java:80)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1380)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1363)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:234)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
>     at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,closed,NPE on Toast,"[Label(name=""Bug"")]","Probably not attached.

> java.lang.NullPointerException
>     at android.widget.Toast.makeText(Toast.java:258)
>     at net.nightwhistler.pageturner.catalog.BookDetailsFragment$5.downloadSuccess(BookDetailsFragment.java:306)
>     at net.nightwhistler.pageturner.catalog.DownloadFileTask.onPostExecute(DownloadFileTask.java:176)
>     at net.nightwhistler.pageturner.catalog.DownloadFileTask.onPostExecute(DownloadFileTask.java:40)
>     at android.os.AsyncTask.finish(AsyncTask.java:417)
>     at android.os.AsyncTask.access$300(AsyncTask.java:127)
>     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:130)
>     at android.app.ActivityThread.main(ActivityThread.java:3701)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:507)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:624)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Never use BitmapFactory directly,"[Label(name=""Bug""), Label(name=""Improvement"")]","Most of our OutOfMemoryError problems come from loading Bitmaps... it's better to define our own singleton component for that, which does smarter loading and simply returns null when memory runs out.
"
NightWhistler/PageTurner,closed,Error on getTopLeftPosition(),"[Label(name=""Bug"")]","More indexoutofbounds...

> java.lang.ArrayIndexOutOfBoundsException: length=0; index=-1
>     at java.util.ArrayList.get(ArrayList.java:306)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.getTopLeftPosition(FixedPagesStrategy.java:216)
>     at net.nightwhistler.pageturner.view.bookview.BookView.getStartOfCurrentPage(BookView.java:687)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$StreamToDiskRunnable.run(ReadingFragment.java:654)
>     at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,closed,End before start,"[Label(name=""Bug"")]","Reported on 2.1.1: another mistake in page number calculation it seems:

> java.lang.IndexOutOfBoundsException: getChars (42277 ... 35828) has end before start
>     at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:947)
>     at android.text.SpannableStringBuilder.getChars(SpannableStringBuilder.java:858)
>     at android.text.TextUtils.getChars(TextUtils.java:66)
>     at android.text.SpannableStringBuilder.<init>(SpannableStringBuilder.java:60)
>     at android.text.SpannableStringBuilder.subSequence(SpannableStringBuilder.java:850)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.getTextForPage(FixedPagesStrategy.java:187)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.updatePosition(FixedPagesStrategy.java:179)
>     at net.nightwhistler.pageturner.view.bookview.BookView.restorePosition(BookView.java:716)
>     at net.nightwhistler.pageturner.view.bookview.BookView.access$1800(BookView.java:80)
>     at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1337)
>     at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1185)
>     at android.os.AsyncTask.finish(AsyncTask.java:590)
>     at android.os.AsyncTask.access$600(AsyncTask.java:149)
>     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:603)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:132)
>     at android.app.ActivityThread.main(ActivityThread.java:4123)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:491)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,IndexOutOfBounds: Text dissapearing?,"[Label(name=""Bug"")]","Another IndexOutOfBounds, but the interesting part here is that it says the text length is very short (less than 100 chars usually, but not always the same number), which causes an IndexOutOfBounds when trying to read a page.

> java.lang.IndexOutOfBoundsException: getChars (28280 ... 29110) ends beyond length 50
>     at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1016)
>     at android.text.SpannableStringBuilder.getChars(SpannableStringBuilder.java:913)
>     at android.text.TextUtils.getChars(TextUtils.java:74)
>     at android.text.SpannableStringBuilder.<init>(SpannableStringBuilder.java:61)
>     at android.text.SpannableStringBuilder.subSequence(SpannableStringBuilder.java:905)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.getTextForPage(FixedPagesStrategy.java:197)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.updatePosition(FixedPagesStrategy.java:179)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.pageUp(FixedPagesStrategy.java:304)
>     at net.nightwhistler.pageturner.view.bookview.BookView.pageUp(BookView.java:392)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.doPageCurl(ReadingFragment.java:1622)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.pageUp(ReadingFragment.java:1851)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.onSwipeRight(ReadingFragment.java:2169)
>     at net.nightwhistler.pageturner.view.NavGestureDetector.onFling(NavGestureDetector.java:119)
>     at android.view.GestureDetector.onTouchEvent(GestureDetector.java:600)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$5.onTouch(ReadingFragment.java:431)
>     at android.view.View.dispatchTouchEvent(View.java:7241)
>     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2168)
>     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1903)
>     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
>     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
>     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
>     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
>     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
>     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
>     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
>     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
>     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
>     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
>     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
>     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
>     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1953)
>     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1405)
>     at android.app.Activity.dispatchTouchEvent(Activity.java:2410)
>     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1901)
>     at android.view.View.dispatchPointerEvent(View.java:7426)
>     at android.view.ViewRootImpl.deliverPointerEvent(ViewRootImpl.java:3220)
>     at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:3165)
>     at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:4292)
>     at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:4271)
>     at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:4363)
>     at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:179)
>     at android.view.InputEventReceiver.nativeConsumeBatchedInputEvents(Native Method)
>     at android.view.InputEventReceiver.consumeBatchedInputEvents(InputEventReceiver.java:171)
>     at android.view.ViewRootImpl.doConsumeBatchedInput(ViewRootImpl.java:4342)
>     at android.view.ViewRootImpl$ConsumeBatchedInputRunnable.run(ViewRootImpl.java:4382)
>     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:749)
>     at android.view.Choreographer.doCallbacks(Choreographer.java:562)
>     at android.view.Choreographer.doFrame(Choreographer.java:530)
>     at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:735)
>     at android.os.Handler.handleCallback(Handler.java:725)
>     at android.os.Handler.dispatchMessage(Handler.java:92)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:5041)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Improve memory management in TextLoader,"[Label(name=""Bug""), Label(name=""Improvement"")]","We still see OutOfMemory errors in the loadText() function.

We can improve memory management by:
- When clearing cached text, also close loaded text resources in the book, switching them to lazy loading
- Actively catch OutOfMemoryError on the text load, clear all and retry
"
NightWhistler/PageTurner,closed,Tasks out of sync,"[Label(name=""Bug"")]","We have 2 conflicting import-tasks:

> java.lang.RuntimeException: Tasks out of sync! Expected net.nightwhistler.pageturner.library.ImportTask@41ef0768 but got ImportTask with queue: [ImportTask]
>     at net.nightwhistler.pageturner.scheduling.TaskQueue.taskCompleted(TaskQueue.java:119)
>     at net.nightwhistler.pageturner.scheduling.QueueableAsyncTask.onCancelled(QueueableAsyncTask.java:70)
>     at android.os.AsyncTask.finish(AsyncTask.java:629)
>     at android.os.AsyncTask.access$600(AsyncTask.java:177)
>     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4921)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1038)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:805)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Crash on hideDetailsView,"[Label(name=""Bug"")]","Looks like the background task tries to hide the view after it's already been stopped.

> java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState
>     at android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:1299)
>     at android.support.v4.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:1310)
>     at android.support.v4.app.BackStackRecord.commitInternal(BackStackRecord.java:541)
>     at android.support.v4.app.BackStackRecord.commit(BackStackRecord.java:525)
>     at net.nightwhistler.pageturner.activity.CatalogActivity.hideDetailsView(CatalogActivity.java:65)
>     at net.nightwhistler.pageturner.activity.CatalogActivity.onFeedReplaced(CatalogActivity.java:82)
>     at net.nightwhistler.pageturner.catalog.CatalogFragment.setNewFeed(CatalogFragment.java:461)
>     at net.nightwhistler.pageturner.catalog.LoadOPDSTask.doOnPostExecute(LoadOPDSTask.java:174)
>     at net.nightwhistler.pageturner.catalog.LoadOPDSTask.doOnPostExecute(LoadOPDSTask.java:41)
>     at net.nightwhistler.pageturner.scheduling.QueueableAsyncTask.onPostExecute(QueueableAsyncTask.java:54)
>     at android.os.AsyncTask.finish(AsyncTask.java:631)
>     at android.os.AsyncTask.access$600(AsyncTask.java:177)
>     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4745)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,IndexOutOfBounds on text rendering,"[Label(name=""Bug"")]","> java.lang.ArrayIndexOutOfBoundsException: length=27; index=-1
>     at java.util.ArrayList.get(ArrayList.java:306)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.getTextForPage(FixedPagesStrategy.java:195)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.updatePosition(FixedPagesStrategy.java:179)
>     at net.nightwhistler.pageturner.view.bookview.BookView.restorePosition(BookView.java:716)
>     at net.nightwhistler.pageturner.view.bookview.BookView.doNavigation(BookView.java:612)
>     at net.nightwhistler.pageturner.view.bookview.BookView.navigateTo(BookView.java:631)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$9.run(ReadingFragment.java:811)
>     at android.os.Handler.handleCallback(Handler.java:605)
>     at android.os.Handler.dispatchMessage(Handler.java:92)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4517)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:788)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:555)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Error on stopping TTS,"[Label(name=""Bug"")]","IllegalStateException: probably caused by a service that was never initialized properly:

> java.lang.IllegalArgumentException: Service not registered: android.speech.tts.TextToSpeech$Connection@42694e78
>     at android.app.LoadedApk.forgetServiceDispatcher(LoadedApk.java:888)
>     at android.app.ContextImpl.unbindService(ContextImpl.java:1179)
>     at android.content.ContextWrapper.unbindService(ContextWrapper.java:375)
>     at android.speech.tts.TextToSpeech$Connection.disconnect(TextToSpeech.java:1298)
>     at android.speech.tts.TextToSpeech$Connection.runAction(TextToSpeech.java:1313)
>     at android.speech.tts.TextToSpeech.runAction(TextToSpeech.java:568)
>     at android.speech.tts.TextToSpeech.runAction(TextToSpeech.java:559)
>     at android.speech.tts.TextToSpeech.stop(TextToSpeech.java:926)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.stopTextToSpeech(ReadingFragment.java:912)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.access$2200(ReadingFragment.java:97)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$7.run(ReadingFragment.java:688)
>     at android.os.Handler.handleCallback(Handler.java:605)
>     at android.os.Handler.dispatchMessage(Handler.java:92)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4517)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:788)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:555)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,long click isn't working,"[Label(name=""Bug"")]","Nothing happens when I long press a word.
"
NightWhistler/PageTurner,closed,Crash while filtering unread books,"[Label(name=""Bug"")]","Will crash every time:

> java.lang.RuntimeException: An error occured while executing doInBackground()
>     at android.os.AsyncTask$3.done(AsyncTask.java:299)
>     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
>     at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
>     at java.lang.Thread.run(Thread.java:856)
> Caused by: java.lang.NullPointerException
>     at net.nightwhistler.pageturner.library.LibraryDatabaseHelper.getFilterArgs(LibraryDatabaseHelper.java:184)
>     at net.nightwhistler.pageturner.library.LibraryDatabaseHelper.findByField(LibraryDatabaseHelper.java:212)
>     at net.nightwhistler.pageturner.library.SqlLiteLibraryService.findUnread(SqlLiteLibraryService.java:172)
>     at net.nightwhistler.pageturner.activity.LibraryFragment$LoadBooksTask.doInBackground(LibraryFragment.java:1231)
>     at net.nightwhistler.pageturner.activity.LibraryFragment$LoadBooksTask.doInBackground(LibraryFragment.java:1194)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
>     ... 4 more
> java.lang.NullPointerException
>     at net.nightwhistler.pageturner.library.LibraryDatabaseHelper.getFilterArgs(LibraryDatabaseHelper.java:184)
>     at net.nightwhistler.pageturner.library.LibraryDatabaseHelper.findByField(LibraryDatabaseHelper.java:212)
>     at net.nightwhistler.pageturner.library.SqlLiteLibraryService.findUnread(SqlLiteLibraryService.java:172)
>     at net.nightwhistler.pageturner.activity.LibraryFragment$LoadBooksTask.doInBackground(LibraryFragment.java:1231)
>     at net.nightwhistler.pageturner.activity.LibraryFragment$LoadBooksTask.doInBackground(LibraryFragment.java:1194)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
>     at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,closed,IllegalStateException,"[Label(name=""Bug"")]","Reported on 2.1.1

> java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState
>     at android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:1299)
>     at android.support.v4.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:1310)
>     at android.support.v4.app.BackStackRecord.commitInternal(BackStackRecord.java:541)
>     at android.support.v4.app.BackStackRecord.commit(BackStackRecord.java:525)
>     at net.nightwhistler.pageturner.activity.CatalogActivity.hideDetailsView(CatalogActivity.java:65)
>     at net.nightwhistler.pageturner.activity.CatalogActivity.onFeedReplaced(CatalogActivity.java:82)
>     at net.nightwhistler.pageturner.catalog.CatalogFragment.setNewFeed(CatalogFragment.java:461)
>     at net.nightwhistler.pageturner.catalog.LoadOPDSTask.doOnPostExecute(LoadOPDSTask.java:174)
>     at net.nightwhistler.pageturner.catalog.LoadOPDSTask.doOnPostExecute(LoadOPDSTask.java:41)
>     at net.nightwhistler.pageturner.scheduling.QueueableAsyncTask.onPostExecute(QueueableAsyncTask.java:54)
>     at android.os.AsyncTask.finish(AsyncTask.java:631)
>     at android.os.AsyncTask.access$600(AsyncTask.java:177)
>     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4745)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,NPE while playing beep,"[Label(name=""Bug"")]","Reported on 2.1.1

> java.lang.NullPointerException
>     at net.nightwhistler.pageturner.activity.ReadingFragment.playBeep(ReadingFragment.java:571)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.access$2400(ReadingFragment.java:97)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$7.run(ReadingFragment.java:686)
>     at android.os.Handler.handleCallback(Handler.java:615)
>     at android.os.Handler.dispatchMessage(Handler.java:92)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4921)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1038)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:805)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,NPE in setImageSpan,"[Label(name=""Bug"")]","Reporterd on 2.1.1

> java.lang.RuntimeException: An error occured while executing doInBackground()
>     at android.os.AsyncTask$3.done(AsyncTask.java:299)
>     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
>     at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
>     at java.lang.Thread.run(Thread.java:856)
> Caused by: java.lang.NullPointerException
>     at net.nightwhistler.pageturner.view.bookview.BookView.setImageSpan(BookView.java:724)
>     at net.nightwhistler.pageturner.view.bookview.BookView.access$200(BookView.java:80)
>     at net.nightwhistler.pageturner.view.bookview.BookView$ImageTagHandler.handleTagNode(BookView.java:912)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:295)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:185)
>     at net.nightwhistler.pageturner.view.bookview.TextLoader.getText(TextLoader.java:232)
>     at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1142)
>     at net.nightwhistler.pageturner.view.bookview.BookView.access$2300(BookView.java:80)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1380)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1363)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
>     ... 4 more
> java.lang.NullPointerException
>     at net.nightwhistler.pageturner.view.bookview.BookView.setImageSpan(BookView.java:724)
>     at net.nightwhistler.pageturner.view.bookview.BookView.access$200(BookView.java:80)
>     at net.nightwhistler.pageturner.view.bookview.BookView$ImageTagHandler.handleTagNode(BookView.java:912)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:295)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
>     at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:185)
>     at net.nightwhistler.pageturner.view.bookview.TextLoader.getText(TextLoader.java:232)
>     at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1142)
>     at net.nightwhistler.pageturner.view.bookview.BookView.access$2300(BookView.java:80)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1380)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1363)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
>     at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,open,Connection pool closed,"[Label(name=""Bug"")]","Looks like improper use of SQlite:

> java.lang.RuntimeException: An error occured while executing doInBackground()
>     at android.os.AsyncTask$3.done(AsyncTask.java:299)
>     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
>     at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
>     at java.lang.Thread.run(Thread.java:856)
> Caused by: java.lang.IllegalStateException: Cannot perform this operation because the connection pool has been closed.
>     at android.database.sqlite.SQLiteConnectionPool.throwIfClosedLocked(SQLiteConnectionPool.java:972)
>     at android.database.sqlite.SQLiteConnectionPool.waitForConnection(SQLiteConnectionPool.java:609)
>     at android.database.sqlite.SQLiteConnectionPool.acquireConnection(SQLiteConnectionPool.java:349)
>     at android.database.sqlite.SQLiteSession.acquireConnection(SQLiteSession.java:894)
>     at android.database.sqlite.SQLiteSession.executeForCursorWindow(SQLiteSession.java:834)
>     at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:62)
>     at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:151)
>     at android.database.sqlite.SQLiteCursor.onMove(SQLiteCursor.java:124)
>     at android.database.AbstractCursor.moveToPosition(AbstractCursor.java:213)
>     at net.nightwhistler.pageturner.library.QueryResult.getItemAt(QueryResult.java:61)
>     at net.nightwhistler.pageturner.library.CleanFilesTask.doInBackground(CleanFilesTask.java:55)
>     at net.nightwhistler.pageturner.library.CleanFilesTask.doInBackground(CleanFilesTask.java:32)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
>     ... 4 more
> java.lang.IllegalStateException: Cannot perform this operation because the connection pool has been closed.
>     at android.database.sqlite.SQLiteConnectionPool.throwIfClosedLocked(SQLiteConnectionPool.java:972)
>     at android.database.sqlite.SQLiteConnectionPool.waitForConnection(SQLiteConnectionPool.java:609)
>     at android.database.sqlite.SQLiteConnectionPool.acquireConnection(SQLiteConnectionPool.java:349)
>     at android.database.sqlite.SQLiteSession.acquireConnection(SQLiteSession.java:894)
>     at android.database.sqlite.SQLiteSession.executeForCursorWindow(SQLiteSession.java:834)
>     at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:62)
>     at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:151)
>     at android.database.sqlite.SQLiteCursor.onMove(SQLiteCursor.java:124)
>     at android.database.AbstractCursor.moveToPosition(AbstractCursor.java:213)
>     at net.nightwhistler.pageturner.library.QueryResult.getItemAt(QueryResult.java:61)
>     at net.nightwhistler.pageturner.library.CleanFilesTask.doInBackground(CleanFilesTask.java:55)
>     at net.nightwhistler.pageturner.library.CleanFilesTask.doInBackground(CleanFilesTask.java:32)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
>     at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,open,No wrapped connection ,"[Label(name=""Bug"")]","Looks like we're not using the Http connection correctly:

Logcat:

> 05-26 14:03:24.743 D/ReadingFragment( 9020): onStop(): No active call.
> 05-26 14:03:24.743 W/SingleClientConnManager( 9020): Invalid use of SingleClientConnManager: connection still allocated.
> 05-26 14:03:24.743 W/SingleClientConnManager( 9020): Make sure to release the connection before allocating another one.

Stacktrace:

> java.lang.RuntimeException: An error occured while executing doInBackground()
>     at android.os.AsyncTask$3.done(AsyncTask.java:299)
>     at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:352)
>     at java.util.concurrent.FutureTask.setException(FutureTask.java:219)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:239)
>     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
>     at java.lang.Thread.run(Thread.java:856)
> Caused by: java.lang.IllegalStateException: No wrapped connection.
>     at org.apache.http.impl.conn.AbstractClientConnAdapter.assertValid(AbstractClientConnAdapter.java:163)
>     at org.apache.http.impl.conn.AbstractClientConnAdapter.receiveResponseEntity(AbstractClientConnAdapter.java:243)
>     at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:281)
>     at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:121)
>     at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:428)
>     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
>     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
>     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
>     at net.nightwhistler.pageturner.sync.PageTurnerWebProgressService.getProgress(PageTurnerWebProgressService.java:97)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$DownloadProgressTask.doInBackground(ReadingFragment.java:2580)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$DownloadProgressTask.doInBackground(ReadingFragment.java:2568)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:234)
>     ... 4 more
> java.lang.IllegalStateException: No wrapped connection.
>     at org.apache.http.impl.conn.AbstractClientConnAdapter.assertValid(AbstractClientConnAdapter.java:163)
>     at org.apache.http.impl.conn.AbstractClientConnAdapter.receiveResponseEntity(AbstractClientConnAdapter.java:243)
>     at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:281)
>     at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:121)
>     at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:428)
>     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
>     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
>     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
>     at net.nightwhistler.pageturner.sync.PageTurnerWebProgressService.getProgress(PageTurnerWebProgressService.java:97)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$DownloadProgressTask.doInBackground(ReadingFragment.java:2580)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$DownloadProgressTask.doInBackground(ReadingFragment.java:2568)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:234)
>     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
>     at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,closed,NPE on ActivityStart ,"[Label(name=""Bug"")]","Looks like it's related to TTS init:

>  java.lang.RuntimeException: Unable to start activity ComponentInfo{net.nightwhistler.pageturner.ads/net.nightwhistler.pageturner.activity.ReadingActivity}: android.view.InflateException: Binary XML file line #2: Error inflating class fragment
>     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2110)
>     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2135)
>     at android.app.ActivityThread.access$700(ActivityThread.java:140)
>     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1237)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4921)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1038)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:805)
>     at dalvik.system.NativeStart.main(Native Method)
> Caused by: android.view.InflateException: Binary XML file line #2: Error inflating class fragment
>     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:710)
>     at android.view.LayoutInflater.inflate(LayoutInflater.java:467)
>     at android.view.LayoutInflater.inflate(LayoutInflater.java:397)
>     at android.view.LayoutInflater.inflate(LayoutInflater.java:353)
>     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:316)
>     at com.actionbarsherlock.internal.ActionBarSherlockNative.setContentView(ActionBarSherlockNative.java:119)
>     at com.actionbarsherlock.app.SherlockFragmentActivity.setContentView(SherlockFragmentActivity.java:262)
>     at net.nightwhistler.pageturner.activity.ReadingActivity.onCreate(ReadingActivity.java:56)
>     at android.app.Activity.performCreate(Activity.java:5188)
>     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)
>     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2074)
>     ... 11 more
> Caused by: java.lang.NullPointerException
>     at net.nightwhistler.pageturner.activity.ReadingFragment.onTextToSpeechInit(ReadingFragment.java:923)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$4.onInit(ReadingFragment.java:334)
>     at android.speech.tts.TextToSpeech.dispatchOnInit(TextToSpeech.java:640)
>     at android.speech.tts.TextToSpeech.initTts(TextToSpeech.java:619)
>     at android.speech.tts.TextToSpeech.<init>(TextToSpeech.java:553)
>     at android.speech.tts.TextToSpeech.<init>(TextToSpeech.java:527)
>     at android.speech.tts.TextToSpeech.<init>(TextToSpeech.java:512)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.onViewCreated(ReadingFragment.java:331)
>     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:851)
>     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1058)
>     at android.support.v4.app.FragmentManagerImpl.addFragment(FragmentManager.java:1156)
>     at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:270)
>     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:682)
>     ... 21 more
> android.view.InflateException: Binary XML file line #2: Error inflating class fragment
>     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:710)
>     at android.view.LayoutInflater.inflate(LayoutInflater.java:467)
>     at android.view.LayoutInflater.inflate(LayoutInflater.java:397)
>     at android.view.LayoutInflater.inflate(LayoutInflater.java:353)
>     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:316)
>     at com.actionbarsherlock.internal.ActionBarSherlockNative.setContentView(ActionBarSherlockNative.java:119)
>     at com.actionbarsherlock.app.SherlockFragmentActivity.setContentView(SherlockFragmentActivity.java:262)
>     at net.nightwhistler.pageturner.activity.ReadingActivity.onCreate(ReadingActivity.java:56)
>     at android.app.Activity.performCreate(Activity.java:5188)
>     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)
>     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2074)
>     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2135)
>     at android.app.ActivityThread.access$700(ActivityThread.java:140)
>     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1237)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4921)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1038)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:805)
>     at dalvik.system.NativeStart.main(Native Method)
> Caused by: java.lang.NullPointerException
>     at net.nightwhistler.pageturner.activity.ReadingFragment.onTextToSpeechInit(ReadingFragment.java:923)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$4.onInit(ReadingFragment.java:334)
>     at android.speech.tts.TextToSpeech.dispatchOnInit(TextToSpeech.java:640)
>     at android.speech.tts.TextToSpeech.initTts(TextToSpeech.java:619)
>     at android.speech.tts.TextToSpeech.<init>(TextToSpeech.java:553)
>     at android.speech.tts.TextToSpeech.<init>(TextToSpeech.java:527)
>     at android.speech.tts.TextToSpeech.<init>(TextToSpeech.java:512)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.onViewCreated(ReadingFragment.java:331)
>     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:851)
>     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1058)
>     at android.support.v4.app.FragmentManagerImpl.addFragment(FragmentManager.java:1156)
>     at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:270)
>     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:682)
>     ... 21 more
> java.lang.NullPointerException
>     at net.nightwhistler.pageturner.activity.ReadingFragment.onTextToSpeechInit(ReadingFragment.java:923)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$4.onInit(ReadingFragment.java:334)
>     at android.speech.tts.TextToSpeech.dispatchOnInit(TextToSpeech.java:640)
>     at android.speech.tts.TextToSpeech.initTts(TextToSpeech.java:619)
>     at android.speech.tts.TextToSpeech.<init>(TextToSpeech.java:553)
>     at android.speech.tts.TextToSpeech.<init>(TextToSpeech.java:527)
>     at android.speech.tts.TextToSpeech.<init>(TextToSpeech.java:512)
>     at net.nightwhistler.pageturner.activity.ReadingFragment.onViewCreated(ReadingFragment.java:331)
>     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:851)
>     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1058)
>     at android.support.v4.app.FragmentManagerImpl.addFragment(FragmentManager.java:1156)
>     at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:270)
>     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:682)
>     at android.view.LayoutInflater.inflate(LayoutInflater.java:467)
>     at android.view.LayoutInflater.inflate(LayoutInflater.java:397)
>     at android.view.LayoutInflater.inflate(LayoutInflater.java:353)
>     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:316)
>     at com.actionbarsherlock.internal.ActionBarSherlockNative.setContentView(ActionBarSherlockNative.java:119)
>     at com.actionbarsherlock.app.SherlockFragmentActivity.setContentView(SherlockFragmentActivity.java:262)
>     at net.nightwhistler.pageturner.activity.ReadingActivity.onCreate(ReadingActivity.java:56)
>     at android.app.Activity.performCreate(Activity.java:5188)
>     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)
>     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2074)
>     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2135)
>     at android.app.ActivityThread.access$700(ActivityThread.java:140)
>     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1237)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4921)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1038)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:805)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Fragment not attached,"[Label(name=""Bug"")]","Crash report for 2.1.1  

> java.lang.IllegalStateException: Fragment ReadingFragment{414c3e58} not attached to Activity
>     at android.support.v4.app.Fragment.getResources(Fragment.java:551)
>     at android.support.v4.app.Fragment.getString(Fragment.java:573)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$22.onProgressUpdate(ReadingFragment.java:2436)
>     at net.nightwhistler.pageturner.activity.ReadingFragment$22.onProgressUpdate(ReadingFragment.java:2408)
>     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:618)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4482)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:787)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:554)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,StringIndexOutOfBounds in text rendering,"[Label(name=""Bug"")]","It's a problem in displaying the last page of the chapter, it looks like the calculated indices are wrong:

Reported in 2.1.1

> java.lang.StringIndexOutOfBoundsException
>     at android.text.SpannableStringBuilder.<init>(SpannableStringBuilder.java:54)
>     at android.text.SpannableStringBuilder.subSequence(SpannableStringBuilder.java:905)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.getTextForPage(FixedPagesStrategy.java:187)
>     at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.updatePosition(FixedPagesStrategy.java:179)
>     at net.nightwhistler.pageturner.view.bookview.BookView.restorePosition(BookView.java:716)
>     at net.nightwhistler.pageturner.view.bookview.BookView.access$1800(BookView.java:80)
>     at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1337)
>     at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1185)
>     at android.os.AsyncTask.finish(AsyncTask.java:631)
>     at android.os.AsyncTask.access$600(AsyncTask.java:177)
>     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
>     at android.os.Handler.dispatchMessage(Handler.java:99)
>     at android.os.Looper.loop(Looper.java:137)
>     at android.app.ActivityThread.main(ActivityThread.java:4921)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1038)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:805)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,open,Make sure PageTurner is not dependant on the site,"[Label(name=""Improvement""), Label(name=""Task""), Label(name=""Usability issue""), Label(name=""waffle:ready"")]","PageTurner now gets the list of remote sites from pageturner-reader.org

If pageturner-reader.org is down, this should not cause the app to fail. It should either display a cached copy of the sites list, or only show the user's custom sites.
"
NightWhistler/PageTurner,closed,NPE in showBookDetails,"[Label(name=""Bug"")]","Report is from 2.0.11, the corresponding line in 2.1_bugfix HEAD is 287:

> fileName.setText( libraryBook.getFileName() );

It's likely that fileName was null because of a failed lookup in line 280:

> TextView fileName = (TextView) layout.findViewById(R.id.fileName);

Still weird though.

> java.lang.NullPointerException
>     at net.nightwhistler.pageturner.activity.LibraryFragment.showBookDetails(LibraryFragment.java:245)
>     at net.nightwhistler.pageturner.activity.LibraryFragment.onItemClick(LibraryFragment.java:220)
>     at net.nightwhistler.pageturner.activity.LibraryFragment$BookCaseAdapter$1.onClick(LibraryFragment.java:947)
>     at android.view.View.performClick(View.java:3538)
>     at android.view.View$PerformClick.run(View.java:14330)
>     at android.os.Handler.handleCallback(Handler.java:608)
>     at android.os.Handler.dispatchMessage(Handler.java:92)
>     at android.os.Looper.loop(Looper.java:156)
>     at android.app.ActivityThread.main(ActivityThread.java:4977)
>     at java.lang.reflect.Method.invokeNative(Native Method)
>     at java.lang.reflect.Method.invoke(Method.java:511)
>     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
>     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
>     at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Database crash: missing table,"[Label(name=""Bug"")]","java.lang.RuntimeException: Unable to pause activity {net.nightwhistler.pageturner.ads/net.nightwhistler.pageturner.activity.ReadingActivity}: android.database.sqlite.SQLiteException: no such table: lib_books: , while compiling: UPDATE lib_books SET progress=?,date_last_read=? WHERE file_name like ?
    at android.app.ActivityThread.performPauseActivity(ActivityThread.java:2706)
    at android.app.ActivityThread.performPauseActivity(ActivityThread.java:2662)
    at android.app.ActivityThread.handlePauseActivity(ActivityThread.java:2640)
    at android.app.ActivityThread.access$800(ActivityThread.java:123)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1154)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4424)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
    at dalvik.system.NativeStart.main(Native Method)
Caused by: android.database.sqlite.SQLiteException: no such table: lib_books: , while compiling: UPDATE lib_books SET progress=?,date_last_read=? WHERE file_name like ?
    at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method)
    at android.database.sqlite.SQLiteCompiledSql.<init>(SQLiteCompiledSql.java:68)
    at android.database.sqlite.SQLiteProgram.compileSql(SQLiteProgram.java:143)
    at android.database.sqlite.SQLiteProgram.compileAndbindAllArgs(SQLiteProgram.java:361)
    at android.database.sqlite.SQLiteStatement.acquireAndLock(SQLiteStatement.java:260)
    at android.database.sqlite.SQLiteStatement.executeUpdateDelete(SQLiteStatement.java:84)
    at android.database.sqlite.SQLiteDatabase.updateWithOnConflict(SQLiteDatabase.java:1810)
    at android.database.sqlite.SQLiteDatabase.update(SQLiteDatabase.java:1761)
    at net.nightwhistler.pageturner.library.LibraryDatabaseHelper.updateLastRead(LibraryDatabaseHelper.java:115)
    at net.nightwhistler.pageturner.library.SqlLiteLibraryService.updateReadingProgress(SqlLiteLibraryService.java:54)
    at net.nightwhistler.pageturner.activity.ReadingFragment.sendProgressUpdateToServer(ReadingFragment.java:2381)
    at net.nightwhistler.pageturner.activity.ReadingFragment.saveReadingPosition(ReadingFragment.java:1986)
    at net.nightwhistler.pageturner.activity.ReadingFragment.onPause(ReadingFragment.java:539)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:932)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1080)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1062)
    at android.support.v4.app.FragmentManagerImpl.dispatchPause(FragmentManager.java:1824)
    at android.support.v4.app.FragmentActivity.onPause(FragmentActivity.java:391)
    at com.actionbarsherlock.app.SherlockFragmentActivity.onPause(SherlockFragmentActivity.java:76)
    at com.github.rtyley.android.sherlock.roboguice.activity.RoboSherlockFragmentActivity.onPause(RoboSherlockFragmentActivity.java:58)
    at android.app.Activity.performPause(Activity.java:4576)
    at android.app.Instrumentation.callActivityOnPause(Instrumentation.java:1195)
    at android.app.ActivityThread.performPauseActivity(ActivityThread.java:2693)
    ... 12 more
android.database.sqlite.SQLiteException: no such table: lib_books: , while compiling: UPDATE lib_books SET progress=?,date_last_read=? WHERE file_name like ?
    at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method)
    at android.database.sqlite.SQLiteCompiledSql.<init>(SQLiteCompiledSql.java:68)
    at android.database.sqlite.SQLiteProgram.compileSql(SQLiteProgram.java:143)
    at android.database.sqlite.SQLiteProgram.compileAndbindAllArgs(SQLiteProgram.java:361)
    at android.database.sqlite.SQLiteStatement.acquireAndLock(SQLiteStatement.java:260)
    at android.database.sqlite.SQLiteStatement.executeUpdateDelete(SQLiteStatement.java:84)
    at android.database.sqlite.SQLiteDatabase.updateWithOnConflict(SQLiteDatabase.java:1810)
    at android.database.sqlite.SQLiteDatabase.update(SQLiteDatabase.java:1761)
    at net.nightwhistler.pageturner.library.LibraryDatabaseHelper.updateLastRead(LibraryDatabaseHelper.java:115)
    at net.nightwhistler.pageturner.library.SqlLiteLibraryService.updateReadingProgress(SqlLiteLibraryService.java:54)
    at net.nightwhistler.pageturner.activity.ReadingFragment.sendProgressUpdateToServer(ReadingFragment.java:2381)
    at net.nightwhistler.pageturner.activity.ReadingFragment.saveReadingPosition(ReadingFragment.java:1986)
    at net.nightwhistler.pageturner.activity.ReadingFragment.onPause(ReadingFragment.java:539)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:932)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1080)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1062)
    at android.support.v4.app.FragmentManagerImpl.dispatchPause(FragmentManager.java:1824)
    at android.support.v4.app.FragmentActivity.onPause(FragmentActivity.java:391)
    at com.actionbarsherlock.app.SherlockFragmentActivity.onPause(SherlockFragmentActivity.java:76)
    at com.github.rtyley.android.sherlock.roboguice.activity.RoboSherlockFragmentActivity.onPause(RoboSherlockFragmentActivity.java:58)
    at android.app.Activity.performPause(Activity.java:4576)
    at android.app.Instrumentation.callActivityOnPause(Instrumentation.java:1195)
    at android.app.ActivityThread.performPauseActivity(ActivityThread.java:2693)
    at android.app.ActivityThread.performPauseActivity(ActivityThread.java:2662)
    at android.app.ActivityThread.handlePauseActivity(ActivityThread.java:2640)
    at android.app.ActivityThread.access$800(ActivityThread.java:123)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1154)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4424)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,URL not properly encoded in Catalog,"[Label(name=""Bug"")]","java.lang.RuntimeException: An error occured while executing doInBackground()
    at android.os.AsyncTask$3.done(AsyncTask.java:299)
    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
    at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
    at java.lang.Thread.run(Thread.java:856)
Caused by: java.lang.IllegalArgumentException: Illegal character in path at index 46: http://ebooks.qumran.org/opds/books/en/Science Fiction/Fox B Holden/A Gift For Terra.jpg
    at java.net.URI.create(URI.java:727)
    at org.apache.http.client.methods.HttpGet.<init>(HttpGet.java:75)
    at net.nightwhistler.pageturner.catalog.LoadFakeFeedTask.doInBackground(LoadFakeFeedTask.java:90)
    at net.nightwhistler.pageturner.catalog.LoadFakeFeedTask.doInBackground(LoadFakeFeedTask.java:44)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
    ... 5 more
java.lang.IllegalArgumentException: Illegal character in path at index 46: http://ebooks.qumran.org/opds/books/en/Science Fiction/Fox B Holden/A Gift For Terra.jpg
    at java.net.URI.create(URI.java:727)
    at org.apache.http.client.methods.HttpGet.<init>(HttpGet.java:75)
    at net.nightwhistler.pageturner.catalog.LoadFakeFeedTask.doInBackground(LoadFakeFeedTask.java:90)
    at net.nightwhistler.pageturner.catalog.LoadFakeFeedTask.doInBackground(LoadFakeFeedTask.java:44)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
    at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,closed,Add extra sentence to German translations,"[Label(name=""Task"")]",
NightWhistler/PageTurner,closed,Update Spanish translation,"[Label(name=""Task"")]",
NightWhistler/PageTurner,closed,Todo: Check that the initial import doesn't interfere with the background import,"[Label(name=""Task"")]",
NightWhistler/PageTurner,closed,Add handling of unicode quotes,"[Label(name=""Bug"")]","We handle normal quotes correctly now, but not the unicode equivalent.
"
NightWhistler/PageTurner,closed,Fix the rowsize in the catalog,"[Label(name=""Improvement"")]","If the icons are small the rows ""jump"", which doesn't look good.
"
NightWhistler/PageTurner,closed,TTS text not clearly readable,"[Label(name=""Usability issue"")]","The text is white on a dark-grey background. It might be a good idea to make the background opaque.
"
NightWhistler/PageTurner,closed,"Change default animation to ""Slide""","[Label(name=""Improvement""), Label(name=""Usability issue"")]","The current pageflip animation can be quite slow.

Until we get the nice OpenGL animation it's better to change the default animation to slide.
"
NightWhistler/PageTurner,open,Queue sync requests,[],"From the forums:

> Nook doesn’t have persistent networking – it’s only online when at home. Of course this is unavoidable, but it would be useful if failed sync’s due to no network got queued up and enacted when network came back on. Alternatively, since this is a situation that is predictable, maybe a “Sync Now” menu option would help.

We could probably implement this by monitoring the network state.
"
NightWhistler/PageTurner,closed,Dot dot dot and apostrophe in TTS,"[Label(name=""Bug"")]","The TTS says things like ""dot dot dot"", since it splits on single dots.

This should be treated as a unit.
"
NightWhistler/PageTurner,closed,Beep on chapter start,"[Label(name=""Bug"")]","When starting a new chapter, the TTS beeps again like it's first starting up.
"
NightWhistler/PageTurner,closed,NPE while reading,"[Label(name=""Bug"")]","java.lang.RuntimeException: An error occured while executing doInBackground()
    at android.os.AsyncTask$3.done(AsyncTask.java:299)
    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
    at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
    at java.lang.Thread.run(Thread.java:856)
Caused by: java.lang.NullPointerException
    at net.nightwhistler.pageturner.view.bookview.BookView$ImageTagHandler.handleTagNode(BookView.java:930)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:295)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:115)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.getTable(TableHandler.java:134)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.handleTagNode(TableHandler.java:178)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:295)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:185)
    at net.nightwhistler.pageturner.view.bookview.TextLoader.getText(TextLoader.java:233)
    at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1151)
    at net.nightwhistler.pageturner.view.bookview.BookView.access$2300(BookView.java:89)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1383)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1366)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
    ... 4 more
java.lang.NullPointerException
    at net.nightwhistler.pageturner.view.bookview.BookView$ImageTagHandler.handleTagNode(BookView.java:930)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:295)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:115)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.readNode(TableHandler.java:125)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.getTable(TableHandler.java:134)
    at net.nightwhistler.htmlspanner.handlers.TableHandler.handleTagNode(TableHandler.java:178)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:295)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:288)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:271)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:219)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:185)
    at net.nightwhistler.pageturner.view.bookview.TextLoader.getText(TextLoader.java:233)
    at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1151)
    at net.nightwhistler.pageturner.view.bookview.BookView.access$2300(BookView.java:89)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1383)
    at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1366)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
    at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,closed,Move to SharedPreferences per book,"[Label(name=""Improvement""), Label(name=""Needs refactoring"")]","We now store everything in a single SharedPreferences instance, but it's much more efficient to store things like offsets, highlights, etc in a special file per book.

We can also use to to enable per-book settings.
"
NightWhistler/PageTurner,closed,Search highlights aren't cleared ,"[Label(name=""Bug"")]","From the forums:

> Search highlighting for prior searches isn’t removed when searching for a new word. In fact, the only way I can find to remove the search highlights is to go back to the shelf and then reopen the book.
"
NightWhistler/PageTurner,open,Add image viewer,"[Label(name=""Improvement"")]","From the forums:

> FBReader has a really nice feature that lets you zoom and resize an image. You long-press on the image and it switches into image viewer mode where you can pinch-zoom it. Pressing the back button returns to normal reading mode again.
> 
> This is very helpful for seeing all of the details in an image that may be missed when it’s sized to fit the screen. Would like to see something like this in PageTurner.
"
NightWhistler/PageTurner,closed,Put search results in a pull-down,"[Label(name=""waffle:ready"")]","Instead of a popup with previous search results, put them in a pull-down in the action-bar.
"
NightWhistler/PageTurner,closed,SearchView not working on Transformer Prime,"[Label(name=""Bug"")]","I can't type on the dock when using the search view while reading.
"
NightWhistler/PageTurner,open,Autoscroll won't stop,"[Label(name=""Bug""), Label(name=""waffle:ready"")]","Sometimes autoscroll doesn't stop on a screen touch like it should.
"
NightWhistler/PageTurner,closed,NPE on StartTextToSpeech,"[Label(name=""Bug"")]","In RC1, may already have been solved:

java.lang.NullPointerException
    at net.nightwhistler.pageturner.activity.ReadingFragment.startTextToSpeech(ReadingFragment.java:498)
    at net.nightwhistler.pageturner.activity.ReadingFragment.onOptionsItemSelected(ReadingFragment.java:1930)
    at android.support.v4.app.Watson.onMenuItemSelected(Watson.java:127)
    at com.actionbarsherlock.ActionBarSherlock.callbackOptionsItemSelected(ActionBarSherlock.java:603)
    at com.actionbarsherlock.internal.ActionBarSherlockNative.dispatchOptionsItemSelected(ActionBarSherlockNative.java:78)
    at com.actionbarsherlock.app.SherlockFragmentActivity.onMenuItemSelected(SherlockFragmentActivity.java:205)
    at com.android.internal.policy.impl.PhoneWindow.onMenuItemSelected(PhoneWindow.java:950)
    at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:735)
    at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:149)
    at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:874)
    at com.android.internal.view.menu.MenuPopupHelper.onItemClick(MenuPopupHelper.java:156)
    at android.widget.AdapterView.performItemClick(AdapterView.java:292)
    at android.widget.AbsListView.performItemClick(AbsListView.java:1058)
    at android.widget.AbsListView$PerformClick.run(AbsListView.java:2514)
    at android.widget.AbsListView$1.run(AbsListView.java:3168)
    at android.os.Handler.handleCallback(Handler.java:605)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4424)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,IndexOutOfBoundsException,"[Label(name=""Bug"")]","In RC1,

java.lang.StringIndexOutOfBoundsException: length=42339; index=2147483647
    at java.lang.String.indexAndLength(String.java:589)
    at java.lang.String.substring(String.java:1448)
    at net.nightwhistler.pageturner.activity.ReadingFragment$StreamToDiskRunnable.run(ReadingFragment.java:528)
    at android.os.Handler.handleCallback(Handler.java:615)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:137)
    at android.os.HandlerThread.run(HandlerThread.java:60)

Note: the index corresponds to MAX_INT
"
NightWhistler/PageTurner,closed,NPE in setNewFeed,"[Label(name=""Bug"")]","In RC1:

```
at net.nightwhistler.pageturner.catalog.CatalogFragment.setNewFeed(CatalogFragment.java:446)
at net.nightwhistler.pageturner.catalog.LoadOPDSTask.onProgressUpdate(LoadOPDSTask.java:260)
at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:647)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4745)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
at dalvik.system.NativeStart.main(Native Method)
```
"
NightWhistler/PageTurner,closed,Connection pool closed,"[Label(name=""Bug"")]","In RC1:

java.lang.RuntimeException: An error occured while executing doInBackground()
    at android.os.AsyncTask$3.done(AsyncTask.java:299)
    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
    at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
    at java.lang.Thread.run(Thread.java:856)
Caused by: java.lang.IllegalStateException: Cannot perform this operation because the connection pool has been closed.
    at android.database.sqlite.SQLiteConnectionPool.throwIfClosedLocked(SQLiteConnectionPool.java:962)
    at android.database.sqlite.SQLiteConnectionPool.waitForConnection(SQLiteConnectionPool.java:599)
    at android.database.sqlite.SQLiteConnectionPool.acquireConnection(SQLiteConnectionPool.java:348)
    at android.database.sqlite.SQLiteSession.acquireConnection(SQLiteSession.java:894)
    at android.database.sqlite.SQLiteSession.executeForCursorWindow(SQLiteSession.java:834)
    at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:62)
    at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:151)
    at android.database.sqlite.SQLiteCursor.onMove(SQLiteCursor.java:124)
    at android.database.AbstractCursor.moveToPosition(AbstractCursor.java:213)
    at net.nightwhistler.pageturner.library.QueryResult.getItemAt(QueryResult.java:61)
    at net.nightwhistler.pageturner.library.CleanFilesTask.doInBackground(CleanFilesTask.java:60)
    at net.nightwhistler.pageturner.library.CleanFilesTask.doInBackground(CleanFilesTask.java:37)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
    ... 4 more
java.lang.IllegalStateException: Cannot perform this operation because the connection pool has been closed.
    at android.database.sqlite.SQLiteConnectionPool.throwIfClosedLocked(SQLiteConnectionPool.java:962)
    at android.database.sqlite.SQLiteConnectionPool.waitForConnection(SQLiteConnectionPool.java:599)
    at android.database.sqlite.SQLiteConnectionPool.acquireConnection(SQLiteConnectionPool.java:348)
    at android.database.sqlite.SQLiteSession.acquireConnection(SQLiteSession.java:894)
    at android.database.sqlite.SQLiteSession.executeForCursorWindow(SQLiteSession.java:834)
    at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:62)
    at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:151)
    at android.database.sqlite.SQLiteCursor.onMove(SQLiteCursor.java:124)
    at android.database.AbstractCursor.moveToPosition(AbstractCursor.java:213)
    at net.nightwhistler.pageturner.library.QueryResult.getItemAt(QueryResult.java:61)
    at net.nightwhistler.pageturner.library.CleanFilesTask.doInBackground(CleanFilesTask.java:60)
    at net.nightwhistler.pageturner.library.CleanFilesTask.doInBackground(CleanFilesTask.java:37)
    at android.os.AsyncTask$2.call(AsyncTask.java:287)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
    at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,open,Allow customization of the toolbar icons,[],"We should add a way for the user to customize which icons are shown in the actionbar and which are put into the menu.

From the forums:

> I think it would be very useful to allow users to choose which buttons they want to see in the top toolbar. There could be a list of available functions in setup and the user could check/uncheck buttons to display. In addition to the existing buttons you could add buttons for all other functions in the drop-down menu now.
"
NightWhistler/PageTurner,open,Search book contents from library,"[Label(name=""Improvement"")]","It would be really useful to be able to search for words or phrases in all the books in the library and show matching books.
"
NightWhistler/PageTurner,open,Show number of epub files in file browser,"[Label(name=""Improvement"")]","When browsing for folders to import, it would be handy if each folder show ""X epub files"" under the folder name.
"
NightWhistler/PageTurner,closed,Wrong message on empty search result,"[Label(name=""Bug"")]","When a search yields 0 results, we now get the error message saying that the received feed was empty. While factually correct, it's not an error in that case :)

When searching the message should be something like ""The search yielded 0 results""
"
NightWhistler/PageTurner,closed,Remember last used Activity,"[Label(name=""Improvement""), Label(name=""waffle:in progress"")]","From the forums:

> App always reloads last viewed book at startup, even if last displayed screen was the shelf. Would seem more logical that the program should start back where it last was. If I last viewed the shelf, start me back at the shelf.
"
NightWhistler/PageTurner,open,On-screen keyboard shows without reason,"[Label(name=""Bug""), Label(name=""waffle:ready"")]","From the forums:

> While reading, click center of screen to display toolbar & progress bar. Then press Back button. Onscreen keyboard pops up although there’s no data entry to do.
"
NightWhistler/PageTurner,closed,Caching text breaks links,"[Label(name=""Bug"")]","The ClickableSpans still point to the old Activity. They'll need to be updated somehow.
"
NightWhistler/PageTurner,closed,Folder names not visible on import,"[Label(name=""Bug"")]","Sounds like a problem with the day mode:

> when specifying the folder to search for books the icons for the directories on my sd card are shown, but the names are not visible - it seem as if it's white text on white background... But when I press on one of the icons, the name is shown in black (and the folder is opened once I release the press).
"
NightWhistler/PageTurner,closed,NPE on TextToSpeech,"[Label(name=""Bug"")]","java.lang.NullPointerException at net.nightwhistler.pageturner.activity.ReadingFragment.startTextToSpeech(ReadingFragment.java:498) at net.nightwhistler.pageturner.activity.ReadingFragment.onOptionsItemSelected(ReadingFragment.java:1930) at android.support.v4.app.Watson.onMenuItemSelected(Watson.java:127) at com.actionbarsherlock.ActionBarSherlock.callbackOptionsItemSelected(ActionBarSherlock.java:603) at com.actionbarsherlock.internal.ActionBarSherlockNative.dispatchOptionsItemSelected(ActionBarSherlockNative.java:78) at com.actionbarsherlock.app.SherlockFragmentActivity.onMenuItemSelected(SherlockFragmentActivity.java:205) at com.android.internal.policy.impl.PhoneWindow.onMenuItemSelected(PhoneWindow.java:950) at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:735) at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:149) at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:874) at com.android.internal.view.menu.MenuPopupHelper.onItemClick(MenuPopupHelper.java:156) at android.widget.AdapterView.performItemClick(AdapterView.java:292) at android.widget.AbsListView.performItemClick(AbsListView.java:1058) at android.widget.AbsListView$PerformClick.run(AbsListView.java:2514) at android.widget.AbsListView$1.run(AbsListView.java:3168) at android.os.Handler.handleCallback(Handler.java:605) at android.os.Handler.dispatchMessage(Handler.java:92) at android.os.Looper.loop(Looper.java:137) at android.app.ActivityThread.main(ActivityThread.java:4424) at java.lang.reflect.Method.invokeNative(Native Method) at java.lang.reflect.Method.invoke(Method.java:511) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551) at dalvik.system.NativeStart.main(Native Method)

Seen in RC1
"
NightWhistler/PageTurner,closed,Auto-open of single catalog items should only occur in landscape mode,"[Label(name=""Bug"")]","It now always happens, which looks weird in portrait.
"
NightWhistler/PageTurner,open,Hide books on shelf,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","> Please make it easier to remove multiple items from the shelf quickly, or to clear the shelf completely. This should not delete the actual epubs from the device however. Just remove the links from the shelf display.
"
NightWhistler/PageTurner,closed,"Add ""open file"" menu item to library","[Label(name=""Improvement""), Label(name=""Usability issue"")]","> Once you have an epub already open in the program, you can open another specific epub file by browsing for the file desired. However, this option isn’t available from the shelf. The shelf only allows you scan for epubs and import a whole folder full.
> 
> I don’t want all of the epubs on my device on the shelf. I only want to add the few that I’m currently reading or working with. Please add the ability to open a single epub from the shelf screen.
"
NightWhistler/PageTurner,closed,Images show as grey squares,"[Label(name=""Bug"")]","There are some problems with showing images:

> In an epub containing both images and links, when I load the file the images are properly visible. If I then click on a link to another place in the epub and then click the back button to come back to where I was, all images in the chapter are now replaced by grey areas instead. Additionally, sometimes clicking on further links is no longer recognized. After moving to the next chapter, the images and links work again until I click on a link. Then the images are all grey boxes again and the links may or may not work again. And once a chapter’s images are gone, they don’t come back for that chapter until the epub is completely reopened (i.e. opened again after opening a different epub or after Page Turner has been restarted completely). This issue is only in the Beta releases and happens with both RC1 and RC2. It does not occur with the 2.0.11 version from Google Play.

I think this might be caused by the Resources being closed.
"
NightWhistler/PageTurner,closed,Chapters sometimes with an empty page,"[Label(name=""Bug"")]","It's annoying and makes the user click an extra time.
"
NightWhistler/PageTurner,closed,Catalog clicks not working,"[Label(name=""Bug"")]","They work in portrait, but not in landscape.
"
NightWhistler/PageTurner,open,Create custom preference action for colours,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","We need a custom activity that allows the user to choose colours and immediately see the result. This allows for much nicer customization
"
NightWhistler/PageTurner,open,Set custom cover,"[Label(name=""Improvement"")]","Allow the user to update the cover of a book from an image file (or URL)
"
NightWhistler/PageTurner,open,database connection closed,"[Label(name=""Bug"")]","Stack Trace 
java.lang.IllegalStateException: database /data/data/net.nightwhistler.pageturner.pro/databases/PageTurnerLibrary (conn# 0) already closed
    at android.database.sqlite.SQLiteDatabase.verifyDbIsOpen(SQLiteDatabase.java:2214)
    at android.database.sqlite.SQLiteDatabase.lock(SQLiteDatabase.java:436)
    at android.database.sqlite.SQLiteDatabase.lock(SQLiteDatabase.java:422)
    at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:79)
    at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:164)
    at android.database.sqlite.SQLiteCursor.onMove(SQLiteCursor.java:147)
    at android.database.AbstractCursor.moveToPosition(AbstractCursor.java:178)
    at net.nightwhistler.pageturner.library.QueryResult.getItemAt(QueryResult.java:61)
    at net.nightwhistler.pageturner.library.QueryResultAdapter.getView(QueryResultAdapter.java:81)
    at android.widget.AbsListView.obtainView(AbsListView.java:2207)
    at android.widget.GridView.makeAndAddView(GridView.java:1323)
    at android.widget.GridView.makeRow(GridView.java:328)
    at android.widget.GridView.fillDown(GridView.java:281)
    at android.widget.GridView.fillFromTop(GridView.java:403)
    at android.widget.GridView.layoutChildren(GridView.java:1215)
    at android.widget.AbsListView.onLayout(AbsListView.java:2037)
    at android.view.View.layout(View.java:11325)
    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
    at android.view.View.layout(View.java:11325)
    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1634)
    at android.widget.LinearLayout.layoutHorizontal(LinearLayout.java:1623)
    at android.widget.LinearLayout.onLayout(LinearLayout.java:1407)
    at android.view.View.layout(View.java:11325)
    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1634)
    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1492)
    at android.widget.LinearLayout.onLayout(LinearLayout.java:1405)
    at android.view.View.layout(View.java:11325)
    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
    at android.view.View.layout(View.java:11325)
    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
    at android.view.View.layout(View.java:11325)
    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1634)
    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1492)
    at android.widget.LinearLayout.onLayout(LinearLayout.java:1405)
    at android.view.View.layout(View.java:11325)
    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
    at android.view.View.layout(View.java:11325)
    at android.view.ViewGroup.layout(ViewGroup.java:4224)
    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1502)
    at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2459)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4514)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
"
NightWhistler/PageTurner,closed,ConcurrentModificationException,"[Label(name=""Bug"")]","Stack Trace 
java.lang.RuntimeException: Unable to stop activity {net.nightwhistler.pageturner.ads/net.nightwhistler.pageturner.activity.ReadingActivity}: java.util.ConcurrentModificationException
    at android.app.ActivityThread.handleSleeping(ActivityThread.java:3116)
    at android.app.ActivityThread.access$2600(ActivityThread.java:134)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4697)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
    at dalvik.system.NativeStart.main(Native Method)
Caused by: java.util.ConcurrentModificationException
    at java.util.WeakHashMap$HashIterator.next(WeakHashMap.java:165)
    at android.database.sqlite.SQLiteDatabase.closeClosable(SQLiteDatabase.java:1222)
    at android.database.sqlite.SQLiteDatabase.close(SQLiteDatabase.java:1192)
    at net.nightwhistler.pageturner.library.LibraryDatabaseHelper.close(LibraryDatabaseHelper.java:110)
    at net.nightwhistler.pageturner.library.SqlLiteLibraryService.close(SqlLiteLibraryService.java:236)
    at net.nightwhistler.pageturner.activity.ReadingFragment.onStop(ReadingFragment.java:1284)
    at android.support.v4.app.Fragment.performStop(Fragment.java:1339)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:943)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1080)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1062)
    at android.support.v4.app.FragmentManagerImpl.dispatchStop(FragmentManager.java:1833)
    at android.support.v4.app.FragmentActivity.onStop(FragmentActivity.java:538)
    at com.actionbarsherlock.app.SherlockFragmentActivity.onStop(SherlockFragmentActivity.java:82)
    at com.github.rtyley.android.sherlock.roboguice.activity.RoboSherlockFragmentActivity.onStop(RoboSherlockFragmentActivity.java:73)
    at android.app.Instrumentation.callActivityOnStop(Instrumentation.java:1174)
    at android.app.Activity.performStop(Activity.java:4677)
    at android.app.ActivityThread.handleSleeping(ActivityThread.java:3113)
    ... 10 more
java.util.ConcurrentModificationException
    at java.util.WeakHashMap$HashIterator.next(WeakHashMap.java:165)
    at android.database.sqlite.SQLiteDatabase.closeClosable(SQLiteDatabase.java:1222)
    at android.database.sqlite.SQLiteDatabase.close(SQLiteDatabase.java:1192)
    at net.nightwhistler.pageturner.library.LibraryDatabaseHelper.close(LibraryDatabaseHelper.java:110)
    at net.nightwhistler.pageturner.library.SqlLiteLibraryService.close(SqlLiteLibraryService.java:236)
    at net.nightwhistler.pageturner.activity.ReadingFragment.onStop(ReadingFragment.java:1284)
    at android.support.v4.app.Fragment.performStop(Fragment.java:1339)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:943)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1080)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1062)
    at android.support.v4.app.FragmentManagerImpl.dispatchStop(FragmentManager.java:1833)
    at android.support.v4.app.FragmentActivity.onStop(FragmentActivity.java:538)
    at com.actionbarsherlock.app.SherlockFragmentActivity.onStop(SherlockFragmentActivity.java:82)
    at com.github.rtyley.android.sherlock.roboguice.activity.RoboSherlockFragmentActivity.onStop(RoboSherlockFragmentActivity.java:73)
    at android.app.Instrumentation.callActivityOnStop(Instrumentation.java:1174)
    at android.app.Activity.performStop(Activity.java:4677)
    at android.app.ActivityThread.handleSleeping(ActivityThread.java:3113)
    at android.app.ActivityThread.access$2600(ActivityThread.java:134)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4697)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,IndexOutOfBounds,"[Label(name=""Bug"")]","Stack Trace 
java.lang.IndexOutOfBoundsException: getChars (0 ... 134) ends beyond length 47
    at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:943)
    at android.text.SpannableStringBuilder.getChars(SpannableStringBuilder.java:847)
    at android.text.TextUtils.getChars(TextUtils.java:69)
    at android.text.SpannableStringBuilder.<init>(SpannableStringBuilder.java:59)
    at android.text.SpannableStringBuilder.subSequence(SpannableStringBuilder.java:839)
    at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.updatePosition(FixedPagesStrategy.java:155)
    at net.nightwhistler.pageturner.view.bookview.BookView.restorePosition(BookView.java:735)
    at net.nightwhistler.pageturner.view.bookview.BookView.access$2100(BookView.java:89)
    at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1450)
    at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1273)
    at android.os.AsyncTask.finish(AsyncTask.java:417)
    at android.os.AsyncTask.access$300(AsyncTask.java:127)
    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:130)
    at android.app.ActivityThread.main(ActivityThread.java:3768)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:507)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:878)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:636)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,open,Update TTS icons,"[Label(name=""Improvement"")]","Use the icons from this tutorial: http://www.androidhive.info/2012/03/android-building-audio-player-tutorial/
"
NightWhistler/PageTurner,closed,TTS UI improvements,"[Label(name=""Improvement"")]","Implement support for the ""next"" and ""previous"" buttons: make them skip back / forward per sentence.

Also, make the progress indicator simply show progress in the sentence.... highlight the current sentence somehow.
"
NightWhistler/PageTurner,closed,NPE on Nook Tablets,"[Label(name=""Bug"")]","Doesn't seem to occur on other devices:

> java.lang.RuntimeException: An error occured while executing doInBackground()
>     at android.os.AsyncTask$3.done(AsyncTask.java:299)
>     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
>     at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
>     at java.lang.Thread.run(Thread.java:856)
> Caused by: java.lang.NullPointerException
>     at java.io.File.fixSlashes(File.java:185)
>     at java.io.File.<init>(File.java:134)
>     at java.io.FileInputStream.<init>(FileInputStream.java:105)
>     at nl.siegmann.epublib.domain.Resource.getData(Resource.java:189)
>     at nl.siegmann.epublib.domain.Resource.getReader(Resource.java:329)
>     at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1306)
>     at net.nightwhistler.pageturner.view.bookview.BookView.access$2700(BookView.java:93)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1554)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1537)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
>     ... 4 more
> java.lang.NullPointerException
>     at java.io.File.fixSlashes(File.java:185)
>     at java.io.File.<init>(File.java:134)
>     at java.io.FileInputStream.<init>(FileInputStream.java:105)
>     at nl.siegmann.epublib.domain.Resource.getData(Resource.java:189)
>     at nl.siegmann.epublib.domain.Resource.getReader(Resource.java:329)
>     at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1306)
>     at net.nightwhistler.pageturner.view.bookview.BookView.access$2700(BookView.java:93)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1554)
>     at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1537)
>     at android.os.AsyncTask$2.call(AsyncTask.java:287)
>     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
>     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
>     at java.lang.Thread.run(Thread.java:856)
"
NightWhistler/PageTurner,closed,Page-numbers don't work well in scrolling mode,"[Label(name=""Bug"")]","The page number is shown on top of the text.
"
NightWhistler/PageTurner,open,Make watch folder configurable,"[Label(name=""waffle:ready"")]","Add preference:

Watch folder
Books in this folder are automatically added to your library. Defaults to the PageTurner library folder.
"
NightWhistler/PageTurner,closed,Audio focus isn't always managed correctly,"[Label(name=""Bug"")]","Listening to music using bluetooth headphones while reading and then hitting the play/pause button causes TTS mode to start.

The app should properly request audio focus first to see if it can claim the button event.
"
NightWhistler/PageTurner,open,StackOverflow in text rendering,"[Label(name=""Bug"")]","java.lang.RuntimeException: An error occured while executing doInBackground()
at android.os.AsyncTask$3.done(AsyncTask.java:278)
at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
at java.util.concurrent.FutureTask.run(FutureTask.java:137)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
at java.lang.Thread.run(Thread.java:856)
Caused by: java.lang.StackOverflowError
at android.text.SpannableStringBuilder.sendTextWillChange(SpannableStringBuilder.java:878)
at android.text.SpannableStringBuilder.change(SpannableStringBuilder.java:276)
at android.text.SpannableStringBuilder.change(SpannableStringBuilder.java:266)
at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:443)
at android.text.SpannableStringBuilder.append(SpannableStringBuilder.java:251)
at net.nightwhistler.pageturner.view.bookview.BookView$ImageTagHandler.handleTagNode(BookView.java:988)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:263)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistl...
"
NightWhistler/PageTurner,closed,Crash in CoverScrollListener,"[Label(name=""Bug"")]","java.lang.IllegalStateException: Fragment LibraryFragment{411ba248} not attached to Activity
at android.support.v4.app.Fragment.getResources(Fragment.java:551)
at net.nightwhistler.pageturner.activity.LibraryFragment$CoverScrollListener$1.run(LibraryFragment.java:856)
at android.os.Handler.handleCallback(Handler.java:615)
at android.os.Handler.dispatchMessage(Handler.java:92)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4745)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Invalid href URLS cause crash,"[Label(name=""Bug"")]","java.lang.RuntimeException: An error occured while executing doInBackground()
at android.os.AsyncTask$3.done(AsyncTask.java:200)
at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)
at java.util.concurrent.FutureTask.setException(FutureTask.java:125)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)
at java.util.concurrent.FutureTask.run(FutureTask.java:138)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
at java.lang.Thread.run(Thread.java:1027)
Caused by: java.lang.IllegalArgumentException: Illegal character in path at index 6: images\00002.jpg
at java.net.URI.create(URI.java:776)
at java.net.URI.resolve(URI.java:1406)
at net.nightwhistler.pageturner.epub.PageTurnerSpine.resolveHref(PageTurnerSpine.java:230)
at net.nightwhistler.pageturner.epub.PageTurnerSpine.resolveHref(PageTurnerSpine.java:211)
at net.nightwhistler.pageturner.view.bookview.BookView$ImageTagHandler.handleTagNode(BookView.java:1008)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:263)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:256)
at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:239)
at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:195)
at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:161)
at net.nightwhistler.pageturner.view.bookview.BookView.getOffsetsForResource(BookView.java:1238)
at net.nightwhistler.pageturner.view.bookview.BookView.access$2600(BookView.java:89)
at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1483)
at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.doInBackground(BookView.java:1474)
at android.os.AsyncTask$2.call(AsyncTask.java:185)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
... 4 more
"
NightWhistler/PageTurner,closed,Library already closed,"[Label(name=""Bug"")]","We get a lot of background crashes from closed library databases.
"
NightWhistler/PageTurner,closed,NPE in pagenumber loading,"[Label(name=""Bug"")]","<pre>
java.lang.NullPointerException
at net.nightwhistler.pageturner.view.bookview.BookView.getPageNumberFor(BookView.java:1159)
at net.nightwhistler.pageturner.view.bookview.BookView.progressUpdate(BookView.java:1142)
at net.nightwhistler.pageturner.view.bookview.BookView.access$2200(BookView.java:89)
at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.onPostExecute(BookView.java:1501)
at net.nightwhistler.pageturner.view.bookview.BookView$CalculatePageNumbersTask.onPostExecute(BookView.java:1474)
at android.os.AsyncTask.finish(AsyncTask.java:602)
at android.os.AsyncTask.access$600(AsyncTask.java:156)
at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:615)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4424)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
at dalvik.system.NativeStart.main(Native Method)
</pre>
"
NightWhistler/PageTurner,closed,Wrong menu-item in Library,"[Label(name=""Bug"")]","The first time the menu is shown in the library, it says 'switch to shelves view' even if you're already in shelves view.
"
NightWhistler/PageTurner,closed,Back button doesn't always work in catalog,"[Label(name=""Bug"")]","Sometimes you seem to get 'stuck'
"
NightWhistler/PageTurner,closed,Changing orientation while library is loading causes a crash,"[Label(name=""Bug"")]","Easy to reproduce by changing orientation twice in a row.
"
NightWhistler/PageTurner,open,Tap zones too small on Nook Simple Touch,"[Label(name=""Usability issue"")]","It looks like on some screen the tap zones on the sides are too small:

> The area in the middle of the screen that invokes the settings menu and shows page progress is large enough that I repeatedly trigger this action inadvertently while tapping the right side of the screen to turn pages. This is true on both my Nook Simple Touch with Glowlight as well as my Samsung Galaxy M-style. I like the idea of a center tap to raise the menu, but would allocate a smaller portion of the screen for this purpose or allow users to alternatively select a top or bottom tap for this purpose.
"
NightWhistler/PageTurner,closed,Load on scroll-down doesn't always work,"[Label(name=""Bug"")]","Especially in landscape mode, the auto-load isn't always triggered it seems.
"
NightWhistler/PageTurner,open,"Show ""related"" links in book details","[Label(name=""Improvement"")]","OPDS feeds often contain extra links like ""more from this author"".

We can already parse them, but we don't actually show them yet.
"
NightWhistler/PageTurner,closed,Quiet failure on unreadable OPDS feed,"[Label(name=""Bug"")]","If the OPDS url points to a page that exists but can't be parsed, no error is shown.
"
NightWhistler/PageTurner,open,Provide an easily accessible Wiki,"[Label(name=""Documentation""), Label(name=""Improvement"")]","We should add a Wiki (dokuwiki?) on the site and have it easily accesible from the app through a menu item.

Preferrably the Wiki should be multi-lingual.

Items to include:
- How to set up your Calibre OPDS server
- How to use Calibre to manage your library directly
- Setting up Dropbox / owncloud / Google drive sync

The menu item in the app should go directly to the user-oriented pages in the Wiki. Documentation on Github can point to the main page, which then has the option for developer-oriented or user-oriented pages.
"
NightWhistler/PageTurner,open,Sync last read title,[],"PageTurner should store the title hash of the currently read book on the server. 

When opening the app we can receive this hash from the server and check the local database for a matching book.

If we store the hash code the book titles in the database, we can quickly find a book based on its title hash.

This way we can have an even more synchronized reading experience.
"
NightWhistler/PageTurner,closed,Crash on search while reading,"[Label(name=""Bug"")]","Happens only on Android 2.1: the SearchView doesn't have a proper fallback, causing a crash.
"
NightWhistler/PageTurner,closed,Allow self-signed certificates for catalog,"[Label(name=""Improvement"")]","The user should be able to indicate that they trust the cert for an OPDS site over https.
"
NightWhistler/PageTurner,closed,Orientation change sometimes confuses page-rendering,"[Label(name=""Bug"")]","The updated page-rendering algorithm sometimes gets in the situation where it displayes just a single sentence per screen.

This seems to happen mostly after an orientation change.
"
NightWhistler/PageTurner,closed,Better details view for OPDS,"[Label(name=""Improvement"")]","The details view for a book should not be a dialog, but a seperate activity or fragment.

It should contain the buttons for download, but also the 'related' links so that users can find books by the same author, in the same genre, etc.
"
NightWhistler/PageTurner,closed,Basic but important question: Why TextView?,[],"Hi Alex,
          We are starting to develop ePub reader and as you can expect, we said that we can use web view: 
1- extract zip book and read xml files
2- display html files using webview which will display css and images correctly as all files extracted to SD card.

Just simple :)

I found you are using epubLib which give you epub content as binary not as files so images and CSS will not be displayed .

and found you reinventing the wheel by inventing a liberary to parse html

and use text view and make a lot of algorithms to handle pagination and navigation

I was thinking that is very simple and after seeing code, it seems that it is very complex.

Sure you faced issues so you went into the hard way.

Could you please tell me why ?

I want to know so I can save my team and my self from going into my approach then discover at the end that you were right.

Thank you,

Hisham
"
NightWhistler/PageTurner,closed,Update ACRA backend,"[Label(name=""Improvement""), Label(name=""Needs refactoring"")]","The Google docs backend has been deprecated and wasn't all that great anyway... it's better to move to a self-hosted solution.
"
NightWhistler/PageTurner,closed,TTS halts on chapter end,"[Label(name=""Bug"")]","When reading a chapter with the screen off (or with PageTurner in the background), TTS stops after reaching the end of a chapter.
"
NightWhistler/PageTurner,closed,Better navigation for catalog,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","Automatically load the next page when scrolling down
"
NightWhistler/PageTurner,closed,IndexOutOfBoundsException,"[Label(name=""Bug"")]","java.lang.RuntimeException: An error occured while executing doInBackground()
at android.os.AsyncTask$3.done(AsyncTask.java:278)
at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
at java.util.concurrent.FutureTask.run(FutureTask.java:137)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
at java.lang.Thread.run(Thread.java:856)
Caused by: java.lang.IndexOutOfBoundsException: getChars (1 ... 0) has end before start
at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:937)
at android.text.SpannableStringBuilder.getChars(SpannableStringBuilder.java:839)
at android.text.TextUtils.getChars(TextUtils.java:70)
at android.text.SpannableStringBuilder.<init>(SpannableStringBuilder.java:58)
at android.text.SpannableStringBuilder.subSequence(SpannableStringBuilder.java:831)
at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.getPageOffsets(FixedPagesStrategy.java:110)
at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.loadText(FixedPagesStrategy.java:249)
at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.doInBackground(BookView.java:1407)
at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.doInBackground(BookView.java:1273)
at android.os.AsyncTask$2.call(AsyncTask.java:264)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
... 4 more
"
NightWhistler/PageTurner,closed,Start of chapter isn't synced,"[Label(name=""Bug"")]","When we're at the start of the chapter (position 0) no sync information is sent.
"
NightWhistler/PageTurner,open,Use CursorLoader in library,"[Label(name=""Improvement"")]","As subject: it's a much better fit for the job than the current AsyncTask-based solution.
"
NightWhistler/PageTurner,closed,Crash during TTS,"[Label(name=""Bug"")]","Looks like a timing issue.

java.lang.IllegalStateException
at android.media.MediaPlayer.getDuration(Native Method)
at net.nightwhistler.pageturner.activity.ReadingFragment$7.run(ReadingFragment.java:623)
at android.os.Handler.handleCallback(Handler.java:615)
at android.os.Handler.dispatchMessage(Handler.java:92)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4898)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1006)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:773)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Problem runing project,[],"Hi, 

I'm having this error while runing the project:

PageTurner] The library 'sqlite-jdbc-3.7.2.jar' contains native libraries that will not run on the device.

Anybody with the same problem?
"
NightWhistler/PageTurner,closed,Too much whitespace at the bottom of the page,"[Label(name=""Bug"")]","Since fixing the page-offset calculations, we often have a lot of whitespace at the bottom of the page (between pagenumber and text).

This might be caused by a new bug in the calculation, but since that's fairly well covered by unit tests now, it's more likely that it's a layout problem (reporting too little space).
"
NightWhistler/PageTurner,closed,Revert open book behaviour,[],"We changed the library to open a book on a short press and to pop up the details on a long press. For the 2.0 series we should switch this so it doesn't confuse the users.

For the 2.1 we'll handle this in #297
"
NightWhistler/PageTurner,closed,Add config option for long / short press in the library.,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","The user should be able to choose if long press opens the book or the details and vice versa.
"
NightWhistler/PageTurner,closed,Description not truncated in catalog,"[Label(name=""Bug""), Label(name=""Usability issue"")]","When browsing the Calibre content server the full description of each item is shown in the overview. This should be truncated.
"
NightWhistler/PageTurner,closed,Move background processing into services,"[Label(name=""Improvement""), Label(name=""Needs refactoring"")]","We use AsyncTasks for all background work now, but in some cases a Service would be a much better fit. For example:
- Text parsing
- Library scan

Moving that into a service would enable us to not lose the progress status on device rotation and also prevents re-parsing and rendering the same text document.
"
NightWhistler/PageTurner,closed,Back navigation is broken in new catalog,"[Label(name=""Bug"")]","Navigating back from the custom sites feed doesn't always work.

It's probably better to not build that ourselves anyway, and to use Fragmenttransactions to handle the back button.
"
NightWhistler/PageTurner,closed,Add message when there aren't any sync-points yet,"[Label(name=""Improvement""), Label(name=""Text change"")]","Pop up a toast saying: ""You don't have any cloud-sync points stored yet. Try again later.""
"
NightWhistler/PageTurner,open,"Add ""recent changes"" dialog","[Label(name=""Improvement"")]","Since we did make some usability changes in 2.0, we also need a dialog which shows once for new versions that shows the changes.
"
NightWhistler/PageTurner,closed,IndexOutOfBounds while scrolling,"[Label(name=""Bug"")]","java.lang.ArrayIndexOutOfBoundsException
at java.util.ArrayList.get(ArrayList.java:313)
at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.getPosition(FixedPagesStrategy.java:176)
at net.nightwhistler.pageturner.view.bookview.BookView.getPosition(BookView.java:714)
at net.nightwhistler.pageturner.view.bookview.BookView.progressUpdate(BookView.java:1110)
at net.nightwhistler.pageturner.view.bookview.BookView.access$2200(BookView.java:87)
at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1430)
at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1252)
at android.os.AsyncTask.finish(AsyncTask.java:417)
at android.os.AsyncTask.access$300(AsyncTask.java:127)
at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3822)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Downloading from cops doesn't work,"[Label(name=""Bug"")]","Cops uses http parameters, which become part of the filename. This makes that pageturner is unable to open the file.
"
NightWhistler/PageTurner,closed,User can still turn pages while TTS is running,"[Label(name=""Bug"")]","This is bad, since it will mess up which page will be read next.
"
NightWhistler/PageTurner,closed,TTS takes too long to start,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","Right now all the text of the first page is streamed to disk before playback starts. On devices with large screens this can take a long time.

It would be better to stream just the first paragraph to disk and start playback from there.
"
NightWhistler/PageTurner,closed,TTS doesn't stop on incoming / outgoing call,"[Label(name=""Usability issue"")]","We need a better implementation of TTS, so that is stops when a call comes in or when the user places a call.

Also, when the user navigates away the UI needs to still allow controlling the playback. This probably means we need to push playback into a Service.
"
NightWhistler/PageTurner,closed,No longer saves position when screen turns off,[],"The refactoring probably broke the broadcastreceiver.
"
NightWhistler/PageTurner,closed,Password not saved for new sites,"[Label(name=""Bug"")]","The edit function saves them properly, but the createNew() doesn't.
"
NightWhistler/PageTurner,closed,Retain search results,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","It would be a lot more user-friendly if the user could go back to the list of search results, instead of having to run the search again every time.
"
NightWhistler/PageTurner,closed,HTML rendering for book details is done on the UI Thread,"[Label(name=""Bug"")]","While building the book details dialog, HtmlSpanner.fromHtml() is used to format the text... this is fine, but if the text contains an <img> tag with an external URL, this means we're doing HTTP access on the UI thread.
"
NightWhistler/PageTurner,closed,Allow folder monitoring,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","Have a dedicated that folder that is monitored for new content, which is then automatically added to the library.
"
NightWhistler/PageTurner,closed,Recently added books view is confusing,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","Right now it displays the 20 most recently added books... this can be confusing when adding a lot of books.

A better definition would be all the books added in the last X days.
"
NightWhistler/PageTurner,closed,Long press / normal press in library,"[Label(name=""Improvement"")]","Normal press opens a book, long press brings up the dialog.
"
NightWhistler/PageTurner,open,Allow text size / margin size to be changed while reading,"[Label(name=""Improvement"")]","Maybe by sliding on the right edge?
"
NightWhistler/PageTurner,closed,Pop up text search on Search button,"[Label(name=""Improvement"")]","Should be easy enough to implement :)
"
NightWhistler/PageTurner,closed,New catalog doesn't allow passwords,"[Label(name=""Needs refactoring"")]","The updated catalog lacks the functionality to specify a username and password for a site.

This needs to be added before we can release it.
"
NightWhistler/PageTurner,open,"Add ""share"" function","[Label(name=""Improvement"")]","Make it easy for users to share a quick reading update on Twitter, Facebook, or by e-mail.

I don't think it's necessary to integrate with specific apps, it's better to just use the generic Android share mechanism. 
"
NightWhistler/PageTurner,open,Used OpenGL page curl,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","The current page-curl can feel sluggish on some devices, leading people to perceive PageTurner as slow.

Updating to the new OpenGL pagecurl should improve that a lot, and adding finger tracking gives an ever more 'luxury' feel.
"
NightWhistler/PageTurner,closed,Overlay shows in the wrong place on Android 2.x,"[Label(name=""Bug"")]","It's too far down.
"
NightWhistler/PageTurner,closed,Add support for font tags,"[Label(name=""Improvement"")]","In more technical writing or poetry, switching from serif to sans and back can be useful. Until we have css support, font tag support would help.
"
NightWhistler/PageTurner,closed,Add support for Right to left reading,"[Label(name=""Improvement"")]","For Arabic and Hebrew it is much nicer to reverse the page turns.
"
NightWhistler/PageTurner,open,Add paper background,"[Label(name=""Improvement"")]","Add the option for a paper-like texture to be added to the pages.
"
NightWhistler/PageTurner,closed,AdView doesn't hide properly,"[Label(name=""Bug"")]","Ad-supported version: according to a Google Play comment, the advertising doesn't hide after a few seconds like it should, making it impossible to read.
"
NightWhistler/PageTurner,closed,Add support for font tags,"[Label(name=""Improvement"")]","Allow the user to set a serif and a sans-serif font, and then enable parsing of font tags to allow mixed serif / sans-serif text.
"
NightWhistler/PageTurner,closed,Missing page numbers,"[Label(name=""Bug"")]","There is a bug in the page number calculation which makes it skip a number sometimes, so it will show page 1,2,3,5

Moving back and forth has no effect, so it looks like an error in the offset calculation.
"
NightWhistler/PageTurner,closed,Show a placeholder while page numbers are being calculated,"[Label(name=""Improvement"")]","Right now there is no real feedback while the page numbers are being calculated, which can be confusing.

There should be some kind of placeholder in the spot where they'll be.
"
NightWhistler/PageTurner,open,Allow advanced button configuration,"[Label(name=""Improvement"")]","> Would be great if it’s possible to configure certain actions for the buttons.
> 
> For example I’d like to configure
> # ‘Search’ Button >> Next page
> # ‘Menu’ Button >> Previous page

This would have to be an 'Advanced' feature, so it's important to have good defaults for non-power users.
"
NightWhistler/PageTurner,open,Add reading achievements,"[Label(name=""Improvement"")]","Like read two books in a week
Finish a book in under 2 hours
"
NightWhistler/PageTurner,closed,"Dim the on-screen ""back,home,switch task"" buttons in night mode",[],"In night mode the on-screen (part of main LCD) Android navigation buttons (Back, Home, Switch Task) remain fully lit. These can output a fairly high amount of light relative to the text when the screen brightness is set low. It would be nice to have these temporarily dim in night mode, and only re-light when they are depressed.

![Greenshot_2013-02-05_21-58-40](https://f.cloud.github.com/assets/3477476/130288/9fbcea8a-7011-11e2-9ca6-ebc79a86d4c8.png)
"
NightWhistler/PageTurner,closed,Add TTS gui,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","Allow the user to pause it, and maybe add a progress overlay to give some visual feedback.
"
NightWhistler/PageTurner,closed,TTS initialization errors make the app run wild,"[Label(name=""Bug"")]","When TTS doesn't work well, it seems the response code is apparently still SUCCESS, but it will immediately return making the app turn pages like crazy.
"
NightWhistler/PageTurner,closed,TTS halts on page end,"[Label(name=""Usability issue"")]","When using tts, there's a short pause while the page is turned.

It would be much nicer to pre-load the next page into tts before starting the animation.
"
NightWhistler/PageTurner,closed,ArrayIndexOutOfBoundsException,"[Label(name=""Bug"")]","java.lang.ArrayIndexOutOfBoundsException
at java.util.ArrayList.get(ArrayList.java:313)
at net.nightwhistler.pageturner.view.bookview.FixedPagesStrategy.updatePosition(FixedPagesStrategy.java:143)
at net.nightwhistler.pageturner.view.bookview.BookView.restorePosition(BookView.java:724)
at net.nightwhistler.pageturner.view.bookview.BookView.access$2100(BookView.java:87)
at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1389)
at net.nightwhistler.pageturner.view.bookview.BookView$LoadTextTask.onPostExecute(BookView.java:1213)
at android.os.AsyncTask.finish(AsyncTask.java:417)
at android.os.AsyncTask.access$300(AsyncTask.java:127)
at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:123)
at android.app.ActivityThread.main(ActivityThread.java:3647)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Dragging the progress bar to 0% doesn't work,"[Label(name=""Bug"")]","We refuse to navigate to index 0 it seems.
"
NightWhistler/PageTurner,closed,Use menu item to enable text selection,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","Right now text selection is disabled because swiping often caused text to be selected when it shouldn't be.

K9-mail solves this in a clever way:
- You click 'Select text' in the menu
- There's a toast saying ""Long-click a word to start selecting text""
- Now text selection mode is enabled

We could disable it again after text has been selected or there has been a page change.
"
NightWhistler/PageTurner,open,Add mini status bar,"[Label(name=""Improvement"")]","Some users prefer to always have their progress (percentage and pages) visible... we could add a small status bar at the top or bottom of the screen to display this information.

This should be off by default though.
"
NightWhistler/PageTurner,closed,Issues with search function,"[Label(name=""Usability issue"")]","- It’s case sensitive. So if I search for “kate”, I get nothing. If I search for “Kate”, I get matches. Personally, I’d prefer it not to be case sensitive. Not a big deal, but that’s my preference.
- When I hit return on my tablet keyboard, it doesn’t begin the search. I have to tap “search”. Again, a personal preference, but I’d prefer that I be able to start the search without having to tap the button.
- Lastly, If I type in my search term and then hit enter, and then hit “search” it returns no results, I assume because of the space I’ve created in the search field by hitting enter before I submitted the search.
"
NightWhistler/PageTurner,closed,added missing translation,[],"added missing translation
"
NightWhistler/PageTurner,closed,Fixed wrong Umlaut,[],"Fixed Umlaut
"
NightWhistler/PageTurner,closed,Add CSS support,"[Label(name=""Improvement"")]","Many e-books contain embedded style-sheets for formatting the text. The HTML rendering engine should be capable of using those.
"
NightWhistler/PageTurner,closed,p2p library sync,[],"Since doing a server sync of books is legally complex, we might  add the option  of p2p sync  between  2 pageturner devices  on the same  wifi .
"
NightWhistler/PageTurner,closed,Cover guessing no longer works,"[Label(name=""Bug"")]","Recent builds no longer guess the book cover. This is probably caused by an incorrect build of epublib.
"
NightWhistler/PageTurner,closed,ActionBar buttons in catalog don't work correctly,"[Label(name=""Bug"")]","It looks like the buttons are initialized at the wrong moment, making actions like next, previous and search unreliable.
"
NightWhistler/PageTurner,closed,Table rendering doesn't take margins into account,"[Label(name=""Bug"")]","On screens with bigger margins, the sides are chopped off the tables.
"
NightWhistler/PageTurner,closed,mvn library,[],"hi i am unable to load mvn libraries its showing no goals has been specified for this build please navigate me how to build page turner 
"
NightWhistler/PageTurner,open,Selective text replacement,"[Label(name=""Improvement"")]","Allow the user to select some text and then have it replaced dynamically with some other text.

This could be used to filter out generated texts... 
"
NightWhistler/PageTurner,open,Add number of pages to book details,[],"The book-details should also contain the length of the book in pages.
"
NightWhistler/PageTurner,open,Add book-info to reading activity,"[Label(name=""Improvement"")]","When reading the user should be able to pull up the same info about the book as when tapping the book in the library.
"
NightWhistler/PageTurner,closed,Pagenumber not updated when using using progress-bar,"[Label(name=""Bug"")]","When navigating to  point in the book using the progress-bar in the overlay, the pagenumber isn't updated until after the first page change.
"
NightWhistler/PageTurner,open,Ignore 'the' in library sort,"[Label(name=""Improvement"")]","Books like the hunger games should be sorted under H, not T.

This means we should strip off 'The' for English.

The exact strings to be stripped should be part of the translation file. (De + het for Dutch).
"
NightWhistler/PageTurner,open,2-page mode in landscape,"[Label(name=""Improvement"")]","On larger screens (like tablets), we should offer the option to display 2 pages side by side, like a book.
"
NightWhistler/PageTurner,closed,page cut off problems,"[Label(name=""Bug"")]","A market comment mentioned that disabling page numberscauses the page cut off to have issues.
"
NightWhistler/PageTurner,closed,Hide the bezel in fullscreen,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","http://developer.android.com/reference/android/view/View.html#SYSTEM_UI_FLAG_HIDE_NAVIGATION
"
NightWhistler/PageTurner,closed,Overlay causes text to shift in full-screen mode,"[Label(name=""Improvement"")]","When reading in full-screen mode, tapping the screen will cause both the overlay and the action-bar to appear. This makes the text shift on the screen.

It would be better to offer the option of never showing the action-bar.
"
NightWhistler/PageTurner,closed,Volume beep on page change,"[Label(name=""Bug"")]","Since the latest version there is a beep when navigating using the volume buttons.
"
NightWhistler/PageTurner,closed,Catalog reloads base feed URL when recreated,[],
NightWhistler/PageTurner,closed,Update Spanish translation,[],
NightWhistler/PageTurner,closed,Incorrect message when no sync points found,"[Label(name=""Bug""), Label(name=""Text change"")]","When there aren't any sync points found the server returns a 404

The app incorrectly displays ""Could not connect to sync server"" in that case.
"
NightWhistler/PageTurner,open,Sync custom OPDS sites,"[Label(name=""Improvement"")]","If users enter custom opds sites, these should also be synced to the server in an encrypted format so that they don't need to enter them on each device.
"
NightWhistler/PageTurner,closed,State restore issues on orientation change,"[Label(name=""Bug"")]","When you're reading in portrait mode and turn the device into landscape mode things are usually fine... but if you then go back to portrait, you get bumped back to the start of the section.

Also, the wait dialog will pop up and just stay there displaying whatever text it displayed last.

It looks like it's a problem with the state restore from onCreate()
"
NightWhistler/PageTurner,closed,Invalid sync points,"[Label(name=""Bug""), Label(name=""Improvement"")]","The database contains a lot of sync points where the data doesn't match up ( index, offset, percentage ). We should do a sanity check on these before sending them to the server.
"
NightWhistler/PageTurner,closed,crash on orientation change,"[Label(name=""Bug"")]","The current dev version crashes when rotating the device while reading.
"
NightWhistler/PageTurner,closed,fix for bug causing when switching Day/Night,[],"I blame Eclipse ;)
"
NightWhistler/PageTurner,closed,refactor Dialogs to use DialogFragments,[],
NightWhistler/PageTurner,closed,Rearrange ActionBar overflow,[],"Icon -> Overflow
- Preferences (global)

Overflow -> Icon
- Day/Night mode toggle (global) depends #220 
- Add books (Library) depends #227
"
NightWhistler/PageTurner,open,Merge download and scan books menu option,"[Label(name=""Needs refactoring""), Label(name=""Usability issue"")]","Combine this into one menu option called ""Add Books""

First dialog option will be ""From device"" then enumerated feeds
"
NightWhistler/PageTurner,closed,PageNumbers are off by 1,[],"Page-numbers start at 0, with the title page being 0.

This means the page-number shown should be 1 higher though, or the total 1 smaller.
"
NightWhistler/PageTurner,closed,Download progress bar stays at 0%,"[Label(name=""Bug"")]","Seems to depend on the site.
"
NightWhistler/PageTurner,closed,Don't switch back to library if the users select 'Add to library',"[Label(name=""Improvement"")]","We should just stay in the catalog so the user can download more books.
"
NightWhistler/PageTurner,closed,refactor activities to use fragments,[],"- partially closes #215

Straight forward refactoring, no logic changes. Hopefully that means no surprises ;)
"
NightWhistler/PageTurner,open,Redefine 'back' button behaviour while reading,"[Label(name=""Improvement"")]","..when using links I that I expect the back button to take me back where I came from, (...)... I might make it so that once you have turned a page once the 'back' button takes you to the library instead of to your previous location. 
"
NightWhistler/PageTurner,closed,PageTurner segfaults on Nook Simple Touch,[],"Rooted Nook Simple Touch devices crash when trying to run PageTurner, and it looks like a seg-fault.

http://pastebin.com/h4JXacPg
"
NightWhistler/PageTurner,closed,Day/night mode switch everywhere,"[Label(name=""Improvement"")]","Since the day / night mode setting now affects all screens it should be accessible from all screens.
"
NightWhistler/PageTurner,closed,Provide step-by-step M2e-android instructions,[],"Getting PageTurner to build in Eclipse using m2e-android takes a few steps that aren't all obvious.

A better explanation in the README / Wiki is needed.
"
NightWhistler/PageTurner,closed,Eclipse (non-maven) instructions provide duplicates,[],"Eclipse fails to dex because these files are added to libs folder but are provided by Eclipse:
- android-4.0.1.2.jar
- annotations-4.1.1.4.jar

Also copies two versions of slf4j which have conflicts:
- slf4j-android-1.6.1-RC1.jar
- slf4j-api-1.6.1.jar
"
NightWhistler/PageTurner,closed,mvn dependency:copy-dependencies misses some deps,[],"The following libs are not downloaded:
javax.inject
guice

Not sure what's going on, not very familiar with maven yet. Best guess is that it's not copying deps recursively.
"
NightWhistler/PageTurner,open,Move AmbilWarna out of the PageTurner source code,"[Label(name=""Needs refactoring"")]","AmbilWarna is really a library project, but back when I included it I didn't know how to handle them properly so I just moved the entire source into the PageTurner source tree :)

It should be a library dependency like ABS.
"
NightWhistler/PageTurner,closed,Use fragments,[],"Refactor the following:
- `Activity` -> `Fragment` and `FragmentActivity`
- `Dialog` -> `DialogFragment`

Related to:
- #187
- #151 
- #111 
"
NightWhistler/PageTurner,closed,Be more Eclipse friendly,[],"Separated into a few commits in case you want to cherry-pick them.

Should now be very easy for newcomers to contribute. If nothing else please pull in a504c70138da805125b08150947ed336a4d28e56 the src/main/java hierarchy makes Eclipse explode.
"
NightWhistler/PageTurner,closed,epublib-core 3.1 not in maven repo,[],"Since: 283408ab06419bebb6fdbff34b7227d178208ca2

> [ERROR] Failed to execute goal on project PageTurner: Could not resolve dependencies for project net.nightwhistler.pageturner:PageTurner:apk:2.0-SNAPSHOT: Failure to find nl.siegmann.epublib:epublib-core:jar:3.1 in https://ostara.nightwhistler.net/repository was cached in the local repository, resolution will not be reattempted until the update interval of Ostara has elapsed or updates are forced -> [Help 1]
"
NightWhistler/PageTurner,closed,Opening a new book crashes the app,"[Label(name=""Bug"")]","When opening a completely new book we calculate the pagenumbers in the background, but this process also recycles any bitmaps that have been used.

If this happens while displaying the cover-page it crashes the app.
"
NightWhistler/PageTurner,open,"""Up"" navigation in Preferences doesn't work",[],"It shows the arrow indicating users can navigate by clicking the app icon, but it doesn't do anything yet.
"
NightWhistler/PageTurner,open,Better chapter navigation for scroll mode,[],"Since we disabled most swiping gestures for scroll mode, we should add links at the start and end to navigate between chapters.
"
NightWhistler/PageTurner,closed,Do pagenumber calculation in the background,"[Label(name=""Improvement"")]","Right now the user has to wait for page-numbers to be calculated, but it's much smarter to do it in the background and just display the text. 

The pagenumbers will appear on the first pageturn after they're ready.
"
NightWhistler/PageTurner,open,PDF support,"[Label(name=""Improvement"")]","Though I'm not exactly a fan of the format, PDF support is requested a LOT.

It would pretty much mean implementing a second ReadingActivity, and there are a lot of tough decisions to make about how to render pages and sync progress. 

I haven't decided yet if this is something we should actually do, so I'll just put it here for now.

There are a number of example apps all based on MuPDF, which is a GPL licensed library:

http://code.google.com/p/apdfviewer/
http://code.google.com/p/apv/
http://code.google.com/p/droidreader/
http://code.google.com/p/android-pdf/
"
NightWhistler/PageTurner,closed,Pagenumber doesn't slide when turning pages,"[Label(name=""Bug"")]","The pagenumber is part of the page-curl animation, but not of the slide animations.

Found this:

   Add an AnimationListener to your animations, and do something in onAnimationEnd().
"
NightWhistler/PageTurner,open,Have multiple placholder books,"[Label(name=""Improvement"")]","It would look nice if we had placeholder books in various colours and picked a colour based on the filename, so the same book always has the colour.
"
NightWhistler/PageTurner,closed,re-calculate page numbers when needed,"[Label(name=""Improvement"")]","Some settings like margins and text size affect how many pages we have. When these settings change we should not just restart, but also erase the stored pagenumbers. 

Alternatively we should check the pagenumbers for validity by storing the settings used to calculate them with the pagenumbers themselves.
"
NightWhistler/PageTurner,closed,TOC is disabled when first loading a book,"[Label(name=""Bug"")]","Probably a side effect from switching to ABS.... after a single page-change it's enabled again.
"
NightWhistler/PageTurner,closed,PageNumbers are not updated while scrolling,"[Label(name=""Bug"")]","Seems to work on Android 2 and not on 4
"
NightWhistler/PageTurner,closed,Opening menu on the top bar then click other options on the top bar closes it.,[],"Seen on my Nexus 7 in 296597e2e0ab8faf5abc620a2111f3db6f7aeec1  

To reproduce, tap screen to reveal top bar, tap the vertical triple dot to open the menu. tap the gear to try to open preferences. Instead the top bar disappears.

What I am expecting to happen: the preferences open.
"
NightWhistler/PageTurner,closed,Position isn't restored properly while scrolling,"[Label(name=""Bug"")]","In scroll mode the position restore only seems to work within a chapter.

If the app has to load a new chapter you always end up at the start of the chapter. Probably a problem with the order of restoring the position.
"
NightWhistler/PageTurner,closed,Edge tapping triggers text selection,"[Label(name=""Bug"")]","This seems to happen more on some devices than on others... if we can't fix it, we might need a preference to disable text selection.
"
NightWhistler/PageTurner,closed,Make theme configurable,"[Label(name=""Improvement""), Label(name=""Usability issue"")]","Right now the theme is linked to day / night mode... 

If we're going to keep that strategy, we'll need 2 preferences: 
- Link theme to day / night mode 
- Select theme

The second option becomes available if the first one is unchecked.
"
NightWhistler/PageTurner,closed,Blank pages at the end of chapter ,"[Label(name=""Bug"")]","In some books there is a blank page after the last page of a chapter. 

This doesn't make much sense and should be stripped off.
"
NightWhistler/PageTurner,closed,Text search is off by 2 characters,"[Label(name=""Bug"")]","In some books the highlighted search results start at the 3rd letter of the word and extend 2 characters after the word end. 

It looks like this is caused by a difference in the way the text-search renders the text and how the BookView renders the text.
"
NightWhistler/PageTurner,closed,Lint,[],"Fixed some lint errors and warnings. There are still plenty more though.
"
NightWhistler/PageTurner,closed,Ostara repo does not contain latest dependency information,[],"When I run mvn clean install -U I get these warnings and it fails to build:

```
[WARNING] The POM for nl.siegmann.epublib:epublib-core:jar:3.1 is missing, no dependency information available
[WARNING] The POM for net.nightwhistler.htmlspanner:htmlspanner:jar:0.3-SNAPSHOT is missing, no dependency information available
```

I looked at the Ostara repo in a web browser and didn't see the jars for those files.
"
NightWhistler/PageTurner,closed,Rotation detection code use for volume buttons relies on Android SDK version 8 ,[],"We are currently targeting min SDK version 7, but the rotation code I added for detecting the orientation of the device requires version 8. Is it okay to require that or should I remove my code?
"
NightWhistler/PageTurner,closed,Android lint for Pageturner has a lot of issues,[],"I am working on addressing these issues on my lint branch https://github.com/ryantm/PageTurner/tree/lint
"
NightWhistler/PageTurner,closed,Improve build instructions based on testing,[],
NightWhistler/PageTurner,closed,Create configurable tap-zones,"[Label(name=""Improvement"")]","The screen gets divided in zones. They could be rectangular, or have a circle in the center as well as two wings around it, to both sides or have those two wings of the circle divided horizontally, giving 5 zones.

User configures action for tapping. Let’s take the last exampe with 5 zones: tapping upper left goes 10 pages back. 10 page advantage on upper right. Lower left, browse a page back. Lower right, one forward. Center: Menu, Meta-data, whatever. Visualization would be only needed in the config for it, it is invisible during read.
"
NightWhistler/PageTurner,open,Dim the menu / back button LEDs,"[Label(name=""Improvement"")]","A big problem I have, on the Galaxy S II, is that in Night Mode where I have everything on the screen _really_ dim, the menu/back button LEDs are still lit up. It would be great to have an option to turn these lights off – FBReader has this option.

(side issue – although FBReader has the option, it doesn’t work for the S II, so even if you implemented this it might not solve this problem for me, but it would for others)
"
NightWhistler/PageTurner,closed,ActionBar icons in Catalog have wrong colour,[],"They're white instead of grey... they should be updated with the proper version from the icon-set.
"
NightWhistler/PageTurner,closed,Page-curl animation doesn't look like it should,"[Label(name=""Bug"")]","In the new dev version, there don't seem to be any black borders in the page-curl animation, making it look bad.

On a side note: maybe we should port it to NineOldAndroids?
"
NightWhistler/PageTurner,open,Use custom theme,"[Label(name=""Needs refactoring""), Label(name=""Usability issue"")]","We should provide our own theme, even if it's just holo http://android-holo-colors.com/
Many of our drawables do not match the native holo theme we're using by default now in new devices.
"
NightWhistler/PageTurner,open,Use PreferenceHeaders,"[Label(name=""Usability issue"")]","Now that we're targeting API > 11 we should use headers when possible, the current PreferenceActivity is daunting, less scary if split up.
"
NightWhistler/PageTurner,closed,Switch to dark theme,[],"Change base theme to dark.

Related to #183
"
NightWhistler/PageTurner,closed,Bug: Alphabet-bar is broken in dev,"[Label(name=""Bug"")]","The alphabet-bar no longer looks like it should in the current dev version,
"
NightWhistler/PageTurner,closed,Bug: Dialogs don't look right on Androidn 2.3 in dev,"[Label(name=""Bug"")]","The current development version uses the ActionBarSherlock light theme, which looks nice in Android 4, but doesn't work well on Android 2: Dialogs still have a dark background, making the text hard to read.
"
NightWhistler/PageTurner,closed,move default (en) preference strings into strings.xml,[],"see #179

still needs other locales moved over to their strings.xml files
"
NightWhistler/PageTurner,closed,move default (en) preference strings into strings.xml,[],"fixes #179 _(Edit: for enGB)_
"
NightWhistler/PageTurner,closed,"Improvement: Add a ""what's new"" dialog","[Label(name=""Improvement"")]","After an install / update show a one-time dialog about what has changed.
"
NightWhistler/PageTurner,closed,Preferences files have text in them,"[Label(name=""Text change"")]","Right now we have a Preferences xml file per language... this makes it hard to maintain them, since a new preference needs to be added to all the files. It also makes it harder to translate them.

We need to have a single preferences.xml which uses keys for the texts, so that all the translations can end up in a single file.
"
NightWhistler/PageTurner,closed,Cloudsync message is incorrect,"[Label(name=""Text change"")]","The cloud-sync message says to enter a valid e-mail address... this is correct for the ads and pro version, but the OSS version needs to mention the AccessKey as well.
"
NightWhistler/PageTurner,closed,Download popup doesn't scroll,[],"As subject.
"
NightWhistler/PageTurner,closed,Enable text selection,[],"A lot of features depend on the option to select text. It now looks like this is feasible by using ActionBarSherlock and setting 

setTextIsSelectable() and then using 

setCustomSelectionActionModeCallback()
"
NightWhistler/PageTurner,open,Sync annotations,"[Label(name=""Improvement""), Label(name=""waffle:ready"")]","Enable the user to select text and place comments / remarks on the selection.

This should also be synced.
"
NightWhistler/PageTurner,closed,Build error,[],"I'm a freshman to Maven.

I used m2ee plugin to import PageTurner.

while it occurs error in pom.xml

dependency=[com.markupartist.android:actionbar:apklib:20120328:compile] not found in workspace  pom.xml /PageTurner line 1  me.gladwell.eclipse.m2e.android.markers.dependency.apklib.

I can not find actionbar in Maven indepency indeed.

If I follow the steps use
mvn -Djavax.net.ssl.trustStore=trust.jks 
    -Djavax.net.ssl.trustStorePassword=pageturner
    -DexcludeTransitive=true
    dependency:copy-dependencies
command.
And new android project, also, it report the error can not find actionbar.20120328.jar.
"
NightWhistler/PageTurner,closed,improve volume button pageup/down to respect screen orientation,[],"Hello.

This commit addresses Issue #41 ""Add ""invert volume buttons"" option"". It changes the volume up/down buttons to respect screen orientation. I believe that this improvement makes adding the option suggested in Issue #41 unnecessary, but I am not totally sure (there are a lot of Android devices). I think we should close this issue until someone complains or we know about a device that this does not cover.

-Ryan
"
NightWhistler/PageTurner,open,Improvement: Database and preference persistance,"[Label(name=""Improvement"")]","When you upgrade from PageTurner Reader to PageTurner Pro or when you install a new build, you lose your preferences and database of books. It would be nice if it were possible to transition those to the new app seamlessly. 
"
NightWhistler/PageTurner,closed,improve README and use Markdown format,[],"Hello.

This my start at sprucing up the README for this project. I don't consider the build instructions complete or well tested, but I feel like they are a bit better than what is already there. Feel free to merge or reject.

-Ryan
"
NightWhistler/PageTurner,closed,Browser style scrolling is broken,[],
NightWhistler/PageTurner,closed,"Feature request: add support for Wiktionary, implement language-based search","[Label(name=""Improvement"")]","Current context search (when long pressing) suggests searching Wikipedia and Google in English, which are defaults.

When performing such search the language suggested should be the ePub's language (for example, search French wikipedia if the book is in French), and if the language of the ePub is not specified in its metadata, base the search on the locale (ie. if my Android device is in French, use that to request a French search).

In this context I am requesting adding support specifically for Wiktionary, as it is intended for word definitions/thesaurus search (as opposed to Wikipedia or Google).

Some useful links:

http://en.wiktionary.org/wiki/Wiktionary:LANGCODE
http://en.wiktionary.org/wiki/Index:All_languages
http://en.wiktionary.org/wiki/Wiktionary:Wikisaurus
http://en.wiktionary.org/wiki/Wiktionary:Thesaurus_considerations
http://en.wiktionary.org/wiki/Wiktionary:Wiktionary-Supported_Software

Some work on an Android app for Wiktionary:
http://www.mediawiki.org/wiki/Wiktionary_Mobile_App_Feature_List
"
NightWhistler/PageTurner,closed,Word search selects apostrophe + word in French epubs,"[Label(name=""Bug"")]","When reading a French epub, if I long-press a word with an apostrophe (ie. ""l'ingénieur""), the search will target the word AND ""l'"". This sould only target the word.
"
NightWhistler/PageTurner,closed,"""Add to library"" in OPDS browsing",[],"Next to the ""Read now"" button in an OPDS feed we should add an ""Add to library"" button which only adds the book the library, without opening it.

> When I get ebooks from gutenberg.org or my calibra server I have to click “Read now” which 
> downloads and opens in one step, which is quite nice. But when I download several books to read 
> them later, they are already marked as “read” and I can’t find them by selcting “Unread books” 
> anymore.
> I’d love to have a “download only” or “read later” button additionally to the “read now” button , so I 
> don’t have to remember what I have or haven’t read yet.
"
NightWhistler/PageTurner,closed,End of chapter display bug,"[Label(name=""Bug"")]","From the forums

> On my Acer Iconia A500 (Android 4.0) I have noticed that at the end of a chapter, 
> the previous page remains displayed in the area that should be blank.
"
NightWhistler/PageTurner,closed,Move ordering to menu,[],"From the forums:

> The menu in the upper part of the book-shelf takes away too much space, IMO, and is not really 
> needed, I believe. Usually a user has a preferred ordering style. Another sorting could be invoked 
> from the main menu.
"
NightWhistler/PageTurner,closed,Doesn't show HTML entities correctly,[],"If you have a book with a code example, and that example contains, say, ""<"", the HTML will of course contain ""&lt;"". PageTurner incorrectly shows this literally as ""&lt;"" instead of as the ""<"" it should be. This can make code example pretty hard to read :-(
"
NightWhistler/PageTurner,closed,Compilation Error,[],"Trying to compile with mvn on OSX I get the following error:

```
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 4.592s
[INFO] Finished at: Sun Sep 09 15:12:30 EDT 2012
[INFO] Final Memory: 8M/81M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal on project PageTurner: Could not resolve dependencies for project net.nightwhistler.pageturner:PageTurner:apk:1.3.4: Failed to collect dependencies for [com.google.android:android:jar:2.2.1 (provided), org.roboguice:roboguice:jar:1.1 (compile), com.google.code.guice:guice:jar:2.0-no_aop (compile), nl.siegmann.epublib:epublib-core:jar:3.0-SNAPSHOT (compile), net.sourceforge.htmlcleaner:htmlcleaner:jar:2.2 (compile), org.slf4j:slf4j-api:jar:1.6.1 (provided), net.nightwhistler.htmlspanner:htmlspanner:jar:0.2 (compile), org.slf4j:slf4j-android:jar:1.6.1-RC1 (compile), org.acra:acra:jar:4.2.3 (compile), com.markupartist.android:actionbar:apklib:20120328 (compile)]: Failed to read artifact descriptor for com.google.code.guice:guice:jar:2.0-no_aop: Could not transfer artifact com.google.code.guice:guice:pom:2.0-no_aop from/to Ostara (https://ostara.nightwhistler.net/repository): Error transferring file: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target -> [Help 1]
```

I should already have the Android sdk in my path and I have no problems using ADB at the moment, so it seems like I should have all I need.
"
NightWhistler/PageTurner,closed,Sync-points sometimes show 0% ,"[Label(name=""Bug"")]","In some cases a sync-point will show its progress as 0%, but the actual sync point has the correct value (i.e. the last place the user was reading)
"
NightWhistler/PageTurner,closed,Prefetch epub data,"[Label(name=""Improvement"")]","Related to [issue 111](https://github.com/NightWhistler/PageTurner/issues/111)

Page anticipated epub data to memory so users dont have to wait for them to load unless using bookmarks/TOC

The previous/next chapter, or just currentPage +/- N.
"
NightWhistler/PageTurner,closed,Add sync button to status overlay,[],"The manual sync option is now buried deep inside the menu, but it would be much nicer to have a button on the status overlay:

> Another suggestion: When I was first testing the app, I was confused as to how the sync worked, and it took me some time to find the option buried in the menu. Perhaps in the reading screen above the location scroll and to the right of the book title you could place a sync/refresh icon to open the cloud bookmarks? Just a thought.
"
NightWhistler/PageTurner,closed,Bug: Cloud sync needs to be manually triggered,"[Label(name=""Bug"")]","The app only does automated syncing when it is started, but on newer devices it's always suspended.
"
NightWhistler/PageTurner,closed,Configurable paragraph style,[],"Allow the user to choose how paragraphs are separated:
- line skip
- Indent
- Both
"
NightWhistler/PageTurner,closed,Bug: preference can set brightness to 0,[],"On my device this turned off the backlight and I could not change it back without clearing preferences. To make matters worse my ICS device has no hardware home/back buttons so I was not having a good time.

The brightness gesture in the reading activity has a floor of 1.
"
NightWhistler/PageTurner,closed,preliminary BASIC auth support,[],"very simple patch for basic auth, no digest support. the xml is not localized to your other languages yet, I'll leave that to you. tried to keep it simple so this and the last pull can make it into the next minor point release
"
NightWhistler/PageTurner,closed,Fix for issue 154,[],"search url inherits protocol, host name, and port number from baseUrl if not specified
"
NightWhistler/PageTurner,closed,Bug: OPDS catalog fails to download if search url is relative,[],"Using 1.3.4, trying to connect to [COPS server](http://blog.slucas.fr/en/oss/calibre-opds-php-server)
### relevant opds line

``` xml
<link href=""feed.php?page=8"" type=""application/opensearchdescription+xml"" rel=""search"" title=""Search here""/>
```
### logcat output:

```
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601): Download failed.
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601): java.lang.IllegalStateException: Target host must not be null, or set in parameters. scheme=null, host=null, path=feed.php
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at org.apache.http.impl.client.DefaultRequestDirector.determineRoute(DefaultRequestDirector.java:591)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:293)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.doInBackground(CatalogActivity.java:718)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.doInBackground(CatalogActivity.java:1)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at android.os.AsyncTask$2.call(AsyncTask.java:264)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
08-15 17:57:48.893: E/n*.n*.p*.a*.CatalogAct*(1601):    at java.lang.Thread.run(Thread.java:856)
```

On another note it may be worthwhile to leave any log messages warn or higher intact in proguard, spent a considerable amount of time getting PageTurner to build
"
NightWhistler/PageTurner,closed,Add support for DropBox / Google Drive,"[Label(name=""Improvement"")]","Since the goal of PageTurner is reading on several devices, it would be very convenient to also have your books available on all your devices. Since we don't want to store files ourselves, this should be done through a back-end like Dropbox or Google Drive.
"
NightWhistler/PageTurner,closed,Add config-option for Sync-server URL,"[Label(name=""Improvement"")]","Since it's possible to run your own sync-server, it should be easier to configure a different URL.

So, we should add an option to the configuration.
"
NightWhistler/PageTurner,open,Default settings don't work well on bigger screens,"[Label(name=""Usability issue"")]","Bigger screens need larger margins and font sizes.

It would be nice to calculate those on first use.
"
NightWhistler/PageTurner,closed,Nullpointer in library scroll,[],"java.lang.NullPointerException
at net.nightwhistler.pageturner.activity.LibraryActivity$CoverScrollListener$1.run(LibraryActivity.java:735)
at android.os.Handler.handleCallback(Handler.java:605)
at android.os.Handler.dispatchMessage(Handler.java:92)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4424)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Nullpointer on navigation,[],"java.lang.NullPointerException
at net.nightwhistler.pageturner.view.BookView.navigateToPercentage(BookView.java:489)
at net.nightwhistler.pageturner.activity.ReadingActivity$3.onStopTrackingTouch(ReadingActivity.java:228)
at android.widget.SeekBar.onStopTrackingTouch(SeekBar.java:115)
at android.widget.AbsSeekBar.onTouchEvent(AbsSeekBar.java:303)
at android.view.View.dispatchTouchEvent(View.java:4104)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1877)
at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1171)
at android.app.Activity.dispatchTouchEvent(Activity.java:2118)
at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1861)
at android.view.ViewRoot.deliverPointerEvent(ViewRoot.java:2371)
at android.view.ViewRoot.handleMessage(ViewRoot.java:2006)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3691)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:670)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,"Add ""Prevent screen lock"" option",[],"If the user has their screen dimming option set to a short time (30 seconds), it can be very annoying.
"
NightWhistler/PageTurner,closed,Non-standard SD-card locations fail,[],"Scan of sdcard complained about permissions, but selecting 'don't copy' allowed it to load the file. Novo 7, whose sdcard is /flash.

We'll need to get the proper location dynamically, or allow the user to change it.
"
NightWhistler/PageTurner,closed,Allow custom fonts,"[Label(name=""Improvement"")]","Allow the user to specify their own font through .ttf files.
"
NightWhistler/PageTurner,open,Multi site search,"[Label(name=""Improvement"")]","Have a single search that checks all registered opds sites and aggregates the results.
"
NightWhistler/PageTurner,closed,Wait-dialogs don't always show the second time,"[Label(name=""Bug"")]","Maybe we're not dismissing them in the right way?
"
NightWhistler/PageTurner,closed,Support password-protected calibre libraries,"[Label(name=""Improvement"")]","At the very least we should support the basic authentication.

If we make a special config for Calibre content server, we can also hard-code the username 'calibre'.
"
NightWhistler/PageTurner,closed,Support ICS Fonts,"[Label(name=""Improvement"")]","Android 4 has some new fonts. These should be available as screen fonts.
"
NightWhistler/PageTurner,closed,Nullpointer in Animators,"[Label(name=""Bug"")]","java.lang.NullPointerException
at android.graphics.Canvas.throwIfRecycled(Canvas.java:1037)
at android.graphics.Canvas.drawBitmap(Canvas.java:1142)
at net.nightwhistler.pageturner.animation.RollingBlindAnimator.draw(RollingBlindAnimator.java:61)
at net.nightwhistler.pageturner.view.AnimatedImageView.onDraw(AnimatedImageView.java:30)
at android.view.View.draw(View.java:10983)
at android.view.ViewGroup.drawChild(ViewGroup.java:2893)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2495)
at android.view.View.draw(View.java:10986)
at android.widget.FrameLayout.draw(FrameLayout.java:450)
at android.view.ViewGroup.drawChild(ViewGroup.java:2893)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2495)
at android.view.ViewGroup.drawChild(ViewGroup.java:2891)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2495)
at android.view.ViewGroup.drawChild(ViewGroup.java:2891)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2495)
at android.view.ViewGroup.drawChild(ViewGroup.java:2891)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2495)
at android.view.View.draw(View.java:10986)
at android.widget.FrameLayout.draw(FrameLayout.java:450)
at com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java:2194)
at android.view.ViewRootImpl.draw(ViewRootImpl.java:2058)
at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1666)
at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2474)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4447)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Bug: OutOfMemory on navigate,[],"When navigating with the progress bar, we sometimes run out of memory... maybe because both the old AND the new text are held?
"
NightWhistler/PageTurner,closed,Bug: doesn't display gt and lt correctly in some cases,[],"Problems with technical manual Did not render python code in OReily's Natural Language Processing .epub correctly. Shows ""&gt;"" instead of "">""
"
NightWhistler/PageTurner,closed,Issues building,[],"It appears that the whole nightwhistler.net domain is down. When I attempt to build via mvn install or mvn android:deploy it fails because it can't download all the files from https://ostara.nightwhistler.net/.../

Any word on when this will be fixed? It must have only just started being an issue within the last few hours, it was working fine around 7 EST
"
NightWhistler/PageTurner,closed,Bug: Multiple quick seeks cause crash,[],"java.lang.ArrayIndexOutOfBoundsException
at java.util.ArrayList.get(ArrayList.java:313)
at net.nightwhistler.pageturner.view.BookView.navigateToPercentage(BookView.java:503)
at net.nightwhistler.pageturner.activity.ReadingActivity$3.onStopTrackingTouch(ReadingActivity.java:222)
at android.widget.SeekBar.onStopTrackingTouch(SeekBar.java:115)
at android.widget.AbsSeekBar.onTouchEvent(AbsSeekBar.java:302)
at android.view.View.dispatchTouchEvent(View.java:3885)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1691)
at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1125)
at android.app.Activity.dispatchTouchEvent(Activity.java:2096)
at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1675)
at android.view.ViewRoot.deliverPointerEvent(ViewRoot.java:2194)
at android.view.ViewRoot.handleMessage(ViewRoot.java:1878)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3683)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,"Filename as title includes ""/""",[],"In the dev version, we use the filename if there's no title. It doesn't trim off the leading / though.
"
NightWhistler/PageTurner,closed,Check for duplicate files checks full path,[],"This means you can have the same book twice if you import it once with ""copy to library""  selected, and once without
"
NightWhistler/PageTurner,closed,Some covers don't show,[],"For example Jennifer Morgue
"
NightWhistler/PageTurner,closed,Bug: percentage jumps when changing chapters,[],"It looks like while loading a chapter, the percentage for the end of the chapter is shown. This should be the percentage for the start of the chapter.
"
NightWhistler/PageTurner,closed,Add bookmarks,"[Label(name=""waffle:ready"")]","Allow users to add bookmarks with a custom title, plus the percentage.
"
NightWhistler/PageTurner,closed,Load images in background for OPDS,[],"Right now the user has to wait for all the images to download before they can browse. It would be much smarter to download the images in the background.
"
NightWhistler/PageTurner,closed,Bug: Gutenburg downloads are broken.,[],"It doesn't take you to a single-item download, but just navigates you around.
"
NightWhistler/PageTurner,closed,Bug: PageCurl shows black border on ICS,[],"The border changes size with the margins.
"
NightWhistler/PageTurner,closed,Bug: progress-percentage is off,[],"At the end of the book you'll often be at 95 or 96% instead of 100%. 

This should be improved.
"
NightWhistler/PageTurner,open,Create more intuitive settings for Calibre server,"[Label(name=""Improvement"")]","Right now users needs to enter a fully correct URL.

We want to keep that option, but also allow for a special setting for calibre servers, where the user can enter an IP and optionally a port, and have PageTurner construct a correct URL.
"
NightWhistler/PageTurner,closed,Allow multiple custom OPDS feeds,"[Label(name=""Improvement"")]","There is no technical reason to limit the number of OPDS feeds, we just need a nice GUI to maintain them.
"
NightWhistler/PageTurner,open,Opening ePubs from Third-party apps doesn't work,"[Label(name=""Bug""), Label(name=""waffle:ready"")]","If you make the following change in AndroidManifest.xml:

```
-                  
-            <intent-filter>
-                <action android:name=""android.intent.action.VIEW"" />
-                       <category android:name=""android.intent.category.DEFAULT"" />
-                       <category android:name=""android.intent.category.BROWSABLE"" />                           
-                       
-                       <data android:scheme=""http"" android:host=""*""
-                    android:pathPattern="".*\\.epub""
-                    android:mimeType=""application/epub+zip"" />
-                <data android:scheme=""https"" android:host=""*""
-                    android:pathPattern="".*\\.epub"" 
-                    android:mimeType=""application/epub+zip""/>
-                <data android:scheme=""content"" android:host=""*""
-                    android:pathPattern="".*\\.epub""
-                    android:mimeType=""application/epub+zip"" />
-                <data android:scheme=""file"" android:host=""*""
-                    android:pathPattern="".*\\.epub""
-                    android:mimeType=""application/epub+zip"" />
+                               <intent-filter>
+                           <action android:name=""android.intent.action.VIEW"" />

-            </intent-filter>
+                           <category android:name=""android.intent.category.DEFAULT"" />
+                           <category android:name=""android.intent.category.BROWSABLE"" />
+
+                           <data android:mimeType=""*/*"" />
+                           <data android:pathPattern=""*.*\\.epub"" />
+                       </intent-filter>
```

It will work correctly
"
NightWhistler/PageTurner,closed,Use filename in library if there is no title,[],"Right now the books show up with no title at all, which looks very confusing. 
"
NightWhistler/PageTurner,closed,Bug: slide transition doesn't always work well,[],"The slide transition doesn't always work OK: sometimes the text slides in from a blank screen instead of also sliding out the old text.

Strangely enough the problem stops after using the pageflip transition once.
"
NightWhistler/PageTurner,closed,"Bug: ""no books found message"" incorrect","[Label(name=""Text change"")]","On a later manual scan, the message still reads ""no books found, please download"", which is inappropriate if your library already contains books.
"
NightWhistler/PageTurner,closed,Bug: autoscroll loses last line,"[Label(name=""Bug"")]","When using the rolling blind, we sometimes lose the last line of the page.
"
NightWhistler/PageTurner,closed,Move delete button to book details,[],"On long click on a book, always pop up the book details dialog and move the actions to buttons in the dialog.
"
NightWhistler/PageTurner,closed,Bug: crash on AutoScroll,[],"java.util.concurrent.RejectedExecutionException: Task android.os.AsyncTask$3@40e18640 rejected from java.util.concurrent.ThreadPoolExecutor@4084bef0[Running, pool size = 128, active threads = 128, queued tasks = 10, completed tasks = 29]
at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:1972)
at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:787)
at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1308)
at android.os.AsyncTask.executeOnExecutor(AsyncTask.java:552)
at android.os.AsyncTask.execute(AsyncTask.java:499)
at net.nightwhistler.pageturner.view.BookView.loadText(BookView.java:331)
at net.nightwhistler.pageturner.view.ScrollingStrategy.scroll(ScrollingStrategy.java:219)
at net.nightwhistler.pageturner.view.ScrollingStrategy.pageDown(ScrollingStrategy.java:131)
at net.nightwhistler.pageturner.view.BookView.pageDown(BookView.java:342)
at net.nightwhistler.pageturner.activity.ReadingActivity.prepareRollingBlind(ReadingActivity.java:622)
at net.nightwhistler.pageturner.activity.ReadingActivity.startAutoScroll(ReadingActivity.java:608)
at net.nightwhistler.pageturner.activity.ReadingActivity.access$5(ReadingActivity.java:594)
at net.nightwhistler.pageturner.activity.ReadingActivity$AutoScrollRunnable.run(ReadingActivity.java:733)
at android.os.Handler.handleCallback(Handler.java:587)
at android.os.Handler.dispatchMessage(Handler.java:92)
at android.os.Looper.loop(Looper.java:132)
at android.app.ActivityThread.main(ActivityThread.java:4123)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:491)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Bug: NullpointerException while scrolling,[],"java.lang.NullPointerException
at net.nightwhistler.pageturner.view.ScrollingStrategy.scroll(ScrollingStrategy.java:202)
at net.nightwhistler.pageturner.view.ScrollingStrategy.pageDown(ScrollingStrategy.java:131)
at net.nightwhistler.pageturner.view.BookView.pageDown(BookView.java:342)
at net.nightwhistler.pageturner.activity.ReadingActivity.doPageCurl(ReadingActivity.java:669)
at net.nightwhistler.pageturner.activity.ReadingActivity.pageDown(ReadingActivity.java:810)
at net.nightwhistler.pageturner.activity.ReadingActivity.onSwipeLeft(ReadingActivity.java:1058)
at net.nightwhistler.pageturner.view.NavGestureDetector.onFling(NavGestureDetector.java:118)
at android.view.GestureDetector.onTouchEvent(GestureDetector.java:568)
at net.nightwhistler.pageturner.activity.ReadingActivity$2.onTouch(ReadingActivity.java:215)
at android.view.View.dispatchTouchEvent(View.java:4605)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1554)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1320)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1560)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1333)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1560)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1333)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1560)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1333)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1560)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1333)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1560)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1333)
at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1709)
at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1264)
at android.app.Activity.dispatchTouchEvent(Activity.java:2315)
at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1682)
at android.view.View.dispatchPointerEvent(View.java:4677)
at android.view.ViewRoot.deliverPointerEvent(ViewRoot.java:2392)
at android.view.ViewRoot.handleMessage(ViewRoot.java:2054)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:132)
at android.app.ActivityThread.main(ActivityThread.java:4123)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:491)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Bug: problem with bitmap sizes,[],"java.lang.RuntimeException: An error occured while executing doInBackground()
        at android.os.AsyncTask$3.done(AsyncTask.java:200)
        at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)
        at java.util.concurrent.FutureTask.setException(FutureTask.java:125)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
        at java.lang.Thread.run(Thread.java:1019)
Caused by: java.lang.IllegalArgumentException: width and height must be > 0
        at android.graphics.Bitmap.nativeCreate(Native Method)
        at android.graphics.Bitmap.createBitmap(Bitmap.java:477)
        at android.graphics.Bitmap.createBitmap(Bitmap.java:444)
        at android.graphics.Bitmap.createScaledBitmap(Bitmap.java:349)
        at net.nightwhistler.pageturner.view.BookView$ImageCallback.getBitmap(BookView.java:726)
        at net.nightwhistler.pageturner.view.BookView$ImageCallback.onLoadResource(BookView.java:675)
        at net.nightwhistler.pageturner.epub.ResourceLoader.load(ResourceLoader.java:86)
        at net.nightwhistler.pageturner.view.BookView$LoadTextTask.doInBackground(BookView.java:965)
        at net.nightwhistler.pageturner.view.BookView$LoadTextTask.doInBackground(BookView.java:1)
        at android.os.AsyncTask$2.call(AsyncTask.java:185)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
        ... 4 more
java.lang.IllegalArgumentException: width and height must be > 0
        at android.graphics.Bitmap.nativeCreate(Native Method)
        at android.graphics.Bitmap.createBitmap(Bitmap.java:477)
        at android.graphics.Bitmap.createBitmap(Bitmap.java:444)
        at android.graphics.Bitmap.createScaledBitmap(Bitmap.java:349)
        at net.nightwhistler.pageturner.view.BookView$ImageCallback.getBitmap(BookView.java:726)
        at net.nightwhistler.pageturner.view.BookView$ImageCallback.onLoadResource(BookView.java:675)
        at net.nightwhistler.pageturner.epub.ResourceLoader.load(ResourceLoader.java:86)
        at net.nightwhistler.pageturner.view.BookView$LoadTextTask.doInBackground(BookView.java:965)
        at net.nightwhistler.pageturner.view.BookView$LoadTextTask.doInBackground(BookView.java:1)
        at android.os.AsyncTask$2.call(AsyncTask.java:185)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
        at java.lang.Thread.run(Thread.java:1019)
"
NightWhistler/PageTurner,open,Add series info in Book details,"[Label(name=""Improvement"")]","You can't see in the book details if a book is part of a series, and which part it is.
"
NightWhistler/PageTurner,closed,Add ACRA preference,"[Label(name=""Improvement"")]","Right now it's not possible to turn off the ACRA crash reports. We should add a preference to disable it.
"
NightWhistler/PageTurner,closed,Bug: another indexofoutbounds,[],"java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0
at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)
at java.util.ArrayList.get(ArrayList.java:308)
at java.util.Collections$UnmodifiableList.get(Collections.java:1102)
at net.nightwhistler.pageturner.library.KeyedResultAdapter.getPositionForSection(KeyedResultAdapter.java:54)
at android.widget.FastScroller.getThumbPositionForListPosition(FastScroller.java:610)
at android.widget.FastScroller.onScroll(FastScroller.java:421)
at android.widget.AbsListView.invokeOnItemScrollListener(AbsListView.java:1252)
at android.widget.GridView.layoutChildren(GridView.java:1283)
at android.widget.AbsListView.onLayout(AbsListView.java:1800)
at android.view.View.layout(View.java:9581)
at android.view.ViewGroup.layout(ViewGroup.java:3877)
at android.widget.FrameLayout.onLayout(FrameLayout.java:400)
at android.view.View.layout(View.java:9581)
at android.view.ViewGroup.layout(ViewGroup.java:3877)
at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1542)
at android.widget.LinearLayout.layoutHorizontal(LinearLayout.java:1527)
at android.widget.LinearLayout.onLayout(LinearLayout.java:1316)
at android.view.View.layout(View.java:9581)
at android.view.ViewGroup.layout(ViewGroup.java:3877)
at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1542)
at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1403)
at android.widget.LinearLayout.onLayout(LinearLayout.java:1314)
at android.view.View.layout(View.java:9581)
at android.view.ViewGroup.layout(ViewGroup.java:3877)
at android.widget.FrameLayout.onLayout(FrameLayout.java:400)
at android.view.View.layout(View.java:9581)
at android.view.ViewGroup.layout(ViewGroup.java:3877)
at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1542)
at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1403)
at android.widget.LinearLayout.onLayout(LinearLayout.java:1314)
at android.view.View.layout(View.java:9581)
at android.view.ViewGroup.layout(ViewGroup.java:3877)
at android.widget.FrameLayout.onLayout(FrameLayout.java:400)
at android.view.View.layout(View.java:9581)
at android.view.ViewGroup.layout(ViewGroup.java:3877)
at android.view.ViewRoot.performTraversals(ViewRoot.java:1282)
at android.view.ViewRoot.handleMessage(ViewRoot.java:2040)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:132)
at android.app.ActivityThread.main(ActivityThread.java:4123)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:491)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,download fails for some books,[],"Kama sutra from feedbooks
"
NightWhistler/PageTurner,closed,StackOverflow in folder scan,"[Label(name=""Bug"")]","java.lang.RuntimeException: An error occured while executing doInBackground()
at android.os.AsyncTask$3.done(AsyncTask.java:266)
at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
at java.util.concurrent.FutureTask.run(FutureTask.java:137)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1081)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:574)
at java.lang.Thread.run(Thread.java:1020)
Caused by: java.lang.NullPointerException
at net.nightwhistler.pageturner.library.ImportTask.findEpubsInFolder(ImportTask.java:102)
at net.nightwhistler.pageturner.library.ImportTask.findEpubsInFolder(ImportTask.java:103)
(...)
at net.nightwhistler.pageturner.library.ImportTask.findEpubsInFolder(ImportTask.java:103)
at net.nightwhistler.pageturner.library.ImportTask.doInBackground(ImportTask.java:65)
at net.nightwhistler.pageturner.library.ImportTask.doInBackground(ImportTask.java:1)
at android.os.AsyncTask$2.call(AsyncTask.java:252)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
... 4 more
java.lang.NullPointerException
at net.nightwhistler.pageturner.library.ImportTask.findEpubsInFolder(ImportTask.java:102)
(...)
at net.nightwhistler.pageturner.library.ImportTask.findEpubsInFolder(ImportTask.java:103)
at net.nightwhistler.pageturner.library.ImportTask.doInBackground(ImportTask.java:65)
at net.nightwhistler.pageturner.library.ImportTask.doInBackground(ImportTask.java:1)
at android.os.AsyncTask$2.call(AsyncTask.java:252)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
at java.util.concurrent.FutureTask.run(FutureTask.java:137)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1081)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:574)
at java.lang.Thread.run(Thread.java:1020)
"
NightWhistler/PageTurner,closed,Dialogs are unthemed,"[Label(name=""Usability issue"")]","Picture the scene - I'm in 'Night Mode' (which is how I do pretty much all my reading) and I have the colours for night mode set to very dark red on a black background, which is very easy on the eyes, and means my night vision is preserved

But then I move from one chapter to the next, and I get ""stabbed in the eyes"" by a super bright white ""Loading..."" dialog

If possible, that dialog should be the same colour as the text. (fbreader doesn't have any such thing, which is why it's not a problem there)
"
NightWhistler/PageTurner,closed,Can't find corresponding actionbar source,[],"For this jar file...

 https://ostara.nightwhistler.net/repository/com/markupartist/android/actionbar/20120328/

Unless I'm doing something wrong, none of the obvious places to look (i.e. all branches in the main android-actionbar project on github, or your fork of it) contain the source for this jar file. PageTurner is wanting to construct an ActionBar.AbstractAction and no such thing seems to exist.
"
NightWhistler/PageTurner,closed,Page flipping can be slow,[],"On Android 4 devices with big screens, the page flip is too slow... also, it shows a black border.
"
NightWhistler/PageTurner,closed,Bug: invalid URL for calibre causes crash,[],"java.lang.RuntimeException: An error occured while executing doInBackground()
at android.os.AsyncTask$3.done(AsyncTask.java:266)
at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
at java.util.concurrent.FutureTask.run(FutureTask.java:137)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1081)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:574)
at java.lang.Thread.run(Thread.java:1020)
Caused by: java.lang.IllegalArgumentException: Illegal character in scheme at index 0: 10.0.1.2:8080
at java.net.URI.create(URI.java:769)
at org.apache.http.client.methods.HttpGet.<init>(HttpGet.java:75)
at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.doInBackground(CatalogActivity.java:550)
at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.doInBackground(CatalogActivity.java:1)
at android.os.AsyncTask$2.call(AsyncTask.java:252)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
... 4 more
java.lang.IllegalArgumentException: Illegal character in scheme at index 0: 10.0.1.2:8080
at java.net.URI.create(URI.java:769)
at org.apache.http.client.methods.HttpGet.<init>(HttpGet.java:75)
at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.doInBackground(CatalogActivity.java:550)
at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.doInBackground(CatalogActivity.java:1)
at android.os.AsyncTask$2.call(AsyncTask.java:252)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
at java.util.concurrent.FutureTask.run(FutureTask.java:137)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1081)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:574)
at java.lang.Thread.run(Thread.java:1020)
"
NightWhistler/PageTurner,closed,Bug: Nullpointer on new feed,[],"java.lang.NullPointerException
at net.nightwhistler.pageturner.activity.CatalogActivity.setNewFeed(CatalogActivity.java:470)
at net.nightwhistler.pageturner.activity.CatalogActivity.access$7(CatalogActivity.java:469)
at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.onPostExecute(CatalogActivity.java:584)
at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.onPostExecute(CatalogActivity.java:1)
at android.os.AsyncTask.finish(AsyncTask.java:417)
at android.os.AsyncTask.access$300(AsyncTask.java:127)
at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3687)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Bug: Base64 not present on Android 2.1,[],"java.lang.RuntimeException: An error occured while executing doInBackground()
at android.os.AsyncTask$3.done(AsyncTask.java:200)
at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
at java.util.concurrent.FutureTask.run(FutureTask.java:137)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1068)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:561)
at java.lang.Thread.run(Thread.java:1096)
Caused by: java.lang.NoClassDefFoundError: android.util.Base64
at net.nightwhistler.pageturner.activity.CatalogActivity.loadImageLink(CatalogActivity.java:456)
at net.nightwhistler.pageturner.activity.CatalogActivity.access$6(CatalogActivity.java:447)
at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.doInBackground(CatalogActivity.java:571)
at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.doInBackground(CatalogActivity.java:1)
at android.os.AsyncTask$2.call(AsyncTask.java:185)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
... 4 more
java.lang.NoClassDefFoundError: android.util.Base64
at net.nightwhistler.pageturner.activity.CatalogActivity.loadImageLink(CatalogActivity.java:456)
at net.nightwhistler.pageturner.activity.CatalogActivity.access$6(CatalogActivity.java:447)
at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.doInBackground(CatalogActivity.java:571)
at net.nightwhistler.pageturner.activity.CatalogActivity$LoadOPDSTask.doInBackground(CatalogActivity.java:1)
at android.os.AsyncTask$2.call(AsyncTask.java:185)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
at java.util.concurrent.FutureTask.run(FutureTask.java:137)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1068)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:561)
at java.lang.Thread.run(Thread.java:1096)
"
NightWhistler/PageTurner,closed,Bug: IndexOutOfBounds in keys,[],"java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0
at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:257)
at java.util.ArrayList.get(ArrayList.java:311)
at net.nightwhistler.pageturner.library.KeyedResultAdapter.getKey(KeyedResultAdapter.java:34)
at net.nightwhistler.pageturner.activity.LibraryActivity$CoverScrollListener$1.run(LibraryActivity.java:766)
at android.os.Handler.handleCallback(Handler.java:587)
at android.os.Handler.dispatchMessage(Handler.java:92)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3687)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,open,Make library labels configurable,"[Label(name=""Improvement"")]","Options: ""Always, Only for books without a cover, never""
"
NightWhistler/PageTurner,closed,Info overlay,[],"When the user presses the ""menu"" button, show an overlay with the cover, author, title and progress of the book like in XBMC with movies.
"
NightWhistler/PageTurner,closed,Cache covers,[],"Caching the covers should safe memory, since the same cover won't be loaded twice then
"
NightWhistler/PageTurner,closed,Jump to point,[],"Use a progress bar to enable to jump to a percentage.
"
NightWhistler/PageTurner,closed,Create alphabet bar for quick navigation,[],"The library needs a way to quickly jump to a specific author / title. An alphabet bar would help.
"
NightWhistler/PageTurner,closed,Bug: Nullpointer in isAtEnd,[],"java.lang.NullPointerException
    at net.nightwhistler.pageturner.view.BookView.isAtEnd(BookView.java:183)
    at net.nightwhistler.pageturner.activity.ReadingActivity.pageDown(ReadingActivity.java:782)
    at net.nightwhistler.pageturner.activity.ReadingActivity.onTapRightEdge(ReadingActivity.java:1071)
    at net.nightwhistler.pageturner.view.NavGestureDetector.onSingleTapUp(NavGestureDetector.java:71)
    at android.view.GestureDetector.onTouchEvent(GestureDetector.java:557)
    at net.nightwhistler.pageturner.activity.ReadingActivity$1.onTouch(ReadingActivity.java:206)
    at android.view.View.dispatchTouchEvent(View.java:3881)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:903)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:942)
    at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1692)
    at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1126)
    at android.app.Activity.dispatchTouchEvent(Activity.java:2096)
    at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1676)
    at android.view.ViewRoot.deliverPointerEvent(ViewRoot.java:2208)
    at android.view.ViewRoot.handleMessage(ViewRoot.java:1892)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:123)
    at android.app.ActivityThread.main(ActivityThread.java:3647)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:507)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Bug: Nullpointer in scrolling-stategy,[],"java.lang.NullPointerException
    at net.nightwhistler.pageturner.view.ScrollingStrategy.addEndTag(ScrollingStrategy.java:93)
    at net.nightwhistler.pageturner.view.ScrollingStrategy.loadText(ScrollingStrategy.java:85)
    at net.nightwhistler.pageturner.view.BookView.setText(BookView.java:773)
    at net.nightwhistler.pageturner.activity.ReadingActivity.errorOnBookOpening(ReadingActivity.java:494)
    at net.nightwhistler.pageturner.view.BookView.errorOnBookOpening(BookView.java:802)
    at net.nightwhistler.pageturner.view.BookView.access$11(BookView.java:800)
    at net.nightwhistler.pageturner.view.BookView$LoadTextTask.onPostExecute(BookView.java:953)
    at net.nightwhistler.pageturner.view.BookView$LoadTextTask.onPostExecute(BookView.java:1)
    at android.os.AsyncTask.finish(AsyncTask.java:417)
    at android.os.AsyncTask.access$300(AsyncTask.java:127)
    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:130)
    at android.app.ActivityThread.main(ActivityThread.java:3691)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:507)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:907)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:665)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Added Persian (Farsi) translations.,[],"In this work I have added the origin strings as comment: This would be a convenient way to work of translation files in future. I suggest you to don't remove comments.
"
NightWhistler/PageTurner,closed,the project is lack of  four package,[],"import net.nightwhistler.htmlspanner.HtmlSpanner;
import net.nightwhistler.htmlspanner.TagNodeHandler;
import net.nightwhistler.htmlspanner.handlers.TableHandler;
import net.nightwhistler.htmlspanner.spans.CenterSpan;
"
NightWhistler/PageTurner,closed,Reference epub won't load,[],"The reference file for ePub3, Moby DIck, won't load because of memory problems. It can be found here:

http://code.google.com/p/epub-revision/downloads/detail?name=moby-dick-mo-20120206.epub&can=2&q=

At first glance the .mp4 file inside is probably the culprit, since it's 8 megs and right now the ignore list doesn't include movie / sound files.
"
NightWhistler/PageTurner,closed,the project is lack of  four package,[],"import net.nightwhistler.htmlspanner.HtmlSpanner;
import net.nightwhistler.htmlspanner.TagNodeHandler;
import net.nightwhistler.htmlspanner.handlers.TableHandler;
import net.nightwhistler.htmlspanner.spans.CenterSpan;
"
NightWhistler/PageTurner,closed,Lock Orientation - there are 4 orientations,[],"Feature request - add the other two possible orientations to the 'Lock Orientation' preference. The way I always read (FBReader calls it 'Reverse Landscape') is not available in PageTurner.
"
NightWhistler/PageTurner,closed,Volume buttons 'escape' between chapters,[],"When navigating pages with the volume buttons, there's a big problem when you move from one chapter to the next - that particular button press 'escapes' from PageTurner back to the OS and triggers a phone volume change. This results in:

a) an unpleasant beepy noise
b) unwanted changes to your ringer volume
c) in night mode, a big glary volume pop-up that kills your night vision
"
NightWhistler/PageTurner,closed,First run - bad experience with lots of books,[],"The first time I ran PageTurner, I already had lots of books (epub) on my sdcard. I was immediately presented with the option to scan the SD card for books. This seemed like a harmless and useful thing to do, so I said yes.

I had no idea it was going to copy all these files (gigabytes of them) to its own directory, and take over half an hour. (I also think, but this was a while ago so I might be remembering wrong, that there was no way of cancelling that process)

Possible solutions:

a) Make the 'copy to own folder' preference default to off
b) Allow this to be chosen when doing the initial scan
c) Give a warning before the first scan
"
NightWhistler/PageTurner,closed,Show file location in book details,[],
NightWhistler/PageTurner,closed,Gap in bookcaseview,[],"When scrolling in bookcaseview there will be a black gap on top.
"
NightWhistler/PageTurner,closed,Crash while rendering Html comments,[],"java.lang.ClassCastException: org.htmlcleaner.CommentNode cannot be cast to org.htmlcleaner.TagNode
    at net.nightwhistler.htmlspanner.handlers.PreHandler.getPlainText(PreHandler.java:41)
    at net.nightwhistler.htmlspanner.handlers.PreHandler.getPlainText(PreHandler.java:43)
    at net.nightwhistler.htmlspanner.handlers.PreHandler.handleTagNode(PreHandler.java:53)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:294)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:270)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:287)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:270)
    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:287)
    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:270)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:193)
    at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:159)
    at net.nightwhistler.pageturner.view.BookView$LoadTextTask.doInBackground(BookView.java:937)
    at net.nightwhistler.pageturner.view.BookView$LoadTextTask.doInBackground(BookView.java:1)
    at android.os.AsyncTask$2.call(AsyncTask.java:252)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1081)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:574)
    at java.lang.Thread.run(Thread.java:1020)
"
NightWhistler/PageTurner,closed,Report network failure in catalog,[],"Right now it looks like nothing happens then
"
NightWhistler/PageTurner,closed,Importing more than 1200 books causes the app to hang.,[],"See title.
"
NightWhistler/PageTurner,closed,Relative paths don't work well,[],"When an epub uses relative URLs like

 ""../Text/Dagon.xhtml#dagon""

it doesn't work. See Cthulhu chick's book.
"
NightWhistler/PageTurner,closed,bug: long press in listview is broken,[],
NightWhistler/PageTurner,closed,"Add ""read now"" button to book details",[],"If you read the description and decide you want to read it, you shouldn't need to go back.
"
NightWhistler/PageTurner,closed,Add search to library,"[Label(name=""Improvement"")]","A search filter function would help to make sense of bigger libraries.
"
NightWhistler/PageTurner,closed,Bug: clicking on a link is sometimes also seen as a nav click,[],"This leads to the page being changed instead of the link firing.
"
NightWhistler/PageTurner,closed,Paging on first/last page is unintuitive,[],"You can just keep paging, which looks weird. Should probably be disabled.
"
NightWhistler/PageTurner,closed,Calibre integration,"[Label(name=""Improvement"")]","It should be easy to use Calibre to manage the books on your device and have the changes show up in your library.
"
NightWhistler/PageTurner,closed,Add TTS support,"[Label(name=""Improvement"")]","For readers with visual impairments or people that like to turn an ePub into an audio book it would be good to integrate with TTS systems to be able to have the book read to you, yet still have all the sync benefits. 
"
NightWhistler/PageTurner,closed,Bug: problems with vertical animations,[],"Disabling vertical animation also seems to disable vertical swiping.

Also, a strange crash: 

java.lang.IllegalArgumentException: SLİDE is not a constant in the enum type class net.nightwhistler.pageturner.Configuration$AnimationStyle
    at java.lang.Enum.valueOf(Enum.java:185)
    at net.nightwhistler.pageturner.Configuration$AnimationStyle.valueOf(Configuration.java:1)
    at net.nightwhistler.pageturner.Configuration.getVerticalAnim(Configuration.java:320)
    at net.nightwhistler.pageturner.activity.ReadingActivity.pageUp(ReadingActivity.java:819)
    at net.nightwhistler.pageturner.activity.ReadingActivity.onSwipeUp(ReadingActivity.java:1029)
    at net.nightwhistler.pageturner.view.NavGestureDetector.onFling(NavGestureDetector.java:119)
    at android.view.GestureDetector.onTouchEvent(GestureDetector.java:568)
    at net.nightwhistler.pageturner.activity.ReadingActivity$1.onTouch(ReadingActivity.java:202)
    at android.view.View.dispatchTouchEvent(View.java:3762)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:897)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:936)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:936)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:936)
    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:936)
    at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1878)
    at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1159)
    at android.app.Activity.dispatchTouchEvent(Activity.java:2086)
    at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1862)
    at android.view.ViewRoot.handleMessage(ViewRoot.java:1809)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:123)
    at android.app.ActivityThread.main(ActivityThread.java:4627)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:521)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:871)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:629)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Bug: Loses position on incoming call,"[Label(name=""Bug"")]","When you're called while reading, your position will be gone after the call.
"
NightWhistler/PageTurner,open,page change sound,"[Label(name=""Improvement"")]","A sound of a page turning.
"
NightWhistler/PageTurner,closed,OutOfMemoryError in Library,[],"java.lang.OutOfMemoryError: bitmap size exceeds VM budget
    at android.graphics.BitmapFactory.nativeDecodeByteArray(Native Method)
    at android.graphics.BitmapFactory.decodeByteArray(BitmapFactory.java:494)
    at android.graphics.BitmapFactory.decodeByteArray(BitmapFactory.java:507)
    at net.nightwhistler.pageturner.activity.LibraryActivity$BookAdapter.getView(LibraryActivity.java:350)
    at net.nightwhistler.pageturner.activity.LibraryActivity$BookAdapter.getView(LibraryActivity.java:1)
    at net.nightwhistler.pageturner.library.QueryResultAdapter.getView(QueryResultAdapter.java:81)
    at android.widget.AbsListView.obtainView(AbsListView.java:1427)
    at android.widget.ListView.measureHeightOfChildren(ListView.java:1284)
    at android.widget.ListView.onMeasure(ListView.java:1195)
    at android.view.View.measure(View.java:8173)
    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3132)
    at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1012)
    at android.widget.LinearLayout.measureVertical(LinearLayout.java:381)
    at android.widget.LinearLayout.onMeasure(LinearLayout.java:304)
    at android.view.View.measure(View.java:8173)
    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3132)
    at android.widget.FrameLayout.onMeasure(FrameLayout.java:245)
    at android.view.View.measure(View.java:8173)
    at android.widget.LinearLayout.measureVertical(LinearLayout.java:526)
    at android.widget.LinearLayout.onMeasure(LinearLayout.java:304)
    at android.view.View.measure(View.java:8173)
    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3132)
    at android.widget.FrameLayout.onMeasure(FrameLayout.java:245)
    at android.view.View.measure(View.java:8173)
    at android.view.ViewRoot.performTraversals(ViewRoot.java:812)
    at android.view.ViewRoot.handleMessage(ViewRoot.java:1752)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:123)
    at android.app.ActivityThread.main(ActivityThread.java:4627)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:521)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:858)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Font rendering on ICS,[],"On Android 4.0 devices the Gentium Book Basic font doesn't seem to render well.
"
NightWhistler/PageTurner,closed,Crash on pageUp,[],"java.lang.StringIndexOutOfBoundsException
    at java.lang.String.substring(String.java:1651)
    at android.text.SpannableStringInternal.<init>(SpannableStringInternal.java:30)
    at android.text.SpannedString.<init>(SpannedString.java:34)
    at android.text.SpannedString.subSequence(SpannedString.java:38)
    at net.nightwhistler.pageturner.view.SinglePageStrategy.findStartOfPage(SinglePageStrategy.java:107)
    at net.nightwhistler.pageturner.view.SinglePageStrategy.pageUp(SinglePageStrategy.java:135)
    at net.nightwhistler.pageturner.view.BookView.pageUp(BookView.java:301)
    at net.nightwhistler.pageturner.activity.ReadingActivity.doPageCurl(ReadingActivity.java:658)
    at net.nightwhistler.pageturner.activity.ReadingActivity.pageUp(ReadingActivity.java:816)
    at net.nightwhistler.pageturner.activity.ReadingActivity.onSwipeRight(ReadingActivity.java:1070)
    at net.nightwhistler.pageturner.view.NavGestureDetector.onFling(NavGestureDetector.java:112)
    at android.view.GestureDetector.onTouchEvent(GestureDetector.java:1116)
    at net.nightwhistler.pageturner.activity.ReadingActivity$1.onTouch(ReadingActivity.java:207)
    at net.nightwhistler.pageturner.view.BookView.onTouchEvent(BookView.java:193)
    at net.nightwhistler.pageturner.activity.ReadingActivity.onTouchEvent(ReadingActivity.java:373)
    at android.app.Activity.dispatchTouchEvent(Activity.java:2121)
    at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1861)
    at android.view.ViewRoot.deliverPointerEvent(ViewRoot.java:2371)
    at android.view.ViewRoot.handleMessage(ViewRoot.java:2006)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:130)
    at android.app.ActivityThread.main(ActivityThread.java:3691)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:507)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:670)
    at dalvik.system.NativeStart.main(Native Method)
"
NightWhistler/PageTurner,closed,Writing wiki instrunction for configuring eclipse/mavaen/git for contributors.,"[Label(name=""Documentation"")]","Salām,
I found this project very very fantastic. I want to contribute in this project, but I don't know how do you configured your project in eclipse/maven with git. what is your gitignore and so on.
I suggest writing a wiki page for new contributors.
"
NightWhistler/PageTurner,closed,Search texts,"[Label(name=""Improvement"")]","Salām,
We need to search through book like FBreaderJ.
"
NightWhistler/PageTurner,closed,Select/Copy-Paste texts,"[Label(name=""Improvement"")]","Is it possible to add new feature that we can copy part of text and send sms or email it?
"
NightWhistler/PageTurner,closed,Shelf.,[],"Hi I have implemented the shelf based on code from shelves foe android.Hope you like it.
"
NightWhistler/PageTurner,closed,Bug: back button is broken,[],"It always dismisses the app, instead of navigating back.
"
NightWhistler/PageTurner,closed,check this,[],"Hey hope I got this one right.
"
NightWhistler/PageTurner,closed,Pull request.,[],"I have added the actionbar to match the android design guideline I used a third party library project found here
https://github.com/johannilsson/android-actionbar it adds actionbar compatibility to android platforms below 3.2 up to 1.6 cupcake.This is a custom app I'm just basing on pageturner so just pull the relevant files and remember to add the library mention above for this to work.
"
NightWhistler/PageTurner,open,Create tiered preferences,"[Label(name=""Usability issue"")]","The preferences screen is now too long and intimidating. It's better to split it into a main screen with icons and categories and a second level with more specific prefs. Like the Android settings screen, or Droid Comic Viewer.
"
NightWhistler/PageTurner,closed,Add icons to the views in the library,[],"Makes it look nicer and easier to tap them.
"
NightWhistler/PageTurner,closed,Open browser when no books found,[],"If a book scan comes up empty, ask the user if they'd like to download some books. If they select yes, open Feedbooks.com in the browser.
"
NightWhistler/PageTurner,closed,Show progress bar ,[],"An idea from the Kindle: show a progress bar like the one used in the page timer, but for progress inside the book. Would be even nice if it had a little place marker that shows the percentage.
"
NightWhistler/PageTurner,closed,Use ACRA for crash reports,[],"We still have some random force-closes while reading. It's a good idea to install ACRA to send crash reports.
"
NightWhistler/PageTurner,open,Add a widget,"[Label(name=""Improvement"")]","A widget that shows you the last 3 books you have been reading, and allows you to open them directly from your home screen.
"
NightWhistler/PageTurner,open,Don't store covers in the database,[],"Right now we store the covers for each book in a blob column.

This makes PageTurner take up a lot of space in the phone memory. It's better to extract the cover to a file and store that in the same folder as the epub.
"
NightWhistler/PageTurner,closed,Better import dialog,[],"The import option should pop up a dialog with 2 radiobuttons:
- Scan entire SD Card
- Specify folder to scan

And a checkbox:

[V] Copy books to library

This allows the user to import external ordered library folders, but just hitting OK would give the same behaviour as now.
"
NightWhistler/PageTurner,closed,Store progress percentage per book in the library,[],"This allows for extra information in the library view, plus a nice check mark for ""done"" when we reach 100%
"
NightWhistler/PageTurner,closed,Bug: import-dialog does not show on second import,[],"It looks like nothing is happening then.
"
NightWhistler/PageTurner,open,Support multiple authors per book,"[Label(name=""Improvement"")]","Anthologies and collections tend to have more than 1 author. PageTurner should be able to handle this correctly.
"
NightWhistler/PageTurner,closed,Slide brightness controls,[],"It's more user-friendly to be able to control brightness by sliding up and down along the left edge of the screen.
"
NightWhistler/PageTurner,open,show icons on edge tap,[],"When navigating using edge tap, show an icon as a visual clue.
"
NightWhistler/PageTurner,closed,Import question pops up twice on clean install,[],
NightWhistler/PageTurner,closed,Bug: Long press on empty space causes crash,[],
NightWhistler/PageTurner,closed,Allow configuration of main menu,[],"Create an extra prefs screen with checkboxes for each of the main menu items, allowing users to disable items.
"
NightWhistler/PageTurner,closed,"Add menu item ""Go to title page""",[],"Most users want some way to jump to the start of the book
"
NightWhistler/PageTurner,closed,Change default autoscroll speed,[],"Set to 60 instead of 30
"
NightWhistler/PageTurner,closed,Use pagecurl by default,[],"Right now the default is ""slide""
"
NightWhistler/PageTurner,closed,Navigation outside the spine,[],"Feedbooks books have a title page that's outside the spine, but is referenced in the TOC.
"
NightWhistler/PageTurner,closed,Use title page if present,[],"Some books (Feedbooks in particular) have no title image, but do have a title page. This should be used then instead of trying to generate one.
"
NightWhistler/PageTurner,closed,"Enable ""install to SD""",[],"Especially for cheap tablets this is neccesary
"
NightWhistler/PageTurner,closed,No author in Manifest,[],"Should be added
"
NightWhistler/PageTurner,closed,"Add ""invert volume buttons"" option","[Label(name=""Improvement"")]","The volume button placement differs a lot per device. The mapping to pageUp and pageDown should be configurable.
"
NightWhistler/PageTurner,closed,Bug: crash while rendering table rows,"[Label(name=""Bug"")]"," Caused by: java.lang.ArithmeticException: divide by zero
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.handlers.TableHandler.calculateRowHeight(TableHandler.java:156)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.handlers.TableHandler.access$300(TableHandler.java:52)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.handlers.TableHandler$TableRowDrawable.getIntrinsicHeight(TableHandler.java:249)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.handlers.TableHandler.handleTagNode(TableHandler.java:186)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:294)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:270)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:287)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:270)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:287)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:270)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.HtmlSpanner.applySpan(HtmlSpanner.java:287)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.HtmlSpanner.handleContent(HtmlSpanner.java:270)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.HtmlSpanner.fromTagNode(HtmlSpanner.java:193)
E/AndroidRuntime(29526):    at net.nightwhistler.htmlspanner.HtmlSpanner.fromHtml(HtmlSpanner.java:159)
E/AndroidRuntime(29526):    at net.nightwhistler.pageturner.view.BookView$LoadTextTask.doInBackground(BookView.java:863)
E/AndroidRuntime(29526):    at net.nightwhistler.pageturner.view.BookView$LoadTextTask.doInBackground(BookView.java:819)
E/AndroidRuntime(29526):    at android.os.AsyncTask$2.call(AsyncTask.java:185)
E/AndroidRuntime(29526):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
E/AndroidRuntime(29526):    ... 4 more
W/ActivityManager(   97):   Force finishing activity net.nightwhistler.pageturne
"
NightWhistler/PageTurner,closed,Bug: Swiping sensitivity,[],"Multiple people have reported that PageTurner doesn't always respond to swipes and / or edge tapping.

This should be fixed before going to the Market.
"
NightWhistler/PageTurner,closed,Automatically scan when library is empty,[],"To make it easier for first-time users, run a scan automatically when their library is empty.
"
NightWhistler/PageTurner,closed,Swiping while pagecurl is running causes crash,[],"NPE at PageCurlAnimator.java:609

Also, PagCurl seems to be slower when the device is faster.
"
NightWhistler/PageTurner,open,Edit library metadata,"[Label(name=""Improvement"")]","Books don't always have proper meta-data. It would be good to be able to edit those fields.

Even better would be to be able to download meta-data from a source like library-thing or goodreads.
"
NightWhistler/PageTurner,open,Add support for txt and html files,"[Label(name=""Improvement"")]","It would be nice to be able to open txt and html files as well. Those are still being used quite a bit.
"
NightWhistler/PageTurner,closed,"Add ""copy to library"" option",[],"When scanning for books, add the option to build a structured library folder.
"
NightWhistler/PageTurner,closed,Download books inside PageTurner,[],"It would be nice to be able to browse  and download from FeedBooks from inside the app.
"
NightWhistler/PageTurner,open,Bookshelves,"[Label(name=""Improvement"")]","Allow users to tag books and organize them into shelves (like Goodreads does).
"
NightWhistler/PageTurner,closed,Implement file-browser,[],"Right now we rely on OI file explorer being present, but it's better to have file browsing built in. Should not be hard to build.
"
NightWhistler/PageTurner,closed,"Implement ""book-wall""",[],"This is an alternative to the wooden book-case: it shows a big continuous wall of covers.

Should be fairly easy to implement using a GridView.
"
NightWhistler/PageTurner,closed,Don't sync on orientation change,[],"Orientation change can be detected by the savedInstanceState bundle being present. In that case skip the server sync.
"
NightWhistler/PageTurner,closed,About dialog,[],"Add a nice about dialog with the current version number and some more info.
"
NightWhistler/PageTurner,closed,Implement page curl animation,[],"It's the only animation we're currently missing.
"
NightWhistler/PageTurner,closed,Bug: sometimes pages are too long,[],"In some cases in paged mode we get more than 1 screen of text, making a scroll-bar appear.

Might be related to headers and <quote> tags at the top of the page.
"
NightWhistler/PageTurner,closed,Orientation lock,[],"When reading a book you hardly ever want to swtich orientation. It would be nice to be able to lock it.
"
NightWhistler/PageTurner,closed,Startup time is slow,[],"Right now the app first does a server sync and then starts to load the book. This can take a long time when the network connection is slow and / or the book is big. It would give a nice speed increase to do these 2 things in paralel.
"
NightWhistler/PageTurner,closed,Wooden bookcase view,[],"All the other kids are doing it :P
"
NightWhistler/PageTurner,closed,Localization,[],"The app should at least support Dutch and English.
"
NightWhistler/PageTurner,closed,Large images break paged mode,[],"If an image is larger than a full page, it's possible to get stuck when in paged mode.
"
NightWhistler/PageTurner,closed,Record progress per device,[],"Allow the user to name each device, and record positions per device. A good default for the devicename is Build.MODEL.

On a normal background sync pick the most recently updated position.

When the user requests a manual sync, show a popup dialog displaying all the sync points and allow the user to choose.
"
NightWhistler/PageTurner,closed,Make margins configurable,[],"Maybe see if there is also a scaled default value.
"
NightWhistler/PageTurner,closed,"Configurable text ""themes""",[],"It would be nice to have different text rendering configurations, to get a kind of visual ""themes"".

This would also be a nice step up to getting CSS support.
"
NightWhistler/PageTurner,closed,Configurable line spacing,[],"Required by The List :P
"
NightWhistler/PageTurner,closed,Include link colour in colour profile,[],"Day and night mode should also have seperate colours for links.
"
NightWhistler/PageTurner,closed,book roulette,[],"Give me a random unread book.
"
NightWhistler/PageTurner,open,mark read books in the library,"[Label(name=""Improvement"")]","Also include a rating.
"
NightWhistler/PageTurner,closed,Add rendering support for OL and UL,[],"Currently HTML lists aren't rendered correctly.
"
NightWhistler/PageTurner,closed,Swiping up takes you to the start of the chapter,[],"In paging mode, swiping up resets the current position and takes you back to the start of the chapter.
"
NightWhistler/PageTurner,closed,Enable automatic page turning,[],"It would be nice if you could have the app do a pagedown on a fixed interval. Think reading in the bath tub.
"
NightWhistler/PageTurner,closed,Measure progress in pages as well as percentage,[],"Make it configurable how progress should be displayed.

Unanswered question: should pages be ""ideal pages"", i.e. fixed per book, or pages based on the page-size of the current device?

One will give the situation that page-turns don't match with page-numbers, the other will make the book length seem variable between devices.
"
NightWhistler/PageTurner,closed,Local updates vs remote progress,[],"If the last local setting is ahead of the remote progress, choose the local one.
"
NightWhistler/PageTurner,open,Paragraph spacing config,"[Label(name=""waffle:ready"")]","Offer 3 options for paragraph separation: ""indent, line skip, both""
"
NightWhistler/PageTurner,closed,Touch screen paging,[],"We should also be able to page by tapping the edges of the screen and swiping up and down ( in paged mode )
"
NightWhistler/PageTurner,closed,Trim whitespace,[],"Some books have too much space between paragraphs, it would be nice to trim that.
"
NightWhistler/PageTurner,closed,Brightness controls,[],"It would be useful to adjust the screen brightness, either from the reading screen or preferences.
"
NightWhistler/PageTurner,closed,Long file names are not synchronized properly.,[],"As subject
"
NightWhistler/PageTurner,closed,Implement library,[],"We need a library that shows which books the user has and offers different sorting options.

A nice bookshelf view is preferred.
"
NightWhistler/PageTurner,closed,No way to see progress in full-screen mode,[],"We currently show progress in the Android titlebar, but in Fullscreen mode this gets hidden.

It would be nice to have a component at the top show when the Menu button is pressed. This might mean implementing a custom Title bar.
"
NightWhistler/PageTurner,closed,Separate strategies for scrolling and paging,[],"Right now paging is emulated by scrolling down 1 screen at the time. This doesn't play nice with screen readers and also has the side effect of sliced of lines at the bottom.

Refactor the paging code into 2 PagingStrategy objects: ScrolledPagingStrategy and SinglePagePagingStrategy that each encapsulate the logic needed to perform the pageUp() and pageDown() methods.
"
