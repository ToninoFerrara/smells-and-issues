repository,state,title,label,body
koush/Superuser,open, F-Droid ,[],How to unroot my android 5.1.1 local  phone 
koush/Superuser,open,"Oreo 8.1, Magish, addonsu, SR5superSUv2.82SystemMode, SU binary occupied error on SuperSU Pro",[],I just not sure what to uninstall in what order and reinstall to get rid of this message.
koush/Superuser,open,[wiki] Add page explaining how to replace other root manager apps with Superuser,[],"It would be nice to have a wiki page which explains how to replace common root apps like SuperSU, Kingroot, VRoot, etc.with Superuser. Currently I'm using Kingroot but I really want to migrate to Superuser (I've installed it from F-Droid and transformed it into a system app) and I've not found any documentation saying how to do such migration."
koush/Superuser,open,SU,[],Please need update new interface dark skin and more advanced
koush/Superuser,open,cmc,[],
koush/Superuser,open,hi,[],i hope one day i can use apps without do nothing
koush/Superuser,open,Leyvamoragafidencio6@gmail.com,[],App tengo que usar para ser súper usuario xfa
koush/Superuser,open,T,[],Love
koush/Superuser,closed,Tlong bantu dong ,[],Samsung grand duos i9082 sya lemot dan sya coba2 rut sya liat smua tutorial di google tpi tetap aja ga bisa sya masukan superuser tpi tidak di dukung sistem bin/ xbin apa yg harus sya lakukan
koush/Superuser,open,ant build failed,[],"when I use ant debug .....
It shows some errors ....

`    [javac]                                    ^
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,int,int) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,String,String) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac] /home/peibin/Code/android/superuser/Superuser/Superuser/src/com/koushikdutta/superuser/SettingsFragment.java:253: error: no suitable constructor found for ListItem(SettingsFragment,int,int)
    [javac]         addItem(R.string.security, new ListItem(this, R.string.automatic_response, 0) {
    [javac]                                    ^
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,int,int) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,String,String) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac] /home/peibin/Code/android/superuser/Superuser/Superuser/src/com/koushikdutta/superuser/SettingsFragment.java:300: error: no suitable constructor found for ListItem(SettingsFragment,int,int)
    [javac]         pinItem = addItem(R.string.security, new ListItem(this, R.string.pin_protection, Settings.isPinProtected(getActivity()) ? R.string.pin_set : R.string.pin_protection_summary) {
    [javac]                                              ^
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,int,int) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,String,String) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac] /home/peibin/Code/android/superuser/Superuser/Superuser/src/com/koushikdutta/superuser/SettingsFragment.java:309: error: no suitable constructor found for ListItem(SettingsFragment,String,String)
    [javac]         addItem(R.string.security, new ListItem(this, getString(R.string.request_timeout), getString(R.string.request_timeout_summary, Settings.getRequestTimeout(getActivity()))) {
    [javac]                                    ^
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,int,int) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,String,String) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac] /home/peibin/Code/android/superuser/Superuser/Superuser/src/com/koushikdutta/superuser/SettingsFragment.java:331: error: no suitable constructor found for ListItem(SettingsFragment,int,int)
    [javac]         addItem(R.string.settings, new ListItem(this, R.string.logging, R.string.logging_summary) {
    [javac]                                    ^
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,int,int) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,String,String) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac] /home/peibin/Code/android/superuser/Superuser/Superuser/src/com/koushikdutta/superuser/SettingsFragment.java:342: error: no suitable constructor found for ListItem(SettingsFragment,int,int)
    [javac]         addItem(R.string.settings, new ListItem(this, R.string.notifications, 0) {
    [javac]                                    ^
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,int,int) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,String,String) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac] /home/peibin/Code/android/superuser/Superuser/Superuser/src/com/koushikdutta/superuser/SettingsFragment.java:390: error: no suitable constructor found for ListItem(SettingsFragment,int,int)
    [javac]             addItem(R.string.settings, new ListItem(this, R.string.theme, 0) {
    [javac]                                        ^
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,int,int) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac]     constructor ListItem.ListItem(BetterListFragmentInternal,String,String) is not applicable
    [javac]       (argument mismatch; SettingsFragment cannot be converted to BetterListFragmentInternal)
    [javac] Note: Some messages have been simplified; recompile with -Xdiags:verbose to get full output
    [javac] 24 errors
    [javac] 3 warnings
`

Please help me ....."
koush/Superuser,closed,ant,[],
koush/Superuser,open,"The ""su binary needs to be upgraded"" misses instructions what's supposed to happen",[],"At some point when starting the application a dialog requesting the su binary to be upgraded (text in the title is translated) will be displayed. One has the choice to choose ""Recovery"" or to abort. It is unclear what's supposed to happen after choosing recovery. The system reboots into recovery mode where I guess a file has to be installed. The steps in recovery mode should be explained to the user in the dialog.

experienced with 1.0.3.0 on Cyanogenmod 13"
koush/Superuser,open,error with widget,[],"Superuser-master\Superuser\src\com\koushikdutta\superuser\AboutFragment.java

Error:(42, 33) :ListItem(AboutFragment,String,String,int), 找不到合适的构造器
构造器 ListItem.ListItem(BetterListFragmentInternal,int,int,int)不适用
(参数不匹配; AboutFragment无法转换为BetterListFragmentInternal)
构造器 ListItem.ListItem(BetterListFragmentInternal,String,String,int)不适用
(参数不匹配; AboutFragment无法转换为BetterListFragmentInternal)
构造器 ListItem.ListItem(BetterListFragmentInternal,String,String,Drawable)不适用
(参数不匹配; AboutFragment无法转换为BetterListFragmentInternal)"
koush/Superuser,open,Error:Could not list contents of '/Users/root/Superuser/Superuser/assets/armeabi'.,[],"could you explain what the asset director files pointer to?
and how can i fix this problem?
thanks a lot.
"
koush/Superuser,open,"Security vuln on 4.3+4.4: overwrite any file/device with the string ""Permission denied""",[],"This applies to any apps that request root permission and the user subsequently hits Deny. This only applies to 4.3+4.4 which use client/server instead of the traditional setuid model. The attacker only needs the ability to run executable code (such as embedded in a ""libs"" directory).

[exploit details withheld: contact me to discuss]

After the exploit code is run by an untrusted user, the user is presented with a permission request screen. Obviously there is no problem if the user allows permission. However, if the user denies permission, the string ""Permission denied"" is written into the file of the attacker's choice. This could have any number of consequences. Clearly this can be used to brick the phone. For example I could pass /dev/block/mmcblk0p40 and stick ""Permission denied"" at the beginning of the user's baseband or fastboot partition. Or I could break any apps on the writable data partition by overwriting their classes.dex.

The permission request screen can be easily hidden with a bit of WindowManager, Toast or Intent magic to get out of there before it even loads.

I don't know yet if the Permission denied string can be changed, but even as is, it means rogue apps can damage the phone which is pretty scary.

Other notes for 4.3/4.4 from my testing: su does not need to be setuid. I don't know why the install scripts still insist on making it setuid. I have tested on my own device and it works fine without setuid because of the client/server model. [This is a better resolution to CVE-2013-6770 instead of whatever hack was put in to fix the immediate problem.]

Obviously this code is not maintained and 4.3/4.4 are ancient history. Please only install this unmaintained su binary if you know what you are doing or want/need open sourced code at the expense of security. If not, you are safer for now with the closed source alternatives. I'll see if I can put in the time to make a formal pull-request.
"
koush/Superuser,open,Regarding the latest fork of Superuser,[],"Dear @phhusson:

In reply to [this comment of yours](https://github.com/koush/Superuser/issues/268#issuecomment-125294196):

Thank you for working on [your fork](https://github.com/phhusson/Superuser) of Superuser!

A)  Does your fork work fine on Android 5.0 ""Lollipop""?

B)  Is it ready for use by the general public?

C)  If so, I wonder if you could please do the following?:
1.  Release a .apk file on a personal website of yours.
2.  Email Koush. A few times if necessary. You can also contact him by other means such as Twitter. Include something noticeable like ""[TAKEOVER REQUEST]"" in the email subject line. Ask him if he would be willing to please make your Superuser fork the new GitHub network root.
3.  If you're making a new release of Superuser for the first time in years, there are bound to be new bugs.  Once you've squashed most of these, ask Koush to transfer ownership of [the Superuser app in the Google Play Store](https://play.google.com/store/apps/details?id=com.koushikdutta.superuser&hl=en) to you. [Here's how.](https://support.google.com/googleplay/android-developer/answer/6230247?hl=fr)

If you try contacting Koush three or four times, and wait one or two weeks in between each try, then that means Koush is uncontactable.  If this is so, it would be good if you could please change the name of your fork to something new &mdash; to a name which is less common and easier to Google for.  A name different than ChainsDD picked (""Superuser"") and a name different than Koush picked (""Superuser"").  May I suggest the name ""AndAuthenticate"", which is a name reminiscent of the Mac OS X ""Authenticate"" privilege authorization feature.
"
koush/Superuser,open,new,[],"< < html html > > < < head head > > < < script script src src = = "" "" rangy-core.js rangy-core.js "" "" > > </</script script > > < < script script src src = = "" "" rangy-classapplier.js rangy-classapplier.js "" "" > > </</script script > > < < script script src src = = "" "" undo.js undo.js "" "" > > </</script script > > < < script script src src = = "" "" medium.js medium.js "" "" > > </</script script > > < < link link rel rel = = "" "" stylesheet stylesheet "" "" href href = = "" "" medium.css medium.css "" "" > > </</head head > > < < body body > >

< < div div id id = = "" "" editor editor "" "" > > </</div div > >

< < script script > > new new Medium Medium ( ( { { element element : : document document . . getElementById getElementById ( ( 'editor' 'editor' ) ) } } ) ) ; ; </</script script > > </</body body > > </</html html >
"
koush/Superuser,closed,Kevin Kirby,[],"I can not get my Verizon HTC Desire 4G LTE to root
"
koush/Superuser,open,Remove Superuser toast after allow apps has root accessed.,[],"Hi koush,
I want to remove toast that inform an app granted to... by source code.
Can you show the how? Thanks you!!!
"
koush/Superuser,open,permission different user shell u0_a161,[],"I have su installed with cli.
su works as user shell(adb), but not user u0_a161(vxconnectbot)

Whats going wrong?
- both user are member of sdcard_rw.
- su has setgid and group sdcard_rw
- logcat print ""sqlite3 open failure: 14""
  but database (databases/su.sqlite [issues/229]) not exist

my suggestion: database is not necessary
I did not find the following entry: android.permission.ACCESS_SUPERUSER

regards Andre

shell@android:/ # su -v  
13 com.koushikdutta.superuser

shell@android:/ # ls -l /system/xbin/su  
-rwsr-sr-x root     sdcard_rw   721624 2015-02-20 16:27 su

shell@android:/ # busybox  ls -la /dev/com.koushikdutta.superuser
total 0
drwxr-x---    2 root     root            60 Feb 23 19:11 .
drwxr-xr-x   14 root     root          3480 Feb 23 19:05 ..
srwxr-x---    1 root     root             0 Feb 23 19:11 .socket4935

shell@android:/ # busybox  ls -la /dev/com.koushikdutta.superuser.daemon/

total 0
drwxr-xr-x    2 root     sdcard_r        60 Feb 23 19:04 .
drwxr-xr-x   14 root     root          3480 Feb 23 19:05 ..
srwxrwxrwx    1 root     sdcard_r         0 Feb 23 19:04 server

root@android:/ # ps | busybox grep xbin
root      1933  1     948    0     c1567540 080b89fb S /system/xbin/su

root@android:/ # su - 10161                                                  

app_161@android:/ $ id
uid=10161(u0_a161) gid=10161(u0_a161) groups=1003(graphics),1004(input),1007(log
),1009(mount),1011(adb),1015(sdcard_rw),1028(sdcard_r),3001(net_bt_admin),3002(n
et_bt),3003(inet),3006(net_bw_stats)

app_161@android:/ $ su
Permission denied
- note: approx. 10s to print errmsg
- strace
  open(""/dev/com.koushikdutta.superuser.daemon/6265.stdout"", O_RDONLY) = 4
  open(""/dev/com.koushikdutta.superuser.daemon/6265.stderr"", O_RDONLY) = 5
  open(""/dev/com.koushikdutta.superuser.daemon/6265.stdin"", O_WRONLY) = 6
  brk(0)                                  = 0x8102000
  brk(0x8102000)                          = 0x8102000
  brk(0x8103000)                          = 0x8103000
  mmap2(0x10000000, 1048576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_N
  ORESERVE, -1, 0) = 0x10000000
  mprotect(0x10000000, 4096, PROT_NONE)   = 0
  clone(child_stack=0x100ffef0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|
  CLONE_THREAD|CLONE_SYSVSEM|0x400000) = 6279
  futex(0x100fff00, FUTEX_WAKE_PRIVATE, 1) = 1
  mmap2(0x10000000, 1048576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_N
  ORESERVE, -1, 0) = 0xb7eee000
  mprotect(0xb7eee000, 4096, PROT_NONE)   = 0
  clone(child_stack=0xb7fedef0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|
  CLONE_THREAD|CLONE_SYSVSEM|0x400000) = 6280
  futex(0xb7fedf00, FUTEX_WAKE_PRIVATE, 1) = 1
  read(4, 
  ## 10s.
  
  ""Permission denied\n"", 4096)    = 18
  write(1, ""Permission denied\n"", 18Permission denied
- logcat (user u0_a161 and shell)

$ egrep  ""/su|2000|10161""  /var/tmp/adb.logcat.`date +%m%d`
...
D/su      ( 4936): su invoked.
E/su      ( 4937): sqlite3 open failure: 14
D/su      ( 4938): /dev/com.koushikdutta.superuser/.socket4935
E/su      ( 4973): select failed with 2: No such file or directory
W/su      ( 4975): request rejected (10161->0 /system/bin/sh)
...
D/su      ( 5076): su invoked.
D/su      ( 5077): Allowing root/system/radio.
D/su      ( 5078): 0 /system/bin/mksh executing 2000 /system/bin/sh using binary /system/bin/sh : -sh
D/su      ( 5084): su invoked.
D/su      ( 5085): Allowing shell.
D/su      ( 5087): 2000 /system/bin/mksh executing 0 /system/bin/sh using binary /system/bin/sh : sh
"
koush/Superuser,open,access for superuser app,[],
koush/Superuser,open,superuser 1.0.3.0,[],"I cannot update binary after  initial installation.  Does this app. work on Kyocera Hydro C5170.
"
koush/Superuser,open,@bonog,[],"Thankz to all
"
koush/Superuser,open,update,[],"logo policy
"
koush/Superuser,open,Is project abandoned/neglected?,[],"@koush, Is the project abandoned/neglected?
"
koush/Superuser,open,is there a bug in dameon.c line 567,[],"in line 567  int mount_storage = getenv(""MOUNT_EMULATED_STORAGE"") != NULL;
and line 630 to 639 write args according ""mount_storage"". in those code it del first argument. 
so su_main how to parse it. 

```
// Number of command line arguments
write_int(socketfd, mount_storage ? argc - 1 : argc);

// Command line arguments
int i;
for (i = 0; i < argc; i++) {
    if (i == 1 && mount_storage) {
        continue;
    }
    write_string(socketfd, argv[i]);
}
```
"
koush/Superuser,open,README.md,[],"first
"
koush/Superuser,open,sepolicy-inject for SELinux policy customization,[],"I have fixed and enhanced sepolicy-inject tool by Joshua Brindle and combined it with setools-android by Dmitry Podgorny (pasis) to make it buildable with Android NDK. Now we can use sepolicy-inject and don't be dependent on Chainfire's closed source supolicy tool (part of SuperSU). There are also sesearch and seinfo tools to make analyzing SELinux policies more comfortable.

Can you integrate sepolicy-inject into Superuser and subsequently make Superuser finally compatible with Android 5.0 Lollipop?

Here is the code: https://github.com/xmikos/setools-android/
"
koush/Superuser,closed,su binary,[],
koush/Superuser,open,'su' does not run on Nexus 5/Lollipop - only position independent executables (PIE) are supported,[],"Clicking Recovery/Install gives ‘There was an error installing Superuser. Please send a log of the error to the developer.’ Manually installing the `su` binary and attempting to run it gives:
`error: only position independent executables (PIE) are supported.`
"
koush/Superuser,open,"Asked to click ""Recovery install"", got stuck on Fastboot and now I just have a flickering screen",[],"My phone is a rooted Xiaomi MI3. Had given the app root permission as suggested.

Open the app again and asked to ""Recovery Install"". Clicked that option. Phone rebooted and I waited. The phone got stuck at FastBoot screen for like 15 minutes. Tried ""power button press and hold"" didn't work. Tried ""Vil Down + Power"" too. 

Finally ""Vol Up + Power"" button got rid of the FastBoot screen but now I can boot my phone. All I see is a flickering screen after I see the regular MI3 boot screen.

**How do I boot into my device screen. I mean I don't even want Superuser to work anymore, I will just remove it. Just tell me how to undo what SuperUser might have done to the device?**
"
koush/Superuser,open,Not working with Galaxy S5 SM-g900H with Android 4.4.2 or an Galaxy S4?,[],"Hi,

Has anyone been able to get Superuser to work with a Galasy S5 (preferably SM-G900H) running Android 4.4.2.

I was able to successfully disable Knox and was able to install SuperSU with CF-AutoRoot.However, SuperSU was too slow for what I needed,  My previous experience with Koush's Superuser on another device was positive, since it was much faster...

I uninstalled SuperSU and CF-AutoRoot, and flashed a CWM recovery image, booted into recovery, and tried to install the superuser update.zip from recovery. when reboot the device, it appears the daemon does not start....

I suspect the same issue might happen on an S4 too.

Anyone have any solutions/workarounds?
"
koush/Superuser,open,tmc,[],
koush/Superuser,open,"Build is setup to create static executable, but doesnt actually do it",[],"The android.mk file has

```
LOCAL_MODULE := su
LOCAL_FORCE_STATIC_EXECUTABLE := true
...
include $(BUILD_EXECUTABLE)
```

this produces a dynamically linked executable, which happens to not run on android 5.0 because -fpic and -pie are not used during compilation and linking.

```
j@desktop:~/android/superuser/git/Superuser$ ndk-build
Android NDK: WARNING: APP_PLATFORM android-19 is larger than android:minSdkVersion 14 in ./AndroidManifest.xml    
[x86] Compile        : reboot <= reboot.c
[x86] Compile        : sqlite3 <= sqlite3.c
[x86] StaticLibrary  : libsqlite3.a
[x86] Executable     : reboot
[x86] Install        : reboot => libs/x86/reboot
[x86] Compile        : su <= su.c
[x86] Compile        : su <= activity.c
[x86] Compile        : su <= db.c
[x86] Compile        : su <= utils.c
[x86] Compile        : su <= daemon.c
[x86] Compile        : su <= pts.c
[x86] Executable     : su
[x86] Install        : su => libs/x86/su
[armeabi] Compile thumb  : reboot <= reboot.c
[armeabi] Compile thumb  : sqlite3 <= sqlite3.c
[armeabi] StaticLibrary  : libsqlite3.a
[armeabi] Executable     : reboot
[armeabi] Install        : reboot => libs/armeabi/reboot
[armeabi] Compile thumb  : su <= su.c
[armeabi] Compile thumb  : su <= activity.c
[armeabi] Compile thumb  : su <= db.c
[armeabi] Compile thumb  : su <= utils.c
[armeabi] Compile thumb  : su <= daemon.c
[armeabi] Compile thumb  : su <= pts.c
[armeabi] Executable     : su
[armeabi] Install        : su => libs/armeabi/su
[mips] Compile        : reboot <= reboot.c
[mips] Compile        : sqlite3 <= sqlite3.c
[mips] StaticLibrary  : libsqlite3.a
[mips] Executable     : reboot
[mips] Install        : reboot => libs/mips/reboot
[mips] Compile        : su <= su.c
[mips] Compile        : su <= activity.c
[mips] Compile        : su <= db.c
[mips] Compile        : su <= utils.c
[mips] Compile        : su <= daemon.c
[mips] Compile        : su <= pts.c
[mips] Executable     : su
[mips] Install        : su => libs/mips/su
j@desktop:~/android/superuser/git/Superuser$ adb push libs/armeabi/su /data/local/tmp
3911 KB/s (311872 bytes in 0.077s)
j@desktop:~/android/superuser/git/Superuser$ adb shell
root@flounder:/ # cd /data/local/tmp
root@flounder:/data/local/tmp # chmod 0755 su
root@flounder:/data/local/tmp # ./su
error: only position independent executables (PIE) are supported.
1|root@flounder:/data/local/tmp # ^D
j@desktop:~/android/superuser/git/Superuser$ file libs/armeabi/su
libs/armeabi/su: ELF 32-bit LSB  executable, ARM, EABI5 version 1 (SYSV), dynamically linked (uses shared libs), stripped
```

Changing the android.mk to use the following will produce a staticly linked 32bit executable that runs happily even on 64bit android 5.0.

```
include $(BUILD_STATIC_EXECUTABLE)
```
"
koush/Superuser,open,Compilation Error: no suitable constructor found for ListItem(),[],"A clean git clone, and following the instructions leads to several compilation errors, most of which are:

superuser/AboutFragment.java:90: error: no suitable constructor found for ListItem()

superuser/AboutFragment.java:90: error: no suitable constructor found for ListItem(AboutFragment,String,String,int)

And so forth...
I'm using the latest SDK to date, with all versions installed since 3.2 (till Lollipop 5).
Any ideas why I'm encountering these errors?

Thanks!
"
koush/Superuser,open,su is returning 255 on android 4.1 device,[],"Hi,

I'm having trouble gaining superuser access with superuser 1.0.3.0.
Whenever i run 'su' in a shell it just returns 255 and I do not have superuser access.

The device is a 3rd party car radio running Android 4.1

After installation of superuser (via exploit unknown to me) I can gain superuser access, because su is running as a daemon, but when I reboot the device, it does not start the daemon, and I cannot get superuser access. I suspect it's because of the missing daemon.

I have no way of modifying the boot process, and as such cannot get 'su --daemon' launched during boot. Is there any way to get the su binary working without the daemon process?

'su' has worked with this device in the past, but an update to the firmware has caused this problem.

If anyone can guide me on troubleshooting this, I'd be happy to provide more info.
"
koush/Superuser,open,Add ability for superuser app to manage access to run root for specific commands,[],"This is a shot in the dark, but what the heck.

Orwall is a project trying to proxy all network traffic through anonymizing proxies like tor and i2p. Ideally it should have access to the `iptables` command (although VpnService might also suffice), but doesn't need continuous access to anything else.

Might it be possible to use the superuser app to provide a subset of root access, only allowing a the app to pass arbitrary arguments to the permitted command?

If this opens up a silly amount of attack surface, then I totally understand. Just thought I'd ask. Thanks
"
koush/Superuser,open,[Security] PIN request should appear when accessing superuser app if PIN protection is enabled.,[],"Currently, no PIN code request is displayed when opening superuser app. This will expose security risk, as superuser app settings can be modified, even without knowing the PIN, to automatically grant superuser access.

Even if an app is listed in deny list, it's easy to remove the denied app from list. When the denied app has been removed from deny list, the app will be granted superuser access if the automatic response has been modified to automatically grant access.

To address this issue, PIN code request should appear when opening the superuser app. So that, unauthorized user cannot modify superuser app settings without knowing the correct PIN.
"
koush/Superuser,open,Force Superuser permission,[],
koush/Superuser,open,Root Access stuck,[],"The Root Access in the security menu stays on ""ADB Only"" even when setting different options. 

Root Verifier (https://github.com/abcdjdj/RootVerifier-APP) says that Superuser is present as Superuser app, but not as app to handle requests for asking superuser permissions.

Version: 1.0.3.0
OS: CyanogenMod 10.2.0
Device: Samsung i9100 (Galaxy SII) International
"
koush/Superuser,open,My Superuser binary update failed,[],"When I will install the binary it's failed, what can I do that it's go
"
koush/Superuser,closed,"Complete novice, out of his depth",[],"Purchased a Q102 tablet which came already rooted and with Superuser installed. In my attempts to unroot the tablet so I can use the Sky Go app I have somehow got rid of the su binary?
I don't have a clue what I'm doing, or how I have managed to do what I have done.
If a good Samaritan would like to help me completely indoor my tablet, I would be very grateful
"
koush/Superuser,open,superuser granted without asking,[],"I just installed an app (https://play.google.com/store/apps/details?id=com.kerby.screencast), it needs superuser permission to record the screen. I started it and I got a toast notification `superuser granted to screencast` without asking me. settings for automatic response is set to ""ask"". The app didn't work on my device so I don't know if it really got superuser permission, but it is listed in the logs so I assume it got the permission. In the allow list the app was not listed. I deleted some old entries from the allow list (apps that were already uninstalled but still showed up) and after that when i opened screencast the request screen was shown. Since then I can't reproduce the issue any more, even after uninstalling and reinstalling screencast.
"
koush/Superuser,open,"""adb only"" and""apps only"" not working",[],"When setting superuser to ""adb only"" it denies all requests, both from apps and from adb.
When setting superuser to ""apps only"" it allows all requests, both from apps and adb.

apps only: 

```
Q:\Users\sammax>adb shell
shell@hammerhead:/ $ su
su
root@hammerhead:/ #
```

adb only:

```
Q:\Users\Samuel>adb shell
shell@hammerhead:/ $ su
su
255|shell@hammerhead:/ $
```

Also, the request screen and pin will only show for apps, not for adb.

Tested on nexus 5 with paranoid android 4.5 beta 2, which has superuser built in. The superuser settings for apps and adb are also shown in developer options so I am not sure wether this is a superuser issue or an android/pa issue, if it is the latter please notify me, then I post this at the pa bug tracker.
"
koush/Superuser,open,Android 4.4 supported? [Update: Is SELinux the culprit?],[],"Hi,

I have no troubles flashing the superuser.zip onto my OnePlus One (Android 4.4), but after I open the Superuser app nothing happens. No binary update, just nothing.
Root checker tells me that I'm not properly rooted. Is Android 4.4 the issue? I noticed that the zip file was last updated in February.
A helping hand would be kindly appreciated. :D
"
koush/Superuser,closed,RequestActivity not showing,[],"I am trying to use the Superuser app on my acer A3-A10 running KitKat. su access using adb shell works fine, but when an app tries to get superuser privileges, it will just wait for 20 seconds and then time out, the RequestActivity is never shown. Here's a logcat (hopefully containing all the relevant information): http://sprunge.us/BKGP.

When I manually start the RequestActivity from a root shell, setting the socket path from the logcat as an extra, it works fine. I can then grant or deny the request and it will be remembered for the next time.
"
koush/Superuser,open,superuser pro has no zip file or support for samsung sm-t210r,[],
koush/Superuser,open,evade crippled functionality,[],"With an uptick of cheeky app developers attempting to discover root'd devices to deny or cripple app functionality needlessly perhaps it is prudent to consider methods of denying such untowardly frippery? and not via obfuscation.

Each app with legitimate su employment claims could prompt user for path to uniquely named su binary should the default su not be located. Additionally allowing end user to pad su binary to evade hash value discovery might be wise.
"
koush/Superuser,open,"""Permission denied"" on Motorola Xoom stingray running CM10.1-20140216-NIGHTLY-stingray",[],"I can't seem to get Superuser to work on this tablet.  I've tried flashing this version: http://download.clockworkmod.com/superuser/superuser.zip as well as building it myself from source, from the `HEAD` of `master` today (`4d36a1bf03abd287806f908029e66509bd64c73a`)  and from the `HEAD` of `origin/cm-10.1` (`406cf3de171d0d4441c2a50928e7ee58cf38c2ae`).

Whenever I run `su`  from `adb shell`, I always get ""Permission denied"".  When I do `adb root` then `adb shell`, I can use `su shell` from root successfully to change to the shell user.  I don't see anything related to Superuser in the logcat.
"
koush/Superuser,open,Process State,[],"Is it possible for SuperUser to check if the su-code is still running? 
It would prevent apps from starting services in background which keep running even after u FC'ed them :D 
"
koush/Superuser,open,local_manifest.xml for placing the apt in Android build,[],"The local_manifest.xml file requires [bracket]remote name=""github"" fetch=""git://github.com""/[close bracket] added on top of the manifest, so that repo knows to get the source from github. Otherwise would get the following error when attempting a repo sync:

fatal: remote github not defined in .../.repo/manifest.xml.
"
koush/Superuser,open,Refuses to work in Cyanogenmod 11s,[],"Only superuser manager that refuses to work in Cyanogenmod 11s running on the Oneplus One. 
"
koush/Superuser,open,"""Superuser granted to shell"" toast with randomly crashing apps",[],"Using Superuser 1.0.3.0, and getting the toast for about 10 seconds. It can happen on almost any app, and the app locks up and crashes when the toast comes up. Running stock Android 4.2.2 on Galaxy S4. Problem does not come up with previous versions.
"
koush/Superuser,closed,Prevent clickjacking of superuser requests,[],"Enable filterTouchesWhenObscured on the accept request button to prevent
possible clickjacking attacks. This is a measure used in many sensitive
dialogs (app installation, backup & VPN) in AOSP.
"
koush/Superuser,open,Ten minutes access grants doesn't work with Titanium Backup ,[],"The superuser app asked for permission again before ten minutes elapsed. 
This happened when Titanium Backup was granted 10 minutes superuser access instead of forever superuser access. 
The superuser granted toast appeared frequently, as if it was asking permission every second. 
Is this supposed to happen or is it just another bug?
"
koush/Superuser,closed,Android L support,[],"Apparently Android L has moved the install-recovery.sh from /system/etc to /system/bin

So the Superuser zip will need a way to distinguish between pre-L and Android L and act accordingly.
"
koush/Superuser,open,Superuser: new app icon,[],"New stylish created from scratch free CC BY-SA licensed app icon
"
koush/Superuser,open,Help! Error Installing SU but no log created ,[],"I am getting the following error on a replacement phone shipped to me from Verizon AFTER executing the Droid RAZR HD 1.2 Utility (http://forum.xda-developers.com/showthread.php?t=2307439):

""There was an error installing Superuser.  Please send a log of the error to the developer.""

This is after selecting both install options.  It also shows no log despite the logging option being checked.

I've had a Droid RAZR MAXX HD for about a year, and have gone through a number root and re-root issues with no problem until this.

![screenshot_2014-05-13-17-47-13](https://cloud.githubusercontent.com/assets/7574727/2965316/d3dc54a2-daf2-11e3-9e0f-5ea33cc7f45e.png)
![screenshot_2014-05-13-17-48-00](https://cloud.githubusercontent.com/assets/7574727/2965317/d3e74240-daf2-11e3-90d8-b913ccb29cde.png)
![screenshot_2014-05-13-17-48-10](https://cloud.githubusercontent.com/assets/7574727/2965318/d3f39914-daf2-11e3-8897-0c1fbd2ef0f9.png)
![screenshot_2014-05-13-17-48-27](https://cloud.githubusercontent.com/assets/7574727/2965319/d405fa00-daf2-11e3-8aa3-4d43219afea9.png)
"
koush/Superuser,closed,PIN protection can be circumvented,[],"I have found a way to circumvent the PIN protection feature, but I will not disclose the details here. I have sent a bug report by e-mail to superuser at clockworkmod.com

Best regards,
Miwer
"
koush/Superuser,open,"add translation ""Bahasa""",[],"hay dev
i've succes to add language Bahasa for indonesian user
but i dont know how to upload it 
"
koush/Superuser,open,update superuser,[],"my device is samsung galaxy duos 2 
GT-S7582
Android 4.2.2
i install superuser 1.0.3.0 after rooting my device
then when i open superuser i receive this message:
(The Superuser binary (su) must be  updated.
please choose an installation method.
Recovery mode is recommended for HTC devices.
cancel               Recovery Install          Install
when i choose INSTALL  i receive this message:
THERE WAS AN ERROR INSTALLING SUPERUSER .PLEASE SEND A LOG OF THE ERRORTO THE DEVELOPER
                                        ACCEPT 
![011](https://cloud.githubusercontent.com/assets/7392222/2786805/94f7d50a-cb7e-11e3-8934-b8c2a084679a.png)
![012](https://cloud.githubusercontent.com/assets/7392222/2786809/9c00ec1a-cb7e-11e3-89d2-5497bb557677.png)
 I attached a screenshot for the messages
please help
thank u
Saif
"
koush/Superuser,open,SU binary crashing,[],"su is crashing on an otherwise stock Nexus 5

```
root@hammerhead:/data/tombstones # cat tombstone_00                            
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
Build fingerprint: 'google/hammerhead/hammerhead:4.4.2/KOT49H/937116:user/release-keys'
Revision: '11'
pid: 5381, tid: 5381, name: su  >>> /system/xbin/su <<<
signal 13 (SIGPIPE), code -6 (SI_TKILL), fault addr --------
    r0 ffffffe0  r1 be87a7dc  r2 00000004  r3 0000d95d
    r4 00000001  r5 00000001  r6 00000004  r7 00000004
    r8 0000ad35  r9 00000000  sl 00000000  fp be882b0c
    ip 00000005  sp be87a7b0  lr 0000d967  pc b6eb92e8  cpsr 00010010
    d0  20676e69646e6563  d1  786520646c69686f
    d2  657075732e617464  d3  61642e7265737565
    d4  0000000000000000  d5  0000000000000000
    d6  0000000000000000  d7  003d090000000000
    d8  0000000000000000  d9  0000000000000000
    d10 0000000000000000  d11 0000000000000000
    d12 0000000000000000  d13 0000000000000000
    d14 0000000000000000  d15 0000000000000000
    d16 415235722820c49c  d17 3f50624dd2f1a9fc
    d18 41c70bf7d9800000  d19 0000000000000000
    d20 0000000000000000  d21 0000000000000000
    d22 0000000000000000  d23 0000000000000000
    d24 0000000000000000  d25 0000000000000000
    d26 0000000000000000  d27 0000000000000000
    d28 0000000000000000  d29 0000000000000000
    d30 0000000000000000  d31 0000000000000000
    scr 00000010

backtrace:
    #00  pc 000202e8  /system/lib/libc.so (write+12)
    #01  pc 00005963  /system/xbin/su
    #02  pc 0000354b  /system/xbin/su
    #03  pc 00002d39  /system/xbin/su
    #04  pc 0000e34b  /system/lib/libc.so (__libc_init+50)
    #05  pc 00002d98  /system/xbin/su

stack:
         be87a770  b6ea8dcd  /system/lib/libc.so (dlmalloc)
         be87a774  00000002  
         be87a778  0117e018  [heap]
         be87a77c  00000001  
         be87a780  00000004  
         be87a784  0117e020  [heap]
         be87a788  0000ad35  /system/xbin/su
         be87a78c  0da13e64  
         be87a790  00000001  
         be87a794  00000001  
         be87a798  00000004  
         be87a79c  00000005  
         be87a7a0  0000d95d  /system/xbin/su
         be87a7a4  0004b3a3  /system/xbin/su
         be87a7a8  00000000  
         be87a7ac  00000000  
    #00  be87a7b0  be87a7d0  [stack]
         ........  ........
    #01  be87a7b0  be87a7d0  [stack]
         be87a7b4  00000000  
         be87a7b8  00001503  
         be87a7bc  0117e020  [heap]
         be87a7c0  00000007  
         be87a7c4  00000006  
         be87a7c8  0117e030  [heap]
         be87a7cc  b6ee7384  
         be87a7d0  0000000c  
         be87a7d4  00001506  
         be87a7d8  00000000  
         be87a7dc  00000000  
         be87a7e0  00001503  
         be87a7e4  0000278a  
         be87a7e8  0000278a  
         be87a7ec  642f0001  
         ........  ........
    #02  be87a878  00000000  
         be87a87c  00000000  
         be87a880  00000000  
         be87a884  00000000  
         be87a888  00000000  
         be87a88c  be882c24  [stack]
         be87a890  be882b14  [stack]
         be87a894  00000000  
         be87a898  00000002  
         be87a89c  00000000  
         be87a8a0  00000000  
         be87a8a4  00000000  
         be87a8a8  00000000  
         be87a8ac  00000000  
         be87a8b0  00000000  
         be87a8b4  00000000  
         ........  ........
    #03  be882ad8  00000000  
         be882adc  b6ea734d  /system/lib/libc.so (__libc_init+52)
    #04  be882ae0  00000000  
         be882ae4  00000000  
         be882ae8  00000000  
         be882aec  00000000  
         be882af0  00000000  
         be882af4  0000ad9c  /system/xbin/su
    #05  be882af8  00053cc0  /system/xbin/su
         be882afc  00053cb0  /system/xbin/su
         be882b00  00053ca8  /system/xbin/su
         be882b04  00053cb8  /system/xbin/su
         be882b08  00000000  
         be882b0c  b6efc881  /system/bin/linker
         be882b10  00000002  
         be882b14  be882c14  [stack]
         be882b18  be882c24  [stack]
         be882b1c  00000000  
         be882b20  be882c2d  [stack]
         be882b24  be882c3f  [stack]
         be882b28  be882c6b  [stack]
         be882b2c  be882c93  [stack]
         be882b30  be882e8d  [stack]
         be882b34  be882eca  [stack]

memory near r1:
    be87a7bc 0117e020 00000007 00000006 0117e030  
    be87a7cc b6ee7384 0000000c 00001506 00000000  
    be87a7dc 00000000 00001503 0000278a 0000278a  
    be87a7ec 642f0001 632f7665 6b2e6d6f 6873756f  
    be87a7fc 75646b69 2e617474 65707573 65737572  
    be87a80c 61642e72 6e6f6d65 7265732f 00726576  
    be87a81c 00000000 00000000 00000000 00000000  
    be87a82c 00000000 00000000 00000000 00000000  
    be87a83c 00000000 00000000 00000000 00000000  
    be87a84c 00000000 00000000 00000000 00000000  
    be87a85c 0da13e64 00000000 ffff7db4 b6ee7384  
    be87a86c 00000001 00053e20 0000b54f 00000000  
    be87a87c 00000000 00000000 00000000 00000000  
    be87a88c be882c24 be882b14 00000000 00000002  
    be87a89c 00000000 00000000 00000000 00000000  
    be87a8ac 00000000 00000000 00000000 00000000  

memory near r3:
    0000d93c fa02f038 dd032800 04139a0a e0010e1b  
    0000d94c 425b2301 2003493c 4479930b fb06f7fd  
    0000d95c a90b1c30 f0382204 2804fabf f038d00e  
    0000d96c 6804fa03 fa00f038 f0386800 4933fa01  
    0000d97c 1c221c03 44792006 faf0f7fd f0381c30  
    0000d98c 492ffa67 44792003 fae8f7fd e0d3980b  
    0000d99c f0381c30 f038fa5d 3001fadf f038d10e  
    0000d9ac 6805f9e3 f9e0f038 f0386800 4925f9e1  
    0000d9bc 1c2a1c03 44792006 fad0f7fd 780b9903  
    0000d9cc d05d2b00 21021c08 f9c6f038 1c421c05  
    0000d9dc f038d13c 6804f9c9 f9c6f038 f0386800  
    0000d9ec 4919f9c7 20061c03 e0874479 0004677c  
    0000d9fc ffffffb4 0003db82 0003d2d9 0003d2c7  
    0000da0c 0003db50 0003db40 000001ff 0003db29  
    0000da1c 0003db04 ffffffc4 0003dae9 0003dae6  
    0000da2c ffffffc8 ffffffcc 0003dabb 0003daa0  

memory near r8:
    0000ad14 990bd001 b0216001 46c0bdf0 0004379c  
    0000ad24 0004378e 000437cc 0004375d 00043767  
    0000ad34 2201b508 fbecf000 0000bd08 e59fc05c  
    0000ad44 e92d4800 e59f3058 e28db004 e24dd010  
    0000ad54 e08fc00c e79c3003 e50b3014 e59f3044  
    0000ad64 e28b0004 e79c3003 e50b3010 e59f3038  
    0000ad74 e3a01000 e79c3003 e50b300c e59f302c  
    0000ad84 e79c3003 e50b3008 e59f3024 e79c2003  
    0000ad94 e24b3014 ebfff9f1 e24bd004 e8bd8800  
    0000ada4 000490c4 ffffffa0 ffffffa4 ffffffa8  
    0000adb4 ffffffac ffffffb0 e59f2008 e3a01000  
    0000adc4 e08f2002 eafff9e8 00049f14 4b11b570  
    0000add4 48124a11 589c447b 4478b098 93176823  
    0000ade4 fa2ef002 4b0f4a0e 447a4669 1c05447b  
    0000adf4 fa60f002 f03a4668 1c06ff7b f03a1c28  
    0000ae04 9a17ff7b 1c306823 d001429a ff78f03a  

memory near fp:
    be882aec 00000000 00000000 0000ad9c 00053cc0  
    be882afc 00053cb0 00053ca8 00053cb8 00000000  
    be882b0c b6efc881 00000002 be882c14 be882c24  
    be882b1c 00000000 be882c2d be882c3f be882c6b  
    be882b2c be882c93 be882e8d be882eca be882ee3  
    be882b3c be882ef6 be882f0b be882f35 be882f4e  
    be882b4c be882f6d be882f97 be882fb2 be882fbf  
    be882b5c be882fd9 00000000 00000010 0007b0d7  
    be882b6c 00000006 00001000 00000011 00000064  
    be882b7c 00000003 00008034 00000004 00000020  
    be882b8c 00000005 00000008 00000007 b6efb000  
    be882b9c 00000008 00000000 00000009 0000ad40  
    be882bac 0000000b 00000000 0000000c 00000000  
    be882bbc 0000000d 00000000 0000000e 00000000  
    be882bcc 00000017 00000000 00000019 be882c00  
    be882bdc 0000001f be882fec 0000000f be882c10  

memory near sp:
    be87a790 00000001 00000001 00000004 00000005  
    be87a7a0 0000d95d 0004b3a3 00000000 00000000  
    be87a7b0 be87a7d0 00000000 00001503 0117e020  
    be87a7c0 00000007 00000006 0117e030 b6ee7384  
    be87a7d0 0000000c 00001506 00000000 00000000  
    be87a7e0 00001503 0000278a 0000278a 642f0001  
    be87a7f0 632f7665 6b2e6d6f 6873756f 75646b69  
    be87a800 2e617474 65707573 65737572 61642e72  
    be87a810 6e6f6d65 7265732f 00726576 00000000  
    be87a820 00000000 00000000 00000000 00000000  
    be87a830 00000000 00000000 00000000 00000000  
    be87a840 00000000 00000000 00000000 00000000  
    be87a850 00000000 00000000 00000000 0da13e64  
    be87a860 00000000 ffff7db4 b6ee7384 00000001  
    be87a870 00053e20 0000b54f 00000000 00000000  
    be87a880 00000000 00000000 00000000 be882c24  

code around pc:
    b6eb92c8 e1a0700c e3700a01 912fff1e e2600000  
    b6eb92d8 ea0074ae e1a0c007 e3a07004 ef000000  
    b6eb92e8 e1a0700c e3700a01 912fff1e e2600000  
    b6eb92f8 ea0074a6 e1a0c00d e92d00f0 e89c0070  
    b6eb9308 e3a070b4 ef000000 e8bd00f0 e3700a01  
    b6eb9318 912fff1e e2600000 ea00749c e1a0c00d  
    b6eb9328 e92d00f0 e89c0070 e3a070b5 ef000000  
    b6eb9338 e8bd00f0 e3700a01 912fff1e e2600000  
    b6eb9348 ea007492 e1a0c007 e3a07005 ef000000  
    b6eb9358 e1a0700c e3700a01 912fff1e e2600000  
    b6eb9368 ea00748a e1a0c007 e59f7014 ef000000  
    b6eb9378 e1a0700c e3700a01 912fff1e e2600000  
    b6eb9388 ea007482 00000142 e1a0c007 e3a07006  
    b6eb9398 ef000000 e1a0700c e3700a01 912fff1e  
    b6eb93a8 e2600000 ea007479 e1a0c007 e3a07013  
    b6eb93b8 ef000000 e1a0700c e3700a01 912fff1e  

code around lr:
    0000d944 04139a0a e0010e1b 425b2301 2003493c  
    0000d954 4479930b fb06f7fd a90b1c30 f0382204  
    0000d964 2804fabf f038d00e 6804fa03 fa00f038  
    0000d974 f0386800 4933fa01 1c221c03 44792006  
    0000d984 faf0f7fd f0381c30 492ffa67 44792003  
    0000d994 fae8f7fd e0d3980b f0381c30 f038fa5d  
    0000d9a4 3001fadf f038d10e 6805f9e3 f9e0f038  
    0000d9b4 f0386800 4925f9e1 1c2a1c03 44792006  
    0000d9c4 fad0f7fd 780b9903 d05d2b00 21021c08  
    0000d9d4 f9c6f038 1c421c05 f038d13c 6804f9c9  
    0000d9e4 f9c6f038 f0386800 4919f9c7 20061c03  
    0000d9f4 e0874479 0004677c ffffffb4 0003db82  
    0000da04 0003d2d9 0003d2c7 0003db50 0003db40  
    0000da14 000001ff 0003db29 0003db04 ffffffc4  
    0000da24 0003dae9 0003dae6 ffffffc8 ffffffcc  
    0000da34 0003dabb 0003daa0 0003da5e 0003da58  
```
"
koush/Superuser,open,koush/superuser,[],
koush/Superuser,open,fix: allow su operation for SELinux Enforcing systems,[],"This patch uses virtual resource names for IPC, which is currently not under the purview of
SELinux, for now at least :)
"
koush/Superuser,open,The Superuser binary (su) must be updated.,[],"I installed Superuser = v1.0.3.0 on LG G2 D802:
- CyanogenMod = cm-10.2.0-d802.zip
- Team Win Recovery Project (TWRP)= v2.6.3.3

When I open Superuser, it pops up a window titled ""Install"" with the following message:

```
The Superuser binary (su) must be updated.

Please choose an installation method.
Recovery mode installation is recommended for HTC devices.
```

The window contains two buttons `Cancel` and `Recovery Install`.
- If `Cancel` is pressed, nothing happens. Reopening Superuser will bring the window back.
- If `Recovery Install` is pressed, the phone _immediately_ reboots into TWRP recovery.

It's absolutely not clear what should be done under recovery mode. Booting up the system from recovery mode and reopening Superuser will bring the window again.

**UPDATE**
This issue seems related to #216 #214 #185 #174.
"
koush/Superuser,closed,"SU times out, and then rejects request, on 1.0.3.0",[],"Hi!

I first thought this was issue #204, but I think it's different, since #204 should be solved.

This is on a Kyocera Event, with android 4.0.4 and mostly stock firmware (no upgrades to newer Android available, and custom roms not possible, so I'm stuck with this version :) ).

I'm using superuser 1.0.3.0, installed via Play store (install method, Kyocera Event doesn't like recovery I think)

Calling su just gives a timeout, and no access.

logcat shows this:
'D/su      ( 2599): su invoked.
D/su      ( 2599): /dev/com.koushikdutta.superuser/.socket2599
E/su      ( 2599): select failed with 17: File exists
W/su      ( 2599): request rejected (10071->0 /system/bin/sh)'

Version of su:
'# su.koush -v
16 com.koushikdutta.superuser'

Note that multiuser mode is 'none', so I think no '--user' is passed to am.
'# su.koush -u
none'

Is there anything I can do to help with resolving this issue?

Thank you!
"
koush/Superuser,open,"Superuser.apk executes ""su -v""",[],"According to ""su -h"" the ""su -V"" option is used (exclusively) by Superuser.apk to verify the version. Anyhow ""-v"" is currently used - maybe because of a confusion between ""VERSION_CODE"" and ""VERSION"" (=VERSION_NAME).
"
koush/Superuser,open,connect failed with 2: No such file or directory,[],"I've flashed the latest superuser.zip via CWM recovery, and then invoked ""su"" through an adb shell and a terminal emulator on my phone itself; neither option gets me a root shell. logcat output:

```
D/su      ( 4209): su invoked.
D/su      ( 4209): starting daemon client 2000 0
E/su      ( 4209): connect failed with 2: No such file or directory
```

However, the file clearly does exist:

```
$ ls -l /system/xbin/su                                           
-rwsr-sr-x root     root       311872 2014-02-08 02:13 su
```

This is with a unofficial CM 11 / android 4.4.2 rom (http://forum.xda-developers.com/showthread.php?t=2519414). Please let me know if there's any other info I can provide to debug this.
"
koush/Superuser,open,GUI to manual application add,[],"Could You provide a GUI to manual application add in Superuser, because of it does not work on my device interactive, but when I add application manual in database:
adb shell sqlite3 /data/data/com.koushikdutta.superuser/databases/su.sqlite ""INSERT INTO uid_policy VALUES(1,NULL,NULL,'allow',0,'',10025,0,'com.speedsoftware.rootexplorer','Root Explorer',1);""
then Superuser works, i.e. grants rights
"
koush/Superuser,open,connect permission denied on JB4.3/Samsung Note3 N9009,[],"After recovery installation of a fresh build of superuser, execution of su in Android terminal emulator got below logs in logcat,

D/su      (  718): su invoked.
D/su      (  718): starting daemon client 10249 10249
D/su      (  718): /dev/com.koushikdutta.superuser.daemon/server
E/su      (  718): connect failed with 13: Permission denied

Please note the 3rd log is I added in the code to print which socket the client tried to connect to.

However, the same issue does not occur when running su in adb shell. I am pretty sure the inconsistency has nothing to do with allow/deny database etc because the client was simply not able to connect to daemon socket.

I tried to use another root shell (from pts-shell) to change context label of /dev/com.koushikdutta.superuser.daemon/server from u:object_r:device:s0 to u:object_r:system_file:s0, but chcon failed with permission denied. Btw, I want to make the context change, because this trick works w/ pts-daemon (https://github.com/tan-ce/pts-multi/), after which regular apps can get connected to pts-daemon while adb sell previously works will fail. 

Any advices how the issue can be fixed? Is it something related to SELinux enforced in Samsung Note3?
"
koush/Superuser,open,Samsung N900 Android 4.3 Selinux in enforcing,[],"su does not work in on the Samsung SM-N900 stock 4.3 ROM.
SU version 15 from superuser.zip installed via recovery.
logcat contains the following:
D/su      (11540): su invoked.
D/su      (11540): starting daemon client 2000 0
E/su      (11540): outfd /dev/com.koushikdutta.superuser.daemon/11540.stdout  failed with 13: Permission denied

chainfire su does work on the same setup.

After several attempts ps is filled with su daemons.
A notification shows saying ""Security information: an application attempted to access system on your device without authorisation. This attempt has been blocked. Changing your security level to normal may solve this problem. Deleting applications obtained from unauthorised sources may improve security"".

I think this may be related to the daemon improperly avoiding CONFIG_SEC_RESTRICT_FORK shenanigans.
"
koush/Superuser,open,"Building requires 32bit libraries, but not mentioned in README",[],"Thanks for making this stuff available, I highly appreciate this.

I had a tough time compiling this stuff, because the required ""Widgets"" uses aapt from the build tools which in turn is a 32bit binary which leads to misleading ""file not found"" exceptions during the build.

It would be great if you could include the hint, that for successful building the 32bit compatibility layer (i.e. ia32-libs in Ubuntu) is required.

Many thanks!
"
koush/Superuser,closed,iconkymbrianto@gmail.com,[],"Hi help my supersu
"
koush/Superuser,closed,daemon: Send TTYs directly when SUPERUSER_SEND_TTY is set.,[],"Enables reuse of the existing terminal instead of creating a proxy PTY.

Warning: Reuse of existing terminal breaks job control in the caller shell,
thus SUPERUSER_SEND_TTY should not be enabled by default unless the caller
shell is patched to reclaim the controlling terminal.
"
koush/Superuser,open,Source Code,[],"I just open the downloaded source files with eclipse. But I got many errors. I didn't edit anything. Did I miss something? Do I need to fix it manually? Sorry for my noob question. Please help me.
"
koush/Superuser,open,adb bugreport interacts poorly with Superuser,[],"Something's wrong with the way that Superuser (or maybe the su binary) interacts with

```
adb bugreport
```

If I do

```
adb shell /system/xbin/su something
```

then superuser access is (correctly) granted quickly and silently.

Running adb bugreport, however, causes a crapload of toast messages.  If I Ctrl-C adb bugreport quickly enough, the toasts sit there for a long time.  If I let adb bugreport run long enough, su starts timing out and the phone becomes unusable (and seems to never recover).
"
koush/Superuser,closed,Minor typo fix in Italian language,[],
koush/Superuser,open,Environment.getExternalStorageDirectory() is missing,[],"The primary external storage location returned by
http://developer.android.com/reference/android/os/Environment.html#getExternalStorageDirectory()
which is (in this case) ""/storage/emulated/0"" is not available from a root shell launched by an app.

Tested on a Nexus7(grouper) with CM11 nightly (11-20131208-NIGHTLY-grouper).
With root:
[cm11_n7_with_root](https://f.cloud.github.com/assets/1439229/1728604/ea5230ee-62b1-11e3-95fb-5a1a02b3e638.png)
Without root:
[cm11_n7_without_root](https://f.cloud.github.com/assets/1439229/1728607/edeace3c-62b1-11e3-8966-b428f0a6133c.png)

The expected behavior here would be that the location returned by **getExternalStorageDirectory()** is available and pointing to the same location as it is in a shell without root.
"
koush/Superuser,open,Added support for binary update with TWRP,[],"When trying to update the su binary with a TeamWin Recovery installed, the phone rebooted into recovery but the binary was not updatet.
This fixes issue #216. The su binary is now also updated via TWRP.
"
koush/Superuser,open,Unable to update su binary with TeamWin Recovery (TWRP),[],"Superuser requests for a su binary update, but when I choose to update via recovery, my phone reboots into recovery and does nothing else.
This is because I use [TWRP](http://teamw.in/project/twrp2) and the update process was designed to work with Clockwork Mod recovery.

Device: HTC One (m7)
ROM: Android Revolution HD 40.3
Recovery: Team Win Recovery Project v2.6.3.3
"
koush/Superuser,closed,"""Superuser granted to shell"" Toast shows several times when capturing a bug report",[],"On a Nexus 5 running Kit Kat, when I press the 3 buttons (Vol Up + Vol Down + Power) simultaneously, first there is a vibration indicating that the bug report capture started. Then, after a few seconds, a toast reading ""Superuser granted to Shell"" pops up continuously for several minutes. I've seen this sometimes cause apps to crash as well. I tried it on another Nexus 5 with similar setup except SuperSU instead of Superuser and the issue was not present. I've seen this issue on two Nexus 5's with the same Superuser setup though.
"
koush/Superuser,open,Superuser binary update does not work,[],"Superuser requests a binary update, but neither install nor recovery works.
Also uninstall and reinstall of Superuser or clearing the cache doesn't fix the problem.
Device: Sony Xperia Pro (mk16i), Android 2.3.4 Build 4.0.2.A.0.69
"
koush/Superuser,closed,assets: Add missing mips/ symlink,[],"Bug #195 added MIPS binaries, but the assets/ symlink was missing.  This
means that update.zip still worked as expected on MIPS, but MIPS binaries
were missing from the apk.
"
koush/Superuser,closed,Automatically generate correct download URL when updating version,[],"Since the last two versions (1026 and 1027) download links are not generated.

http://download.clockworkmod.com/superuser/superuser-1027.zip

Doesn't work.

It would be nice if these were automatically updated upon play releases.
"
koush/Superuser,closed,assign user before use,[],"sorry, jumped too short on my last commit: the user array has to be initialized before first use ...
"
koush/Superuser,open,ADB gets su access without any notification,[],"Hi!
I just install Superuser from googleplay (instead of supersu), run it, updted ""su"" binary on it's request and now, when I doing ""su"" in adb shell I get root permissions without any request or notification. Even if I fully disable granting any permissions in the app settings (and set restrictive settings, including ""ask pin"", ""disable su even for adb"", ""decline new requests"", ""enable logging"".
But anyway, when I connect via adb shell and type su — I get root prompt without any notification or question on the device.

I bet, it is a BIG security hole...
"
koush/Superuser,closed,Compilation problem...,[],"Take into account only commit 7eb670d.

You have to declare user before call it to avoid compilation problem.
"
koush/Superuser,closed,Update activity.c,[],"another am invocation with unconditional --user (the last one on line 185 needs no condition as it is only called in multiuser mode)
"
koush/Superuser,open,Multiple su invocations...,[],"Hi.

I'm experimenting multiple su invocations.

Let me explain, when I open TitaniumBackup (for example), I can see the dialog granting administrative permission to the app... but the dialog remains on screen several seconds.

Looking at the logs, there are several su granted invocations... and you can see it on superuser register too.

http://pastebin.com/c3R3BD14 -> Complete log

http://pastebin.com/KuSCFzd8 -> su filtered log

Using master repo on AOSP KitKat 4.4 on Nexus5. Superuser is embedded on Settings.

Regards.
"
koush/Superuser,closed,daemon: do not leak resources,[],"Before this patch, the client was responsible for removing FIFOs before
connecting. That left a whole bunch of FIFOs in the SuperUser /dev/...
directory. After This patch, the daemon removes FIFOs as soon as the client is
connected. (This is detected by making the daemon read from the control socket.)

This patch becomes unnecessary when file descriptors can be passed though
processes. (#181, #183)

Oh, and while at it, I also fixed the exit code when a program exits abnormally (signalled).

Tested with the latest CM-10.2 git sources on GT-i9300, logcat and `adb shell` are still functioning.
"
koush/Superuser,open,Is there a way to grant permissions to applications without starting any activity?,[],"Hi,

Background:
We are building an Remote Mobile Device Management Application. 
We are also using Airwatch. 

Problem:
In our application we want to run few commands which requrires su permission.
If I am correct Superuser spawns an activity to grant/deny permission.
But Airwatch blocks the spawning of activity.

Question:
Is there a way to grant permission without spwaning an activity.
"
koush/Superuser,open,Update to 1.0.2.3 does not grant root access,[],"Hi.

After upgrading to version 1.0.2.3 the application does not grant new root permissions.

Here's logcat:

http://pastebin.com/AXAYAiW9

Phone: Samsung Galaxy Ace GT-S5830
Android version: 2.3.7
Mod version: CyanogenMod-7-20130421-UNOFFICIAL-cooper
Baseband: S5830LUBKPK
"
koush/Superuser,closed,Attempt to update binary gives error about binary being old,[],"After installing the recent update from the play store, Superuser tells me I need to update the binary.  I choose the non-recovery install, and it tells me there was an error.  Checking the logs suggests that the error was that the binary was old.  This seems like an endless circle.

Other apps can still su fine.
"
koush/Superuser,open,Embedding in 4.3.1 Rom,[],"I have been trying to get this embedded in my AOSP 4.3.1 Rom for the toroplus, I have gotten to the superuser option to show up in the system menu but all apps that require root do not work.

I have applied the Settings patch, put the embed code in my vendor file, added the superuser and widegets repos to exteral/koush, and have added the 4.3 fix to the vendor files.  Im probably missing something but have looked around and cant find it so i would appreciate the help.
"
koush/Superuser,open,Update with recovery,[],"Hi there,

This is not exactly the correct place to ask about this but as I don't know other methods to contact you reliably here goes:

I followed 
https://github.com/koush/Superuser/blob/master/Superuser/src/com/koushikdutta/superuser/MainActivity.java // doRecoveryInstall method
https://github.com/koush/Superuser/blob/master/Superuser/assets/update-binary

To make these codes:
http://code.google.com/p/busyboxonrails/source/browse/trunk/src/me/timos/busyboxonrails/ServiceRecoveryInstall.java
http://code.google.com/p/busyboxonrails/source/browse/trunk/res/raw/install_update_binary

And it works ok, but I was greeted with a ""Signature verification failure"" in CWMR 6.0.4.x before the installation process. How do I work around this? I tried to sign my update zip with zipsigner-lib (ServiceRecoveryInstall line 39 to 47) with Google testkey or Cyan shared key to no avail. Any idea?
"
koush/Superuser,closed,nevermind,[],"...
"
koush/Superuser,open,Does not work with StickMount on KitKat,[],"The latest Superuser works fine on KitKat for things like Titanium but not for StickMount [1]. The permission is granted, however nothing happens after that.

I tested this on both my 2012 Nex7 as well as the Nex5. Using SuperSU, the StickMount app works on both.

[1] https://play.google.com/store/apps/details?id=eu.chainfire.stickmount&hl=en
"
koush/Superuser,closed,Trivial fix for v4.3+ version check logic,[],"This applies on top of [Koush's current work in progress](http://review.cyanogenmod.org/#/c/53810/) and includes a documentation change reflecting some of those updates.
"
koush/Superuser,closed,Failed with the new ART VM in Android 4.4 KitKat,[],"The su works in adb shell, but in APPs

> D/su      ( 3226): su invoked. 
> E/su      ( 3227): chown (/dev/com.koushikdutta.superuser, 10073, 10073) failed with 1: Operation not permitted 

After disable ART, it works
"
koush/Superuser,closed,android 4.2+ seteuid (root) failed with 13,[],"shell@android:/ $ ls -l /system/bin/su
ls -l /system/bin/su
-rwsr-sr-x root     root       311900 2013-11-13 14:50 su
shell@android:/ $ su -v
su -v
su invoked.
13 com.koushikdutta.superuser
shell@android:/ $ su
su
su invoked.
stat /data/data/com.koushikdutta.superuser failed with 2: No such file or direct
ory
## seteuid (root) failed with 13: Permission denied

How to Solve It?
"
koush/Superuser,closed,Add MIPS CPU support,[],"MIPS based SoCs like JZ47xx are becoming increasingly common on low-end Android tablets, such as the Ainol lineup sold in China.  Enabling MIPS support in Superuser requires only a few small tweaks.
"
koush/Superuser,closed,Update version check to work with >= 4.3,[],"Now that 4.4 is out, the check was failing and not properly setting up
the su daemon.

Using POSIX sh parameter substitution allows us to extract the major and
minor version numbers from ro.build.version.release in build.prop and
compare them.

This was tested on a Nexus 4 running 4.4.
"
koush/Superuser,open,Adding su to stock /system partition,[],"I have been attempting to add su to a stock SGS4 /system image (Optus au). I can add the binary, set 6755 permissions, and rebuild and install the image. When su is executed it exits with return code 1 and does not trigger any UI or give root shell. I have manually run '/system/xbin/su --daemon &' and can see /system/xbin/su running as root in ps with ppid 1.

I have tried with market apk and with apk dropped into system/app folder. Is there some init that I have missed? Could you give me some pointers to chase this further please.

Thanks
John
"
koush/Superuser,open,su binary does properly parse commands after being executed,[],"After being exectuted, the su binary stays in an echo state.  This causes the ""superuser granted to shell"" loop and crash issue.  Attached is an example of the problem using terminal.  You can see that after invoking su it will echo back any entry.

![screenshot_2013-10-07-12-25-16](https://f.cloud.github.com/assets/1253158/1282075/3f69847e-2f6d-11e3-9252-524c3972a613.png)
"
koush/Superuser,closed,Forgot PIN,[],"I'm embarrassed to admit that I didn't use the superuser app in so long that I forgot the PIN.  Is there a way to reset?
"
koush/Superuser,closed,Install from recovery fails after 4.3 security update OTA,[],"I've been running 4.3 with Superuser for a while now without a problem.

After installing the 4.3 security update OTA for my HTC One GP (version jwr66y.h1), Superuser asked me to update the binaries.  I downloaded the latest zip (1.0.2.1) and installed from CWM recovery.  After rebooting, Superuser still insists that it is out of date, and none of my root apps work.

I may have made things worse at this point by trying to install SuperSU 1.65, which also failed.  I then went back into recovery and reinstalled Superuser.

I reviewed [issue 90](https://github.com/koush/Superuser/issues/90), which seems similar.  Here is some of the information you requested in that issue:

**ls -l /system/bin/su**

```
lrwxrwxrwx root     root              2013-09-25 22:12 su -> /system/xbin/su
```

**ls -l /system/xbin/su**

```
-rwsr-sr-x root     root       371104 2013-09-25 22:12 su
```

**ls -l /system/etc/install-recovery.sh**

```
-rw-r--r-- root     root          629 2013-09-25 22:00 install-recovery.sh
```

**ls -la /system/etc/.***

```
-rw-r--r-- root     root            2 2013-09-25 22:00 .has_su_daemon
-rw-r--r-- root     root            2 2013-09-25 22:00 .installed_su_daemon
```

**cat /system/etc/install-recovery.sh**

```
#!/system/bin/sh

# If you're implementing this in a custom kernel/firmware,
# I suggest you use a different script name, and add a service
# to launch it from init.rc

# Launches SuperSU in daemon mode only on Android 4.3+.
# Nothing will happen on 4.2.x or older, unless SELinux+Enforcing.
# If you want to force loading the daemon, use ""--daemon"" instead

/system/xbin/daemonsu --auto-daemon &

# Some apps like to run stuff from this script as well, that will
# obviously break root - in your code, just search this file
# for ""install-recovery-2.sh"", and if present, write there instead.

/system/etc/install-recovery-2.sh
```
"
koush/Superuser,open,New superuser/CM screws sdcard path detection up,[],"Hi there,

Recently I have got users reported to me that my app failed to write to sdcard from root process. Turn out that there are changes in su/CM that rendered the hack I did for Android 4.3 and your Superuser obsolete (specifically I tested 20130923 build). The code for this hack is like this:

``` java
    public static final String getSdPath() {
        String path = Environment.getExternalStorageDirectory().getPath();
        if (Build.VERSION.SDK_INT > 17 && path.startsWith(""/storage/emulated"")) {
            path = ""/storage/emulated/legacy"";
        }
        return path;
    }
```

The reason that this hack does not work is because  /storage/emulated/legacy now empty and sdcard path moves back to Environment.getExternalStorageDirectory().getPath() like it should. I can remove this hack and it works like normal for both Superuser on the new CM and SuperSU. The problem is it does not work for the current Superuser on Play Store. What should I do now? Working around this from my side is rather ugly unless I miss something.

P.S. This problem happens with other app, too. According to one of the users who reported it:
""I discovered similar problems with other apps. francos kernel updater was also unable to save the kernel and googles play music refuses the download.
Also funny is Titaniums behaviour ... after each reboot i have to switch the backup location between emulated/0 and emulated/legacy - otherwise it reports ""no space left on device"" when trying to save anything.""
"
koush/Superuser,closed,Several changes,[],"I developed some features that I would like to have at the application. 
In some commits you can see that I did things that you don't like (let's say deactivating the countdown as su resquest!), but in others you can find changes that I believe are useful (actions on lock-click at an application).
"
koush/Superuser,open,superuser and 4.3,[],"I'm not sure if this is a superuser issue, 4.3 issue, both or per app issue but. Apps that worked with the aokp built in superuser by Koush worked fine in 4.2.2 but not all (total commander being one) work in 4.3 thanks
"
koush/Superuser,open,superuser not in settings + question apk location?,[],"Hi,
I replaced chainsdd superuser by deleting the apk, this app does not remember permissions on my device.

After I installed superuser from playstore, I choose install to update superuser binary.

I thought at the settings menu should now be a superuser entry? There is no one.
->maybe I missed that this future is only @CyanogenMod android versions?

Another thing is, I can not find the app apk file, they are not in the /system/app directory. Where is it?
"
koush/Superuser,open,binary update???,[],"im new at this and im lost it is saying i need to update binary then it says it had an error
"
koush/Superuser,open,Binary with no source in 'source code',[],"assets/reboot is an executable binary - shouldn't this be build from source along with everything else?
"
koush/Superuser,closed,"daemon: Send FDs over socket, reuse existing terminal.",[],"Now sends remote file descriptors (stdin, etc.) across socket directly,
instead of pumping data through FIFOs.

Steals and reuses the existing terminal on stdin, if one exists, instead of
creating a new pty.

Warning: Reuse of existing terminal breaks job control in the caller shell.
"
koush/Superuser,open,"The su daemon disregards environment changes made via exec(String prog,String[] envp)",[],"If you start a new su shell via http://developer.android.com/reference/java/lang/Runtime.html#exec%28java.lang.String,%20java.lang.String[]%29 and supply your own environment, the changes are not passed on.
You can add variables or remove some, when you check inside the started process, nothing changed.
"
koush/Superuser,closed,Better terminal support in Superuser for interactive sessions,[],"Changed the way the daemon and client handles interactive (ie. standard I/O attached to a termnal emulator) sessions. 

Main change is that for interactive sessions, the client opens the pts device and passes the slave device path to the daemon, then the daemon opens and dups the slave device.

The client also puts stdin into raw mode, removing buffering and therefore allowing ncurses apps to function as expected.

Finally, the client also waits for SIGWINCH and forwards the terminal window size every time the signal is received.

The changes are fairly extensive because setting up the slave terminal to be the child's controlling TTY correctly has a slightly different flow from using pipes to wrap the child's standard I/O.
"
koush/Superuser,open,Unroot option,[],"Hi,
It will be good if Superuser has also Unroot option, so will remove all superuser & root related stuffs.
"
koush/Superuser,closed,su,[],
koush/Superuser,closed,superSU,[],
koush/Superuser,open,Key input in su shell,[],"Starting from the new 4.3 compatible version su priveliged shells are blocking certain inputs such as the Ctrl+W combination in Terminal Emulator (and the corresponding up key in adb shell). Instead of jumping to the previous command such input outputs this: ^[[A
"
koush/Superuser,closed,Superuser access,[],"Superuser access
"
koush/Superuser,open,"the option ""superuser access "" seems no effect on android 4.0.4",[],"no matter how ""superuser access"" is set,  application or adb can always get permissions, why?
"
koush/Superuser,closed,Not possible to update binary without custom recovery on 4.3?,[],"Before 4.3 if you updated Superuser on play on a stock device you could update the binary by pressing OK in the dialog. Now it only shows cancel and recovery.

Is it not possible to update the binary without a custom recvovery if you're on stock 4.3?

This is on a takju Galaxy Nexus, everything stock except Superuser-4.3beta4 flashed in.
"
koush/Superuser,closed,SuperUser 1.0.2.1 binary update FC (can not report),[],"Steps to reproduce:
- Receive 1.0.2.1 app update from the Play Store (am in beta group)
- Click on recovery install after binary notification
  APP CRASH. Went to report, but the device reboots (as expected) into CWM.

Note: Everything does actually work. (binary downloads and installs correctly)

Device: Nexus 4, using stock Android 4.3.
"
koush/Superuser,open,Daemon issue,[],"koush, this deamon work-around for Android 4.3 is a great alternative to get around the SELinux protection, but it has some issues it would seam. While working on the new version on Mounts2SD, I decided to test it with CM 10.2 on my SGS3. During the collection of device information like mount points, device maps, folder sizes, supported features like SWAP, ZRAM etc. which uses a root shell, I found that the daemon does not always return output from an command. 

If I continue to reload the status screen to update the information (re-collect), it some times loads only half the information or less. A quick look in the logcat confirms empty returns from the shell. Which information returns empty and which does not is completely random. 

It does however seam that the result code is correctly returned.
"
koush/Superuser,closed,Can we use the cm-10.2 branch to embed Superuser to AOSP (master branch) ?,[],"I think the answer is ""no"" (due to some CM dependencies ?). Thank you.
"
koush/Superuser,closed,superuser and /storage/emulated/0,[],"Hi koush,
Amazing work @superuser, thanks for that.
I build it Into my Custom Rom 4.3 (JSS15J) rom for the mako and it's working fine with one exception: it seems as if access to /storage/emulated/0 with TitaniumBackup and Root Explorer is broken. When changing to /storage/emulated/legacy Everything is working.
It's not only reported in my rom but also @PA for instant.

Hope you can hell.
"
koush/Superuser,open,Problema instalando SU Binary en Samsung Galaxy Note GT-N7000,[],"Cuando abro la aplicación me da la opción de instalar, le doy clic a instalar e inmediatamente sale un error de que no hay registros. 
"
koush/Superuser,open,Problems installing su binary on Sony Xperia U android 2.3.7,[],"Hello,

I have problems installing su binary on Sony Xperia U android 2.3.7.
It just shows me a dialog to sent an error report to the developer.

After some research I think that i know the source of the problem...
In Superuser/src/com/koushikdutta/superuser/MainActivity.java from line 172-184 you fill a variable with some command line commands that will be executed later.

```
                final String command =
                        ""mount -orw,remount /system\n"" +
                        ""rm /system/xbin/su\n"" +
                        ""rm /system/bin/su\n"" +
                        ""rm /system/app/Supersu.*\n"" +
                        ""rm /system/app/superuser.*\n"" +
                        ""rm /system/app/supersu.*\n"" +
                        ""rm /system/app/SuperUser.*\n"" +
                        ""rm /system/app/SuperSU.*\n"" +
                        String.format(""cat %s > /system/xbin/su\n"", su.getAbsolutePath()) +
                        ""chmod 6755 /system/xbin/su\n"" +
                        ""ln -s /system/xbin/su /system/bin/su\n"" +
                        ""mount -oro,remount /system\n"" +
                        ""sync\n"";
```

When I try to execute the mount commands directly through adb shell I get an error message:

$ mount -orw,remount /system
mount -orw,remount /system
Usage: mount [-r] [-w] [-o options] [-t type] device directory

$ mount -oro,remount /system
mount -oro,remount /system
Usage: mount [-r] [-w] [-o options] [-t type] device directory

It worked fine with the same device on android 4.0.3

I noticed that there is no real standard in the toolbox commands, it doesn't only depend on the android version, but also on the manufacturer. The same command works fine with busybox on the device (android 2.3.7). But just like there are different versions of toolbox, there are different versions of busybox and a developer can have no guarantee that a certain command will work as he expects.

A possible solution is to provide a busybox in the assets and use that to execute command line commands. (Dumb sollution for only a few commands, but it works great and one will never encounter unexpected situations!)

Kind regards,
David Moeyersons.
"
koush/Superuser,closed,SK update,[],"And can someone help with merging this to CM 10.2? :)
"
koush/Superuser,closed,SuperUser not working with Android 4.3,[],"Model number: Nexus 4
Android version: 4.3
Baseband version: M9615A-CEFWMAZM-2.0.1700.84
Kernel version: 4.3.0-perf-gf43c3d9 android-build@vpbs1.mtv.corp.googe.com #1 Mon Jun 17 16:55:05 PDT 2013
Build number: JWR66V

I'm sure you're already aware, but I couldn't see an issue logged so I thought it might be an idea to add it.

**What works:**
- adb shell is able to obtain root access using the 'su' binary
- Superuser.apk is able to install itself if an insecure 'su' binary is installed.

**What doesn't work:**
- Any app trying to obtain root access, including Superuser.apk.

**Other info:**
The changes appear to be identical to the ones in the leaked GE images. I can confirm that SuperSU v1.41 (by Chainfire) which I believe was designed for GE Devices works successfully on a clean install Nexus 4, Nexus 7 (2012) and Nexus 10 (despite some users claiming it doesn't)
"
koush/Superuser,closed,update,[],
koush/Superuser,open,dumpstate? spamming su requests,[],"I see there are some guards to prevent dumpstate spamming su requests..

``` c
// dumpstate (which logs to logcat/shell) will spam the crap out of the system with su calls
    if (strcmp(""/system/bin/dumpstate"", ctx->from.bin) == 0)
```

however I suspect there may be another case, see following screenshots.

https://lh4.googleusercontent.com/-FiihmsoR4kw/UeaIXVLRqDI/AAAAAAAAAWw/b1h9vT_-vpc/w480-h800-no/Screenshot_2013-07-10-17-58-22.png

https://lh4.googleusercontent.com/-k2K9YJlKpmM/UeaIa6bvfRI/AAAAAAAAAW4/evLmnhSP1vQ/w480-h800-no/Screenshot_2013-07-06-18-01-56.png
"
koush/Superuser,closed,Ask for lock mechanism like sudo in Unix,[],"It would be a great security enhancement if the superuser app asked for the lock pattern/pin/password when granting superuser permissions. Just like sudo on Unix. At least as an option.
"
koush/Superuser,closed,SU Request Fails on AOSP OpenMaster,[],"On AOSP OpenMaster (Android 4.2.2.2.2.2.2.2.2.2), SuperUser requests are always denied and no prompt is displayed. I have attempted a superuser request with the default settings in the Superuser app and after modifying them (Allow requests from all users; allow requests by default).
A dialog never appears to Deny/Allow the request, just automatic denial when any app attempts a superuser request, however shell requests succeed without an issue.

The following is a snippet from a logcat on grouper using ROM Manager to flash a recovery on AOSP OpenMaster. 

`W/su      ( 8090): request rejected (10076->0 . /data/data/com.koushikdutta.rommanager/files/rommanager.sh) 
D/su      ( 8087): su invoked. 
E/su      ( 8088): chown (/dev/com.koushikdutta.superuser, 10032, 10032) failed with 1: Operation not permitted`
"
koush/Superuser,closed,Turkish translation,[],"Turkish translation. I have compiles as a part of paranoidandroid rom and tested on my nexus 4.
"
koush/Superuser,closed,[Request] Eclair version of Superuser,[],"Please add possibility to install Superuser on Android 2.1 Eclair devices (and older versions, if possible).

Maybe someone can think that ""Eclair is too old"", ""Eclair is not supported even by Google - no Google Play updates"" and ""New phones have at least Gingerbread now"". But even now, people are deciding to buy older, but cheaper devices to have possibility to use Android. Custom ROMs have serious bugs, so it's bad to use them as ""daily driver"". (Even me, Android enthusiast, I am using Eclair, because don't want 4hrs battery life, or low performance.)

Superuser app is **Froyo+ only**, so when people are using stock ROMs, they must install obsolete ChainsDD's Superuser, or SuperSU that torments user with toasts like ""Granted SU rights for XXXXXX. Please consider buying Pro version"". And both SUs are not open source, as you know.

So, please add possibility to download and/or build Eclair Superuser's version. I know there may be not possible to apply Holo theme, or some other goodies, but please try to give SU freedom for older phones!
"
koush/Superuser,closed,-c behavior only execs immediately subsequent arg,[],"With SuperSU's su: [CODE]su -c make me a sandwich[/CODE] makes me a sandwich.
To make a sandwich with the included su: [CODE]su -c ""make me a sandwich""[/CODE]

Would be nice if either worked.
I'll wrap my head around the arg handling and pull request this modification if I find time to.

You the man, Koush
"
koush/Superuser,closed,Mounting /system r/w sometimes causes reboot on Xperia Z,[],"Mounting the system and/or writing/deleting files from /system will cause the Sony Xperia Z to reboot when the bootloader is locked.

The same issue is present for SuperSU, whereas the old Superuser app by ChainsDD does not have this problem.
"
koush/Superuser,open,Debug.saveDumpstate hangs during an app crash,[],"I have a rooted Samsung S3 SGH-T999 and now when an app I am developing crashes (unhandled exception on main looper), then Android's built in App Crash Reporter seems to deadlock and Watchdog will eventually kill the system process and the device will reboot.

I have duplicated this issue on both koush's Superuser and chainsdd's Superuser, however this issue does not happen with chainfire's SuperSU.
When I remove su or use chainsdd's Superuser temp un-root, the issue does not happen, this leads me to believe the issue is related to how Debug.saveDumpstate behaves when su is present.

As you can see from the anr/traces.txt below, several threads are waiting on ActivityManagerService to Debug.saveDumpstate. But Debug.saveDumpstate is native and I am unsure about how to debug the issue in libandroid_runtime.so.

Duplication:
Cause an app to crash, I used the simple Activity linked below.

Expected behavior: 
The app should exit and I should see an alert dialog ""Unfortunately, [app name] has stopped."".

Actual behavior:
The system hangs on a black screen with an unresponsive notification bar, the phone reboots after 2 mins.

logcat from crash to reboot = https://gist.github.com/will-quast/5489543
anr/traces.txt from Watchdog dump = https://gist.github.com/will-quast/5489550
simple app to cause app crashes = https://gist.github.com/will-quast/5489568

Model = SGH-T999
Android = 4.1.1
Baseband = T999UVDLJC
Kernel = 3.0.31-370274 se.infra@SEP-80 #1
Build = JRO03L.T999UVDLJC
"
koush/Superuser,open,Feature request: Allow disabling of safety delay,[],"When an app requests superuser rights, SU will only allow the user to grant those after a countdown of ~5 seconds. Sometimes apps are impatient and they think their request was denied. Could you implement an option for advanced users to disable the waiting period, so that we can grant rights immediately?

EDIT: One example is ""920 Text Editor"", which asks for su rights repeatedly because of the delay. This app is very ""impatient"" and I would say the problem lies on its side, but an option to disable the delay in Superuser would solve these quirks with all impatient apps ...
"
koush/Superuser,open,AppList: alphabetical vs chronological,[],"I've noticed almost all other SU apps list their apps alphabetically where this one lists chronologically based on when the initial request was made. I'm wondering the pros/cons of each?

I'd easily say a pro for alphabetical is organization.

Would it be considered to switch this app to alphabetical?
"
koush/Superuser,closed,Instructions on update from alternate version ?,[],"Even if this seems as trivial as a regular playstore installation, it would be nice to provide some hints on how to safely migrate from other utility to this one (chainsdd's / SuperSU / ...)

How valuable would be this post?  http://forum.xda-developers.com/showpost.php?p=39831040&postcount=2701
"
koush/Superuser,open,UI bug in portrait mode on Nexus 7,[],"Switch device language to slovak, then open app in portrait mode, scroll a bit in logs a bit and you should see ungly black line on right..
http://devpic.net/di/KK93/Screenshot_2013-04-02-09-18-29.png
"
koush/Superuser,closed,Request : Add ability to log the commands that apps executive. ,[],"This ability is more useful for debugging, so every one know which app runs what command. 
Sorry for bad English. 
"
koush/Superuser,open,"Request: keep menu in settings, but separate the app","[Label(name=""enhancement"")]","I've recently tried to clear data from superuser (basically reset what has access and all my superuser settings) and I've discovered I cannot do that in cm10.1 with the built in superuser.

I agree with your mindset that superuser should be integrated into settings, but im looking at apps like Nova launcher, that also integrate a menu option into settings called launcher (which replaces the link to trebuchet) and it still functions separately. updates can come from the market, there is an icon to launch the app, there is an app listed in the all apps menu of settings so I can clear the data if something goes wrong, etc.

please consider this approach rather than having the baked in cm superuser and the superuser on the market be separate.

another thing this would clear up is if someone on cm currently installs the superuser from the market they are prompted to install the binary to run with the app, which disables the baked in superuser, and there's no way to switch back without reflashing the nightly. 

being as the market superuser has a dark theme built in, it would essentially provide the same end user experience (as far as how it will be visually presented and how it will operate).
"
koush/Superuser,closed,updated german translation,[],
koush/Superuser,closed,Translation updates,[],"Japanese and Korean updates
"
koush/Superuser,closed,Android 4.1 branch,[],"Would it be possible for you to add dedicated branches for building Superuser for Android 4.1?
I included SuperUser into CM10, but had to fix a couple issues:

koush/Superuser/Superuser/src/com/koushikdutta/superuser/Helper.java
- all references to android.os.UserManager

koush/Widgets/Widgets/res/layout-large/container_activity.xml:
- layout_marginEnd
- layout_marginStart

koush/Superuser/Superuser/res/layout-land/log_item.xml
- paddingEnd
- paddingStart
"
koush/Superuser,closed,Galaxy S3,[],"I installed superuser and when I open it ; it says that the binary su must update and when I choose install there is an error that prevent installion to be completed and I don't know what error it is . Please help me
"
koush/Superuser,closed,Clocksync can get root when blacklisted,[],"I've been using clocksync for NTP sync.

Recently I noticed that it takes a lot of time for it to get root when you select synchronize. I tried to get around it by deleting it from the list in Superuser.

Now it still synchronizes time (which requires root) and the Superuser dialog does not show up.

https://play.google.com/store/apps/details?id=ru.org.amip.ClockSync

Badly behaving Superuser request in the app could possibly account for the slow request, but it should not be able to get superuser access after being removed from the list.
"
koush/Superuser,open,Request: ability to override cyanogenmod-specific behaviors without forking su code,[],"I think it would be a nice feature if there was a predefined and supported way for the embedded Superuser build to override the CyanogenMod-specific behavior in su.c.  For example, I forked Superuser just to change access_disabled() so that my non-CM-based ROM could take advantage of the Superuser Access setting.  I also removed the bit about ro.debuggable needing to be set to one, ignored the build type, etc.  All very minor changes that are specific for that code to work with my particular builds, but ultimately I still had to fork the repo to accomplish it.

Perhaps something as simple as breaking out the CM-specific bit(s) into their own C file and allowing for an override to that file be specified with a build property? Developers could then decide how they can best implement those function(s) for their device/build without needing to completely ape the CyanogenMod code.  It may even lend itself as being useful for additional device/build specific edits if any become common in the future.

Thanks for the consideration, and more importantly thanks for making your excellent work here free and transparent for all to benefit from, it's greatly appreciated!
"
koush/Superuser,closed,slovak translation updated,[],
koush/Superuser,closed,Updating su binary fails on HTC Nexus One with stock 2.3.6 rooted ROM (used to work before),[],"Trying to updating the su binary fails on my rooted HTC Nexus One.
I'm using the stock 2.3.6 ROM and recovery so cannot use the alternative method.

It used to work before the last Superuser updates from Google Play.

Here's the logcat:

<pre>
E/su      ( 1464): sudb - Opening database
E/su      ( 1464): sudb - Database opened
E/su      ( 1464): sudb - Database closed
D/su      ( 1464): 10083 com.koushikdutta.superuser executing 0 /system/bin/sh using shell /system/bin/sh : sh
I/TelephonyRegistry(  102): notifyServiceState: 0 home F SFR (N/A) 20810  UMTS CSS not supported -1 -1RoamInd: -1DefRoamInd: -1EmergOnly: false
I/TelephonyRegistry(  102): notifyDataConnection: state=2 isDataConnectivityPossible=true reason=null interfaceName=rmnet0 networkType=3
I/Superuser( 1211): Result: 3.0.3
W/System.err( 1211): java.lang.Exception: unknown su
W/System.err( 1211):    at com.koushikdutta.superuser.util.SuHelper.checkSu(SuHelper.java:17)
W/System.err( 1211):    at com.koushikdutta.superuser.MainActivity$3.run(MainActivity.java:177)
</pre>
"
koush/Superuser,closed,Rollback values-zh-rCN/strings.xml,[],"Rollback values-zh-rCN/strings.xml to previous version.

Translations from Jiangyi contains punctuation errors and are in bad quality.

Hi Jiangyi, are you native Simplified Chinese speaker? Please do not simply overwrite the whole translation. If you are sure you have better Simplified Chinese translation for some of the items, make changes only to them. Thanks.
"
koush/Superuser,closed,Some fixes,[],
koush/Superuser,closed,Slovak translation updated,[],
koush/Superuser,closed,Incorrect su binary updated on x86 system.,[],"On Motorola RAZR i updating su binary after choosing simply install (not recovery) lead to placing arm version of su in /system/xbin.
I was previously on ChainsDD superuser and install version 1.0.1.5 from Play Store. First launch obviously wanted to update binary but did it wrong way. Hopefully I had some su binary backed up on the device and was able to restore root through adb shell. Without this I would loose root.

EDIT. I mean I placed your x86 su binary taken from APK, place in proper place, chmod it and everything is working since then.
"
koush/Superuser,open,Temporary unroot,[],"An option to temporarily unroot for a period of time, until the user toggles it again, or for specific applications. Having it as an intent would make it Tasker compatible.
Or if it is possible to hide su from certain applications (Wallet and some video apps for example) would achieve a similar goal.
"
koush/Superuser,closed,sk update,[],
koush/Superuser,closed,Updated Japanese translations from AOKP gerrit.,[],"- Added missing entries
- Revised translations a little

Change-Id: I36318231626e3406ad3237f203d8c737b8de7582
Signed-off-by: rdgate rdgate@gmail.com
"
koush/Superuser,closed,CyanogenMod Gerrit not configured OK,[],"As soon as someone commits a patch to the translations according to the requested way CyanogenMod Gerrit croaks:

fatal: Not a git repository (or any parent up to mount point /home)
Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).
sh: 1: cd: can't cd to Superuser

Where do you file a bug report for the CyanogenMod build environment?
"
koush/Superuser,open,Option to 'Remember choice for 10 minutes' persists across reboots,"[Label(name=""enhancement"")]","Background:
- This was observed on the March 10th, 2013 CyanogenMod 10.1 nightly with cooked in koush-superuser.
- It concerns applications that are _not_ in the ALLOW list.

Issue:
Granting an application (Terminal Emulator in this case) superuser permissions with the option ""Remember choice for 10 minutes"", then rebooting the phone before those 10 minutes are up results in the continued ability to launch the application with root permissions until the full 10 minutes is complete. I can see how this could be argued as simply the way superuser handles the feature, but I also feel like the majority of users would expect the behaviour of a temporary option such as this (especially when relating to security), to reset itself when the devices is restarted. That said, if it seems like anyone might want to continue using the current behaviour, maybe a setting for ""temporary permissions to persist across reboots"" could be a nice compromise?

Aside from this however, koush/supersu is fantastic so far, and i look forward to using it as it continues to grow-- thanks for your time and the great work!
"
koush/Superuser,closed,Added Polish translation,[],
koush/Superuser,closed,spoiled up my phone,[],"Hi,

I had a nice running rooted phone until I installed your FOSS su app. Now neither SuperSU (former app) nor yours works. Really great.  My droidwall does no longer run, I am sooo happy. Sorry being sarcastic, but I cannot stop myself. OK, I let it out, now my question:

Any help available?
"
koush/Superuser,closed,Segmentation Fault,[],"Running su command causes a segmentation fault.

I have a Nexus One, running MIUI 2.3.0.

I have managed to build the source, using printf and fflush doesn't show where it is dying, so I have put a return statement before each method call to see where it is dying and I'll go and remove each one to see what line/method call where it is dying.

My C isn't great, haven't done it in a fair few years, so if there's anything I can do to help make this a better issue report, please tell me.

Cheers.
"
koush/Superuser,closed,Added Polish localization,[],
koush/Superuser,closed,Slovak translation updated,[],
koush/Superuser,closed,[Work In Progress] More Hindi Translations!,[],"Almost finished. Remaining ones are pretty difficult to translate.
"
koush/Superuser,closed,"Spanish translations, minor changes -CORRECTED commit-",[],"- Replace simple quotes to angle quotes
- Minor changes to follow CM style
"
koush/Superuser,closed,"Spanish translations, minor changes",[],"- Replace simple quotes to angle quotes
- Minor changes to follow CM style
"
koush/Superuser,closed,[Work In Progress] Added Hindi Translation,[],"Added Hindi translations. Unfinished though. Will be adding over the week. More than half done I guess.
"
koush/Superuser,closed,minor update,[],"In the ""About"" section, you advertise your other apps but the app summary text isn't in this strings.xml file, so there is no way to translate it... must be hardcoded in-app.

If it was localized too, people would understand better what your other apps consist in, and maybe it would increase downloads.
## 

I hope that it's okay now with other xml files I deleted from the values-fr folder of my repo.
They're not displayed anymore in my repo, but I see them in this pull request with a all lines deletion action.
Just let me know if there something I have to do about it.
"
koush/Superuser,closed,minor update,[],"In the ""About"" section, you advertise your other apps but the app summary text isn't in this strings.xml file, so there is no way to translate it... must be hardcoded in-app.

If it was localized too, people would understand better what your other apps consist in, and maybe it would increase downloads.
"
koush/Superuser,closed,Update to add theme + PIN-translations,[],"Not sure about the whats_new, and how I should translate it.. 
Just need an example of where it's used..
"
koush/Superuser,closed,App(s)automatically granting themselves su permissions,[],"Regardless that i have it set to prompt, and also have a pin enabled, i managed to find an app that automatically grants itself su permissions. SU is logging it, but doesn't have it on the allow/deny list...

APK: http://code.google.com/p/android-wifi-tether/downloads/detail?name=wifi_tether_v3_3-pre2.apk&can=2&q=
"
koush/Superuser,open,turning phone's orientation on seting page bug.,[],"when i turn the orientation of my devices screen while on the settings page, it goes to the allow/deny main page...
"
koush/Superuser,closed,Update vi translation,[],"Please update translation for Vietnamese
"
koush/Superuser,closed,Extra backslash removed and whitespace fixes,[],
koush/Superuser,closed,Update strings.xml,[],"missing a space on line 43
"
koush/Superuser,closed,Feature request: OTA survival ,[],"Voodoo OTA rootkeeper already does this: https://github.com/project-voodoo/ota-rootkeeper-app

What would be nice is an implementation where Superuser silently keeps a copy of it's su binary in another place than /system/xbin. After an OTA the su binary will be stripped of it's execute bit. 

Could you then use the extra copy of su to re-root?

Then Superuser would be self contained and could detect a loss of root due to OTA and fix it.

Since it's a copy of Superuser's su, the version och checksum can be checked to see that the copy hasn't been tampered with.
"
koush/Superuser,closed,Copy to system,[],"I have added the ability that if the app is installed in /data/app for it to be moved to /system/app. A reboot is currently required for this to work. I have tried to follow your coding style and added all icons that I used that match the size of the icons you had created. The icons were pulled form the Android SDK. If you keep this feature feel free to change the icons. I have made it so if the app is installed in /system/app then this option will not appear in the setting, only if the app is in /data/app.
"
koush/Superuser,closed,translate update,[],
koush/Superuser,closed,Russian fixes,[],
koush/Superuser,closed,Update values-it/strings.xml,[],
koush/Superuser,closed,Update spanish translation,[],"Add pin_disabled
"
koush/Superuser,closed,Fix switch not updating the DB when toggled by sliding instead of clicking it.,[],"Change-Id: I2ff8a6ff8aedc6938b870de17f7c2c426fa421a7
"
koush/Superuser,closed,Update Russian localization,[],
koush/Superuser,closed,Swedish translation update,[],
koush/Superuser,closed,Update values-zh-rSG/strings.xml,[],"Sync with latest English, adding translation for ""theme"", ""light"", ""dark"" and ""pin_disabled"".
"
koush/Superuser,closed,Update values-zh-rCN/strings.xml,[],"Sync with latest English, adding translation for ""theme"", ""light"", ""dark"" and ""pin_disabled"".
"
koush/Superuser,closed,update Traditional Chinese translation,[],
koush/Superuser,closed,Update system install to set safer access rights.,[],"Update system install of su to set safer access rights.
"
koush/Superuser,closed,small fixes and optimizations,[],
koush/Superuser,closed,Update spanish translation,[],"Add dark theme option.
"
koush/Superuser,closed,update Traditional Chinese translation,[],
koush/Superuser,closed,Add the option to remove the PIN,[],"Right now you can only change the PIN to a new one once is set, but you can't remove it.
"
koush/Superuser,closed,Self-built app with different package id doesn't work,[],"I have tested many variations of this, but this is the latest situation. Flash superuser.zip via clockworkmod.com in recovery: all is well. 

Then, build the app with a different package id by using aapt in the build.xml with the same flags as in Superuser/Android.mk. Flash in recovery, restart and start Superuser: says the su is out dated. Install su and ""Install: There was an error installing Superuser"":`--------- beginning of /dev/log/main
D/SurfaceFlinger(  103): Screen about to return, flinger = 0x41b7caf0
V/Sensors (  280): handle : 14 en: 1 mEnabled:00000000
V/Sensors (  280): sensor state change what=14
V/Sensors (  280):  enabled_sensors: 16384 dmp_started: 0
V/Sensors (  280): Starting DMP
--------- beginning of /dev/log/system
I/WindowManager(  280): No lock screen!
I/        (  280): mpu3050_resume: Resuming to 0070
V/Sensors (  280): set fifo rate: 39 200000000
I/        (  280): mpu3050_suspend: suspending sensors to 0000
I/        (  280): mpu3050_suspend: Will resume next to 0070
I/MPL-ml  (  280): Actual ODR: 25 Hz
I/        (  280): mpu3050_resume: Resuming to 0070
V/Sensors (  280): set fifo rate: 13 66667000
I/        (  280): mpu3050_suspend: suspending sensors to 0000
I/        (  280): mpu3050_suspend: Will resume next to 0070
I/MPL-ml  (  280): Actual ODR: 25 Hz
I/        (  280): mpu3050_resume: Resuming to 0070
D/jp.co.qsdn.android.jinbei3d.setting.Prefs(  446): 2131034131 = getCameraMode()
D/dalvikvm(  280): GC_FOR_ALLOC freed 879K, 32% free 6346K/9287K, paused 63ms, total 63ms
E/PowerManagerService(  280): Excessive delay setting brightness: 209ms, mask=2
D/dalvikvm(  446): GC_CONCURRENT freed 1775K, 48% free 4401K/8451K, paused 8ms+3ms, total 49ms
V/tiny_hw (  106): out_write(0x40d7c540) opening PCM(0), card,dev: 0,0
D/dalvikvm(  486): GC_EXPLICIT freed 744K, 37% free 5327K/8451K, paused 2ms+3ms, total 32ms
I/ActivityManager(  280): START {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=org.gerry.superuser/com.koushikdutta.superuser.MainActivity u=0} from pid 486
D/dalvikvm(  280): GC_FOR_ALLOC freed 345K, 30% free 6517K/9287K, paused 44ms, total 44ms
I/dalvikvm-heap(  280): Grow heap (frag case) to 15.686MB for 1048592-byte allocation
D/jp.co.qsdn.android.jinbei3d.setting.Prefs(  446): 2131034131 = getCameraMode()
I/Superuser(  744): Result: 6 com.koushikdutta.superuser
W/System.err(  744): java.lang.Exception: unknown su
W/System.err(  744):    at com.koushikdutta.superuser.util.SuHelper.checkSu(SuHelper.java:17)
W/System.err(  744):    at com.koushikdutta.superuser.MainActivity$7.run(MainActivity.java:274)
D/su      (  995): su invoked. 
D/dalvikvm(  446): GC_CONCURRENT freed 1745K, 48% free 4401K/8451K, paused 3ms+3ms, total 24ms
D/libEGL  (  744): loaded /system/lib/egl/libEGL_tegra.so
D/libEGL  (  744): loaded /system/lib/egl/libGLESv1_CM_tegra.so
D/libEGL  (  744): loaded /system/lib/egl/libGLESv2_tegra.so
D/OpenGLRenderer(  744): Enabling debug mode 0
I/ActivityManager(  280): Displayed org.gerry.superuser/com.koushikdutta.superuser.MainActivity: +1s2ms
E/tiny_hw (  106): out_write(0x40d7c540) PCM(0) failed: -32
E/tiny_hw (  106): out_write(0x40d7c540) PCM(0) failed: -32
V/tiny_hw (  106): out_standby(0x40d7c540) closing PCM(0)
V/tiny_hw (  106): out_write(0x40d7c540) opening PCM(0), card,dev: 0,0
W/System.err(  744): java.lang.Exception: non zero result
W/System.err(  744):    at com.koushikdutta.superuser.MainActivity$3.run(MainActivity.java:181)
D/su      ( 1003): su invoked. 
E/su      ( 1005): stat /data/data/com.koushikdutta.superuser failed with 2: No such file or directory 
W/su      ( 1007): request rejected (10036->0 /system/bin/sh) 
D/AndroidRuntime( 1008): 
D/AndroidRuntime( 1008): >>>>>> AndroidRuntime START com.android.internal.os.RuntimeInit <<<<<<
D/AndroidRuntime( 1008): CheckJNI is OFF
D/dalvikvm( 1008): Trying to load lib libjavacore.so 0x0
D/dalvikvm( 1008): Added shared lib libjavacore.so 0x0
D/dalvikvm( 1008): Trying to load lib libnativehelper.so 0x0
D/dalvikvm( 1008): Added shared lib libnativehelper.so 0x0
D/AndroidRuntime( 1006): 
D/AndroidRuntime( 1006): >>>>>> AndroidRuntime START com.android.internal.os.RuntimeInit <<<<<<
D/AndroidRuntime( 1006): CheckJNI is OFF
D/dalvikvm( 1006): Trying to load lib libjavacore.so 0x0
D/dalvikvm( 1006): Added shared lib libjavacore.so 0x0
D/dalvikvm( 1006): Trying to load lib libnativehelper.so 0x0
D/dalvikvm( 1006): Added shared lib libnativehelper.so 0x0
D/AndroidRuntime( 1008): Calling main entry com.android.commands.am.Am
W/PackageManager(  280): Removing dangling preferred activity: ComponentInfo{com.android.browser/com.android.browser.BrowserActivity}
I/ActivityManager(  280): START {act=android.intent.action.VIEW dat=http://www.clockworkmod.com/superuser/install.html flg=0x10000000 cmp=android/com.android.internal.app.ResolverActivity u=0} from pid 1008
D/AndroidRuntime( 1008): Shutting down VM
D/AndroidRuntime( 1006): Calling main entry com.android.commands.am.Am
D/dalvikvm( 1008): GC_CONCURRENT freed 98K, 81% free 492K/2560K, paused 1ms+0ms, total 19ms
D/AndroidRuntime( 1006): Shutting down VM
I/AndroidRuntime( 1006): NOTE: attach of thread 'Binder_2' failed
D/dalvikvm( 1006): GC_CONCURRENT freed 100K, 81% free 499K/2560K, paused 1ms+0ms, total 6ms
D/dalvikvm(  280): GC_CONCURRENT freed 510K, 24% free 8140K/10695K, paused 4ms+5ms, total 72ms
I/ActivityManager(  280): Displayed android/com.android.internal.app.ResolverActivity: +177ms
E/tiny_hw (  106): out_write(0x40d7c540) PCM(0) failed: -32
E/tiny_hw (  106): out_write(0x40d7c540) PCM(0) failed: -32
E/tiny_hw (  106): out_write(0x40d7c540) PCM(0) failed: -32
E/tiny_hw (  106): out_write(0x40d7c540) PCM(0) failed: -32
V/tiny_hw (  106): out_standby(0x40d7c540) closing PCM(0)`

build.xml: `<target name=""-package-resources"" depends=""-crunch"">
               <exec executable=""${aapt}"" failonerror=""true"">
                        <arg value=""package"" />
                        <arg value=""-f"" />
                        <arg value=""-M"" />
                        <arg path=""AndroidManifest.xml"" />
                        <arg value=""-A"" />
                        <arg path=""${asset.absolute.dir}"" />
                        <arg value=""-F"" />
                        <arg path=""${out.absolute.dir}/${resource.package.file.name}"" />
                        <arg value=""-I"" />
                        <arg path=""${android.jar}"" />
                        <arg value=""-S"" />
                        <arg path=""${resource.absolute.dir}"" />
                        <arg value=""-S"" />
                        <arg path=""${android.library.reference.1}/res"" />
                        <arg value=""--extra-packages"" />
                        <arg value=""com.koushikdutta.widgets"" />
                        <arg value=""--auto-add-overlay"" />
                        <arg value=""--rename-manifest-package"" />
                        <arg value=""org.gerry.superuser"" />
                </exec>
   </target>
`
"
koush/Superuser,closed,SU request dialog not working when su needs to be updated,[],"I updated SuperUser some hours ago. Jost now an app requested su and the dialogue popped on. Clicking Deny or Allow showed the Toast. SuperUser tried to return to the requesting app, but immediately popped back, asking again if I want to grant su access. I couldn't return to the app.

I had to manually open the Superuser app and then got a prompt that the binary is outdated.

I'm wondering if it's feasible to put this check in the su request dialogue.

Edit: I just noticed, that there was a notification that told me to update su, but I'm not sure when it came up since i didn't notice it.
"
koush/Superuser,closed,added pt br translation !,[],
koush/Superuser,closed,Hebrew Update,[],
koush/Superuser,closed,Update values-zh-rSG/strings.xml,[],"Minor tweak to string item ""disabled"".
"
koush/Superuser,closed,Update values-zh-rCN/strings.xml,[],"Minor tweak to string item ""disabled"".
"
koush/Superuser,closed,Get writable database instance not just a readable one,[],"since we call db.delete(); we should need a writable database instance not just a readable one.
"
koush/Superuser,closed,AOSP 4.2.2 for Mako fails to work,[],"I compiled Superuser in to the settings app on AOSP 4.2.2 for Mako (Nexus 4) and it's not working. I can `su` in ADB and get root, but nothing else can. The settings integration seemed to go fine, I don't get any force closes or anything. I cherry-picked patch set 5 from CM. 

Things I've done:
- Removed the default su app from the source tree as it causes a name conflict
- Added su as package to be included with the build
- Verified that the su binary works and is the one from this source and not some other project. I hex dumped it and found strings referenceing ""koush"" and ""com.android.settings"".

Not sure where to go with this, so I uploaded a logcat dump [here](http://n4.inhies.com/superuser.txt). Towards the end I opened Titanium Backup and let it try to get root, so there's something to look for. I can't really make sense of it, it's so noisy. 

If you need any more info just let me know, I love this app. Thanks.
"
koush/Superuser,closed,unable to update su binary,[],"I have SuperSU when I try to update su binary so that I can use superuser it fails to update su binary

here is the logcat http://pastebin.com/qPSN4VdP

I hope this will be fixed soon
"
koush/Superuser,closed,Denied to rom manager,[],"Superuser
"
koush/Superuser,closed,uninitialized variable?,[],"I just ran ""cppcheck"" on the code, and it found a potential problem:
[Superuser/jni/su/su.c:177]: (error) Uninitialized variable: mode

The relevant code is below. What I do not understand is:
the ""last"" variable.
It looks for me that way:
- because ""mode"" is uninitialized, ""last"" can have any value

Maybe ""mode"" should be initalized and / or be static.
(Otherwise I cannot image how could it have meaningful data at the line where ""strlen"" is used on it.)

It also would be nice somehow protect against buffer overrun.
Imagine that: ""mode"" is uninitialized, there is no '\0\ in the first 12 bytes, so the ' mode[last]=' will write out from the area.
So last<=11 would be a nice check also. 
(It could change to a fallback solution, if last>11.)

The relevant parts on the su.c file:

```
int ret = MULTIUSER_MODE_OWNER_ONLY;
char mode[12];
FILE *fp;
if ((fp = fopen(REQUESTOR_MULTIUSER_MODE, ""r""))) {
    int last = strlen(mode) - 1;
    if (mode[last] == '\n')
        mode[last] = '\0';
    fgets(mode, sizeof(mode), fp);
    if (strcmp(mode, MULTIUSER_VALUE_USER) == 0) {
        ret = MULTIUSER_MODE_USER;
    } else if (strcmp(mode, MULTIUSER_VALUE_OWNER_MANAGED) == 0) {
        ret = MULTIUSER_MODE_OWNER_MANAGED;
    }
    else {
        ret = MULTIUSER_MODE_OWNER_ONLY;
    }
    fclose(fp);
}
return ret;
```
"
koush/Superuser,closed,update Traditional Chinese translation,[],
koush/Superuser,closed,The two new rows translated to Swedish,[],
koush/Superuser,closed,Updated italian translation,[],
koush/Superuser,closed,Update Russian Translation,[],
koush/Superuser,closed,add japanese language,[],
koush/Superuser,closed,Update strings.xml,[],"Sync with latest English plus fine tune.
"
koush/Superuser,closed,Update strings.xml,[],"Sync with latest English plus fine tune.
"
koush/Superuser,closed,Update spanish translation,[],
koush/Superuser,closed,"Compile Issues, something in strings I'm assuming",[],"Here's the gist for it... hopefully this helps bro....

https://gist.github.com/itsmikeramsay/5083285
"
koush/Superuser,closed,Russian fixes,[],
koush/Superuser,closed,Hebrew Update,[],
koush/Superuser,closed,Updated and tweaked italian translation,[],
koush/Superuser,closed,Updated romanian translation,[],
koush/Superuser,closed,update Traditional Chinese translation,[],
koush/Superuser,closed,Update spanish translation,[],"Add new strings
"
koush/Superuser,closed,Update korean translation,[],
koush/Superuser,closed,Update strings.xml,[],"Append new strings appear in ver 1.0.0.7
"
koush/Superuser,closed,Update strings.xml,[],"Append new strings appear in ver 1.0.0.7
"
koush/Superuser,closed,Applist not updated.,[],"Start Superuser, Applist contains some apps that have been granted su permission.
Press Home Button.
Launch another app thats not yet on the granted list, confirm Superuser request (permanently).
Press Home Button.
Start Superuser via Recent Apps List - the new App is not there yet.
Swipe away Superuser from the recent Apps List, start Superuser.
Now the List contains the new App.

Reproduced this several times by clearing all granted Apps.

Superuser 1.0.0.7
Nexus 4, JDQ39
"
koush/Superuser,closed,White screen on first confirmation after installing.,[],"Just flashed superuser.zip. After booting I started Superuser once to check that the process worked (coming from SuperSU).

Then I started Titanuim Backup and got a white screen (Superuser Actionbar visible, there was a short glimpse of the actual confirmation screen but it immediatly turned white).

After pressing Back and restarting Titanium all went as expected, got the Superuser confirmation screen showing up.
"
koush/Superuser,closed,Update strings.xml,[],"update chinese translation
"
koush/Superuser,closed,Updated Danish.,[],
koush/Superuser,closed,Recovery update fails 1.0.0.6 -> 1.0.0.7,[],"maguro stock yakju.

Reboots into recovery, and ends up with the sad lying android with red exclamation mark.

power+vol up 

shows checking signature, installation aborted.

1.0.0.6 was installed using recovery zip.
"
koush/Superuser,closed,Swedish translation for superuser access block,[],
koush/Superuser,closed,Update Russian localization,[],
koush/Superuser,closed,Update Russian localization,[],
koush/Superuser,closed,Simplified Chinese translation,[],
koush/Superuser,closed,I think the chinese translation may have the extra backslash as well. ,[],"But I'll leave it to someone who actually understand the text:

.//Superuser/res/values-zh/strings.xml:    <string name=""install_superuser_info"">超級使用者的二進制檔案（su）一定要更新\n\n請選擇安裝方法\n\HTC 設備建議選擇回復模式（Recovery）的安裝方法</string>
.//Superuser/res/values-zh-rHK/strings.xml:    <string name=""install_superuser_info"">超級使用者的二進制檔案（su）一定要更新\n\n請選擇安裝方法\n\HTC 設備建議選擇回復模式（Recovery）的安裝方法</string>
.//Superuser/res/values-zh-rTW/strings.xml:    <string name=""install_superuser_info"">超級使用者的二進制檔案（su）一定要更新\n\n請選擇安裝方法\n\HTC 設備建議選擇回復模式（Recovery）的安裝方法</string>
"
koush/Superuser,closed,Extra backslash removed. ,[],
koush/Superuser,closed,Update some russian typos,[],
koush/Superuser,closed,Double log icons in action bar,[],"In 1.0.0.6.

Start superuser. Press home. Start again. Select a granted app. Now I have two icons for log and no trash icon in the action bar. 
"
koush/Superuser,closed,fix Traditional Chinese translation,[],
koush/Superuser,closed,Add Vietnamese translation,[],"I've added Vietnamese translation for Superuser. Thank you.
"
koush/Superuser,closed,Fix spanish translation,[],
koush/Superuser,closed,Added missing translations in Danish,[],
koush/Superuser,closed,Add Traditional Chinese translation,[],
koush/Superuser,closed,Updated italian translation,[],
koush/Superuser,closed,Install on Superuser-8.apk fails on maguro (unrooted),[],"Is it supposed to support an unrooted device with the beta installed? If not supported, a better error message should be given.

I start the app and it wants to update the su binary. Choose recovery.

adb logcat:

I/ActivityManager(  393): START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.koushikdutta.superuser/.MainActivity bnds=[360,567][360,567]} from pid 718
I/ActivityManager(  393): Start proc com.koushikdutta.superuser for activity com.koushikdutta.superuser/.MainActivity: pid=2234 uid=10137 gids={50137, 1028}
W/System.err( 2234):    at com.koushikdutta.superuser.MainActivity.checkSu(MainActivity.java:227)
W/System.err( 2234):    at com.koushikdutta.superuser.MainActivity$6.run(MainActivity.java:252)
I/ActivityManager(  393): Displayed com.koushikdutta.superuser/.MainActivity: +852ms
W/System.err( 2234):    at com.koushikdutta.superuser.MainActivity$2.run(MainActivity.java:123)
"
koush/Superuser,closed,Add a compiled app or recovery zip,[],"or either please  help me understand how to compile it (if possible) in windows?
"
koush/Superuser,closed,Russian fixes,[],
koush/Superuser,closed,Removed extra backslash ,[],
koush/Superuser,closed,Extra backslash removed. ,[],
koush/Superuser,closed,Italian Traslation,[],
koush/Superuser,closed,Log button still being shown in the log screen,[],"The log button continues in the action bar when you are seeing the logs
![Screenshot_2013-03-03-14-51-05](https://f.cloud.github.com/assets/569353/214291/d7ce12a8-8409-11e2-95b0-d992033e1395.png)
"
koush/Superuser,closed,Update spanish translation,[],
koush/Superuser,closed,Swedish translation update + typo fix,[],"Added installation texts
"
koush/Superuser,closed,Missing translations,[],"Please, merge to your project. Thanks.
"
koush/Superuser,closed,Swedish translation update,[],"Added the new rows.
"
koush/Superuser,closed,Update Russian localization,[],
koush/Superuser,closed,Update & fix spanish translations,[],"@Koushik, some spanish translations corrected. Thanks for your attention and your great job.
"
koush/Superuser,closed,Update korean translation,[],
koush/Superuser,closed,Update spanish translation,[],"Fix some typos and concepts
"
koush/Superuser,closed,"Err, one more time",[],
koush/Superuser,closed,Fixed a typo.,[],"Stupid Danish.. Should be the last fix.
"
koush/Superuser,closed,Fixed Russian localization,[],"One more time
"
koush/Superuser,closed,Feature request: Make Holo Dark selectable in the main menu.,[],"Right now the app is set to Holo Light and before it was using Holo Dark, which looks much better IMHO. 

Could you please make a toggle in the GUI between the two?
"
koush/Superuser,closed,Add Finnish translation,[],"Partly a bit clumsy but will do for now.
"
koush/Superuser,closed,Update korean translation,[],
koush/Superuser,closed,Update Hebrew translation,[],
koush/Superuser,closed,Updated romanian translation,[],
koush/Superuser,closed,International Spanish Fix Superuser,[],"# Spanish Patch Superuser

Change some words to more common Spanish(easier for folks all around the world who use different terminology). 
Corrected some issues with tense selection. 
A fixed an error in grammar where it may have suggested that the App guarantee root access instead of aid in root access.

Theoretically this should now be closer to the actual English version of the app.
"
koush/Superuser,closed,PIN-protection dialog doesn't pop up,[],"I just built from Git and installed on Galaxy Nexus Stock 4.2.2.

All settings seem to work except PIN-protection. Nothing happens when I click the option. Logcat doesn't show anything.

Am I missing something?
"
koush/Superuser,closed,Fixed a few typos,[],
koush/Superuser,closed,Swedish translation,[],"Initial Swedish translation.
"
koush/Superuser,closed,Main Screen does not report approved apps when PIN protection is enabled,[],"Superuser does not save details of any app approved while pin protection is enabled. Logging is not affected. 
"
koush/Superuser,closed,Danish translation,[],"Might change some things if I come up with a better translation
"
koush/Superuser,closed,Spanish Translation by ed10vi,[],
koush/Superuser,closed,German translation by bobquentok,[],
koush/Superuser,closed,Update Russian localization,[],
koush/Superuser,closed,toast had the wrong string,[],"Small changes for german translation
"
koush/Superuser,closed,Improve German translation and translatability.,[],
koush/Superuser,closed,"AndroidManifest to use the ""signature"" protection",[],"Updated the available permissions of REQUEST_SUPERUSER and REPORT_SUPERUSER to ""signature"" rather than ""signatureOrSystem"" since it is more strict and wouldn't allow access by other (unknown and possibly malicious) system apps.
"
koush/Superuser,closed,Close the DataInputStream after it is done reading the into the buffer.,[],"Around line 233 the DataInputStream was not closed.
"
koush/Superuser,closed,added possibility to change ndk-executable,[],"In order to be able to build on windows ndk-build must be changed to ndk-build.cmd. Easiest would be to add  a build property and use local.properties to set ndk.executable in order to build on windows. Default stays as is using project.properties.
"
koush/Superuser,closed,Added German translation last part,[],"added german translation only in strings.xml
"
koush/Superuser,closed,Added German translation part1,[],"Added German translation part1
"
koush/Superuser,closed,FC with latest git version,[],"I built from source (including latest commit 6b8c7a16a2)  and got an FC:

I/ActivityManager(  389): START u0 {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.koushikdutta.superuser/.MainActivity bnds=[190,850][360,1050]} from pid 711
I/ActivityManager(  389): Start proc com.koushikdutta.superuser for activity com.koushikdutta.superuser/.MainActivity: pid=2595 uid=10143 gids={50143, 1028}
E/AndroidRuntime( 2595): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.koushikdutta.superuser/com.koushikdutta.superuser.MainActivity}: android.content.res.Resources$NotFoundException: String resource ID #0x7f060014
E/AndroidRuntime( 2595):    at com.koushikdutta.superuser.MainActivity.onCreate(MainActivity.java:72)
W/ActivityManager(  389):   Force finishing activity com.koushikdutta.superuser/.MainActivity
W/ActivityManager(  389): Activity pause timeout for ActivityRecord{426c9a08 u0 com.koushikdutta.superuser/.MainActivity}
I/ActivityManager(  389): Process com.koushikdutta.superuser (pid 2595) has died
"
koush/Superuser,closed,Use TextUitls.isEmpty() in the digest method,[],"I know this is not a big change but I was just getting my repo working and thought to push something simple to make sure it worked.
"
koush/Superuser,closed,This is initial translation for romanian language,[],
koush/Superuser,closed,Russian translation,[],
koush/Superuser,closed,Lowercase Deny in string.,[],"Deny isn't a proper noun.  Drop it to ""deny"" in mid sentence.
"
koush/Superuser,closed,"""Remember"" doesn't work when pin protected",[],"When an app doesn't have the permission to use SU, it pops up the window asking if you want to allow, and it gives the options ""just once, for 10 minutes, or forever"". This works fine until you use pin protection.

As soon as I enabled pin protection, it would pop-up this dialog every time an app requested SU access, even if I've already added it to the ""forever"" list. (This was especially annoying when using an app to backup my apps and their data.)

Issue occurred on a Nexus 10, running 4.2.2 stock.
"
koush/Superuser,closed,Add license,[],"Thanks for creating another amazing app! :)
What license does this code have?
"
koush/Superuser,closed,Receiver: Set toast to content text not title,[],"Currently the notification toast runs over the borders of the notification. Can barely see what app requested superuser. 
http://i.imgur.com/OFXpWHg.png

So, set the toast as the content text and leave app_name for notification title.
"
koush/Superuser,closed,French translation,[],"changes only in strings.xml, 2 other files are same as English source.
"
koush/Superuser,closed,Duplicate #include,[],"In su.c there is a duplicate:
# include pwd.h>

Not sure if this is a real issue or not, but I noticed it while skimming the code.
"
koush/Superuser,closed,gen added to gitignore and gen folder removed ,[],
